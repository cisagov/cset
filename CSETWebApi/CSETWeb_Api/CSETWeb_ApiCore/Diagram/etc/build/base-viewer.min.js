window.STENCIL_PATH=window.STENCIL_PATH||"http://localhost:31279/webapp/stencils";window.SHAPES_PATH=window.SHAPES_PATH||"http://localhost:31279/webapp/shapes";window.mxBasePath=window.mxBasePath||"http://localhost:31279/webapp/mxgraph/";window.mxLoadStylesheets=window.mxLoadStylesheets||!1;
//fgnass.github.com/spin.js#v2.0.0
!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();{var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});d.radius+d.length+d.width}if(b&&(b.insertBefore(f,b.firstChild||null),e(f,{left:d.left,top:d.top})),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*n)%l*m,d.opacity),c.opacity(f,a*d.direction+i,g,d);c.timeout=c.el&&setTimeout(o,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h});
// NOTE: Modified to support data URIs for images, ie. data:image/*
// Modified to allow "word-break: break-word" in styles. It is done by adding "break-word" which is at index 55 of J array J[55] to "cssLitGroup" of "word-break"
(function(){var c=void 0,n=!0,s=null,C=!1,J=["aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,snow,springgreen,steelblue,tan,teal,thistle,tomato,transparent,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen".split(","),
"all-scroll,col-resize,crosshair,default,e-resize,hand,help,move,n-resize,ne-resize,no-drop,not-allowed,nw-resize,pointer,progress,row-resize,s-resize,se-resize,sw-resize,text,vertical-text,w-resize,wait".split(","),"armenian,decimal,decimal-leading-zero,disc,georgian,lower-alpha,lower-greek,lower-latin,lower-roman,square,upper-alpha,upper-latin,upper-roman".split(","),"100,200,300,400,500,600,700,800,900,bold,bolder,lighter".split(","),"block-level,inline-level,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row,table-row-group".split(","),
"condensed,expanded,extra-condensed,extra-expanded,narrower,semi-condensed,semi-expanded,ultra-condensed,ultra-expanded,wider".split(","),"inherit,inline,inline-block,inline-box,inline-flex,inline-grid,inline-list-item,inline-stack,inline-table,run-in".split(","),"behind,center-left,center-right,far-left,far-right,left-side,leftwards,right-side,rightwards".split(","),"large,larger,small,smaller,x-large,x-small,xx-large,xx-small".split(","),"dashed,dotted,double,groove,outset,ridge,solid".split(","),
"ease,ease-in,ease-in-out,ease-out,linear,step-end,step-start".split(","),"at,closest-corner,closest-side,ellipse,farthest-corner,farthest-side".split(","),"baseline,middle,sub,super,text-bottom,text-top".split(","),"caption,icon,menu,message-box,small-caption,status-bar".split(","),"fast,faster,slow,slower,x-fast,x-slow".split(","),["above","below","higher","level","lower"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y",
"round","space"],["blink","line-through","overline","underline"],["block","flex","grid","table"],["high","low","x-high","x-low"],["nowrap","pre","pre-line","pre-wrap"],["absolute","relative","static"],["alternate","alternate-reverse","reverse"],["border-box","content-box","padding-box"],["capitalize","lowercase","uppercase"],["child","female","male"],["=","opacity"],["backwards","forwards"],["bidi-override","embed"],["bottom","top"],["break-all","keep-all"],["clip","ellipsis"],["contain","cover"],
["continuous","digits"],["end","start"],["flat","preserve-3d"],["hide","show"],["horizontal","vertical"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["paused","running"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["all"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["circle"],["code"],["collapse"],["contents"],["fixed"],["hidden"],["infinite"],["inset"],["invert"],["justify"],["list-item"],["local"],["medium"],
["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["to"],["visible"]],L={animation:{cssPropBits:517,cssLitGroup:[J[10],J[24],J[29],J[45],J[48],J[54],J[63],J[71],J[72]],cssFns:["cubic-bezier()","steps()"]},"animation-delay":{cssPropBits:5,cssLitGroup:[J[48]],cssFns:[]},"animation-direction":{cssPropBits:0,cssLitGroup:[J[24],J[48],J[72]],cssFns:[]},"animation-duration":"animation-delay","animation-fill-mode":{cssPropBits:0,cssLitGroup:[J[29],J[48],
J[54],J[71]],cssFns:[]},"animation-iteration-count":{cssPropBits:5,cssLitGroup:[J[48],J[63]],cssFns:[]},"animation-name":{cssPropBits:512,cssLitGroup:[J[48],J[71]],cssFns:[]},"animation-play-state":{cssPropBits:0,cssLitGroup:[J[45],J[48]],cssFns:[]},"animation-timing-function":{cssPropBits:0,cssLitGroup:[J[10],J[48]],cssFns:["cubic-bezier()","steps()"]},appearance:{cssPropBits:0,cssLitGroup:[J[71]],cssFns:[]},azimuth:{cssPropBits:5,cssLitGroup:[J[7],J[42],J[56]],cssFns:[]},"backface-visibility":{cssPropBits:0,
cssLitGroup:[J[59],J[62],J[80]],cssFns:[]},background:{cssPropBits:23,cssLitGroup:[J[0],J[18],J[25],J[31],J[34],J[42],J[48],J[49],J[52],J[56],J[61],J[68],J[71],J[74],J[75]],cssFns:"image(),linear-gradient(),radial-gradient(),repeating-linear-gradient(),repeating-radial-gradient(),rgb(),rgba()".split(",")},"background-attachment":{cssPropBits:0,cssLitGroup:[J[48],J[61],J[68],J[75]],cssFns:[]},"background-color":{cssPropBits:2,cssLitGroup:[J[0]],cssFns:["rgb()","rgba()"]},"background-image":{cssPropBits:16,
cssLitGroup:[J[48],J[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"background-position":{cssPropBits:5,cssLitGroup:[J[31],J[42],J[48],J[56]],cssFns:[]},"background-repeat":{cssPropBits:0,cssLitGroup:[J[18],J[48],J[74]],cssFns:[]},"background-size":{cssPropBits:5,cssLitGroup:[J[34],J[48],J[52]],cssFns:[]},border:{cssPropBits:7,cssLitGroup:[J[0],J[9],J[47],J[62],J[64],J[69],J[71]],cssFns:["rgb()","rgba()"]},"border-bottom":"border",
"border-bottom-color":"background-color","border-bottom-left-radius":{cssPropBits:5,cssFns:[]},"border-bottom-right-radius":"border-bottom-left-radius","border-bottom-style":{cssPropBits:0,cssLitGroup:[J[9],J[62],J[64],J[71]],cssFns:[]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[J[47],J[69]],cssFns:[]},"border-collapse":{cssPropBits:0,cssLitGroup:[J[59],J[76]],cssFns:[]},"border-color":"background-color","border-left":"border","border-left-color":"background-color","border-left-style":"border-bottom-style",
"border-left-width":"border-bottom-width","border-radius":{cssPropBits:5,cssLitGroup:[J[49]],cssFns:[]},"border-right":"border","border-right-color":"background-color","border-right-style":"border-bottom-style","border-right-width":"border-bottom-width","border-spacing":"border-bottom-left-radius","border-style":"border-bottom-style","border-top":"border","border-top-color":"background-color","border-top-left-radius":"border-bottom-left-radius","border-top-right-radius":"border-bottom-left-radius",
"border-top-style":"border-bottom-style","border-top-width":"border-bottom-width","border-width":"border-bottom-width",bottom:{cssPropBits:5,cssLitGroup:[J[52]],cssFns:[]},box:{cssPropBits:0,cssLitGroup:[J[60],J[71],J[72]],cssFns:[]},"box-shadow":{cssPropBits:7,cssLitGroup:[J[0],J[48],J[64],J[71]],cssFns:["rgb()","rgba()"]},"box-sizing":{cssPropBits:0,cssLitGroup:[J[25]],cssFns:[]},"caption-side":{cssPropBits:0,cssLitGroup:[J[31]],cssFns:[]},clear:{cssPropBits:0,cssLitGroup:[J[42],J[54],J[71]],cssFns:[]},
clip:{cssPropBits:0,cssLitGroup:[J[52]],cssFns:["rect()"]},color:"background-color",content:{cssPropBits:8,cssLitGroup:[J[71],J[72]],cssFns:[]},cue:{cssPropBits:16,cssLitGroup:[J[71]],cssFns:[]},"cue-after":"cue","cue-before":"cue",cursor:{cssPropBits:16,cssLitGroup:[J[1],J[48],J[52]],cssFns:[]},direction:{cssPropBits:0,cssLitGroup:[J[43]],cssFns:[]},display:{cssPropBits:0,cssLitGroup:[J[4],J[6],J[20],J[52],J[67],J[71]],cssFns:[]},"display-extras":{cssPropBits:0,cssLitGroup:[J[67],J[71]],cssFns:[]},
"display-inside":{cssPropBits:0,cssLitGroup:[J[20],J[52]],cssFns:[]},"display-outside":{cssPropBits:0,cssLitGroup:[J[4],J[71]],cssFns:[]},elevation:{cssPropBits:5,cssLitGroup:[J[15]],cssFns:[]},"empty-cells":{cssPropBits:0,cssLitGroup:[J[38]],cssFns:[]},filter:{cssPropBits:0,cssFns:["alpha()"]},"float":{cssPropBits:0,cssLitGroup:[J[42],J[71]],cssFns:[]},font:{cssPropBits:73,cssLitGroup:[J[3],J[8],J[13],J[16],J[41],J[48],J[49],J[69],J[72],J[77]],cssFns:[]},"font-family":{cssPropBits:72,cssLitGroup:[J[16],
J[48]],cssFns:[]},"font-size":{cssPropBits:1,cssLitGroup:[J[8],J[69]],cssFns:[]},"font-stretch":{cssPropBits:0,cssLitGroup:[J[5],J[72]],cssFns:[]},"font-style":{cssPropBits:0,cssLitGroup:[J[41],J[72]],cssFns:[]},"font-variant":{cssPropBits:0,cssLitGroup:[J[72],J[77]],cssFns:[]},"font-weight":{cssPropBits:0,cssLitGroup:[J[3],J[72]],cssFns:[]},height:"bottom",left:"bottom","letter-spacing":{cssPropBits:5,cssLitGroup:[J[72]],cssFns:[]},"line-height":{cssPropBits:1,cssLitGroup:[J[72]],cssFns:[]},"list-style":{cssPropBits:16,
cssLitGroup:[J[2],J[40],J[57],J[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-image":{cssPropBits:16,cssLitGroup:[J[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-position":{cssPropBits:0,cssLitGroup:[J[40]],cssFns:[]},"list-style-type":{cssPropBits:0,cssLitGroup:[J[2],J[57],J[71]],cssFns:[]},margin:"bottom","margin-bottom":"bottom",
"margin-left":"bottom","margin-right":"bottom","margin-top":"bottom","max-height":{cssPropBits:1,cssLitGroup:[J[52],J[71]],cssFns:[]},"max-width":"max-height","min-height":{cssPropBits:1,cssLitGroup:[J[52]],cssFns:[]},"min-width":"min-height",opacity:{cssPropBits:1,cssFns:[]},outline:{cssPropBits:7,cssLitGroup:[J[0],J[9],J[47],J[62],J[64],J[65],J[69],J[71]],cssFns:["rgb()","rgba()"]},"outline-color":{cssPropBits:2,cssLitGroup:[J[0],J[65]],cssFns:["rgb()","rgba()"]},"outline-style":"border-bottom-style",
"outline-width":"border-bottom-width",overflow:{cssPropBits:0,cssLitGroup:[J[52],J[62],J[75],J[80]],cssFns:[]},"overflow-wrap":{cssPropBits:0,cssLitGroup:[J[55],J[72]],cssFns:[]},"overflow-x":{cssPropBits:0,cssLitGroup:[J[44],J[52],J[62],J[75],J[80]],cssFns:[]},"overflow-y":"overflow-x",padding:"opacity","padding-bottom":"opacity","padding-left":"opacity","padding-right":"opacity","padding-top":"opacity","page-break-after":{cssPropBits:0,cssLitGroup:[J[42],J[51],J[52],J[53]],cssFns:[]},"page-break-before":"page-break-after",
"page-break-inside":{cssPropBits:0,cssLitGroup:[J[52],J[53]],cssFns:[]},pause:"border-bottom-left-radius","pause-after":"border-bottom-left-radius","pause-before":"border-bottom-left-radius",perspective:{cssPropBits:5,cssLitGroup:[J[71]],cssFns:[]},"perspective-origin":{cssPropBits:5,cssLitGroup:[J[31],J[42],J[56]],cssFns:[]},pitch:{cssPropBits:5,cssLitGroup:[J[21],J[69]],cssFns:[]},"pitch-range":"border-bottom-left-radius","play-during":{cssPropBits:16,cssLitGroup:[J[52],J[70],J[71],J[74]],cssFns:[]},
position:{cssPropBits:0,cssLitGroup:[J[23]],cssFns:[]},quotes:{cssPropBits:8,cssLitGroup:[J[71]],cssFns:[]},resize:{cssPropBits:0,cssLitGroup:[J[39],J[54],J[71]],cssFns:[]},richness:"border-bottom-left-radius",right:"bottom",speak:{cssPropBits:0,cssLitGroup:[J[71],J[72],J[78]],cssFns:[]},"speak-header":{cssPropBits:0,cssLitGroup:[J[51],J[73]],cssFns:[]},"speak-numeral":{cssPropBits:0,cssLitGroup:[J[35]],cssFns:[]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[J[58],J[71]],cssFns:[]},"speech-rate":{cssPropBits:5,
cssLitGroup:[J[14],J[69]],cssFns:[]},stress:"border-bottom-left-radius","table-layout":{cssPropBits:0,cssLitGroup:[J[52],J[61]],cssFns:[]},"text-align":{cssPropBits:0,cssLitGroup:[J[42],J[56],J[66]],cssFns:[]},"text-decoration":{cssPropBits:0,cssLitGroup:[J[19],J[71]],cssFns:[]},"text-indent":"border-bottom-left-radius","text-overflow":{cssPropBits:8,cssLitGroup:[J[33]],cssFns:[]},"text-shadow":"box-shadow","text-transform":{cssPropBits:0,cssLitGroup:[J[26],J[71]],cssFns:[]},"text-wrap":{cssPropBits:0,
cssLitGroup:[J[46],J[71],J[72]],cssFns:[]},top:"bottom",transform:{cssPropBits:0,cssLitGroup:[J[71]],cssFns:"matrix(),perspective(),rotate(),rotate3d(),rotatex(),rotatey(),rotatez(),scale(),scale3d(),scalex(),scaley(),scalez(),skew(),skewx(),skewy(),translate(),translate3d(),translatex(),translatey(),translatez()".split(",")},"transform-origin":"perspective-origin","transform-style":{cssPropBits:0,cssLitGroup:[J[37]],cssFns:[]},transition:{cssPropBits:1029,cssLitGroup:[J[10],J[48],J[50],J[71]],cssFns:["cubic-bezier()",
"steps()"]},"transition-delay":"animation-delay","transition-duration":"animation-delay","transition-property":{cssPropBits:1024,cssLitGroup:[J[48],J[50]],cssFns:[]},"transition-timing-function":"animation-timing-function","unicode-bidi":{cssPropBits:0,cssLitGroup:[J[30],J[72]],cssFns:[]},"vertical-align":{cssPropBits:5,cssLitGroup:[J[12],J[31]],cssFns:[]},visibility:"backface-visibility","voice-family":{cssPropBits:8,cssLitGroup:[J[27],J[48]],cssFns:[]},volume:{cssPropBits:1,cssLitGroup:[J[17],J[69]],
cssFns:[]},"white-space":{cssPropBits:0,cssLitGroup:[J[22],J[72]],cssFns:[]},width:"min-height","word-break":{cssPropBits:0,cssLitGroup:[J[32],J[72],J[55]],cssFns:[]},"word-spacing":"letter-spacing","word-wrap":"overflow-wrap","z-index":"bottom",zoom:"line-height","cubic-bezier()":"animation-delay","steps()":{cssPropBits:5,cssLitGroup:[J[36],J[48]],cssFns:[]},"image()":{cssPropBits:18,cssLitGroup:[J[0],J[48]],cssFns:["rgb()","rgba()"]},"linear-gradient()":{cssPropBits:7,cssLitGroup:[J[0],J[31],J[42],J[48],
J[79]],cssFns:["rgb()","rgba()"]},"radial-gradient()":{cssPropBits:7,cssLitGroup:[J[0],J[11],J[31],J[42],J[48],J[56],J[57]],cssFns:["rgb()","rgba()"]},"repeating-linear-gradient()":"linear-gradient()","repeating-radial-gradient()":"radial-gradient()","rgb()":{cssPropBits:1,cssLitGroup:[J[48]],cssFns:[]},"rgba()":"rgb()","rect()":{cssPropBits:5,cssLitGroup:[J[48],J[52]],cssFns:[]},"alpha()":{cssPropBits:1,cssLitGroup:[J[28]],cssFns:[]},"matrix()":"animation-delay","perspective()":"border-bottom-left-radius",
"rotate()":"border-bottom-left-radius","rotate3d()":"animation-delay","rotatex()":"border-bottom-left-radius","rotatey()":"border-bottom-left-radius","rotatez()":"border-bottom-left-radius","scale()":"animation-delay","scale3d()":"animation-delay","scalex()":"border-bottom-left-radius","scaley()":"border-bottom-left-radius","scalez()":"border-bottom-left-radius","skew()":"animation-delay","skewx()":"border-bottom-left-radius","skewy()":"border-bottom-left-radius","translate()":"animation-delay","translate3d()":"animation-delay",
"translatex()":"border-bottom-left-radius","translatey()":"border-bottom-left-radius","translatez()":"border-bottom-left-radius"},O;for(O in L)"string"===typeof L[O]&&Object.hasOwnProperty.call(L,O)&&(L[O]=L[L[O]]);"undefined"!==typeof window&&(window.cssSchema=L);var U,X;
(function(){function g(a){var f=parseInt(a.substring(1),16);return 65535<f?(f-=65536,String.fromCharCode(55296+(f>>10),56320+(f&1023))):f==f?String.fromCharCode(f):" ">a[1]?"":a[1]}function w(a,f){return'"'+a.replace(/[\u0000-\u001f\\\"<>]/g,f)+'"'}function M(a){return E[a]||(E[a]="\\"+a.charCodeAt(0).toString(16)+" ")}function x(a){return e[a]||(e[a]=("\u0010">a?"%0":"%")+a.charCodeAt(0).toString(16))}var E={"\\":"\\\\"},e={"\\":"%5c"},v=RegExp("\\uFEFF|U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?|url[(][\\t\\n\\f ]*(?:\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)[\\t\\n\\f ]*[)]|(?!url[(])-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*[(]|(?:@?-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))|#)(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*|\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)(?:%|-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)?|<\!--|--\>|[\\t\\n\\f ]+|/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)|[~|^$*]=|[^\"'\\\\/]|/(?![/*])","gi"),
b=RegExp("\\\\(?:(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff])|[\\n\\f])","g"),a=RegExp("^url\\([\\t\\n\\f ]*[\"']?|[\"']?[\\t\\n\\f ]*\\)$","gi");X=function(a){return a.replace(b,g)};U=function(b){for(var b=(""+b).replace(/\r\n?/g,"\n").match(v)||[],f=0,h=" ",d=0,y=b.length;d<y;++d){var l=X(b[d]),V=l.length,g=l.charCodeAt(0),l=34==g||39==g?w(l.substring(1,V-1),M):47==g&&1<V||"\\"==l||"--\>"==l||"<\!--"==l||"\ufeff"==l||32>=g?" ":
/url\(/i.test(l)?"url("+w(l.replace(a,""),x)+")":l;if(h!=l||" "!=l)b[f++]=h=l}b.length=f;return b}})();"undefined"!==typeof window&&(window.lexCss=U,window.decodeCss=X);var Y=function(){function g(d){d=(""+d).match(k);return!d?s:new e(v(d[1]),v(d[2]),v(d[3]),v(d[4]),v(d[5]),v(d[6]),v(d[7]))}function w(d,a){return"string"==typeof d?encodeURI(d).replace(a,M):s}function M(d){d=d.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(d>>4&15)+"0123456789ABCDEF".charAt(d&15)}function x(d){if(d===s)return s;for(var d=d.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/"),a=b,h;(h=d.replace(a,"$1"))!=d;d=h);return d}function E(d,h){var b=d.T(),f=h.K();f?b.ga(h.j):f=h.X();
f?b.da(h.n):f=h.Y();f?b.ea(h.k):f=h.$();var g=h.g,k=x(g);if(f)b.ca(h.V()),k=k&&k.replace(a,"");else if(f=!!g){if(47!==k.charCodeAt(0))var k=x(b.g||"").replace(a,""),e=k.lastIndexOf("/")+1,k=x((e?k.substring(0,e):"")+x(g)).replace(a,"")}else k=k&&k.replace(a,""),k!==g&&b.G(k);f?b.G(k):f=h.aa();f?b.O(h.l):f=h.Z();f&&b.fa(h.o);return b}function e(d,a,h,f,b,g,k){this.j=d;this.n=a;this.k=h;this.h=f;this.g=b;this.l=g;this.o=k}function v(d){return"string"==typeof d&&0<d.length?d:s}var b=RegExp(/(\/|^)(?:[^./][^/]*|\.{2,}(?:[^./][^/]*)|\.{3,}[^/]*)\/\.\.(?:\/|$)/),
a=/^(?:\.\.\/)*(?:\.\.$)?/;e.prototype.toString=function(){var d=[];s!==this.j&&d.push(this.j,":");s!==this.k&&(d.push("//"),s!==this.n&&d.push(this.n,"@"),d.push(this.k),s!==this.h&&d.push(":",this.h.toString()));s!==this.g&&d.push(this.g);s!==this.l&&d.push("?",this.l);s!==this.o&&d.push("#",this.o);return d.join("")};e.prototype.T=function(){return new e(this.j,this.n,this.k,this.h,this.g,this.l,this.o)};e.prototype.W=function(){return this.j&&decodeURIComponent(this.j).toLowerCase()};e.prototype.ga=
function(d){this.j=d?d:s};e.prototype.K=function(){return s!==this.j};e.prototype.da=function(d){this.n=d?d:s};e.prototype.X=function(){return s!==this.n};e.prototype.ea=function(d){this.k=d?d:s;this.G(this.g)};e.prototype.Y=function(){return s!==this.k};e.prototype.V=function(){return this.h&&decodeURIComponent(this.h)};e.prototype.ca=function(d){if(d){d=Number(d);if(d!==(d&65535))throw Error("Bad port number "+d);this.h=""+d}else this.h=s};e.prototype.$=function(){return s!==this.h};e.prototype.U=
function(){return this.g&&decodeURIComponent(this.g)};e.prototype.G=function(d){d?(d=""+d,this.g=!this.k||/^\//.test(d)?d:"/"+d):this.g=s};e.prototype.O=function(d){this.l=d?d:s};e.prototype.aa=function(){return s!==this.l};e.prototype.ba=function(d){if("object"===typeof d&&!(d instanceof Array)&&(d instanceof Object||"[object Array]"!==Object.prototype.toString.call(d))){var a=[],h=-1,f;for(f in d){var b=d[f];"string"===typeof b&&(a[++h]=f,a[++h]=b)}d=a}for(var a=[],h="",g=0;g<d.length;)f=d[g++],
b=d[g++],a.push(h,encodeURIComponent(f.toString())),h="&",b&&a.push("=",encodeURIComponent(b.toString()));this.l=a.join("")};e.prototype.fa=function(d){this.o=d?d:s};e.prototype.Z=function(){return s!==this.o};var k=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,f=/[#\/\?@]/g,h=/[\#\?]/g;e.parse=g;e.create=function(d,a,b,g,k,Q,N){d=new e(w(d,f),w(a,f),"string"==typeof b?encodeURIComponent(b):s,0<g?g.toString():s,w(k,h),s,"string"==typeof N?encodeURIComponent(N):
s);Q&&("string"===typeof Q?d.O(Q.replace(/[^?&=0-9A-Za-z_\-~.%]/g,M)):d.ba(Q));return d};e.N=E;e.ma=x;e.ha={ua:function(d){return/\.html$/.test(g(d).U())?"text/html":"application/javascript"},N:function(d,a){return d?E(g(d),g(a)).toString():""+a}};return e}();"undefined"!==typeof window&&(window.URI=Y);var aa=c,ba=c,da=c,Z=c;
(function(){function g(a){return"string"===typeof a?'url("'+a.replace(e,w)+'")':'url("about:blank")'}function w(a){return v[a]}function M(a,d){return a?Y.ha.N(a,d):d}function x(h,d,f){if(!f)return s;var g=(""+h).match(b);return g&&(!g[1]||a.test(g[1]))?f(h,d):s}function E(a){return a.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/,"")}var e=/[\n\f\r\"\'()*<>]/g,v={"\n":"%0a","\u000c":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},
b=/^(?:([^:/?# ]+):)?/,a=/^(?:https?|mailto|data)$/i;aa=function(){var a={};return function y(f,b,k,e,N){var f=E(f),u=L[f];if(!u||"object"!==typeof u)b.length=0;else{for(var i=u.cssPropBits,q=i&80,B=i&1536,F=NaN,r=0,o=0;r<b.length;++r){var j=b[r].toLowerCase(),I=j.charCodeAt(0),R,v,P,S,D,w;if(32===I)j="";else if(34===I)j=16===q?k?g(x(M(e,X(b[r].substring(1,j.length-1))),f,k)):"":i&8&&!(q&q-1)?j:"";else if("inherit"!==j){if(D=u.cssLitGroup){var G;if(!(G=u.cssLitMap)){G={};for(var K=D.length;0<=--K;)for(var A=
D[K],T=A.length;0<=--T;)G[A[T]]=a;G=u.cssLitMap=G}D=G}else D=a;if(!(w=D,w[E(j)]===a))if(35===I&&/^#(?:[0-9a-f]{3}){1,2}$/.test(j))j=i&2?j:"";else if(48<=I&&57>=I)j=i&1?j:"";else if(R=j.charCodeAt(1),v=j.charCodeAt(2),P=48<=R&&57>=R,S=48<=v&&57>=v,43===I&&(P||46===R&&S))j=i&1?(P?"":"0")+j.substring(1):"";else if(45===I&&(P||46===R&&S))j=i&4?(P?"-":"-0")+j.substring(1):i&1?"0":"";else if(46===I&&P)j=i&1?"0"+j:"";else if('url("'===j.substring(0,5))j=k&&i&16?g(x(M(e,b[r].substring(5,j.length-2)),f,k)):
"";else if("("===j.charAt(j.length-1))a:{D=b;G=r;j=1;K=G+1;for(I=D.length;K<I&&j;)A=D[K++],j+=")"===A?-1:/^[^"']*\($/.test(A);if(!j){j=D[G].toLowerCase();I=E(j);D=D.splice(G,K-G,"");G=u.cssFns;K=0;for(A=G.length;K<A;++K)if(G[K].substring(0,I.length)==I){D[0]=D[D.length-1]="";y(G[K],D,k,e);j=j+D.join(" ")+")";break a}}j=""}else j=B&&/^-?[a-z_][\w\-]*$/.test(j)&&!/__$/.test(j)?N&&512===B?b[r]+N:1024===B&&L[j]&&"number"===typeof L[j].oa?j:"":/^\w+$/.test(j)&&64===q&&i&8?F+1===o?(b[F]=b[F].substring(0,
b[F].length-1)+" "+j+'"',""):(F=o,'"'+j+'"'):""}j&&(b[o++]=j)}1===o&&'url("about:blank")'===b[0]&&(o=0);b.length=o}}}();var k=RegExp("^(active|after|before|blank|checked|default|disabled|drop|empty|enabled|first|first-child|first-letter|first-line|first-of-type|fullscreen|focus|hover|in-range|indeterminate|invalid|last-child|last-of-type|left|link|only-child|only-of-type|optional|out-of-range|placeholder-shown|read-only|read-write|required|right|root|scope|user-error|valid|visited)$"),f={};f[">"]=
f["+"]=f["~"]=f;ba=function(a,d,b){function g(i,r){function o(b,f,g){var y,e,i,l,o,m=n;y="";if(b<f)if(o=a[b],"*"===o)++b,y=o;else if(/^[a-zA-Z]/.test(o)&&(e=x(o.toLowerCase(),[])))"tagName"in e&&(o=e.tagName),++b,y=o;for(l=i=e="";m&&b<f;++b)if(o=a[b],"#"===o.charAt(0))/^#_|__$|[^\w#:\-]/.test(o)?m=C:e+=o+v;else if("."===o)++b<f&&/^[0-9A-Za-z:_\-]+$/.test(o=a[b])&&!/^_|__$/.test(o)?e+="."+o:m=C;else if(b+1<f&&"["===a[b]){++b;var H=a[b++].toLowerCase();o=$.m[y+"::"+H];o!==+o&&(o=$.m["*::"+H]);var W;
d.ia?(W=d.ia(y,H),"string"!==typeof W&&(m=C,W=H),m&&o!==+o&&(o=$.d.NONE)):(W=H,o!==+o&&(m=C));var p=H="",ca=C;/^[~^$*|]?=$/.test(a[b])&&(H=a[b++],p=a[b++],/^[0-9A-Za-z:_\-]+$/.test(p)?p='"'+p+'"':"]"===p&&(p='""',--b),/^"([^\"\\]|\\.)*"$/.test(p)||(m=C),(ca="i"===a[b])&&++b);"]"!==a[b]&&(++b,m=C);switch(o){case $.d.CLASSES:case $.d.LOCAL_NAME:case $.d.NONE:break;case $.d.GLOBAL_NAME:case $.d.ID:case $.d.IDREF:("="===H||"~="===H||"$="===H)&&'""'!=p&&!ca?p='"'+p.substring(1,p.length-1)+v+'"':"|="===
H||""===H||(m=C);break;case $.d.URI:case $.d.URI_FRAGMENT:""!==H&&(m=C);break;default:m=C}m&&(i+="["+W.replace(/[^\w-]/g,"\\$&")+H+p+(ca?" i]":"]"))}else if(b<f&&":"===a[b])if(o=a[++b],k.test(o))l+=":"+o;else break;else break;b!==f&&(m=C);m&&(b=(y+e).replace(/[^ .*#\w-]/g,"\\$&")+i+l+g)&&j.push(b);return m}" "===a[i]&&++i;r-1!==i&&" "===a[r]&&--r;for(var j=[],l=i,q=n,u=i;q&&u<r;++u){var B=a[u];if(f[B]===f||" "===B)o(l,u,B)?l=u+1:q=C}o(l,r,"")||(q=C);return q?(j.length&&(l=j.join(""),e!==s&&(l="."+
e+" "+l),N.push(l)),n):!b||b(a.slice(i,r))}var e=d.na,v=d.L,x=d.Aa,N=[],u=0,i,q=0,B;for(i=0;i<a.length;++i)if(B=a[i],"("==B||"["==B?(++q,n):")"==B||"]"==B?(q&&--q,n):!(" "==a[i]&&(q||f[a[i-1]]===f||f[a[i+1]]===f)))a[u++]=a[i];a.length=u;u=a.length;for(i=q=0;i<u;++i)if(","===a[i]){if(!g(q,i))return s;q=i+1}return!g(q,u)?s:N};(function(){var a=/^\w/,d=RegExp("^(?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*)(?: , (?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*))*$",
"i");Z=function(b){for(var b=b.slice(),f=b.length,g=0,k=0;k<f;++k){var e=b[k];" "!=e&&(b[g++]=e)}b.length=g;b=b.join(" ");return b=!b.length?"":!d.test(b)?"not all":a.test(b)?b:"not all , "+b}})();(function(){function a(b){var d=/^\s*[']([^']*)[']\s*$/,f=/^\s*url\s*[(]["]([^"]*)["][)]\s*$/,g=/^\s*url\s*[(][']([^']*)['][)]\s*$/,h=/^\s*url\s*[(]([^)]*)[)]\s*$/,k;return(k=/^\s*["]([^"]*)["]\s*$/.exec(b))||(k=d.exec(b))||(k=f.exec(b))||(k=g.exec(b))||(k=h.exec(b))?k[1]:s}function b(f,g,k,e,v,w,u){function i(){r=
F.length&&F[F.length-1]===s}var q=c,B=u||[0],F=[],r=C;fa(g,{startStylesheet:function(){q=[]},endStylesheet:function(){},startAtrule:function(g,j){if(r)g=s;else if("@media"===g)q.push("@media"," ",Z(j));else if("@keyframes"===g||"@-webkit-keyframes"===g){var i=j[0];1===j.length&&!/__$|[^\w\-]/.test(i)?(q.push(g," ",i+k.L),g="@keyframes"):g=s}else if("@import"===g&&0<j.length)if(g=s,"function"===typeof w){var l=Z(j.slice(1));if("not all"!==l){++B[0];var u=[];q.push(u);var E=x(M(f,a(j[0])),function(a){var f=
b(E,a.qa,k,e,v,w,B);--B[0];a=l?{toString:function(){return"@media "+l+" {"+f.result+"}"}}:f.result;u[0]=a;w(a,!!B[0])},v)}}else window.console&&window.console.log("@import "+j.join(" ")+" elided");r=!g;F.push(g)},endAtrule:function(){F.pop();r||q.push(";");i()},startBlock:function(){r||q.push("{")},endBlock:function(){r||(q.push("}"),r=n)},startRuleset:function(a){if(!r){var b=c;"@keyframes"===F[F.length-1]?(b=a.join(" ").match(/^ *(?:from|to|\d+(?:\.\d+)?%) *(?:, *(?:from|to|\d+(?:\.\d+)?%) *)*$/i),
r=!b,b&&(b=b[0].replace(/ +/g,""))):(a=ba(a,k),!a||!a.length?r=n:b=a.join(", "));r||q.push(b,"{")}F.push(s)},endRuleset:function(){F.pop();r||q.push("}");i()},declaration:function(a,b){if(!r){var d=C,g=b.length;2<=g&&"!"===b[g-2]&&"important"===b[g-1].toLowerCase()&&(d=n,b.length-=2);aa(a,b,e,f,k.L);b.length&&q.push(a,":",b.join(" "),d?" !important;":";")}}});return{result:{toString:function(){return q.join("")}},va:!!B[0]}}da=function(a,f,g,k){return b(a,f,g,k,c,c).result.toString()}})()})();
"undefined"!==typeof window&&(window.sanitizeCssProperty=aa,window.sanitizeCssSelectorList=ba,window.sanitizeStylesheet=da,window.sanitizeMediaQuery=Z);var fa,ga;
(function(){function g(b,a,g,f,h){for(var d=a++;a<g&&"{"!==b[a]&&";"!==b[a];)++a;if(a<g&&(h||";"===b[a])){var h=d+1,e=a;h<g&&" "===b[h]&&++h;e>h&&" "===b[e-1]&&--e;f.startAtrule&&f.startAtrule(b[d].toLowerCase(),b.slice(h,e));a="{"===b[a]?w(b,a,g,f):a+1;f.endAtrule&&f.endAtrule()}return a}function w(b,a,k,f){++a;for(f.startBlock&&f.startBlock();a<k;){var h=b[a].charAt(0);if("}"==h){++a;break}a=" "===h||";"===h?a+1:"@"===h?g(b,a,k,f,C):"{"===h?w(b,a,k,f):M(b,a,k,f)}f.endBlock&&f.endBlock();return a}
function M(b,a,g,f){var h=a,d=x(b,a,g,n);if(0>d)return d=~d,d===h?d+1:d;var y=b[d];if("{"!==y)return d===h?d+1:d;a=d+1;d>h&&" "===b[d-1]&&--d;for(f.startRuleset&&f.startRuleset(b.slice(h,d));a<g;){y=b[a];if("}"===y){++a;break}a=" "===y?a+1:e(b,a,g,f)}f.endRuleset&&f.endRuleset();return a}function x(b,a,g,f){for(var h,d=[],e=-1;a<g;++a)if(h=b[a].charAt(0),"["===h||"("===h)d[++e]=h;else if("]"===h&&"["===d[e]||")"===h&&"("===d[e])--e;else if("{"===h||"}"===h||";"===h||"@"===h||":"===h&&!f)break;0<=
e&&(a=~(a+1));return a}function E(b,a,g){for(;a<g&&";"!==b[a]&&"}"!==b[a];)++a;return a<g&&";"===b[a]?a+1:a}function e(b,a,g,f){var h=b[a++];if(!v.test(h))return E(b,a,g);a<g&&" "===b[a]&&++a;if(a==g||":"!==b[a])return E(b,a,g);++a;a<g&&" "===b[a]&&++a;var d=x(b,a,g,C);if(0>d)d=~d;else{for(var e=[],l=0,w=a;w<d;++w)a=b[w]," "!==a&&(e[l++]=a);if(d<g){do{a=b[d];if(";"===a||"}"===a)break;l=0}while(++d<g);";"===a&&++d}l&&f.declaration&&f.declaration(h.toLowerCase(),e)}return d}fa=function(b,a){var e=U(b);
a.startStylesheet&&a.startStylesheet();for(var f=0,h=e.length;f<h;)f=" "===e[f]?f+1:f<h?"@"===e[f].charAt(0)?g(e,f,h,a,n):M(e,f,h,a):f;a.endStylesheet&&a.endStylesheet()};var v=/^-?[a-z]/i;ga=function(b,a){for(var g=U(b),f=0,h=g.length;f<h;)f=" "!==g[f]?e(g,f,h,a):f+1}})();"undefined"!==typeof window&&(window.parseCssStylesheet=fa,window.parseCssDeclarations=ga);var $={d:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};$.atype=$.d;
$.m={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,
"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,
"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,
"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,
"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,
"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,
"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,
"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,
"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,
"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,
"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0};$.ATTRIBS=$.m;$.c={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256};$.eflags=$.c;
$.f={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,
kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2};$.ELEMENTS=$.f;
$.Q={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",
cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",
form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",
label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",
progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",
th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"};$.ELEMENT_DOM_INTERFACES=$.Q;$.P={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};$.ueffects=$.P;
$.J={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1};$.URIEFFECTS=$.J;$.M={UNSANDBOXED:2,SANDBOXED:1,DATA:0};$.ltypes=$.M;$.I={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2};$.LOADERTYPES=$.I;
"undefined"!==typeof window&&(window.html4=$);var ha=function(g){function w(a){if(i.hasOwnProperty(a))return i[a];var b=a.match(q);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(B))?String.fromCharCode(parseInt(b[1],16)):r&&F.test(a)?(r.innerHTML="&"+a+";",b=r.textContent,i[a]=b):"&"+a+";"}function M(a,b){return w(b)}function x(a){return a.replace(j,M)}function E(a){return(""+a).replace(R,"&amp;").replace(P,"&lt;").replace(S,"&gt;").replace(D,"&#34;")}function e(a){return a.replace(ia,"&amp;$1").replace(P,"&lt;").replace(S,"&gt;")}
function v(b){var d={z:b.z||b.cdata,A:b.A||b.comment,B:b.B||b.endDoc,t:b.t||b.endTag,e:b.e||b.pcdata,F:b.F||b.rcdata,H:b.H||b.startDoc,w:b.w||b.startTag};return function(b,g){var f;var H=/(<\/|<\!--|<[!?]|[&<>])/g;f=b+"";if(G)f=f.split(H);else{for(var e=[],h=0,j;(j=H.exec(f))!==s;)e.push(f.substring(h,j.index)),e.push(j[0]),h=j.index+j[0].length;e.push(f.substring(h));f=e}a(d,f,0,{r:C,C:C},g)}}function b(b,d,g,f,t){return function(){a(b,d,g,f,t)}}function a(a,d,p,e,t){try{a.H&&0==p&&a.H(t);for(var h,
z,j,i=d.length;p<i;){var o=d[p++],l=d[p];switch(o){case "&":I.test(l)?(a.e&&a.e("&"+l,t,A,b(a,d,p,e,t)),p++):a.e&&a.e("&amp;",t,A,b(a,d,p,e,t));break;case "</":if(h=/^([-\w:]+)[^\'\"]*/.exec(l))if(h[0].length===l.length&&">"===d[p+1])p+=2,j=h[1].toLowerCase(),a.t&&a.t(j,t,A,b(a,d,p,e,t));else{var m=d,q=p,r=a,u=t,v=A,y=e,w=f(m,q);w?(r.t&&r.t(w.name,u,v,b(r,m,q,y,u)),p=w.next):p=m.length}else a.e&&a.e("&lt;/",t,A,b(a,d,p,e,t));break;case "<":if(h=/^([-\w:]+)\s*\/?/.exec(l))if(h[0].length===l.length&&
">"===d[p+1]){p+=2;j=h[1].toLowerCase();a.w&&a.w(j,[],t,A,b(a,d,p,e,t));var B=g.f[j];B&K&&(p=k(d,{name:j,next:p,c:B},a,t,A,e))}else{var m=d,q=a,r=t,u=A,v=e,x=f(m,p);x?(q.w&&q.w(x.name,x.R,r,u,b(q,m,x.next,v,r)),p=x.c&K?k(m,x,q,r,u,v):x.next):p=m.length}else a.e&&a.e("&lt;",t,A,b(a,d,p,e,t));break;case "<\!--":if(!e.C){for(z=p+1;z<i&&!(">"===d[z]&&/--$/.test(d[z-1]));z++);if(z<i){if(a.A){var D=d.slice(p,z).join("");a.A(D.substr(0,D.length-2),t,A,b(a,d,z+1,e,t))}p=z+1}else e.C=n}e.C&&a.e&&a.e("&lt;!--",
t,A,b(a,d,p,e,t));break;case "<!":if(/^\w/.test(l)){if(!e.r){for(z=p+1;z<i&&">"!==d[z];z++);z<i?p=z+1:e.r=n}e.r&&a.e&&a.e("&lt;!",t,A,b(a,d,p,e,t))}else a.e&&a.e("&lt;!",t,A,b(a,d,p,e,t));break;case "<?":if(!e.r){for(z=p+1;z<i&&">"!==d[z];z++);z<i?p=z+1:e.r=n}e.r&&a.e&&a.e("&lt;?",t,A,b(a,d,p,e,t));break;case ">":a.e&&a.e("&gt;",t,A,b(a,d,p,e,t));break;case "":break;default:a.e&&a.e(o,t,A,b(a,d,p,e,t))}}a.B&&a.B(t)}catch(E){if(E!==A)throw E;}}function k(a,d,f,h,t,j){var z=a.length;T.hasOwnProperty(d.name)||
(T[d.name]=RegExp("^"+d.name+"(?:[\\s\\/]|$)","i"));for(var i=T[d.name],k=d.next,l=d.next+1;l<z&&!("</"===a[l-1]&&i.test(a[l]));l++);l<z&&(l-=1);z=a.slice(k,l).join("");if(d.c&g.c.CDATA)f.z&&f.z(z,h,t,b(f,a,l,j,h));else if(d.c&g.c.RCDATA)f.F&&f.F(e(z),h,t,b(f,a,l,j,h));else throw Error("bug");return l}function f(a,b){var d=/^([-\w:]+)/.exec(a[b]),f={};f.name=d[1].toLowerCase();f.c=g.f[f.name];for(var e=a[b].substr(d[0].length),h=b+1,j=a.length;h<j&&">"!==a[h];h++)e+=a[h];if(!(j<=h)){for(var l=[];""!==
e;)if(d=ja.exec(e))if(d[4]&&!d[5]||d[6]&&!d[7]){for(var d=d[4]||d[6],i=C,e=[e,a[h++]];h<j;h++){if(i){if(">"===a[h])break}else 0<=a[h].indexOf(d)&&(i=n);e.push(a[h])}if(j<=h)break;e=e.join("")}else{var i=d[1].toLowerCase(),k;if(d[2]){k=d[3];var m=k.charCodeAt(0);if(34===m||39===m)k=k.substr(1,k.length-2);k=x(k.replace(o,""))}else k="";l.push(i,k);e=e.substr(d[0].length)}else e=e.replace(/^[\s\S][^a-z\s]*/,"");f.R=l;f.next=h+1;return f}}function h(a){function b(a,d){f||d.push(a)}var d,f;return v({startDoc:function(){d=
[];f=C},startTag:function(b,e,h){if(!f&&g.f.hasOwnProperty(b)){var j=g.f[b];if(!(j&g.c.FOLDABLE)){var k=a(b,e);if(k){if("object"!==typeof k)throw Error("tagPolicy did not return object (old API?)");if("attribs"in k)e=k.attribs;else throw Error("tagPolicy gave no attribs");var i;"tagName"in k?(i=k.tagName,k=g.f[i]):(i=b,k=j);if(j&g.c.OPTIONAL_ENDTAG){var l=d[d.length-1];l&&l.D===b&&(l.v!==i||b!==i)&&h.push("</",l.v,">")}j&g.c.EMPTY||d.push({D:b,v:i});h.push("<",i);b=0;for(l=e.length;b<l;b+=2){var m=
e[b],o=e[b+1];o!==s&&o!==c&&h.push(" ",m,'="',E(o),'"')}h.push(">");j&g.c.EMPTY&&!(k&g.c.EMPTY)&&h.push("</",i,">")}else f=!(j&g.c.EMPTY)}}},endTag:function(a,b){if(f)f=C;else if(g.f.hasOwnProperty(a)){var e=g.f[a];if(!(e&(g.c.EMPTY|g.c.FOLDABLE))){if(e&g.c.OPTIONAL_ENDTAG)for(e=d.length;0<=--e;){var h=d[e].D;if(h===a)break;if(!(g.f[h]&g.c.OPTIONAL_ENDTAG))return}else for(e=d.length;0<=--e&&d[e].D!==a;);if(!(0>e)){for(h=d.length;--h>e;){var j=d[h].v;g.f[j]&g.c.OPTIONAL_ENDTAG||b.push("</",j,">")}e<
d.length&&(a=d[e].v);d.length=e;b.push("</",a,">")}}}},pcdata:b,rcdata:b,cdata:b,endDoc:function(a){for(;d.length;d.length--)a.push("</",d[d.length-1].v,">")}})}function d(a,b,d,f,e){if(!e)return s;try{var g=Y.parse(""+a);if(g&&(!g.K()||ka.test(g.W()))){var h=e(g,b,d,f);return h?h.toString():s}}catch(j){}return s}function y(a,b,d,f,e){d||a(b+" removed",{S:"removed",tagName:b});if(f!==e){var g="changed";f&&!e?g="removed":!f&&e&&(g="added");a(b+"."+d+" "+g,{S:g,tagName:b,la:d,oldValue:f,newValue:e})}}
function l(a,b,d){b=b+"::"+d;if(a.hasOwnProperty(b))return a[b];b="*::"+d;if(a.hasOwnProperty(b))return a[b]}function V(a,b,f,e,h){for(var j=0;j<b.length;j+=2){var k=b[j],i=b[j+1],m=i,o=s,q;if((q=a+"::"+k,g.m.hasOwnProperty(q))||(q="*::"+k,g.m.hasOwnProperty(q)))o=g.m[q];if(o!==s)switch(o){case g.d.NONE:break;case g.d.SCRIPT:i=s;h&&y(h,a,k,m,i);break;case g.d.STYLE:if("undefined"===typeof N){i=s;h&&y(h,a,k,m,i);break}var r=[];N(i,{declaration:function(a,b){var e=a.toLowerCase();u(e,b,f?function(a){return d(a,
g.P.ja,g.M.ka,{TYPE:"CSS",CSS_PROP:e},f)}:s);b.length&&r.push(e+": "+b.join(" "))}});i=0<r.length?r.join(" ; "):s;h&&y(h,a,k,m,i);break;case g.d.ID:case g.d.IDREF:case g.d.IDREFS:case g.d.GLOBAL_NAME:case g.d.LOCAL_NAME:case g.d.CLASSES:i=e?e(i):i;h&&y(h,a,k,m,i);break;case g.d.URI:i=d(i,l(g.J,a,k),l(g.I,a,k),{TYPE:"MARKUP",XML_ATTR:k,XML_TAG:a},f);h&&y(h,a,k,m,i);break;case g.d.URI_FRAGMENT:i&&"#"===i.charAt(0)?(i=i.substring(1),i=e?e(i):i,i!==s&&i!==c&&(i="#"+i)):i=s;h&&y(h,a,k,m,i);break;default:i=
s,h&&y(h,a,k,m,i)}else i=s,h&&y(h,a,k,m,i);b[j+1]=i}return b}function ea(a,b,d){return function(e,f){if(g.f[e]&g.c.UNSAFE)d&&y(d,e,c,c,c);else return{attribs:V(e,f,a,b,d)}}}function Q(a,b){var d=[];h(b)(a,d);return d.join("")}var N,u;"undefined"!==typeof window&&(N=window.parseCssDeclarations,u=window.sanitizeCssProperty);var i={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:"\u00a0"},q=/^#(\d+)$/,B=/^#x([0-9A-Fa-f]+)$/,F=/^[A-Za-z][A-za-z0-9]+$/,r="undefined"!==typeof window&&
window.document?window.document.createElement("textarea"):s,o=/\0/g,j=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,I=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,R=/&/g,ia=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,P=/[<]/g,S=/>/g,D=/\"/g,ja=/^\s*([-.:\w]+)(?:\s*(=)\s*((")[^"]*("|$)|(')[^']*('|$)|(?=[a-z][-\w]*\s*=)|[^"'\s]*))?/i,G=3==="a,b".split(/(,)/).length,K=g.c.CDATA|g.c.RCDATA,A={},T={},ka=/^(?:https?|mailto|data)$/i,m={};m.pa=m.escapeAttrib=E;m.ra=m.makeHtmlSanitizer=h;m.sa=m.makeSaxParser=v;m.ta=m.makeTagPolicy=
ea;m.wa=m.normalizeRCData=e;m.xa=m.sanitize=function(a,b,d,e){return Q(a,ea(b,d,e))};m.ya=m.sanitizeAttribs=V;m.za=m.sanitizeWithPolicy=Q;m.Ba=m.unescapeEntities=x;return m}($),la=ha.sanitize;"undefined"!==typeof window&&(window.html=ha,window.html_sanitize=la);})();
/* pako 1.0.3 nodeca/pako */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.pako=t()}}(function(){return function t(e,a,i){function n(s,o){if(!a[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=a[s]={exports:{}};e[s][0].call(d.exports,function(t){var a=e[s][1][t];return n(a?a:t)},d,d.exports,t,e,a,i)}return a[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,a){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=l.assign({level:w,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var a=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==b)throw new Error(d[a]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?h.string2buf(e.dictionary):"[object ArrayBuffer]"===_.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=o.deflateSetDictionary(this.strm,n),a!==b)throw new Error(d[a]);this._dict_set=!0}}function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}function r(t,e){return e=e||{},e.raw=!0,n(t,e)}function s(t,e){return e=e||{},e.gzip=!0,n(t,e)}var o=t("./zlib/deflate"),l=t("./utils/common"),h=t("./utils/strings"),d=t("./zlib/messages"),f=t("./zlib/zstream"),_=Object.prototype.toString,u=0,c=4,b=0,g=1,m=2,w=-1,p=0,v=8;i.prototype.push=function(t,e){var a,i,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:e===!0?c:u,"string"==typeof t?n.input=h.string2buf(t):"[object ArrayBuffer]"===_.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new l.Buf8(r),n.next_out=0,n.avail_out=r),a=o.deflate(n,i),a!==g&&a!==b)return this.onEnd(a),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||i!==c&&i!==m)||("string"===this.options.to?this.onData(h.buf2binstring(l.shrinkBuf(n.output,n.next_out))):this.onData(l.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&a!==g);return i===c?(a=o.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===b):i!==m||(this.onEnd(b),n.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===b&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=i,a.deflate=n,a.deflateRaw=r,a.gzip=s},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,a){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var a=s.inflateInit2(this.strm,e.windowBits);if(a!==h.Z_OK)throw new Error(d[a]);this.header=new _,s.inflateGetHeader(this.strm,this.header)}function n(t,e){var a=new i(e);if(a.push(t,!0),a.err)throw a.msg;return a.result}function r(t,e){return e=e||{},e.raw=!0,n(t,e)}var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),h=t("./zlib/constants"),d=t("./zlib/messages"),f=t("./zlib/zstream"),_=t("./zlib/gzheader"),u=Object.prototype.toString;i.prototype.push=function(t,e){var a,i,n,r,d,f,_=this.strm,c=this.options.chunkSize,b=this.options.dictionary,g=!1;if(this.ended)return!1;i=e===~~e?e:e===!0?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?_.input=l.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?_.input=new Uint8Array(t):_.input=t,_.next_in=0,_.avail_in=_.input.length;do{if(0===_.avail_out&&(_.output=new o.Buf8(c),_.next_out=0,_.avail_out=c),a=s.inflate(_,h.Z_NO_FLUSH),a===h.Z_NEED_DICT&&b&&(f="string"==typeof b?l.string2buf(b):"[object ArrayBuffer]"===u.call(b)?new Uint8Array(b):b,a=s.inflateSetDictionary(this.strm,f)),a===h.Z_BUF_ERROR&&g===!0&&(a=h.Z_OK,g=!1),a!==h.Z_STREAM_END&&a!==h.Z_OK)return this.onEnd(a),this.ended=!0,!1;_.next_out&&(0!==_.avail_out&&a!==h.Z_STREAM_END&&(0!==_.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(n=l.utf8border(_.output,_.next_out),r=_.next_out-n,d=l.buf2string(_.output,n),_.next_out=r,_.avail_out=c-r,r&&o.arraySet(_.output,_.output,n,r,0),this.onData(d)):this.onData(o.shrinkBuf(_.output,_.next_out)))),0===_.avail_in&&0===_.avail_out&&(g=!0)}while((_.avail_in>0||0===_.avail_out)&&a!==h.Z_STREAM_END);return a===h.Z_STREAM_END&&(i=h.Z_FINISH),i===h.Z_FINISH?(a=s.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),_.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=i,a.inflate=n,a.inflateRaw=r,a.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,a){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)return void t.set(e.subarray(a,a+i),n);for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(i=0,e=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),n=0,e=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},r={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,r))},a.setTyped(i)},{}],4:[function(t,e,a){"use strict";function i(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var a="",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}var n=t("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,a.string2buf=function(t){var e,a,i,r,s,o=t.length,l=0;for(r=0;r<o;r++)a=t.charCodeAt(r),55296===(64512&a)&&r+1<o&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),r++)),l+=a<128?1:a<2048?2:a<65536?3:4;for(e=new n.Buf8(l),s=0,r=0;s<l;r++)a=t.charCodeAt(r),55296===(64512&a)&&r+1<o&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),r++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},a.buf2binstring=function(t){return i(t,t.length)},a.binstring2buf=function(t){for(var e=new n.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,n,r,s,l=e||t.length,h=new Array(2*l);for(n=0,a=0;a<l;)if(r=t[a++],r<128)h[n++]=r;else if(s=o[r],s>4)h[n++]=65533,a+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&a<l;)r=r<<6|63&t[a++],s--;s>1?h[n++]=65533:r<65536?h[n++]=r:(r-=65536,h[n++]=55296|r>>10&1023,h[n++]=56320|1023&r)}return i(h,n)},a.utf8border=function(t,e){var a;for(e=e||t.length,e>t.length&&(e=t.length),a=e-1;a>=0&&128===(192&t[a]);)a--;return a<0?e:0===a?e:a+o[t[a]]>e?a:e}},{"./common":3}],5:[function(t,e,a){"use strict";function i(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){s=a>2e3?2e3:a,a-=s;do n=n+e[i++]|0,r=r+n|0;while(--s);n%=65521,r%=65521}return n|r<<16|0}e.exports=i},{}],6:[function(t,e,a){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){"use strict";function i(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}function n(t,e,a,i){var n=r,s=i+a;t^=-1;for(var o=i;o<s;o++)t=t>>>8^n[255&(t^e[o])];return t^-1}var r=i();e.exports=n},{}],8:[function(t,e,a){"use strict";function i(t,e){return t.msg=D[e],e}function n(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(R.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function o(t,e){C._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function h(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function d(t,e,a,i){var n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,R.arraySet(e,t.input,t.next_in,n,a),1===t.state.wrap?t.adler=N(t.adler,e,n,a):2===t.state.wrap&&(t.adler=O(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)}function f(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-ft?t.strstart-(t.w_size-ft):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+dt,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=e,h[a+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do;while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=dt-(_-r),r=_-dt,i>s){if(t.match_start=e,s=i,i>=o)break;u=h[r+s-1],c=h[r+s]}}while((e=f[e&d])>l&&0!==--n);return s<=t.lookahead?s:t.lookahead}function _(t){var e,a,i,n,r,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-ft)){R.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,a=t.hash_size,e=a;do i=t.head[--e],t.head[e]=i>=s?i-s:0;while(--a);a=s,e=a;do i=t.prev[--e],t.prev[e]=i>=s?i-s:0;while(--a);n+=s}if(0===t.strm.avail_in)break;if(a=d(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=a,t.lookahead+t.insert>=ht)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+ht-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<ht)););}while(t.lookahead<ft&&0!==t.strm.avail_in)}function u(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_(t),0===t.lookahead&&e===I)return vt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,o(t,!1),0===t.strm.avail_out))return vt;if(t.strstart-t.block_start>=t.w_size-ft&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.strstart>t.block_start&&(o(t,!1),0===t.strm.avail_out)?vt:vt}function c(t,e){for(var a,i;;){if(t.lookahead<ft){if(_(t),t.lookahead<ft&&e===I)return vt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ft&&(t.match_length=f(t,a)),t.match_length>=ht)if(i=C._tr_tally(t,t.strstart-t.match_start,t.match_length-ht),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ht){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=t.strstart<ht-1?t.strstart:ht-1,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function b(t,e){for(var a,i,n;;){if(t.lookahead<ft){if(_(t),t.lookahead<ft&&e===I)return vt;if(0===t.lookahead)break}if(a=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ht-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ft&&(t.match_length=f(t,a),t.match_length<=5&&(t.strategy===q||t.match_length===ht&&t.strstart-t.match_start>4096)&&(t.match_length=ht-1)),t.prev_length>=ht&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-ht,i=C._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ht),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ht-1,t.strstart++,i&&(o(t,!1),0===t.strm.avail_out))return vt}else if(t.match_available){if(i=C._tr_tally(t,0,t.window[t.strstart-1]),i&&o(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return vt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=C._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ht-1?t.strstart:ht-1,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function g(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=dt){if(_(t),t.lookahead<=dt&&e===I)return vt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ht&&t.strstart>0&&(n=t.strstart-1,i=s[n],i===s[++n]&&i===s[++n]&&i===s[++n])){r=t.strstart+dt;do;while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=dt-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ht?(a=C._tr_tally(t,1,t.match_length-ht),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function m(t,e){for(var a;;){if(0===t.lookahead&&(_(t),0===t.lookahead)){if(e===I)return vt;break}if(t.match_length=0,a=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(o(t,!1),0===t.strm.avail_out))return vt}return t.insert=0,e===F?(o(t,!0),0===t.strm.avail_out?yt:xt):t.last_lit&&(o(t,!1),0===t.strm.avail_out)?vt:kt}function w(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}function p(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=Z[t.level].max_lazy,t.good_match=Z[t.level].good_length,t.nice_match=Z[t.level].nice_length,t.max_chain_length=Z[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ht-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*ot),this.dyn_dtree=new R.Buf16(2*(2*rt+1)),this.bl_tree=new R.Buf16(2*(2*st+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(lt+1),this.heap=new R.Buf16(2*nt+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*nt+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Q,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ut:wt,t.adler=2===e.wrap?0:1,e.last_flush=I,C._tr_init(e),H):i(t,K)}function y(t){var e=k(t);return e===H&&p(t.state),e}function x(t,e){return t&&t.state?2!==t.state.wrap?K:(t.state.gzhead=e,H):K}function z(t,e,a,n,r,s){if(!t)return K;var o=1;if(e===Y&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>$||a!==V||n<8||n>15||e<0||e>9||s<0||s>W)return i(t,K);8===n&&(n=9);var l=new v;return t.state=l,l.strm=t,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ht-1)/ht),l.window=new R.Buf8(2*l.w_size),l.head=new R.Buf16(l.hash_size),l.prev=new R.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new R.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=a,y(t)}function B(t,e){return z(t,e,V,tt,et,J)}function S(t,e){var a,o,d,f;if(!t||!t.state||e>L||e<0)return t?i(t,K):K;if(o=t.state,!t.output||!t.input&&0!==t.avail_in||o.status===pt&&e!==F)return i(t,0===t.avail_out?P:K);if(o.strm=t,a=o.last_flush,o.last_flush=e,o.status===ut)if(2===o.wrap)t.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=O(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=ct):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),l(o,zt),o.status=wt);else{var _=V+(o.w_bits-8<<4)<<8,u=-1;u=o.strategy>=G||o.level<2?0:o.level<6?1:6===o.level?2:3,_|=u<<6,0!==o.strstart&&(_|=_t),_+=31-_%31,o.status=wt,h(o,_),0!==o.strstart&&(h(o,t.adler>>>16),h(o,65535&t.adler)),t.adler=1}if(o.status===ct)if(o.gzhead.extra){for(d=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=bt)}else o.status=bt;if(o.status===bt)if(o.gzhead.name){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}f=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.gzindex=0,o.status=gt)}else o.status=gt;if(o.status===gt)if(o.gzhead.comment){d=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),s(t),d=o.pending,o.pending===o.pending_buf_size)){f=1;break}f=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,f)}while(0!==f);o.gzhead.hcrc&&o.pending>d&&(t.adler=O(t.adler,o.pending_buf,o.pending-d,d)),0===f&&(o.status=mt)}else o.status=mt;if(o.status===mt&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(t),o.pending+2<=o.pending_buf_size&&(l(o,255&t.adler),l(o,t.adler>>8&255),t.adler=0,o.status=wt)):o.status=wt),0!==o.pending){if(s(t),0===t.avail_out)return o.last_flush=-1,H}else if(0===t.avail_in&&n(e)<=n(a)&&e!==F)return i(t,P);if(o.status===pt&&0!==t.avail_in)return i(t,P);if(0!==t.avail_in||0!==o.lookahead||e!==I&&o.status!==pt){var c=o.strategy===G?m(o,e):o.strategy===X?g(o,e):Z[o.level].func(o,e);if(c!==yt&&c!==xt||(o.status=pt),c===vt||c===yt)return 0===t.avail_out&&(o.last_flush=-1),H;if(c===kt&&(e===U?C._tr_align(o):e!==L&&(C._tr_stored_block(o,0,0,!1),e===T&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(t),0===t.avail_out))return o.last_flush=-1,H}return e!==F?H:o.wrap<=0?j:(2===o.wrap?(l(o,255&t.adler),l(o,t.adler>>8&255),l(o,t.adler>>16&255),l(o,t.adler>>24&255),l(o,255&t.total_in),l(o,t.total_in>>8&255),l(o,t.total_in>>16&255),l(o,t.total_in>>24&255)):(h(o,t.adler>>>16),h(o,65535&t.adler)),s(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?H:j)}function E(t){var e;return t&&t.state?(e=t.state.status,e!==ut&&e!==ct&&e!==bt&&e!==gt&&e!==mt&&e!==wt&&e!==pt?i(t,K):(t.state=null,e===wt?i(t,M):H)):K}function A(t,e){var a,i,n,s,o,l,h,d,f=e.length;if(!t||!t.state)return K;if(a=t.state,s=a.wrap,2===s||1===s&&a.status!==ut||a.lookahead)return K;for(1===s&&(t.adler=N(t.adler,e,f,0)),a.wrap=0,f>=a.w_size&&(0===s&&(r(a.head),a.strstart=0,a.block_start=0,a.insert=0),d=new R.Buf8(a.w_size),R.arraySet(d,e,f-a.w_size,a.w_size,0),e=d,f=a.w_size),o=t.avail_in,l=t.next_in,h=t.input,t.avail_in=f,t.next_in=0,t.input=e,_(a);a.lookahead>=ht;){i=a.strstart,n=a.lookahead-(ht-1);do a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+ht-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++;while(--n);a.strstart=i,a.lookahead=ht-1,_(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=ht-1,a.match_available=0,t.next_in=l,t.input=h,t.avail_in=o,a.wrap=s,H}var Z,R=t("../utils/common"),C=t("./trees"),N=t("./adler32"),O=t("./crc32"),D=t("./messages"),I=0,U=1,T=3,F=4,L=5,H=0,j=1,K=-2,M=-3,P=-5,Y=-1,q=1,G=2,X=3,W=4,J=0,Q=2,V=8,$=9,tt=15,et=8,at=29,it=256,nt=it+1+at,rt=30,st=19,ot=2*nt+1,lt=15,ht=3,dt=258,ft=dt+ht+1,_t=32,ut=42,ct=69,bt=73,gt=91,mt=103,wt=113,pt=666,vt=1,kt=2,yt=3,xt=4,zt=3;Z=[new w(0,0,0,0,u),new w(4,4,8,4,c),new w(4,5,16,8,c),new w(4,6,32,32,c),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],a.deflateInit=B,a.deflateInit2=z,a.deflateReset=y,a.deflateResetKeep=k,a.deflateSetHeader=x,a.deflate=S,a.deflateEnd=E,a.deflateSetDictionary=A,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,a){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=i},{}],10:[function(t,e,a){"use strict";var i=30,n=12;e.exports=function(t,e){var a,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S,E,A;a=t.state,r=t.next_in,E=t.input,s=r+(t.avail_in-5),o=t.next_out,A=t.output,l=o-(e-t.avail_out),h=o+(t.avail_out-257),d=a.dmax,f=a.wsize,_=a.whave,u=a.wnext,c=a.window,b=a.hold,g=a.bits,m=a.lencode,w=a.distcode,p=(1<<a.lenbits)-1,v=(1<<a.distbits)-1;t:do{g<15&&(b+=E[r++]<<g,g+=8,b+=E[r++]<<g,g+=8),k=m[b&p];e:for(;;){if(y=k>>>24,b>>>=y,g-=y,y=k>>>16&255,0===y)A[o++]=65535&k;else{if(!(16&y)){if(0===(64&y)){k=m[(65535&k)+(b&(1<<y)-1)];continue e}if(32&y){a.mode=n;break t}t.msg="invalid literal/length code",a.mode=i;break t}x=65535&k,y&=15,y&&(g<y&&(b+=E[r++]<<g,g+=8),x+=b&(1<<y)-1,b>>>=y,g-=y),g<15&&(b+=E[r++]<<g,g+=8,b+=E[r++]<<g,g+=8),k=w[b&v];a:for(;;){if(y=k>>>24,b>>>=y,g-=y,y=k>>>16&255,!(16&y)){if(0===(64&y)){k=w[(65535&k)+(b&(1<<y)-1)];continue a}t.msg="invalid distance code",a.mode=i;break t}if(z=65535&k,y&=15,g<y&&(b+=E[r++]<<g,g+=8,g<y&&(b+=E[r++]<<g,g+=8)),z+=b&(1<<y)-1,z>d){t.msg="invalid distance too far back",a.mode=i;break t}if(b>>>=y,g-=y,y=o-l,z>y){if(y=z-y,y>_&&a.sane){t.msg="invalid distance too far back",a.mode=i;break t}if(B=0,S=c,0===u){if(B+=f-y,y<x){x-=y;do A[o++]=c[B++];while(--y);B=o-z,S=A}}else if(u<y){if(B+=f+u-y,y-=u,y<x){x-=y;do A[o++]=c[B++];while(--y);if(B=0,u<x){y=u,x-=y;do A[o++]=c[B++];while(--y);B=o-z,S=A}}}else if(B+=u-y,y<x){x-=y;do A[o++]=c[B++];while(--y);B=o-z,S=A}for(;x>2;)A[o++]=S[B++],A[o++]=S[B++],A[o++]=S[B++],x-=3;x&&(A[o++]=S[B++],x>1&&(A[o++]=S[B++]))}else{B=o-z;do A[o++]=A[B++],A[o++]=A[B++],A[o++]=A[B++],x-=3;while(x>2);x&&(A[o++]=A[B++],x>1&&(A[o++]=A[B++]))}break}}break}}while(r<s&&o<h);x=g>>3,r-=x,g-=x<<3,b&=(1<<g)-1,t.next_in=r,t.next_out=o,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=o<h?257+(h-o):257-(o-h),a.hold=b,a.bits=g}},{}],11:[function(t,e,a){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=T,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new w.Buf32(bt),e.distcode=e.distdyn=new w.Buf32(gt),e.sane=1,e.back=-1,Z):N}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,r(t)):N}function o(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?N:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,s(t))):N}function l(t,e){var a,i;return t?(i=new n,t.state=i,i.window=null,a=o(t,e),a!==Z&&(t.state=null),a):N}function h(t){return l(t,wt)}function d(t){if(pt){var e;for(g=new w.Buf32(512),m=new w.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(y(z,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;y(B,t.lens,0,32,m,0,t.work,{bits:5}),pt=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function f(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new w.Buf8(r.wsize)),i>=r.wsize?(w.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(n=r.wsize-r.wnext,n>i&&(n=i),w.arraySet(r.window,e,a-i,n,r.wnext),i-=n,i?(w.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function _(t,e){var a,n,r,s,o,l,h,_,u,c,b,g,m,bt,gt,mt,wt,pt,vt,kt,yt,xt,zt,Bt,St=0,Et=new w.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return N;a=t.state,a.mode===X&&(a.mode=W),o=t.next_out,r=t.output,h=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,u=a.bits,c=l,b=h,xt=Z;t:for(;;)switch(a.mode){case T:if(0===a.wrap){a.mode=W;break}for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(2&a.wrap&&35615===_){a.check=0,Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0),_=0,u=0,a.mode=F;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&_)<<8)+(_>>8))%31){t.msg="incorrect header check",a.mode=_t;break}if((15&_)!==U){t.msg="unknown compression method",a.mode=_t;break}if(_>>>=4,u-=4,yt=(15&_)+8,0===a.wbits)a.wbits=yt;else if(yt>a.wbits){t.msg="invalid window size",a.mode=_t;break}a.dmax=1<<yt,t.adler=a.check=1,a.mode=512&_?q:X,_=0,u=0;break;case F:for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(a.flags=_,(255&a.flags)!==U){t.msg="unknown compression method",a.mode=_t;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=_t;break}a.head&&(a.head.text=_>>8&1),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0)),_=0,u=0,a.mode=L;case L:for(;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.head&&(a.head.time=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,Et[2]=_>>>16&255,Et[3]=_>>>24&255,a.check=v(a.check,Et,4,0)),_=0,u=0,a.mode=H;case H:for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.head&&(a.head.xflags=255&_,a.head.os=_>>8),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0)),_=0,u=0,a.mode=j;case j:if(1024&a.flags){for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.length=_,a.head&&(a.head.extra_len=_),512&a.flags&&(Et[0]=255&_,Et[1]=_>>>8&255,a.check=v(a.check,Et,2,0)),_=0,u=0}else a.head&&(a.head.extra=null);a.mode=K;case K:if(1024&a.flags&&(g=a.length,g>l&&(g=l),g&&(a.head&&(yt=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),w.arraySet(a.head.extra,n,s,g,yt)),512&a.flags&&(a.check=v(a.check,n,g,s)),l-=g,s+=g,a.length-=g),a.length))break t;a.length=0,a.mode=M;case M:if(2048&a.flags){if(0===l)break t;g=0;do yt=n[s+g++],a.head&&yt&&a.length<65536&&(a.head.name+=String.fromCharCode(yt));while(yt&&g<l);if(512&a.flags&&(a.check=v(a.check,n,g,s)),l-=g,s+=g,yt)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=P;case P:if(4096&a.flags){if(0===l)break t;g=0;do yt=n[s+g++],a.head&&yt&&a.length<65536&&(a.head.comment+=String.fromCharCode(yt));while(yt&&g<l);if(512&a.flags&&(a.check=v(a.check,n,g,s)),l-=g,s+=g,yt)break t}else a.head&&(a.head.comment=null);a.mode=Y;case Y:if(512&a.flags){for(;u<16;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(_!==(65535&a.check)){t.msg="header crc mismatch",a.mode=_t;break}_=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=X;break;case q:for(;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}t.adler=a.check=i(_),_=0,u=0,a.mode=G;case G:if(0===a.havedict)return t.next_out=o,t.avail_out=h,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=u,C;t.adler=a.check=1,a.mode=X;case X:if(e===E||e===A)break t;case W:if(a.last){_>>>=7&u,u-=7&u,a.mode=ht;break}for(;u<3;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}switch(a.last=1&_,_>>>=1,u-=1,3&_){case 0:a.mode=J;break;case 1:if(d(a),a.mode=at,e===A){_>>>=2,u-=2;break t}break;case 2:a.mode=$;break;case 3:t.msg="invalid block type",a.mode=_t}_>>>=2,u-=2;break;case J:for(_>>>=7&u,u-=7&u;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if((65535&_)!==(_>>>16^65535)){t.msg="invalid stored block lengths",a.mode=_t;break}if(a.length=65535&_,_=0,u=0,a.mode=Q,e===A)break t;case Q:a.mode=V;case V:if(g=a.length){if(g>l&&(g=l),g>h&&(g=h),0===g)break t;w.arraySet(r,n,s,g,o),l-=g,s+=g,h-=g,o+=g,a.length-=g;break}a.mode=X;break;case $:for(;u<14;){if(0===l)break t;
l--,_+=n[s++]<<u,u+=8}if(a.nlen=(31&_)+257,_>>>=5,u-=5,a.ndist=(31&_)+1,_>>>=5,u-=5,a.ncode=(15&_)+4,_>>>=4,u-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=_t;break}a.have=0,a.mode=tt;case tt:for(;a.have<a.ncode;){for(;u<3;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.lens[At[a.have++]]=7&_,_>>>=3,u-=3}for(;a.have<19;)a.lens[At[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,zt={bits:a.lenbits},xt=y(x,a.lens,0,19,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid code lengths set",a.mode=_t;break}a.have=0,a.mode=et;case et:for(;a.have<a.nlen+a.ndist;){for(;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(wt<16)_>>>=gt,u-=gt,a.lens[a.have++]=wt;else{if(16===wt){for(Bt=gt+2;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(_>>>=gt,u-=gt,0===a.have){t.msg="invalid bit length repeat",a.mode=_t;break}yt=a.lens[a.have-1],g=3+(3&_),_>>>=2,u-=2}else if(17===wt){for(Bt=gt+3;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=gt,u-=gt,yt=0,g=3+(7&_),_>>>=3,u-=3}else{for(Bt=gt+7;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=gt,u-=gt,yt=0,g=11+(127&_),_>>>=7,u-=7}if(a.have+g>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=_t;break}for(;g--;)a.lens[a.have++]=yt}}if(a.mode===_t)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=_t;break}if(a.lenbits=9,zt={bits:a.lenbits},xt=y(z,a.lens,0,a.nlen,a.lencode,0,a.work,zt),a.lenbits=zt.bits,xt){t.msg="invalid literal/lengths set",a.mode=_t;break}if(a.distbits=6,a.distcode=a.distdyn,zt={bits:a.distbits},xt=y(B,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,zt),a.distbits=zt.bits,xt){t.msg="invalid distances set",a.mode=_t;break}if(a.mode=at,e===A)break t;case at:a.mode=it;case it:if(l>=6&&h>=258){t.next_out=o,t.avail_out=h,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=u,k(t,b),o=t.next_out,r=t.output,h=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,_=a.hold,u=a.bits,a.mode===X&&(a.back=-1);break}for(a.back=0;St=a.lencode[_&(1<<a.lenbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(mt&&0===(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.lencode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=pt,u-=pt,a.back+=pt}if(_>>>=gt,u-=gt,a.back+=gt,a.length=wt,0===mt){a.mode=lt;break}if(32&mt){a.back=-1,a.mode=X;break}if(64&mt){t.msg="invalid literal/length code",a.mode=_t;break}a.extra=15&mt,a.mode=nt;case nt:if(a.extra){for(Bt=a.extra;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.length+=_&(1<<a.extra)-1,_>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=rt;case rt:for(;St=a.distcode[_&(1<<a.distbits)-1],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(0===(240&mt)){for(pt=gt,vt=mt,kt=wt;St=a.distcode[kt+((_&(1<<pt+vt)-1)>>pt)],gt=St>>>24,mt=St>>>16&255,wt=65535&St,!(pt+gt<=u);){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}_>>>=pt,u-=pt,a.back+=pt}if(_>>>=gt,u-=gt,a.back+=gt,64&mt){t.msg="invalid distance code",a.mode=_t;break}a.offset=wt,a.extra=15&mt,a.mode=st;case st:if(a.extra){for(Bt=a.extra;u<Bt;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}a.offset+=_&(1<<a.extra)-1,_>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=_t;break}a.mode=ot;case ot:if(0===h)break t;if(g=b-h,a.offset>g){if(g=a.offset-g,g>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=_t;break}g>a.wnext?(g-=a.wnext,m=a.wsize-g):m=a.wnext-g,g>a.length&&(g=a.length),bt=a.window}else bt=r,m=o-a.offset,g=a.length;g>h&&(g=h),h-=g,a.length-=g;do r[o++]=bt[m++];while(--g);0===a.length&&(a.mode=it);break;case lt:if(0===h)break t;r[o++]=a.length,h--,a.mode=it;break;case ht:if(a.wrap){for(;u<32;){if(0===l)break t;l--,_|=n[s++]<<u,u+=8}if(b-=h,t.total_out+=b,a.total+=b,b&&(t.adler=a.check=a.flags?v(a.check,r,b,o-b):p(a.check,r,b,o-b)),b=h,(a.flags?_:i(_))!==a.check){t.msg="incorrect data check",a.mode=_t;break}_=0,u=0}a.mode=dt;case dt:if(a.wrap&&a.flags){for(;u<32;){if(0===l)break t;l--,_+=n[s++]<<u,u+=8}if(_!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=_t;break}_=0,u=0}a.mode=ft;case ft:xt=R;break t;case _t:xt=O;break t;case ut:return D;case ct:default:return N}return t.next_out=o,t.avail_out=h,t.next_in=s,t.avail_in=l,a.hold=_,a.bits=u,(a.wsize||b!==t.avail_out&&a.mode<_t&&(a.mode<ht||e!==S))&&f(t,t.output,t.next_out,b-t.avail_out)?(a.mode=ut,D):(c-=t.avail_in,b-=t.avail_out,t.total_in+=c,t.total_out+=b,a.total+=b,a.wrap&&b&&(t.adler=a.check=a.flags?v(a.check,r,b,t.next_out-b):p(a.check,r,b,t.next_out-b)),t.data_type=a.bits+(a.last?64:0)+(a.mode===X?128:0)+(a.mode===at||a.mode===Q?256:0),(0===c&&0===b||e===S)&&xt===Z&&(xt=I),xt)}function u(t){if(!t||!t.state)return N;var e=t.state;return e.window&&(e.window=null),t.state=null,Z}function c(t,e){var a;return t&&t.state?(a=t.state,0===(2&a.wrap)?N:(a.head=e,e.done=!1,Z)):N}function b(t,e){var a,i,n,r=e.length;return t&&t.state?(a=t.state,0!==a.wrap&&a.mode!==G?N:a.mode===G&&(i=1,i=p(i,e,r,0),i!==a.check)?O:(n=f(t,e,r,r))?(a.mode=ut,D):(a.havedict=1,Z)):N}var g,m,w=t("../utils/common"),p=t("./adler32"),v=t("./crc32"),k=t("./inffast"),y=t("./inftrees"),x=0,z=1,B=2,S=4,E=5,A=6,Z=0,R=1,C=2,N=-2,O=-3,D=-4,I=-5,U=8,T=1,F=2,L=3,H=4,j=5,K=6,M=7,P=8,Y=9,q=10,G=11,X=12,W=13,J=14,Q=15,V=16,$=17,tt=18,et=19,at=20,it=21,nt=22,rt=23,st=24,ot=25,lt=26,ht=27,dt=28,ft=29,_t=30,ut=31,ct=32,bt=852,gt=592,mt=15,wt=mt,pt=!0;a.inflateReset=s,a.inflateReset2=o,a.inflateResetKeep=r,a.inflateInit=h,a.inflateInit2=l,a.inflate=_,a.inflateEnd=u,a.inflateGetHeader=c,a.inflateSetDictionary=b,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,a){"use strict";var i=t("../utils/common"),n=15,r=852,s=592,o=0,l=1,h=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,c,b,g,m,w){var p,v,k,y,x,z,B,S,E,A=w.bits,Z=0,R=0,C=0,N=0,O=0,D=0,I=0,U=0,T=0,F=0,L=null,H=0,j=new i.Buf16(n+1),K=new i.Buf16(n+1),M=null,P=0;for(Z=0;Z<=n;Z++)j[Z]=0;for(R=0;R<c;R++)j[e[a+R]]++;for(O=A,N=n;N>=1&&0===j[N];N--);if(O>N&&(O=N),0===N)return b[g++]=20971520,b[g++]=20971520,w.bits=1,0;for(C=1;C<N&&0===j[C];C++);for(O<C&&(O=C),U=1,Z=1;Z<=n;Z++)if(U<<=1,U-=j[Z],U<0)return-1;if(U>0&&(t===o||1!==N))return-1;for(K[1]=0,Z=1;Z<n;Z++)K[Z+1]=K[Z]+j[Z];for(R=0;R<c;R++)0!==e[a+R]&&(m[K[e[a+R]]++]=R);if(t===o?(L=M=m,z=19):t===l?(L=d,H-=257,M=f,P-=257,z=256):(L=_,M=u,z=-1),F=0,R=0,Z=C,x=g,D=O,I=0,k=-1,T=1<<O,y=T-1,t===l&&T>r||t===h&&T>s)return 1;for(var Y=0;;){Y++,B=Z-I,m[R]<z?(S=0,E=m[R]):m[R]>z?(S=M[P+m[R]],E=L[H+m[R]]):(S=96,E=0),p=1<<Z-I,v=1<<D,C=v;do v-=p,b[x+(F>>I)+v]=B<<24|S<<16|E|0;while(0!==v);for(p=1<<Z-1;F&p;)p>>=1;if(0!==p?(F&=p-1,F+=p):F=0,R++,0===--j[Z]){if(Z===N)break;Z=e[a+m[R]]}if(Z>O&&(F&y)!==k){for(0===I&&(I=O),x+=C,D=Z-I,U=1<<D;D+I<N&&(U-=j[D+I],!(U<=0));)D++,U<<=1;if(T+=1<<D,t===l&&T>r||t===h&&T>s)return 1;k=F&y,b[k]=O<<24|D<<16|x-g|0}}return 0!==F&&(b[x+F]=Z-I<<24|64<<16|0),w.bits=O,0}},{"../utils/common":3}],13:[function(t,e,a){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,a){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?lt[t]:lt[256+(t>>>7)]}function o(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,a){t.bi_valid>W-a?(t.bi_buf|=e<<t.bi_valid&65535,o(t,t.bi_buf),t.bi_buf=e>>W-t.bi_valid,t.bi_valid+=a-W):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function h(t,e,a){l(t,a[2*e],a[2*e+1])}function d(t,e){var a=0;do a|=1&t,t>>>=1,a<<=1;while(--e>0);return a>>>1}function f(t){16===t.bi_valid?(o(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function _(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=X;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<G;a++)i=t.heap[a],r=l[2*l[2*i+1]+1]+1,r>c&&(r=c,b++),l[2*i+1]=r,i>h||(t.bl_count[r]++,s=0,i>=u&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(b>0);for(r=c;0!==r;r--)for(i=t.bl_count[r];0!==i;)n=t.heap[--a],n>h||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}function u(t,e,a){var i,n,r=new Array(X+1),s=0;for(i=1;i<=X;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=d(r[o]++,o))}}function c(){var t,e,a,i,r,s=new Array(X+1);for(a=0,i=0;i<K-1;i++)for(dt[i]=a,t=0;t<1<<et[i];t++)ht[a++]=i;for(ht[a-1]=i,r=0,i=0;i<16;i++)for(ft[i]=r,t=0;t<1<<at[i];t++)lt[r++]=i;for(r>>=7;i<Y;i++)for(ft[i]=r<<7,t=0;t<1<<at[i]-7;t++)lt[256+r++]=i;for(e=0;e<=X;e++)s[e]=0;for(t=0;t<=143;)st[2*t+1]=8,t++,s[8]++;for(;t<=255;)st[2*t+1]=9,t++,s[9]++;for(;t<=279;)st[2*t+1]=7,t++,s[7]++;for(;t<=287;)st[2*t+1]=8,t++,s[8]++;for(u(st,P+1,s),t=0;t<Y;t++)ot[2*t+1]=5,ot[2*t]=d(t,5);_t=new n(st,et,M+1,P,X),ut=new n(ot,at,0,Y,X),ct=new n(new Array(0),it,0,q,J)}function b(t){var e;for(e=0;e<P;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<q;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Q]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?o(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function m(t,e,a,i){g(t),i&&(o(t,a),o(t,~a)),N.arraySet(t.pending_buf,t.window,e,a,t.pending),t.pending+=a}function w(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}function p(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&w(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!w(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}function v(t,e,a){var i,n,r,o,d=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],n=t.pending_buf[t.l_buf+d],d++,0===i?h(t,n,e):(r=ht[n],h(t,r+M+1,e),o=et[r],0!==o&&(n-=dt[r],l(t,n,o)),i--,r=s(i),h(t,r,a),o=at[r],0!==o&&(i-=ft[r],l(t,i,o)));while(d<t.last_lit);h(t,Q,e)}function k(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=G,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)n=t.heap[++t.heap_len]=h<2?++h:0,r[2*n]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;a>=1;a--)p(t,r,a);n=l;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],p(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,p(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],_(t,e),u(r,h,t.bl_count)}function y(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*V]++):o<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,o=0,r=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}function x(t,e,a){var i,n,r=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),i=0;i<=a;i++)if(n=s,s=e[2*(i+1)+1],!(++o<d&&n===s)){if(o<f){do h(t,n,t.bl_tree);while(0!==--o)}else 0!==n?(n!==r&&(h(t,n,t.bl_tree),o--),h(t,V,t.bl_tree),l(t,o-3,2)):o<=10?(h(t,$,t.bl_tree),l(t,o-3,3)):(h(t,tt,t.bl_tree),l(t,o-11,7));o=0,r=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4)}}function z(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),k(t,t.bl_desc),e=q-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function B(t,e,a,i){var n;for(l(t,e-257,5),l(t,a-1,5),l(t,i-4,4),n=0;n<i;n++)l(t,t.bl_tree[2*nt[n]+1],3);x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,a-1)}function S(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return D;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return I;for(e=32;e<M;e++)if(0!==t.dyn_ltree[2*e])return I;return D}function E(t){bt||(c(),bt=!0),t.l_desc=new r(t.dyn_ltree,_t),t.d_desc=new r(t.dyn_dtree,ut),t.bl_desc=new r(t.bl_tree,ct),t.bi_buf=0,t.bi_valid=0,b(t)}function A(t,e,a,i){l(t,(T<<1)+(i?1:0),3),m(t,e,a,!0)}function Z(t){l(t,F<<1,3),h(t,Q,st),f(t)}function R(t,e,a,i){var n,r,s=0;t.level>0?(t.strm.data_type===U&&(t.strm.data_type=S(t)),k(t,t.l_desc),k(t,t.d_desc),s=z(t),n=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=n&&(n=r)):n=r=a+5,a+4<=n&&e!==-1?A(t,e,a,i):t.strategy===O||r===n?(l(t,(F<<1)+(i?1:0),3),v(t,st,ot)):(l(t,(L<<1)+(i?1:0),3),B(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),v(t,t.dyn_ltree,t.dyn_dtree)),b(t),i&&g(t)}function C(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(ht[a]+M+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var N=t("../utils/common"),O=4,D=0,I=1,U=2,T=0,F=1,L=2,H=3,j=258,K=29,M=256,P=M+1+K,Y=30,q=19,G=2*P+1,X=15,W=16,J=7,Q=256,V=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],at=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=512,st=new Array(2*(P+2));i(st);var ot=new Array(2*Y);i(ot);var lt=new Array(rt);i(lt);var ht=new Array(j-H+1);i(ht);var dt=new Array(K);i(dt);var ft=new Array(Y);i(ft);var _t,ut,ct,bt=!1;a._tr_init=E,a._tr_stored_block=A,a._tr_flush_block=R,a._tr_tally=C,a._tr_align=Z},{"../utils/common":3}],15:[function(t,e,a){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i},{}],"/":[function(t,e,a){"use strict";var i=t("./lib/utils/common").assign,n=t("./lib/deflate"),r=t("./lib/inflate"),s=t("./lib/zlib/constants"),o={};i(o,n,r,s),e.exports=o},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});

var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function($input$$,$binary$$){var $output$$="",$chr1_enc2$$,$chr2$$,$chr3$$,$enc1$$,$enc3$$,$enc4$$,$i$$=0;for(null!=$binary$$&&$binary$$||($input$$=Base64._utf8_encode($input$$));$i$$<$input$$.length;)$chr1_enc2$$=$input$$.charCodeAt($i$$++),$chr2$$=$input$$.charCodeAt($i$$++),$chr3$$=$input$$.charCodeAt($i$$++),$enc1$$=$chr1_enc2$$>>2,$chr1_enc2$$=($chr1_enc2$$&3)<<4|$chr2$$>>4,$enc3$$=($chr2$$&15)<<2|
$chr3$$>>6,$enc4$$=$chr3$$&63,isNaN($chr2$$)?$enc3$$=$enc4$$=64:isNaN($chr3$$)&&($enc4$$=64),$output$$=$output$$+this._keyStr.charAt($enc1$$)+this._keyStr.charAt($chr1_enc2$$)+this._keyStr.charAt($enc3$$)+this._keyStr.charAt($enc4$$);return $output$$},decode:function($input$$,$binary$$){$binary$$=null!=$binary$$?$binary$$:!1;var $output$$="",$chr1$jscomp$1_enc1$$,$chr2$jscomp$1_enc2$$,$chr3$$,$enc3$$,$enc4$$,$i$$=0;for($input$$=$input$$.replace(/[^A-Za-z0-9\+\/\=]/g,"");$i$$<$input$$.length;)$chr1$jscomp$1_enc1$$=
this._keyStr.indexOf($input$$.charAt($i$$++)),$chr2$jscomp$1_enc2$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$enc3$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$enc4$$=this._keyStr.indexOf($input$$.charAt($i$$++)),$chr1$jscomp$1_enc1$$=$chr1$jscomp$1_enc1$$<<2|$chr2$jscomp$1_enc2$$>>4,$chr2$jscomp$1_enc2$$=($chr2$jscomp$1_enc2$$&15)<<4|$enc3$$>>2,$chr3$$=($enc3$$&3)<<6|$enc4$$,$output$$+=String.fromCharCode($chr1$jscomp$1_enc1$$),64!=$enc3$$&&($output$$+=String.fromCharCode($chr2$jscomp$1_enc2$$)),
64!=$enc4$$&&($output$$+=String.fromCharCode($chr3$$));$binary$$||($output$$=Base64._utf8_decode($output$$));return $output$$},_utf8_encode:function($string$$){$string$$=$string$$.replace(/\r\n/g,"\n");for(var $utftext$$="",$n$$=0;$n$$<$string$$.length;$n$$++){var $c$$=$string$$.charCodeAt($n$$);128>$c$$?$utftext$$+=String.fromCharCode($c$$):(127<$c$$&&2048>$c$$?$utftext$$+=String.fromCharCode($c$$>>6|192):($utftext$$+=String.fromCharCode($c$$>>12|224),$utftext$$+=String.fromCharCode($c$$>>6&63|128)),
$utftext$$+=String.fromCharCode($c$$&63|128))}return $utftext$$},_utf8_decode:function($utftext$$){var $string$$="",$i$$=0,$c$$;for(c1=c2=0;$i$$<$utftext$$.length;)$c$$=$utftext$$.charCodeAt($i$$),128>$c$$?($string$$+=String.fromCharCode($c$$),$i$$++):191<$c$$&&224>$c$$?(c2=$utftext$$.charCodeAt($i$$+1),$string$$+=String.fromCharCode(($c$$&31)<<6|c2&63),$i$$+=2):(c2=$utftext$$.charCodeAt($i$$+1),c3=$utftext$$.charCodeAt($i$$+2),$string$$+=String.fromCharCode(($c$$&15)<<12|(c2&63)<<6|c3&63),$i$$+=
3);return $string$$}};window.urlParams=window.urlParams||{};window.isLocalStorage=window.isLocalStorage||!1;window.mxLoadSettings=window.mxLoadSettings||"1"!=urlParams.configure;window.isSvgBrowser=window.isSvgBrowser||0>navigator.userAgent.indexOf("MSIE")||9<=document.documentMode;window.EXPORT_URL=window.EXPORT_URL||"https://exp.draw.io/ImageExport4/export";window.PLANT_URL=window.PLANT_URL||"https://exp-plant.draw.io/plantuml4";window.DRAW_MATH_URL=window.DRAW_MATH_URL||"https://www.draw.io/math";
window.VSD_CONVERT_URL=window.VSD_CONVERT_URL||"https://convert.draw.io/VsdConverter/api/converter";window.EMF_CONVERT_URL=window.EMF_CONVERT_URL||"https://convert.draw.io/emf2png/convertEMF";window.SAVE_URL=window.SAVE_URL||"save";window.OPEN_URL=window.OPEN_URL||"open";window.PROXY_URL=window.PROXY_URL||"proxy";window.VIEWER_URL=null;window.SHAPES_PATH=window.SHAPES_PATH||"shapes";window.GRAPH_IMAGE_PATH=window.GRAPH_IMAGE_PATH||"img";
window.ICONSEARCH_PATH=window.ICONSEARCH_PATH||((0<=navigator.userAgent.indexOf("MSIE")||urlParams.dev)&&"file:"!=window.location.protocol?"iconSearch":"https://www.draw.io/iconSearch");window.ICONSEARCH_PATH=void 0;window.TEMPLATE_PATH=window.TEMPLATE_PATH||"templates";window.NEW_DIAGRAM_CATS_PATH=window.NEW_DIAGRAM_CATS_PATH||"newDiagramCats";window.RESOURCES_PATH=window.RESOURCES_PATH||"resources";window.RESOURCE_BASE=window.RESOURCE_BASE||RESOURCES_PATH+"/dia";
window.mxLoadResources=window.mxLoadResources||!1;window.mxLanguage=window.mxLanguage||function(){var $lang$$="1"==urlParams.offline?"en":urlParams.lang;if(null==$lang$$&&"undefined"!=typeof JSON&&isLocalStorage)try{var $value$$=localStorage.getItem(".drawio-config");null!=$value$$&&($lang$$=JSON.parse($value$$).language||null)}catch($e$$){isLocalStorage=!1}return $lang$$}();
window.mxLanguageMap=window.mxLanguageMap||{i18n:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",bs:"Bosanski",bg:"Bulgarian",ca:"Catal",cs:"etina",da:"Dansk",de:"Deutsch",et:"Eesti",en:"English",es:"Espaol",fil:"Filipino",fr:"Franais",it:"Italiano",hu:"Magyar",nl:"Nederlands",no:"Norsk",pl:"Polski","pt-br":"Portugus (Brasil)",pt:"Portugus (Portugal)",ro:"Romn",fi:"Suomi",sv:"Svenska",vi:"Ting Vit",tr:"Trke",el:"",ru:"??",sr:"?",uk:"?",he:"",ar:"",th:"",
ko:"",ja:"",zh:"","zh-tw":"?"};"undefined"===typeof window.mxBasePath&&(window.mxBasePath="mxgraph");if(null==window.mxLanguages){window.mxLanguages=[];for(var lang in mxLanguageMap)"en"!=lang&&window.mxLanguages.push(lang)}
window.uiTheme=window.uiTheme||function(){var $ui$$=urlParams.ui;if(null==$ui$$&&"undefined"!==typeof JSON&&isLocalStorage)try{var $value$$=localStorage.getItem(".drawio-config");null!=$value$$&&($ui$$=JSON.parse($value$$).ui||null)}catch($e$$){isLocalStorage=!1}try{null==$ui$$&&414>=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)&&($ui$$="min")}catch($e$0$$){}return $ui$$}();
function setCurrentXml($data$$,$filename$$){null!=window.parent&&null!=window.parent.openFile&&window.parent.openFile.setData($data$$,$filename$$)}
(function(){if("undefined"!==typeof JSON&&isLocalStorage)try{var $ex_position_value$$=localStorage.getItem(".drawio-config"),$host_lastIndex_showSplash$$=!0;null!=$ex_position_value$$&&($host_lastIndex_showSplash$$=JSON.parse($ex_position_value$$).showStartScreen);0==$host_lastIndex_showSplash$$&&(urlParams.splash="0")}catch($e$$){}$ex_position_value$$=urlParams["export"];null!=$ex_position_value$$&&($ex_position_value$$=decodeURIComponent($ex_position_value$$),"http://"!=$ex_position_value$$.substring(0,
7)&&"https://"!=$ex_position_value$$.substring(0,8)&&($ex_position_value$$="http://"+$ex_position_value$$),EXPORT_URL=$ex_position_value$$,console.log("init.js EXPORT_URL = "+EXPORT_URL));window.DRAWIO_LOG_URL=window.DRAWIO_LOG_URL||"";$host_lastIndex_showSplash$$=window.location.host;"test.draw.io"!=$host_lastIndex_showSplash$$&&($ex_position_value$$=$host_lastIndex_showSplash$$.length-7,$host_lastIndex_showSplash$$=$host_lastIndex_showSplash$$.lastIndexOf("draw.io",$ex_position_value$$),-1!==$host_lastIndex_showSplash$$&&
$host_lastIndex_showSplash$$===$ex_position_value$$&&(window.DRAWIO_LOG_URL="https://log.draw.io"))})();if("1"==urlParams.offline||"1"==urlParams.demo||"1"==urlParams.stealth||"1"==urlParams.local)urlParams.picker="0",urlParams.gapi="0",urlParams.db="0",urlParams.od="0",urlParams.gh="0",urlParams.tr="0";if("1"==urlParams.offline||"1"==urlParams.local)urlParams.math="0";"1"==urlParams.lightbox&&(urlParams.chrome="0");
(null==window.location.hash||1>=window.location.hash.length)&&null!=urlParams.open&&(window.location.hash=urlParams.open);window.urlParams=window.urlParams||{};window.MAX_REQUEST_SIZE=window.MAX_REQUEST_SIZE||10485760;window.MAX_AREA=window.MAX_AREA||225E6;window.EXPORT_URL=window.EXPORT_URL||"/export";window.SAVE_URL=window.SAVE_URL||"/save";window.OPEN_URL=window.OPEN_URL||"/open";window.RESOURCES_PATH=window.RESOURCES_PATH||"resources";window.RESOURCE_BASE=window.RESOURCE_BASE||window.RESOURCES_PATH+"/grapheditor";window.STENCIL_PATH=window.STENCIL_PATH||"stencils";window.IMAGE_PATH=window.IMAGE_PATH||"images";
window.STYLE_PATH=window.STYLE_PATH||"styles";window.CSS_PATH=window.CSS_PATH||"styles";window.OPEN_FORM=window.OPEN_FORM||"open.html";window.mxBasePath=window.mxBasePath||"../../../src";window.mxLanguage=window.mxLanguage||urlParams.lang;window.mxLanguages=window.mxLanguages||["de"];var mxClient={VERSION:"4.0.1",IS_IE:0<=navigator.userAgent.indexOf("MSIE"),IS_IE6:0<=navigator.userAgent.indexOf("MSIE 6"),IS_IE11:!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:!!navigator.userAgent.match(/Edge\//),IS_QUIRKS:0<=navigator.userAgent.indexOf("MSIE")&&(null==document.documentMode||5==document.documentMode),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:0<=navigator.userAgent.indexOf("Mozilla/")&&0>navigator.userAgent.indexOf("MSIE")&&
0>navigator.userAgent.indexOf("Edge/"),IS_OP:0<=navigator.userAgent.indexOf("Opera/")||0<=navigator.userAgent.indexOf("OPR/"),IS_OT:0<=navigator.userAgent.indexOf("Presto/")&&0>navigator.userAgent.indexOf("Presto/2.4.")&&0>navigator.userAgent.indexOf("Presto/2.3.")&&0>navigator.userAgent.indexOf("Presto/2.2.")&&0>navigator.userAgent.indexOf("Presto/2.1.")&&0>navigator.userAgent.indexOf("Presto/2.0.")&&0>navigator.userAgent.indexOf("Presto/1."),IS_SF:0<=navigator.userAgent.indexOf("AppleWebKit/")&&
0>navigator.userAgent.indexOf("Chrome/")&&0>navigator.userAgent.indexOf("Edge/"),IS_IOS:navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,IS_GC:0<=navigator.userAgent.indexOf("Chrome/")&&0>navigator.userAgent.indexOf("Edge/"),IS_CHROMEAPP:null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime,IS_FF:0<=navigator.userAgent.indexOf("Firefox/"),IS_MT:0<=navigator.userAgent.indexOf("Firefox/")&&0>navigator.userAgent.indexOf("Firefox/1.")&&0>navigator.userAgent.indexOf("Firefox/2.")||0<=navigator.userAgent.indexOf("Iceweasel/")&&
0>navigator.userAgent.indexOf("Iceweasel/1.")&&0>navigator.userAgent.indexOf("Iceweasel/2.")||0<=navigator.userAgent.indexOf("SeaMonkey/")&&0>navigator.userAgent.indexOf("SeaMonkey/1.")||0<=navigator.userAgent.indexOf("Iceape/")&&0>navigator.userAgent.indexOf("Iceape/1."),IS_VML:"MICROSOFT INTERNET EXPLORER"==navigator.appName.toUpperCase(),IS_SVG:"MICROSOFT INTERNET EXPLORER"!=navigator.appName.toUpperCase(),NO_FO:!document.createElementNS||"[object SVGForeignObjectElement]"!=document.createElementNS("http://www.w3.org/2000/svg",
"foreignObject")||0<=navigator.userAgent.indexOf("Opera/"),IS_WIN:0<navigator.appVersion.indexOf("Win"),IS_MAC:0<navigator.appVersion.indexOf("Mac"),IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:null!=window.PointerEvent&&!(0<navigator.appVersion.indexOf("Mac")),IS_LOCAL:0>document.location.href.indexOf("http://")&&0>document.location.href.indexOf("https://"),defaultBundles:[],isBrowserSupported:function(){return mxClient.IS_VML||mxClient.IS_SVG},link:function($a$$,$b$$,$c$$,$d$$){$c$$=
$c$$||document;if(mxClient.IS_IE6)$c$$.write('<link rel="'+$a$$+'" href="'+$b$$+'" charset="UTF-8" type="text/css"/>');else{var $e$$=$c$$.createElement("link");$e$$.setAttribute("rel",$a$$);$e$$.setAttribute("href",$b$$);$e$$.setAttribute("charset","UTF-8");$e$$.setAttribute("type","text/css");$d$$&&$e$$.setAttribute("id",$d$$);$c$$.getElementsByTagName("head")[0].appendChild($e$$)}},loadResources:function($a$$,$b$$){function $c$$(){0==--$d$$&&$a$$()}for(var $d$$=mxClient.defaultBundles.length,$e$$=
0;$e$$<mxClient.defaultBundles.length;$e$$++)mxResources.add(mxClient.defaultBundles[$e$$],$b$$,$c$$)},include:function($a$$){document.write('<script src="'+$a$$+'">\x3c/script>')}};"undefined"==typeof mxLoadResources&&(mxLoadResources=!0);"undefined"==typeof mxForceIncludes&&(mxForceIncludes=!1);"undefined"==typeof mxResourceExtension&&(mxResourceExtension=".txt");"undefined"==typeof mxLoadStylesheets&&(mxLoadStylesheets=!0);
"undefined"!=typeof mxBasePath&&0<mxBasePath.length?("/"==mxBasePath.substring(mxBasePath.length-1)&&(mxBasePath=mxBasePath.substring(0,mxBasePath.length-1)),mxClient.basePath=mxBasePath):mxClient.basePath=".";"undefined"!=typeof mxImageBasePath&&0<mxImageBasePath.length?("/"==mxImageBasePath.substring(mxImageBasePath.length-1)&&(mxImageBasePath=mxImageBasePath.substring(0,mxImageBasePath.length-1)),mxClient.imageBasePath=mxImageBasePath):mxClient.imageBasePath=mxClient.basePath+"/images";
mxClient.language="undefined"!=typeof mxLanguage&&null!=mxLanguage?mxLanguage:mxClient.IS_IE?navigator.userLanguage:navigator.language;mxClient.defaultLanguage="undefined"!=typeof mxDefaultLanguage&&null!=mxDefaultLanguage?mxDefaultLanguage:"en";mxLoadStylesheets&&mxClient.link("stylesheet",mxClient.basePath+"/css/common.css");"undefined"!=typeof mxLanguages&&null!=mxLanguages&&(mxClient.languages=mxLanguages);
mxClient.IS_VML&&(mxClient.IS_SVG?mxClient.IS_VML=!1:(8==document.documentMode?(document.namespaces.add(mxClient.VML_PREFIX,"urn:schemas-microsoft-com:vml","#default#VML"),document.namespaces.add(mxClient.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office","#default#VML")):(document.namespaces.add(mxClient.VML_PREFIX,"urn:schemas-microsoft-com:vml"),document.namespaces.add(mxClient.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office")),mxClient.IS_QUIRKS&&30<=document.styleSheets.length?function(){var $a$$=
document.createElement("style");$a$$.type="text/css";$a$$.styleSheet.cssText=mxClient.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+mxClient.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}";document.getElementsByTagName("head")[0].appendChild($a$$)}():document.createStyleSheet().cssText=mxClient.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+mxClient.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",mxLoadStylesheets&&mxClient.link("stylesheet",mxClient.basePath+"/css/explorer.css")));
var mxLog={consoleName:"Console",TRACE:!1,DEBUG:!0,WARN:!0,buffer:"",init:function(){if(null==mxLog.window&&null!=document.body){var $a$jscomp$0$$=mxLog.consoleName+" - mxGraph "+mxClient.VERSION,$b$jscomp$0$$=document.createElement("table");$b$jscomp$0$$.setAttribute("width","100%");$b$jscomp$0$$.setAttribute("height","100%");var $c$$=document.createElement("tbody"),$d$$=document.createElement("tr"),$e$$=document.createElement("td");$e$$.style.verticalAlign="top";mxLog.textarea=document.createElement("textarea");
mxLog.textarea.setAttribute("wrap","off");mxLog.textarea.setAttribute("readOnly","true");mxLog.textarea.style.height="100%";mxLog.textarea.style.resize="none";mxLog.textarea.value=mxLog.buffer;mxLog.textarea.style.width=mxClient.IS_NS&&"BackCompat"!=document.compatMode?"99%":"100%";$e$$.appendChild(mxLog.textarea);$d$$.appendChild($e$$);$c$$.appendChild($d$$);$d$$=document.createElement("tr");mxLog.td=document.createElement("td");mxLog.td.style.verticalAlign="top";mxLog.td.setAttribute("height","30px");
$d$$.appendChild(mxLog.td);$c$$.appendChild($d$$);$b$jscomp$0$$.appendChild($c$$);mxLog.addButton("Info",function($a$$){mxLog.info()});mxLog.addButton("DOM",function($a$$){$a$$=mxUtils.getInnerHtml(document.body);mxLog.debug($a$$)});mxLog.addButton("Trace",function($a$$){mxLog.TRACE=!mxLog.TRACE;mxLog.TRACE?mxLog.debug("Tracing enabled"):mxLog.debug("Tracing disabled")});mxLog.addButton("Copy",function($a$$){try{mxUtils.copy(mxLog.textarea.value)}catch($k$$){mxUtils.alert($k$$)}});mxLog.addButton("Show",
function($a$$){try{mxUtils.popup(mxLog.textarea.value)}catch($k$$){mxUtils.alert($k$$)}});mxLog.addButton("Clear",function($a$$){mxLog.textarea.value=""});$d$$=$c$$=0;"number"===typeof window.innerWidth?($c$$=window.innerHeight,$d$$=window.innerWidth):($c$$=document.documentElement.clientHeight||document.body.clientHeight,$d$$=document.body.clientWidth);mxLog.window=new mxWindow($a$jscomp$0$$,$b$jscomp$0$$,Math.max(0,$d$$-320),Math.max(0,$c$$-210),300,160);mxLog.window.setMaximizable(!0);mxLog.window.setScrollable(!1);
mxLog.window.setResizable(!0);mxLog.window.setClosable(!0);mxLog.window.destroyOnClose=!1;if((mxClient.IS_NS||mxClient.IS_IE)&&!mxClient.IS_GC&&!mxClient.IS_SF&&"BackCompat"!=document.compatMode||11==document.documentMode){var $f$$=mxLog.window.getElement(),$a$jscomp$0$$=function $$a$jscomp$0$$$($a$$,$b$$){mxLog.textarea.style.height=Math.max(0,$f$$.offsetHeight-70)+"px"};mxLog.window.addListener(mxEvent.RESIZE_END,$a$jscomp$0$$);mxLog.window.addListener(mxEvent.MAXIMIZE,$a$jscomp$0$$);mxLog.window.addListener(mxEvent.NORMALIZE,
$a$jscomp$0$$);mxLog.textarea.style.height="92px"}}},info:function(){mxLog.writeln(mxUtils.toString(navigator))},addButton:function($a$$,$b$$){var $c$$=document.createElement("button");mxUtils.write($c$$,$a$$);mxEvent.addListener($c$$,"click",$b$$);mxLog.td.appendChild($c$$)},isVisible:function(){return null!=mxLog.window?mxLog.window.isVisible():!1},show:function(){mxLog.setVisible(!0)},setVisible:function($a$$){null==mxLog.window&&mxLog.init();null!=mxLog.window&&mxLog.window.setVisible($a$$)},
enter:function($a$$){if(mxLog.TRACE)return mxLog.writeln("Entering "+$a$$),(new Date).getTime()},leave:function($a$$,$b$$){if(mxLog.TRACE){var $c$$=0!=$b$$?" ("+((new Date).getTime()-$b$$)+" ms)":"";mxLog.writeln("Leaving "+$a$$+$c$$)}},debug:function(){mxLog.DEBUG&&mxLog.writeln.apply(this,arguments)},warn:function(){mxLog.WARN&&mxLog.writeln.apply(this,arguments)},write:function(){for(var $a$$="",$b$$=0;$b$$<arguments.length;$b$$++)$a$$+=arguments[$b$$],$b$$<arguments.length-1&&($a$$+=" ");null!=
mxLog.textarea?(mxLog.textarea.value+=$a$$,0<=navigator.userAgent.indexOf("Presto/2.5")&&(mxLog.textarea.style.visibility="hidden",mxLog.textarea.style.visibility="visible"),mxLog.textarea.scrollTop=mxLog.textarea.scrollHeight):mxLog.buffer+=$a$$},writeln:function(){for(var $a$$="",$b$$=0;$b$$<arguments.length;$b$$++)$a$$+=arguments[$b$$],$b$$<arguments.length-1&&($a$$+=" ");mxLog.write($a$$+"\n")}},mxObjectIdentity={FIELD_NAME:"mxObjectId",counter:0,get:function($a$$){if(null!=$a$$){if(null==$a$$[mxObjectIdentity.FIELD_NAME])if("object"===
typeof $a$$){var $b$$=mxUtils.getFunctionName($a$$.constructor);$a$$[mxObjectIdentity.FIELD_NAME]=$b$$+"#"+mxObjectIdentity.counter++}else"function"===typeof $a$$&&($a$$[mxObjectIdentity.FIELD_NAME]="Function#"+mxObjectIdentity.counter++);return $a$$[mxObjectIdentity.FIELD_NAME]}return null},clear:function($a$$){"object"!==typeof $a$$&&"function"!==typeof $a$$||delete $a$$[mxObjectIdentity.FIELD_NAME]}};function mxDictionary(){this.clear()}mxDictionary.prototype.map=null;
mxDictionary.prototype.clear=function $mxDictionary$$clear$(){this.map={}};mxDictionary.prototype.get=function $mxDictionary$$get$($a$$){$a$$=mxObjectIdentity.get($a$$);return this.map[$a$$]};mxDictionary.prototype.put=function $mxDictionary$$put$($a$$,$b$$){var $c$$=mxObjectIdentity.get($a$$),$d$$=this.map[$c$$];this.map[$c$$]=$b$$;return $d$$};mxDictionary.prototype.remove=function $mxDictionary$$remove$($a$$){$a$$=mxObjectIdentity.get($a$$);var $b$$=this.map[$a$$];delete this.map[$a$$];return $b$$};
mxDictionary.prototype.getKeys=function $mxDictionary$$getKeys$(){var $a$$=[],$b$$;for($b$$ in this.map)$a$$.push($b$$);return $a$$};mxDictionary.prototype.getValues=function $mxDictionary$$getValues$(){var $a$$=[],$b$$;for($b$$ in this.map)$a$$.push(this.map[$b$$]);return $a$$};mxDictionary.prototype.visit=function $mxDictionary$$visit$($a$$){for(var $b$$ in this.map)$a$$($b$$,this.map[$b$$])};
var mxResources={resources:{},extension:mxResourceExtension,resourcesEncoded:!1,loadDefaultBundle:!0,loadSpecialBundle:!0,isLanguageSupported:function($a$$){return null!=mxClient.languages?0<=mxUtils.indexOf(mxClient.languages,$a$$):!0},getDefaultBundle:function($a$$,$b$$){return mxResources.loadDefaultBundle||!mxResources.isLanguageSupported($b$$)?$a$$+mxResources.extension:null},getSpecialBundle:function($a$$,$b$$){if(null==mxClient.languages||!this.isLanguageSupported($b$$)){var $c$$=$b$$.indexOf("-");
0<$c$$&&($b$$=$b$$.substring(0,$c$$))}return mxResources.loadSpecialBundle&&mxResources.isLanguageSupported($b$$)&&$b$$!=mxClient.defaultLanguage?$a$$+"_"+$b$$+mxResources.extension:null},add:function($a$jscomp$1$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:null!=mxClient.language?mxClient.language.toLowerCase():mxConstants.NONE;if($b$$!=mxConstants.NONE){var $d$$=mxResources.getDefaultBundle($a$jscomp$1$$,$b$$),$e$$=mxResources.getSpecialBundle($a$jscomp$1$$,$b$$),$f$$=function $$f$$$(){if(null!=$e$$)if($c$$)mxUtils.get($e$$,
function($a$$){mxResources.parse($a$$.getText());$c$$()},function(){$c$$()});else try{var $a$jscomp$0$$=mxUtils.load($e$$);$a$jscomp$0$$.isReady()&&mxResources.parse($a$jscomp$0$$.getText())}catch($l$$){}else null!=$c$$&&$c$$()};if(null!=$d$$)if($c$$)mxUtils.get($d$$,function($a$$){mxResources.parse($a$$.getText());$f$$()},function(){$f$$()});else try{var $g$$=mxUtils.load($d$$);$g$$.isReady()&&mxResources.parse($g$$.getText());$f$$()}catch($k$$){}else $f$$()}},parse:function($a$$){if(null!=$a$$){$a$$=
$a$$.split("\n");for(var $b$$=0;$b$$<$a$$.length;$b$$++)if("#"!=$a$$[$b$$].charAt(0)){var $c$$=$a$$[$b$$].indexOf("=");if(0<$c$$){var $d$$=$a$$[$b$$].substring(0,$c$$),$e$$=$a$$[$b$$].length;13==$a$$[$b$$].charCodeAt($e$$-1)&&$e$$--;$c$$=$a$$[$b$$].substring($c$$+1,$e$$);this.resourcesEncoded?($c$$=$c$$.replace(/\\(?=u[a-fA-F\d]{4})/g,"%"),mxResources.resources[$d$$]=unescape($c$$)):mxResources.resources[$d$$]=$c$$}}}},get:function($a$$,$b$$,$c$$){$a$$=mxResources.resources[$a$$];null==$a$$&&($a$$=
$c$$);null!=$a$$&&null!=$b$$&&($a$$=mxResources.replacePlaceholders($a$$,$b$$));return $a$$},replacePlaceholders:function($a$$,$b$$){for(var $c$$=[],$d$$=null,$e$$=0;$e$$<$a$$.length;$e$$++){var $f$$=$a$$.charAt($e$$);"{"==$f$$?$d$$="":null!=$d$$&&"}"==$f$$?($d$$=parseInt($d$$)-1,0<=$d$$&&$d$$<$b$$.length&&$c$$.push($b$$[$d$$]),$d$$=null):null!=$d$$?$d$$+=$f$$:$c$$.push($f$$)}return $c$$.join("")},loadResources:function($a$$){mxResources.add(mxClient.basePath+"/resources/editor",null,function(){mxResources.add(mxClient.basePath+
"/resources/graph",null,$a$$)})}};function mxPoint($a$$,$b$$){this.x=null!=$a$$?$a$$:0;this.y=null!=$b$$?$b$$:0}mxPoint.prototype.x=null;mxPoint.prototype.y=null;mxPoint.prototype.equals=function $mxPoint$$equals$($a$$){return null!=$a$$&&$a$$.x==this.x&&$a$$.y==this.y};mxPoint.prototype.clone=function $mxPoint$$clone$(){return mxUtils.clone(this)};function mxRectangle($a$$,$b$$,$c$$,$d$$){mxPoint.call(this,$a$$,$b$$);this.width=null!=$c$$?$c$$:0;this.height=null!=$d$$?$d$$:0}
mxRectangle.prototype=new mxPoint;mxRectangle.prototype.constructor=mxRectangle;mxRectangle.prototype.width=null;mxRectangle.prototype.height=null;mxRectangle.prototype.setRect=function $mxRectangle$$setRect$($a$$,$b$$,$c$$,$d$$){this.x=$a$$;this.y=$b$$;this.width=$c$$;this.height=$d$$};mxRectangle.prototype.getCenterX=function $mxRectangle$$getCenterX$(){return this.x+this.width/2};mxRectangle.prototype.getCenterY=function $mxRectangle$$getCenterY$(){return this.y+this.height/2};
mxRectangle.prototype.add=function $mxRectangle$$add$($a$$){if(null!=$a$$){var $b$$=Math.min(this.x,$a$$.x),$c$$=Math.min(this.y,$a$$.y),$d$$=Math.max(this.x+this.width,$a$$.x+$a$$.width);$a$$=Math.max(this.y+this.height,$a$$.y+$a$$.height);this.x=$b$$;this.y=$c$$;this.width=$d$$-$b$$;this.height=$a$$-$c$$}};
mxRectangle.prototype.intersect=function $mxRectangle$$intersect$($a$$){if(null!=$a$$){var $b$$=this.x+this.width,$c$$=$a$$.x+$a$$.width,$d$$=this.y+this.height,$e$$=$a$$.y+$a$$.height;this.x=Math.max(this.x,$a$$.x);this.y=Math.max(this.y,$a$$.y);this.width=Math.min($b$$,$c$$)-this.x;this.height=Math.min($d$$,$e$$)-this.y}};mxRectangle.prototype.grow=function $mxRectangle$$grow$($a$$){this.x-=$a$$;this.y-=$a$$;this.width+=2*$a$$;this.height+=2*$a$$};
mxRectangle.prototype.getPoint=function $mxRectangle$$getPoint$(){return new mxPoint(this.x,this.y)};mxRectangle.prototype.rotate90=function $mxRectangle$$rotate90$(){var $a$$=(this.width-this.height)/2;this.x+=$a$$;this.y-=$a$$;$a$$=this.width;this.width=this.height;this.height=$a$$};mxRectangle.prototype.equals=function $mxRectangle$$equals$($a$$){return null!=$a$$&&$a$$.x==this.x&&$a$$.y==this.y&&$a$$.width==this.width&&$a$$.height==this.height};
mxRectangle.fromRectangle=function $mxRectangle$fromRectangle$($a$$){return new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height)};
var mxEffects={animateChanges:function($a$$,$b$$,$c$$){var $d$$=0,$e$$=function $$e$$$(){for(var $g$$=!1,$k$$=0;$k$$<$b$$.length;$k$$++){var $l$$=$b$$[$k$$];if($l$$ instanceof mxGeometryChange||$l$$ instanceof mxTerminalChange||$l$$ instanceof mxValueChange||$l$$ instanceof mxChildChange||$l$$ instanceof mxStyleChange){var $m$$=$a$$.getView().getState($l$$.cell||$l$$.child,!1);if(null!=$m$$)if($g$$=!0,$l$$.constructor!=mxGeometryChange||$a$$.model.isEdge($l$$.cell))mxUtils.setOpacity($m$$.shape.node,
100*$d$$/10);else{var $n$$=$a$$.getView().scale,$p$$=($l$$.geometry.x-$l$$.previous.x)*$n$$,$q$$=($l$$.geometry.y-$l$$.previous.y)*$n$$,$r$$=($l$$.geometry.width-$l$$.previous.width)*$n$$,$n$$=($l$$.geometry.height-$l$$.previous.height)*$n$$;0==$d$$?($m$$.x-=$p$$,$m$$.y-=$q$$,$m$$.width-=$r$$,$m$$.height-=$n$$):($m$$.x+=$p$$/10,$m$$.y+=$q$$/10,$m$$.width+=$r$$/10,$m$$.height+=$n$$/10);$a$$.cellRenderer.redraw($m$$);mxEffects.cascadeOpacity($a$$,$l$$.cell,100*$d$$/10)}}}10>$d$$&&$g$$?($d$$++,window.setTimeout($e$$,
$f$$)):null!=$c$$&&$c$$()},$f$$=30;$e$$()},cascadeOpacity:function($a$$,$b$$,$c$$){for(var $d$$=$a$$.model.getChildCount($b$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$a$$.model.getChildAt($b$$,$e$$),$g$$=$a$$.getView().getState($f$$);null!=$g$$&&(mxUtils.setOpacity($g$$.shape.node,$c$$),mxEffects.cascadeOpacity($a$$,$f$$,$c$$))}$b$$=$a$$.model.getEdges($b$$);if(null!=$b$$)for($e$$=0;$e$$<$b$$.length;$e$$++)$d$$=$a$$.getView().getState($b$$[$e$$]),null!=$d$$&&mxUtils.setOpacity($d$$.shape.node,$c$$)},fadeOut:function($a$$,
$b$$,$c$$,$d$$,$e$$,$f$$){$d$$=$d$$||40;$e$$=$e$$||30;var $g$$=$b$$||100;mxUtils.setOpacity($a$$,$g$$);if($f$$||null==$f$$){var $k$$=function $$k$$$(){$g$$=Math.max($g$$-$d$$,0);mxUtils.setOpacity($a$$,$g$$);0<$g$$?window.setTimeout($k$$,$e$$):($a$$.style.visibility="hidden",$c$$&&$a$$.parentNode&&$a$$.parentNode.removeChild($a$$))};window.setTimeout($k$$,$e$$)}else $a$$.style.visibility="hidden",$c$$&&$a$$.parentNode&&$a$$.parentNode.removeChild($a$$)}},mxUtils={errorResource:"none"!=mxClient.language?
"error":"",closeResource:"none"!=mxClient.language?"close":"",errorImage:mxClient.imageBasePath+"/error.gif",removeCursors:function($a$$){null!=$a$$.style&&($a$$.style.cursor="");$a$$=$a$$.childNodes;if(null!=$a$$)for(var $b$$=$a$$.length,$c$$=0;$c$$<$b$$;$c$$+=1)mxUtils.removeCursors($a$$[$c$$])},getCurrentStyle:function(){return mxClient.IS_IE&&(null==document.documentMode||9>document.documentMode)?function($a$$){return null!=$a$$?$a$$.currentStyle:null}:function($a$$){return null!=$a$$?window.getComputedStyle($a$$,
""):null}}(),parseCssNumber:function($a$$){"thin"==$a$$?$a$$="2":"medium"==$a$$?$a$$="4":"thick"==$a$$&&($a$$="6");$a$$=parseFloat($a$$);isNaN($a$$)&&($a$$=0);return $a$$},setPrefixedStyle:function(){var $a$$=null;mxClient.IS_OT?$a$$="O":mxClient.IS_SF||mxClient.IS_GC?$a$$="Webkit":mxClient.IS_MT?$a$$="Moz":mxClient.IS_IE&&9<=document.documentMode&&10>document.documentMode&&($a$$="ms");return function($b$$,$c$$,$d$$){$b$$[$c$$]=$d$$;null!=$a$$&&0<$c$$.length&&($c$$=$a$$+$c$$.substring(0,1).toUpperCase()+
$c$$.substring(1),$b$$[$c$$]=$d$$)}}(),hasScrollbars:function($a$$){$a$$=mxUtils.getCurrentStyle($a$$);return null!=$a$$&&("scroll"==$a$$.overflow||"auto"==$a$$.overflow)},bind:function($a$$,$b$$){return function(){return $b$$.apply($a$$,arguments)}},eval:function($a$$){var $b$$=null;if(0<=$a$$.indexOf("function"))try{eval("var _mxJavaScriptExpression="+$a$$),$b$$=_mxJavaScriptExpression,_mxJavaScriptExpression=null}catch($c$$){mxLog.warn($c$$.message+" while evaluating "+$a$$)}else try{$b$$=eval($a$$)}catch($c$1$$){mxLog.warn($c$1$$.message+
" while evaluating "+$a$$)}return $b$$},findNode:function($a$$,$b$$,$c$$){if($a$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $d$$=$a$$.getAttribute($b$$);if(null!=$d$$&&$d$$==$c$$)return $a$$}for($a$$=$a$$.firstChild;null!=$a$$;){$d$$=mxUtils.findNode($a$$,$b$$,$c$$);if(null!=$d$$)return $d$$;$a$$=$a$$.nextSibling}return null},getFunctionName:function($a$$){var $b$$=null;null!=$a$$&&(null!=$a$$.name?$b$$=$a$$.name:($b$$=mxUtils.trim($a$$.toString()),/^function\s/.test($b$$)&&($b$$=mxUtils.ltrim($b$$.substring(9)),
$a$$=$b$$.indexOf("("),0<$a$$&&($b$$=$b$$.substring(0,$a$$)))));return $b$$},indexOf:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++)if($a$$[$c$$]==$b$$)return $c$$;return-1},forEach:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++)$b$$($a$$[$c$$]);return $a$$},remove:function($a$$,$b$$){var $c$$=null;if("object"==typeof $b$$)for(var $d$$=mxUtils.indexOf($b$$,$a$$);0<=$d$$;)$b$$.splice($d$$,1),$c$$=$a$$,$d$$=mxUtils.indexOf($b$$,
$a$$);for(var $e$$ in $b$$)$b$$[$e$$]==$a$$&&(delete $b$$[$e$$],$c$$=$a$$);return $c$$},isNode:function($a$$,$b$$,$c$$,$d$$){return null==$a$$||isNaN($a$$.nodeType)||null!=$b$$&&$a$$.nodeName.toLowerCase()!=$b$$.toLowerCase()?!1:null==$c$$||$a$$.getAttribute($c$$)==$d$$},isAncestorNode:function($a$$,$b$$){for(var $c$$=$b$$;null!=$c$$;){if($c$$==$a$$)return!0;$c$$=$c$$.parentNode}return!1},getChildNodes:function($a$$,$b$$){$b$$=$b$$||mxConstants.NODETYPE_ELEMENT;for(var $c$$=[],$d$$=$a$$.firstChild;null!=
$d$$;)$d$$.nodeType==$b$$&&$c$$.push($d$$),$d$$=$d$$.nextSibling;return $c$$},importNode:function($a$$,$b$$,$c$$){if(mxClient.IS_IE&&(null==document.documentMode||10>document.documentMode))switch($b$$.nodeType){case 1:var $d$$=$a$$.createElement($b$$.nodeName);if($b$$.attributes&&0<$b$$.attributes.length){for(var $e$$=0;$e$$<$b$$.attributes.length;$e$$++)$d$$.setAttribute($b$$.attributes[$e$$].nodeName,$b$$.getAttribute($b$$.attributes[$e$$].nodeName));if($c$$&&$b$$.childNodes&&0<$b$$.childNodes.length)for($e$$=
0;$e$$<$b$$.childNodes.length;$e$$++)$d$$.appendChild(mxUtils.importNode($a$$,$b$$.childNodes[$e$$],$c$$))}return $d$$;case 3:case 4:case 8:return $a$$.createTextNode($b$$.value)}else return $a$$.importNode($b$$,$c$$)},createXmlDocument:function(){var $a$$=null;document.implementation&&document.implementation.createDocument?$a$$=document.implementation.createDocument("","",null):window.ActiveXObject&&($a$$=new ActiveXObject("Microsoft.XMLDOM"));return $a$$},parseXml:function(){return window.DOMParser?
function($a$$){return(new DOMParser).parseFromString($a$$,"text/xml")}:function($a$$){var $b$$=mxUtils.createXmlDocument();$b$$.async=!1;$b$$.validateOnParse=!1;$b$$.resolveExternals=!1;$b$$.loadXML($a$$);return $b$$}}(),clearSelection:function(){return document.selection?function(){document.selection.empty()}:window.getSelection?function(){window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()}:function(){}}(),getPrettyXml:function($a$$,
$b$$,$c$$){var $d$$=[];if(null!=$a$$)if($b$$=$b$$||"  ",$c$$=$c$$||"",$a$$.nodeType==mxConstants.NODETYPE_TEXT)$a$$=mxUtils.trim(mxUtils.getTextContent($a$$)),0<$a$$.length&&$d$$.push($c$$+mxUtils.htmlEntities($a$$)+"\n");else{$d$$.push($c$$+"<"+$a$$.nodeName);var $e$$=$a$$.attributes;if(null!=$e$$)for(var $f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=mxUtils.htmlEntities($e$$[$f$$].value);$d$$.push(" "+$e$$[$f$$].nodeName+'="'+$g$$+'"')}$e$$=$a$$.firstChild;if(null!=$e$$){for($d$$.push(">\n");null!=$e$$;)$d$$.push(mxUtils.getPrettyXml($e$$,
$b$$,$c$$+$b$$)),$e$$=$e$$.nextSibling;$d$$.push($c$$+"</"+$a$$.nodeName+">\n")}else $d$$.push("/>\n")}return $d$$.join("")},removeWhitespace:function($a$$,$b$$){for(var $c$$=$b$$?$a$$.previousSibling:$a$$.nextSibling;null!=$c$$&&$c$$.nodeType==mxConstants.NODETYPE_TEXT;){var $d$$=$b$$?$c$$.previousSibling:$c$$.nextSibling,$e$$=mxUtils.getTextContent($c$$);0==mxUtils.trim($e$$).length&&$c$$.parentNode.removeChild($c$$);$c$$=$d$$}},htmlEntities:function($a$$,$b$$){$a$$=String($a$$||"");$a$$=$a$$.replace(/&/g,
"&amp;");$a$$=$a$$.replace(/"/g,"&quot;");$a$$=$a$$.replace(/\'/g,"&#39;");$a$$=$a$$.replace(/</g,"&lt;");$a$$=$a$$.replace(/>/g,"&gt;");if(null==$b$$||$b$$)$a$$=$a$$.replace(/\n/g,"&#xa;");return $a$$},isVml:function($a$$){return null!=$a$$&&"urn:schemas-microsoft-com:vml"==$a$$.tagUrn},getXml:function($a$$,$b$$){var $c$$="";null!=window.XMLSerializer?$c$$=(new XMLSerializer).serializeToString($a$$):null!=$a$$.xml&&($c$$=$a$$.xml.replace(/\r\n\t[\t]*/g,"").replace(/>\r\n/g,">").replace(/\r\n/g,"\n"));
return $c$$.replace(/\n/g,$b$$||"&#xa;")},extractTextWithWhitespace:function($a$jscomp$0$$){function $b$$($a$$){if(1!=$a$$.length||"BR"!=$a$$[0].nodeName&&"\n"!=$a$$[0].innerHTML)for(var $e$$=0;$e$$<$a$$.length;$e$$++){var $g$$=$a$$[$e$$];"BR"==$g$$.nodeName||"\n"==$g$$.innerHTML||(1==$a$$.length||0==$e$$)&&"DIV"==$g$$.nodeName&&"<br>"==$g$$.innerHTML.toLowerCase()?$d$$.push("\n"):(3===$g$$.nodeType||4===$g$$.nodeType?0<$g$$.nodeValue.length&&$d$$.push($g$$.nodeValue):8!==$g$$.nodeType&&0<$g$$.childNodes.length&&
$b$$($g$$.childNodes),$e$$<$a$$.length-1&&0<=mxUtils.indexOf($c$$,$a$$[$e$$+1].nodeName)&&$d$$.push("\n"))}}var $c$$="BLOCKQUOTE DIV H1 H2 H3 H4 H5 H6 OL P PRE TABLE UL".split(" "),$d$$=[];$b$$($a$jscomp$0$$);return $d$$.join("")},replaceTrailingNewlines:function($a$$,$b$$){for(var $c$$="";0<$a$$.length&&"\n"==$a$$.charAt($a$$.length-1);)$a$$=$a$$.substring(0,$a$$.length-1),$c$$+=$b$$;return $a$$+$c$$},getTextContent:function($a$$){return mxClient.IS_IE&&void 0!==$a$$.innerText?$a$$.innerText:null!=
$a$$?$a$$[void 0===$a$$.textContent?"text":"textContent"]:""},setTextContent:function($a$$,$b$$){void 0!==$a$$.innerText?$a$$.innerText=$b$$:$a$$[void 0===$a$$.textContent?"text":"textContent"]=$b$$},getInnerHtml:function(){return mxClient.IS_IE?function($a$$){return null!=$a$$?$a$$.innerHTML:""}:function($a$$){return null!=$a$$?(new XMLSerializer).serializeToString($a$$):""}}(),getOuterHtml:function(){return mxClient.IS_IE?function($a$$){if(null!=$a$$){if(null!=$a$$.outerHTML)return $a$$.outerHTML;
var $b$$=[];$b$$.push("<"+$a$$.nodeName);var $c$$=$a$$.attributes;if(null!=$c$$)for(var $d$$=0;$d$$<$c$$.length;$d$$++){var $e$$=$c$$[$d$$].value;null!=$e$$&&0<$e$$.length&&($b$$.push(" "),$b$$.push($c$$[$d$$].nodeName),$b$$.push('="'),$b$$.push($e$$),$b$$.push('"'))}0==$a$$.innerHTML.length?$b$$.push("/>"):($b$$.push(">"),$b$$.push($a$$.innerHTML),$b$$.push("</"+$a$$.nodeName+">"));return $b$$.join("")}return""}:function($a$$){return null!=$a$$?(new XMLSerializer).serializeToString($a$$):""}}(),
write:function($a$$,$b$$){var $c$$=$a$$.ownerDocument.createTextNode($b$$);null!=$a$$&&$a$$.appendChild($c$$);return $c$$},writeln:function($a$$,$b$$){var $c$$=$a$$.ownerDocument.createTextNode($b$$);null!=$a$$&&($a$$.appendChild($c$$),$a$$.appendChild(document.createElement("br")));return $c$$},br:function($a$$,$b$$){$b$$=$b$$||1;for(var $c$$=null,$d$$=0;$d$$<$b$$;$d$$++)null!=$a$$&&($c$$=$a$$.ownerDocument.createElement("br"),$a$$.appendChild($c$$));return $c$$},button:function($a$jscomp$0$$,$b$$,
$c$$){$c$$=null!=$c$$?$c$$:document;$c$$=$c$$.createElement("button");mxUtils.write($c$$,$a$jscomp$0$$);mxEvent.addListener($c$$,"click",function($a$$){$b$$($a$$)});return $c$$},para:function($a$$,$b$$){var $c$$=document.createElement("p");mxUtils.write($c$$,$b$$);null!=$a$$&&$a$$.appendChild($c$$);return $c$$},addTransparentBackgroundFilter:function($a$$){$a$$.style.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+mxClient.imageBasePath+"/transparent.gif', sizingMethod='scale')"},
linkAction:function($a$$,$b$$,$c$$,$d$$,$e$$){return mxUtils.link($a$$,$b$$,function(){$c$$.execute($d$$)},$e$$)},linkInvoke:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return mxUtils.link($a$$,$b$$,function(){$c$$[$d$$]($e$$)},$f$$)},link:function($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElement("span");$e$$.style.color="blue";$e$$.style.textDecoration="underline";$e$$.style.cursor="pointer";null!=$d$$&&($e$$.style.paddingLeft=$d$$+"px");mxEvent.addListener($e$$,"click",$c$$);mxUtils.write($e$$,
$b$$);null!=$a$$&&$a$$.appendChild($e$$);return $e$$},getDocumentSize:function(){var $a$$=document.body,$b$$=document.documentElement;try{return new mxRectangle(0,0,$a$$.clientWidth||$b$$.clientWidth,Math.max($a$$.clientHeight||0,$b$$.clientHeight))}catch($c$$){return new mxRectangle}},fit:function($a$$){var $b$$=mxUtils.getDocumentSize(),$c$$=parseInt($a$$.offsetLeft),$d$$=parseInt($a$$.offsetWidth),$e$$=mxUtils.getDocumentScrollOrigin($a$$.ownerDocument),$f$$=$e$$.x,$e$$=$e$$.y,$g$$=$f$$+$b$$.width;
$c$$+$d$$>$g$$&&($a$$.style.left=Math.max($f$$,$g$$-$d$$)+"px");$c$$=parseInt($a$$.offsetTop);$d$$=parseInt($a$$.offsetHeight);$b$$=$e$$+$b$$.height;$c$$+$d$$>$b$$&&($a$$.style.top=Math.max($e$$,$b$$-$d$$)+"px")},load:function($a$$){$a$$=new mxXmlRequest($a$$,null,"GET",!1);$a$$.send();return $a$$},get:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$a$$=new mxXmlRequest($a$$,null,"GET");null!=$d$$&&$a$$.setBinary($d$$);$a$$.send($b$$,$c$$,$e$$,$f$$);return $a$$},getAll:function($a$jscomp$1$$,$b$$,$c$jscomp$0$$){for(var $d$$=
$a$jscomp$1$$.length,$e$$=[],$f$jscomp$0$$=0,$g$$=function $$g$$$(){0==$f$jscomp$0$$&&null!=$c$jscomp$0$$&&$c$jscomp$0$$();$f$jscomp$0$$++},$k$$=0;$k$$<$a$jscomp$1$$.length;$k$$++)(function($a$jscomp$0$$,$c$$){mxUtils.get($a$jscomp$0$$,function($a$$){var $f$$=$a$$.getStatus();200>$f$$||299<$f$$?$g$$():($e$$[$c$$]=$a$$,$d$$--,0==$d$$&&$b$$($e$$))},$g$$)})($a$jscomp$1$$[$k$$],$k$$);0==$d$$&&$b$$($e$$)},post:function($a$$,$b$$,$c$$,$d$$){return(new mxXmlRequest($a$$,$b$$)).send($c$$,$d$$)},submit:function($a$$,
$b$$,$c$$,$d$$){return(new mxXmlRequest($a$$,$b$$)).simulate($c$$,$d$$)},loadInto:function($a$$,$b$$,$c$$){mxClient.IS_IE?$b$$.onreadystatechange=function $$b$$$onreadystatechange$(){4==$b$$.readyState&&$c$$()}:$b$$.addEventListener("load",$c$$,!1);$b$$.load($a$$)},getValue:function($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$[$b$$]:null;null==$a$$&&($a$$=$c$$);return $a$$},getNumber:function($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$[$b$$]:null;null==$a$$&&($a$$=$c$$||0);return Number($a$$)},getColor:function($a$$,
$b$$,$c$$){$a$$=null!=$a$$?$a$$[$b$$]:null;null==$a$$?$a$$=$c$$:$a$$==mxConstants.NONE&&($a$$=null);return $a$$},clone:function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;var $d$$=null;if(null!=$a$$&&"function"==typeof $a$$.constructor){var $d$$=new $a$$.constructor,$e$$;for($e$$ in $a$$)$e$$!=mxObjectIdentity.FIELD_NAME&&(null==$b$$||0>mxUtils.indexOf($b$$,$e$$))&&($d$$[$e$$]=$c$$||"object"!=typeof $a$$[$e$$]?$a$$[$e$$]:mxUtils.clone($a$$[$e$$]))}return $d$$},equalPoints:function($a$$,$b$$){if(null==
$a$$&&null!=$b$$||null!=$a$$&&null==$b$$||null!=$a$$&&null!=$b$$&&$a$$.length!=$b$$.length)return!1;if(null!=$a$$&&null!=$b$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++)if($a$$[$c$$]==$b$$[$c$$]||null!=$a$$[$c$$]&&!$a$$[$c$$].equals($b$$[$c$$]))return!1;return!0},equalEntries:function($a$$,$b$$){if(null==$a$$&&null!=$b$$||null!=$a$$&&null==$b$$||null!=$a$$&&null!=$b$$&&$a$$.length!=$b$$.length)return!1;if(null!=$a$$&&null!=$b$$){var $c$$=0,$d$$;for($d$$ in $b$$)$c$$++;for($d$$ in $a$$)if($c$$--,!(mxUtils.isNaN($a$$[$d$$])&&
mxUtils.isNaN($b$$[$d$$])||$a$$[$d$$]==$b$$[$d$$]))return!1}return 0==$c$$},removeDuplicates:function($a$$){for(var $b$$=new mxDictionary,$c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$b$$.get($a$$[$d$$])||($c$$.push($a$$[$d$$]),$b$$.put($a$$[$d$$],!0));return $c$$},isNaN:function($a$$){return"number"==typeof $a$$&&isNaN($a$$)},extend:function($a$$,$b$$){var $c$$=function $$c$$$(){};$c$$.prototype=$b$$.prototype;$a$$.prototype=new $c$$;$a$$.prototype.constructor=$a$$},toString:function($a$$){var $b$$="",
$c$$;for($c$$ in $a$$)try{if(null==$a$$[$c$$])$b$$+=$c$$+" = [null]\n";else if("function"==typeof $a$$[$c$$])$b$$+=$c$$+" => [Function]\n";else if("object"==typeof $a$$[$c$$])var $d$$=mxUtils.getFunctionName($a$$[$c$$].constructor),$b$$=$b$$+($c$$+" => ["+$d$$+"]\n");else $b$$+=$c$$+" = "+$a$$[$c$$]+"\n"}catch($e$$){$b$$+=$c$$+"="+$e$$.message}return $b$$},toRadians:function($a$$){return Math.PI*$a$$/180},toDegree:function($a$$){return 180*$a$$/Math.PI},arcToCurves:function($a$$,$b$$,$c$$,$d$$,$e$$,
$f$$,$g$$,$k$$,$l$$){$k$$-=$a$$;$l$$-=$b$$;if(0===$c$$||0===$d$$)return $q$$;$c$$=Math.abs($c$$);$d$$=Math.abs($d$$);var $m$$=-$k$$/2,$n$$=-$l$$/2,$p$$=Math.cos($e$$*Math.PI/180),$q$$=Math.sin($e$$*Math.PI/180);$e$$=$p$$*$m$$+$q$$*$n$$;var $m$$=-1*$q$$*$m$$+$p$$*$n$$,$n$$=$e$$*$e$$,$r$$=$m$$*$m$$,$t$$=$c$$*$c$$,$u$$=$d$$*$d$$,$y$$=$n$$/$t$$+$r$$/$u$$;1<$y$$?($c$$*=Math.sqrt($y$$),$d$$*=Math.sqrt($y$$),$f$$=0):($y$$=1,$f$$===$g$$&&($y$$=-1),$f$$=$y$$*Math.sqrt(($t$$*$u$$-$t$$*$r$$-$u$$*$n$$)/($t$$*
$r$$+$u$$*$n$$)));$n$$=$f$$*$c$$*$m$$/$d$$;$r$$=-1*$f$$*$d$$*$e$$/$c$$;$k$$=$p$$*$n$$-$q$$*$r$$+$k$$/2;$l$$=$q$$*$n$$+$p$$*$r$$+$l$$/2;$t$$=Math.atan2(($m$$-$r$$)/$d$$,($e$$-$n$$)/$c$$)-Math.atan2(0,1);$f$$=0<=$t$$?$t$$:2*Math.PI+$t$$;$t$$=Math.atan2((-$m$$-$r$$)/$d$$,(-$e$$-$n$$)/$c$$)-Math.atan2(($m$$-$r$$)/$d$$,($e$$-$n$$)/$c$$);$e$$=0<=$t$$?$t$$:2*Math.PI+$t$$;0==$g$$&&0<$e$$?$e$$-=2*Math.PI:0!=$g$$&&0>$e$$&&($e$$+=2*Math.PI);$g$$=2*$e$$/Math.PI;$g$$=Math.ceil(0>$g$$?-1*$g$$:$g$$);$e$$/=$g$$;
$m$$=8/3*Math.sin($e$$/4)*Math.sin($e$$/4)/Math.sin($e$$/2);$n$$=$p$$*$c$$;$p$$*=$d$$;$c$$*=$q$$;$d$$*=$q$$;for(var $x$$=Math.cos($f$$),$A$$=Math.sin($f$$),$r$$=-$m$$*($n$$*$A$$+$d$$*$x$$),$t$$=-$m$$*($c$$*$A$$-$p$$*$x$$),$q$$=[],$z$$=0;$z$$<$g$$;++$z$$){$f$$+=$e$$;var $x$$=Math.cos($f$$),$A$$=Math.sin($f$$),$u$$=$n$$*$x$$-$d$$*$A$$+$k$$,$y$$=$c$$*$x$$+$p$$*$A$$+$l$$,$v$$=-$m$$*($n$$*$A$$+$d$$*$x$$),$x$$=-$m$$*($c$$*$A$$-$p$$*$x$$),$A$$=6*$z$$;$q$$[$A$$]=Number($r$$+$a$$);$q$$[$A$$+1]=Number($t$$+
$b$$);$q$$[$A$$+2]=Number($u$$-$v$$+$a$$);$q$$[$A$$+3]=Number($y$$-$x$$+$b$$);$q$$[$A$$+4]=Number($u$$+$a$$);$q$$[$A$$+5]=Number($y$$+$b$$);$r$$=$u$$+$v$$;$t$$=$y$$+$x$$}return $q$$},getBoundingBox:function($a$$,$b$$,$c$$){var $d$$=null;if(null!=$a$$&&null!=$b$$&&0!=$b$$){$b$$=mxUtils.toRadians($b$$);var $d$$=Math.cos($b$$),$e$$=Math.sin($b$$);$c$$=null!=$c$$?$c$$:new mxPoint($a$$.x+$a$$.width/2,$a$$.y+$a$$.height/2);var $f$$=new mxPoint($a$$.x,$a$$.y);$b$$=new mxPoint($a$$.x+$a$$.width,$a$$.y);var $g$$=
new mxPoint($b$$.x,$a$$.y+$a$$.height);$a$$=new mxPoint($a$$.x,$g$$.y);$f$$=mxUtils.getRotatedPoint($f$$,$d$$,$e$$,$c$$);$b$$=mxUtils.getRotatedPoint($b$$,$d$$,$e$$,$c$$);$g$$=mxUtils.getRotatedPoint($g$$,$d$$,$e$$,$c$$);$a$$=mxUtils.getRotatedPoint($a$$,$d$$,$e$$,$c$$);$d$$=new mxRectangle($f$$.x,$f$$.y,0,0);$d$$.add(new mxRectangle($b$$.x,$b$$.y,0,0));$d$$.add(new mxRectangle($g$$.x,$g$$.y,0,0));$d$$.add(new mxRectangle($a$$.x,$a$$.y,0,0))}return $d$$},getRotatedPoint:function($a$$,$b$$,$c$$,$d$$){$d$$=
null!=$d$$?$d$$:new mxPoint;var $e$$=$a$$.x-$d$$.x;$a$$=$a$$.y-$d$$.y;return new mxPoint($e$$*$b$$-$a$$*$c$$+$d$$.x,$a$$*$b$$+$e$$*$c$$+$d$$.y)},getPortConstraints:function($a$$,$b$$,$c$$,$d$$){$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_PORT_CONSTRAINT,mxUtils.getValue($b$$.style,$c$$?mxConstants.STYLE_SOURCE_PORT_CONSTRAINT:mxConstants.STYLE_TARGET_PORT_CONSTRAINT,null));if(null==$b$$)return $d$$;$d$$=$b$$.toString();$b$$=mxConstants.DIRECTION_MASK_NONE;$c$$=0;1==mxUtils.getValue($a$$.style,
mxConstants.STYLE_PORT_CONSTRAINT_ROTATION,0)&&($c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0));$a$$=0;45<$c$$?($a$$=1,135<=$c$$&&($a$$=2)):-45>$c$$&&($a$$=3,-135>=$c$$&&($a$$=2));if(0<=$d$$.indexOf(mxConstants.DIRECTION_NORTH))switch($a$$){case 0:$b$$|=mxConstants.DIRECTION_MASK_NORTH;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_EAST;break;case 2:$b$$|=mxConstants.DIRECTION_MASK_SOUTH;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_WEST}if(0<=$d$$.indexOf(mxConstants.DIRECTION_WEST))switch($a$$){case 0:$b$$|=
mxConstants.DIRECTION_MASK_WEST;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_NORTH;break;case 2:$b$$|=mxConstants.DIRECTION_MASK_EAST;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_SOUTH}if(0<=$d$$.indexOf(mxConstants.DIRECTION_SOUTH))switch($a$$){case 0:$b$$|=mxConstants.DIRECTION_MASK_SOUTH;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_WEST;break;case 2:$b$$|=mxConstants.DIRECTION_MASK_NORTH;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_EAST}if(0<=$d$$.indexOf(mxConstants.DIRECTION_EAST))switch($a$$){case 0:$b$$|=
mxConstants.DIRECTION_MASK_EAST;break;case 1:$b$$|=mxConstants.DIRECTION_MASK_SOUTH;break;case 2:$b$$|=mxConstants.DIRECTION_MASK_WEST;break;case 3:$b$$|=mxConstants.DIRECTION_MASK_NORTH}return $b$$},reversePortConstraints:function($a$$){var $b$$;$b$$=($a$$&mxConstants.DIRECTION_MASK_WEST)<<3;$b$$|=($a$$&mxConstants.DIRECTION_MASK_NORTH)<<1;$b$$|=($a$$&mxConstants.DIRECTION_MASK_SOUTH)>>1;return $b$$|($a$$&mxConstants.DIRECTION_MASK_EAST)>>3},findNearestSegment:function($a$$,$b$$,$c$$){var $d$$=-1;
if(0<$a$$.absolutePoints.length)for(var $e$$=$a$$.absolutePoints[0],$f$$=null,$g$$=1;$g$$<$a$$.absolutePoints.length;$g$$++){var $k$$=$a$$.absolutePoints[$g$$],$e$$=mxUtils.ptSegDistSq($e$$.x,$e$$.y,$k$$.x,$k$$.y,$b$$,$c$$);if(null==$f$$||$e$$<$f$$)$f$$=$e$$,$d$$=$g$$-1;$e$$=$k$$}return $d$$},getDirectedBounds:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=mxUtils.getValue($c$$,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST);$d$$=null!=$d$$?$d$$:mxUtils.getValue($c$$,mxConstants.STYLE_FLIPH,
!1);$e$$=null!=$e$$?$e$$:mxUtils.getValue($c$$,mxConstants.STYLE_FLIPV,!1);$b$$.x=Math.round(Math.max(0,Math.min($a$$.width,$b$$.x)));$b$$.y=Math.round(Math.max(0,Math.min($a$$.height,$b$$.y)));$b$$.width=Math.round(Math.max(0,Math.min($a$$.width,$b$$.width)));$b$$.height=Math.round(Math.max(0,Math.min($a$$.height,$b$$.height)));if($e$$&&($f$$==mxConstants.DIRECTION_SOUTH||$f$$==mxConstants.DIRECTION_NORTH)||$d$$&&($f$$==mxConstants.DIRECTION_EAST||$f$$==mxConstants.DIRECTION_WEST))$c$$=$b$$.x,$b$$.x=
$b$$.width,$b$$.width=$c$$;if($d$$&&($f$$==mxConstants.DIRECTION_SOUTH||$f$$==mxConstants.DIRECTION_NORTH)||$e$$&&($f$$==mxConstants.DIRECTION_EAST||$f$$==mxConstants.DIRECTION_WEST))$c$$=$b$$.y,$b$$.y=$b$$.height,$b$$.height=$c$$;$d$$=mxRectangle.fromRectangle($b$$);$f$$==mxConstants.DIRECTION_SOUTH?($d$$.y=$b$$.x,$d$$.x=$b$$.height,$d$$.width=$b$$.y,$d$$.height=$b$$.width):$f$$==mxConstants.DIRECTION_WEST?($d$$.y=$b$$.height,$d$$.x=$b$$.width,$d$$.width=$b$$.x,$d$$.height=$b$$.y):$f$$==mxConstants.DIRECTION_NORTH&&
($d$$.y=$b$$.width,$d$$.x=$b$$.y,$d$$.width=$b$$.height,$d$$.height=$b$$.x);return new mxRectangle($a$$.x+$d$$.x,$a$$.y+$d$$.y,$a$$.width-$d$$.width-$d$$.x,$a$$.height-$d$$.height-$d$$.y)},getPerimeterPoint:function($a$$,$b$$,$c$$){for(var $d$$=null,$e$$=0;$e$$<$a$$.length-1;$e$$++){var $f$$=mxUtils.intersection($a$$[$e$$].x,$a$$[$e$$].y,$a$$[$e$$+1].x,$a$$[$e$$+1].y,$b$$.x,$b$$.y,$c$$.x,$c$$.y);if(null!=$f$$){var $g$$=$c$$.x-$f$$.x,$k$$=$c$$.y-$f$$.y,$f$$={p:$f$$,distSq:$k$$*$k$$+$g$$*$g$$};null!=
$f$$&&(null==$d$$||$d$$.distSq>$f$$.distSq)&&($d$$=$f$$)}}return null!=$d$$?$d$$.p:null},rectangleIntersectsSegment:function($a$$,$b$$,$c$$){var $d$$=$a$$.y,$e$$=$a$$.x,$f$$=$d$$+$a$$.height,$g$$=$e$$+$a$$.width;$a$$=$b$$.x;var $k$$=$c$$.x;$b$$.x>$c$$.x&&($a$$=$c$$.x,$k$$=$b$$.x);$k$$>$g$$&&($k$$=$g$$);$a$$<$e$$&&($a$$=$e$$);if($a$$>$k$$)return!1;var $e$$=$b$$.y,$g$$=$c$$.y,$l$$=$c$$.x-$b$$.x;1E-7<Math.abs($l$$)&&($c$$=($c$$.y-$b$$.y)/$l$$,$b$$=$b$$.y-$c$$*$b$$.x,$e$$=$c$$*$a$$+$b$$,$g$$=$c$$*$k$$+
$b$$);$e$$>$g$$&&($b$$=$g$$,$g$$=$e$$,$e$$=$b$$);$g$$>$f$$&&($g$$=$f$$);$e$$<$d$$&&($e$$=$d$$);return $e$$>$g$$?!1:!0},contains:function($a$$,$b$$,$c$$){return $a$$.x<=$b$$&&$a$$.x+$a$$.width>=$b$$&&$a$$.y<=$c$$&&$a$$.y+$a$$.height>=$c$$},intersects:function($a$$,$b$$){var $c$$=$a$$.width,$d$$=$a$$.height,$e$$=$b$$.width,$f$$=$b$$.height;if(0>=$e$$||0>=$f$$||0>=$c$$||0>=$d$$)return!1;var $g$$=$a$$.x,$k$$=$a$$.y,$l$$=$b$$.x,$m$$=$b$$.y,$e$$=$e$$+$l$$,$f$$=$f$$+$m$$,$c$$=$c$$+$g$$,$d$$=$d$$+$k$$;return($e$$<
$l$$||$e$$>$g$$)&&($f$$<$m$$||$f$$>$k$$)&&($c$$<$g$$||$c$$>$l$$)&&($d$$<$k$$||$d$$>$m$$)},intersectsHotspot:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$d$$=null!=$d$$?$d$$:1;$e$$=null!=$e$$?$e$$:0;$f$$=null!=$f$$?$f$$:0;if(0<$d$$){var $g$$=$a$$.getCenterX(),$k$$=$a$$.getCenterY(),$l$$=$a$$.width,$m$$=$a$$.height,$n$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_STARTSIZE)*$a$$.view.scale;0<$n$$&&(mxUtils.getValue($a$$.style,mxConstants.STYLE_HORIZONTAL,!0)?($k$$=$a$$.y+$n$$/2,$m$$=$n$$):($g$$=$a$$.x+
$n$$/2,$l$$=$n$$));$l$$=Math.max($e$$,$l$$*$d$$);$m$$=Math.max($e$$,$m$$*$d$$);0<$f$$&&($l$$=Math.min($l$$,$f$$),$m$$=Math.min($m$$,$f$$));$d$$=new mxRectangle($g$$-$l$$/2,$k$$-$m$$/2,$l$$,$m$$);$g$$=mxUtils.toRadians(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION)||0);0!=$g$$&&($e$$=Math.cos(-$g$$),$f$$=Math.sin(-$g$$),$g$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY()),$a$$=mxUtils.getRotatedPoint(new mxPoint($b$$,$c$$),$e$$,$f$$,$g$$),$b$$=$a$$.x,$c$$=$a$$.y);return mxUtils.contains($d$$,
$b$$,$c$$)}return!0},getOffset:function($a$$,$b$$){for(var $c$$=0,$d$$=0,$e$$=!1,$f$$=$a$$,$g$$=document.body,$k$$=document.documentElement;null!=$f$$&&$f$$!=$g$$&&$f$$!=$k$$&&!$e$$;){var $l$$=mxUtils.getCurrentStyle($f$$);null!=$l$$&&($e$$=$e$$||"fixed"==$l$$.position);$f$$=$f$$.parentNode}$b$$||$e$$||($e$$=mxUtils.getDocumentScrollOrigin($a$$.ownerDocument),$c$$+=$e$$.x,$d$$+=$e$$.y);$e$$=$a$$.getBoundingClientRect();null!=$e$$&&($c$$+=$e$$.left,$d$$+=$e$$.top);return new mxPoint($c$$,$d$$)},getDocumentScrollOrigin:function($a$$){if(mxClient.IS_QUIRKS)return new mxPoint($a$$.body.scrollLeft,
$a$$.body.scrollTop);$a$$=$a$$.defaultView||$a$$.parentWindow;return new mxPoint(null!=$a$$&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,null!=$a$$&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)},getScrollOrigin:function($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!0;for(var $d$$=null!=$a$$?$a$$.ownerDocument:document,$e$$=
$d$$.body,$f$$=$d$$.documentElement,$g$$=new mxPoint,$k$$=!1;null!=$a$$&&$a$$!=$e$$&&$a$$!=$f$$;){isNaN($a$$.scrollLeft)||isNaN($a$$.scrollTop)||($g$$.x+=$a$$.scrollLeft,$g$$.y+=$a$$.scrollTop);var $l$$=mxUtils.getCurrentStyle($a$$);null!=$l$$&&($k$$=$k$$||"fixed"==$l$$.position);$a$$=$b$$?$a$$.parentNode:null}!$k$$&&$c$$&&($a$$=mxUtils.getDocumentScrollOrigin($d$$),$g$$.x+=$a$$.x,$g$$.y+=$a$$.y);return $g$$},convertPoint:function($a$$,$b$$,$c$$){var $d$$=mxUtils.getScrollOrigin($a$$,!1);$a$$=mxUtils.getOffset($a$$);
$a$$.x-=$d$$.x;$a$$.y-=$d$$.y;return new mxPoint($b$$-$a$$.x,$c$$-$a$$.y)},ltrim:function($a$$,$b$$){return null!=$a$$?$a$$.replace(new RegExp("^["+($b$$||"\\s")+"]+","g"),""):null},rtrim:function($a$$,$b$$){return null!=$a$$?$a$$.replace(new RegExp("["+($b$$||"\\s")+"]+$","g"),""):null},trim:function($a$$,$b$$){return mxUtils.ltrim(mxUtils.rtrim($a$$,$b$$),$b$$)},isNumeric:function($a$$){return!isNaN(parseFloat($a$$))&&isFinite($a$$)&&("string"!=typeof $a$$||0>$a$$.toLowerCase().indexOf("0x"))},
isInteger:function($a$$){return String(parseInt($a$$))===String($a$$)},mod:function($a$$,$b$$){return($a$$%$b$$+$b$$)%$b$$},intersection:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){var $l$$=($k$$-$f$$)*($c$$-$a$$)-($g$$-$e$$)*($d$$-$b$$);$g$$=(($g$$-$e$$)*($b$$-$f$$)-($k$$-$f$$)*($a$$-$e$$))/$l$$;$e$$=(($c$$-$a$$)*($b$$-$f$$)-($d$$-$b$$)*($a$$-$e$$))/$l$$;return 0<=$g$$&&1>=$g$$&&0<=$e$$&&1>=$e$$?new mxPoint($a$$+$g$$*($c$$-$a$$),$b$$+$g$$*($d$$-$b$$)):null},ptSegDistSq:function($a$$,$b$$,$c$$,
$d$$,$e$$,$f$$){$c$$-=$a$$;$d$$-=$b$$;$e$$-=$a$$;$f$$-=$b$$;0>=$e$$*$c$$+$f$$*$d$$?$c$$=0:($e$$=$c$$-$e$$,$f$$=$d$$-$f$$,$a$$=$e$$*$c$$+$f$$*$d$$,$c$$=0>=$a$$?0:$a$$*$a$$/($c$$*$c$$+$d$$*$d$$));$e$$=$e$$*$e$$+$f$$*$f$$-$c$$;0>$e$$&&($e$$=0);return $e$$},ptLineDist:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return Math.abs(($d$$-$b$$)*$e$$-($c$$-$a$$)*$f$$+$c$$*$b$$-$d$$*$a$$)/Math.sqrt(($d$$-$b$$)*($d$$-$b$$)+($c$$-$a$$)*($c$$-$a$$))},relativeCcw:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$c$$-=$a$$;$d$$-=
$b$$;$e$$-=$a$$;$f$$-=$b$$;$a$$=$e$$*$d$$-$f$$*$c$$;0==$a$$&&($a$$=$e$$*$c$$+$f$$*$d$$,0<$a$$&&($a$$=($e$$-$c$$)*$c$$+($f$$-$d$$)*$d$$,0>$a$$&&($a$$=0)));return 0>$a$$?-1:0<$a$$?1:0},animateChanges:function($a$$,$b$$){mxEffects.animateChanges.apply(this,arguments)},cascadeOpacity:function($a$$,$b$$,$c$$){mxEffects.cascadeOpacity.apply(this,arguments)},fadeOut:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){mxEffects.fadeOut.apply(this,arguments)},setOpacity:function($a$$,$b$$){mxUtils.isVml($a$$)?$a$$.style.filter=
100<=$b$$?"":"alpha(opacity="+$b$$/5+")":mxClient.IS_IE&&("undefined"===typeof document.documentMode||9>document.documentMode)?$a$$.style.filter=100<=$b$$?"":"alpha(opacity="+$b$$+")":$a$$.style.opacity=$b$$/100},createImage:function($a$$){var $b$$;mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?($b$$=document.createElement(mxClient.VML_PREFIX+":image"),$b$$.setAttribute("src",$a$$),$b$$.style.borderStyle="none"):($b$$=document.createElement("img"),$b$$.setAttribute("src",$a$$),$b$$.setAttribute("border",
"0"));return $b$$},sortCells:function($a$jscomp$0$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=new mxDictionary;$a$jscomp$0$$.sort(function($a$$,$e$$){var $d$$=$c$$.get($a$$);null==$d$$&&($d$$=mxCellPath.create($a$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($a$$,$d$$));var $g$$=$c$$.get($e$$);null==$g$$&&($g$$=mxCellPath.create($e$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($e$$,$g$$));$d$$=mxCellPath.compare($d$$,$g$$);return 0==$d$$?0:0<$d$$==$b$$?1:-1});return $a$jscomp$0$$},getStylename:function($a$$){return null!=
$a$$&&($a$$=$a$$.split(";")[0],0>$a$$.indexOf("="))?$a$$:""},getStylenames:function($a$$){var $b$$=[];if(null!=$a$$){$a$$=$a$$.split(";");for(var $c$$=0;$c$$<$a$$.length;$c$$++)0>$a$$[$c$$].indexOf("=")&&$b$$.push($a$$[$c$$])}return $b$$},indexOfStylename:function($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=$a$$.split(";"),$d$$=0,$e$$=0;$e$$<$c$$.length;$e$$++){if($c$$[$e$$]==$b$$)return $d$$;$d$$+=$c$$[$e$$].length+1}return-1},addStylename:function($a$$,$b$$){0>mxUtils.indexOfStylename($a$$,
$b$$)&&(null==$a$$?$a$$="":0<$a$$.length&&";"!=$a$$.charAt($a$$.length-1)&&($a$$+=";"),$a$$+=$b$$);return $a$$},removeStylename:function($a$$,$b$$){var $c$$=[];if(null!=$a$$)for(var $d$$=$a$$.split(";"),$e$$=0;$e$$<$d$$.length;$e$$++)$d$$[$e$$]!=$b$$&&$c$$.push($d$$[$e$$]);return $c$$.join(";")},removeAllStylenames:function($a$$){var $b$$=[];if(null!=$a$$){$a$$=$a$$.split(";");for(var $c$$=0;$c$$<$a$$.length;$c$$++)0<=$a$$[$c$$].indexOf("=")&&$b$$.push($a$$[$c$$])}return $b$$.join(";")},setCellStyles:function($a$$,
$b$$,$c$$,$d$$){if(null!=$b$$&&0<$b$$.length){$a$$.beginUpdate();try{for(var $e$$=0;$e$$<$b$$.length;$e$$++)if(null!=$b$$[$e$$]){var $f$$=mxUtils.setStyle($a$$.getStyle($b$$[$e$$]),$c$$,$d$$);$a$$.setStyle($b$$[$e$$],$f$$)}}finally{$a$$.endUpdate()}}},setStyle:function($a$$,$b$$,$c$$){var $d$$=null!=$c$$&&("undefined"==typeof $c$$.length||0<$c$$.length);if(null==$a$$||0==$a$$.length)$d$$&&($a$$=$b$$+"="+$c$$+";");else if($a$$.substring(0,$b$$.length+1)==$b$$+"="){var $e$$=$a$$.indexOf(";");$a$$=$d$$?
$b$$+"="+$c$$+(0>$e$$?";":$a$$.substring($e$$)):0>$e$$||$e$$==$a$$.length-1?"":$a$$.substring($e$$+1)}else{var $f$$=$a$$.indexOf(";"+$b$$+"=");0>$f$$?$d$$&&($d$$=";"==$a$$.charAt($a$$.length-1)?"":";",$a$$=$a$$+$d$$+$b$$+"="+$c$$+";"):($e$$=$a$$.indexOf(";",$f$$+1),$a$$=$d$$?$a$$.substring(0,$f$$+1)+$b$$+"="+$c$$+(0>$e$$?";":$a$$.substring($e$$)):$a$$.substring(0,$f$$)+(0>$e$$?";":$a$$.substring($e$$)))}return $a$$},setCellStyleFlags:function($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$b$$&&0<$b$$.length){$a$$.beginUpdate();
try{for(var $f$$=0;$f$$<$b$$.length;$f$$++)if(null!=$b$$[$f$$]){var $g$$=mxUtils.setStyleFlag($a$$.getStyle($b$$[$f$$]),$c$$,$d$$,$e$$);$a$$.setStyle($b$$[$f$$],$g$$)}}finally{$a$$.endUpdate()}}},setStyleFlag:function($a$$,$b$$,$c$$,$d$$){if(null==$a$$||0==$a$$.length)$a$$=$d$$||null==$d$$?$b$$+"="+$c$$:$b$$+"=0";else{var $e$$=$a$$.indexOf($b$$+"=");if(0>$e$$)$e$$=";"==$a$$.charAt($a$$.length-1)?"":";",$a$$=$d$$||null==$d$$?$a$$+$e$$+$b$$+"="+$c$$:$a$$+$e$$+$b$$+"=0";else{var $f$$=$a$$.indexOf(";",
$e$$),$g$$;$g$$=0>$f$$?$a$$.substring($e$$+$b$$.length+1):$a$$.substring($e$$+$b$$.length+1,$f$$);$g$$=null==$d$$?parseInt($g$$)^$c$$:$d$$?parseInt($g$$)|$c$$:parseInt($g$$)&~$c$$;$a$$=$a$$.substring(0,$e$$)+$b$$+"="+$g$$+(0<=$f$$?$a$$.substring($f$$):"")}}return $a$$},getAlignmentAsPoint:function($a$$,$b$$){var $c$$=0,$d$$=0;$a$$==mxConstants.ALIGN_CENTER?$c$$=-.5:$a$$==mxConstants.ALIGN_RIGHT&&($c$$=-1);$b$$==mxConstants.ALIGN_MIDDLE?$d$$=-.5:$b$$==mxConstants.ALIGN_BOTTOM&&($d$$=-1);return new mxPoint($c$$,
$d$$)},getSizeForString:function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:mxConstants.DEFAULT_FONTSIZE;$c$$=null!=$c$$?$c$$:mxConstants.DEFAULT_FONTFAMILY;var $e$$=document.createElement("div");$e$$.style.fontFamily=$c$$;$e$$.style.fontSize=Math.round($b$$)+"px";$e$$.style.lineHeight=Math.round($b$$*mxConstants.LINE_HEIGHT)+"px";$e$$.style.position="absolute";$e$$.style.visibility="hidden";$e$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block";$e$$.style.zoom="1";null!=$d$$?($e$$.style.width=
$d$$+"px",$e$$.style.whiteSpace="normal"):$e$$.style.whiteSpace="nowrap";$e$$.innerHTML=$a$$;document.body.appendChild($e$$);$a$$=new mxRectangle(0,0,$e$$.offsetWidth,$e$$.offsetHeight);document.body.removeChild($e$$);return $a$$},getViewXml:function($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=null!=$d$$?$d$$:0;$e$$=null!=$e$$?$e$$:0;$b$$=null!=$b$$?$b$$:1;null==$c$$&&($c$$=[$a$$.getModel().getRoot()]);var $f$$=$a$$.getView(),$g$$=null,$k$$=$f$$.isEventsEnabled();$f$$.setEventsEnabled(!1);var $l$$=$f$$.drawPane,
$m$$=$f$$.overlayPane;$a$$.dialect==mxConstants.DIALECT_SVG?($f$$.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),$f$$.canvas.appendChild($f$$.drawPane),$f$$.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g")):($f$$.drawPane=$f$$.drawPane.cloneNode(!1),$f$$.canvas.appendChild($f$$.drawPane),$f$$.overlayPane=$f$$.overlayPane.cloneNode(!1));$f$$.canvas.appendChild($f$$.overlayPane);var $n$$=$f$$.getTranslate();$f$$.translate=new mxPoint($d$$,$e$$);$b$$=new mxTemporaryCellStates($a$$.getView(),
$b$$,$c$$);try{$g$$=(new mxCodec).encode($a$$.getView())}finally{$b$$.destroy(),$f$$.translate=$n$$,$f$$.canvas.removeChild($f$$.drawPane),$f$$.canvas.removeChild($f$$.overlayPane),$f$$.drawPane=$l$$,$f$$.overlayPane=$m$$,$f$$.setEventsEnabled($k$$)}return $g$$},getScaleForPageCount:function($a$$,$b$$,$c$$,$d$$){if(1>$a$$)return 1;$c$$=null!=$c$$?$c$$:mxConstants.PAGE_FORMAT_A4_PORTRAIT;$d$$=null!=$d$$?$d$$:0;var $e$$=$c$$.width-2*$d$$;$c$$=$c$$.height-2*$d$$;$d$$=$b$$.getGraphBounds().clone();$b$$=
$b$$.getView().getScale();$d$$.width/=$b$$;$d$$.height/=$b$$;$b$$=$d$$.width;var $f$$=Math.sqrt($a$$);$d$$=Math.sqrt($b$$/$d$$.height/($e$$/$c$$));$c$$=$f$$*$d$$;$d$$=$f$$/$d$$;if(1>$c$$&&$d$$>$a$$){var $g$$=$d$$/$a$$;$d$$=$a$$;$c$$/=$g$$}1>$d$$&&$c$$>$a$$&&($g$$=$c$$/$a$$,$c$$=$a$$,$d$$/=$g$$);$g$$=Math.ceil($c$$)*Math.ceil($d$$);for($f$$=0;$g$$>$a$$;){var $g$$=Math.floor($c$$)/$c$$,$k$$=Math.floor($d$$)/$d$$;1==$g$$&&($g$$=Math.floor($c$$-1)/$c$$);1==$k$$&&($k$$=Math.floor($d$$-1)/$d$$);$g$$=$g$$>
$k$$?$g$$:$k$$;$c$$*=$g$$;$d$$*=$g$$;$g$$=Math.ceil($c$$)*Math.ceil($d$$);$f$$++;if(10<$f$$)break}return $e$$*$c$$/$b$$*.99999},show:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$c$$=null!=$c$$?$c$$:0;$d$$=null!=$d$$?$d$$:0;null==$b$$?$b$$=window.open().document:$b$$.open();9==document.documentMode&&$b$$.writeln('\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=9"><![endif]--\x3e');var $g$$=$a$$.getGraphBounds(),$k$$=Math.ceil($c$$-$g$$.x),$l$$=Math.ceil($d$$-$g$$.y);null==$e$$&&($e$$=Math.ceil($g$$.width+
$c$$)+Math.ceil(Math.ceil($g$$.x)-$g$$.x));null==$f$$&&($f$$=Math.ceil($g$$.height+$d$$)+Math.ceil(Math.ceil($g$$.y)-$g$$.y));if(mxClient.IS_IE||11==document.documentMode){$d$$="<html><head>";$g$$=document.getElementsByTagName("base");for($c$$=0;$c$$<$g$$.length;$c$$++)$d$$+=$g$$[$c$$].outerHTML;$d$$+="<style>";for($c$$=0;$c$$<document.styleSheets.length;$c$$++)try{$d$$+=document.styleSheets[$c$$].cssText}catch($m$$){}$d$$=$d$$+'</style></head><body style="margin:0px;">'+('<div style="position:absolute;overflow:hidden;width:'+
$e$$+"px;height:"+$f$$+'px;"><div style="position:relative;left:'+$k$$+"px;top:"+$l$$+'px;">')+$a$$.container.innerHTML;$b$$.writeln($d$$+"</div></div></body><html>");$b$$.close()}else{$b$$.writeln("<html><head>");$g$$=document.getElementsByTagName("base");for($c$$=0;$c$$<$g$$.length;$c$$++)$b$$.writeln(mxUtils.getOuterHtml($g$$[$c$$]));$d$$=document.getElementsByTagName("link");for($c$$=0;$c$$<$d$$.length;$c$$++)$b$$.writeln(mxUtils.getOuterHtml($d$$[$c$$]));$d$$=document.getElementsByTagName("style");
for($c$$=0;$c$$<$d$$.length;$c$$++)$b$$.writeln(mxUtils.getOuterHtml($d$$[$c$$]));$b$$.writeln('</head><body style="margin:0px;"></body></html>');$b$$.close();$c$$=$b$$.createElement("div");$c$$.position="absolute";$c$$.overflow="hidden";$c$$.style.width=$e$$+"px";$c$$.style.height=$f$$+"px";$e$$=$b$$.createElement("div");$e$$.style.position="absolute";$e$$.style.left=$k$$+"px";$e$$.style.top=$l$$+"px";$f$$=$a$$.container.firstChild;for($d$$=null;null!=$f$$;)$g$$=$f$$.cloneNode(!0),$f$$==$a$$.view.drawPane.ownerSVGElement?
($c$$.appendChild($g$$),$d$$=$g$$):$e$$.appendChild($g$$),$f$$=$f$$.nextSibling;$b$$.body.appendChild($c$$);null!=$e$$.firstChild&&$b$$.body.appendChild($e$$);null!=$d$$&&($d$$.style.minWidth="",$d$$.style.minHeight="",$d$$.firstChild.setAttribute("transform","translate("+$k$$+","+$l$$+")"))}mxUtils.removeCursors($b$$.body);return $b$$},printScreen:function($a$$){var $b$$=window.open();$a$$.getGraphBounds();mxUtils.show($a$$,$b$$.document);$a$$=function $$a$$$(){$b$$.focus();$b$$.print();$b$$.close()};
mxClient.IS_GC?$b$$.setTimeout($a$$,500):$a$$()},popup:function($a$$,$b$$){if($b$$){var $c$$=document.createElement("div");$c$$.style.overflow="scroll";$c$$.style.width="636px";$c$$.style.height="460px";var $d$$=document.createElement("pre");$d$$.innerHTML=mxUtils.htmlEntities($a$$,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;");$c$$.appendChild($d$$);$c$$=new mxWindow("Popup Window",$c$$,document.body.clientWidth/2-320,Math.max(document.body.clientHeight||0,document.documentElement.clientHeight)/
2-240,640,480,!1,!0);$c$$.setClosable(!0);$c$$.setVisible(!0)}else mxClient.IS_NS?($c$$=window.open(),$c$$.document.writeln("<pre>"+mxUtils.htmlEntities($a$$)+"</pre"),$c$$.document.close()):($c$$=window.open(),$d$$=$c$$.document.createElement("pre"),$d$$.innerHTML=mxUtils.htmlEntities($a$$,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),$c$$.document.body.appendChild($d$$))},alert:function($a$$){alert($a$$)},prompt:function($a$$,$b$$){return prompt($a$$,null!=$b$$?$b$$:"")},confirm:function($a$$){return confirm($a$$)},
error:function($a$jscomp$0$$,$b$$,$c$$,$d$$){var $e$$=document.createElement("div");$e$$.style.padding="20px";var $f$$=document.createElement("img");$f$$.setAttribute("src",$d$$||mxUtils.errorImage);$f$$.setAttribute("valign","bottom");$f$$.style.verticalAlign="middle";$e$$.appendChild($f$$);$e$$.appendChild(document.createTextNode(""));$e$$.appendChild(document.createTextNode(""));$e$$.appendChild(document.createTextNode(""));mxUtils.write($e$$,$a$jscomp$0$$);$a$jscomp$0$$=document.body.clientWidth;
$d$$=document.body.clientHeight||document.documentElement.clientHeight;var $g$$=new mxWindow(mxResources.get(mxUtils.errorResource)||mxUtils.errorResource,$e$$,($a$jscomp$0$$-$b$$)/2,$d$$/4,$b$$,null,!1,!0);$c$$&&(mxUtils.br($e$$),$b$$=document.createElement("p"),$c$$=document.createElement("button"),mxClient.IS_IE?$c$$.style.cssText="float:right":$c$$.setAttribute("style","float:right"),mxEvent.addListener($c$$,"click",function($a$$){$g$$.destroy()}),mxUtils.write($c$$,mxResources.get(mxUtils.closeResource)||
mxUtils.closeResource),$b$$.appendChild($c$$),$e$$.appendChild($b$$),mxUtils.br($e$$),$g$$.setClosable(!0));$g$$.setVisible(!0);return $g$$},makeDraggable:function($a$jscomp$0$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$$,$e$jscomp$0$$,$f$$,$g$$,$k$$,$l$$,$m$$){$a$jscomp$0$$=new mxDragSource($a$jscomp$0$$,$c$jscomp$0$$);$a$jscomp$0$$.dragOffset=new mxPoint(null!=$e$jscomp$0$$?$e$jscomp$0$$:0,null!=$f$$?$f$$:mxConstants.TOOLTIP_VERTICAL_OFFSET);$a$jscomp$0$$.autoscroll=$g$$;$a$jscomp$0$$.setGuidesEnabled(!1);
null!=$l$$&&($a$jscomp$0$$.highlightDropTargets=$l$$);null!=$m$$&&($a$jscomp$0$$.getDropTarget=$m$$);$a$jscomp$0$$.getGraphForEvent=function $$a$jscomp$0$$$getGraphForEvent$($a$$){return"function"==typeof $b$jscomp$0$$?$b$jscomp$0$$($a$$):$b$jscomp$0$$};null!=$d$$&&($a$jscomp$0$$.createDragElement=function $$a$jscomp$0$$$createDragElement$(){return $d$$.cloneNode(!0)},$k$$&&($a$jscomp$0$$.createPreviewElement=function $$a$jscomp$0$$$createPreviewElement$($a$$){var $b$$=$d$$.cloneNode(!0),$c$$=parseInt($b$$.style.width),
$e$$=parseInt($b$$.style.height);$b$$.style.width=Math.round($c$$*$a$$.view.scale)+"px";$b$$.style.height=Math.round($e$$*$a$$.view.scale)+"px";return $b$$}));return $a$jscomp$0$$}},mxConstants={DEFAULT_HOTSPOT:.3,MIN_HOTSPOT_SIZE:8,MAX_HOTSPOT_SIZE:0,RENDERING_HINT_EXACT:"exact",RENDERING_HINT_FASTER:"faster",RENDERING_HINT_FASTEST:"fastest",DIALECT_SVG:"svg",DIALECT_VML:"vml",DIALECT_MIXEDHTML:"mixedHtml",DIALECT_PREFERHTML:"preferHtml",DIALECT_STRICTHTML:"strictHtml",NS_SVG:"http://www.w3.org/2000/svg",
NS_XHTML:"http://www.w3.org/1999/xhtml",NS_XLINK:"http://www.w3.org/1999/xlink",SHADOWCOLOR:"gray",VML_SHADOWCOLOR:"gray",SHADOW_OFFSET_X:2,SHADOW_OFFSET_Y:3,SHADOW_OPACITY:1,NODETYPE_ELEMENT:1,NODETYPE_ATTRIBUTE:2,NODETYPE_TEXT:3,NODETYPE_CDATA:4,NODETYPE_ENTITY_REFERENCE:5,NODETYPE_ENTITY:6,NODETYPE_PROCESSING_INSTRUCTION:7,NODETYPE_COMMENT:8,NODETYPE_DOCUMENT:9,NODETYPE_DOCUMENTTYPE:10,NODETYPE_DOCUMENT_FRAGMENT:11,NODETYPE_NOTATION:12,TOOLTIP_VERTICAL_OFFSET:16,DEFAULT_VALID_COLOR:"#00FF00",DEFAULT_INVALID_COLOR:"#FF0000",
OUTLINE_HIGHLIGHT_COLOR:"#00FF00",OUTLINE_HIGHLIGHT_STROKEWIDTH:5,HIGHLIGHT_STROKEWIDTH:3,HIGHLIGHT_SIZE:2,HIGHLIGHT_OPACITY:100,CURSOR_MOVABLE_VERTEX:"move",CURSOR_MOVABLE_EDGE:"move",CURSOR_LABEL_HANDLE:"default",CURSOR_TERMINAL_HANDLE:"pointer",CURSOR_BEND_HANDLE:"crosshair",CURSOR_VIRTUAL_BEND_HANDLE:"crosshair",CURSOR_CONNECT:"pointer",HIGHLIGHT_COLOR:"#00FF00",CONNECT_TARGET_COLOR:"#0000FF",INVALID_CONNECT_TARGET_COLOR:"#FF0000",DROP_TARGET_COLOR:"#0000FF",VALID_COLOR:"#00FF00",INVALID_COLOR:"#FF0000",
EDGE_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_STROKEWIDTH:1,EDGE_SELECTION_STROKEWIDTH:1,VERTEX_SELECTION_DASHED:!0,EDGE_SELECTION_DASHED:!0,GUIDE_COLOR:"#FF0000",GUIDE_STROKEWIDTH:1,OUTLINE_COLOR:"#0099FF",OUTLINE_STROKEWIDTH:mxClient.IS_IE?2:3,HANDLE_SIZE:6,LABEL_HANDLE_SIZE:4,HANDLE_FILLCOLOR:"#00FF00",HANDLE_STROKECOLOR:"black",LABEL_HANDLE_FILLCOLOR:"yellow",CONNECT_HANDLE_FILLCOLOR:"#0000FF",LOCKED_HANDLE_FILLCOLOR:"#FF0000",OUTLINE_HANDLE_FILLCOLOR:"#00FFFF",
OUTLINE_HANDLE_STROKECOLOR:"#0033FF",DEFAULT_FONTFAMILY:"Arial,Helvetica",DEFAULT_FONTSIZE:11,DEFAULT_TEXT_DIRECTION:"",LINE_HEIGHT:1.2,WORD_WRAP:"normal",ABSOLUTE_LINE_HEIGHT:!1,DEFAULT_FONTSTYLE:0,DEFAULT_STARTSIZE:40,DEFAULT_MARKERSIZE:6,DEFAULT_IMAGESIZE:24,ENTITY_SEGMENT:30,RECTANGLE_ROUNDING_FACTOR:.15,LINE_ARCSIZE:20,ARROW_SPACING:0,ARROW_WIDTH:30,ARROW_SIZE:30,PAGE_FORMAT_A4_PORTRAIT:new mxRectangle(0,0,827,1169),PAGE_FORMAT_A4_LANDSCAPE:new mxRectangle(0,0,1169,827),PAGE_FORMAT_LETTER_PORTRAIT:new mxRectangle(0,
0,850,1100),PAGE_FORMAT_LETTER_LANDSCAPE:new mxRectangle(0,0,1100,850),NONE:"none",STYLE_PERIMETER:"perimeter",STYLE_SOURCE_PORT:"sourcePort",STYLE_TARGET_PORT:"targetPort",STYLE_PORT_CONSTRAINT:"portConstraint",STYLE_PORT_CONSTRAINT_ROTATION:"portConstraintRotation",STYLE_SOURCE_PORT_CONSTRAINT:"sourcePortConstraint",STYLE_TARGET_PORT_CONSTRAINT:"targetPortConstraint",STYLE_OPACITY:"opacity",STYLE_FILL_OPACITY:"fillOpacity",STYLE_STROKE_OPACITY:"strokeOpacity",STYLE_TEXT_OPACITY:"textOpacity",STYLE_TEXT_DIRECTION:"textDirection",
STYLE_OVERFLOW:"overflow",STYLE_ORTHOGONAL:"orthogonal",STYLE_EXIT_X:"exitX",STYLE_EXIT_Y:"exitY",STYLE_EXIT_DX:"exitDx",STYLE_EXIT_DY:"exitDy",STYLE_EXIT_PERIMETER:"exitPerimeter",STYLE_ENTRY_X:"entryX",STYLE_ENTRY_Y:"entryY",STYLE_ENTRY_DX:"entryDx",STYLE_ENTRY_DY:"entryDy",STYLE_ENTRY_PERIMETER:"entryPerimeter",STYLE_WHITE_SPACE:"whiteSpace",STYLE_ROTATION:"rotation",STYLE_FILLCOLOR:"fillColor",STYLE_POINTER_EVENTS:"pointerEvents",STYLE_SWIMLANE_FILLCOLOR:"swimlaneFillColor",STYLE_MARGIN:"margin",
STYLE_GRADIENTCOLOR:"gradientColor",STYLE_GRADIENT_DIRECTION:"gradientDirection",STYLE_STROKECOLOR:"strokeColor",STYLE_SEPARATORCOLOR:"separatorColor",STYLE_STROKEWIDTH:"strokeWidth",STYLE_ALIGN:"align",STYLE_VERTICAL_ALIGN:"verticalAlign",STYLE_LABEL_WIDTH:"labelWidth",STYLE_LABEL_POSITION:"labelPosition",STYLE_VERTICAL_LABEL_POSITION:"verticalLabelPosition",STYLE_IMAGE_ASPECT:"imageAspect",STYLE_IMAGE_ALIGN:"imageAlign",STYLE_IMAGE_VERTICAL_ALIGN:"imageVerticalAlign",STYLE_GLASS:"glass",STYLE_IMAGE:"image",
STYLE_IMAGE_WIDTH:"imageWidth",STYLE_IMAGE_HEIGHT:"imageHeight",STYLE_IMAGE_BACKGROUND:"imageBackground",STYLE_IMAGE_BORDER:"imageBorder",STYLE_FLIPH:"flipH",STYLE_FLIPV:"flipV",STYLE_NOLABEL:"noLabel",STYLE_NOEDGESTYLE:"noEdgeStyle",STYLE_LABEL_BACKGROUNDCOLOR:"labelBackgroundColor",STYLE_LABEL_BORDERCOLOR:"labelBorderColor",STYLE_LABEL_PADDING:"labelPadding",STYLE_INDICATOR_SHAPE:"indicatorShape",STYLE_INDICATOR_IMAGE:"indicatorImage",STYLE_INDICATOR_COLOR:"indicatorColor",STYLE_INDICATOR_STROKECOLOR:"indicatorStrokeColor",
STYLE_INDICATOR_GRADIENTCOLOR:"indicatorGradientColor",STYLE_INDICATOR_SPACING:"indicatorSpacing",STYLE_INDICATOR_WIDTH:"indicatorWidth",STYLE_INDICATOR_HEIGHT:"indicatorHeight",STYLE_INDICATOR_DIRECTION:"indicatorDirection",STYLE_SHADOW:"shadow",STYLE_SEGMENT:"segment",STYLE_ENDARROW:"endArrow",STYLE_STARTARROW:"startArrow",STYLE_ENDSIZE:"endSize",STYLE_STARTSIZE:"startSize",STYLE_SWIMLANE_LINE:"swimlaneLine",STYLE_ENDFILL:"endFill",STYLE_STARTFILL:"startFill",STYLE_DASHED:"dashed",STYLE_DASH_PATTERN:"dashPattern",
STYLE_FIX_DASH:"fixDash",STYLE_ROUNDED:"rounded",STYLE_CURVED:"curved",STYLE_ARCSIZE:"arcSize",STYLE_ABSOLUTE_ARCSIZE:"absoluteArcSize",STYLE_SOURCE_PERIMETER_SPACING:"sourcePerimeterSpacing",STYLE_TARGET_PERIMETER_SPACING:"targetPerimeterSpacing",STYLE_PERIMETER_SPACING:"perimeterSpacing",STYLE_SPACING:"spacing",STYLE_SPACING_TOP:"spacingTop",STYLE_SPACING_LEFT:"spacingLeft",STYLE_SPACING_BOTTOM:"spacingBottom",STYLE_SPACING_RIGHT:"spacingRight",STYLE_HORIZONTAL:"horizontal",STYLE_DIRECTION:"direction",
STYLE_ANCHOR_POINT_DIRECTION:"anchorPointDirection",STYLE_ELBOW:"elbow",STYLE_FONTCOLOR:"fontColor",STYLE_FONTFAMILY:"fontFamily",STYLE_FONTSIZE:"fontSize",STYLE_FONTSTYLE:"fontStyle",STYLE_ASPECT:"aspect",STYLE_AUTOSIZE:"autosize",STYLE_FOLDABLE:"foldable",STYLE_EDITABLE:"editable",STYLE_BACKGROUND_OUTLINE:"backgroundOutline",STYLE_BENDABLE:"bendable",STYLE_MOVABLE:"movable",STYLE_RESIZABLE:"resizable",STYLE_RESIZE_WIDTH:"resizeWidth",STYLE_RESIZE_HEIGHT:"resizeHeight",STYLE_ROTATABLE:"rotatable",
STYLE_CLONEABLE:"cloneable",STYLE_DELETABLE:"deletable",STYLE_SHAPE:"shape",STYLE_EDGE:"edgeStyle",STYLE_JETTY_SIZE:"jettySize",STYLE_SOURCE_JETTY_SIZE:"sourceJettySize",STYLE_TARGET_JETTY_SIZE:"targetJettySize",STYLE_LOOP:"loopStyle",STYLE_ORTHOGONAL_LOOP:"orthogonalLoop",STYLE_ROUTING_CENTER_X:"routingCenterX",STYLE_ROUTING_CENTER_Y:"routingCenterY",FONT_BOLD:1,FONT_ITALIC:2,FONT_UNDERLINE:4,SHAPE_RECTANGLE:"rectangle",SHAPE_ELLIPSE:"ellipse",SHAPE_DOUBLE_ELLIPSE:"doubleEllipse",SHAPE_RHOMBUS:"rhombus",
SHAPE_LINE:"line",SHAPE_IMAGE:"image",SHAPE_ARROW:"arrow",SHAPE_ARROW_CONNECTOR:"arrowConnector",SHAPE_LABEL:"label",SHAPE_CYLINDER:"cylinder",SHAPE_SWIMLANE:"swimlane",SHAPE_CONNECTOR:"connector",SHAPE_ACTOR:"actor",SHAPE_CLOUD:"cloud",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",ARROW_CLASSIC:"classic",ARROW_CLASSIC_THIN:"classicThin",ARROW_BLOCK:"block",ARROW_BLOCK_THIN:"blockThin",ARROW_OPEN:"open",ARROW_OPEN_THIN:"openThin",ARROW_OVAL:"oval",ARROW_DIAMOND:"diamond",ARROW_DIAMOND_THIN:"diamondThin",
ALIGN_LEFT:"left",ALIGN_CENTER:"center",ALIGN_RIGHT:"right",ALIGN_TOP:"top",ALIGN_MIDDLE:"middle",ALIGN_BOTTOM:"bottom",DIRECTION_NORTH:"north",DIRECTION_SOUTH:"south",DIRECTION_EAST:"east",DIRECTION_WEST:"west",TEXT_DIRECTION_DEFAULT:"",TEXT_DIRECTION_AUTO:"auto",TEXT_DIRECTION_LTR:"ltr",TEXT_DIRECTION_RTL:"rtl",DIRECTION_MASK_NONE:0,DIRECTION_MASK_WEST:1,DIRECTION_MASK_NORTH:2,DIRECTION_MASK_SOUTH:4,DIRECTION_MASK_EAST:8,DIRECTION_MASK_ALL:15,ELBOW_VERTICAL:"vertical",ELBOW_HORIZONTAL:"horizontal",
EDGESTYLE_ELBOW:"elbowEdgeStyle",EDGESTYLE_ENTITY_RELATION:"entityRelationEdgeStyle",EDGESTYLE_LOOP:"loopEdgeStyle",EDGESTYLE_SIDETOSIDE:"sideToSideEdgeStyle",EDGESTYLE_TOPTOBOTTOM:"topToBottomEdgeStyle",EDGESTYLE_ORTHOGONAL:"orthogonalEdgeStyle",EDGESTYLE_SEGMENT:"segmentEdgeStyle",PERIMETER_ELLIPSE:"ellipsePerimeter",PERIMETER_RECTANGLE:"rectanglePerimeter",PERIMETER_RHOMBUS:"rhombusPerimeter",PERIMETER_HEXAGON:"hexagonPerimeter",PERIMETER_TRIANGLE:"trianglePerimeter"};
function mxEventObject($a$$){this.name=$a$$;this.properties=[];for(var $b$$=1;$b$$<arguments.length;$b$$+=2)null!=arguments[$b$$+1]&&(this.properties[arguments[$b$$]]=arguments[$b$$+1])}mxEventObject.prototype.name=null;mxEventObject.prototype.properties=null;mxEventObject.prototype.consumed=!1;mxEventObject.prototype.getName=function $mxEventObject$$getName$(){return this.name};mxEventObject.prototype.getProperties=function $mxEventObject$$getProperties$(){return this.properties};
mxEventObject.prototype.getProperty=function $mxEventObject$$getProperty$($a$$){return this.properties[$a$$]};mxEventObject.prototype.isConsumed=function $mxEventObject$$isConsumed$(){return this.consumed};mxEventObject.prototype.consume=function $mxEventObject$$consume$(){this.consumed=!0};function mxMouseEvent($a$$,$b$$){this.evt=$a$$;this.sourceState=this.state=$b$$}mxMouseEvent.prototype.consumed=!1;mxMouseEvent.prototype.evt=null;mxMouseEvent.prototype.graphX=null;
mxMouseEvent.prototype.graphY=null;mxMouseEvent.prototype.state=null;mxMouseEvent.prototype.sourceState=null;mxMouseEvent.prototype.getEvent=function $mxMouseEvent$$getEvent$(){return this.evt};mxMouseEvent.prototype.getSource=function $mxMouseEvent$$getSource$(){return mxEvent.getSource(this.evt)};mxMouseEvent.prototype.isSource=function $mxMouseEvent$$isSource$($a$$){return null!=$a$$?mxUtils.isAncestorNode($a$$.node,this.getSource()):!1};mxMouseEvent.prototype.getX=function $mxMouseEvent$$getX$(){return mxEvent.getClientX(this.getEvent())};
mxMouseEvent.prototype.getY=function $mxMouseEvent$$getY$(){return mxEvent.getClientY(this.getEvent())};mxMouseEvent.prototype.getGraphX=function $mxMouseEvent$$getGraphX$(){return this.graphX};mxMouseEvent.prototype.getGraphY=function $mxMouseEvent$$getGraphY$(){return this.graphY};mxMouseEvent.prototype.getState=function $mxMouseEvent$$getState$(){return this.state};mxMouseEvent.prototype.getCell=function $mxMouseEvent$$getCell$(){var $a$$=this.getState();return null!=$a$$?$a$$.cell:null};
mxMouseEvent.prototype.isPopupTrigger=function $mxMouseEvent$$isPopupTrigger$(){return mxEvent.isPopupTrigger(this.getEvent())};mxMouseEvent.prototype.isConsumed=function $mxMouseEvent$$isConsumed$(){return this.consumed};mxMouseEvent.prototype.consume=function $mxMouseEvent$$consume$($a$$){(null!=$a$$?$a$$:1)&&this.evt.preventDefault&&this.evt.preventDefault();mxClient.IS_IE&&(this.evt.returnValue=!0);this.consumed=!0};function mxEventSource($a$$){this.setEventSource($a$$)}
mxEventSource.prototype.eventListeners=null;mxEventSource.prototype.eventsEnabled=!0;mxEventSource.prototype.eventSource=null;mxEventSource.prototype.isEventsEnabled=function $mxEventSource$$isEventsEnabled$(){return this.eventsEnabled};mxEventSource.prototype.setEventsEnabled=function $mxEventSource$$setEventsEnabled$($a$$){this.eventsEnabled=$a$$};mxEventSource.prototype.getEventSource=function $mxEventSource$$getEventSource$(){return this.eventSource};
mxEventSource.prototype.setEventSource=function $mxEventSource$$setEventSource$($a$$){this.eventSource=$a$$};mxEventSource.prototype.addListener=function $mxEventSource$$addListener$($a$$,$b$$){null==this.eventListeners&&(this.eventListeners=[]);this.eventListeners.push($a$$);this.eventListeners.push($b$$)};
mxEventSource.prototype.removeListener=function $mxEventSource$$removeListener$($a$$){if(null!=this.eventListeners)for(var $b$$=0;$b$$<this.eventListeners.length;)this.eventListeners[$b$$+1]==$a$$?this.eventListeners.splice($b$$,2):$b$$+=2};
mxEventSource.prototype.fireEvent=function $mxEventSource$$fireEvent$($a$$,$b$$){if(null!=this.eventListeners&&this.isEventsEnabled()){null==$a$$&&($a$$=new mxEventObject);null==$b$$&&($b$$=this.getEventSource());null==$b$$&&($b$$=this);for(var $c$$=[$b$$,$a$$],$d$$=0;$d$$<this.eventListeners.length;$d$$+=2){var $e$$=this.eventListeners[$d$$];null!=$e$$&&$e$$!=$a$$.getName()||this.eventListeners[$d$$+1].apply(this,$c$$)}}};
var mxEvent={addListener:function(){return window.addEventListener?function($a$$,$b$$,$c$$){$a$$.addEventListener($b$$,$c$$,!1);null==$a$$.mxListenerList&&($a$$.mxListenerList=[]);$a$$.mxListenerList.push({name:$b$$,f:$c$$})}:function($a$$,$b$$,$c$$){$a$$.attachEvent("on"+$b$$,$c$$);null==$a$$.mxListenerList&&($a$$.mxListenerList=[]);$a$$.mxListenerList.push({name:$b$$,f:$c$$})}}(),removeListener:function(){var $a$jscomp$0$$=function $$a$jscomp$0$$$($a$$,$c$$,$d$$){if(null!=$a$$.mxListenerList){$c$$=
$a$$.mxListenerList.length;for(var $b$$=0;$b$$<$c$$;$b$$++)if($a$$.mxListenerList[$b$$].f==$d$$){$a$$.mxListenerList.splice($b$$,1);break}0==$a$$.mxListenerList.length&&($a$$.mxListenerList=null)}};return window.removeEventListener?function($b$$,$c$$,$d$$){$b$$.removeEventListener($c$$,$d$$,!1);$a$jscomp$0$$($b$$,$c$$,$d$$)}:function($b$$,$c$$,$d$$){$b$$.detachEvent("on"+$c$$,$d$$);$a$jscomp$0$$($b$$,$c$$,$d$$)}}(),removeAllListeners:function($a$$){var $b$$=$a$$.mxListenerList;if(null!=$b$$)for(;0<
$b$$.length;){var $c$$=$b$$[0];mxEvent.removeListener($a$$,$c$$.name,$c$$.f)}},addGestureListeners:function($a$$,$b$$,$c$$,$d$$){null!=$b$$&&mxEvent.addListener($a$$,mxClient.IS_POINTER?"pointerdown":"mousedown",$b$$);null!=$c$$&&mxEvent.addListener($a$$,mxClient.IS_POINTER?"pointermove":"mousemove",$c$$);null!=$d$$&&mxEvent.addListener($a$$,mxClient.IS_POINTER?"pointerup":"mouseup",$d$$);!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=$b$$&&mxEvent.addListener($a$$,"touchstart",$b$$),null!=$c$$&&
mxEvent.addListener($a$$,"touchmove",$c$$),null!=$d$$&&mxEvent.addListener($a$$,"touchend",$d$$))},removeGestureListeners:function($a$$,$b$$,$c$$,$d$$){null!=$b$$&&mxEvent.removeListener($a$$,mxClient.IS_POINTER?"pointerdown":"mousedown",$b$$);null!=$c$$&&mxEvent.removeListener($a$$,mxClient.IS_POINTER?"pointermove":"mousemove",$c$$);null!=$d$$&&mxEvent.removeListener($a$$,mxClient.IS_POINTER?"pointerup":"mouseup",$d$$);!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=$b$$&&mxEvent.removeListener($a$$,
"touchstart",$b$$),null!=$c$$&&mxEvent.removeListener($a$$,"touchmove",$c$$),null!=$d$$&&mxEvent.removeListener($a$$,"touchend",$d$$))},redirectMouseEvents:function($a$jscomp$0$$,$b$$,$c$jscomp$0$$,$d$$,$e$$,$f$$,$g$$){var $k$$=function $$k$$$($a$$){return"function"==typeof $c$jscomp$0$$?$c$jscomp$0$$($a$$):$c$jscomp$0$$};mxEvent.addGestureListeners($a$jscomp$0$$,function($a$$){null!=$d$$?$d$$($a$$):mxEvent.isConsumed($a$$)||$b$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($a$$,$k$$($a$$)))},
function($a$$){null!=$e$$?$e$$($a$$):mxEvent.isConsumed($a$$)||$b$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($a$$,$k$$($a$$)))},function($a$$){null!=$f$$?$f$$($a$$):mxEvent.isConsumed($a$$)||$b$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($a$$,$k$$($a$$)))});mxEvent.addListener($a$jscomp$0$$,"dblclick",function($a$$){if(null!=$g$$)$g$$($a$$);else if(!mxEvent.isConsumed($a$$)){var $c$$=$k$$($a$$);$b$$.dblClick($a$$,null!=$c$$?$c$$.cell:null)}})},release:function($a$$){try{if(null!=
$a$$){mxEvent.removeAllListeners($a$$);var $b$$=$a$$.childNodes;if(null!=$b$$){var $c$$=$b$$.length;for($a$$=0;$a$$<$c$$;$a$$+=1)mxEvent.release($b$$[$a$$])}}}catch($d$$){}},addMouseWheelListener:function($a$$,$b$jscomp$0$$){if(null!=$a$$){var $c$jscomp$0$$=function $$c$jscomp$0$$$($b$$){null==$b$$&&($b$$=window.event);var $c$$;$c$$=mxClient.IS_FF?-$b$$.detail/2:$b$$.wheelDelta/120;0!=$c$$&&$a$$($b$$,0<$c$$)};mxClient.IS_NS&&null==document.documentMode?mxEvent.addListener(mxClient.IS_GC&&null!=$b$jscomp$0$$?
$b$jscomp$0$$:window,mxClient.IS_SF||mxClient.IS_GC?"mousewheel":"DOMMouseScroll",$c$jscomp$0$$):mxEvent.addListener(document,"mousewheel",$c$jscomp$0$$)}},disableContextMenu:function($a$jscomp$0$$){mxEvent.addListener($a$jscomp$0$$,"contextmenu",function($a$$){$a$$.preventDefault&&$a$$.preventDefault();return!1})},getSource:function($a$$){return null!=$a$$.srcElement?$a$$.srcElement:$a$$.target},isConsumed:function($a$$){return null!=$a$$.isConsumed&&$a$$.isConsumed},isTouchEvent:function($a$$){return null!=
$a$$.pointerType?"touch"==$a$$.pointerType||$a$$.pointerType===$a$$.MSPOINTER_TYPE_TOUCH:null!=$a$$.mozInputSource?5==$a$$.mozInputSource:0==$a$$.type.indexOf("touch")},isPenEvent:function($a$$){return null!=$a$$.pointerType?"pen"==$a$$.pointerType||$a$$.pointerType===$a$$.MSPOINTER_TYPE_PEN:null!=$a$$.mozInputSource?2==$a$$.mozInputSource:0==$a$$.type.indexOf("pen")},isMultiTouchEvent:function($a$$){return null!=$a$$.type&&0==$a$$.type.indexOf("touch")&&null!=$a$$.touches&&1<$a$$.touches.length},
isMouseEvent:function($a$$){return null!=$a$$.pointerType?"mouse"==$a$$.pointerType||$a$$.pointerType===$a$$.MSPOINTER_TYPE_MOUSE:null!=$a$$.mozInputSource?1==$a$$.mozInputSource:0==$a$$.type.indexOf("mouse")},isLeftMouseButton:function($a$$){return"buttons"in $a$$&&("mousedown"==$a$$.type||"mousemove"==$a$$.type)?1==$a$$.buttons:"which"in $a$$?1===$a$$.which:1===$a$$.button},isMiddleMouseButton:function($a$$){return"which"in $a$$?2===$a$$.which:4===$a$$.button},isRightMouseButton:function($a$$){return"which"in
$a$$?3===$a$$.which:2===$a$$.button},isPopupTrigger:function($a$$){return mxEvent.isRightMouseButton($a$$)||mxClient.IS_MAC&&mxEvent.isControlDown($a$$)&&!mxEvent.isShiftDown($a$$)&&!mxEvent.isMetaDown($a$$)&&!mxEvent.isAltDown($a$$)},isShiftDown:function($a$$){return null!=$a$$?$a$$.shiftKey:!1},isAltDown:function($a$$){return null!=$a$$?$a$$.altKey:!1},isControlDown:function($a$$){return null!=$a$$?$a$$.ctrlKey:!1},isMetaDown:function($a$$){return null!=$a$$?$a$$.metaKey:!1},getMainEvent:function($a$$){"touchstart"!=
$a$$.type&&"touchmove"!=$a$$.type||null==$a$$.touches||null==$a$$.touches[0]?"touchend"==$a$$.type&&null!=$a$$.changedTouches&&null!=$a$$.changedTouches[0]&&($a$$=$a$$.changedTouches[0]):$a$$=$a$$.touches[0];return $a$$},getClientX:function($a$$){return mxEvent.getMainEvent($a$$).clientX},getClientY:function($a$$){return mxEvent.getMainEvent($a$$).clientY},consume:function($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!0;if(null!=$b$$?$b$$:1)$a$$.preventDefault?($c$$&&$a$$.stopPropagation(),$a$$.preventDefault()):
$c$$&&($a$$.cancelBubble=!0);$a$$.isConsumed=!0;$a$$.preventDefault||($a$$.returnValue=!1)},LABEL_HANDLE:-1,ROTATION_HANDLE:-2,CUSTOM_HANDLE:-100,VIRTUAL_HANDLE:-1E5,MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove",MOUSE_UP:"mouseUp",ACTIVATE:"activate",RESIZE_START:"resizeStart",RESIZE:"resize",RESIZE_END:"resizeEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",PAN_START:"panStart",PAN:"pan",PAN_END:"panEnd",MINIMIZE:"minimize",NORMALIZE:"normalize",MAXIMIZE:"maximize",HIDE:"hide",SHOW:"show",
CLOSE:"close",DESTROY:"destroy",REFRESH:"refresh",SIZE:"size",SELECT:"select",FIRED:"fired",FIRE_MOUSE_EVENT:"fireMouseEvent",GESTURE:"gesture",TAP_AND_HOLD:"tapAndHold",GET:"get",RECEIVE:"receive",CONNECT:"connect",DISCONNECT:"disconnect",SUSPEND:"suspend",RESUME:"resume",MARK:"mark",ROOT:"root",POST:"post",OPEN:"open",SAVE:"save",BEFORE_ADD_VERTEX:"beforeAddVertex",ADD_VERTEX:"addVertex",AFTER_ADD_VERTEX:"afterAddVertex",DONE:"done",EXECUTE:"execute",EXECUTED:"executed",BEGIN_UPDATE:"beginUpdate",
START_EDIT:"startEdit",END_UPDATE:"endUpdate",END_EDIT:"endEdit",BEFORE_UNDO:"beforeUndo",UNDO:"undo",REDO:"redo",CHANGE:"change",NOTIFY:"notify",LAYOUT_CELLS:"layoutCells",CLICK:"click",SCALE:"scale",TRANSLATE:"translate",SCALE_AND_TRANSLATE:"scaleAndTranslate",UP:"up",DOWN:"down",ADD:"add",REMOVE:"remove",CLEAR:"clear",ADD_CELLS:"addCells",CELLS_ADDED:"cellsAdded",MOVE_CELLS:"moveCells",CELLS_MOVED:"cellsMoved",RESIZE_CELLS:"resizeCells",CELLS_RESIZED:"cellsResized",TOGGLE_CELLS:"toggleCells",CELLS_TOGGLED:"cellsToggled",
ORDER_CELLS:"orderCells",CELLS_ORDERED:"cellsOrdered",REMOVE_CELLS:"removeCells",CELLS_REMOVED:"cellsRemoved",GROUP_CELLS:"groupCells",UNGROUP_CELLS:"ungroupCells",REMOVE_CELLS_FROM_PARENT:"removeCellsFromParent",FOLD_CELLS:"foldCells",CELLS_FOLDED:"cellsFolded",ALIGN_CELLS:"alignCells",LABEL_CHANGED:"labelChanged",CONNECT_CELL:"connectCell",CELL_CONNECTED:"cellConnected",SPLIT_EDGE:"splitEdge",FLIP_EDGE:"flipEdge",START_EDITING:"startEditing",EDITING_STARTED:"editingStarted",EDITING_STOPPED:"editingStopped",
ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",UPDATE_CELL_SIZE:"updateCellSize",ESCAPE:"escape",DOUBLE_CLICK:"doubleClick",START:"start",RESET:"reset"};function mxXmlRequest($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.url=$a$$;this.params=$b$$;this.method=$c$$||"POST";this.async=null!=$d$$?$d$$:!0;this.username=$e$$;this.password=$f$$}mxXmlRequest.prototype.url=null;mxXmlRequest.prototype.params=null;mxXmlRequest.prototype.method=null;mxXmlRequest.prototype.async=null;
mxXmlRequest.prototype.binary=!1;mxXmlRequest.prototype.withCredentials=!1;mxXmlRequest.prototype.username=null;mxXmlRequest.prototype.password=null;mxXmlRequest.prototype.request=null;mxXmlRequest.prototype.decodeSimulateValues=!1;mxXmlRequest.prototype.isBinary=function $mxXmlRequest$$isBinary$(){return this.binary};mxXmlRequest.prototype.setBinary=function $mxXmlRequest$$setBinary$($a$$){this.binary=$a$$};mxXmlRequest.prototype.getText=function $mxXmlRequest$$getText$(){return this.request.responseText};
mxXmlRequest.prototype.isReady=function $mxXmlRequest$$isReady$(){return 4==this.request.readyState};mxXmlRequest.prototype.getDocumentElement=function $mxXmlRequest$$getDocumentElement$(){var $a$$=this.getXml();return null!=$a$$?$a$$.documentElement:null};mxXmlRequest.prototype.getXml=function $mxXmlRequest$$getXml$(){var $a$$=this.request.responseXML;if(9<=document.documentMode||null==$a$$||null==$a$$.documentElement)$a$$=mxUtils.parseXml(this.request.responseText);return $a$$};
mxXmlRequest.prototype.getText=function $mxXmlRequest$$getText$(){return this.request.responseText};mxXmlRequest.prototype.getStatus=function $mxXmlRequest$$getStatus$(){return this.request.status};mxXmlRequest.prototype.create=function(){if(window.XMLHttpRequest)return function(){var $a$$=new XMLHttpRequest;this.isBinary()&&$a$$.overrideMimeType&&$a$$.overrideMimeType("text/plain; charset=x-user-defined");return $a$$};if("undefined"!=typeof ActiveXObject)return function(){return new ActiveXObject("Microsoft.XMLHTTP")}}();
mxXmlRequest.prototype.send=function $mxXmlRequest$$send$($a$$,$b$$,$c$$,$d$$){this.request=this.create();null!=this.request&&(null!=$a$$&&(this.request.onreadystatechange=mxUtils.bind(this,function(){this.isReady()&&($a$$(this),this.request.onreadystatechaange=null)})),this.request.open(this.method,this.url,this.async,this.username,this.password),this.setRequestHeaders(this.request,this.params),window.XMLHttpRequest&&this.withCredentials&&(this.request.withCredentials="true"),!mxClient.IS_QUIRKS&&
(null==document.documentMode||9<document.documentMode)&&window.XMLHttpRequest&&null!=$c$$&&null!=$d$$&&(this.request.timeout=$c$$,this.request.ontimeout=$d$$),this.request.send(this.params))};mxXmlRequest.prototype.setRequestHeaders=function $mxXmlRequest$$setRequestHeaders$($a$$,$b$$){null!=$b$$&&$a$$.setRequestHeader("Content-Type","application/x-www-form-urlencoded")};
mxXmlRequest.prototype.simulate=function $mxXmlRequest$$simulate$($a$$,$b$$){$a$$=$a$$||document;var $c$$=null;$a$$==document&&($c$$=window.onbeforeunload,window.onbeforeunload=null);var $d$$=$a$$.createElement("form");$d$$.setAttribute("method",this.method);$d$$.setAttribute("action",this.url);null!=$b$$&&$d$$.setAttribute("target",$b$$);$d$$.style.display="none";$d$$.style.visibility="hidden";for(var $e$$=0<this.params.indexOf("&")?this.params.split("&"):this.params.split(),$f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=
$e$$[$f$$].indexOf("=");if(0<$g$$){var $k$$=$e$$[$f$$].substring(0,$g$$),$g$$=$e$$[$f$$].substring($g$$+1);this.decodeSimulateValues&&($g$$=decodeURIComponent($g$$));var $l$$=$a$$.createElement("textarea");$l$$.setAttribute("wrap","off");$l$$.setAttribute("name",$k$$);mxUtils.write($l$$,$g$$);$d$$.appendChild($l$$)}}$a$$.body.appendChild($d$$);$d$$.submit();null!=$d$$.parentNode&&$d$$.parentNode.removeChild($d$$);null!=$c$$&&(window.onbeforeunload=$c$$)};
var mxClipboard={STEPSIZE:10,insertCount:1,cells:null,setCells:function($a$$){mxClipboard.cells=$a$$},getCells:function(){return mxClipboard.cells},isEmpty:function(){return null==mxClipboard.getCells()},cut:function($a$$,$b$$){$b$$=mxClipboard.copy($a$$,$b$$);mxClipboard.insertCount=0;mxClipboard.removeCells($a$$,$b$$);return $b$$},removeCells:function($a$$,$b$$){$a$$.removeCells($b$$)},copy:function($a$$,$b$$){$b$$=$b$$||$a$$.getSelectionCells();var $c$$=$a$$.getExportableCells($a$$.model.getTopmostCells($b$$));
mxClipboard.insertCount=1;mxClipboard.setCells($a$$.cloneCells($c$$));return $c$$},paste:function($a$$){var $b$$=null;if(!mxClipboard.isEmpty()){var $b$$=$a$$.getImportableCells(mxClipboard.getCells()),$c$$=mxClipboard.insertCount*mxClipboard.STEPSIZE,$d$$=$a$$.getDefaultParent(),$b$$=$a$$.importCells($b$$,$c$$,$c$$,$d$$);mxClipboard.insertCount++;$a$$.setSelectionCells($b$$)}return $b$$}};
function mxWindow($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){null!=$b$$&&($g$$=null!=$g$$?$g$$:!0,this.content=$b$$,this.init($c$$,$d$$,$e$$,$f$$,$m$$),this.installMaximizeHandler(),this.installMinimizeHandler(),this.installCloseHandler(),this.setMinimizable($g$$),this.setTitle($a$$),(null==$k$$||$k$$)&&this.installMoveHandler(),null!=$l$$&&null!=$l$$.parentNode?$l$$.parentNode.replaceChild(this.div,$l$$):document.body.appendChild(this.div))}mxWindow.prototype=new mxEventSource;
mxWindow.prototype.constructor=mxWindow;mxWindow.prototype.closeImage=mxClient.imageBasePath+"/close.gif";mxWindow.prototype.minimizeImage=mxClient.imageBasePath+"/minimize.gif";mxWindow.prototype.normalizeImage=mxClient.imageBasePath+"/normalize.gif";mxWindow.prototype.maximizeImage=mxClient.imageBasePath+"/maximize.gif";mxWindow.prototype.resizeImage=mxClient.imageBasePath+"/resize.gif";mxWindow.prototype.visible=!1;mxWindow.prototype.minimumSize=new mxRectangle(0,0,50,40);
mxWindow.prototype.destroyOnClose=!0;mxWindow.prototype.contentHeightCorrection=8==document.documentMode||7==document.documentMode?6:2;mxWindow.prototype.title=null;mxWindow.prototype.content=null;
mxWindow.prototype.init=function $mxWindow$$init$($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$){$e$$=null!=$e$$?$e$$:"mxWindow";this.div=document.createElement("div");this.div.className=$e$$;this.div.style.left=$a$jscomp$0$$+"px";this.div.style.top=$b$$+"px";this.table=document.createElement("table");this.table.className=$e$$;mxClient.IS_POINTER&&(this.div.style.touchAction="none");null!=$c$$&&(mxClient.IS_QUIRKS||(this.div.style.width=$c$$+"px"),this.table.style.width=$c$$+"px");null!=$d$$&&(mxClient.IS_QUIRKS||
(this.div.style.height=$d$$+"px"),this.table.style.height=$d$$+"px");$a$jscomp$0$$=document.createElement("tbody");$b$$=document.createElement("tr");this.title=document.createElement("td");this.title.className=$e$$+"Title";this.buttons=document.createElement("div");this.buttons.style.position="absolute";this.buttons.style.display="inline-block";this.buttons.style.right="4px";this.buttons.style.top="5px";this.title.appendChild(this.buttons);$b$$.appendChild(this.title);$a$jscomp$0$$.appendChild($b$$);
$b$$=document.createElement("tr");this.td=document.createElement("td");this.td.className=$e$$+"Pane";7==document.documentMode&&(this.td.style.height="100%");this.contentWrapper=document.createElement("div");this.contentWrapper.className=$e$$+"Pane";this.contentWrapper.style.width="100%";this.contentWrapper.appendChild(this.content);if(mxClient.IS_QUIRKS||"DIV"!=this.content.nodeName.toUpperCase())this.contentWrapper.style.height="100%";this.td.appendChild(this.contentWrapper);$b$$.appendChild(this.td);
$a$jscomp$0$$.appendChild($b$$);this.table.appendChild($a$jscomp$0$$);this.div.appendChild(this.table);$e$$=mxUtils.bind(this,function($a$$){this.activate()});mxEvent.addGestureListeners(this.title,$e$$);mxEvent.addGestureListeners(this.table,$e$$);this.hide()};
mxWindow.prototype.setTitle=function $mxWindow$$setTitle$($a$$){for(var $b$$=this.title.firstChild;null!=$b$$;){var $c$$=$b$$.nextSibling;$b$$.nodeType==mxConstants.NODETYPE_TEXT&&$b$$.parentNode.removeChild($b$$);$b$$=$c$$}mxUtils.write(this.title,$a$$||"");this.title.appendChild(this.buttons)};mxWindow.prototype.setScrollable=function $mxWindow$$setScrollable$($a$$){0>navigator.userAgent.indexOf("Presto/2.5")&&(this.contentWrapper.style.overflow=$a$$?"auto":"hidden")};
mxWindow.prototype.activate=function $mxWindow$$activate$(){if(mxWindow.activeWindow!=this){var $a$$=mxUtils.getCurrentStyle(this.getElement()),$a$$=null!=$a$$?$a$$.zIndex:3;if(mxWindow.activeWindow){var $b$$=mxWindow.activeWindow.getElement();null!=$b$$&&null!=$b$$.style&&($b$$.style.zIndex=$a$$)}$b$$=mxWindow.activeWindow;this.getElement().style.zIndex=parseInt($a$$)+1;mxWindow.activeWindow=this;this.fireEvent(new mxEventObject(mxEvent.ACTIVATE,"previousWindow",$b$$))}};
mxWindow.prototype.getElement=function $mxWindow$$getElement$(){return this.div};mxWindow.prototype.fit=function $mxWindow$$fit$(){mxUtils.fit(this.div)};mxWindow.prototype.isResizable=function $mxWindow$$isResizable$(){return null!=this.resize?"none"!=this.resize.style.display:!1};
mxWindow.prototype.setResizable=function $mxWindow$$setResizable$($a$jscomp$0$$){if($a$jscomp$0$$)if(null==this.resize){this.resize=document.createElement("img");this.resize.style.position="absolute";this.resize.style.bottom="2px";this.resize.style.right="2px";this.resize.setAttribute("src",this.resizeImage);this.resize.style.cursor="nw-resize";var $b$$=null,$c$$=null,$d$$=null,$e$$=null;$a$jscomp$0$$=mxUtils.bind(this,function($a$$){this.activate();$b$$=mxEvent.getClientX($a$$);$c$$=mxEvent.getClientY($a$$);
$d$$=this.div.offsetWidth;$e$$=this.div.offsetHeight;mxEvent.addGestureListeners(document,null,$f$jscomp$0$$,$g$jscomp$0$$);this.fireEvent(new mxEventObject(mxEvent.RESIZE_START,"event",$a$$));mxEvent.consume($a$$)});var $f$jscomp$0$$=mxUtils.bind(this,function($a$$){if(null!=$b$$&&null!=$c$$){var $f$$=mxEvent.getClientX($a$$)-$b$$,$g$$=mxEvent.getClientY($a$$)-$c$$;this.setSize($d$$+$f$$,$e$$+$g$$);this.fireEvent(new mxEventObject(mxEvent.RESIZE,"event",$a$$));mxEvent.consume($a$$)}}),$g$jscomp$0$$=
mxUtils.bind(this,function($a$$){null!=$b$$&&null!=$c$$&&($c$$=$b$$=null,mxEvent.removeGestureListeners(document,null,$f$jscomp$0$$,$g$jscomp$0$$),this.fireEvent(new mxEventObject(mxEvent.RESIZE_END,"event",$a$$)),mxEvent.consume($a$$))});mxEvent.addGestureListeners(this.resize,$a$jscomp$0$$,$f$jscomp$0$$,$g$jscomp$0$$);this.div.appendChild(this.resize)}else this.resize.style.display="inline";else null!=this.resize&&(this.resize.style.display="none")};
mxWindow.prototype.setSize=function $mxWindow$$setSize$($a$$,$b$$){$a$$=Math.max(this.minimumSize.width,$a$$);$b$$=Math.max(this.minimumSize.height,$b$$);mxClient.IS_QUIRKS||(this.div.style.width=$a$$+"px",this.div.style.height=$b$$+"px");this.table.style.width=$a$$+"px";this.table.style.height=$b$$+"px";mxClient.IS_QUIRKS||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px")};
mxWindow.prototype.setMinimizable=function $mxWindow$$setMinimizable$($a$$){this.minimize.style.display=$a$$?"":"none"};mxWindow.prototype.getMinimumSize=function $mxWindow$$getMinimumSize$(){return new mxRectangle(0,0,0,this.title.offsetHeight)};
mxWindow.prototype.installMinimizeHandler=function $mxWindow$$installMinimizeHandler$(){this.minimize=document.createElement("img");this.minimize.setAttribute("src",this.minimizeImage);this.minimize.setAttribute("title","Minimize");this.minimize.style.cursor="pointer";this.minimize.style.marginLeft="2px";this.minimize.style.display="none";this.buttons.appendChild(this.minimize);var $a$$=!1,$b$$=null,$c$$=null,$d$jscomp$0$$=mxUtils.bind(this,function($d$$){this.activate();if($a$$)$a$$=!1,this.minimize.setAttribute("src",
this.minimizeImage),this.minimize.setAttribute("title","Minimize"),this.contentWrapper.style.display="",this.maximize.style.display=$b$$,mxClient.IS_QUIRKS||(this.div.style.height=$c$$),this.table.style.height=$c$$,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",$d$$));else{$a$$=!0;this.minimize.setAttribute("src",this.normalizeImage);this.minimize.setAttribute("title","Normalize");this.contentWrapper.style.display="none";$b$$=this.maximize.style.display;
this.maximize.style.display="none";$c$$=this.table.style.height;var $e$$=this.getMinimumSize();0<$e$$.height&&(mxClient.IS_QUIRKS||(this.div.style.height=$e$$.height+"px"),this.table.style.height=$e$$.height+"px");0<$e$$.width&&(mxClient.IS_QUIRKS||(this.div.style.width=$e$$.width+"px"),this.table.style.width=$e$$.width+"px");null!=this.resize&&(this.resize.style.visibility="hidden");this.fireEvent(new mxEventObject(mxEvent.MINIMIZE,"event",$d$$))}mxEvent.consume($d$$)});mxEvent.addGestureListeners(this.minimize,
$d$jscomp$0$$)};mxWindow.prototype.setMaximizable=function $mxWindow$$setMaximizable$($a$$){this.maximize.style.display=$a$$?"":"none"};
mxWindow.prototype.installMaximizeHandler=function $mxWindow$$installMaximizeHandler$(){this.maximize=document.createElement("img");this.maximize.setAttribute("src",this.maximizeImage);this.maximize.setAttribute("title","Maximize");this.maximize.style.cursor="default";this.maximize.style.marginLeft="2px";this.maximize.style.cursor="pointer";this.maximize.style.display="none";this.buttons.appendChild(this.maximize);var $a$$=!1,$b$$=null,$c$$=null,$d$$=null,$e$$=null,$f$$=null,$g$jscomp$0$$=mxUtils.bind(this,
function($g$$){this.activate();if("none"!=this.maximize.style.display){if($a$$)$a$$=!1,this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("title","Maximize"),this.contentWrapper.style.display="",this.minimize.style.display=$f$$,this.div.style.left=$b$$+"px",this.div.style.top=$c$$+"px",mxClient.IS_QUIRKS||(this.div.style.height=$d$$,this.div.style.width=$e$$,$k$$=mxUtils.getCurrentStyle(this.contentWrapper),"auto"!=$k$$.overflow&&null==this.resize)||(this.contentWrapper.style.height=
this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"),this.table.style.height=$d$$,this.table.style.width=$e$$,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",$g$$));else{$a$$=!0;this.maximize.setAttribute("src",this.normalizeImage);this.maximize.setAttribute("title","Normalize");this.contentWrapper.style.display="";$f$$=this.minimize.style.display;this.minimize.style.display="none";$b$$=parseInt(this.div.style.left);
$c$$=parseInt(this.div.style.top);$d$$=this.table.style.height;$e$$=this.table.style.width;this.div.style.left="0px";this.div.style.top="0px";$k$$=Math.max(document.body.clientHeight||0,document.documentElement.clientHeight||0);mxClient.IS_QUIRKS||(this.div.style.width=document.body.clientWidth-2+"px",this.div.style.height=$k$$-2+"px");this.table.style.width=document.body.clientWidth-2+"px";this.table.style.height=$k$$-2+"px";null!=this.resize&&(this.resize.style.visibility="hidden");if(!mxClient.IS_QUIRKS){var $k$$=
mxUtils.getCurrentStyle(this.contentWrapper);if("auto"==$k$$.overflow||null!=this.resize)this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"}this.fireEvent(new mxEventObject(mxEvent.MAXIMIZE,"event",$g$$))}mxEvent.consume($g$$)}});mxEvent.addGestureListeners(this.maximize,$g$jscomp$0$$);mxEvent.addListener(this.title,"dblclick",$g$jscomp$0$$)};
mxWindow.prototype.installMoveHandler=function $mxWindow$$installMoveHandler$(){this.title.style.cursor="move";mxEvent.addGestureListeners(this.title,mxUtils.bind(this,function($a$jscomp$0$$){var $b$$=mxEvent.getClientX($a$jscomp$0$$),$c$$=mxEvent.getClientY($a$jscomp$0$$),$d$$=this.getX(),$e$$=this.getY(),$f$jscomp$0$$=mxUtils.bind(this,function($a$$){var $f$$=mxEvent.getClientX($a$$)-$b$$,$g$$=mxEvent.getClientY($a$$)-$c$$;this.setLocation($d$$+$f$$,$e$$+$g$$);this.fireEvent(new mxEventObject(mxEvent.MOVE,
"event",$a$$));mxEvent.consume($a$$)}),$g$jscomp$0$$=mxUtils.bind(this,function($a$$){mxEvent.removeGestureListeners(document,null,$f$jscomp$0$$,$g$jscomp$0$$);this.fireEvent(new mxEventObject(mxEvent.MOVE_END,"event",$a$$));mxEvent.consume($a$$)});mxEvent.addGestureListeners(document,null,$f$jscomp$0$$,$g$jscomp$0$$);this.fireEvent(new mxEventObject(mxEvent.MOVE_START,"event",$a$jscomp$0$$));mxEvent.consume($a$jscomp$0$$)}));mxClient.IS_POINTER&&(this.title.style.touchAction="none")};
mxWindow.prototype.setLocation=function $mxWindow$$setLocation$($a$$,$b$$){this.div.style.left=$a$$+"px";this.div.style.top=$b$$+"px"};mxWindow.prototype.getX=function $mxWindow$$getX$(){return parseInt(this.div.style.left)};mxWindow.prototype.getY=function $mxWindow$$getY$(){return parseInt(this.div.style.top)};
mxWindow.prototype.installCloseHandler=function $mxWindow$$installCloseHandler$(){this.closeImg=document.createElement("img");this.closeImg.setAttribute("src",this.closeImage);this.closeImg.setAttribute("title","Close");this.closeImg.style.marginLeft="2px";this.closeImg.style.cursor="pointer";this.closeImg.style.display="none";this.buttons.appendChild(this.closeImg);mxEvent.addGestureListeners(this.closeImg,mxUtils.bind(this,function($a$$){this.fireEvent(new mxEventObject(mxEvent.CLOSE,"event",$a$$));
this.destroyOnClose?this.destroy():this.setVisible(!1);mxEvent.consume($a$$)}))};mxWindow.prototype.setImage=function $mxWindow$$setImage$($a$$){this.image=document.createElement("img");this.image.setAttribute("src",$a$$);this.image.setAttribute("align","left");this.image.style.marginRight="4px";this.image.style.marginLeft="0px";this.image.style.marginTop="-2px";this.title.insertBefore(this.image,this.title.firstChild)};
mxWindow.prototype.setClosable=function $mxWindow$$setClosable$($a$$){this.closeImg.style.display=$a$$?"":"none"};mxWindow.prototype.isVisible=function $mxWindow$$isVisible$(){return null!=this.div?"none"!=this.div.style.display:!1};mxWindow.prototype.setVisible=function $mxWindow$$setVisible$($a$$){null!=this.div&&this.isVisible()!=$a$$&&($a$$?this.show():this.hide())};
mxWindow.prototype.show=function $mxWindow$$show$(){this.div.style.display="";this.activate();var $a$$=mxUtils.getCurrentStyle(this.contentWrapper);mxClient.IS_QUIRKS||"auto"!=$a$$.overflow&&null==this.resize||"none"==this.contentWrapper.style.display||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px");this.fireEvent(new mxEventObject(mxEvent.SHOW))};mxWindow.prototype.hide=function $mxWindow$$hide$(){this.div.style.display="none";this.fireEvent(new mxEventObject(mxEvent.HIDE))};
mxWindow.prototype.destroy=function $mxWindow$$destroy$(){this.fireEvent(new mxEventObject(mxEvent.DESTROY));null!=this.div&&(mxEvent.release(this.div),this.div.parentNode.removeChild(this.div),this.div=null);this.contentWrapper=this.content=this.title=null};function mxForm($a$$){this.table=document.createElement("table");this.table.className=$a$$;this.body=document.createElement("tbody");this.table.appendChild(this.body)}mxForm.prototype.table=null;mxForm.prototype.body=!1;
mxForm.prototype.getTable=function $mxForm$$getTable$(){return this.table};
mxForm.prototype.addButtons=function $mxForm$$addButtons$($a$$,$b$$){var $c$$=document.createElement("tr"),$d$$=document.createElement("td");$c$$.appendChild($d$$);var $d$$=document.createElement("td"),$e$$=document.createElement("button");mxUtils.write($e$$,mxResources.get("ok")||"OK");$d$$.appendChild($e$$);mxEvent.addListener($e$$,"click",function(){$a$$()});$e$$=document.createElement("button");mxUtils.write($e$$,mxResources.get("cancel")||"Cancel");$d$$.appendChild($e$$);mxEvent.addListener($e$$,
"click",function(){$b$$()});$c$$.appendChild($d$$);this.body.appendChild($c$$)};mxForm.prototype.addText=function $mxForm$$addText$($a$$,$b$$,$c$$){var $d$$=document.createElement("input");$d$$.setAttribute("type",$c$$||"text");$d$$.value=$b$$;return this.addField($a$$,$d$$)};mxForm.prototype.addCheckbox=function $mxForm$$addCheckbox$($a$$,$b$$){var $c$$=document.createElement("input");$c$$.setAttribute("type","checkbox");this.addField($a$$,$c$$);$b$$&&($c$$.checked=!0);return $c$$};
mxForm.prototype.addTextarea=function $mxForm$$addTextarea$($a$$,$b$$,$c$$){var $d$$=document.createElement("textarea");mxClient.IS_NS&&$c$$--;$d$$.setAttribute("rows",$c$$||2);$d$$.value=$b$$;return this.addField($a$$,$d$$)};mxForm.prototype.addCombo=function $mxForm$$addCombo$($a$$,$b$$,$c$$){var $d$$=document.createElement("select");null!=$c$$&&$d$$.setAttribute("size",$c$$);$b$$&&$d$$.setAttribute("multiple","true");return this.addField($a$$,$d$$)};
mxForm.prototype.addOption=function $mxForm$$addOption$($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElement("option");mxUtils.writeln($e$$,$b$$);$e$$.setAttribute("value",$c$$);$d$$&&$e$$.setAttribute("selected",$d$$);$a$$.appendChild($e$$)};
mxForm.prototype.addField=function $mxForm$$addField$($a$$,$b$$){var $c$$=document.createElement("tr"),$d$$=document.createElement("td");mxUtils.write($d$$,$a$$);$c$$.appendChild($d$$);$d$$=document.createElement("td");$d$$.appendChild($b$$);$c$$.appendChild($d$$);this.body.appendChild($c$$);return $b$$};function mxImage($a$$,$b$$,$c$$){this.src=$a$$;this.width=$b$$;this.height=$c$$}mxImage.prototype.src=null;mxImage.prototype.width=null;mxImage.prototype.height=null;
function mxDivResizer($a$jscomp$0$$,$b$$){if("div"==$a$jscomp$0$$.nodeName.toLowerCase()){null==$b$$&&($b$$=window);this.div=$a$jscomp$0$$;var $c$$=mxUtils.getCurrentStyle($a$jscomp$0$$);null!=$c$$&&(this.resizeWidth="auto"==$c$$.width,this.resizeHeight="auto"==$c$$.height);mxEvent.addListener($b$$,"resize",mxUtils.bind(this,function($a$$){this.handlingResize||(this.handlingResize=!0,this.resize(),this.handlingResize=!1)}));this.resize()}}mxDivResizer.prototype.resizeWidth=!0;
mxDivResizer.prototype.resizeHeight=!0;mxDivResizer.prototype.handlingResize=!1;
mxDivResizer.prototype.resize=function $mxDivResizer$$resize$(){var $a$$=this.getDocumentWidth(),$b$$=this.getDocumentHeight(),$c$$=parseInt(this.div.style.left),$d$$=parseInt(this.div.style.right),$e$$=parseInt(this.div.style.top),$f$$=parseInt(this.div.style.bottom);this.resizeWidth&&!isNaN($c$$)&&!isNaN($d$$)&&0<=$c$$&&0<=$d$$&&0<$a$$-$d$$-$c$$&&(this.div.style.width=$a$$-$d$$-$c$$+"px");this.resizeHeight&&!isNaN($e$$)&&!isNaN($f$$)&&0<=$e$$&&0<=$f$$&&0<$b$$-$e$$-$f$$&&(this.div.style.height=$b$$-
$e$$-$f$$+"px")};mxDivResizer.prototype.getDocumentWidth=function $mxDivResizer$$getDocumentWidth$(){return document.body.clientWidth};mxDivResizer.prototype.getDocumentHeight=function $mxDivResizer$$getDocumentHeight$(){return document.body.clientHeight};
function mxDragSource($a$jscomp$0$$,$b$jscomp$0$$){this.element=$a$jscomp$0$$;this.dropHandler=$b$jscomp$0$$;mxEvent.addGestureListeners($a$jscomp$0$$,mxUtils.bind(this,function($a$$){this.mouseDown($a$$)}));mxEvent.addListener($a$jscomp$0$$,"dragstart",function($a$$){mxEvent.consume($a$$)});this.eventConsumer=function $this$eventConsumer$($a$$,$b$$){var $c$$=$b$$.getProperty("eventName"),$d$$=$b$$.getProperty("event");$c$$!=mxEvent.MOUSE_DOWN&&$d$$.consume()}}mxDragSource.prototype.element=null;
mxDragSource.prototype.dropHandler=null;mxDragSource.prototype.dragOffset=null;mxDragSource.prototype.dragElement=null;mxDragSource.prototype.previewElement=null;mxDragSource.prototype.enabled=!0;mxDragSource.prototype.currentGraph=null;mxDragSource.prototype.currentDropTarget=null;mxDragSource.prototype.currentPoint=null;mxDragSource.prototype.currentGuide=null;mxDragSource.prototype.currentHighlight=null;mxDragSource.prototype.autoscroll=!0;mxDragSource.prototype.guidesEnabled=!0;
mxDragSource.prototype.gridEnabled=!0;mxDragSource.prototype.highlightDropTargets=!0;mxDragSource.prototype.dragElementZIndex=100;mxDragSource.prototype.dragElementOpacity=70;mxDragSource.prototype.checkEventSource=!0;mxDragSource.prototype.isEnabled=function $mxDragSource$$isEnabled$(){return this.enabled};mxDragSource.prototype.setEnabled=function $mxDragSource$$setEnabled$($a$$){this.enabled=$a$$};mxDragSource.prototype.isGuidesEnabled=function $mxDragSource$$isGuidesEnabled$(){return this.guidesEnabled};
mxDragSource.prototype.setGuidesEnabled=function $mxDragSource$$setGuidesEnabled$($a$$){this.guidesEnabled=$a$$};mxDragSource.prototype.isGridEnabled=function $mxDragSource$$isGridEnabled$(){return this.gridEnabled};mxDragSource.prototype.setGridEnabled=function $mxDragSource$$setGridEnabled$($a$$){this.gridEnabled=$a$$};mxDragSource.prototype.getGraphForEvent=function $mxDragSource$$getGraphForEvent$($a$$){return null};
mxDragSource.prototype.getDropTarget=function $mxDragSource$$getDropTarget$($a$$,$b$$,$c$$,$d$$){return $a$$.getCellAt($b$$,$c$$)};mxDragSource.prototype.createDragElement=function $mxDragSource$$createDragElement$($a$$){return this.element.cloneNode(!0)};mxDragSource.prototype.createPreviewElement=function $mxDragSource$$createPreviewElement$($a$$){return null};mxDragSource.prototype.isActive=function $mxDragSource$$isActive$(){return null!=this.mouseMoveHandler};
mxDragSource.prototype.reset=function $mxDragSource$$reset$(){null!=this.currentGraph&&(this.dragExit(this.currentGraph),this.currentGraph=null);this.removeDragElement();this.removeListeners();this.stopDrag()};
mxDragSource.prototype.mouseDown=function $mxDragSource$$mouseDown$($a$$){this.enabled&&!mxEvent.isConsumed($a$$)&&null==this.mouseMoveHandler&&(this.startDrag($a$$),this.mouseMoveHandler=mxUtils.bind(this,this.mouseMove),this.mouseUpHandler=mxUtils.bind(this,this.mouseUp),mxEvent.addGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),mxClient.IS_TOUCH&&!mxEvent.isMouseEvent($a$$)&&(this.eventSource=mxEvent.getSource($a$$),mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveHandler,
this.mouseUpHandler)))};mxDragSource.prototype.startDrag=function $mxDragSource$$startDrag$($a$$){this.dragElement=this.createDragElement($a$$);this.dragElement.style.position="absolute";this.dragElement.style.zIndex=this.dragElementZIndex;mxUtils.setOpacity(this.dragElement,this.dragElementOpacity);this.checkEventSource&&mxClient.IS_SVG&&(this.dragElement.style.pointerEvents="none")};mxDragSource.prototype.stopDrag=function $mxDragSource$$stopDrag$(){this.removeDragElement()};
mxDragSource.prototype.removeDragElement=function $mxDragSource$$removeDragElement$(){null!=this.dragElement&&(null!=this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null)};mxDragSource.prototype.getElementForEvent=function $mxDragSource$$getElementForEvent$($a$$){return mxEvent.isTouchEvent($a$$)||mxEvent.isPenEvent($a$$)?document.elementFromPoint(mxEvent.getClientX($a$$),mxEvent.getClientY($a$$)):mxEvent.getSource($a$$)};
mxDragSource.prototype.graphContainsEvent=function $mxDragSource$$graphContainsEvent$($a$$,$b$$){var $c$$=mxEvent.getClientX($b$$),$d$$=mxEvent.getClientY($b$$),$e$$=mxUtils.getOffset($a$$.container),$f$$=mxUtils.getScrollOrigin(),$g$$=this.getElementForEvent($b$$);if(this.checkEventSource)for(;null!=$g$$&&$g$$!=$a$$.container;)$g$$=$g$$.parentNode;return null!=$g$$&&$c$$>=$e$$.x-$f$$.x&&$d$$>=$e$$.y-$f$$.y&&$c$$<=$e$$.x-$f$$.x+$a$$.container.offsetWidth&&$d$$<=$e$$.y-$f$$.y+$a$$.container.offsetHeight};
mxDragSource.prototype.mouseMove=function $mxDragSource$$mouseMove$($a$$){var $b$$=this.getGraphForEvent($a$$);null==$b$$||this.graphContainsEvent($b$$,$a$$)||($b$$=null);$b$$!=this.currentGraph&&(null!=this.currentGraph&&this.dragExit(this.currentGraph,$a$$),this.currentGraph=$b$$,null!=this.currentGraph&&this.dragEnter(this.currentGraph,$a$$));null!=this.currentGraph&&this.dragOver(this.currentGraph,$a$$);if(null==this.dragElement||null!=this.previewElement&&"visible"==this.previewElement.style.visibility)null!=
this.dragElement&&(this.dragElement.style.visibility="hidden");else{var $b$$=mxEvent.getClientX($a$$),$c$$=mxEvent.getClientY($a$$);null==this.dragElement.parentNode&&document.body.appendChild(this.dragElement);this.dragElement.style.visibility="visible";null!=this.dragOffset&&($b$$+=this.dragOffset.x,$c$$+=this.dragOffset.y);var $d$$=mxUtils.getDocumentScrollOrigin(document);this.dragElement.style.left=$b$$+$d$$.x+"px";this.dragElement.style.top=$c$$+$d$$.y+"px"}mxEvent.consume($a$$)};
mxDragSource.prototype.mouseUp=function $mxDragSource$$mouseUp$($a$$){if(null!=this.currentGraph){if(null!=this.currentPoint&&(null==this.previewElement||"hidden"!=this.previewElement.style.visibility)){var $b$$=this.currentGraph.view.scale,$c$$=this.currentGraph.view.translate;this.drop(this.currentGraph,$a$$,this.currentDropTarget,this.currentPoint.x/$b$$-$c$$.x,this.currentPoint.y/$b$$-$c$$.y)}this.dragExit(this.currentGraph);this.currentGraph=null}this.stopDrag();this.removeListeners();mxEvent.consume($a$$)};
mxDragSource.prototype.removeListeners=function $mxDragSource$$removeListeners$(){null!=this.eventSource&&(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler),this.eventSource=null);mxEvent.removeGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler);this.mouseUpHandler=this.mouseMoveHandler=null};
mxDragSource.prototype.dragEnter=function $mxDragSource$$dragEnter$($a$$,$b$$){$a$$.isMouseDown=!0;$a$$.isMouseTrigger=mxEvent.isMouseEvent($b$$);this.previewElement=this.createPreviewElement($a$$);null!=this.previewElement&&this.checkEventSource&&mxClient.IS_SVG&&(this.previewElement.style.pointerEvents="none");this.isGuidesEnabled()&&null!=this.previewElement&&(this.currentGuide=new mxGuide($a$$,$a$$.graphHandler.getGuideStates()));this.highlightDropTargets&&(this.currentHighlight=new mxCellHighlight($a$$,
mxConstants.DROP_TARGET_COLOR));$a$$.addListener(mxEvent.FIRE_MOUSE_EVENT,this.eventConsumer)};
mxDragSource.prototype.dragExit=function $mxDragSource$$dragExit$($a$$,$b$$){this.currentPoint=this.currentDropTarget=null;$a$$.isMouseDown=!1;$a$$.removeListener(this.eventConsumer);null!=this.previewElement&&(null!=this.previewElement.parentNode&&this.previewElement.parentNode.removeChild(this.previewElement),this.previewElement=null);null!=this.currentGuide&&(this.currentGuide.destroy(),this.currentGuide=null);null!=this.currentHighlight&&(this.currentHighlight.destroy(),this.currentHighlight=
null)};
mxDragSource.prototype.dragOver=function $mxDragSource$$dragOver$($a$$,$b$$){var $c$$=mxUtils.getOffset($a$$.container),$d$$=mxUtils.getScrollOrigin($a$$.container),$e$$=mxEvent.getClientX($b$$)-$c$$.x+$d$$.x-$a$$.panDx,$c$$=mxEvent.getClientY($b$$)-$c$$.y+$d$$.y-$a$$.panDy;$a$$.autoScroll&&(null==this.autoscroll||this.autoscroll)&&$a$$.scrollPointToVisible($e$$,$c$$,$a$$.autoExtend);null!=this.currentHighlight&&$a$$.isDropEnabled()&&(this.currentDropTarget=this.getDropTarget($a$$,$e$$,$c$$,$b$$),
$d$$=$a$$.getView().getState(this.currentDropTarget),this.currentHighlight.highlight($d$$));if(null!=this.previewElement){null==this.previewElement.parentNode&&($a$$.container.appendChild(this.previewElement),this.previewElement.style.zIndex="3",this.previewElement.style.position="absolute");var $d$$=this.isGridEnabled()&&$a$$.isGridEnabledEvent($b$$),$f$$=!0;if(null!=this.currentGuide&&this.currentGuide.isEnabledForEvent($b$$))var $f$$=parseInt(this.previewElement.style.width),$g$$=parseInt(this.previewElement.style.height),
$f$$=new mxRectangle(0,0,$f$$,$g$$),$c$$=new mxPoint($e$$,$c$$),$c$$=this.currentGuide.move($f$$,$c$$,$d$$,!0),$f$$=!1,$e$$=$c$$.x,$c$$=$c$$.y;else if($d$$)var $d$$=$a$$.view.scale,$g$$=$a$$.view.translate,$k$$=$a$$.gridSize/2,$e$$=($a$$.snap($e$$/$d$$-$g$$.x-$k$$)+$g$$.x)*$d$$,$c$$=($a$$.snap($c$$/$d$$-$g$$.y-$k$$)+$g$$.y)*$d$$;null!=this.currentGuide&&$f$$&&this.currentGuide.hide();null!=this.previewOffset&&($e$$+=this.previewOffset.x,$c$$+=this.previewOffset.y);this.previewElement.style.left=Math.round($e$$)+
"px";this.previewElement.style.top=Math.round($c$$)+"px";this.previewElement.style.visibility="visible"}this.currentPoint=new mxPoint($e$$,$c$$)};mxDragSource.prototype.drop=function $mxDragSource$$drop$($a$$,$b$$,$c$$,$d$$,$e$$){this.dropHandler.apply(this,arguments);"hidden"!=$a$$.container.style.visibility&&$a$$.container.focus()};function mxToolbar($a$$){this.container=$a$$}mxToolbar.prototype=new mxEventSource;mxToolbar.prototype.constructor=mxToolbar;mxToolbar.prototype.container=null;
mxToolbar.prototype.enabled=!0;mxToolbar.prototype.noReset=!1;mxToolbar.prototype.updateDefaultMode=!0;
mxToolbar.prototype.addItem=function $mxToolbar$$addItem$($a$jscomp$0$$,$b$jscomp$0$$,$c$$,$d$$,$e$$,$f$$){var $g$$=document.createElement(null!=$b$jscomp$0$$?"img":"button"),$k$$=$e$$||(null!=$f$$?"mxToolbarMode":"mxToolbarItem");$g$$.className=$k$$;$g$$.setAttribute("src",$b$jscomp$0$$);null!=$a$jscomp$0$$&&(null!=$b$jscomp$0$$?$g$$.setAttribute("title",$a$jscomp$0$$):mxUtils.write($g$$,$a$jscomp$0$$));this.container.appendChild($g$$);null!=$c$$&&(mxEvent.addListener($g$$,"click",$c$$),mxClient.IS_TOUCH&&
mxEvent.addListener($g$$,"touchend",$c$$));$a$jscomp$0$$=mxUtils.bind(this,function($a$$){null!=$d$$?$g$$.setAttribute("src",$b$jscomp$0$$):$g$$.style.backgroundColor=""});mxEvent.addGestureListeners($g$$,mxUtils.bind(this,function($a$$){null!=$d$$?$g$$.setAttribute("src",$d$$):$g$$.style.backgroundColor="gray";if(null!=$f$$){null==this.menu&&(this.menu=new mxPopupMenu,this.menu.init());var $b$$=this.currentImg;this.menu.isMenuShowing()&&this.menu.hideMenu();$b$$!=$g$$&&(this.currentImg=$g$$,this.menu.factoryMethod=
$f$$,$b$$=new mxPoint($g$$.offsetLeft,$g$$.offsetTop+$g$$.offsetHeight),this.menu.popup($b$$.x,$b$$.y,null,$a$$),this.menu.isMenuShowing()&&($g$$.className=$k$$+"Selected",this.menu.hideMenu=function $this$menu$hideMenu$(){mxPopupMenu.prototype.hideMenu.apply(this);$g$$.className=$k$$;this.currentImg=null}))}}),null,$a$jscomp$0$$);mxEvent.addListener($g$$,"mouseout",$a$jscomp$0$$);return $g$$};
mxToolbar.prototype.addCombo=function $mxToolbar$$addCombo$($a$$){var $b$$=document.createElement("div");$b$$.style.display="inline";$b$$.className="mxToolbarComboContainer";var $c$$=document.createElement("select");$c$$.className=$a$$||"mxToolbarCombo";$b$$.appendChild($c$$);this.container.appendChild($b$$);return $c$$};
mxToolbar.prototype.addActionCombo=function $mxToolbar$$addActionCombo$($a$jscomp$0$$,$b$jscomp$0$$){var $c$$=document.createElement("select");$c$$.className=$b$jscomp$0$$||"mxToolbarCombo";this.addOption($c$$,$a$jscomp$0$$,null);mxEvent.addListener($c$$,"change",function($a$$){var $b$$=$c$$.options[$c$$.selectedIndex];$c$$.selectedIndex=0;null!=$b$$.funct&&$b$$.funct($a$$)});this.container.appendChild($c$$);return $c$$};
mxToolbar.prototype.addOption=function $mxToolbar$$addOption$($a$$,$b$$,$c$$){var $d$$=document.createElement("option");mxUtils.writeln($d$$,$b$$);"function"==typeof $c$$?$d$$.funct=$c$$:$d$$.setAttribute("value",$c$$);$a$$.appendChild($d$$);return $d$$};
mxToolbar.prototype.addSwitchMode=function $mxToolbar$$addSwitchMode$($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$){var $f$$=document.createElement("img");$f$$.initialClassName=$e$$||"mxToolbarMode";$f$$.className=$f$$.initialClassName;$f$$.setAttribute("src",$b$$);$f$$.altIcon=$d$$;null!=$a$jscomp$0$$&&$f$$.setAttribute("title",$a$jscomp$0$$);mxEvent.addListener($f$$,"click",mxUtils.bind(this,function($a$$){$a$$=this.selectedMode.altIcon;null!=$a$$?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),
this.selectedMode.setAttribute("src",$a$$)):this.selectedMode.className=this.selectedMode.initialClassName;this.updateDefaultMode&&(this.defaultMode=$f$$);this.selectedMode=$f$$;$a$$=$f$$.altIcon;null!=$a$$?($f$$.altIcon=$f$$.getAttribute("src"),$f$$.setAttribute("src",$a$$)):$f$$.className=$f$$.initialClassName+"Selected";this.fireEvent(new mxEventObject(mxEvent.SELECT));$c$$()}));this.container.appendChild($f$$);null==this.defaultMode&&(this.defaultMode=$f$$,this.selectMode($f$$),$c$$());return $f$$};
mxToolbar.prototype.addMode=function $mxToolbar$$addMode$($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$,$f$$){$f$$=null!=$f$$?$f$$:!0;var $g$$=document.createElement(null!=$b$$?"img":"button");$g$$.initialClassName=$e$$||"mxToolbarMode";$g$$.className=$g$$.initialClassName;$g$$.setAttribute("src",$b$$);$g$$.altIcon=$d$$;null!=$a$jscomp$0$$&&$g$$.setAttribute("title",$a$jscomp$0$$);this.enabled&&$f$$&&(mxEvent.addListener($g$$,"click",mxUtils.bind(this,function($a$$){this.selectMode($g$$,$c$$);this.noReset=!1})),
mxEvent.addListener($g$$,"dblclick",mxUtils.bind(this,function($a$$){this.selectMode($g$$,$c$$);this.noReset=!0})),null==this.defaultMode&&(this.defaultMode=$g$$,this.defaultFunction=$c$$,this.selectMode($g$$,$c$$)));this.container.appendChild($g$$);return $g$$};
mxToolbar.prototype.selectMode=function $mxToolbar$$selectMode$($a$$,$b$$){if(this.selectedMode!=$a$$){if(null!=this.selectedMode){var $c$$=this.selectedMode.altIcon;null!=$c$$?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",$c$$)):this.selectedMode.className=this.selectedMode.initialClassName}this.selectedMode=$a$$;$c$$=this.selectedMode.altIcon;null!=$c$$?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",
$c$$)):this.selectedMode.className=this.selectedMode.initialClassName+"Selected";this.fireEvent(new mxEventObject(mxEvent.SELECT,"function",$b$$))}};mxToolbar.prototype.resetMode=function $mxToolbar$$resetMode$($a$$){!$a$$&&this.noReset||this.selectedMode==this.defaultMode||this.selectMode(this.defaultMode,this.defaultFunction)};mxToolbar.prototype.addSeparator=function $mxToolbar$$addSeparator$($a$$){return this.addItem(null,$a$$,null)};mxToolbar.prototype.addBreak=function $mxToolbar$$addBreak$(){mxUtils.br(this.container)};
mxToolbar.prototype.addLine=function $mxToolbar$$addLine$(){var $a$$=document.createElement("hr");$a$$.style.marginRight="6px";$a$$.setAttribute("size","1");this.container.appendChild($a$$)};mxToolbar.prototype.destroy=function $mxToolbar$$destroy$(){mxEvent.release(this.container);this.selectedMode=this.defaultFunction=this.defaultMode=this.container=null;null!=this.menu&&this.menu.destroy()};
function mxUndoableEdit($a$$,$b$$){this.source=$a$$;this.changes=[];this.significant=null!=$b$$?$b$$:!0}mxUndoableEdit.prototype.source=null;mxUndoableEdit.prototype.changes=null;mxUndoableEdit.prototype.significant=null;mxUndoableEdit.prototype.undone=!1;mxUndoableEdit.prototype.redone=!1;mxUndoableEdit.prototype.isEmpty=function $mxUndoableEdit$$isEmpty$(){return 0==this.changes.length};mxUndoableEdit.prototype.isSignificant=function $mxUndoableEdit$$isSignificant$(){return this.significant};
mxUndoableEdit.prototype.add=function $mxUndoableEdit$$add$($a$$){this.changes.push($a$$)};mxUndoableEdit.prototype.notify=function $mxUndoableEdit$$notify$(){};mxUndoableEdit.prototype.die=function $mxUndoableEdit$$die$(){};
mxUndoableEdit.prototype.undo=function $mxUndoableEdit$$undo$(){if(!this.undone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var $a$$=this.changes.length-1;0<=$a$$;$a$$--){var $b$$=this.changes[$a$$];null!=$b$$.execute?$b$$.execute():null!=$b$$.undo&&$b$$.undo();this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",$b$$))}this.undone=!0;this.redone=!1;this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()};
mxUndoableEdit.prototype.redo=function $mxUndoableEdit$$redo$(){if(!this.redone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var $a$$=this.changes.length,$b$$=0;$b$$<$a$$;$b$$++){var $c$$=this.changes[$b$$];null!=$c$$.execute?$c$$.execute():null!=$c$$.redo&&$c$$.redo();this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",$c$$))}this.undone=!1;this.redone=!0;this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()};
function mxUndoManager($a$$){this.size=null!=$a$$?$a$$:100;this.clear()}mxUndoManager.prototype=new mxEventSource;mxUndoManager.prototype.constructor=mxUndoManager;mxUndoManager.prototype.size=null;mxUndoManager.prototype.history=null;mxUndoManager.prototype.indexOfNextAdd=0;mxUndoManager.prototype.isEmpty=function $mxUndoManager$$isEmpty$(){return 0==this.history.length};mxUndoManager.prototype.clear=function $mxUndoManager$$clear$(){this.history=[];this.indexOfNextAdd=0;this.fireEvent(new mxEventObject(mxEvent.CLEAR))};
mxUndoManager.prototype.canUndo=function $mxUndoManager$$canUndo$(){return 0<this.indexOfNextAdd};mxUndoManager.prototype.undo=function $mxUndoManager$$undo$(){for(;0<this.indexOfNextAdd;){var $a$$=this.history[--this.indexOfNextAdd];$a$$.undo();if($a$$.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$a$$));break}}};mxUndoManager.prototype.canRedo=function $mxUndoManager$$canRedo$(){return this.indexOfNextAdd<this.history.length};
mxUndoManager.prototype.redo=function $mxUndoManager$$redo$(){for(var $a$$=this.history.length;this.indexOfNextAdd<$a$$;){var $b$$=this.history[this.indexOfNextAdd++];$b$$.redo();if($b$$.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.REDO,"edit",$b$$));break}}};
mxUndoManager.prototype.undoableEditHappened=function $mxUndoManager$$undoableEditHappened$($a$$){this.trim();0<this.size&&this.size==this.history.length&&this.history.shift();this.history.push($a$$);this.indexOfNextAdd=this.history.length;this.fireEvent(new mxEventObject(mxEvent.ADD,"edit",$a$$))};
mxUndoManager.prototype.trim=function $mxUndoManager$$trim$(){if(this.history.length>this.indexOfNextAdd)for(var $a$$=this.history.splice(this.indexOfNextAdd,this.history.length-this.indexOfNextAdd),$b$$=0;$b$$<$a$$.length;$b$$++)$a$$[$b$$].die()};var mxUrlConverter=function $mxUrlConverter$(){};mxUrlConverter.prototype.enabled=!0;mxUrlConverter.prototype.baseUrl=null;mxUrlConverter.prototype.baseDomain=null;
mxUrlConverter.prototype.updateBaseUrl=function $mxUrlConverter$$updateBaseUrl$(){this.baseDomain=location.protocol+"//"+location.host;this.baseUrl=this.baseDomain+location.pathname;var $a$$=this.baseUrl.lastIndexOf("/");0<$a$$&&(this.baseUrl=this.baseUrl.substring(0,$a$$+1))};mxUrlConverter.prototype.isEnabled=function $mxUrlConverter$$isEnabled$(){return this.enabled};mxUrlConverter.prototype.setEnabled=function $mxUrlConverter$$setEnabled$($a$$){this.enabled=$a$$};
mxUrlConverter.prototype.getBaseUrl=function $mxUrlConverter$$getBaseUrl$(){return this.baseUrl};mxUrlConverter.prototype.setBaseUrl=function $mxUrlConverter$$setBaseUrl$($a$$){this.baseUrl=$a$$};mxUrlConverter.prototype.getBaseDomain=function $mxUrlConverter$$getBaseDomain$(){return this.baseDomain};mxUrlConverter.prototype.setBaseDomain=function $mxUrlConverter$$setBaseDomain$($a$$){this.baseDomain=$a$$};
mxUrlConverter.prototype.isRelativeUrl=function $mxUrlConverter$$isRelativeUrl$($a$$){return"//"!=$a$$.substring(0,2)&&"http://"!=$a$$.substring(0,7)&&"https://"!=$a$$.substring(0,8)&&"data:image"!=$a$$.substring(0,10)&&"file://"!=$a$$.substring(0,7)};mxUrlConverter.prototype.convert=function $mxUrlConverter$$convert$($a$$){this.isEnabled()&&this.isRelativeUrl($a$$)&&(null==this.getBaseUrl()&&this.updateBaseUrl(),$a$$="/"==$a$$.charAt(0)?this.getBaseDomain()+$a$$:this.getBaseUrl()+$a$$);return $a$$};
function mxPanningManager($a$jscomp$0$$){this.thread=null;this.active=!1;this.dy=this.dx=this.t0y=this.t0x=this.tdy=this.tdx=0;this.scrollbars=!1;this.scrollTop=this.scrollLeft=0;this.mouseListener={mouseDown:function $this$mouseListener$mouseDown$($a$$,$b$$){},mouseMove:function $this$mouseListener$mouseMove$($a$$,$b$$){},mouseUp:mxUtils.bind(this,function($a$$,$b$$){this.active&&this.stop()})};$a$jscomp$0$$.addMouseListener(this.mouseListener);this.mouseUpListener=mxUtils.bind(this,function(){this.active&&
this.stop()});mxEvent.addListener(document,"mouseup",this.mouseUpListener);var $b$jscomp$0$$=mxUtils.bind(this,function(){this.scrollbars=mxUtils.hasScrollbars($a$jscomp$0$$.container);this.scrollLeft=$a$jscomp$0$$.container.scrollLeft;this.scrollTop=$a$jscomp$0$$.container.scrollTop;return window.setInterval(mxUtils.bind(this,function(){this.tdx-=this.dx;this.tdy-=this.dy;this.scrollbars?($a$jscomp$0$$.panGraph(-$a$jscomp$0$$.container.scrollLeft-Math.ceil(this.dx),-$a$jscomp$0$$.container.scrollTop-
Math.ceil(this.dy)),$a$jscomp$0$$.panDx=this.scrollLeft-$a$jscomp$0$$.container.scrollLeft,$a$jscomp$0$$.panDy=this.scrollTop-$a$jscomp$0$$.container.scrollTop,$a$jscomp$0$$.fireEvent(new mxEventObject(mxEvent.PAN))):$a$jscomp$0$$.panGraph(this.getDx(),this.getDy())}),this.delay)});this.isActive=function $this$isActive$(){return active};this.getDx=function $this$getDx$(){return Math.round(this.tdx)};this.getDy=function $this$getDy$(){return Math.round(this.tdy)};this.start=function $this$start$(){this.t0x=
$a$jscomp$0$$.view.translate.x;this.t0y=$a$jscomp$0$$.view.translate.y;this.active=!0};this.panTo=function $this$panTo$($c$$,$d$$,$e$$,$f$$){this.active||this.start();this.scrollLeft=$a$jscomp$0$$.container.scrollLeft;this.scrollTop=$a$jscomp$0$$.container.scrollTop;var $g$$=$a$jscomp$0$$.container;this.dx=$c$$+(null!=$e$$?$e$$:0)-$g$$.scrollLeft-$g$$.clientWidth;this.dx=0>this.dx&&Math.abs(this.dx)<this.border?this.border+this.dx:this.handleMouseOut?Math.max(this.dx,0):0;0==this.dx&&(this.dx=$c$$-
$g$$.scrollLeft,this.dx=0<this.dx&&this.dx<this.border?this.dx-this.border:this.handleMouseOut?Math.min(0,this.dx):0);this.dy=$d$$+(null!=$f$$?$f$$:0)-$g$$.scrollTop-$g$$.clientHeight;this.dy=0>this.dy&&Math.abs(this.dy)<this.border?this.border+this.dy:this.handleMouseOut?Math.max(this.dy,0):0;0==this.dy&&(this.dy=$d$$-$g$$.scrollTop,this.dy=0<this.dy&&this.dy<this.border?this.dy-this.border:this.handleMouseOut?Math.min(0,this.dy):0);0!=this.dx||0!=this.dy?(this.dx*=this.damper,this.dy*=this.damper,
null==this.thread&&(this.thread=$b$jscomp$0$$())):null!=this.thread&&(window.clearInterval(this.thread),this.thread=null)};this.stop=function $this$stop$(){if(this.active)if(this.active=!1,null!=this.thread&&(window.clearInterval(this.thread),this.thread=null),this.tdy=this.tdx=0,this.scrollbars)$a$jscomp$0$$.panDx=0,$a$jscomp$0$$.panDy=0,$a$jscomp$0$$.fireEvent(new mxEventObject(mxEvent.PAN));else{var $b$$=$a$jscomp$0$$.panDx,$d$$=$a$jscomp$0$$.panDy;if(0!=$b$$||0!=$d$$)$a$jscomp$0$$.panGraph(0,
0),$a$jscomp$0$$.view.setTranslate(this.t0x+$b$$/$a$jscomp$0$$.view.scale,this.t0y+$d$$/$a$jscomp$0$$.view.scale)}};this.destroy=function $this$destroy$(){$a$jscomp$0$$.removeMouseListener(this.mouseListener);mxEvent.removeListener(document,"mouseup",this.mouseUpListener)}}mxPanningManager.prototype.damper=1/6;mxPanningManager.prototype.delay=10;mxPanningManager.prototype.handleMouseOut=!0;mxPanningManager.prototype.border=0;
function mxPopupMenu($a$$){this.factoryMethod=$a$$;null!=$a$$&&this.init()}mxPopupMenu.prototype=new mxEventSource;mxPopupMenu.prototype.constructor=mxPopupMenu;mxPopupMenu.prototype.submenuImage=mxClient.imageBasePath+"/submenu.gif";mxPopupMenu.prototype.zIndex=10006;mxPopupMenu.prototype.factoryMethod=null;mxPopupMenu.prototype.useLeftButtonForPopup=!1;mxPopupMenu.prototype.enabled=!0;mxPopupMenu.prototype.itemCount=0;mxPopupMenu.prototype.autoExpand=!1;mxPopupMenu.prototype.smartSeparators=!1;
mxPopupMenu.prototype.labels=!0;mxPopupMenu.prototype.init=function $mxPopupMenu$$init$(){this.table=document.createElement("table");this.table.className="mxPopupMenu";this.tbody=document.createElement("tbody");this.table.appendChild(this.tbody);this.div=document.createElement("div");this.div.className="mxPopupMenu";this.div.style.display="inline";this.div.style.zIndex=this.zIndex;this.div.appendChild(this.table);mxEvent.disableContextMenu(this.div)};mxPopupMenu.prototype.isEnabled=function $mxPopupMenu$$isEnabled$(){return this.enabled};
mxPopupMenu.prototype.setEnabled=function $mxPopupMenu$$setEnabled$($a$$){this.enabled=$a$$};mxPopupMenu.prototype.isPopupTrigger=function $mxPopupMenu$$isPopupTrigger$($a$$){return $a$$.isPopupTrigger()||this.useLeftButtonForPopup&&mxEvent.isLeftMouseButton($a$$.getEvent())};
mxPopupMenu.prototype.addItem=function $mxPopupMenu$$addItem$($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$d$$=$d$$||this;this.itemCount++;$d$$.willAddSeparator&&($d$$.containsItems&&this.addSeparator($d$$,!0),$d$$.willAddSeparator=!1);$d$$.containsItems=!0;var $k$$=document.createElement("tr");$k$$.className="mxPopupMenuItem";var $l$$=document.createElement("td");$l$$.className="mxPopupMenuIcon";null!=$b$$?($e$$=document.createElement("img"),$e$$.src=$b$$,$l$$.appendChild($e$$)):null!=$e$$&&($b$$=
document.createElement("div"),$b$$.className=$e$$,$l$$.appendChild($b$$));$k$$.appendChild($l$$);this.labels&&($l$$=document.createElement("td"),$l$$.className="mxPopupMenuItem"+(null==$f$$||$f$$?"":" mxDisabled"),mxUtils.write($l$$,$a$jscomp$0$$),$l$$.align="left",$k$$.appendChild($l$$),$a$jscomp$0$$=document.createElement("td"),$a$jscomp$0$$.className="mxPopupMenuItem"+(null==$f$$||$f$$?"":" mxDisabled"),$a$jscomp$0$$.className+=($a$jscomp$0$$.className?" ":"")+"mxPopupMenuItemContent",$k$$.appendChild($a$jscomp$0$$),
null==$d$$.div&&this.createSubmenu($d$$));$d$$.tbody.appendChild($k$$);if(0!=$g$$&&0!=$f$$){var $m$$=null;mxEvent.addGestureListeners($k$$,mxUtils.bind(this,function($a$$){this.eventReceiver=$k$$;$d$$.activeRow!=$k$$&&$d$$.activeRow!=$d$$&&(null!=$d$$.activeRow&&null!=$d$$.activeRow.div.parentNode&&this.hideSubmenu($d$$),null!=$k$$.div&&(this.showSubmenu($d$$,$k$$),$d$$.activeRow=$k$$));null==document.selection||!mxClient.IS_QUIRKS&&8!=document.documentMode||($m$$=document.selection.createRange());
mxEvent.consume($a$$)}),mxUtils.bind(this,function($a$$){$d$$.activeRow!=$k$$&&$d$$.activeRow!=$d$$&&(null!=$d$$.activeRow&&null!=$d$$.activeRow.div.parentNode&&this.hideSubmenu($d$$),this.autoExpand&&null!=$k$$.div&&(this.showSubmenu($d$$,$k$$),$d$$.activeRow=$k$$));$k$$.className="mxPopupMenuItemHover"}),mxUtils.bind(this,function($a$$){if(this.eventReceiver==$k$$){$d$$.activeRow!=$k$$&&this.hideMenu();if(null!=$m$$){try{$m$$.select()}catch($p$$){}$m$$=null}null!=$c$$&&$c$$($a$$)}this.eventReceiver=
null;mxEvent.consume($a$$)}));mxEvent.addListener($k$$,"mouseout",mxUtils.bind(this,function($a$$){$k$$.className="mxPopupMenuItem"}))}return $k$$};mxPopupMenu.prototype.addCheckmark=function $mxPopupMenu$$addCheckmark$($a$$,$b$$){var $c$$=$a$$.firstChild.nextSibling;$c$$.style.backgroundImage="url('"+$b$$+"')";$c$$.style.backgroundRepeat="no-repeat";$c$$.style.backgroundPosition="2px 50%"};
mxPopupMenu.prototype.createSubmenu=function $mxPopupMenu$$createSubmenu$($a$$){$a$$.table=document.createElement("table");$a$$.table.className="mxPopupMenu";$a$$.tbody=document.createElement("tbody");$a$$.table.appendChild($a$$.tbody);$a$$.div=document.createElement("div");$a$$.div.className="mxPopupMenu";$a$$.div.style.position="absolute";$a$$.div.style.display="inline";$a$$.div.style.zIndex=this.zIndex;$a$$.div.appendChild($a$$.table);var $b$$=document.createElement("img");$b$$.setAttribute("src",
this.submenuImage);td=$a$$.firstChild.nextSibling.nextSibling;td.appendChild($b$$)};
mxPopupMenu.prototype.showSubmenu=function $mxPopupMenu$$showSubmenu$($a$$,$b$$){if(null!=$b$$.div){$b$$.div.style.left=$a$$.div.offsetLeft+$b$$.offsetLeft+$b$$.offsetWidth-1+"px";$b$$.div.style.top=$a$$.div.offsetTop+$b$$.offsetTop+"px";document.body.appendChild($b$$.div);var $c$$=parseInt($b$$.div.offsetLeft),$d$$=parseInt($b$$.div.offsetWidth),$e$$=mxUtils.getDocumentScrollOrigin(document),$f$$=document.documentElement;$c$$+$d$$>$e$$.x+(document.body.clientWidth||$f$$.clientWidth)&&($b$$.div.style.left=
Math.max(0,$a$$.div.offsetLeft-$d$$+(mxClient.IS_IE?6:-6))+"px");mxUtils.fit($b$$.div)}};
mxPopupMenu.prototype.addSeparator=function $mxPopupMenu$$addSeparator$($a$$,$b$$){$a$$=$a$$||this;if(this.smartSeparators&&!$b$$)$a$$.willAddSeparator=!0;else if(null!=$a$$.tbody){$a$$.willAddSeparator=!1;var $c$$=document.createElement("tr"),$d$$=document.createElement("td");$d$$.className="mxPopupMenuIcon";$d$$.style.padding="0 0 0 0px";$c$$.appendChild($d$$);$d$$=document.createElement("td");$d$$.style.padding="0 0 0 0px";$d$$.setAttribute("colSpan","2");var $e$$=document.createElement("hr");
$e$$.setAttribute("size","1");$d$$.appendChild($e$$);$c$$.appendChild($d$$);$a$$.tbody.appendChild($c$$)}};
mxPopupMenu.prototype.popup=function $mxPopupMenu$$popup$($a$$,$b$$,$c$$,$d$$){if(null!=this.div&&null!=this.tbody&&null!=this.factoryMethod){this.div.style.left=$a$$+"px";for(this.div.style.top=$b$$+"px";null!=this.tbody.firstChild;)mxEvent.release(this.tbody.firstChild),this.tbody.removeChild(this.tbody.firstChild);this.itemCount=0;this.factoryMethod(this,$c$$,$d$$);0<this.itemCount&&(this.showMenu(),this.fireEvent(new mxEventObject(mxEvent.SHOW)))}};
mxPopupMenu.prototype.isMenuShowing=function $mxPopupMenu$$isMenuShowing$(){return null!=this.div&&this.div.parentNode==document.body};mxPopupMenu.prototype.showMenu=function $mxPopupMenu$$showMenu$(){9<=document.documentMode&&(this.div.style.filter="none");document.body.appendChild(this.div);mxUtils.fit(this.div)};
mxPopupMenu.prototype.hideMenu=function $mxPopupMenu$$hideMenu$(){null!=this.div&&(null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.hideSubmenu(this),this.containsItems=!1,this.fireEvent(new mxEventObject(mxEvent.HIDE)))};mxPopupMenu.prototype.hideSubmenu=function $mxPopupMenu$$hideSubmenu$($a$$){null!=$a$$.activeRow&&(this.hideSubmenu($a$$.activeRow),null!=$a$$.activeRow.div.parentNode&&$a$$.activeRow.div.parentNode.removeChild($a$$.activeRow.div),$a$$.activeRow=null)};
mxPopupMenu.prototype.destroy=function $mxPopupMenu$$destroy$(){null!=this.div&&(mxEvent.release(this.div),null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.div=null)};function mxAutoSaveManager($a$jscomp$0$$){this.changeHandler=mxUtils.bind(this,function($a$$,$c$$){this.isEnabled()&&this.graphModelChanged($c$$.getProperty("edit").changes)});this.setGraph($a$jscomp$0$$)}mxAutoSaveManager.prototype=new mxEventSource;mxAutoSaveManager.prototype.constructor=mxAutoSaveManager;
mxAutoSaveManager.prototype.graph=null;mxAutoSaveManager.prototype.autoSaveDelay=10;mxAutoSaveManager.prototype.autoSaveThrottle=2;mxAutoSaveManager.prototype.autoSaveThreshold=5;mxAutoSaveManager.prototype.ignoredChanges=0;mxAutoSaveManager.prototype.lastSnapshot=0;mxAutoSaveManager.prototype.enabled=!0;mxAutoSaveManager.prototype.changeHandler=null;mxAutoSaveManager.prototype.isEnabled=function $mxAutoSaveManager$$isEnabled$(){return this.enabled};
mxAutoSaveManager.prototype.setEnabled=function $mxAutoSaveManager$$setEnabled$($a$$){this.enabled=$a$$};mxAutoSaveManager.prototype.setGraph=function $mxAutoSaveManager$$setGraph$($a$$){null!=this.graph&&this.graph.getModel().removeListener(this.changeHandler);this.graph=$a$$;null!=this.graph&&this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)};mxAutoSaveManager.prototype.save=function $mxAutoSaveManager$$save$(){};
mxAutoSaveManager.prototype.graphModelChanged=function $mxAutoSaveManager$$graphModelChanged$($a$$){$a$$=((new Date).getTime()-this.lastSnapshot)/1E3;$a$$>this.autoSaveDelay||this.ignoredChanges>=this.autoSaveThreshold&&$a$$>this.autoSaveThrottle?(this.save(),this.reset()):this.ignoredChanges++};mxAutoSaveManager.prototype.reset=function $mxAutoSaveManager$$reset$(){this.lastSnapshot=(new Date).getTime();this.ignoredChanges=0};mxAutoSaveManager.prototype.destroy=function $mxAutoSaveManager$$destroy$(){this.setGraph(null)};
function mxAnimation($a$$){this.delay=null!=$a$$?$a$$:20}mxAnimation.prototype=new mxEventSource;mxAnimation.prototype.constructor=mxAnimation;mxAnimation.prototype.delay=null;mxAnimation.prototype.thread=null;mxAnimation.prototype.isRunning=function $mxAnimation$$isRunning$(){return null!=this.thread};mxAnimation.prototype.startAnimation=function $mxAnimation$$startAnimation$(){null==this.thread&&(this.thread=window.setInterval(mxUtils.bind(this,this.updateAnimation),this.delay))};
mxAnimation.prototype.updateAnimation=function $mxAnimation$$updateAnimation$(){this.fireEvent(new mxEventObject(mxEvent.EXECUTE))};mxAnimation.prototype.stopAnimation=function $mxAnimation$$stopAnimation$(){null!=this.thread&&(window.clearInterval(this.thread),this.thread=null,this.fireEvent(new mxEventObject(mxEvent.DONE)))};function mxMorphing($a$$,$b$$,$c$$,$d$$){mxAnimation.call(this,$d$$);this.graph=$a$$;this.steps=null!=$b$$?$b$$:6;this.ease=null!=$c$$?$c$$:1.5}mxMorphing.prototype=new mxAnimation;
mxMorphing.prototype.constructor=mxMorphing;mxMorphing.prototype.graph=null;mxMorphing.prototype.steps=null;mxMorphing.prototype.step=0;mxMorphing.prototype.ease=null;mxMorphing.prototype.cells=null;
mxMorphing.prototype.updateAnimation=function $mxMorphing$$updateAnimation$(){mxAnimation.prototype.updateAnimation.apply(this,arguments);var $a$$=new mxCellStatePreview(this.graph);if(null!=this.cells)for(var $b$$=0;$b$$<this.cells.length;$b$$++)this.animateCell(this.cells[$b$$],$a$$,!1);else this.animateCell(this.graph.getModel().getRoot(),$a$$,!0);this.show($a$$);($a$$.isEmpty()||this.step++>=this.steps)&&this.stopAnimation()};mxMorphing.prototype.show=function $mxMorphing$$show$($a$$){$a$$.show()};
mxMorphing.prototype.animateCell=function $mxMorphing$$animateCell$($a$$,$b$$,$c$$){var $d$$=this.graph.getView().getState($a$$),$e$$=null;if(null!=$d$$&&($e$$=this.getDelta($d$$),this.graph.getModel().isVertex($a$$)&&(0!=$e$$.x||0!=$e$$.y))){var $f$$=this.graph.view.getTranslate(),$g$$=this.graph.view.getScale();$e$$.x+=$f$$.x*$g$$;$e$$.y+=$f$$.y*$g$$;$b$$.moveState($d$$,-$e$$.x/this.ease,-$e$$.y/this.ease)}if($c$$&&!this.stopRecursion($d$$,$e$$))for($d$$=this.graph.getModel().getChildCount($a$$),
$e$$=0;$e$$<$d$$;$e$$++)this.animateCell(this.graph.getModel().getChildAt($a$$,$e$$),$b$$,$c$$)};mxMorphing.prototype.stopRecursion=function $mxMorphing$$stopRecursion$($a$$,$b$$){return null!=$b$$&&(0!=$b$$.x||0!=$b$$.y)};mxMorphing.prototype.getDelta=function $mxMorphing$$getDelta$($a$$){var $b$$=this.getOriginForCell($a$$.cell),$c$$=this.graph.getView().getTranslate(),$d$$=this.graph.getView().getScale();return new mxPoint(($b$$.x-($a$$.x/$d$$-$c$$.x))*$d$$,($b$$.y-($a$$.y/$d$$-$c$$.y))*$d$$)};
mxMorphing.prototype.getOriginForCell=function $mxMorphing$$getOriginForCell$($a$$){var $b$$=null;if(null!=$a$$){var $c$$=this.graph.getModel().getParent($a$$);$a$$=this.graph.getCellGeometry($a$$);$b$$=this.getOriginForCell($c$$);null!=$a$$&&($a$$.relative?($c$$=this.graph.getCellGeometry($c$$),null!=$c$$&&($b$$.x+=$a$$.x*$c$$.width,$b$$.y+=$a$$.y*$c$$.height)):($b$$.x+=$a$$.x,$b$$.y+=$a$$.y))}null==$b$$&&($b$$=this.graph.view.getTranslate(),$b$$=new mxPoint(-$b$$.x,-$b$$.y));return $b$$};
function mxImageBundle($a$$){this.images=[];this.alt=null!=$a$$?$a$$:!1}mxImageBundle.prototype.images=null;mxImageBundle.prototype.images=null;mxImageBundle.prototype.putImage=function $mxImageBundle$$putImage$($a$$,$b$$,$c$$){this.images[$a$$]={value:$b$$,fallback:$c$$}};mxImageBundle.prototype.getImage=function $mxImageBundle$$getImage$($a$$){var $b$$=null;null!=$a$$&&($a$$=this.images[$a$$],null!=$a$$&&($b$$=this.alt?$a$$.fallback:$a$$.value));return $b$$};function mxImageExport(){}
mxImageExport.prototype.includeOverlays=!1;mxImageExport.prototype.drawState=function $mxImageExport$$drawState$($a$$,$b$$){null!=$a$$&&(this.visitStatesRecursive($a$$,$b$$,mxUtils.bind(this,function(){this.drawCellState.apply(this,arguments)})),this.includeOverlays&&this.visitStatesRecursive($a$$,$b$$,mxUtils.bind(this,function(){this.drawOverlays.apply(this,arguments)})))};
mxImageExport.prototype.visitStatesRecursive=function $mxImageExport$$visitStatesRecursive$($a$$,$b$$,$c$$){if(null!=$a$$){$c$$($a$$,$b$$);for(var $d$$=$a$$.view.graph,$e$$=$d$$.model.getChildCount($a$$.cell),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$d$$.view.getState($d$$.model.getChildAt($a$$.cell,$f$$));this.visitStatesRecursive($g$$,$b$$,$c$$)}}};mxImageExport.prototype.getLinkForCellState=function $mxImageExport$$getLinkForCellState$($a$$,$b$$){return null};
mxImageExport.prototype.drawCellState=function $mxImageExport$$drawCellState$($a$$,$b$$){var $c$$=this.getLinkForCellState($a$$,$b$$);null!=$c$$&&$b$$.setLink($c$$);this.drawShape($a$$,$b$$);this.drawText($a$$,$b$$);null!=$c$$&&$b$$.setLink(null)};mxImageExport.prototype.drawShape=function $mxImageExport$$drawShape$($a$$,$b$$){$a$$.shape instanceof mxShape&&$a$$.shape.checkBounds()&&($b$$.save(),$a$$.shape.paint($b$$),$b$$.restore())};
mxImageExport.prototype.drawText=function $mxImageExport$$drawText$($a$$,$b$$){null!=$a$$.text&&$a$$.text.checkBounds()&&($b$$.save(),$a$$.text.paint($b$$),$b$$.restore())};mxImageExport.prototype.drawOverlays=function $mxImageExport$$drawOverlays$($a$jscomp$0$$,$b$$){null!=$a$jscomp$0$$.overlays&&$a$jscomp$0$$.overlays.visit(function($a$$,$d$$){$d$$ instanceof mxShape&&$d$$.paint($b$$)})};function mxAbstractCanvas2D(){this.converter=this.createUrlConverter();this.reset()}
mxAbstractCanvas2D.prototype.state=null;mxAbstractCanvas2D.prototype.states=null;mxAbstractCanvas2D.prototype.path=null;mxAbstractCanvas2D.prototype.rotateHtml=!0;mxAbstractCanvas2D.prototype.lastX=0;mxAbstractCanvas2D.prototype.lastY=0;mxAbstractCanvas2D.prototype.moveOp="M";mxAbstractCanvas2D.prototype.lineOp="L";mxAbstractCanvas2D.prototype.quadOp="Q";mxAbstractCanvas2D.prototype.curveOp="C";mxAbstractCanvas2D.prototype.closeOp="Z";mxAbstractCanvas2D.prototype.pointerEvents=!1;
mxAbstractCanvas2D.prototype.createUrlConverter=function $mxAbstractCanvas2D$$createUrlConverter$(){return new mxUrlConverter};mxAbstractCanvas2D.prototype.reset=function $mxAbstractCanvas2D$$reset$(){this.state=this.createState();this.states=[]};
mxAbstractCanvas2D.prototype.createState=function $mxAbstractCanvas2D$$createState$(){return{dx:0,dy:0,scale:1,alpha:1,fillAlpha:1,strokeAlpha:1,fillColor:null,gradientFillAlpha:1,gradientColor:null,gradientAlpha:1,gradientDirection:null,strokeColor:null,strokeWidth:1,dashed:!1,dashPattern:"3 3",fixDash:!1,lineCap:"flat",lineJoin:"miter",miterLimit:10,fontColor:"#000000",fontBackgroundColor:null,fontBorderColor:null,fontSize:mxConstants.DEFAULT_FONTSIZE,fontFamily:mxConstants.DEFAULT_FONTFAMILY,fontStyle:0,
shadow:!1,shadowColor:mxConstants.SHADOWCOLOR,shadowAlpha:mxConstants.SHADOW_OPACITY,shadowDx:mxConstants.SHADOW_OFFSET_X,shadowDy:mxConstants.SHADOW_OFFSET_Y,rotation:0,rotationCx:0,rotationCy:0}};mxAbstractCanvas2D.prototype.format=function $mxAbstractCanvas2D$$format$($a$$){return Math.round(parseFloat($a$$))};
mxAbstractCanvas2D.prototype.addOp=function $mxAbstractCanvas2D$$addOp$(){if(null!=this.path&&(this.path.push(arguments[0]),2<arguments.length))for(var $a$$=this.state,$b$$=2;$b$$<arguments.length;$b$$+=2)this.lastX=arguments[$b$$-1],this.lastY=arguments[$b$$],this.path.push(this.format((this.lastX+$a$$.dx)*$a$$.scale)),this.path.push(this.format((this.lastY+$a$$.dy)*$a$$.scale))};
mxAbstractCanvas2D.prototype.rotatePoint=function $mxAbstractCanvas2D$$rotatePoint$($a$$,$b$$,$c$$,$d$$,$e$$){$c$$*=Math.PI/180;return mxUtils.getRotatedPoint(new mxPoint($a$$,$b$$),Math.cos($c$$),Math.sin($c$$),new mxPoint($d$$,$e$$))};mxAbstractCanvas2D.prototype.save=function $mxAbstractCanvas2D$$save$(){this.states.push(this.state);this.state=mxUtils.clone(this.state)};mxAbstractCanvas2D.prototype.restore=function $mxAbstractCanvas2D$$restore$(){0<this.states.length&&(this.state=this.states.pop())};
mxAbstractCanvas2D.prototype.setLink=function $mxAbstractCanvas2D$$setLink$($a$$){};mxAbstractCanvas2D.prototype.scale=function $mxAbstractCanvas2D$$scale$($a$$){this.state.scale*=$a$$;this.state.strokeWidth*=$a$$};mxAbstractCanvas2D.prototype.translate=function $mxAbstractCanvas2D$$translate$($a$$,$b$$){this.state.dx+=$a$$;this.state.dy+=$b$$};mxAbstractCanvas2D.prototype.rotate=function $mxAbstractCanvas2D$$rotate$($a$$,$b$$,$c$$,$d$$,$e$$){};
mxAbstractCanvas2D.prototype.setAlpha=function $mxAbstractCanvas2D$$setAlpha$($a$$){this.state.alpha=$a$$};mxAbstractCanvas2D.prototype.setFillAlpha=function $mxAbstractCanvas2D$$setFillAlpha$($a$$){this.state.fillAlpha=$a$$};mxAbstractCanvas2D.prototype.setStrokeAlpha=function $mxAbstractCanvas2D$$setStrokeAlpha$($a$$){this.state.strokeAlpha=$a$$};
mxAbstractCanvas2D.prototype.setFillColor=function $mxAbstractCanvas2D$$setFillColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fillColor=$a$$;this.state.gradientColor=null};mxAbstractCanvas2D.prototype.setGradient=function $mxAbstractCanvas2D$$setGradient$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$c$$=this.state;$c$$.fillColor=$a$$;$c$$.gradientFillAlpha=null!=$k$$?$k$$:1;$c$$.gradientColor=$b$$;$c$$.gradientAlpha=null!=$l$$?$l$$:1;$c$$.gradientDirection=$g$$};
mxAbstractCanvas2D.prototype.setStrokeColor=function $mxAbstractCanvas2D$$setStrokeColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.strokeColor=$a$$};mxAbstractCanvas2D.prototype.setStrokeWidth=function $mxAbstractCanvas2D$$setStrokeWidth$($a$$){this.state.strokeWidth=$a$$};mxAbstractCanvas2D.prototype.setDashed=function $mxAbstractCanvas2D$$setDashed$($a$$,$b$$){this.state.dashed=$a$$;this.state.fixDash=$b$$};
mxAbstractCanvas2D.prototype.setDashPattern=function $mxAbstractCanvas2D$$setDashPattern$($a$$){this.state.dashPattern=$a$$};mxAbstractCanvas2D.prototype.setLineCap=function $mxAbstractCanvas2D$$setLineCap$($a$$){this.state.lineCap=$a$$};mxAbstractCanvas2D.prototype.setLineJoin=function $mxAbstractCanvas2D$$setLineJoin$($a$$){this.state.lineJoin=$a$$};mxAbstractCanvas2D.prototype.setMiterLimit=function $mxAbstractCanvas2D$$setMiterLimit$($a$$){this.state.miterLimit=$a$$};
mxAbstractCanvas2D.prototype.setFontColor=function $mxAbstractCanvas2D$$setFontColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fontColor=$a$$};mxAbstractCanvas2D.prototype.setFontBackgroundColor=function $mxAbstractCanvas2D$$setFontBackgroundColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fontBackgroundColor=$a$$};
mxAbstractCanvas2D.prototype.setFontBorderColor=function $mxAbstractCanvas2D$$setFontBorderColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.fontBorderColor=$a$$};mxAbstractCanvas2D.prototype.setFontSize=function $mxAbstractCanvas2D$$setFontSize$($a$$){this.state.fontSize=parseFloat($a$$)};mxAbstractCanvas2D.prototype.setFontFamily=function $mxAbstractCanvas2D$$setFontFamily$($a$$){this.state.fontFamily=$a$$};
mxAbstractCanvas2D.prototype.setFontStyle=function $mxAbstractCanvas2D$$setFontStyle$($a$$){null==$a$$&&($a$$=0);this.state.fontStyle=$a$$};mxAbstractCanvas2D.prototype.setShadow=function $mxAbstractCanvas2D$$setShadow$($a$$){this.state.shadow=$a$$};mxAbstractCanvas2D.prototype.setShadowColor=function $mxAbstractCanvas2D$$setShadowColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);this.state.shadowColor=$a$$};
mxAbstractCanvas2D.prototype.setShadowAlpha=function $mxAbstractCanvas2D$$setShadowAlpha$($a$$){this.state.shadowAlpha=$a$$};mxAbstractCanvas2D.prototype.setShadowOffset=function $mxAbstractCanvas2D$$setShadowOffset$($a$$,$b$$){this.state.shadowDx=$a$$;this.state.shadowDy=$b$$};mxAbstractCanvas2D.prototype.begin=function $mxAbstractCanvas2D$$begin$(){this.lastY=this.lastX=0;this.path=[]};
mxAbstractCanvas2D.prototype.moveTo=function $mxAbstractCanvas2D$$moveTo$($a$$,$b$$){this.addOp(this.moveOp,$a$$,$b$$)};mxAbstractCanvas2D.prototype.lineTo=function $mxAbstractCanvas2D$$lineTo$($a$$,$b$$){this.addOp(this.lineOp,$a$$,$b$$)};mxAbstractCanvas2D.prototype.quadTo=function $mxAbstractCanvas2D$$quadTo$($a$$,$b$$,$c$$,$d$$){this.addOp(this.quadOp,$a$$,$b$$,$c$$,$d$$)};
mxAbstractCanvas2D.prototype.curveTo=function $mxAbstractCanvas2D$$curveTo$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.addOp(this.curveOp,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$)};mxAbstractCanvas2D.prototype.arcTo=function $mxAbstractCanvas2D$$arcTo$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$a$$=mxUtils.arcToCurves(this.lastX,this.lastY,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$);if(null!=$a$$)for($b$$=0;$b$$<$a$$.length;$b$$+=6)this.curveTo($a$$[$b$$],$a$$[$b$$+1],$a$$[$b$$+2],$a$$[$b$$+3],$a$$[$b$$+4],$a$$[$b$$+5])};
mxAbstractCanvas2D.prototype.close=function $mxAbstractCanvas2D$$close$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.addOp(this.closeOp)};mxAbstractCanvas2D.prototype.end=function $mxAbstractCanvas2D$$end$(){};function mxXmlCanvas2D($a$$){mxAbstractCanvas2D.call(this);this.root=$a$$;this.writeDefaults()}mxUtils.extend(mxXmlCanvas2D,mxAbstractCanvas2D);mxXmlCanvas2D.prototype.textEnabled=!0;mxXmlCanvas2D.prototype.compressed=!0;
mxXmlCanvas2D.prototype.writeDefaults=function $mxXmlCanvas2D$$writeDefaults$(){var $a$$;$a$$=this.createElement("fontfamily");$a$$.setAttribute("family",mxConstants.DEFAULT_FONTFAMILY);this.root.appendChild($a$$);$a$$=this.createElement("fontsize");$a$$.setAttribute("size",mxConstants.DEFAULT_FONTSIZE);this.root.appendChild($a$$);$a$$=this.createElement("shadowcolor");$a$$.setAttribute("color",mxConstants.SHADOWCOLOR);this.root.appendChild($a$$);$a$$=this.createElement("shadowalpha");$a$$.setAttribute("alpha",
mxConstants.SHADOW_OPACITY);this.root.appendChild($a$$);$a$$=this.createElement("shadowoffset");$a$$.setAttribute("dx",mxConstants.SHADOW_OFFSET_X);$a$$.setAttribute("dy",mxConstants.SHADOW_OFFSET_Y);this.root.appendChild($a$$)};mxXmlCanvas2D.prototype.format=function $mxXmlCanvas2D$$format$($a$$){return parseFloat(parseFloat($a$$).toFixed(2))};mxXmlCanvas2D.prototype.createElement=function $mxXmlCanvas2D$$createElement$($a$$){return this.root.ownerDocument.createElement($a$$)};
mxXmlCanvas2D.prototype.save=function $mxXmlCanvas2D$$save$(){this.compressed&&mxAbstractCanvas2D.prototype.save.apply(this,arguments);this.root.appendChild(this.createElement("save"))};mxXmlCanvas2D.prototype.restore=function $mxXmlCanvas2D$$restore$(){this.compressed&&mxAbstractCanvas2D.prototype.restore.apply(this,arguments);this.root.appendChild(this.createElement("restore"))};
mxXmlCanvas2D.prototype.scale=function $mxXmlCanvas2D$$scale$($a$$){var $b$$=this.createElement("scale");$b$$.setAttribute("scale",$a$$);this.root.appendChild($b$$)};mxXmlCanvas2D.prototype.translate=function $mxXmlCanvas2D$$translate$($a$$,$b$$){var $c$$=this.createElement("translate");$c$$.setAttribute("dx",this.format($a$$));$c$$.setAttribute("dy",this.format($b$$));this.root.appendChild($c$$)};
mxXmlCanvas2D.prototype.rotate=function $mxXmlCanvas2D$$rotate$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.createElement("rotate");if(0!=$a$$||$b$$||$c$$)$f$$.setAttribute("theta",this.format($a$$)),$f$$.setAttribute("flipH",$b$$?"1":"0"),$f$$.setAttribute("flipV",$c$$?"1":"0"),$f$$.setAttribute("cx",this.format($d$$)),$f$$.setAttribute("cy",this.format($e$$)),this.root.appendChild($f$$)};
mxXmlCanvas2D.prototype.setAlpha=function $mxXmlCanvas2D$$setAlpha$($a$$){if(this.compressed){if(this.state.alpha==$a$$)return;mxAbstractCanvas2D.prototype.setAlpha.apply(this,arguments)}var $b$$=this.createElement("alpha");$b$$.setAttribute("alpha",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setFillAlpha=function $mxXmlCanvas2D$$setFillAlpha$($a$$){if(this.compressed){if(this.state.fillAlpha==$a$$)return;mxAbstractCanvas2D.prototype.setFillAlpha.apply(this,arguments)}var $b$$=this.createElement("fillalpha");$b$$.setAttribute("alpha",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setStrokeAlpha=function $mxXmlCanvas2D$$setStrokeAlpha$($a$$){if(this.compressed){if(this.state.strokeAlpha==$a$$)return;mxAbstractCanvas2D.prototype.setStrokeAlpha.apply(this,arguments)}var $b$$=this.createElement("strokealpha");$b$$.setAttribute("alpha",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setFillColor=function $mxXmlCanvas2D$$setFillColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fillColor==$a$$)return;mxAbstractCanvas2D.prototype.setFillColor.apply(this,arguments)}var $b$$=this.createElement("fillcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setGradient=function $mxXmlCanvas2D$$setGradient$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){if(null!=$a$$&&null!=$b$$){mxAbstractCanvas2D.prototype.setGradient.apply(this,arguments);var $m$$=this.createElement("gradient");$m$$.setAttribute("c1",$a$$);$m$$.setAttribute("c2",$b$$);$m$$.setAttribute("x",this.format($c$$));$m$$.setAttribute("y",this.format($d$$));$m$$.setAttribute("w",this.format($e$$));$m$$.setAttribute("h",this.format($f$$));null!=$g$$&&$m$$.setAttribute("direction",
$g$$);null!=$k$$&&$m$$.setAttribute("alpha1",$k$$);null!=$l$$&&$m$$.setAttribute("alpha2",$l$$);this.root.appendChild($m$$)}};mxXmlCanvas2D.prototype.setStrokeColor=function $mxXmlCanvas2D$$setStrokeColor$($a$$){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.strokeColor==$a$$)return;mxAbstractCanvas2D.prototype.setStrokeColor.apply(this,arguments)}var $b$$=this.createElement("strokecolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setStrokeWidth=function $mxXmlCanvas2D$$setStrokeWidth$($a$$){if(this.compressed){if(this.state.strokeWidth==$a$$)return;mxAbstractCanvas2D.prototype.setStrokeWidth.apply(this,arguments)}var $b$$=this.createElement("strokewidth");$b$$.setAttribute("width",this.format($a$$));this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setDashed=function $mxXmlCanvas2D$$setDashed$($a$$,$b$$){if(this.compressed){if(this.state.dashed==$a$$)return;mxAbstractCanvas2D.prototype.setDashed.apply(this,arguments)}var $c$$=this.createElement("dashed");$c$$.setAttribute("dashed",$a$$?"1":"0");null!=$b$$&&$c$$.setAttribute("fixDash",$b$$?"1":"0");this.root.appendChild($c$$)};
mxXmlCanvas2D.prototype.setDashPattern=function $mxXmlCanvas2D$$setDashPattern$($a$$){if(this.compressed){if(this.state.dashPattern==$a$$)return;mxAbstractCanvas2D.prototype.setDashPattern.apply(this,arguments)}var $b$$=this.createElement("dashpattern");$b$$.setAttribute("pattern",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setLineCap=function $mxXmlCanvas2D$$setLineCap$($a$$){if(this.compressed){if(this.state.lineCap==$a$$)return;mxAbstractCanvas2D.prototype.setLineCap.apply(this,arguments)}var $b$$=this.createElement("linecap");$b$$.setAttribute("cap",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setLineJoin=function $mxXmlCanvas2D$$setLineJoin$($a$$){if(this.compressed){if(this.state.lineJoin==$a$$)return;mxAbstractCanvas2D.prototype.setLineJoin.apply(this,arguments)}var $b$$=this.createElement("linejoin");$b$$.setAttribute("join",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setMiterLimit=function $mxXmlCanvas2D$$setMiterLimit$($a$$){if(this.compressed){if(this.state.miterLimit==$a$$)return;mxAbstractCanvas2D.prototype.setMiterLimit.apply(this,arguments)}var $b$$=this.createElement("miterlimit");$b$$.setAttribute("limit",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setFontColor=function $mxXmlCanvas2D$$setFontColor$($a$$){if(this.textEnabled){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fontColor==$a$$)return;mxAbstractCanvas2D.prototype.setFontColor.apply(this,arguments)}var $b$$=this.createElement("fontcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontBackgroundColor=function $mxXmlCanvas2D$$setFontBackgroundColor$($a$$){if(this.textEnabled){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fontBackgroundColor==$a$$)return;mxAbstractCanvas2D.prototype.setFontBackgroundColor.apply(this,arguments)}var $b$$=this.createElement("fontbackgroundcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontBorderColor=function $mxXmlCanvas2D$$setFontBorderColor$($a$$){if(this.textEnabled){$a$$==mxConstants.NONE&&($a$$=null);if(this.compressed){if(this.state.fontBorderColor==$a$$)return;mxAbstractCanvas2D.prototype.setFontBorderColor.apply(this,arguments)}var $b$$=this.createElement("fontbordercolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontSize=function $mxXmlCanvas2D$$setFontSize$($a$$){if(this.textEnabled){if(this.compressed){if(this.state.fontSize==$a$$)return;mxAbstractCanvas2D.prototype.setFontSize.apply(this,arguments)}var $b$$=this.createElement("fontsize");$b$$.setAttribute("size",$a$$);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontFamily=function $mxXmlCanvas2D$$setFontFamily$($a$$){if(this.textEnabled){if(this.compressed){if(this.state.fontFamily==$a$$)return;mxAbstractCanvas2D.prototype.setFontFamily.apply(this,arguments)}var $b$$=this.createElement("fontfamily");$b$$.setAttribute("family",$a$$);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setFontStyle=function $mxXmlCanvas2D$$setFontStyle$($a$$){if(this.textEnabled){null==$a$$&&($a$$=0);if(this.compressed){if(this.state.fontStyle==$a$$)return;mxAbstractCanvas2D.prototype.setFontStyle.apply(this,arguments)}var $b$$=this.createElement("fontstyle");$b$$.setAttribute("style",$a$$);this.root.appendChild($b$$)}};
mxXmlCanvas2D.prototype.setShadow=function $mxXmlCanvas2D$$setShadow$($a$$){if(this.compressed){if(this.state.shadow==$a$$)return;mxAbstractCanvas2D.prototype.setShadow.apply(this,arguments)}var $b$$=this.createElement("shadow");$b$$.setAttribute("enabled",$a$$?"1":"0");this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setShadowColor=function $mxXmlCanvas2D$$setShadowColor$($a$$){if(this.compressed){$a$$==mxConstants.NONE&&($a$$=null);if(this.state.shadowColor==$a$$)return;mxAbstractCanvas2D.prototype.setShadowColor.apply(this,arguments)}var $b$$=this.createElement("shadowcolor");$b$$.setAttribute("color",null!=$a$$?$a$$:mxConstants.NONE);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setShadowAlpha=function $mxXmlCanvas2D$$setShadowAlpha$($a$$){if(this.compressed){if(this.state.shadowAlpha==$a$$)return;mxAbstractCanvas2D.prototype.setShadowAlpha.apply(this,arguments)}var $b$$=this.createElement("shadowalpha");$b$$.setAttribute("alpha",$a$$);this.root.appendChild($b$$)};
mxXmlCanvas2D.prototype.setShadowOffset=function $mxXmlCanvas2D$$setShadowOffset$($a$$,$b$$){if(this.compressed){if(this.state.shadowDx==$a$$&&this.state.shadowDy==$b$$)return;mxAbstractCanvas2D.prototype.setShadowOffset.apply(this,arguments)}var $c$$=this.createElement("shadowoffset");$c$$.setAttribute("dx",$a$$);$c$$.setAttribute("dy",$b$$);this.root.appendChild($c$$)};
mxXmlCanvas2D.prototype.rect=function $mxXmlCanvas2D$$rect$($a$$,$b$$,$c$$,$d$$){var $e$$=this.createElement("rect");$e$$.setAttribute("x",this.format($a$$));$e$$.setAttribute("y",this.format($b$$));$e$$.setAttribute("w",this.format($c$$));$e$$.setAttribute("h",this.format($d$$));this.root.appendChild($e$$)};
mxXmlCanvas2D.prototype.roundrect=function $mxXmlCanvas2D$$roundrect$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=this.createElement("roundrect");$g$$.setAttribute("x",this.format($a$$));$g$$.setAttribute("y",this.format($b$$));$g$$.setAttribute("w",this.format($c$$));$g$$.setAttribute("h",this.format($d$$));$g$$.setAttribute("dx",this.format($e$$));$g$$.setAttribute("dy",this.format($f$$));this.root.appendChild($g$$)};
mxXmlCanvas2D.prototype.ellipse=function $mxXmlCanvas2D$$ellipse$($a$$,$b$$,$c$$,$d$$){var $e$$=this.createElement("ellipse");$e$$.setAttribute("x",this.format($a$$));$e$$.setAttribute("y",this.format($b$$));$e$$.setAttribute("w",this.format($c$$));$e$$.setAttribute("h",this.format($d$$));this.root.appendChild($e$$)};
mxXmlCanvas2D.prototype.image=function $mxXmlCanvas2D$$image$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$e$$=this.converter.convert($e$$);var $l$$=this.createElement("image");$l$$.setAttribute("x",this.format($a$$));$l$$.setAttribute("y",this.format($b$$));$l$$.setAttribute("w",this.format($c$$));$l$$.setAttribute("h",this.format($d$$));$l$$.setAttribute("src",$e$$);$l$$.setAttribute("aspect",$f$$?"1":"0");$l$$.setAttribute("flipH",$g$$?"1":"0");$l$$.setAttribute("flipV",$k$$?"1":"0");this.root.appendChild($l$$)};
mxXmlCanvas2D.prototype.begin=function $mxXmlCanvas2D$$begin$(){this.root.appendChild(this.createElement("begin"));this.lastY=this.lastX=0};mxXmlCanvas2D.prototype.moveTo=function $mxXmlCanvas2D$$moveTo$($a$$,$b$$){var $c$$=this.createElement("move");$c$$.setAttribute("x",this.format($a$$));$c$$.setAttribute("y",this.format($b$$));this.root.appendChild($c$$);this.lastX=$a$$;this.lastY=$b$$};
mxXmlCanvas2D.prototype.lineTo=function $mxXmlCanvas2D$$lineTo$($a$$,$b$$){var $c$$=this.createElement("line");$c$$.setAttribute("x",this.format($a$$));$c$$.setAttribute("y",this.format($b$$));this.root.appendChild($c$$);this.lastX=$a$$;this.lastY=$b$$};
mxXmlCanvas2D.prototype.quadTo=function $mxXmlCanvas2D$$quadTo$($a$$,$b$$,$c$$,$d$$){var $e$$=this.createElement("quad");$e$$.setAttribute("x1",this.format($a$$));$e$$.setAttribute("y1",this.format($b$$));$e$$.setAttribute("x2",this.format($c$$));$e$$.setAttribute("y2",this.format($d$$));this.root.appendChild($e$$);this.lastX=$c$$;this.lastY=$d$$};
mxXmlCanvas2D.prototype.curveTo=function $mxXmlCanvas2D$$curveTo$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=this.createElement("curve");$g$$.setAttribute("x1",this.format($a$$));$g$$.setAttribute("y1",this.format($b$$));$g$$.setAttribute("x2",this.format($c$$));$g$$.setAttribute("y2",this.format($d$$));$g$$.setAttribute("x3",this.format($e$$));$g$$.setAttribute("y3",this.format($f$$));this.root.appendChild($g$$);this.lastX=$e$$;this.lastY=$f$$};mxXmlCanvas2D.prototype.close=function $mxXmlCanvas2D$$close$(){this.root.appendChild(this.createElement("close"))};
mxXmlCanvas2D.prototype.text=function $mxXmlCanvas2D$$text$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){if(this.textEnabled&&null!=$e$$){mxUtils.isNode($e$$)&&($e$$=mxUtils.getOuterHtml($e$$));var $r$$=this.createElement("text");$r$$.setAttribute("x",this.format($a$$));$r$$.setAttribute("y",this.format($b$$));$r$$.setAttribute("w",this.format($c$$));$r$$.setAttribute("h",this.format($d$$));$r$$.setAttribute("str",$e$$);null!=$f$$&&$r$$.setAttribute("align",$f$$);null!=$g$$&&
$r$$.setAttribute("valign",$g$$);$r$$.setAttribute("wrap",$k$$?"1":"0");null==$l$$&&($l$$="");$r$$.setAttribute("format",$l$$);null!=$m$$&&$r$$.setAttribute("overflow",$m$$);null!=$n$$&&$r$$.setAttribute("clip",$n$$?"1":"0");null!=$p$$&&$r$$.setAttribute("rotation",$p$$);null!=$q$$&&$r$$.setAttribute("dir",$q$$);this.root.appendChild($r$$)}};mxXmlCanvas2D.prototype.stroke=function $mxXmlCanvas2D$$stroke$(){this.root.appendChild(this.createElement("stroke"))};mxXmlCanvas2D.prototype.fill=function $mxXmlCanvas2D$$fill$(){this.root.appendChild(this.createElement("fill"))};
mxXmlCanvas2D.prototype.fillAndStroke=function $mxXmlCanvas2D$$fillAndStroke$(){this.root.appendChild(this.createElement("fillstroke"))};
function mxSvgCanvas2D($a$$,$b$$){mxAbstractCanvas2D.call(this);this.root=$a$$;this.gradients=[];this.defs=null;this.styleEnabled=null!=$b$$?$b$$:!1;var $c$$=null;if($a$$.ownerDocument!=document)for($c$$=$a$$;null!=$c$$&&"svg"!=$c$$.nodeName;)$c$$=$c$$.parentNode;null!=$c$$&&(0<$c$$.getElementsByTagName("defs").length&&(this.defs=$c$$.getElementsByTagName("defs")[0]),null==this.defs&&(this.defs=this.createElement("defs"),null!=$c$$.firstChild?$c$$.insertBefore(this.defs,$c$$.firstChild):$c$$.appendChild(this.defs)),
this.styleEnabled&&this.defs.appendChild(this.createStyle()))}mxUtils.extend(mxSvgCanvas2D,mxAbstractCanvas2D);(function(){mxSvgCanvas2D.prototype.useDomParser=!mxClient.IS_IE&&"function"===typeof DOMParser&&"function"===typeof XMLSerializer;if(mxSvgCanvas2D.prototype.useDomParser)try{var $a$$=(new DOMParser).parseFromString("test text","text/html");mxSvgCanvas2D.prototype.useDomParser=null!=$a$$}catch($b$$){mxSvgCanvas2D.prototype.useDomParser=!1}})();mxSvgCanvas2D.prototype.node=null;
mxSvgCanvas2D.prototype.matchHtmlAlignment=!0;mxSvgCanvas2D.prototype.textEnabled=!0;mxSvgCanvas2D.prototype.foEnabled=!0;mxSvgCanvas2D.prototype.foAltText="[Object]";mxSvgCanvas2D.prototype.foOffset=0;mxSvgCanvas2D.prototype.textOffset=0;mxSvgCanvas2D.prototype.imageOffset=0;mxSvgCanvas2D.prototype.strokeTolerance=0;mxSvgCanvas2D.prototype.minStrokeWidth=1;mxSvgCanvas2D.prototype.refCount=0;mxSvgCanvas2D.prototype.blockImagePointerEvents=!1;mxSvgCanvas2D.prototype.lineHeightCorrection=1;
mxSvgCanvas2D.prototype.pointerEventsValue="all";mxSvgCanvas2D.prototype.fontMetricsPadding=10;mxSvgCanvas2D.prototype.cacheOffsetSize=!0;mxSvgCanvas2D.prototype.format=function $mxSvgCanvas2D$$format$($a$$){return parseFloat(parseFloat($a$$).toFixed(2))};mxSvgCanvas2D.prototype.getBaseUrl=function $mxSvgCanvas2D$$getBaseUrl$(){var $a$$=window.location.href,$b$$=$a$$.lastIndexOf("#");0<$b$$&&($a$$=$a$$.substring(0,$b$$));return $a$$};
mxSvgCanvas2D.prototype.reset=function $mxSvgCanvas2D$$reset$(){mxAbstractCanvas2D.prototype.reset.apply(this,arguments);this.gradients=[]};mxSvgCanvas2D.prototype.createStyle=function $mxSvgCanvas2D$$createStyle$($a$$){$a$$=this.createElement("style");$a$$.setAttribute("type","text/css");mxUtils.write($a$$,"svg{font-family:"+mxConstants.DEFAULT_FONTFAMILY+";font-size:"+mxConstants.DEFAULT_FONTSIZE+";fill:none;stroke-miterlimit:10}");return $a$$};
mxSvgCanvas2D.prototype.createElement=function $mxSvgCanvas2D$$createElement$($a$$,$b$$){if(null!=this.root.ownerDocument.createElementNS)return this.root.ownerDocument.createElementNS($b$$||mxConstants.NS_SVG,$a$$);var $c$$=this.root.ownerDocument.createElement($a$$);null!=$b$$&&$c$$.setAttribute("xmlns",$b$$);return $c$$};
mxSvgCanvas2D.prototype.createAlternateContent=function $mxSvgCanvas2D$$createAlternateContent$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){return null!=this.foAltText?($a$$=this.state,$b$$=this.createElement("text"),$b$$.setAttribute("x",Math.round($d$$/2)),$b$$.setAttribute("y",Math.round(($e$$+$a$$.fontSize)/2)),$b$$.setAttribute("fill",$a$$.fontColor||"black"),$b$$.setAttribute("text-anchor","middle"),$b$$.setAttribute("font-size",$a$$.fontSize+"px"),$b$$.setAttribute("font-family",
$a$$.fontFamily),($a$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&$b$$.setAttribute("font-weight","bold"),($a$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&$b$$.setAttribute("font-style","italic"),($a$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$b$$.setAttribute("text-decoration","underline"),mxUtils.write($b$$,this.foAltText),$b$$):null};
mxSvgCanvas2D.prototype.createGradientId=function $mxSvgCanvas2D$$createGradientId$($a$$,$b$$,$c$$,$d$$,$e$$){"#"==$a$$.charAt(0)&&($a$$=$a$$.substring(1));"#"==$b$$.charAt(0)&&($b$$=$b$$.substring(1));$a$$=$a$$.toLowerCase()+"-"+$c$$;$b$$=$b$$.toLowerCase()+"-"+$d$$;$c$$=null;null==$e$$||$e$$==mxConstants.DIRECTION_SOUTH?$c$$="s":$e$$==mxConstants.DIRECTION_EAST?$c$$="e":($d$$=$a$$,$a$$=$b$$,$b$$=$d$$,$e$$==mxConstants.DIRECTION_NORTH?$c$$="s":$e$$==mxConstants.DIRECTION_WEST&&($c$$="e"));return"mx-gradient-"+
$a$$+"-"+$b$$+"-"+$c$$};
mxSvgCanvas2D.prototype.getSvgGradient=function $mxSvgCanvas2D$$getSvgGradient$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.createGradientId($a$$,$b$$,$c$$,$d$$,$e$$),$g$$=this.gradients[$f$$];if(null==$g$$){var $k$$=this.root.ownerSVGElement,$l$$=0,$m$$=$f$$+"-"+$l$$;if(null!=$k$$)for($g$$=$k$$.ownerDocument.getElementById($m$$);null!=$g$$&&$g$$.ownerSVGElement!=$k$$;)$m$$=$f$$+"-"+$l$$++,$g$$=$k$$.ownerDocument.getElementById($m$$);else $m$$="id"+ ++this.refCount;null==$g$$&&($g$$=this.createSvgGradient($a$$,
$b$$,$c$$,$d$$,$e$$),$g$$.setAttribute("id",$m$$),null!=this.defs?this.defs.appendChild($g$$):$k$$.appendChild($g$$));this.gradients[$f$$]=$g$$}return $g$$.getAttribute("id")};
mxSvgCanvas2D.prototype.createSvgGradient=function $mxSvgCanvas2D$$createSvgGradient$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.createElement("linearGradient");$f$$.setAttribute("x1","0%");$f$$.setAttribute("y1","0%");$f$$.setAttribute("x2","0%");$f$$.setAttribute("y2","0%");null==$e$$||$e$$==mxConstants.DIRECTION_SOUTH?$f$$.setAttribute("y2","100%"):$e$$==mxConstants.DIRECTION_EAST?$f$$.setAttribute("x2","100%"):$e$$==mxConstants.DIRECTION_NORTH?$f$$.setAttribute("y1","100%"):$e$$==mxConstants.DIRECTION_WEST&&
$f$$.setAttribute("x1","100%");$c$$=1>$c$$?";stop-opacity:"+$c$$:"";$e$$=this.createElement("stop");$e$$.setAttribute("offset","0%");$e$$.setAttribute("style","stop-color:"+$a$$+$c$$);$f$$.appendChild($e$$);$c$$=1>$d$$?";stop-opacity:"+$d$$:"";$e$$=this.createElement("stop");$e$$.setAttribute("offset","100%");$e$$.setAttribute("style","stop-color:"+$b$$+$c$$);$f$$.appendChild($e$$);return $f$$};
mxSvgCanvas2D.prototype.addNode=function $mxSvgCanvas2D$$addNode$($a$$,$b$$){var $c$$=this.node,$d$$=this.state;if(null!=$c$$){if("path"==$c$$.nodeName)if(null!=this.path&&0<this.path.length)$c$$.setAttribute("d",this.path.join(" "));else return;$a$$&&null!=$d$$.fillColor?this.updateFill():this.styleEnabled||("ellipse"==$c$$.nodeName&&mxClient.IS_FF?$c$$.setAttribute("fill","transparent"):$c$$.setAttribute("fill","none"),$a$$=!1);$b$$&&null!=$d$$.strokeColor?this.updateStroke():this.styleEnabled||
$c$$.setAttribute("stroke","none");null!=$d$$.transform&&0<$d$$.transform.length&&$c$$.setAttribute("transform",$d$$.transform);$d$$.shadow&&this.root.appendChild(this.createShadow($c$$));0<this.strokeTolerance&&!$a$$&&this.root.appendChild(this.createTolerance($c$$));this.pointerEvents?$c$$.setAttribute("pointer-events",this.pointerEventsValue):this.pointerEvents||null!=this.originalRoot||$c$$.setAttribute("pointer-events","none");("rect"!=$c$$.nodeName&&"path"!=$c$$.nodeName&&"ellipse"!=$c$$.nodeName||
"none"!=$c$$.getAttribute("fill")&&"transparent"!=$c$$.getAttribute("fill")||"none"!=$c$$.getAttribute("stroke")||"none"!=$c$$.getAttribute("pointer-events"))&&this.root.appendChild($c$$);this.node=null}};
mxSvgCanvas2D.prototype.updateFill=function $mxSvgCanvas2D$$updateFill$(){var $a$$=this.state;(1>$a$$.alpha||1>$a$$.fillAlpha)&&this.node.setAttribute("fill-opacity",$a$$.alpha*$a$$.fillAlpha);if(null!=$a$$.fillColor)if(null!=$a$$.gradientColor)if($a$$=this.getSvgGradient(String($a$$.fillColor),String($a$$.gradientColor),$a$$.gradientFillAlpha,$a$$.gradientAlpha,$a$$.gradientDirection),mxClient.IS_CHROME_APP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document)this.node.setAttribute("fill",
"url(#"+$a$$+")");else{var $b$$=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");this.node.setAttribute("fill","url("+$b$$+"#"+$a$$+")")}else this.node.setAttribute("fill",String($a$$.fillColor).toLowerCase())};mxSvgCanvas2D.prototype.getCurrentStrokeWidth=function $mxSvgCanvas2D$$getCurrentStrokeWidth$(){return Math.max(this.minStrokeWidth,Math.max(.01,this.format(this.state.strokeWidth*this.state.scale)))};
mxSvgCanvas2D.prototype.updateStroke=function $mxSvgCanvas2D$$updateStroke$(){var $a$$=this.state;this.node.setAttribute("stroke",String($a$$.strokeColor).toLowerCase());(1>$a$$.alpha||1>$a$$.strokeAlpha)&&this.node.setAttribute("stroke-opacity",$a$$.alpha*$a$$.strokeAlpha);var $b$$=this.getCurrentStrokeWidth();1!=$b$$&&this.node.setAttribute("stroke-width",$b$$);"path"==this.node.nodeName&&this.updateStrokeAttributes();$a$$.dashed&&this.node.setAttribute("stroke-dasharray",this.createDashPattern(($a$$.fixDash?
1:$a$$.strokeWidth)*$a$$.scale))};mxSvgCanvas2D.prototype.updateStrokeAttributes=function $mxSvgCanvas2D$$updateStrokeAttributes$(){var $a$$=this.state;null!=$a$$.lineJoin&&"miter"!=$a$$.lineJoin&&this.node.setAttribute("stroke-linejoin",$a$$.lineJoin);if(null!=$a$$.lineCap){var $b$$=$a$$.lineCap;"flat"==$b$$&&($b$$="butt");"butt"!=$b$$&&this.node.setAttribute("stroke-linecap",$b$$)}null==$a$$.miterLimit||this.styleEnabled&&10==$a$$.miterLimit||this.node.setAttribute("stroke-miterlimit",$a$$.miterLimit)};
mxSvgCanvas2D.prototype.createDashPattern=function $mxSvgCanvas2D$$createDashPattern$($a$$){var $b$$=[];if("string"===typeof this.state.dashPattern){var $c$$=this.state.dashPattern.split(" ");if(0<$c$$.length)for(var $d$$=0;$d$$<$c$$.length;$d$$++)$b$$[$d$$]=Number($c$$[$d$$])*$a$$}return $b$$.join(" ")};
mxSvgCanvas2D.prototype.createTolerance=function $mxSvgCanvas2D$$createTolerance$($a$$){$a$$=$a$$.cloneNode(!0);var $b$$=parseFloat($a$$.getAttribute("stroke-width")||1)+this.strokeTolerance;$a$$.setAttribute("pointer-events","stroke");$a$$.setAttribute("visibility","hidden");$a$$.removeAttribute("stroke-dasharray");$a$$.setAttribute("stroke-width",$b$$);$a$$.setAttribute("fill","none");$a$$.setAttribute("stroke",mxClient.IS_OT?"none":"white");return $a$$};
mxSvgCanvas2D.prototype.createShadow=function $mxSvgCanvas2D$$createShadow$($a$$){$a$$=$a$$.cloneNode(!0);var $b$$=this.state;"none"==$a$$.getAttribute("fill")||mxClient.IS_FF&&"transparent"==$a$$.getAttribute("fill")||$a$$.setAttribute("fill",$b$$.shadowColor);"none"!=$a$$.getAttribute("stroke")&&$a$$.setAttribute("stroke",$b$$.shadowColor);$a$$.setAttribute("transform","translate("+this.format($b$$.shadowDx*$b$$.scale)+","+this.format($b$$.shadowDy*$b$$.scale)+")"+($b$$.transform||""));$a$$.setAttribute("opacity",
$b$$.shadowAlpha);return $a$$};mxSvgCanvas2D.prototype.setLink=function $mxSvgCanvas2D$$setLink$($a$$){if(null==$a$$)this.root=this.originalRoot;else{this.originalRoot=this.root;var $b$$=this.createElement("a");null==$b$$.setAttributeNS||this.root.ownerDocument!=document&&null==document.documentMode?$b$$.setAttribute("xlink:href",$a$$):$b$$.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",$a$$);this.root.appendChild($b$$);this.root=$b$$}};
mxSvgCanvas2D.prototype.rotate=function $mxSvgCanvas2D$$rotate$($a$$,$b$$,$c$$,$d$$,$e$$){if(0!=$a$$||$b$$||$c$$){var $f$$=this.state;$d$$+=$f$$.dx;$e$$+=$f$$.dy;$d$$*=$f$$.scale;$e$$*=$f$$.scale;$f$$.transform=$f$$.transform||"";if($b$$&&$c$$)$a$$+=180;else if($b$$!=$c$$){var $g$$=$b$$?$d$$:0,$k$$=$b$$?-1:1,$l$$=$c$$?$e$$:0,$m$$=$c$$?-1:1;$f$$.transform+="translate("+this.format($g$$)+","+this.format($l$$)+")scale("+this.format($k$$)+","+this.format($m$$)+")translate("+this.format(-$g$$)+","+this.format(-$l$$)+
")"}if($b$$?!$c$$:$c$$)$a$$*=-1;0!=$a$$&&($f$$.transform+="rotate("+this.format($a$$)+","+this.format($d$$)+","+this.format($e$$)+")");$f$$.rotation+=$a$$;$f$$.rotationCx=$d$$;$f$$.rotationCy=$e$$}};mxSvgCanvas2D.prototype.begin=function $mxSvgCanvas2D$$begin$(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments);this.node=this.createElement("path")};
mxSvgCanvas2D.prototype.rect=function $mxSvgCanvas2D$$rect$($a$$,$b$$,$c$$,$d$$){var $e$$=this.state,$f$$=this.createElement("rect");$f$$.setAttribute("x",this.format(($a$$+$e$$.dx)*$e$$.scale));$f$$.setAttribute("y",this.format(($b$$+$e$$.dy)*$e$$.scale));$f$$.setAttribute("width",this.format($c$$*$e$$.scale));$f$$.setAttribute("height",this.format($d$$*$e$$.scale));this.node=$f$$};
mxSvgCanvas2D.prototype.roundrect=function $mxSvgCanvas2D$$roundrect$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.rect($a$$,$b$$,$c$$,$d$$);0<$e$$&&this.node.setAttribute("rx",this.format($e$$*this.state.scale));0<$f$$&&this.node.setAttribute("ry",this.format($f$$*this.state.scale))};
mxSvgCanvas2D.prototype.ellipse=function $mxSvgCanvas2D$$ellipse$($a$$,$b$$,$c$$,$d$$){var $e$$=this.state,$f$$=this.createElement("ellipse");$f$$.setAttribute("cx",Math.round(($a$$+$c$$/2+$e$$.dx)*$e$$.scale));$f$$.setAttribute("cy",Math.round(($b$$+$d$$/2+$e$$.dy)*$e$$.scale));$f$$.setAttribute("rx",$c$$/2*$e$$.scale);$f$$.setAttribute("ry",$d$$/2*$e$$.scale);this.node=$f$$};
mxSvgCanvas2D.prototype.image=function $mxSvgCanvas2D$$image$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$e$$=this.converter.convert($e$$);$f$$=null!=$f$$?$f$$:!0;$g$$=null!=$g$$?$g$$:!1;$k$$=null!=$k$$?$k$$:!1;var $l$$=this.state;$a$$+=$l$$.dx;$b$$+=$l$$.dy;var $m$$=this.createElement("image");$m$$.setAttribute("x",this.format($a$$*$l$$.scale)+this.imageOffset);$m$$.setAttribute("y",this.format($b$$*$l$$.scale)+this.imageOffset);$m$$.setAttribute("width",this.format($c$$*$l$$.scale));$m$$.setAttribute("height",
this.format($d$$*$l$$.scale));null==$m$$.setAttributeNS?$m$$.setAttribute("xlink:href",$e$$):$m$$.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",$e$$);$f$$||$m$$.setAttribute("preserveAspectRatio","none");(1>$l$$.alpha||1>$l$$.fillAlpha)&&$m$$.setAttribute("opacity",$l$$.alpha*$l$$.fillAlpha);$e$$=this.state.transform||"";if($g$$||$k$$){var $n$$=$f$$=1,$p$$=0,$q$$=0;$g$$&&($f$$=-1,$p$$=-$c$$-2*$a$$);$k$$&&($n$$=-1,$q$$=-$d$$-2*$b$$);$e$$+="scale("+$f$$+","+$n$$+")translate("+$p$$*$l$$.scale+","+
$q$$*$l$$.scale+")"}0<$e$$.length&&$m$$.setAttribute("transform",$e$$);this.pointerEvents||$m$$.setAttribute("pointer-events","none");this.root.appendChild($m$$);this.blockImagePointerEvents&&($m$$.setAttribute("style","pointer-events:none"),$m$$=this.createElement("rect"),$m$$.setAttribute("visibility","hidden"),$m$$.setAttribute("pointer-events","fill"),$m$$.setAttribute("x",this.format($a$$*$l$$.scale)),$m$$.setAttribute("y",this.format($b$$*$l$$.scale)),$m$$.setAttribute("width",this.format($c$$*
$l$$.scale)),$m$$.setAttribute("height",this.format($d$$*$l$$.scale)),this.root.appendChild($m$$))};
mxSvgCanvas2D.prototype.convertHtml=function $mxSvgCanvas2D$$convertHtml$($a$$){if(this.useDomParser){var $b$$=(new DOMParser).parseFromString($a$$,"text/html");null!=$b$$&&($a$$=(new XMLSerializer).serializeToString($b$$.body),"<body"==$a$$.substring(0,5)&&($a$$=$a$$.substring($a$$.indexOf(">",5)+1)),"</body>"==$a$$.substring($a$$.length-7,$a$$.length)&&($a$$=$a$$.substring(0,$a$$.length-7)))}else{if(null!=document.implementation&&null!=document.implementation.createDocument){var $b$$=document.implementation.createDocument("http://www.w3.org/1999/xhtml",
"html",null),$c$$=$b$$.createElement("body");$b$$.documentElement.appendChild($c$$);var $d$$=document.createElement("div");$d$$.innerHTML=$a$$;for($a$$=$d$$.firstChild;null!=$a$$;)$d$$=$a$$.nextSibling,$c$$.appendChild($b$$.adoptNode($a$$)),$a$$=$d$$;return $c$$.innerHTML}$b$$=document.createElement("textarea");$b$$.innerHTML=$a$$.replace(/&amp;/g,"&amp;amp;").replace(/&#60;/g,"&amp;lt;").replace(/&#62;/g,"&amp;gt;").replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;").replace(/</g,"&lt;").replace(/>/g,
"&gt;");$a$$=$b$$.value.replace(/&/g,"&amp;").replace(/&amp;lt;/g,"&lt;").replace(/&amp;gt;/g,"&gt;").replace(/&amp;amp;/g,"&amp;").replace(/<br>/g,"<br />").replace(/<hr>/g,"<hr />").replace(/(<img[^>]+)>/gm,"$1 />")}return $a$$};
mxSvgCanvas2D.prototype.createDiv=function $mxSvgCanvas2D$$createDiv$($a$$,$b$$,$c$$,$d$$,$e$$){$c$$=this.state;$d$$="display:inline-block;font-size:"+$c$$.fontSize+"px;font-family:"+$c$$.fontFamily+";color:"+$c$$.fontColor+";line-height:"+(mxConstants.ABSOLUTE_LINE_HEIGHT?$c$$.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT*this.lineHeightCorrection)+";"+$d$$;($c$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($d$$+="font-weight:bold;");($c$$.fontStyle&mxConstants.FONT_ITALIC)==
mxConstants.FONT_ITALIC&&($d$$+="font-style:italic;");($c$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&($d$$+="text-decoration:underline;");$b$$==mxConstants.ALIGN_CENTER?$d$$+="text-align:center;":$b$$==mxConstants.ALIGN_RIGHT&&($d$$+="text-align:right;");$b$$="";null!=$c$$.fontBackgroundColor&&($b$$+="background-color:"+$c$$.fontBackgroundColor+";");null!=$c$$.fontBorderColor&&($b$$+="border:1px solid "+$c$$.fontBorderColor+";");mxUtils.isNode($a$$)||($a$$=this.convertHtml($a$$),
"fill"!=$e$$&&"width"!=$e$$?$a$$='<div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;'+$b$$+'">'+$a$$+"</div>":$d$$+=$b$$);if(!mxClient.IS_IE&&document.createElementNS)return $e$$=document.createElementNS("http://www.w3.org/1999/xhtml","div"),$e$$.setAttribute("style",$d$$),mxUtils.isNode($a$$)?this.root.ownerDocument!=document?$e$$.appendChild($a$$.cloneNode(!0)):$e$$.appendChild($a$$):$e$$.innerHTML=$a$$,$e$$;mxUtils.isNode($a$$)&&this.root.ownerDocument!=
document&&($a$$=$a$$.outerHTML);return mxUtils.parseXml('<div xmlns="http://www.w3.org/1999/xhtml" style="'+$d$$+'">'+$a$$+"</div>").documentElement};mxSvgCanvas2D.prototype.invalidateCachedOffsetSize=function $mxSvgCanvas2D$$invalidateCachedOffsetSize$($a$$){delete $a$$.firstChild.mxCachedOffsetWidth;delete $a$$.firstChild.mxCachedFinalOffsetWidth;delete $a$$.firstChild.mxCachedFinalOffsetHeight};
mxSvgCanvas2D.prototype.updateText=function $mxSvgCanvas2D$$updateText$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$){if(null!=$n$$&&null!=$n$$.firstChild&&null!=$n$$.firstChild.firstChild&&null!=$n$$.firstChild.firstChild.firstChild){$n$$=$n$$.firstChild;var $p$$=$n$$.firstChild,$q$$=$p$$.firstChild;$m$$=null!=$m$$?$m$$:0;var $r$$=this.state;$a$$+=$r$$.dx;$b$$+=$r$$.dy;$l$$?($q$$.style.maxHeight=Math.round($d$$)+"px",$q$$.style.maxWidth=Math.round($c$$)+"px"):"fill"==$k$$?($q$$.style.width=
Math.round($c$$+1)+"px",$q$$.style.height=Math.round($d$$+1)+"px"):"width"==$k$$&&($q$$.style.width=Math.round($c$$+1)+"px",0<$d$$&&($q$$.style.maxHeight=Math.round($d$$)+"px"));$g$$&&0<$c$$&&($q$$.style.width=Math.round($c$$+1)+"px");var $t$$,$u$$=$q$$;null!=$u$$.firstChild&&"DIV"==$u$$.firstChild.nodeName&&($u$$=$u$$.firstChild);var $y$$=null!=$n$$.mxCachedOffsetWidth?$n$$.mxCachedOffsetWidth:$u$$.offsetWidth;$t$$=$y$$+0;$g$$&&"fill"!=$k$$&&($l$$&&($t$$=Math.min($t$$,$c$$)),$q$$.style.width=Math.round($t$$+
1)+"px");$t$$=null!=$n$$.mxCachedFinalOffsetWidth?$n$$.mxCachedFinalOffsetWidth:$u$$.offsetWidth;$g$$=null!=$n$$.mxCachedFinalOffsetHeight?$n$$.mxCachedFinalOffsetHeight:$u$$.offsetHeight;this.cacheOffsetSize&&($n$$.mxCachedOffsetWidth=$y$$,$n$$.mxCachedFinalOffsetWidth=$t$$,$n$$.mxCachedFinalOffsetHeight=$g$$);$t$$+=0;$g$$-=2;$l$$&&($g$$=Math.min($g$$,$d$$),$t$$=Math.min($t$$,$c$$));"width"==$k$$?$d$$=$g$$:"fill"!=$k$$&&($c$$=$t$$,$d$$=$g$$);$g$$=$l$$=0;$e$$==mxConstants.ALIGN_CENTER?$l$$-=$c$$/
2:$e$$==mxConstants.ALIGN_RIGHT&&($l$$-=$c$$);$a$$+=$l$$;$f$$==mxConstants.ALIGN_MIDDLE?$g$$-=$d$$/2:$f$$==mxConstants.ALIGN_BOTTOM&&($g$$-=$d$$);"fill"!=$k$$&&mxClient.IS_FF&&mxClient.IS_WIN&&($g$$-=2);$b$$+=$g$$;$e$$=1!=$r$$.scale?"scale("+$r$$.scale+")":"";0!=$r$$.rotation&&this.rotateHtml?($e$$+="rotate("+$r$$.rotation+","+$c$$/2+","+$d$$/2+")",$b$$=this.rotatePoint(($a$$+$c$$/2)*$r$$.scale,($b$$+$d$$/2)*$r$$.scale,$r$$.rotation,$r$$.rotationCx,$r$$.rotationCy),$a$$=$b$$.x-$c$$*$r$$.scale/2,$b$$=
$b$$.y-$d$$*$r$$.scale/2):($a$$*=$r$$.scale,$b$$*=$r$$.scale);0!=$m$$&&($e$$+="rotate("+$m$$+","+-$l$$+","+-$g$$+")");$n$$.setAttribute("transform","translate("+Math.round($a$$)+","+Math.round($b$$)+")"+$e$$);$p$$.setAttribute("width",Math.round(Math.max(1,$c$$)));$p$$.setAttribute("height",Math.round(Math.max(1,$d$$)))}};
mxSvgCanvas2D.prototype.text=function $mxSvgCanvas2D$$text$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){if(this.textEnabled&&null!=$e$$){$p$$=null!=$p$$?$p$$:0;var $r$$=this.state;$a$$+=$r$$.dx;$b$$+=$r$$.dy;if(this.foEnabled&&"html"==$l$$){var $t$$="vertical-align:top;";$n$$?$t$$+="overflow:hidden;max-height:"+Math.round($d$$)+"px;max-width:"+Math.round($c$$)+"px;":"fill"==$m$$?$t$$+="width:"+Math.round($c$$+1)+"px;height:"+Math.round($d$$+1)+"px;overflow:hidden;":"width"==
$m$$&&($t$$+="width:"+Math.round($c$$+1)+"px;",0<$d$$&&($t$$+="max-height:"+Math.round($d$$)+"px;overflow:hidden;"));var $t$$=$k$$&&0<$c$$?$t$$+("width:"+Math.round($c$$+1)+"px;white-space:normal;word-wrap:"+mxConstants.WORD_WRAP+";"):$t$$+"white-space:nowrap;",$u$$=this.createElement("g");1>$r$$.alpha&&$u$$.setAttribute("opacity",$r$$.alpha);var $y$$=this.createElement("foreignObject");$y$$.setAttribute("style","overflow:visible;");$y$$.setAttribute("pointer-events","all");$t$$=this.createDiv($e$$,
$f$$,$g$$,$t$$,$m$$);if(null!=$t$$){null!=$q$$&&$t$$.setAttribute("dir",$q$$);$u$$.appendChild($y$$);this.root.appendChild($u$$);var $x$$,$A$$;$q$$=$x$$=2;if(!mxClient.IS_IE||9!=document.documentMode&&mxClient.IS_SVG){this.root.ownerDocument!=document?($t$$.style.visibility="hidden",document.body.appendChild($t$$)):$y$$.appendChild($t$$);var $z$$=$t$$;null!=$z$$.firstChild&&"DIV"==$z$$.firstChild.nodeName&&($z$$=$z$$.firstChild,$k$$&&"break-word"==$t$$.style.wordWrap&&($z$$.style.width="100%"));$v$$=
$z$$.offsetWidth;0==$v$$&&$t$$.parentNode==$y$$&&($t$$.style.visibility="hidden",document.body.appendChild($t$$),$v$$=$z$$.offsetWidth);this.cacheOffsetSize&&($u$$.mxCachedOffsetWidth=$v$$);!$n$$&&$k$$&&0<$c$$&&this.root.ownerDocument!=document&&"fill"!=$m$$&&"width"!=$m$$&&($B$$=$t$$.style.whiteSpace,$t$$.style.whiteSpace="nowrap",$v$$<$z$$.offsetWidth&&($t$$.style.whiteSpace=$B$$));$x$$=$v$$+$x$$-1;$k$$&&"fill"!=$m$$&&"width"!=$m$$&&($n$$&&($x$$=Math.min($x$$,$c$$)),$t$$.style.width=$x$$+"px");
$x$$=$z$$.offsetWidth;$A$$=$z$$.offsetHeight;this.cacheOffsetSize&&($u$$.mxCachedFinalOffsetWidth=$x$$,$u$$.mxCachedFinalOffsetHeight=$A$$);$A$$-=$q$$;$t$$.parentNode!=$y$$&&($y$$.appendChild($t$$),$t$$.style.visibility="")}else{$z$$=document.createElement("div");$z$$.style.cssText=$t$$.getAttribute("style");$z$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block";$z$$.style.position="absolute";$z$$.style.visibility="hidden";$A$$=document.createElement("div");$A$$.style.display=mxClient.IS_QUIRKS?
"inline":"inline-block";$A$$.style.wordWrap=mxConstants.WORD_WRAP;$A$$.innerHTML=mxUtils.isNode($e$$)?$e$$.outerHTML:$e$$;$z$$.appendChild($A$$);document.body.appendChild($z$$);8!=document.documentMode&&9!=document.documentMode&&null!=$r$$.fontBorderColor&&($x$$+=2,$q$$+=2);if($k$$&&0<$c$$){var $v$$=$A$$.offsetWidth;padDx=0;if(!$n$$&&$k$$&&0<$c$$&&this.root.ownerDocument!=document&&"fill"!=$m$$){var $B$$=$z$$.style.whiteSpace;$A$$.style.whiteSpace="nowrap";$v$$<$A$$.offsetWidth&&($z$$.style.whiteSpace=
$B$$)}$n$$&&($v$$=Math.min($v$$,$c$$));$z$$.style.width=$v$$+"px";$x$$=$A$$.offsetWidth+$x$$+padDx;$A$$=$A$$.offsetHeight+$q$$;$z$$.style.display="inline-block";$z$$.style.position="";$z$$.style.visibility="";$z$$.style.width=$x$$+"px";$t$$.setAttribute("style",$z$$.style.cssText)}else $x$$=$A$$.offsetWidth+$x$$,$A$$=$A$$.offsetHeight+$q$$;$z$$.parentNode.removeChild($z$$);$y$$.appendChild($t$$)}$n$$&&($A$$=Math.min($A$$,$d$$),$x$$=Math.min($x$$,$c$$));"width"==$m$$?$d$$=$A$$:"fill"!=$m$$&&($c$$=
$x$$,$d$$=$A$$);1>$r$$.alpha&&$u$$.setAttribute("opacity",$r$$.alpha);$q$$=$t$$=0;$f$$==mxConstants.ALIGN_CENTER?$t$$-=$c$$/2:$f$$==mxConstants.ALIGN_RIGHT&&($t$$-=$c$$);$a$$+=$t$$;$g$$==mxConstants.ALIGN_MIDDLE?$q$$-=$d$$/2:$g$$==mxConstants.ALIGN_BOTTOM&&($q$$-=$d$$);"fill"!=$m$$&&mxClient.IS_FF&&mxClient.IS_WIN&&($q$$-=2);$b$$+=$q$$;$z$$=1!=$r$$.scale?"scale("+$r$$.scale+")":"";0!=$r$$.rotation&&this.rotateHtml?($z$$+="rotate("+$r$$.rotation+","+$c$$/2+","+$d$$/2+")",$b$$=this.rotatePoint(($a$$+
$c$$/2)*$r$$.scale,($b$$+$d$$/2)*$r$$.scale,$r$$.rotation,$r$$.rotationCx,$r$$.rotationCy),$a$$=$b$$.x-$c$$*$r$$.scale/2,$b$$=$b$$.y-$d$$*$r$$.scale/2):($a$$*=$r$$.scale,$b$$*=$r$$.scale);0!=$p$$&&($z$$+="rotate("+$p$$+","+-$t$$+","+-$q$$+")");$u$$.setAttribute("transform","translate("+(Math.round($a$$)+this.foOffset)+","+(Math.round($b$$)+this.foOffset)+")"+$z$$);$y$$.setAttribute("width",Math.round(Math.max(1,$c$$)));$y$$.setAttribute("height",Math.round(Math.max(1,$d$$)));this.root.ownerDocument!=
document&&($a$$=this.createAlternateContent($y$$,$a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$),null!=$a$$&&($y$$.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility"),$c$$=this.createElement("switch"),$c$$.appendChild($y$$),$c$$.appendChild($a$$),$u$$.appendChild($c$$)))}}else this.plainText($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$m$$,$n$$,$p$$,$q$$)}};
mxSvgCanvas2D.prototype.createClip=function $mxSvgCanvas2D$$createClip$($a$$,$b$$,$c$$,$d$$){$a$$=Math.round($a$$);$b$$=Math.round($b$$);$c$$=Math.round($c$$);$d$$=Math.round($d$$);for(var $e$$="mx-clip-"+$a$$+"-"+$b$$+"-"+$c$$+"-"+$d$$,$f$$=0,$g$$=$e$$+"-"+$f$$;null!=document.getElementById($g$$);)$g$$=$e$$+"-"+ ++$f$$;clip=this.createElement("clipPath");clip.setAttribute("id",$g$$);$e$$=this.createElement("rect");$e$$.setAttribute("x",$a$$);$e$$.setAttribute("y",$b$$);$e$$.setAttribute("width",
$c$$);$e$$.setAttribute("height",$d$$);clip.appendChild($e$$);return clip};
mxSvgCanvas2D.prototype.plainText=function $mxSvgCanvas2D$$plainText$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$){$n$$=null!=$n$$?$n$$:0;$k$$=this.state;var $q$$=$k$$.fontSize,$r$$=this.createElement("g"),$t$$=$k$$.transform||"";this.updateFont($r$$);0!=$n$$&&($t$$+="rotate("+$n$$+","+this.format($a$$*$k$$.scale)+","+this.format($b$$*$k$$.scale)+")");null!=$p$$&&$r$$.setAttribute("direction",$p$$);$m$$&&0<$c$$&&0<$d$$&&($p$$=$a$$,$n$$=$b$$,$f$$==mxConstants.ALIGN_CENTER?$p$$-=$c$$/
2:$f$$==mxConstants.ALIGN_RIGHT&&($p$$-=$c$$),"fill"!=$l$$&&($g$$==mxConstants.ALIGN_MIDDLE?$n$$-=$d$$/2:$g$$==mxConstants.ALIGN_BOTTOM&&($n$$-=$d$$)),$n$$=this.createClip($p$$*$k$$.scale-2,$n$$*$k$$.scale-2,$c$$*$k$$.scale+4,$d$$*$k$$.scale+4),null!=this.defs?this.defs.appendChild($n$$):this.root.appendChild($n$$),mxClient.IS_CHROME_APP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document?$r$$.setAttribute("clip-path","url(#"+$n$$.getAttribute("id")+")"):($p$$=this.getBaseUrl().replace(/([\(\)])/g,
"\\$1"),$r$$.setAttribute("clip-path","url("+$p$$+"#"+$n$$.getAttribute("id")+")")));$n$$=$f$$==mxConstants.ALIGN_RIGHT?"end":$f$$==mxConstants.ALIGN_CENTER?"middle":"start";"start"!=$n$$&&$r$$.setAttribute("text-anchor",$n$$);this.styleEnabled&&$q$$==mxConstants.DEFAULT_FONTSIZE||$r$$.setAttribute("font-size",$q$$*$k$$.scale+"px");0<$t$$.length&&$r$$.setAttribute("transform",$t$$);1>$k$$.alpha&&$r$$.setAttribute("opacity",$k$$.alpha);$t$$=$e$$.split("\n");$p$$=Math.round($q$$*mxConstants.LINE_HEIGHT);
var $u$$=$q$$+($t$$.length-1)*$p$$;$n$$=$b$$+$q$$-1;$g$$==mxConstants.ALIGN_MIDDLE?"fill"==$l$$?$n$$-=$d$$/2:($m$$=(this.matchHtmlAlignment&&$m$$&&0<$d$$?Math.min($u$$,$d$$):$u$$)/2,$n$$-=$m$$+1):$g$$==mxConstants.ALIGN_BOTTOM&&("fill"==$l$$?$n$$-=$d$$:($m$$=this.matchHtmlAlignment&&$m$$&&0<$d$$?Math.min($u$$,$d$$):$u$$,$n$$-=$m$$+2));for($m$$=0;$m$$<$t$$.length;$m$$++)0<$t$$[$m$$].length&&0<mxUtils.trim($t$$[$m$$]).length&&($q$$=this.createElement("text"),$q$$.setAttribute("x",this.format($a$$*$k$$.scale)+
this.textOffset),$q$$.setAttribute("y",this.format($n$$*$k$$.scale)+this.textOffset),mxUtils.write($q$$,$t$$[$m$$]),$r$$.appendChild($q$$)),$n$$+=$p$$;this.root.appendChild($r$$);this.addTextBackground($r$$,$e$$,$a$$,$b$$,$c$$,"fill"==$l$$?$d$$:$u$$,$f$$,$g$$,$l$$)};
mxSvgCanvas2D.prototype.updateFont=function $mxSvgCanvas2D$$updateFont$($a$$){var $b$$=this.state;$a$$.setAttribute("fill",$b$$.fontColor);this.styleEnabled&&$b$$.fontFamily==mxConstants.DEFAULT_FONTFAMILY||$a$$.setAttribute("font-family",$b$$.fontFamily);($b$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&$a$$.setAttribute("font-weight","bold");($b$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&$a$$.setAttribute("font-style","italic");($b$$.fontStyle&mxConstants.FONT_UNDERLINE)==
mxConstants.FONT_UNDERLINE&&$a$$.setAttribute("text-decoration","underline")};
mxSvgCanvas2D.prototype.addTextBackground=function $mxSvgCanvas2D$$addTextBackground$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){var $m$$=this.state;if(null!=$m$$.fontBackgroundColor||null!=$m$$.fontBorderColor){var $n$$=null;if("fill"==$l$$||"width"==$l$$)$g$$==mxConstants.ALIGN_CENTER?$c$$-=$e$$/2:$g$$==mxConstants.ALIGN_RIGHT&&($c$$-=$e$$),$k$$==mxConstants.ALIGN_MIDDLE?$d$$-=$f$$/2:$k$$==mxConstants.ALIGN_BOTTOM&&($d$$-=$f$$),$n$$=new mxRectangle(($c$$+1)*$m$$.scale,$d$$*$m$$.scale,($e$$-2)*
$m$$.scale,($f$$+2)*$m$$.scale);else if(null!=$a$$.getBBox&&this.root.ownerDocument==document)try{var $n$$=$a$$.getBBox(),$p$$=mxClient.IS_IE&&mxClient.IS_SVG,$n$$=new mxRectangle($n$$.x,$n$$.y+($p$$?0:1),$n$$.width,$n$$.height+($p$$?1:0))}catch($q$$){}else $n$$=document.createElement("div"),$n$$.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?$m$$.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT,$n$$.style.fontSize=$m$$.fontSize+"px",$n$$.style.fontFamily=$m$$.fontFamily,$n$$.style.whiteSpace=
"nowrap",$n$$.style.position="absolute",$n$$.style.visibility="hidden",$n$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",$n$$.style.zoom="1",($m$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($n$$.style.fontWeight="bold"),($m$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&($n$$.style.fontStyle="italic"),$b$$=mxUtils.htmlEntities($b$$,!1),$n$$.innerHTML=$b$$.replace(/\n/g,"<br/>"),document.body.appendChild($n$$),$e$$=$n$$.offsetWidth,$f$$=$n$$.offsetHeight,
$n$$.parentNode.removeChild($n$$),$g$$==mxConstants.ALIGN_CENTER?$c$$-=$e$$/2:$g$$==mxConstants.ALIGN_RIGHT&&($c$$-=$e$$),$k$$==mxConstants.ALIGN_MIDDLE?$d$$-=$f$$/2:$k$$==mxConstants.ALIGN_BOTTOM&&($d$$-=$f$$),$n$$=new mxRectangle(($c$$+1)*$m$$.scale,($d$$+2)*$m$$.scale,$e$$*$m$$.scale,($f$$+1)*$m$$.scale);null!=$n$$&&($b$$=this.createElement("rect"),$b$$.setAttribute("fill",$m$$.fontBackgroundColor||"none"),$b$$.setAttribute("stroke",$m$$.fontBorderColor||"none"),$b$$.setAttribute("x",Math.floor($n$$.x-
1)),$b$$.setAttribute("y",Math.floor($n$$.y-1)),$b$$.setAttribute("width",Math.ceil($n$$.width+2)),$b$$.setAttribute("height",Math.ceil($n$$.height)),$m$$=null!=$m$$.fontBorderColor?Math.max(1,this.format($m$$.scale)):0,$b$$.setAttribute("stroke-width",$m$$),this.root.ownerDocument==document&&1==mxUtils.mod($m$$,2)&&$b$$.setAttribute("transform","translate(0.5, 0.5)"),$a$$.insertBefore($b$$,$a$$.firstChild))}};mxSvgCanvas2D.prototype.stroke=function $mxSvgCanvas2D$$stroke$(){this.addNode(!1,!0)};
mxSvgCanvas2D.prototype.fill=function $mxSvgCanvas2D$$fill$(){this.addNode(!0,!1)};mxSvgCanvas2D.prototype.fillAndStroke=function $mxSvgCanvas2D$$fillAndStroke$(){this.addNode(!0,!0)};var mxVmlCanvas2D=function $mxVmlCanvas2D$($a$$){mxAbstractCanvas2D.call(this);this.root=$a$$};mxUtils.extend(mxVmlCanvas2D,mxAbstractCanvas2D);mxVmlCanvas2D.prototype.node=null;mxVmlCanvas2D.prototype.textEnabled=!0;mxVmlCanvas2D.prototype.moveOp="m";mxVmlCanvas2D.prototype.lineOp="l";
mxVmlCanvas2D.prototype.curveOp="c";mxVmlCanvas2D.prototype.closeOp="x";mxVmlCanvas2D.prototype.rotatedHtmlBackground="";mxVmlCanvas2D.prototype.vmlScale=1;mxVmlCanvas2D.prototype.createElement=function $mxVmlCanvas2D$$createElement$($a$$){return document.createElement($a$$)};mxVmlCanvas2D.prototype.createVmlElement=function $mxVmlCanvas2D$$createVmlElement$($a$$){return this.createElement(mxClient.VML_PREFIX+":"+$a$$)};
mxVmlCanvas2D.prototype.addNode=function $mxVmlCanvas2D$$addNode$($a$$,$b$$){var $c$$=this.node,$d$$=this.state;if(null!=$c$$){if("shape"==$c$$.nodeName)if(null!=this.path&&0<this.path.length)$c$$.path=this.path.join(" ")+" e",$c$$.style.width=this.root.style.width,$c$$.style.height=this.root.style.height,$c$$.coordsize=parseInt($c$$.style.width)+" "+parseInt($c$$.style.height);else return;$c$$.strokeweight=this.format(Math.max(1,$d$$.strokeWidth*$d$$.scale/this.vmlScale))+"px";$d$$.shadow&&this.root.appendChild(this.createShadow($c$$,
$a$$&&null!=$d$$.fillColor,$b$$&&null!=$d$$.strokeColor));$b$$&&null!=$d$$.strokeColor?($c$$.stroked="true",$c$$.strokecolor=$d$$.strokeColor):$c$$.stroked="false";$c$$.appendChild(this.createStroke());$a$$&&null!=$d$$.fillColor?$c$$.appendChild(this.createFill()):!this.pointerEvents||"shape"==$c$$.nodeName&&this.path[this.path.length-1]!=this.closeOp?$c$$.filled="false":$c$$.appendChild(this.createTransparentFill());this.root.appendChild($c$$)}};
mxVmlCanvas2D.prototype.createTransparentFill=function $mxVmlCanvas2D$$createTransparentFill$(){var $a$$=this.createVmlElement("fill");$a$$.src=mxClient.imageBasePath+"/transparent.gif";$a$$.type="tile";return $a$$};
mxVmlCanvas2D.prototype.createFill=function $mxVmlCanvas2D$$createFill$(){var $a$$=this.state,$b$$=this.createVmlElement("fill");$b$$.color=$a$$.fillColor;if(null!=$a$$.gradientColor){$b$$.type="gradient";$b$$.method="none";$b$$.color2=$a$$.gradientColor;var $c$$=180-$a$$.rotation,$c$$=$a$$.gradientDirection==mxConstants.DIRECTION_WEST?$c$$-(90+("x"==this.root.style.flip?180:0)):$a$$.gradientDirection==mxConstants.DIRECTION_EAST?$c$$+(90+("x"==this.root.style.flip?180:0)):$a$$.gradientDirection==
mxConstants.DIRECTION_NORTH?$c$$-(180+("y"==this.root.style.flip?-180:0)):$c$$+("y"==this.root.style.flip?-180:0);if("x"==this.root.style.flip||"y"==this.root.style.flip)$c$$*=-1;$b$$.angle=mxUtils.mod($c$$,360);$b$$.opacity=$a$$.alpha*$a$$.gradientFillAlpha*100+"%";$b$$.setAttribute(mxClient.OFFICE_PREFIX+":opacity2",$a$$.alpha*$a$$.gradientAlpha*100+"%")}else if(1>$a$$.alpha||1>$a$$.fillAlpha)$b$$.opacity=$a$$.alpha*$a$$.fillAlpha*100+"%";return $b$$};
mxVmlCanvas2D.prototype.createStroke=function $mxVmlCanvas2D$$createStroke$(){var $a$$=this.state,$b$$=this.createVmlElement("stroke");$b$$.endcap=$a$$.lineCap||"flat";$b$$.joinstyle=$a$$.lineJoin||"miter";$b$$.miterlimit=$a$$.miterLimit||"10";if(1>$a$$.alpha||1>$a$$.strokeAlpha)$b$$.opacity=$a$$.alpha*$a$$.strokeAlpha*100+"%";$a$$.dashed&&($b$$.dashstyle=this.getVmlDashStyle());return $b$$};
mxVmlCanvas2D.prototype.getVmlDashStyle=function $mxVmlCanvas2D$$getVmlDashStyle$(){var $a$$="dash";if("string"===typeof this.state.dashPattern){var $b$$=this.state.dashPattern.split(" ");0<$b$$.length&&1==$b$$[0]&&($a$$="0 2")}return $a$$};
mxVmlCanvas2D.prototype.createShadow=function $mxVmlCanvas2D$$createShadow$($a$$,$b$$,$c$$){var $d$$=this.state,$e$$=Math.PI/180*-$d$$.rotation,$f$$=Math.cos($e$$),$e$$=Math.sin($e$$),$g$$=$d$$.shadowDx*$d$$.scale,$k$$=$d$$.shadowDy*$d$$.scale;"x"==this.root.style.flip?$g$$*=-1:"y"==this.root.style.flip&&($k$$*=-1);var $l$$=$a$$.cloneNode(!0);$l$$.style.marginLeft=Math.round($g$$*$f$$-$k$$*$e$$)+"px";$l$$.style.marginTop=Math.round($g$$*$e$$+$k$$*$f$$)+"px";8==document.documentMode&&($l$$.strokeweight=
$a$$.strokeweight,"shape"==$a$$.nodeName&&($l$$.path=this.path.join(" ")+" e",$l$$.style.width=this.root.style.width,$l$$.style.height=this.root.style.height,$l$$.coordsize=parseInt($a$$.style.width)+" "+parseInt($a$$.style.height)));$c$$?($l$$.strokecolor=$d$$.shadowColor,$l$$.appendChild(this.createShadowStroke())):$l$$.stroked="false";$b$$?$l$$.appendChild(this.createShadowFill()):$l$$.filled="false";return $l$$};
mxVmlCanvas2D.prototype.createShadowFill=function $mxVmlCanvas2D$$createShadowFill$(){var $a$$=this.createVmlElement("fill");$a$$.color=this.state.shadowColor;$a$$.opacity=this.state.alpha*this.state.shadowAlpha*100+"%";return $a$$};mxVmlCanvas2D.prototype.createShadowStroke=function $mxVmlCanvas2D$$createShadowStroke$(){var $a$$=this.createStroke();$a$$.opacity=this.state.alpha*this.state.shadowAlpha*100+"%";return $a$$};
mxVmlCanvas2D.prototype.rotate=function $mxVmlCanvas2D$$rotate$($a$$,$b$$,$c$$,$d$$,$e$$){$b$$&&$c$$?$a$$+=180:$b$$?this.root.style.flip="x":$c$$&&(this.root.style.flip="y");if($b$$?!$c$$:$c$$)$a$$*=-1;this.root.style.rotation=$a$$;this.state.rotation+=$a$$;this.state.rotationCx=$d$$;this.state.rotationCy=$e$$};mxVmlCanvas2D.prototype.begin=function $mxVmlCanvas2D$$begin$(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments);this.node=this.createVmlElement("shape");this.node.style.position="absolute"};
mxVmlCanvas2D.prototype.quadTo=function $mxVmlCanvas2D$$quadTo$($a$$,$b$$,$c$$,$d$$){var $e$$=this.state,$f$$=(this.lastX+$e$$.dx)*$e$$.scale,$g$$=(this.lastY+$e$$.dy)*$e$$.scale;$a$$=($a$$+$e$$.dx)*$e$$.scale;$b$$=($b$$+$e$$.dy)*$e$$.scale;$c$$=($c$$+$e$$.dx)*$e$$.scale;$d$$=($d$$+$e$$.dy)*$e$$.scale;var $g$$=$g$$+2/3*($b$$-$g$$),$k$$=$c$$+2/3*($a$$-$c$$);$b$$=$d$$+2/3*($b$$-$d$$);this.path.push("c "+this.format($f$$+2/3*($a$$-$f$$))+" "+this.format($g$$)+" "+this.format($k$$)+" "+this.format($b$$)+
" "+this.format($c$$)+" "+this.format($d$$));this.lastX=$c$$/$e$$.scale-$e$$.dx;this.lastY=$d$$/$e$$.scale-$e$$.dy};
mxVmlCanvas2D.prototype.createRect=function $mxVmlCanvas2D$$createRect$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.state;$a$$=this.createVmlElement($a$$);$a$$.style.position="absolute";$a$$.style.left=this.format(($b$$+$f$$.dx)*$f$$.scale)+"px";$a$$.style.top=this.format(($c$$+$f$$.dy)*$f$$.scale)+"px";$a$$.style.width=this.format($d$$*$f$$.scale)+"px";$a$$.style.height=this.format($e$$*$f$$.scale)+"px";return $a$$};
mxVmlCanvas2D.prototype.rect=function $mxVmlCanvas2D$$rect$($a$$,$b$$,$c$$,$d$$){this.node=this.createRect("rect",$a$$,$b$$,$c$$,$d$$)};mxVmlCanvas2D.prototype.roundrect=function $mxVmlCanvas2D$$roundrect$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.node=this.createRect("roundrect",$a$$,$b$$,$c$$,$d$$);this.node.setAttribute("arcsize",Math.max(100*$e$$/$c$$,100*$f$$/$d$$)+"%")};
mxVmlCanvas2D.prototype.ellipse=function $mxVmlCanvas2D$$ellipse$($a$$,$b$$,$c$$,$d$$){this.node=this.createRect("oval",$a$$,$b$$,$c$$,$d$$)};
mxVmlCanvas2D.prototype.image=function $mxVmlCanvas2D$$image$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$f$$?($a$$=this.createRect("rect",$a$$,$b$$,$c$$,$d$$),$a$$.stroked="false",$b$$=this.createVmlElement("fill"),$b$$.aspect=$f$$?"atmost":"ignore",$b$$.rotate="true",$b$$.type="frame",$b$$.src=$e$$,$a$$.appendChild($b$$)):($a$$=this.createRect("image",$a$$,$b$$,$c$$,$d$$),$a$$.src=$e$$);$g$$&&$k$$?$a$$.style.rotation="180":$g$$?$a$$.style.flip="x":$k$$&&($a$$.style.flip="y");if(1>this.state.alpha||
1>this.state.fillAlpha)$a$$.style.filter+="alpha(opacity="+this.state.alpha*this.state.fillAlpha*100+")";this.root.appendChild($a$$)};
mxVmlCanvas2D.prototype.createDiv=function $mxVmlCanvas2D$$createDiv$($a$$,$b$$,$c$$,$d$$){$c$$=this.createElement("div");var $e$$=this.state,$f$$="";null!=$e$$.fontBackgroundColor&&($f$$+="background-color:"+$e$$.fontBackgroundColor+";");null!=$e$$.fontBorderColor&&($f$$+="border:1px solid "+$e$$.fontBorderColor+";");mxUtils.isNode($a$$)?$c$$.appendChild($a$$):"fill"!=$d$$&&"width"!=$d$$?($d$$=this.createElement("div"),$d$$.style.cssText=$f$$,$d$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",
$d$$.style.zoom="1",$d$$.style.textDecoration="inherit",$d$$.innerHTML=$a$$,$c$$.appendChild($d$$)):($c$$.style.cssText=$f$$,$c$$.innerHTML=$a$$);$a$$=$c$$.style;$a$$.fontSize=$e$$.fontSize/this.vmlScale+"px";$a$$.fontFamily=$e$$.fontFamily;$a$$.color=$e$$.fontColor;$a$$.verticalAlign="top";$a$$.textAlign=$b$$||"left";$a$$.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?$e$$.fontSize*mxConstants.LINE_HEIGHT/this.vmlScale+"px":mxConstants.LINE_HEIGHT;($e$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&
($a$$.fontWeight="bold");($e$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&($a$$.fontStyle="italic");($e$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&($a$$.textDecoration="underline");return $c$$};
mxVmlCanvas2D.prototype.text=function $mxVmlCanvas2D$$text$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){if(this.textEnabled&&null!=$e$$){var $r$$=this.state;if("html"==$l$$){null!=$r$$.rotation&&($b$$=this.rotatePoint($a$$,$b$$,$r$$.rotation,$r$$.rotationCx,$r$$.rotationCy),$a$$=$b$$.x,$b$$=$b$$.y);8!=document.documentMode||mxClient.IS_EM?($a$$*=$r$$.scale,$b$$*=$r$$.scale):($a$$+=$r$$.dx,$b$$+=$r$$.dy,"fill"!=$m$$&&$g$$==mxConstants.ALIGN_TOP&&--$b$$);$l$$=8!=document.documentMode||
mxClient.IS_EM?this.createElement("div"):this.createVmlElement("group");$l$$.style.position="absolute";$l$$.style.display="inline";$l$$.style.left=this.format($a$$)+"px";$l$$.style.top=this.format($b$$)+"px";$l$$.style.zoom=$r$$.scale;var $t$$=this.createElement("div");$t$$.style.position="relative";$t$$.style.display="inline";var $u$$=mxUtils.getAlignmentAsPoint($f$$,$g$$),$y$$=$u$$.x,$u$$=$u$$.y;$e$$=this.createDiv($e$$,$f$$,$g$$,$m$$);$f$$=this.createElement("div");null!=$q$$&&$e$$.setAttribute("dir",
$q$$);if($k$$&&0<$c$$){if($n$$||($e$$.style.width=Math.round($c$$)+"px"),$e$$.style.wordWrap=mxConstants.WORD_WRAP,$e$$.style.whiteSpace="normal","break-word"==$e$$.style.wordWrap){var $x$$=$e$$;null!=$x$$.firstChild&&"DIV"==$x$$.firstChild.nodeName&&($x$$.firstChild.style.width="100%")}}else $e$$.style.whiteSpace="nowrap";$p$$=$r$$.rotation+($p$$||0);this.rotateHtml&&0!=$p$$?($f$$.style.display="inline",$f$$.style.zoom="1",$f$$.appendChild($e$$),8!=document.documentMode||mxClient.IS_EM||"DIV"==this.root.nodeName?
$l$$.appendChild($f$$):($t$$.appendChild($f$$),$l$$.appendChild($t$$))):8!=document.documentMode||mxClient.IS_EM?($e$$.style.display="inline",$l$$.appendChild($e$$)):($t$$.appendChild($e$$),$l$$.appendChild($t$$));"DIV"!=this.root.nodeName?($q$$=this.createVmlElement("rect"),$q$$.stroked="false",$q$$.filled="false",$q$$.appendChild($l$$),this.root.appendChild($q$$)):this.root.appendChild($l$$);$n$$?($e$$.style.overflow="hidden",$e$$.style.width=Math.round($c$$)+"px",mxClient.IS_QUIRKS||($e$$.style.maxHeight=
Math.round($d$$)+"px")):"fill"==$m$$?($e$$.style.overflow="hidden",$e$$.style.width=Math.max(0,$c$$)+1+"px",$e$$.style.height=Math.max(0,$d$$)+1+"px"):"width"==$m$$&&($e$$.style.overflow="hidden",$e$$.style.width=Math.max(0,$c$$)+1+"px",$e$$.style.maxHeight=Math.max(0,$d$$)+1+"px");if(this.rotateHtml&&0!=$p$$){$x$$=Math.PI/180*$p$$;$p$$=parseFloat(parseFloat(Math.cos($x$$)).toFixed(8));$q$$=parseFloat(parseFloat(Math.sin(-$x$$)).toFixed(8));$x$$%=2*Math.PI;0>$x$$&&($x$$+=2*Math.PI);$x$$%=Math.PI;
$x$$>Math.PI/2&&($x$$=Math.PI-$x$$);$g$$=Math.cos($x$$);var $A$$=Math.sin($x$$);8!=document.documentMode||mxClient.IS_EM||($e$$.style.display="inline-block",$f$$.style.display="inline-block",$t$$.style.display="inline-block");$e$$.style.visibility="hidden";$e$$.style.position="absolute";document.body.appendChild($e$$);$t$$=$e$$;null!=$t$$.firstChild&&"DIV"==$t$$.firstChild.nodeName&&($t$$=$t$$.firstChild);$x$$=$t$$.offsetWidth+3;$t$$=$t$$.offsetHeight;$n$$?($c$$=Math.min($c$$,$x$$),$t$$=Math.min($t$$,
$d$$)):$c$$=$x$$;$k$$&&($e$$.style.width=$c$$+"px");mxClient.IS_QUIRKS&&($n$$||"width"==$m$$)&&$t$$>$d$$&&($t$$=$d$$,$e$$.style.height=$t$$+"px");$d$$=$t$$;$n$$=($d$$-$d$$*$g$$+$c$$*-$A$$)/2-$q$$*$c$$*($y$$+.5)+$p$$*$d$$*($u$$+.5);$k$$=($c$$-$c$$*$g$$+$d$$*-$A$$)/2+$p$$*$c$$*($y$$+.5)+$q$$*$d$$*($u$$+.5);"group"==$l$$.nodeName&&"DIV"==this.root.nodeName?($m$$=this.createElement("div"),$m$$.style.display="inline-block",$m$$.style.position="absolute",$m$$.style.left=this.format($a$$+($k$$-$c$$/2)*$r$$.scale)+
"px",$m$$.style.top=this.format($b$$+($n$$-$d$$/2)*$r$$.scale)+"px",$l$$.parentNode.appendChild($m$$),$m$$.appendChild($l$$)):($r$$=8!=document.documentMode||mxClient.IS_EM?$r$$.scale:1,$l$$.style.left=this.format($a$$+($k$$-$c$$/2)*$r$$)+"px",$l$$.style.top=this.format($b$$+($n$$-$d$$/2)*$r$$)+"px");$f$$.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+$p$$+", M12="+$q$$+", M21="+-$q$$+", M22="+$p$$+", sizingMethod='auto expand')";$f$$.style.backgroundColor=this.rotatedHtmlBackground;
1>this.state.alpha&&($f$$.style.filter+="alpha(opacity="+100*this.state.alpha+")");$f$$.appendChild($e$$);$e$$.style.position="";$e$$.style.visibility=""}else 8!=document.documentMode||mxClient.IS_EM?($e$$.style.verticalAlign="top",1>this.state.alpha&&($l$$.style.filter="alpha(opacity="+100*this.state.alpha+")"),$r$$=$e$$.parentNode,$e$$.style.visibility="hidden",document.body.appendChild($e$$),$c$$=$e$$.offsetWidth,$t$$=$e$$.offsetHeight,mxClient.IS_QUIRKS&&$n$$&&$t$$>$d$$&&($t$$=$d$$,$e$$.style.height=
$t$$+"px"),$d$$=$t$$,$e$$.style.visibility="",$r$$.appendChild($e$$),$l$$.style.left=this.format($a$$+$c$$*$y$$*this.state.scale)+"px",$l$$.style.top=this.format($b$$+$d$$*$u$$*this.state.scale)+"px"):(1>this.state.alpha&&($e$$.style.filter="alpha(opacity="+100*this.state.alpha+")"),$t$$.style.left=100*$y$$+"%",$t$$.style.top=100*$u$$+"%")}else this.plainText($a$$,$b$$,$c$$,$d$$,mxUtils.htmlEntities($e$$,!1),$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$)}};
mxVmlCanvas2D.prototype.plainText=function $mxVmlCanvas2D$$plainText$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){$k$$=this.state;$a$$=($a$$+$k$$.dx)*$k$$.scale;$b$$=($b$$+$k$$.dy)*$k$$.scale;$c$$=this.createVmlElement("shape");$c$$.style.width="1px";$c$$.style.height="1px";$c$$.stroked="false";$d$$=this.createVmlElement("fill");$d$$.color=$k$$.fontColor;$d$$.opacity=100*$k$$.alpha+"%";$c$$.appendChild($d$$);$d$$=this.createVmlElement("path");$d$$.textpathok="true";$d$$.v="m "+
this.format(0)+" "+this.format(0)+" l "+this.format(1)+" "+this.format(0);$c$$.appendChild($d$$);$d$$=this.createVmlElement("textpath");$d$$.style.cssText="v-text-align:"+$f$$;$d$$.style.align=$f$$;$d$$.style.fontFamily=$k$$.fontFamily;$d$$.string=$e$$;$d$$.on="true";$f$$=$k$$.fontSize*$k$$.scale/this.vmlScale;$d$$.style.fontSize=$f$$+"px";($k$$.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&($d$$.style.fontWeight="bold");($k$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&
($d$$.style.fontStyle="italic");($k$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&($d$$.style.textDecoration="underline");$e$$=$e$$.split("\n");$k$$=$f$$+($e$$.length-1)*$f$$*mxConstants.LINE_HEIGHT;$f$$=$e$$=0;$g$$==mxConstants.ALIGN_BOTTOM?$f$$=-$k$$/2:$g$$!=mxConstants.ALIGN_MIDDLE&&($f$$=$k$$/2);null!=$p$$&&($c$$.style.rotation=$p$$,$g$$=Math.PI/180*$p$$,$e$$=Math.sin($g$$)*$f$$,$f$$*=Math.cos($g$$));$c$$.appendChild($d$$);$c$$.style.left=this.format($a$$-$e$$)+"px";$c$$.style.top=
this.format($b$$+$f$$)+"px";this.root.appendChild($c$$)};mxVmlCanvas2D.prototype.stroke=function $mxVmlCanvas2D$$stroke$(){this.addNode(!1,!0)};mxVmlCanvas2D.prototype.fill=function $mxVmlCanvas2D$$fill$(){this.addNode(!0,!1)};mxVmlCanvas2D.prototype.fillAndStroke=function $mxVmlCanvas2D$$fillAndStroke$(){this.addNode(!0,!0)};function mxGuide($a$$,$b$$){this.graph=$a$$;this.setStates($b$$)}mxGuide.prototype.graph=null;mxGuide.prototype.states=null;mxGuide.prototype.horizontal=!0;
mxGuide.prototype.vertical=!0;mxGuide.prototype.guideX=null;mxGuide.prototype.guideY=null;mxGuide.prototype.rounded=!1;mxGuide.prototype.setStates=function $mxGuide$$setStates$($a$$){this.states=$a$$};mxGuide.prototype.isEnabledForEvent=function $mxGuide$$isEnabledForEvent$($a$$){return!0};mxGuide.prototype.getGuideTolerance=function $mxGuide$$getGuideTolerance$(){return this.graph.gridSize/2};
mxGuide.prototype.createGuideShape=function $mxGuide$$createGuideShape$($a$$){$a$$=new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH);$a$$.isDashed=!0;return $a$$};
mxGuide.prototype.move=function $mxGuide$$move$($a$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$jscomp$0$$){if(null!=this.states&&(this.horizontal||this.vertical)&&null!=$a$$&&null!=$b$jscomp$0$$){var $e$$=function $$e$$$($b$$,$c$$){$b$$+=this.graph.panDy;var $d$$=!1;Math.abs($b$$-$E$$)<$x$$?($l$$=$b$$-$a$$.getCenterY(),$x$$=Math.abs($b$$-$E$$),$d$$=!0):Math.abs($b$$-$B$$)<$x$$?($l$$=$b$$-$a$$.y,$x$$=Math.abs($b$$-$B$$),$d$$=!0):Math.abs($b$$-$C$$)<$x$$&&($l$$=$b$$-$a$$.y-$a$$.height,$x$$=Math.abs($b$$-$C$$),
$d$$=!0);$d$$&&($r$$=$c$$,$t$$=Math.round($b$$-this.graph.panDy),null==this.guideY&&(this.guideY=this.createGuideShape(!1),this.guideY.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.guideY.pointerEvents=!1,this.guideY.init(this.graph.getView().getOverlayPane())));$q$$=$q$$||$d$$},$f$$=function $$f$$$($b$$,$c$$){$b$$+=this.graph.panDx;var $d$$=!1;Math.abs($b$$-$v$$)<$y$$?($k$$=$b$$-$a$$.getCenterX(),$y$$=Math.abs($b$$-$v$$),$d$$=!0):Math.abs($b$$-
$A$$)<$y$$?($k$$=$b$$-$a$$.x,$y$$=Math.abs($b$$-$A$$),$d$$=!0):Math.abs($b$$-$z$$)<$y$$&&($k$$=$b$$-$a$$.x-$a$$.width,$y$$=Math.abs($b$$-$z$$),$d$$=!0);$d$$&&($n$$=$c$$,$p$$=Math.round($b$$-this.graph.panDx),null==this.guideX&&(this.guideX=this.createGuideShape(!0),this.guideX.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.guideX.pointerEvents=!1,this.guideX.init(this.graph.getView().getOverlayPane())));$m$$=$m$$||$d$$},$g$$=this.graph.getView().translate;
$d$jscomp$0$$=this.graph.getView().scale;var $k$$=$b$jscomp$0$$.x,$l$$=$b$jscomp$0$$.y,$m$$=!1,$n$$=null,$p$$=null,$q$$=!1,$r$$=null,$t$$=null,$u$$=this.getGuideTolerance(),$y$$=$u$$,$x$$=$u$$,$u$$=$a$$.clone();$u$$.x+=$b$jscomp$0$$.x;$u$$.y+=$b$jscomp$0$$.y;var $A$$=$u$$.x,$z$$=$u$$.x+$u$$.width,$v$$=$u$$.getCenterX(),$B$$=$u$$.y,$C$$=$u$$.y+$u$$.height,$E$$=$u$$.getCenterY();for($b$jscomp$0$$=0;$b$jscomp$0$$<this.states.length;$b$jscomp$0$$++)$u$$=this.states[$b$jscomp$0$$],null!=$u$$&&(this.horizontal&&
($f$$.call(this,$u$$.getCenterX(),$u$$),$f$$.call(this,$u$$.x,$u$$),$f$$.call(this,$u$$.x+$u$$.width,$u$$)),this.vertical&&($e$$.call(this,$u$$.getCenterY(),$u$$),$e$$.call(this,$u$$.y,$u$$),$e$$.call(this,$u$$.y+$u$$.height,$u$$)));$c$jscomp$0$$&&($m$$||($c$jscomp$0$$=$a$$.x-(this.graph.snap($a$$.x/$d$jscomp$0$$-$g$$.x)+$g$$.x)*$d$jscomp$0$$,$k$$=this.graph.snap($k$$/$d$jscomp$0$$)*$d$jscomp$0$$-$c$jscomp$0$$),$q$$||($c$jscomp$0$$=$a$$.y-(this.graph.snap($a$$.y/$d$jscomp$0$$-$g$$.y)+$g$$.y)*$d$jscomp$0$$,
$l$$=this.graph.snap($l$$/$d$jscomp$0$$)*$d$jscomp$0$$-$c$jscomp$0$$));$d$jscomp$0$$=this.graph.container;$m$$||null==this.guideX?null!=this.guideX&&(null!=$n$$&&null!=$a$$&&(minY=Math.min($a$$.y+$l$$-this.graph.panDy,$n$$.y),maxY=Math.max($a$$.y+$a$$.height+$l$$-this.graph.panDy,$n$$.y+$n$$.height)),this.guideX.points=null!=minY&&null!=maxY?[new mxPoint($p$$,minY),new mxPoint($p$$,maxY)]:[new mxPoint($p$$,-this.graph.panDy),new mxPoint($p$$,$d$jscomp$0$$.scrollHeight-3-this.graph.panDy)],this.guideX.stroke=
this.getGuideColor($n$$,!0),this.guideX.node.style.visibility="visible",this.guideX.redraw()):this.guideX.node.style.visibility="hidden";$q$$||null==this.guideY?null!=this.guideY&&(null!=$r$$&&null!=$a$$&&(minX=Math.min($a$$.x+$k$$-this.graph.panDx,$r$$.x),maxX=Math.max($a$$.x+$a$$.width+$k$$-this.graph.panDx,$r$$.x+$r$$.width)),this.guideY.points=null!=minX&&null!=maxX?[new mxPoint(minX,$t$$),new mxPoint(maxX,$t$$)]:[new mxPoint(-this.graph.panDx,$t$$),new mxPoint($d$jscomp$0$$.scrollWidth-3-this.graph.panDx,
$t$$)],this.guideY.stroke=this.getGuideColor($r$$,!1),this.guideY.node.style.visibility="visible",this.guideY.redraw()):this.guideY.node.style.visibility="hidden";$b$jscomp$0$$=this.getDelta($a$$,$n$$,$k$$,$r$$,$l$$)}return $b$jscomp$0$$};
mxGuide.prototype.getDelta=function $mxGuide$$getDelta$($a$$,$b$$,$c$$,$d$$,$e$$){if(this.rounded||null!=$b$$&&null==$b$$.cell)$c$$=Math.floor($a$$.x+$c$$)-$a$$.x;if(this.rounded||null!=$d$$&&null==$d$$.cell)$e$$=Math.floor($a$$.y+$e$$)-$a$$.y;return new mxPoint($c$$,$e$$)};mxGuide.prototype.getGuideColor=function $mxGuide$$getGuideColor$($a$$,$b$$){return mxConstants.GUIDE_COLOR};mxGuide.prototype.hide=function $mxGuide$$hide$(){this.setVisible(!1)};
mxGuide.prototype.setVisible=function $mxGuide$$setVisible$($a$$){null!=this.guideX&&(this.guideX.node.style.visibility=$a$$?"visible":"hidden");null!=this.guideY&&(this.guideY.node.style.visibility=$a$$?"visible":"hidden")};mxGuide.prototype.destroy=function $mxGuide$$destroy$(){null!=this.guideX&&(this.guideX.destroy(),this.guideX=null);null!=this.guideY&&(this.guideY.destroy(),this.guideY=null)};function mxShape($a$$){this.stencil=$a$$;this.initStyles()}mxShape.prototype.dialect=null;
mxShape.prototype.scale=1;mxShape.prototype.antiAlias=!0;mxShape.prototype.minSvgStrokeWidth=1;mxShape.prototype.bounds=null;mxShape.prototype.points=null;mxShape.prototype.node=null;mxShape.prototype.state=null;mxShape.prototype.style=null;mxShape.prototype.boundingBox=null;mxShape.prototype.stencil=null;mxShape.prototype.svgStrokeTolerance=8;mxShape.prototype.pointerEvents=!0;mxShape.prototype.svgPointerEvents="all";mxShape.prototype.shapePointerEvents=!1;
mxShape.prototype.stencilPointerEvents=!1;mxShape.prototype.vmlScale=1;mxShape.prototype.outline=!1;mxShape.prototype.visible=!0;mxShape.prototype.useSvgBoundingBox=!1;mxShape.prototype.init=function $mxShape$$init$($a$$){null==this.node&&(this.node=this.create($a$$),null!=$a$$&&$a$$.appendChild(this.node))};mxShape.prototype.initStyles=function $mxShape$$initStyles$($a$$){this.strokewidth=1;this.rotation=0;this.strokeOpacity=this.fillOpacity=this.opacity=100;this.flipV=this.flipH=!1};
mxShape.prototype.isParseVml=function $mxShape$$isParseVml$(){return!0};mxShape.prototype.isHtmlAllowed=function $mxShape$$isHtmlAllowed$(){return!1};mxShape.prototype.getSvgScreenOffset=function $mxShape$$getSvgScreenOffset$(){return 1==mxUtils.mod(Math.max(1,Math.round((this.stencil&&"inherit"!=this.stencil.strokewidth?Number(this.stencil.strokewidth):this.strokewidth)*this.scale)),2)?.5:0};
mxShape.prototype.create=function $mxShape$$create$($a$$){return null!=$a$$&&null!=$a$$.ownerSVGElement?this.createSvg($a$$):8==document.documentMode||!mxClient.IS_VML||this.dialect!=mxConstants.DIALECT_VML&&this.isHtmlAllowed()?this.createHtml($a$$):this.createVml($a$$)};mxShape.prototype.createSvg=function $mxShape$$createSvg$(){return document.createElementNS(mxConstants.NS_SVG,"g")};
mxShape.prototype.createVml=function $mxShape$$createVml$(){var $a$$=document.createElement(mxClient.VML_PREFIX+":group");$a$$.style.position="absolute";return $a$$};mxShape.prototype.createHtml=function $mxShape$$createHtml$(){var $a$$=document.createElement("div");$a$$.style.position="absolute";return $a$$};mxShape.prototype.reconfigure=function $mxShape$$reconfigure$(){this.redraw()};
mxShape.prototype.redraw=function $mxShape$$redraw$(){this.updateBoundsFromPoints();this.visible&&this.checkBounds()?(this.node.style.visibility="visible",this.clear(),"DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&mxClient.IS_VML?this.redrawShape():this.redrawHtmlShape(),this.updateBoundingBox()):(this.node.style.visibility="hidden",this.boundingBox=null)};
mxShape.prototype.clear=function $mxShape$$clear$(){if(null!=this.node.ownerSVGElement)for(;null!=this.node.lastChild;)this.node.removeChild(this.node.lastChild);else this.node.style.cssText="position:absolute;"+(null!=this.cursor?"cursor:"+this.cursor+";":""),this.node.innerHTML=""};
mxShape.prototype.updateBoundsFromPoints=function $mxShape$$updateBoundsFromPoints$(){var $a$$=this.points;if(null!=$a$$&&0<$a$$.length&&null!=$a$$[0]){this.bounds=new mxRectangle(Number($a$$[0].x),Number($a$$[0].y),1,1);for(var $b$$=1;$b$$<this.points.length;$b$$++)null!=$a$$[$b$$]&&this.bounds.add(new mxRectangle(Number($a$$[$b$$].x),Number($a$$[$b$$].y),1,1))}};
mxShape.prototype.getLabelBounds=function $mxShape$$getLabelBounds$($a$$){var $b$$=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST),$c$$=$a$$;$b$$!=mxConstants.DIRECTION_SOUTH&&$b$$!=mxConstants.DIRECTION_NORTH&&null!=this.state&&null!=this.state.text&&this.state.text.isPaintBoundsInverted()&&($c$$=$c$$.clone(),$b$$=$c$$.width,$c$$.width=$c$$.height,$c$$.height=$b$$);$c$$=this.getLabelMargins($c$$);if(null!=$c$$){var $d$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,
!1),$e$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,!1);null!=this.state&&null!=this.state.text&&this.state.text.isPaintBoundsInverted()&&($b$$=$c$$.x,$c$$.x=$c$$.height,$c$$.height=$c$$.width,$c$$.width=$c$$.y,$c$$.y=$b$$,$b$$=$d$$,$d$$=$e$$,$e$$=$b$$);return mxUtils.getDirectedBounds($a$$,$c$$,this.style,$d$$,$e$$)}return $a$$};mxShape.prototype.getLabelMargins=function $mxShape$$getLabelMargins$($a$$){return null};
mxShape.prototype.checkBounds=function $mxShape$$checkBounds$(){return!isNaN(this.scale)&&isFinite(this.scale)&&0<this.scale&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)&&0<this.bounds.width&&0<this.bounds.height};
mxShape.prototype.createVmlGroup=function $mxShape$$createVmlGroup$(){var $a$$=document.createElement(mxClient.VML_PREFIX+":group");$a$$.style.position="absolute";$a$$.style.width=this.node.style.width;$a$$.style.height=this.node.style.height;return $a$$};
mxShape.prototype.redrawShape=function $mxShape$$redrawShape$(){var $a$$=this.createCanvas();null!=$a$$&&($a$$.pointerEvents=this.pointerEvents,this.paint($a$$),this.node!=$a$$.root&&this.node.insertAdjacentHTML("beforeend",$a$$.root.outerHTML),"DIV"==this.node.nodeName&&8==document.documentMode&&(this.node.style.filter="",mxUtils.addTransparentBackgroundFilter(this.node)),this.destroyCanvas($a$$))};
mxShape.prototype.createCanvas=function $mxShape$$createCanvas$(){var $a$$=null;null!=this.node.ownerSVGElement?$a$$=this.createSvgCanvas():mxClient.IS_VML&&(this.updateVmlContainer(),$a$$=this.createVmlCanvas());null!=$a$$&&this.outline&&($a$$.setStrokeWidth(this.strokewidth),$a$$.setStrokeColor(this.stroke),null!=this.isDashed&&$a$$.setDashed(this.isDashed),$a$$.setStrokeWidth=function $$a$$$setStrokeWidth$(){},$a$$.setStrokeColor=function $$a$$$setStrokeColor$(){},$a$$.setFillColor=function $$a$$$setFillColor$(){},
$a$$.setGradient=function $$a$$$setGradient$(){},$a$$.setDashed=function $$a$$$setDashed$(){},$a$$.text=function $$a$$$text$(){});return $a$$};
mxShape.prototype.createSvgCanvas=function $mxShape$$createSvgCanvas$(){var $a$jscomp$0$$=new mxSvgCanvas2D(this.node,!1);$a$jscomp$0$$.strokeTolerance=this.pointerEvents?this.svgStrokeTolerance:0;$a$jscomp$0$$.pointerEventsValue=this.svgPointerEvents;$a$jscomp$0$$.blockImagePointerEvents=mxClient.IS_FF;var $b$$=this.getSvgScreenOffset();0!=$b$$?this.node.setAttribute("transform","translate("+$b$$+","+$b$$+")"):this.node.removeAttribute("transform");$a$jscomp$0$$.minStrokeWidth=this.minSvgStrokeWidth;
this.antiAlias||($a$jscomp$0$$.format=function $$a$jscomp$0$$$format$($a$$){return Math.round(parseFloat($a$$))});return $a$jscomp$0$$};
mxShape.prototype.createVmlCanvas=function $mxShape$$createVmlCanvas$(){var $a$$=8==document.documentMode&&this.isParseVml()?this.createVmlGroup():this.node,$b$$=new mxVmlCanvas2D($a$$,!1);""!=$a$$.tagUrn&&($a$$.coordsize=Math.max(1,Math.round(this.bounds.width))*this.vmlScale+","+Math.max(1,Math.round(this.bounds.height))*this.vmlScale,$b$$.scale(this.vmlScale),$b$$.vmlScale=this.vmlScale);$a$$=this.scale;$b$$.translate(-Math.round(this.bounds.x/$a$$),-Math.round(this.bounds.y/$a$$));return $b$$};
mxShape.prototype.updateVmlContainer=function $mxShape$$updateVmlContainer$(){this.node.style.left=Math.round(this.bounds.x)+"px";this.node.style.top=Math.round(this.bounds.y)+"px";var $a$$=Math.max(1,Math.round(this.bounds.height));this.node.style.width=Math.max(1,Math.round(this.bounds.width))+"px";this.node.style.height=$a$$+"px";this.node.style.overflow="visible"};
mxShape.prototype.redrawHtmlShape=function $mxShape$$redrawHtmlShape$(){this.updateHtmlBounds(this.node);this.updateHtmlFilters(this.node);this.updateHtmlColors(this.node)};
mxShape.prototype.updateHtmlFilters=function $mxShape$$updateHtmlFilters$($a$$){var $b$$="";100>this.opacity&&($b$$+="alpha(opacity="+this.opacity+")");this.isShadow&&($b$$+="progid:DXImageTransform.Microsoft.dropShadow (OffX='"+Math.round(mxConstants.SHADOW_OFFSET_X*this.scale)+"', OffY='"+Math.round(mxConstants.SHADOW_OFFSET_Y*this.scale)+"', Color='"+mxConstants.VML_SHADOWCOLOR+"')");if(null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE){var $c$$=this.fill,
$d$$=this.gradient,$e$$="0",$f$$={east:0,south:1,west:2,north:3},$g$$=null!=this.direction?$f$$[this.direction]:0;null!=this.gradientDirection&&($g$$=mxUtils.mod($g$$+$f$$[this.gradientDirection]-1,4));1==$g$$?($e$$="1",$f$$=$c$$,$c$$=$d$$,$d$$=$f$$):2==$g$$?($f$$=$c$$,$c$$=$d$$,$d$$=$f$$):3==$g$$&&($e$$="1");$b$$+="progid:DXImageTransform.Microsoft.gradient(startColorStr='"+$c$$+"', endColorStr='"+$d$$+"', gradientType='"+$e$$+"')"}$a$$.style.filter=$b$$};
mxShape.prototype.updateHtmlColors=function $mxShape$$updateHtmlColors$($a$$){var $b$$=this.stroke;null!=$b$$&&$b$$!=mxConstants.NONE?($a$$.style.borderColor=$b$$,this.isDashed?$a$$.style.borderStyle="dashed":0<this.strokewidth&&($a$$.style.borderStyle="solid"),$a$$.style.borderWidth=Math.max(1,Math.ceil(this.strokewidth*this.scale))+"px"):$a$$.style.borderWidth="0px";$b$$=this.outline?null:this.fill;null!=$b$$&&$b$$!=mxConstants.NONE?($a$$.style.backgroundColor=$b$$,$a$$.style.backgroundImage="none"):
this.pointerEvents?$a$$.style.backgroundColor="transparent":8==document.documentMode?mxUtils.addTransparentBackgroundFilter($a$$):this.setTransparentBackgroundImage($a$$)};
mxShape.prototype.updateHtmlBounds=function $mxShape$$updateHtmlBounds$($a$$){var $b$$=9<=document.documentMode?0:Math.ceil(this.strokewidth*this.scale);$a$$.style.borderWidth=Math.max(1,$b$$)+"px";$a$$.style.overflow="hidden";$a$$.style.left=Math.round(this.bounds.x-$b$$/2)+"px";$a$$.style.top=Math.round(this.bounds.y-$b$$/2)+"px";"CSS1Compat"==document.compatMode&&($b$$=-$b$$);$a$$.style.width=Math.round(Math.max(0,this.bounds.width+$b$$))+"px";$a$$.style.height=Math.round(Math.max(0,this.bounds.height+
$b$$))+"px"};mxShape.prototype.destroyCanvas=function $mxShape$$destroyCanvas$($a$$){if($a$$ instanceof mxSvgCanvas2D){for(var $b$$ in $a$$.gradients){var $c$$=$a$$.gradients[$b$$];null!=$c$$&&($c$$.mxRefCount=($c$$.mxRefCount||0)+1)}this.releaseSvgGradients(this.oldGradients);this.oldGradients=$a$$.gradients}};
mxShape.prototype.paint=function $mxShape$$paint$($a$$){var $b$$=!1;if(null!=$a$$&&this.outline){var $c$$=$a$$.stroke;$a$$.stroke=function $$a$$$stroke$(){$b$$=!0;$c$$.apply(this,arguments)};var $d$$=$a$$.fillAndStroke;$a$$.fillAndStroke=function $$a$$$fillAndStroke$(){$b$$=!0;$d$$.apply(this,arguments)}}var $e$$=this.scale,$f$$=this.bounds.x/$e$$,$g$$=this.bounds.y/$e$$,$k$$=this.bounds.width/$e$$,$l$$=this.bounds.height/$e$$;if(this.isPaintBoundsInverted())var $m$$=($k$$-$l$$)/2,$f$$=$f$$+$m$$,
$g$$=$g$$-$m$$,$m$$=$k$$,$k$$=$l$$,$l$$=$m$$;this.updateTransform($a$$,$f$$,$g$$,$k$$,$l$$);this.configureCanvas($a$$,$f$$,$g$$,$k$$,$l$$);$m$$=null;if(null==this.stencil&&null==this.points&&this.shapePointerEvents||null!=this.stencil&&this.stencilPointerEvents){var $n$$=this.createBoundingBox();this.dialect==mxConstants.DIALECT_SVG?($m$$=this.createTransparentSvgRectangle($n$$.x,$n$$.y,$n$$.width,$n$$.height),this.node.appendChild($m$$)):($n$$=$a$$.createRect("rect",$n$$.x/$e$$,$n$$.y/$e$$,$n$$.width/
$e$$,$n$$.height/$e$$),$n$$.appendChild($a$$.createTransparentFill()),$n$$.stroked="false",$a$$.root.appendChild($n$$))}if(null!=this.stencil)this.stencil.drawShape($a$$,this,$f$$,$g$$,$k$$,$l$$);else if($a$$.setStrokeWidth(this.strokewidth),null!=this.points){for(var $n$$=[],$p$$=0;$p$$<this.points.length;$p$$++)null!=this.points[$p$$]&&$n$$.push(new mxPoint(this.points[$p$$].x/$e$$,this.points[$p$$].y/$e$$));this.paintEdgeShape($a$$,$n$$)}else this.paintVertexShape($a$$,$f$$,$g$$,$k$$,$l$$);null!=
$m$$&&null!=$a$$.state&&null!=$a$$.state.transform&&$m$$.setAttribute("transform",$a$$.state.transform);null!=$a$$&&this.outline&&!$b$$&&($a$$.rect($f$$,$g$$,$k$$,$l$$),$a$$.stroke())};
mxShape.prototype.configureCanvas=function $mxShape$$configureCanvas$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=null;null!=this.style&&($f$$=this.style.dashPattern);$a$$.setAlpha(this.opacity/100);$a$$.setFillAlpha(this.fillOpacity/100);$a$$.setStrokeAlpha(this.strokeOpacity/100);null!=this.isShadow&&$a$$.setShadow(this.isShadow);null!=this.isDashed&&$a$$.setDashed(this.isDashed,null!=this.style?1==mxUtils.getValue(this.style,mxConstants.STYLE_FIX_DASH,!1):!1);null!=$f$$&&$a$$.setDashPattern($f$$);null!=
this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE?($b$$=this.getGradientBounds($a$$,$b$$,$c$$,$d$$,$e$$),$a$$.setGradient(this.fill,this.gradient,$b$$.x,$b$$.y,$b$$.width,$b$$.height,this.gradientDirection)):$a$$.setFillColor(this.fill);$a$$.setStrokeColor(this.stroke)};mxShape.prototype.getGradientBounds=function $mxShape$$getGradientBounds$($a$$,$b$$,$c$$,$d$$,$e$$){return new mxRectangle($b$$,$c$$,$d$$,$e$$)};
mxShape.prototype.updateTransform=function $mxShape$$updateTransform$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.scale(this.scale);$a$$.rotate(this.getShapeRotation(),this.flipH,this.flipV,$b$$+$d$$/2,$c$$+$e$$/2)};
mxShape.prototype.paintVertexShape=function $mxShape$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){this.paintBackground($a$$,$b$$,$c$$,$d$$,$e$$);this.outline&&null!=this.style&&0!=mxUtils.getValue(this.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0)||($a$$.setShadow(!1),this.paintForeground($a$$,$b$$,$c$$,$d$$,$e$$))};mxShape.prototype.paintBackground=function $mxShape$$paintBackground$($a$$,$b$$,$c$$,$d$$,$e$$){};
mxShape.prototype.paintForeground=function $mxShape$$paintForeground$($a$$,$b$$,$c$$,$d$$,$e$$){};mxShape.prototype.paintEdgeShape=function $mxShape$$paintEdgeShape$($a$$,$b$$){};
mxShape.prototype.getArcSize=function $mxShape$$getArcSize$($a$$,$b$$){var $c$$;"1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)?$c$$=Math.min($a$$/2,Math.min($b$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2)):($c$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$c$$=Math.min($a$$*$c$$,$b$$*$c$$));return $c$$};
mxShape.prototype.paintGlassEffect=function $mxShape$$paintGlassEffect$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=Math.ceil(this.strokewidth/2);$a$$.setGradient("#ffffff","#ffffff",$b$$,$c$$,$d$$,.6*$e$$,"south",.9,.1);$a$$.begin();$f$$+=2*$g$$;this.isRounded?($a$$.moveTo($b$$-$g$$+$f$$,$c$$-$g$$),$a$$.quadTo($b$$-$g$$,$c$$-$g$$,$b$$-$g$$,$c$$-$g$$+$f$$),$a$$.lineTo($b$$-$g$$,$c$$+.4*$e$$),$a$$.quadTo($b$$+.5*$d$$,$c$$+.7*$e$$,$b$$+$d$$+$g$$,$c$$+.4*$e$$),$a$$.lineTo($b$$+$d$$+$g$$,$c$$-$g$$+$f$$),
$a$$.quadTo($b$$+$d$$+$g$$,$c$$-$g$$,$b$$+$d$$+$g$$-$f$$,$c$$-$g$$)):($a$$.moveTo($b$$-$g$$,$c$$-$g$$),$a$$.lineTo($b$$-$g$$,$c$$+.4*$e$$),$a$$.quadTo($b$$+.5*$d$$,$c$$+.7*$e$$,$b$$+$d$$+$g$$,$c$$+.4*$e$$),$a$$.lineTo($b$$+$d$$+$g$$,$c$$-$g$$));$a$$.close();$a$$.fill()};
mxShape.prototype.addPoints=function $mxShape$$addPoints$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){if(null!=$b$$&&0<$b$$.length){$g$$=null!=$g$$?$g$$:!0;var $k$$=$b$$[$b$$.length-1];if($e$$&&$c$$){$b$$=$b$$.slice();var $l$$=$b$$[0],$l$$=new mxPoint($k$$.x+($l$$.x-$k$$.x)/2,$k$$.y+($l$$.y-$k$$.y)/2);$b$$.splice(0,0,$l$$)}var $m$$=$b$$[0],$l$$=1;for($g$$?$a$$.moveTo($m$$.x,$m$$.y):$a$$.lineTo($m$$.x,$m$$.y);$l$$<($e$$?$b$$.length:$b$$.length-1);){$g$$=$b$$[mxUtils.mod($l$$,$b$$.length)];var $n$$=$m$$.x-
$g$$.x,$m$$=$m$$.y-$g$$.y;if($c$$&&(0!=$n$$||0!=$m$$)&&(null==$f$$||0>mxUtils.indexOf($f$$,$l$$-1))){var $p$$=Math.sqrt($n$$*$n$$+$m$$*$m$$);$a$$.lineTo($g$$.x+$n$$*Math.min($d$$,$p$$/2)/$p$$,$g$$.y+$m$$*Math.min($d$$,$p$$/2)/$p$$);for($m$$=$b$$[mxUtils.mod($l$$+1,$b$$.length)];$l$$<$b$$.length-2&&0==Math.round($m$$.x-$g$$.x)&&0==Math.round($m$$.y-$g$$.y);)$m$$=$b$$[mxUtils.mod($l$$+2,$b$$.length)],$l$$++;$n$$=$m$$.x-$g$$.x;$m$$=$m$$.y-$g$$.y;$p$$=Math.max(1,Math.sqrt($n$$*$n$$+$m$$*$m$$));$n$$=$g$$.x+
$n$$*Math.min($d$$,$p$$/2)/$p$$;$m$$=$g$$.y+$m$$*Math.min($d$$,$p$$/2)/$p$$;$a$$.quadTo($g$$.x,$g$$.y,$n$$,$m$$);$g$$=new mxPoint($n$$,$m$$)}else $a$$.lineTo($g$$.x,$g$$.y);$m$$=$g$$;$l$$++}$e$$?$a$$.close():$a$$.lineTo($k$$.x,$k$$.y)}};
mxShape.prototype.resetStyles=function $mxShape$$resetStyles$(){this.initStyles();this.spacing=0;delete this.fill;delete this.gradient;delete this.gradientDirection;delete this.stroke;delete this.startSize;delete this.endSize;delete this.startArrow;delete this.endArrow;delete this.direction;delete this.isShadow;delete this.isDashed;delete this.isRounded;delete this.glass};
mxShape.prototype.apply=function $mxShape$$apply$($a$$){this.state=$a$$;this.style=$a$$.style;if(null!=this.style){this.fill=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,this.fill);this.gradient=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENTCOLOR,this.gradient);this.gradientDirection=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENT_DIRECTION,this.gradientDirection);this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_OPACITY,this.opacity);this.fillOpacity=mxUtils.getValue(this.style,
mxConstants.STYLE_FILL_OPACITY,this.fillOpacity);this.strokeOpacity=mxUtils.getValue(this.style,mxConstants.STYLE_STROKE_OPACITY,this.strokeOpacity);this.stroke=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,this.stroke);this.strokewidth=mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth);this.spacing=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing);this.startSize=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,this.startSize);this.endSize=
mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,this.endSize);this.startArrow=mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,this.startArrow);this.endArrow=mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,this.endArrow);this.rotation=mxUtils.getValue(this.style,mxConstants.STYLE_ROTATION,this.rotation);this.direction=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,this.direction);this.flipH=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0);this.flipV=1==mxUtils.getValue(this.style,
mxConstants.STYLE_FLIPV,0);null!=this.stencil&&(this.flipH=1==mxUtils.getValue(this.style,"stencilFlipH",0)||this.flipH,this.flipV=1==mxUtils.getValue(this.style,"stencilFlipV",0)||this.flipV);if(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)$a$$=this.flipH,this.flipH=this.flipV,this.flipV=$a$$;this.isShadow=1==mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW,this.isShadow);this.isDashed=1==mxUtils.getValue(this.style,mxConstants.STYLE_DASHED,this.isDashed);
this.isRounded=1==mxUtils.getValue(this.style,mxConstants.STYLE_ROUNDED,this.isRounded);this.glass=1==mxUtils.getValue(this.style,mxConstants.STYLE_GLASS,this.glass);this.fill==mxConstants.NONE&&(this.fill=null);this.gradient==mxConstants.NONE&&(this.gradient=null);this.stroke==mxConstants.NONE&&(this.stroke=null)}};mxShape.prototype.setCursor=function $mxShape$$setCursor$($a$$){null==$a$$&&($a$$="");this.cursor=$a$$;null!=this.node&&(this.node.style.cursor=$a$$)};mxShape.prototype.getCursor=function $mxShape$$getCursor$(){return this.cursor};
mxShape.prototype.isRoundable=function $mxShape$$isRoundable$(){return!1};
mxShape.prototype.updateBoundingBox=function $mxShape$$updateBoundingBox$(){if(this.useSvgBoundingBox&&null!=this.node&&null!=this.node.ownerSVGElement)try{var $a$$=this.node.getBBox();if(0<$a$$.width&&0<$a$$.height){this.boundingBox=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height);this.boundingBox.grow(this.strokewidth*this.scale/2);return}}catch($c$$){}if(null!=this.bounds){$a$$=this.createBoundingBox();if(null!=$a$$){this.augmentBoundingBox($a$$);var $b$$=this.getShapeRotation();0!=$b$$&&
($a$$=mxUtils.getBoundingBox($a$$,$b$$))}this.boundingBox=$a$$}};mxShape.prototype.createBoundingBox=function $mxShape$$createBoundingBox$(){var $a$$=this.bounds.clone();(null!=this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)||this.isPaintBoundsInverted())&&$a$$.rotate90();return $a$$};
mxShape.prototype.augmentBoundingBox=function $mxShape$$augmentBoundingBox$($a$$){this.isShadow&&($a$$.width+=Math.ceil(mxConstants.SHADOW_OFFSET_X*this.scale),$a$$.height+=Math.ceil(mxConstants.SHADOW_OFFSET_Y*this.scale));$a$$.grow(this.strokewidth*this.scale/2)};mxShape.prototype.isPaintBoundsInverted=function $mxShape$$isPaintBoundsInverted$(){return null==this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)};
mxShape.prototype.getRotation=function $mxShape$$getRotation$(){return null!=this.rotation?this.rotation:0};mxShape.prototype.getTextRotation=function $mxShape$$getTextRotation$(){var $a$$=this.getRotation();1!=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)&&($a$$+=mxText.prototype.verticalTextRotation);return $a$$};
mxShape.prototype.getShapeRotation=function $mxShape$$getShapeRotation$(){var $a$$=this.getRotation();null!=this.direction&&(this.direction==mxConstants.DIRECTION_NORTH?$a$$+=270:this.direction==mxConstants.DIRECTION_WEST?$a$$+=180:this.direction==mxConstants.DIRECTION_SOUTH&&($a$$+=90));return $a$$};
mxShape.prototype.createTransparentSvgRectangle=function $mxShape$$createTransparentSvgRectangle$($a$$,$b$$,$c$$,$d$$){var $e$$=document.createElementNS(mxConstants.NS_SVG,"rect");$e$$.setAttribute("x",$a$$);$e$$.setAttribute("y",$b$$);$e$$.setAttribute("width",$c$$);$e$$.setAttribute("height",$d$$);$e$$.setAttribute("fill","none");$e$$.setAttribute("stroke","none");$e$$.setAttribute("pointer-events","all");return $e$$};
mxShape.prototype.setTransparentBackgroundImage=function $mxShape$$setTransparentBackgroundImage$($a$$){$a$$.style.backgroundImage="url('"+mxClient.imageBasePath+"/transparent.gif')"};mxShape.prototype.releaseSvgGradients=function $mxShape$$releaseSvgGradients$($a$$){if(null!=$a$$)for(var $b$$ in $a$$){var $c$$=$a$$[$b$$];null!=$c$$&&($c$$.mxRefCount=($c$$.mxRefCount||0)-1,0==$c$$.mxRefCount&&null!=$c$$.parentNode&&$c$$.parentNode.removeChild($c$$))}};
mxShape.prototype.destroy=function $mxShape$$destroy$(){null!=this.node&&(mxEvent.release(this.node),null!=this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node=null);this.releaseSvgGradients(this.oldGradients);this.oldGradients=null};function mxStencil($a$$){this.desc=$a$$;this.parseDescription();this.parseConstraints()}mxUtils.extend(mxStencil,mxShape);mxStencil.defaultLocalized=!1;mxStencil.allowEval=!1;mxStencil.prototype.desc=null;mxStencil.prototype.constraints=null;
mxStencil.prototype.aspect=null;mxStencil.prototype.w0=null;mxStencil.prototype.h0=null;mxStencil.prototype.bgNode=null;mxStencil.prototype.fgNode=null;mxStencil.prototype.strokewidth=null;
mxStencil.prototype.parseDescription=function $mxStencil$$parseDescription$(){this.fgNode=this.desc.getElementsByTagName("foreground")[0];this.bgNode=this.desc.getElementsByTagName("background")[0];this.w0=Number(this.desc.getAttribute("w")||100);this.h0=Number(this.desc.getAttribute("h")||100);var $a$$=this.desc.getAttribute("aspect");this.aspect=null!=$a$$?$a$$:"variable";$a$$=this.desc.getAttribute("strokewidth");this.strokewidth=null!=$a$$?$a$$:"1"};
mxStencil.prototype.parseConstraints=function $mxStencil$$parseConstraints$(){var $a$$=this.desc.getElementsByTagName("connections")[0];if(null!=$a$$&&($a$$=mxUtils.getChildNodes($a$$),null!=$a$$&&0<$a$$.length)){this.constraints=[];for(var $b$$=0;$b$$<$a$$.length;$b$$++)this.constraints.push(this.parseConstraint($a$$[$b$$]))}};
mxStencil.prototype.parseConstraint=function $mxStencil$$parseConstraint$($a$$){var $b$$=Number($a$$.getAttribute("x")),$c$$=Number($a$$.getAttribute("y")),$d$$="1"==$a$$.getAttribute("perimeter");$a$$=$a$$.getAttribute("name");return new mxConnectionConstraint(new mxPoint($b$$,$c$$),$d$$,$a$$)};
mxStencil.prototype.evaluateTextAttribute=function $mxStencil$$evaluateTextAttribute$($a$$,$b$$,$c$$){$b$$=this.evaluateAttribute($a$$,$b$$,$c$$);$a$$=$a$$.getAttribute("localized");if(mxStencil.defaultLocalized&&null==$a$$||"1"==$a$$)$b$$=mxResources.get($b$$);return $b$$};
mxStencil.prototype.evaluateAttribute=function $mxStencil$$evaluateAttribute$($a$$,$b$$,$c$$){$b$$=$a$$.getAttribute($b$$);null==$b$$&&($a$$=mxUtils.getTextContent($a$$),null!=$a$$&&mxStencil.allowEval&&($a$$=mxUtils.eval($a$$),"function"==typeof $a$$&&($b$$=$a$$($c$$))));return $b$$};
mxStencil.prototype.drawShape=function $mxStencil$$drawShape$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=mxUtils.getValue($b$$.style,mxConstants.STYLE_DIRECTION,null),$g$$=this.computeAspect($b$$.style,$c$$,$d$$,$e$$,$f$$,$g$$),$k$$=Math.min($g$$.width,$g$$.height),$k$$="inherit"==this.strokewidth?Number(mxUtils.getNumber($b$$.style,mxConstants.STYLE_STROKEWIDTH,1)):Number(this.strokewidth)*$k$$;$a$$.setStrokeWidth($k$$);null!=$b$$.style&&"1"==mxUtils.getValue($b$$.style,mxConstants.STYLE_POINTER_EVENTS,
"0")&&($a$$.setStrokeColor(mxConstants.NONE),$a$$.rect($c$$,$d$$,$e$$,$f$$),$a$$.stroke(),$a$$.setStrokeColor($b$$.stroke));this.drawChildren($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,this.bgNode,$g$$,!1,!0);this.drawChildren($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,this.fgNode,$g$$,!0,!$b$$.outline||null==$b$$.style||0==mxUtils.getValue($b$$.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0))};
mxStencil.prototype.drawChildren=function $mxStencil$$drawChildren$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){if(null!=$g$$&&0<$e$$&&0<$f$$)for($c$$=$g$$.firstChild;null!=$c$$;)$c$$.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode($a$$,$b$$,$c$$,$k$$,$l$$,$m$$),$c$$=$c$$.nextSibling};
mxStencil.prototype.computeAspect=function $mxStencil$$computeAspect$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$a$$=$b$$;$b$$=$d$$/this.w0;var $g$$=$e$$/this.h0;if($f$$=$f$$==mxConstants.DIRECTION_NORTH||$f$$==mxConstants.DIRECTION_SOUTH){$g$$=$d$$/this.h0;$b$$=$e$$/this.w0;var $k$$=($d$$-$e$$)/2;$a$$+=$k$$;$c$$-=$k$$}"fixed"==this.aspect&&($b$$=$g$$=Math.min($b$$,$g$$),$f$$?($a$$+=($e$$-this.w0*$b$$)/2,$c$$+=($d$$-this.h0*$g$$)/2):($a$$+=($d$$-this.w0*$b$$)/2,$c$$+=($e$$-this.h0*$g$$)/2));return new mxRectangle($a$$,
$c$$,$b$$,$g$$)};
mxStencil.prototype.drawNode=function $mxStencil$$drawNode$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$=$c$$.nodeName,$k$$=$d$$.x,$l$$=$d$$.y,$m$$=$d$$.width,$n$$=$d$$.height,$p$$=Math.min($m$$,$n$$);if("save"==$g$$)$a$$.save();else if("restore"==$g$$)$a$$.restore();else if($f$$){if("path"==$g$$){$a$$.begin();$p$$=!0;if("1"==$c$$.getAttribute("rounded")){for(var $p$$=!1,$q$$=Number($c$$.getAttribute("arcSize")),$r$$=[],$t$$=$c$$.firstChild;null!=$t$$;){if($t$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $u$$=$t$$.nodeName;
if("move"==$u$$||"line"==$u$$)$r$$.push(new mxPoint($k$$+Number($t$$.getAttribute("x"))*$m$$,$l$$+Number($t$$.getAttribute("y"))*$n$$));else{$p$$=!0;break}}$t$$=$t$$.nextSibling}!$p$$&&0<$r$$.length?($m$$=!1,$n$$=$r$$[0],$l$$=$r$$[$r$$.length-1],$n$$.x==$l$$.x&&$n$$.y==$l$$.y&&($r$$.pop(),$m$$=!0),this.addPoints($a$$,$r$$,!0,$q$$,$m$$)):$p$$=!0}if($p$$)for($t$$=$c$$.firstChild;null!=$t$$;)$t$$.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode($a$$,$b$$,$t$$,$d$$,$e$$,$f$$),$t$$=$t$$.nextSibling}else if("close"==
$g$$)$a$$.close();else if("move"==$g$$)$a$$.moveTo($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$);else if("line"==$g$$)$a$$.lineTo($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$);else if("quad"==$g$$)$a$$.quadTo($k$$+Number($c$$.getAttribute("x1"))*$m$$,$l$$+Number($c$$.getAttribute("y1"))*$n$$,$k$$+Number($c$$.getAttribute("x2"))*$m$$,$l$$+Number($c$$.getAttribute("y2"))*$n$$);else if("curve"==$g$$)$a$$.curveTo($k$$+Number($c$$.getAttribute("x1"))*
$m$$,$l$$+Number($c$$.getAttribute("y1"))*$n$$,$k$$+Number($c$$.getAttribute("x2"))*$m$$,$l$$+Number($c$$.getAttribute("y2"))*$n$$,$k$$+Number($c$$.getAttribute("x3"))*$m$$,$l$$+Number($c$$.getAttribute("y3"))*$n$$);else if("arc"==$g$$)$a$$.arcTo(Number($c$$.getAttribute("rx"))*$m$$,Number($c$$.getAttribute("ry"))*$n$$,Number($c$$.getAttribute("x-axis-rotation")),Number($c$$.getAttribute("large-arc-flag")),Number($c$$.getAttribute("sweep-flag")),$k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*
$n$$);else if("rect"==$g$$)$a$$.rect($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,Number($c$$.getAttribute("w"))*$m$$,Number($c$$.getAttribute("h"))*$n$$);else if("roundrect"==$g$$)$b$$=Number($c$$.getAttribute("arcsize")),0==$b$$&&($b$$=100*mxConstants.RECTANGLE_ROUNDING_FACTOR),$d$$=Number($c$$.getAttribute("w"))*$m$$,$f$$=Number($c$$.getAttribute("h"))*$n$$,$b$$=Number($b$$)/100,$b$$=Math.min($d$$*$b$$,$f$$*$b$$),$a$$.roundrect($k$$+Number($c$$.getAttribute("x"))*
$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,$d$$,$f$$,$b$$,$b$$);else if("ellipse"==$g$$)$a$$.ellipse($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,Number($c$$.getAttribute("w"))*$m$$,Number($c$$.getAttribute("h"))*$n$$);else if("image"==$g$$)$b$$.outline||($b$$=this.evaluateAttribute($c$$,"src",$b$$),$a$$.image($k$$+Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,Number($c$$.getAttribute("w"))*$m$$,Number($c$$.getAttribute("h"))*
$n$$,$b$$,!1,"1"==$c$$.getAttribute("flipH"),"1"==$c$$.getAttribute("flipV")));else if("text"==$g$$)$b$$.outline||($d$$=this.evaluateTextAttribute($c$$,"str",$b$$),$f$$="1"==$c$$.getAttribute("vertical")?-90:0,"0"==$c$$.getAttribute("align-shape")&&($p$$=$b$$.rotation,$q$$=1==mxUtils.getValue($b$$.style,mxConstants.STYLE_FLIPH,0),$b$$=1==mxUtils.getValue($b$$.style,mxConstants.STYLE_FLIPV,0),$f$$=$q$$&&$b$$?$f$$-$p$$:$q$$||$b$$?$f$$+$p$$:$f$$-$p$$),$f$$-=$c$$.getAttribute("rotation"),$a$$.text($k$$+
Number($c$$.getAttribute("x"))*$m$$,$l$$+Number($c$$.getAttribute("y"))*$n$$,0,0,$d$$,$c$$.getAttribute("align")||"left",$c$$.getAttribute("valign")||"top",!1,"",null,!1,$f$$));else if("include-shape"==$g$$)$p$$=mxStencilRegistry.getStencil($c$$.getAttribute("name")),null!=$p$$&&($k$$+=Number($c$$.getAttribute("x"))*$m$$,$l$$+=Number($c$$.getAttribute("y"))*$n$$,$d$$=Number($c$$.getAttribute("w"))*$m$$,$f$$=Number($c$$.getAttribute("h"))*$n$$,$p$$.drawShape($a$$,$b$$,$k$$,$l$$,$d$$,$f$$));else if("fillstroke"==
$g$$)$a$$.fillAndStroke();else if("fill"==$g$$)$a$$.fill();else if("stroke"==$g$$)$a$$.stroke();else if("strokewidth"==$g$$)$m$$="1"==$c$$.getAttribute("fixed")?1:$p$$,$a$$.setStrokeWidth(Number($c$$.getAttribute("width"))*$m$$);else if("dashed"==$g$$)$a$$.setDashed("1"==$c$$.getAttribute("dashed"));else if("dashpattern"==$g$$){if($c$$=$c$$.getAttribute("pattern"),null!=$c$$){$c$$=$c$$.split(" ");$m$$=[];for($n$$=0;$n$$<$c$$.length;$n$$++)0<$c$$[$n$$].length&&$m$$.push(Number($c$$[$n$$])*$p$$);$c$$=
$m$$.join(" ");$a$$.setDashPattern($c$$)}}else"strokecolor"==$g$$?$a$$.setStrokeColor($c$$.getAttribute("color")):"linecap"==$g$$?$a$$.setLineCap($c$$.getAttribute("cap")):"linejoin"==$g$$?$a$$.setLineJoin($c$$.getAttribute("join")):"miterlimit"==$g$$?$a$$.setMiterLimit(Number($c$$.getAttribute("limit"))):"fillcolor"==$g$$?$a$$.setFillColor($c$$.getAttribute("color")):"alpha"==$g$$?$a$$.setAlpha($c$$.getAttribute("alpha")):"fontcolor"==$g$$?$a$$.setFontColor($c$$.getAttribute("color")):"fontstyle"==
$g$$?$a$$.setFontStyle($c$$.getAttribute("style")):"fontfamily"==$g$$?$a$$.setFontFamily($c$$.getAttribute("family")):"fontsize"==$g$$&&$a$$.setFontSize(Number($c$$.getAttribute("size"))*$p$$);!$e$$||"fillstroke"!=$g$$&&"fill"!=$g$$&&"stroke"!=$g$$||$a$$.setShadow(!1)}};
var mxStencilRegistry={stencils:{},addStencil:function($a$$,$b$$){mxStencilRegistry.stencils[$a$$]=$b$$},getStencil:function($a$$){return mxStencilRegistry.stencils[$a$$]}},mxMarker={markers:[],addMarker:function($a$$,$b$$){mxMarker.markers[$a$$]=$b$$},createMarker:function($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){var $n$$=mxMarker.markers[$c$$];return null!=$n$$?$n$$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$):null}};
(function(){function $a$jscomp$0$$($a$$){$a$$=null!=$a$$?$a$$:2;return function($b$$,$c$$,$d$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$){$c$$=$l$$*$q$$*1.118;$p$$=$m$$*$q$$*1.118;$l$$*=$n$$+$q$$;$m$$*=$n$$+$q$$;var $e$$=$k$$.clone();$e$$.x-=$c$$;$e$$.y-=$p$$;$n$$=$d$$!=mxConstants.ARROW_CLASSIC&&$d$$!=mxConstants.ARROW_CLASSIC_THIN?1:.75;$k$$.x+=-$l$$*$n$$-$c$$;$k$$.y+=-$m$$*$n$$-$p$$;return function(){$b$$.begin();$b$$.moveTo($e$$.x,$e$$.y);$b$$.lineTo($e$$.x-$l$$-$m$$/$a$$,$e$$.y-$m$$+$l$$/$a$$);$d$$!=
mxConstants.ARROW_CLASSIC&&$d$$!=mxConstants.ARROW_CLASSIC_THIN||$b$$.lineTo($e$$.x-3*$l$$/4,$e$$.y-3*$m$$/4);$b$$.lineTo($e$$.x+$m$$/$a$$-$l$$,$e$$.y-$m$$-$l$$/$a$$);$b$$.close();$r$$?$b$$.fillAndStroke():$b$$.stroke()}}}function $b$jscomp$0$$($a$$){$a$$=null!=$a$$?$a$$:2;return function($b$$,$c$$,$d$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$){$c$$=$l$$*$q$$*1.118;$d$$=$m$$*$q$$*1.118;$l$$*=$n$$+$q$$;$m$$*=$n$$+$q$$;var $e$$=$k$$.clone();$e$$.x-=$c$$;$e$$.y-=$d$$;$k$$.x+=2*-$c$$;$k$$.y+=2*-$d$$;return function(){$b$$.begin();
$b$$.moveTo($e$$.x-$l$$-$m$$/$a$$,$e$$.y-$m$$+$l$$/$a$$);$b$$.lineTo($e$$.x,$e$$.y);$b$$.lineTo($e$$.x+$m$$/$a$$-$l$$,$e$$.y-$m$$-$l$$/$a$$);$b$$.stroke()}}}function $c$jscomp$0$$($a$$,$b$$,$c$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){$n$$=$c$$==mxConstants.ARROW_DIAMOND?.7071:.9862;$b$$=$k$$*$p$$*$n$$;$n$$*=$l$$*$p$$;$k$$*=$m$$+$p$$;$l$$*=$m$$+$p$$;var $d$$=$g$$.clone();$d$$.x-=$b$$;$d$$.y-=$n$$;$g$$.x+=-$k$$-$b$$;$g$$.y+=-$l$$-$n$$;var $e$$=$c$$==mxConstants.ARROW_DIAMOND?2:3.4;return function(){$a$$.begin();
$a$$.moveTo($d$$.x,$d$$.y);$a$$.lineTo($d$$.x-$k$$/2-$l$$/$e$$,$d$$.y+$k$$/$e$$-$l$$/2);$a$$.lineTo($d$$.x-$k$$,$d$$.y-$l$$);$a$$.lineTo($d$$.x-$k$$/2+$l$$/$e$$,$d$$.y-$l$$/2-$k$$/$e$$);$a$$.close();$q$$?$a$$.fillAndStroke():$a$$.stroke()}}mxMarker.addMarker("classic",$a$jscomp$0$$(2));mxMarker.addMarker("classicThin",$a$jscomp$0$$(3));mxMarker.addMarker("block",$a$jscomp$0$$(2));mxMarker.addMarker("blockThin",$a$jscomp$0$$(3));mxMarker.addMarker("open",$b$jscomp$0$$(2));mxMarker.addMarker("openThin",
$b$jscomp$0$$(3));mxMarker.addMarker("oval",function($a$$,$b$$,$c$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$){var $d$$=$m$$/2,$e$$=$g$$.clone();$g$$.x-=$k$$*$d$$;$g$$.y-=$l$$*$d$$;return function(){$a$$.ellipse($e$$.x-$d$$,$e$$.y-$d$$,$m$$,$m$$);$q$$?$a$$.fillAndStroke():$a$$.stroke()}});mxMarker.addMarker("diamond",$c$jscomp$0$$);mxMarker.addMarker("diamondThin",$c$jscomp$0$$)})();
function mxActor($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxActor,mxShape);mxActor.prototype.paintVertexShape=function $mxActor$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.translate($b$$,$c$$);$a$$.begin();this.redrawPath($a$$,$b$$,$c$$,$d$$,$e$$);$a$$.fillAndStroke()};
mxActor.prototype.redrawPath=function $mxActor$$redrawPath$($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=$d$$/3;$a$$.moveTo(0,$e$$);$a$$.curveTo(0,3*$e$$/5,0,2*$e$$/5,$d$$/2,2*$e$$/5);$a$$.curveTo($d$$/2-$b$$,2*$e$$/5,$d$$/2-$b$$,0,$d$$/2,0);$a$$.curveTo($d$$/2+$b$$,0,$d$$/2+$b$$,2*$e$$/5,$d$$/2,2*$e$$/5);$a$$.curveTo($d$$,2*$e$$/5,$d$$,3*$e$$/5,$d$$,$e$$);$a$$.close()};function mxCloud($a$$,$b$$,$c$$,$d$$){mxActor.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}
mxUtils.extend(mxCloud,mxActor);
mxCloud.prototype.redrawPath=function $mxCloud$$redrawPath$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.moveTo(.25*$d$$,.25*$e$$);$a$$.curveTo(.05*$d$$,.25*$e$$,0,.5*$e$$,.16*$d$$,.55*$e$$);$a$$.curveTo(0,.66*$e$$,.18*$d$$,.9*$e$$,.31*$d$$,.8*$e$$);$a$$.curveTo(.4*$d$$,$e$$,.7*$d$$,$e$$,.8*$d$$,.8*$e$$);$a$$.curveTo($d$$,.8*$e$$,$d$$,.6*$e$$,.875*$d$$,.5*$e$$);$a$$.curveTo($d$$,.3*$e$$,.8*$d$$,.1*$e$$,.625*$d$$,.2*$e$$);$a$$.curveTo(.5*$d$$,.05*$e$$,.3*$d$$,.05*$e$$,.25*$d$$,.25*$e$$);$a$$.close()};
function mxRectangleShape($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxRectangleShape,mxShape);mxRectangleShape.prototype.isHtmlAllowed=function $mxRectangleShape$$isHtmlAllowed$(){var $a$$=!0;null!=this.style&&($a$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"));return!this.isRounded&&!this.glass&&0==this.rotation&&($a$$||null!=this.fill&&this.fill!=mxConstants.NONE)};
mxRectangleShape.prototype.paintBackground=function $mxRectangleShape$$paintBackground$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=!0;null!=this.style&&($f$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"));if($f$$||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE)$f$$||null!=this.fill&&this.fill!=mxConstants.NONE||($a$$.pointerEvents=!1),this.isRounded?("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)?$f$$=Math.min($d$$/
2,Math.min($e$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2)):($f$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$f$$=Math.min($d$$*$f$$,$e$$*$f$$)),$a$$.roundrect($b$$,$c$$,$d$$,$e$$,$f$$,$f$$)):$a$$.rect($b$$,$c$$,$d$$,$e$$),$a$$.fillAndStroke()};mxRectangleShape.prototype.isRoundable=function $mxRectangleShape$$isRoundable$($a$$,$b$$,$c$$,$d$$,$e$$){return!0};
mxRectangleShape.prototype.paintForeground=function $mxRectangleShape$$paintForeground$($a$$,$b$$,$c$$,$d$$,$e$$){this.glass&&!this.outline&&null!=this.fill&&this.fill!=mxConstants.NONE&&this.paintGlassEffect($a$$,$b$$,$c$$,$d$$,$e$$,this.getArcSize($d$$+this.strokewidth,$e$$+this.strokewidth))};function mxEllipse($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxEllipse,mxShape);
mxEllipse.prototype.paintVertexShape=function $mxEllipse$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.ellipse($b$$,$c$$,$d$$,$e$$);$a$$.fillAndStroke()};function mxDoubleEllipse($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxDoubleEllipse,mxShape);mxDoubleEllipse.prototype.vmlScale=10;
mxDoubleEllipse.prototype.paintBackground=function $mxDoubleEllipse$$paintBackground$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.ellipse($b$$,$c$$,$d$$,$e$$);$a$$.fillAndStroke()};mxDoubleEllipse.prototype.paintForeground=function $mxDoubleEllipse$$paintForeground$($a$$,$b$$,$c$$,$d$$,$e$$){if(!this.outline){var $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min($d$$/5,$e$$/5)));$d$$-=2*$f$$;$e$$-=2*$f$$;0<$d$$&&0<$e$$&&$a$$.ellipse($b$$+$f$$,$c$$+$f$$,$d$$,$e$$);$a$$.stroke()}};
mxDoubleEllipse.prototype.getLabelBounds=function $mxDoubleEllipse$$getLabelBounds$($a$$){var $b$$=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min($a$$.width/5/this.scale,$a$$.height/5/this.scale)))*this.scale;return new mxRectangle($a$$.x+$b$$,$a$$.y+$b$$,$a$$.width-2*$b$$,$a$$.height-2*$b$$)};function mxRhombus($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}
mxUtils.extend(mxRhombus,mxShape);mxRhombus.prototype.isRoundable=function $mxRhombus$$isRoundable$(){return!0};
mxRhombus.prototype.paintVertexShape=function $mxRhombus$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$d$$/2,$g$$=$e$$/2,$k$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$a$$.begin();this.addPoints($a$$,[new mxPoint($b$$+$f$$,$c$$),new mxPoint($b$$+$d$$,$c$$+$g$$),new mxPoint($b$$+$f$$,$c$$+$e$$),new mxPoint($b$$,$c$$+$g$$)],this.isRounded,$k$$,!0);$a$$.fillAndStroke()};
function mxPolyline($a$$,$b$$,$c$$){mxShape.call(this);this.points=$a$$;this.stroke=$b$$;this.strokewidth=null!=$c$$?$c$$:1}mxUtils.extend(mxPolyline,mxShape);mxPolyline.prototype.getRotation=function $mxPolyline$$getRotation$(){return 0};mxPolyline.prototype.getShapeRotation=function $mxPolyline$$getShapeRotation$(){return 0};mxPolyline.prototype.isPaintBoundsInverted=function $mxPolyline$$isPaintBoundsInverted$(){return!1};
mxPolyline.prototype.paintEdgeShape=function $mxPolyline$$paintEdgeShape$($a$$,$b$$){var $c$$=$a$$.pointerEventsValue;$a$$.pointerEventsValue="stroke";null==this.style||1!=this.style[mxConstants.STYLE_CURVED]?this.paintLine($a$$,$b$$,this.isRounded):this.paintCurvedLine($a$$,$b$$);$a$$.pointerEventsValue=$c$$};
mxPolyline.prototype.paintLine=function $mxPolyline$$paintLine$($a$$,$b$$,$c$$){var $d$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$a$$.begin();this.addPoints($a$$,$b$$,$c$$,$d$$,!1);$a$$.stroke()};
mxPolyline.prototype.paintCurvedLine=function $mxPolyline$$paintCurvedLine$($a$$,$b$$){$a$$.begin();var $c$$=$b$$[0],$d$$=$b$$.length;$a$$.moveTo($c$$.x,$c$$.y);for($c$$=1;$c$$<$d$$-2;$c$$++){var $e$$=$b$$[$c$$],$f$$=$b$$[$c$$+1];$a$$.quadTo($e$$.x,$e$$.y,($e$$.x+$f$$.x)/2,($e$$.y+$f$$.y)/2)}$e$$=$b$$[$d$$-2];$f$$=$b$$[$d$$-1];$a$$.quadTo($e$$.x,$e$$.y,$f$$.x,$f$$.y);$a$$.stroke()};
function mxArrow($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){mxShape.call(this);this.points=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1;this.arrowWidth=null!=$e$$?$e$$:mxConstants.ARROW_WIDTH;this.spacing=null!=$f$$?$f$$:mxConstants.ARROW_SPACING;this.endSize=null!=$g$$?$g$$:mxConstants.ARROW_SIZE}mxUtils.extend(mxArrow,mxShape);
mxArrow.prototype.augmentBoundingBox=function $mxArrow$$augmentBoundingBox$($a$$){mxShape.prototype.augmentBoundingBox.apply(this,arguments);$a$$.grow((Math.max(this.arrowWidth,this.endSize)/2+this.strokewidth)*this.scale)};
mxArrow.prototype.paintEdgeShape=function $mxArrow$$paintEdgeShape$($a$$,$b$$){var $c$$=mxConstants.ARROW_SPACING,$d$$=mxConstants.ARROW_WIDTH,$e$$=$b$$[0],$f$$=$b$$[$b$$.length-1],$g$$=$f$$.x-$e$$.x,$k$$=$f$$.y-$e$$.y,$l$$=Math.sqrt($g$$*$g$$+$k$$*$k$$),$m$$=$l$$-2*$c$$-mxConstants.ARROW_SIZE,$g$$=$g$$/$l$$,$k$$=$k$$/$l$$,$l$$=$d$$*$k$$/3,$d$$=-$d$$*$g$$/3,$n$$=$e$$.x-$l$$/2+$c$$*$g$$,$e$$=$e$$.y-$d$$/2+$c$$*$k$$,$p$$=$n$$+$l$$,$q$$=$e$$+$d$$,$r$$=$p$$+$m$$*$g$$,$m$$=$q$$+$m$$*$k$$,$t$$=$r$$+$l$$,
$u$$=$m$$+$d$$,$y$$=$t$$-3*$l$$,$x$$=$u$$-3*$d$$;$a$$.begin();$a$$.moveTo($n$$,$e$$);$a$$.lineTo($p$$,$q$$);$a$$.lineTo($r$$,$m$$);$a$$.lineTo($t$$,$u$$);$a$$.lineTo($f$$.x-$c$$*$g$$,$f$$.y-$c$$*$k$$);$a$$.lineTo($y$$,$x$$);$a$$.lineTo($y$$+$l$$,$x$$+$d$$);$a$$.close();$a$$.fillAndStroke()};
function mxArrowConnector($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){mxShape.call(this);this.points=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1;this.arrowWidth=null!=$e$$?$e$$:mxConstants.ARROW_WIDTH;this.arrowSpacing=null!=$f$$?$f$$:mxConstants.ARROW_SPACING;this.startSize=mxConstants.ARROW_SIZE/5;this.endSize=mxConstants.ARROW_SIZE/5}mxUtils.extend(mxArrowConnector,mxShape);mxArrowConnector.prototype.useSvgBoundingBox=!0;
mxArrowConnector.prototype.resetStyles=function $mxArrowConnector$$resetStyles$(){mxShape.prototype.resetStyles.apply(this,arguments);this.arrowSpacing=mxConstants.ARROW_SPACING};
mxArrowConnector.prototype.apply=function $mxArrowConnector$$apply$($a$$){mxShape.prototype.apply.apply(this,arguments);null!=this.style&&(this.startSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5),this.endSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5))};
mxArrowConnector.prototype.augmentBoundingBox=function $mxArrowConnector$$augmentBoundingBox$($a$$){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var $b$$=this.getEdgeWidth();this.isMarkerStart()&&($b$$=Math.max($b$$,this.getStartArrowWidth()));this.isMarkerEnd()&&($b$$=Math.max($b$$,this.getEndArrowWidth()));$a$$.grow(($b$$/2+this.strokewidth)*this.scale)};
mxArrowConnector.prototype.paintEdgeShape=function $mxArrowConnector$$paintEdgeShape$($a$$,$b$jscomp$0$$){var $c$jscomp$0$$=this.strokewidth;this.outline&&($c$jscomp$0$$=Math.max(1,mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth)));for(var $d$jscomp$0$$=this.getStartArrowWidth()+$c$jscomp$0$$,$e$jscomp$0$$=this.getEndArrowWidth()+$c$jscomp$0$$,$f$$=this.outline?this.getEdgeWidth()+$c$jscomp$0$$:this.getEdgeWidth(),$g$jscomp$0$$=this.isOpenEnded(),$k$jscomp$0$$=this.isMarkerStart(),
$l$$=this.isMarkerEnd(),$m$$=$g$jscomp$0$$?0:this.arrowSpacing+$c$jscomp$0$$/2,$n$$=this.startSize+$c$jscomp$0$$,$c$jscomp$0$$=this.endSize+$c$jscomp$0$$,$p$$=this.isArrowRounded(),$q$$=$b$jscomp$0$$[$b$jscomp$0$$.length-1],$r$$=1;$r$$<$b$jscomp$0$$.length-1&&$b$jscomp$0$$[$r$$].x==$b$jscomp$0$$[0].x&&$b$jscomp$0$$[$r$$].y==$b$jscomp$0$$[0].y;)$r$$++;var $t$$=$b$jscomp$0$$[$r$$].x-$b$jscomp$0$$[0].x,$r$$=$b$jscomp$0$$[$r$$].y-$b$jscomp$0$$[0].y,$u$$=Math.sqrt($t$$*$t$$+$r$$*$r$$);if(0!=$u$$){var $y$$=
$t$$/$u$$,$x$$,$A$$=$y$$,$z$$=$r$$/$u$$,$v$$,$B$$=$z$$,$u$$=$f$$*$z$$,$C$$=-$f$$*$y$$,$E$$=[];$p$$?$a$$.setLineJoin("round"):2<$b$jscomp$0$$.length&&$a$$.setMiterLimit(1.42);$a$$.begin();$t$$=$y$$;$r$$=$z$$;if($k$jscomp$0$$&&!$g$jscomp$0$$)this.paintMarker($a$$,$b$jscomp$0$$[0].x,$b$jscomp$0$$[0].y,$y$$,$z$$,$n$$,$d$jscomp$0$$,$f$$,$m$$,!0);else{$x$$=$b$jscomp$0$$[0].x+$u$$/2+$m$$*$y$$;$v$$=$b$jscomp$0$$[0].y+$C$$/2+$m$$*$z$$;var $F$$=$b$jscomp$0$$[0].x-$u$$/2+$m$$*$y$$,$I$$=$b$jscomp$0$$[0].y-$C$$/
2+$m$$*$z$$;$g$jscomp$0$$?($a$$.moveTo($x$$,$v$$),$E$$.push(function(){$a$$.lineTo($F$$,$I$$)})):($a$$.moveTo($F$$,$I$$),$a$$.lineTo($x$$,$v$$))}for(var $D$$=$v$$=$x$$=0,$u$$=0;$u$$<$b$jscomp$0$$.length-2;$u$$++)if($C$$=mxUtils.relativeCcw($b$jscomp$0$$[$u$$].x,$b$jscomp$0$$[$u$$].y,$b$jscomp$0$$[$u$$+1].x,$b$jscomp$0$$[$u$$+1].y,$b$jscomp$0$$[$u$$+2].x,$b$jscomp$0$$[$u$$+2].y),$x$$=$b$jscomp$0$$[$u$$+2].x-$b$jscomp$0$$[$u$$+1].x,$v$$=$b$jscomp$0$$[$u$$+2].y-$b$jscomp$0$$[$u$$+1].y,$D$$=Math.sqrt($x$$*
$x$$+$v$$*$v$$),0!=$D$$&&($A$$=$x$$/$D$$,$B$$=$v$$/$D$$,tmp=Math.max(Math.sqrt(($y$$*$A$$+$z$$*$B$$+1)/2),.04),$x$$=$y$$+$A$$,$v$$=$z$$+$B$$,$D$$=Math.sqrt($x$$*$x$$+$v$$*$v$$),0!=$D$$)){$x$$/=$D$$;$v$$/=$D$$;var $D$$=Math.max(tmp,Math.min(this.strokewidth/200+.04,.35)),$D$$=0!=$C$$&&$p$$?Math.max(.1,$D$$):Math.max(tmp,.06),$G$$=$b$jscomp$0$$[$u$$+1].x+$v$$*$f$$/2/$D$$,$H$$=$b$jscomp$0$$[$u$$+1].y-$x$$*$f$$/2/$D$$;$v$$=$b$jscomp$0$$[$u$$+1].x-$v$$*$f$$/2/$D$$;$x$$=$b$jscomp$0$$[$u$$+1].y+$x$$*$f$$/
2/$D$$;0!=$C$$&&$p$$?-1==$C$$?($C$$=$v$$+$B$$*$f$$,$D$$=$x$$-$A$$*$f$$,$a$$.lineTo($v$$+$z$$*$f$$,$x$$-$y$$*$f$$),$a$$.quadTo($G$$,$H$$,$C$$,$D$$),function($b$$,$c$$){$E$$.push(function(){$a$$.lineTo($b$$,$c$$)})}($v$$,$x$$)):($a$$.lineTo($G$$,$H$$),function($b$$,$c$$){var $d$$=$G$$-$z$$*$f$$,$e$$=$H$$+$y$$*$f$$,$g$$=$G$$-$B$$*$f$$,$k$$=$H$$+$A$$*$f$$;$E$$.push(function(){$a$$.quadTo($b$$,$c$$,$d$$,$e$$)});$E$$.push(function(){$a$$.lineTo($g$$,$k$$)})}($v$$,$x$$)):($a$$.lineTo($G$$,$H$$),function($b$$,
$c$$){$E$$.push(function(){$a$$.lineTo($b$$,$c$$)})}($v$$,$x$$));$y$$=$A$$;$z$$=$B$$}$u$$=$f$$*$B$$;$C$$=-$f$$*$A$$;if($l$$&&!$g$jscomp$0$$)this.paintMarker($a$$,$q$$.x,$q$$.y,-$y$$,-$z$$,$c$jscomp$0$$,$e$jscomp$0$$,$f$$,$m$$,!1);else{$a$$.lineTo($q$$.x-$m$$*$A$$+$u$$/2,$q$$.y-$m$$*$B$$+$C$$/2);var $J$$=$q$$.x-$m$$*$A$$-$u$$/2,$K$$=$q$$.y-$m$$*$B$$-$C$$/2;$g$jscomp$0$$?($a$$.moveTo($J$$,$K$$),$E$$.splice(0,0,function(){$a$$.moveTo($J$$,$K$$)})):$a$$.lineTo($J$$,$K$$)}for($u$$=$E$$.length-1;0<=$u$$;$u$$--)$E$$[$u$$]();
$g$jscomp$0$$?($a$$.end(),$a$$.stroke()):($a$$.close(),$a$$.fillAndStroke());$a$$.setShadow(!1);$a$$.setMiterLimit(4);$p$$&&$a$$.setLineJoin("flat");2<$b$jscomp$0$$.length&&($a$$.setMiterLimit(4),$k$jscomp$0$$&&!$g$jscomp$0$$&&($a$$.begin(),this.paintMarker($a$$,$b$jscomp$0$$[0].x,$b$jscomp$0$$[0].y,$t$$,$r$$,$n$$,$d$jscomp$0$$,$f$$,$m$$,!0),$a$$.stroke(),$a$$.end()),$l$$&&!$g$jscomp$0$$&&($a$$.begin(),this.paintMarker($a$$,$q$$.x,$q$$.y,-$y$$,-$z$$,$c$jscomp$0$$,$e$jscomp$0$$,$f$$,$m$$,!0),$a$$.stroke(),
$a$$.end()))}};
mxArrowConnector.prototype.paintMarker=function $mxArrowConnector$$paintMarker$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){$g$$=$k$$/$g$$;var $n$$=$k$$*$e$$/2;$k$$=-$k$$*$d$$/2;var $p$$=($l$$+$f$$)*$d$$;$f$$=($l$$+$f$$)*$e$$;$m$$?$a$$.moveTo($b$$-$n$$+$p$$,$c$$-$k$$+$f$$):$a$$.lineTo($b$$-$n$$+$p$$,$c$$-$k$$+$f$$);$a$$.lineTo($b$$-$n$$/$g$$+$p$$,$c$$-$k$$/$g$$+$f$$);$a$$.lineTo($b$$+$l$$*$d$$,$c$$+$l$$*$e$$);$a$$.lineTo($b$$+$n$$/$g$$+$p$$,$c$$+$k$$/$g$$+$f$$);$a$$.lineTo($b$$+$n$$+$p$$,$c$$+
$k$$+$f$$)};mxArrowConnector.prototype.isArrowRounded=function $mxArrowConnector$$isArrowRounded$(){return this.isRounded};mxArrowConnector.prototype.getStartArrowWidth=function $mxArrowConnector$$getStartArrowWidth$(){return mxConstants.ARROW_WIDTH};mxArrowConnector.prototype.getEndArrowWidth=function $mxArrowConnector$$getEndArrowWidth$(){return mxConstants.ARROW_WIDTH};mxArrowConnector.prototype.getEdgeWidth=function $mxArrowConnector$$getEdgeWidth$(){return mxConstants.ARROW_WIDTH/3};
mxArrowConnector.prototype.isOpenEnded=function $mxArrowConnector$$isOpenEnded$(){return!1};mxArrowConnector.prototype.isMarkerStart=function $mxArrowConnector$$isMarkerStart$(){return mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE};mxArrowConnector.prototype.isMarkerEnd=function $mxArrowConnector$$isMarkerEnd$(){return mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE};
function mxText($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$,$n$$,$p$$,$q$$,$r$$,$t$$,$u$$,$y$$,$x$$,$A$$,$z$$,$v$$){mxShape.call(this);this.value=$a$$;this.bounds=$b$$;this.color=null!=$e$$?$e$$:"black";this.align=null!=$c$$?$c$$:mxConstants.ALIGN_CENTER;this.valign=null!=$d$$?$d$$:mxConstants.ALIGN_MIDDLE;this.family=null!=$f$$?$f$$:mxConstants.DEFAULT_FONTFAMILY;this.size=null!=$g$$?$g$$:mxConstants.DEFAULT_FONTSIZE;this.fontStyle=null!=$k$$?$k$$:mxConstants.DEFAULT_FONTSTYLE;this.spacing=
parseInt($l$$||2);this.spacingTop=this.spacing+parseInt($m$$||0);this.spacingRight=this.spacing+parseInt($n$$||0);this.spacingBottom=this.spacing+parseInt($p$$||0);this.spacingLeft=this.spacing+parseInt($q$$||0);this.horizontal=null!=$r$$?$r$$:!0;this.background=$t$$;this.border=$u$$;this.wrap=null!=$y$$?$y$$:!1;this.clipped=null!=$x$$?$x$$:!1;this.overflow=null!=$A$$?$A$$:"visible";this.labelPadding=null!=$z$$?$z$$:0;this.textDirection=$v$$;this.rotation=0;this.updateMargin()}
mxUtils.extend(mxText,mxShape);mxText.prototype.baseSpacingTop=0;mxText.prototype.baseSpacingBottom=0;mxText.prototype.baseSpacingLeft=0;mxText.prototype.baseSpacingRight=0;mxText.prototype.replaceLinefeeds=!0;mxText.prototype.verticalTextRotation=-90;mxText.prototype.ignoreClippedStringSize=!0;mxText.prototype.ignoreStringSize=!1;mxText.prototype.textWidthPadding=8!=document.documentMode||mxClient.IS_EM?3:4;mxText.prototype.lastValue=null;mxText.prototype.cacheEnabled=!0;
mxText.prototype.isParseVml=function $mxText$$isParseVml$(){return!1};mxText.prototype.isHtmlAllowed=function $mxText$$isHtmlAllowed$(){return 8!=document.documentMode||mxClient.IS_EM};mxText.prototype.getSvgScreenOffset=function $mxText$$getSvgScreenOffset$(){return 0};mxText.prototype.checkBounds=function $mxText$$checkBounds$(){return!isNaN(this.scale)&&isFinite(this.scale)&&0<this.scale&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)};
mxText.prototype.paint=function $mxText$$paint$($a$$,$b$$){var $c$$=this.scale,$d$$=this.bounds.x/$c$$,$e$$=this.bounds.y/$c$$,$f$$=this.bounds.width/$c$$,$c$$=this.bounds.height/$c$$;this.updateTransform($a$$,$d$$,$e$$,$f$$,$c$$);this.configureCanvas($a$$,$d$$,$e$$,$f$$,$c$$);var $g$$=null!=this.state?this.state.unscaledWidth:null;if($b$$)null==this.node.firstChild||null!=$g$$&&this.lastUnscaledWidth==$g$$||$a$$.invalidateCachedOffsetSize(this.node),$a$$.updateText($d$$,$e$$,$f$$,$c$$,this.align,
this.valign,this.wrap,this.overflow,this.clipped,this.getTextRotation(),this.node);else{var $k$$=mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML,$l$$=$k$$||$a$$ instanceof mxVmlCanvas2D?"html":"",$m$$=this.value;$k$$||"html"!=$l$$||($m$$=mxUtils.htmlEntities($m$$,!1));"html"!=$l$$||mxUtils.isNode(this.value)||($m$$=mxUtils.replaceTrailingNewlines($m$$,"<div><br></div>"));var $m$$=!mxUtils.isNode(this.value)&&this.replaceLinefeeds&&"html"==$l$$?$m$$.replace(/\n/g,"<br/>"):
$m$$,$n$$=this.textDirection;$n$$!=mxConstants.TEXT_DIRECTION_AUTO||$k$$||($n$$=this.getAutoDirection());$n$$!=mxConstants.TEXT_DIRECTION_LTR&&$n$$!=mxConstants.TEXT_DIRECTION_RTL&&($n$$=null);$a$$.text($d$$,$e$$,$f$$,$c$$,$m$$,this.align,this.valign,this.wrap,$l$$,this.overflow,this.clipped,this.getTextRotation(),$n$$)}this.lastUnscaledWidth=$g$$};
mxText.prototype.redraw=function $mxText$$redraw$(){if(this.visible&&this.checkBounds()&&this.cacheEnabled&&this.lastValue==this.value&&(mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML))if("DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&mxClient.IS_VML){var $a$$=this.createCanvas();null!=$a$$&&null!=$a$$.updateText&&null!=$a$$.invalidateCachedOffsetSize?(this.paint($a$$,!0),this.destroyCanvas($a$$),this.updateBoundingBox()):mxShape.prototype.redraw.apply(this,arguments)}else this.updateSize(this.node,
null==this.state||null==this.state.view.textDiv),mxClient.IS_IE&&(null==document.documentMode||8>=document.documentMode)?this.updateHtmlFilter():this.updateHtmlTransform(),this.updateBoundingBox();else mxShape.prototype.redraw.apply(this,arguments),mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML?this.lastValue=this.value:this.lastValue=null};
mxText.prototype.resetStyles=function $mxText$$resetStyles$(){mxShape.prototype.resetStyles.apply(this,arguments);this.color="black";this.align=mxConstants.ALIGN_CENTER;this.valign=mxConstants.ALIGN_MIDDLE;this.family=mxConstants.DEFAULT_FONTFAMILY;this.size=mxConstants.DEFAULT_FONTSIZE;this.fontStyle=mxConstants.DEFAULT_FONTSTYLE;this.spacingLeft=this.spacingBottom=this.spacingRight=this.spacingTop=this.spacing=2;this.horizontal=!0;delete this.background;delete this.border;this.textDirection=mxConstants.DEFAULT_TEXT_DIRECTION;
delete this.margin};
mxText.prototype.apply=function $mxText$$apply$($a$$){var $b$$=this.spacing;mxShape.prototype.apply.apply(this,arguments);null!=this.style&&(this.fontStyle=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSTYLE,this.fontStyle),this.family=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,this.family),this.size=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,this.size),this.color=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,this.color),this.align=mxUtils.getValue(this.style,mxConstants.STYLE_ALIGN,
this.align),this.valign=mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_ALIGN,this.valign),this.spacing=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing)),this.spacingTop=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_TOP,this.spacingTop-$b$$))+this.spacing,this.spacingRight=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_RIGHT,this.spacingRight-$b$$))+this.spacing,this.spacingBottom=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_BOTTOM,
this.spacingBottom-$b$$))+this.spacing,this.spacingLeft=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_LEFT,this.spacingLeft-$b$$))+this.spacing,this.horizontal=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,this.horizontal),this.background=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,this.background),this.border=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BORDERCOLOR,this.border),this.textDirection=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_DIRECTION,
mxConstants.DEFAULT_TEXT_DIRECTION),this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_OPACITY,100),this.updateMargin());this.flipH=this.flipV=null};mxText.prototype.getAutoDirection=function $mxText$$getAutoDirection$(){var $a$$=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(this.value);return null!=$a$$&&0<$a$$.length&&"z"<$a$$[0]?mxConstants.TEXT_DIRECTION_RTL:mxConstants.TEXT_DIRECTION_LTR};
mxText.prototype.updateBoundingBox=function $mxText$$updateBoundingBox$(){var $a$$=this.node;this.boundingBox=this.bounds.clone();var $b$$=this.getTextRotation(),$c$$=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER):null,$d$$=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE):null;if(!(this.ignoreStringSize||null==$a$$||"fill"==this.overflow||this.clipped&&this.ignoreClippedStringSize&&
$c$$==mxConstants.ALIGN_CENTER&&$d$$==mxConstants.ALIGN_MIDDLE)){$d$$=$c$$=null;if(null!=$a$$.ownerSVGElement)if(null!=$a$$.firstChild&&null!=$a$$.firstChild.firstChild&&"foreignObject"==$a$$.firstChild.firstChild.nodeName)$a$$=$a$$.firstChild.firstChild,$c$$=parseInt($a$$.getAttribute("width"))*this.scale,$d$$=parseInt($a$$.getAttribute("height"))*this.scale;else try{var $e$$=$a$$.getBBox();"string"==typeof this.value&&0==mxUtils.trim(this.value)?this.boundingBox=null:this.boundingBox=0==$e$$.width&&
0==$e$$.height?null:new mxRectangle($e$$.x,$e$$.y,$e$$.width,$e$$.height);return}catch($f$$){}else{$c$$=null!=this.state?this.state.view.textDiv:null;if(null==this.offsetWidth||null==this.offsetHeight)null!=$c$$&&(this.updateFont($c$$),this.updateSize($c$$,!1),this.updateInnerHtml($c$$),$a$$=$c$$),$e$$=$a$$,8!=document.documentMode||mxClient.IS_EM?null!=$e$$.firstChild&&"DIV"==$e$$.firstChild.nodeName&&($e$$=$e$$.firstChild):($d$$=Math.round(this.bounds.width/this.scale),this.wrap&&0<$d$$?($a$$.style.wordWrap=
mxConstants.WORD_WRAP,$a$$.style.whiteSpace="normal","break-word"!=$a$$.style.wordWrap&&($a$$=$e$$.getElementsByTagName("div"),0<$a$$.length&&($e$$=$a$$[$a$$.length-1]),$c$$=$e$$.offsetWidth+2,$a$$=this.node.getElementsByTagName("div"),this.clipped&&($c$$=Math.min($d$$,$c$$)),1<$a$$.length&&($a$$[$a$$.length-2].style.width=$c$$+"px"))):$a$$.style.whiteSpace="nowrap"),this.offsetWidth=$e$$.offsetWidth+this.textWidthPadding,this.offsetHeight=$e$$.offsetHeight;$c$$=this.offsetWidth*this.scale;$d$$=this.offsetHeight*
this.scale}null!=$c$$&&null!=$d$$&&(this.boundingBox=new mxRectangle(this.bounds.x,this.bounds.y,$c$$,$d$$))}null!=this.boundingBox&&(0!=$b$$?($b$$=mxUtils.getBoundingBox(new mxRectangle(this.margin.x*this.boundingBox.width,this.margin.y*this.boundingBox.height,this.boundingBox.width,this.boundingBox.height),$b$$,new mxPoint(0,0)),this.unrotatedBoundingBox=mxRectangle.fromRectangle(this.boundingBox),this.unrotatedBoundingBox.x+=this.margin.x*this.unrotatedBoundingBox.width,this.unrotatedBoundingBox.y+=
this.margin.y*this.unrotatedBoundingBox.height,this.boundingBox.x+=$b$$.x,this.boundingBox.y+=$b$$.y,this.boundingBox.width=$b$$.width,this.boundingBox.height=$b$$.height):(this.boundingBox.x+=this.margin.x*this.boundingBox.width,this.boundingBox.y+=this.margin.y*this.boundingBox.height,this.unrotatedBoundingBox=null))};mxText.prototype.getShapeRotation=function $mxText$$getShapeRotation$(){return 0};
mxText.prototype.getTextRotation=function $mxText$$getTextRotation$(){return null!=this.state&&null!=this.state.shape?this.state.shape.getTextRotation():0};mxText.prototype.isPaintBoundsInverted=function $mxText$$isPaintBoundsInverted$(){return!this.horizontal&&null!=this.state&&this.state.view.graph.model.isVertex(this.state.cell)};
mxText.prototype.configureCanvas=function $mxText$$configureCanvas$($a$$,$b$$,$c$$,$d$$,$e$$){mxShape.prototype.configureCanvas.apply(this,arguments);$a$$.setFontColor(this.color);$a$$.setFontBackgroundColor(this.background);$a$$.setFontBorderColor(this.border);$a$$.setFontFamily(this.family);$a$$.setFontSize(this.size);$a$$.setFontStyle(this.fontStyle)};
mxText.prototype.updateVmlContainer=function $mxText$$updateVmlContainer$(){this.node.style.left=Math.round(this.bounds.x)+"px";this.node.style.top=Math.round(this.bounds.y)+"px";this.node.style.width="1px";this.node.style.height="1px";this.node.style.overflow="visible"};
mxText.prototype.redrawHtmlShape=function $mxText$$redrawHtmlShape$(){var $a$$=this.node.style;$a$$.whiteSpace="normal";$a$$.overflow="";$a$$.width="";$a$$.height="";this.updateValue();this.updateFont(this.node);this.updateSize(this.node,null==this.state||null==this.state.view.textDiv);this.offsetHeight=this.offsetWidth=null;mxClient.IS_IE&&(null==document.documentMode||8>=document.documentMode)?this.updateHtmlFilter():this.updateHtmlTransform()};
mxText.prototype.updateHtmlTransform=function $mxText$$updateHtmlTransform$(){var $a$$=this.getTextRotation(),$b$$=this.node.style,$c$$=this.margin.x,$d$$=this.margin.y;0!=$a$$?(mxUtils.setPrefixedStyle($b$$,"transformOrigin",100*-$c$$+"% "+100*-$d$$+"%"),mxUtils.setPrefixedStyle($b$$,"transform","translate("+100*$c$$+"%,"+100*$d$$+"%)scale("+this.scale+") rotate("+$a$$+"deg)")):(mxUtils.setPrefixedStyle($b$$,"transformOrigin","0% 0%"),mxUtils.setPrefixedStyle($b$$,"transform","scale("+this.scale+
")translate("+100*$c$$+"%,"+100*$d$$+"%)"));$b$$.left=Math.round(this.bounds.x-Math.ceil($c$$*("fill"!=this.overflow&&"width"!=this.overflow?3:1)))+"px";$b$$.top=Math.round(this.bounds.y-$d$$*("fill"!=this.overflow?3:1))+"px";$b$$.opacity=100>this.opacity?this.opacity/100:""};
mxText.prototype.updateInnerHtml=function $mxText$$updateInnerHtml$($a$$){if(mxUtils.isNode(this.value))$a$$.innerHTML=this.value.outerHTML;else{var $b$$=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&($b$$=mxUtils.htmlEntities($b$$,!1));$b$$=mxUtils.replaceTrailingNewlines($b$$,"<div>&nbsp;</div>");$b$$=this.replaceLinefeeds?$b$$.replace(/\n/g,"<br/>"):$b$$;$a$$.innerHTML='<div style="display:inline-block;_display:inline;">'+$b$$+"</div>"}};
mxText.prototype.updateHtmlFilter=function $mxText$$updateHtmlFilter$(){var $a$$=this.node.style,$b$$=this.margin.x,$c$$=this.margin.y,$d$$=this.scale;mxUtils.setOpacity(this.node,this.opacity);var $e$$,$f$$=0,$g$$=null!=this.state?this.state.view.textDiv:null,$k$$=this.node;if(null!=$g$$){$g$$.style.overflow="";$g$$.style.height="";$g$$.style.width="";this.updateFont($g$$);this.updateSize($g$$,!1);this.updateInnerHtml($g$$);var $l$$=Math.round(this.bounds.width/this.scale);this.wrap&&0<$l$$?($g$$.style.whiteSpace=
"normal",$g$$.style.wordWrap=mxConstants.WORD_WRAP,$e$$=$l$$,this.clipped&&($e$$=Math.min($e$$,this.bounds.width)),$g$$.style.width=$e$$+"px"):$g$$.style.whiteSpace="nowrap";$k$$=$g$$;null!=$k$$.firstChild&&"DIV"==$k$$.firstChild.nodeName&&($k$$=$k$$.firstChild,this.wrap&&"break-word"==$g$$.style.wordWrap&&($k$$.style.width="100%"));!this.clipped&&this.wrap&&0<$l$$&&($e$$=$k$$.offsetWidth+this.textWidthPadding,$g$$.style.width=$e$$+"px");$f$$=$k$$.offsetHeight+2;mxClient.IS_QUIRKS&&null!=this.border&&
this.border!=mxConstants.NONE&&($f$$+=3)}else null!=$k$$.firstChild&&"DIV"==$k$$.firstChild.nodeName&&($k$$=$k$$.firstChild,$f$$=$k$$.offsetHeight);$e$$=$k$$.offsetWidth+this.textWidthPadding;this.clipped&&($f$$=Math.min($f$$,this.bounds.height));$l$$=this.bounds.width/$d$$;$g$$=this.bounds.height/$d$$;"fill"==this.overflow?($f$$=$g$$,$e$$=$l$$):"width"==this.overflow&&($f$$=$k$$.scrollHeight,$e$$=$l$$);this.offsetWidth=$e$$;this.offsetHeight=$f$$;mxClient.IS_QUIRKS&&(this.clipped||"width"==this.overflow&&
0<$g$$)?($g$$=Math.min($g$$,$f$$),$a$$.height=Math.round($g$$)+"px"):$g$$=$f$$;"fill"!=this.overflow&&"width"!=this.overflow&&(this.clipped&&($e$$=Math.min($l$$,$e$$)),$l$$=$e$$,mxClient.IS_QUIRKS&&this.clipped||this.wrap)&&($a$$.width=Math.round($l$$)+"px");var $g$$=$g$$*$d$$,$l$$=$l$$*$d$$,$m$$=this.getTextRotation()*(Math.PI/180);$e$$=parseFloat(parseFloat(Math.cos($m$$)).toFixed(8));$f$$=parseFloat(parseFloat(Math.sin(-$m$$)).toFixed(8));$m$$%=2*Math.PI;0>$m$$&&($m$$+=2*Math.PI);$m$$%=Math.PI;
$m$$>Math.PI/2&&($m$$=Math.PI-$m$$);var $k$$=Math.cos($m$$),$n$$=Math.sin(-$m$$),$b$$=$l$$*-($b$$+.5),$p$$=$g$$*-($c$$+.5);0!=$m$$&&($c$$="progid:DXImageTransform.Microsoft.Matrix(M11="+$e$$+", M12="+$f$$+", M21="+-$f$$+", M22="+$e$$+", sizingMethod='auto expand')",$a$$.filter=null!=$a$$.filter&&0<$a$$.filter.length?$a$$.filter+(" "+$c$$):$c$$);$c$$=0;"fill"!=this.overflow&&mxClient.IS_QUIRKS&&($c$$=this.valign==mxConstants.ALIGN_TOP?$c$$-1:this.valign==mxConstants.ALIGN_BOTTOM?$c$$+2:$c$$+1);$a$$.zoom=
$d$$;$a$$.left=Math.round(this.bounds.x+(($l$$-$l$$*$k$$+$g$$*$n$$)/2-$e$$*$b$$-$f$$*$p$$)-$l$$/2)+"px";$a$$.top=Math.round(this.bounds.y+(($g$$-$g$$*$k$$+$l$$*$n$$)/2+$f$$*$b$$-$e$$*$p$$)-$g$$/2+$c$$)+"px"};
mxText.prototype.updateValue=function $mxText$$updateValue$(){if(mxUtils.isNode(this.value))this.node.innerHTML="",this.node.appendChild(this.value);else{var $a$$=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&($a$$=mxUtils.htmlEntities($a$$,!1));var $a$$=mxUtils.replaceTrailingNewlines($a$$,"<div><br></div>"),$a$$=this.replaceLinefeeds?$a$$.replace(/\n/g,"<br/>"):$a$$,$b$$=null!=this.background&&this.background!=mxConstants.NONE?this.background:null,$c$$=null!=this.border&&this.border!=
mxConstants.NONE?this.border:null;if("fill"==this.overflow||"width"==this.overflow)null!=$b$$&&(this.node.style.backgroundColor=$b$$),null!=$c$$&&(this.node.style.border="1px solid "+$c$$);else{var $d$$="";null!=$b$$&&($d$$+="background-color:"+$b$$+";");null!=$c$$&&($d$$+="border:1px solid "+$c$$+";");$a$$='<div style="zoom:1;'+$d$$+"display:inline-block;_display:inline;text-decoration:inherit;padding-bottom:1px;padding-right:1px;line-height:"+(mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+
"px":mxConstants.LINE_HEIGHT)+'">'+$a$$+"</div>"}this.node.innerHTML=$a$$;$a$$=this.node.getElementsByTagName("div");0<$a$$.length&&($b$$=this.textDirection,$b$$==mxConstants.TEXT_DIRECTION_AUTO&&this.dialect!=mxConstants.DIALECT_STRICTHTML&&($b$$=this.getAutoDirection()),$b$$==mxConstants.TEXT_DIRECTION_LTR||$b$$==mxConstants.TEXT_DIRECTION_RTL?$a$$[$a$$.length-1].setAttribute("dir",$b$$):$a$$[$a$$.length-1].removeAttribute("dir"))}};
mxText.prototype.updateFont=function $mxText$$updateFont$($a$$){$a$$=$a$$.style;$a$$.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT;$a$$.fontSize=this.size+"px";$a$$.fontFamily=this.family;$a$$.verticalAlign="top";$a$$.color=this.color;$a$$.fontWeight=(this.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD?"bold":"";$a$$.fontStyle=(this.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC?"italic":"";$a$$.textDecoration=(this.fontStyle&
mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE?"underline":"";$a$$.textAlign=this.align==mxConstants.ALIGN_CENTER?"center":this.align==mxConstants.ALIGN_RIGHT?"right":"left"};
mxText.prototype.updateSize=function $mxText$$updateSize$($a$$,$b$$){var $c$$=Math.max(0,Math.round(this.bounds.width/this.scale)),$d$$=Math.max(0,Math.round(this.bounds.height/this.scale)),$e$$=$a$$.style;this.clipped?($e$$.overflow="hidden",mxClient.IS_QUIRKS?$e$$.width=$c$$+"px":($e$$.maxHeight=$d$$+"px",$e$$.maxWidth=$c$$+"px")):"fill"==this.overflow?($e$$.width=$c$$+1+"px",$e$$.height=$d$$+1+"px",$e$$.overflow="hidden"):"width"==this.overflow&&($e$$.width=$c$$+1+"px",$e$$.maxHeight=$d$$+1+"px",
$e$$.overflow="hidden");if(this.wrap&&0<$c$$){if($e$$.wordWrap=mxConstants.WORD_WRAP,$e$$.whiteSpace="normal",$e$$.width=$c$$+"px",$b$$&&"fill"!=this.overflow&&"width"!=this.overflow){$d$$=$a$$;null!=$d$$.firstChild&&"DIV"==$d$$.firstChild.nodeName&&($d$$=$d$$.firstChild,"break-word"==$a$$.style.wordWrap&&($d$$.style.width="100%"));var $f$$=$d$$.offsetWidth;if(0==$f$$){var $g$$=$a$$.parentNode;$a$$.style.visibility="hidden";document.body.appendChild($a$$);$f$$=$d$$.offsetWidth;$a$$.style.visibility=
"";$g$$.appendChild($a$$)}$f$$+=3;this.clipped&&($f$$=Math.min($f$$,$c$$));$e$$.width=$f$$+"px"}}else $e$$.whiteSpace="nowrap"};mxText.prototype.updateMargin=function $mxText$$updateMargin$(){this.margin=mxUtils.getAlignmentAsPoint(this.align,this.valign)};
mxText.prototype.getSpacing=function $mxText$$getSpacing$(){return new mxPoint(this.align==mxConstants.ALIGN_CENTER?(this.spacingLeft-this.spacingRight)/2:this.align==mxConstants.ALIGN_RIGHT?-this.spacingRight-this.baseSpacingRight:this.spacingLeft+this.baseSpacingLeft,this.valign==mxConstants.ALIGN_MIDDLE?(this.spacingTop-this.spacingBottom)/2:this.valign==mxConstants.ALIGN_BOTTOM?-this.spacingBottom-this.baseSpacingBottom:this.spacingTop+this.baseSpacingTop)};
function mxTriangle(){mxActor.call(this)}mxUtils.extend(mxTriangle,mxActor);mxTriangle.prototype.isRoundable=function $mxTriangle$$isRoundable$(){return!0};mxTriangle.prototype.redrawPath=function $mxTriangle$$redrawPath$($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($a$$,[new mxPoint(0,0),new mxPoint($d$$,.5*$e$$),new mxPoint(0,$e$$)],this.isRounded,$b$$,!0)};function mxHexagon(){mxActor.call(this)}
mxUtils.extend(mxHexagon,mxActor);mxHexagon.prototype.redrawPath=function $mxHexagon$$redrawPath$($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($a$$,[new mxPoint(.25*$d$$,0),new mxPoint(.75*$d$$,0),new mxPoint($d$$,.5*$e$$),new mxPoint(.75*$d$$,$e$$),new mxPoint(.25*$d$$,$e$$),new mxPoint(0,.5*$e$$)],this.isRounded,$b$$,!0)};
function mxLine($a$$,$b$$,$c$$){mxShape.call(this);this.bounds=$a$$;this.stroke=$b$$;this.strokewidth=null!=$c$$?$c$$:1}mxUtils.extend(mxLine,mxShape);mxLine.prototype.paintVertexShape=function $mxLine$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){$c$$+=$e$$/2;$a$$.begin();$a$$.moveTo($b$$,$c$$);$a$$.lineTo($b$$+$d$$,$c$$);$a$$.stroke()};
function mxImageShape($a$$,$b$$,$c$$,$d$$,$e$$){mxShape.call(this);this.bounds=$a$$;this.image=$b$$;this.fill=$c$$;this.stroke=$d$$;this.strokewidth=null!=$e$$?$e$$:1;this.shadow=!1}mxUtils.extend(mxImageShape,mxRectangleShape);mxImageShape.prototype.preserveImageAspect=!0;mxImageShape.prototype.getSvgScreenOffset=function $mxImageShape$$getSvgScreenOffset$(){return 0};
mxImageShape.prototype.apply=function $mxImageShape$$apply$($a$$){mxShape.prototype.apply.apply(this,arguments);this.gradient=this.stroke=this.fill=null;null!=this.style&&(this.preserveImageAspect=1==mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_ASPECT,1),this.flipH=this.flipH||1==mxUtils.getValue(this.style,"imageFlipH",0),this.flipV=this.flipV||1==mxUtils.getValue(this.style,"imageFlipV",0))};mxImageShape.prototype.isHtmlAllowed=function $mxImageShape$$isHtmlAllowed$(){return!this.preserveImageAspect};
mxImageShape.prototype.createHtml=function $mxImageShape$$createHtml$(){var $a$$=document.createElement("div");$a$$.style.position="absolute";return $a$$};mxImageShape.prototype.isRoundable=function $mxImageShape$$isRoundable$($a$$,$b$$,$c$$,$d$$,$e$$){return!1};
mxImageShape.prototype.paintVertexShape=function $mxImageShape$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=this.image){var $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,null),$g$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,null);null!=$f$$&&($a$$.setFillColor($f$$),$a$$.setStrokeColor($g$$),$a$$.rect($b$$,$c$$,$d$$,$e$$),$a$$.fillAndStroke());$a$$.image($b$$,$c$$,$d$$,$e$$,this.image,this.preserveImageAspect,!1,!1);$g$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,
null);null!=$g$$&&($a$$.setShadow(!1),$a$$.setStrokeColor($g$$),$a$$.rect($b$$,$c$$,$d$$,$e$$),$a$$.stroke())}else mxRectangleShape.prototype.paintBackground.apply(this,arguments)};
mxImageShape.prototype.redrawHtmlShape=function $mxImageShape$$redrawHtmlShape$(){this.node.style.left=Math.round(this.bounds.x)+"px";this.node.style.top=Math.round(this.bounds.y)+"px";this.node.style.width=Math.max(0,Math.round(this.bounds.width))+"px";this.node.style.height=Math.max(0,Math.round(this.bounds.height))+"px";this.node.innerHTML="";if(null!=this.image){var $a$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,""),$b$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,
"");this.node.style.backgroundColor=$a$$;this.node.style.borderColor=$b$$;$a$$=document.createElement(mxClient.IS_IE6||(null==document.documentMode||8>=document.documentMode)&&0!=this.rotation?mxClient.VML_PREFIX+":image":"img");$a$$.setAttribute("border","0");$a$$.style.position="absolute";$a$$.src=this.image;$b$$=100>this.opacity?"alpha(opacity="+this.opacity+")":"";this.node.style.filter=$b$$;this.flipH&&this.flipV?$b$$+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2)":this.flipH?$b$$+=
"progid:DXImageTransform.Microsoft.BasicImage(mirror=1)":this.flipV&&($b$$+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)");$a$$.style.filter!=$b$$&&($a$$.style.filter=$b$$);"image"==$a$$.nodeName?$a$$.style.rotation=this.rotation:0!=this.rotation?mxUtils.setPrefixedStyle($a$$.style,"transform","rotate("+this.rotation+"deg)"):mxUtils.setPrefixedStyle($a$$.style,"transform","");$a$$.style.width=this.node.style.width;$a$$.style.height=this.node.style.height;this.node.style.backgroundImage=
"";this.node.appendChild($a$$)}else this.setTransparentBackgroundImage(this.node)};function mxLabel($a$$,$b$$,$c$$,$d$$){mxRectangleShape.call(this,$a$$,$b$$,$c$$,$d$$)}mxUtils.extend(mxLabel,mxRectangleShape);mxLabel.prototype.imageSize=mxConstants.DEFAULT_IMAGESIZE;mxLabel.prototype.spacing=2;mxLabel.prototype.indicatorSize=10;mxLabel.prototype.indicatorSpacing=2;
mxLabel.prototype.init=function $mxLabel$$init$($a$$){mxShape.prototype.init.apply(this,arguments);null!=this.indicatorShape&&(this.indicator=new this.indicatorShape,this.indicator.dialect=this.dialect,this.indicator.init(this.node))};
mxLabel.prototype.redraw=function $mxLabel$$redraw$(){null!=this.indicator&&(this.indicator.fill=this.indicatorColor,this.indicator.stroke=this.indicatorStrokeColor,this.indicator.gradient=this.indicatorGradientColor,this.indicator.direction=this.indicatorDirection);mxShape.prototype.redraw.apply(this,arguments)};mxLabel.prototype.isHtmlAllowed=function $mxLabel$$isHtmlAllowed$(){return mxRectangleShape.prototype.isHtmlAllowed.apply(this,arguments)&&null==this.indicatorColor&&null==this.indicatorShape};
mxLabel.prototype.paintForeground=function $mxLabel$$paintForeground$($a$$,$b$$,$c$$,$d$$,$e$$){this.paintImage($a$$,$b$$,$c$$,$d$$,$e$$);this.paintIndicator($a$$,$b$$,$c$$,$d$$,$e$$);mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxLabel.prototype.paintImage=function $mxLabel$$paintImage$($a$$,$b$$,$c$$,$d$$,$e$$){null!=this.image&&($b$$=this.getImageBounds($b$$,$c$$,$d$$,$e$$),$a$$.image($b$$.x,$b$$.y,$b$$.width,$b$$.height,this.image,!1,!1,!1))};
mxLabel.prototype.getImageBounds=function $mxLabel$$getImageBounds$($a$$,$b$$,$c$$,$d$$){var $e$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),$f$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),$g$$=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_WIDTH,mxConstants.DEFAULT_IMAGESIZE),$k$$=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_HEIGHT,mxConstants.DEFAULT_IMAGESIZE),$l$$=mxUtils.getNumber(this.style,
mxConstants.STYLE_SPACING,this.spacing)+5;$a$$=$e$$==mxConstants.ALIGN_CENTER?$a$$+($c$$-$g$$)/2:$e$$==mxConstants.ALIGN_RIGHT?$a$$+($c$$-$g$$-$l$$):$a$$+$l$$;$b$$=$f$$==mxConstants.ALIGN_TOP?$b$$+$l$$:$f$$==mxConstants.ALIGN_BOTTOM?$b$$+($d$$-$k$$-$l$$):$b$$+($d$$-$k$$)/2;return new mxRectangle($a$$,$b$$,$g$$,$k$$)};
mxLabel.prototype.paintIndicator=function $mxLabel$$paintIndicator$($a$$,$b$$,$c$$,$d$$,$e$$){null!=this.indicator?(this.indicator.bounds=this.getIndicatorBounds($b$$,$c$$,$d$$,$e$$),this.indicator.paint($a$$)):null!=this.indicatorImage&&($b$$=this.getIndicatorBounds($b$$,$c$$,$d$$,$e$$),$a$$.image($b$$.x,$b$$.y,$b$$.width,$b$$.height,this.indicatorImage,!1,!1,!1))};
mxLabel.prototype.getIndicatorBounds=function $mxLabel$$getIndicatorBounds$($a$$,$b$$,$c$$,$d$$){var $e$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),$f$$=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),$g$$=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_WIDTH,this.indicatorSize),$k$$=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_HEIGHT,this.indicatorSize),$l$$=this.spacing+5;$a$$=$e$$==mxConstants.ALIGN_RIGHT?
$a$$+($c$$-$g$$-$l$$):$e$$==mxConstants.ALIGN_CENTER?$a$$+($c$$-$g$$)/2:$a$$+$l$$;$b$$=$f$$==mxConstants.ALIGN_BOTTOM?$b$$+($d$$-$k$$-$l$$):$f$$==mxConstants.ALIGN_TOP?$b$$+$l$$:$b$$+($d$$-$k$$)/2;return new mxRectangle($a$$,$b$$,$g$$,$k$$)};
mxLabel.prototype.redrawHtmlShape=function $mxLabel$$redrawHtmlShape$(){for(mxRectangleShape.prototype.redrawHtmlShape.apply(this,arguments);this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);if(null!=this.image){var $a$$=document.createElement("img");$a$$.style.position="relative";$a$$.setAttribute("border","0");var $b$$=this.getImageBounds(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);$b$$.x-=this.bounds.x;$b$$.y-=this.bounds.y;$a$$.style.left=Math.round($b$$.x)+
"px";$a$$.style.top=Math.round($b$$.y)+"px";$a$$.style.width=Math.round($b$$.width)+"px";$a$$.style.height=Math.round($b$$.height)+"px";$a$$.src=this.image;this.node.appendChild($a$$)}};function mxCylinder($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxCylinder,mxShape);mxCylinder.prototype.maxHeight=40;mxCylinder.prototype.svgStrokeTolerance=0;
mxCylinder.prototype.paintVertexShape=function $mxCylinder$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.translate($b$$,$c$$);$a$$.begin();this.redrawPath($a$$,$b$$,$c$$,$d$$,$e$$,!1);$a$$.fillAndStroke();this.outline&&null!=this.style&&0!=mxUtils.getValue(this.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0)||($a$$.setShadow(!1),$a$$.begin(),this.redrawPath($a$$,$b$$,$c$$,$d$$,$e$$,!0),$a$$.stroke())};
mxCylinder.prototype.getCylinderSize=function $mxCylinder$$getCylinderSize$($a$$,$b$$,$c$$,$d$$){return Math.min(this.maxHeight,Math.round($d$$/5))};
mxCylinder.prototype.redrawPath=function $mxCylinder$$redrawPath$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=this.getCylinderSize($b$$,$c$$,$d$$,$e$$);if($f$$&&null!=this.fill||!$f$$&&null==this.fill)$a$$.moveTo(0,$b$$),$a$$.curveTo(0,2*$b$$,$d$$,2*$b$$,$d$$,$b$$),$f$$||($a$$.stroke(),$a$$.begin());$f$$||($a$$.moveTo(0,$b$$),$a$$.curveTo(0,-$b$$/3,$d$$,-$b$$/3,$d$$,$b$$),$a$$.lineTo($d$$,$e$$-$b$$),$a$$.curveTo($d$$,$e$$+$b$$/3,0,$e$$+$b$$/3,0,$e$$-$b$$),$a$$.close())};
function mxConnector($a$$,$b$$,$c$$){mxPolyline.call(this,$a$$,$b$$,$c$$)}mxUtils.extend(mxConnector,mxPolyline);mxConnector.prototype.updateBoundingBox=function $mxConnector$$updateBoundingBox$(){this.useSvgBoundingBox=null!=this.style&&1==this.style[mxConstants.STYLE_CURVED];mxShape.prototype.updateBoundingBox.apply(this,arguments)};
mxConnector.prototype.paintEdgeShape=function $mxConnector$$paintEdgeShape$($a$$,$b$$){var $c$$=this.createMarker($a$$,$b$$,!0),$d$$=this.createMarker($a$$,$b$$,!1);mxPolyline.prototype.paintEdgeShape.apply(this,arguments);$a$$.setFillColor(this.stroke);$a$$.setShadow(!1);$a$$.setDashed(!1);null!=$c$$&&$c$$();null!=$d$$&&$d$$()};
mxConnector.prototype.createMarker=function $mxConnector$$createMarker$($a$$,$b$$,$c$$){var $d$$=null,$e$$=$b$$.length,$f$$=mxUtils.getValue(this.style,$c$$?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW),$g$$=$c$$?$b$$[1]:$b$$[$e$$-2],$k$$=$c$$?$b$$[0]:$b$$[$e$$-1];if(null!=$f$$&&null!=$g$$&&null!=$k$$){for($d$$=1;$d$$<$e$$-1&&0==Math.round($g$$.x-$k$$.x)&&0==Math.round($g$$.y-$k$$.y);)$g$$=$c$$?$b$$[1+$d$$]:$b$$[$e$$-2-$d$$],$d$$++;$b$$=$k$$.x-$g$$.x;$e$$=$k$$.y-$g$$.y;$d$$=Math.max(1,
Math.sqrt($b$$*$b$$+$e$$*$e$$));$g$$=$b$$/$d$$;$b$$=$e$$/$d$$;$e$$=mxUtils.getNumber(this.style,$c$$?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE);$d$$=mxMarker.createMarker($a$$,this,$f$$,$k$$,$g$$,$b$$,$e$$,$c$$,this.strokewidth,0!=this.style[$c$$?mxConstants.STYLE_STARTFILL:mxConstants.STYLE_ENDFILL])}return $d$$};
mxConnector.prototype.augmentBoundingBox=function $mxConnector$$augmentBoundingBox$($a$$){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var $b$$=0;mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&($b$$=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_MARKERSIZE)+1);mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&($b$$=Math.max($b$$,mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,
mxConstants.DEFAULT_MARKERSIZE))+1);$a$$.grow($b$$*this.scale)};function mxSwimlane($a$$,$b$$,$c$$,$d$$){mxShape.call(this);this.bounds=$a$$;this.fill=$b$$;this.stroke=$c$$;this.strokewidth=null!=$d$$?$d$$:1}mxUtils.extend(mxSwimlane,mxShape);mxSwimlane.prototype.imageSize=16;mxSwimlane.prototype.isRoundable=function $mxSwimlane$$isRoundable$($a$$,$b$$,$c$$,$d$$,$e$$){return!0};
mxSwimlane.prototype.getTitleSize=function $mxSwimlane$$getTitleSize$(){return Math.max(0,mxUtils.getValue(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE))};
mxSwimlane.prototype.getLabelBounds=function $mxSwimlane$$getLabelBounds$($a$$){var $b$$=this.getTitleSize();$a$$=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height);var $c$$=this.isHorizontal(),$d$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0),$e$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0),$f$$=this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH,$c$$=$c$$==!$f$$,$d$$=!$c$$&&$d$$!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==
mxConstants.DIRECTION_WEST),$e$$=$c$$&&$e$$!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);if($f$$){$b$$=Math.min($a$$.width,$b$$*this.scale);if($d$$||$e$$)$a$$.x+=$a$$.width-$b$$;$a$$.width=$b$$}else{$b$$=Math.min($a$$.height,$b$$*this.scale);if($d$$||$e$$)$a$$.y+=$a$$.height-$b$$;$a$$.height=$b$$}return $a$$};
mxSwimlane.prototype.getGradientBounds=function $mxSwimlane$$getGradientBounds$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$=this.getTitleSize();if(this.isHorizontal())return $a$$=Math.min($a$$,$e$$),new mxRectangle($b$$,$c$$,$d$$,$a$$);$a$$=Math.min($a$$,$d$$);return new mxRectangle($b$$,$c$$,$a$$,$e$$)};mxSwimlane.prototype.getArcSize=function $mxSwimlane$$getArcSize$($a$$,$b$$,$c$$){$a$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;return $c$$*$a$$*3};
mxSwimlane.prototype.isHorizontal=function $mxSwimlane$$isHorizontal$(){return 1==mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)};
mxSwimlane.prototype.paintVertexShape=function $mxSwimlane$$paintVertexShape$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.getTitleSize(),$g$$=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE),$k$$=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_LINE,1),$l$$=0,$f$$=this.isHorizontal()?Math.min($f$$,$e$$):Math.min($f$$,$d$$);$a$$.translate($b$$,$c$$);this.isRounded?($l$$=this.getArcSize($d$$,$e$$,$f$$),$l$$=Math.min((this.isHorizontal()?$e$$:$d$$)-$f$$,Math.min($f$$,
$l$$)),this.paintRoundedSwimlane($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$l$$,$g$$,$k$$)):this.paintSwimlane($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$);$g$$=mxUtils.getValue(this.style,mxConstants.STYLE_SEPARATORCOLOR,mxConstants.NONE);this.paintSeparator($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$);null!=this.image&&($e$$=this.getImageBounds($b$$,$c$$,$d$$,$e$$),$a$$.image($e$$.x-$b$$,$e$$.y-$c$$,$e$$.width,$e$$.height,this.image,!1,!1,!1));this.glass&&($a$$.setShadow(!1),this.paintGlassEffect($a$$,0,0,$d$$,$f$$,$l$$))};
mxSwimlane.prototype.paintSwimlane=function $mxSwimlane$$paintSwimlane$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){$a$$.begin();this.isHorizontal()?($a$$.moveTo(0,$f$$),$a$$.lineTo(0,0),$a$$.lineTo($d$$,0),$a$$.lineTo($d$$,$f$$),$a$$.fillAndStroke(),$f$$<$e$$&&($g$$==mxConstants.NONE?$a$$.pointerEvents=!1:$a$$.setFillColor($g$$),$a$$.begin(),$a$$.moveTo(0,$f$$),$a$$.lineTo(0,$e$$),$a$$.lineTo($d$$,$e$$),$a$$.lineTo($d$$,$f$$),$g$$==mxConstants.NONE?$a$$.stroke():$a$$.fillAndStroke())):($a$$.moveTo($f$$,
0),$a$$.lineTo(0,0),$a$$.lineTo(0,$e$$),$a$$.lineTo($f$$,$e$$),$a$$.fillAndStroke(),$f$$<$d$$&&($g$$==mxConstants.NONE?$a$$.pointerEvents=!1:$a$$.setFillColor($g$$),$a$$.begin(),$a$$.moveTo($f$$,0),$a$$.lineTo($d$$,0),$a$$.lineTo($d$$,$e$$),$a$$.lineTo($f$$,$e$$),$g$$==mxConstants.NONE?$a$$.stroke():$a$$.fillAndStroke()));$k$$&&this.paintDivider($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$==mxConstants.NONE)};
mxSwimlane.prototype.paintRoundedSwimlane=function $mxSwimlane$$paintRoundedSwimlane$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$a$$.begin();this.isHorizontal()?($a$$.moveTo($d$$,$f$$),$a$$.lineTo($d$$,$g$$),$a$$.quadTo($d$$,0,$d$$-Math.min($d$$/2,$g$$),0),$a$$.lineTo(Math.min($d$$/2,$g$$),0),$a$$.quadTo(0,0,0,$g$$),$a$$.lineTo(0,$f$$),$a$$.fillAndStroke(),$f$$<$e$$&&($k$$==mxConstants.NONE?$a$$.pointerEvents=!1:$a$$.setFillColor($k$$),$a$$.begin(),$a$$.moveTo(0,$f$$),$a$$.lineTo(0,$e$$-$g$$),
$a$$.quadTo(0,$e$$,Math.min($d$$/2,$g$$),$e$$),$a$$.lineTo($d$$-Math.min($d$$/2,$g$$),$e$$),$a$$.quadTo($d$$,$e$$,$d$$,$e$$-$g$$),$a$$.lineTo($d$$,$f$$),$k$$==mxConstants.NONE?$a$$.stroke():$a$$.fillAndStroke())):($a$$.moveTo($f$$,0),$a$$.lineTo($g$$,0),$a$$.quadTo(0,0,0,Math.min($e$$/2,$g$$)),$a$$.lineTo(0,$e$$-Math.min($e$$/2,$g$$)),$a$$.quadTo(0,$e$$,$g$$,$e$$),$a$$.lineTo($f$$,$e$$),$a$$.fillAndStroke(),$f$$<$d$$&&($k$$==mxConstants.NONE?$a$$.pointerEvents=!1:$a$$.setFillColor($k$$),$a$$.begin(),
$a$$.moveTo($f$$,$e$$),$a$$.lineTo($d$$-$g$$,$e$$),$a$$.quadTo($d$$,$e$$,$d$$,$e$$-Math.min($e$$/2,$g$$)),$a$$.lineTo($d$$,Math.min($e$$/2,$g$$)),$a$$.quadTo($d$$,0,$d$$-$g$$,0),$a$$.lineTo($f$$,0),$k$$==mxConstants.NONE?$a$$.stroke():$a$$.fillAndStroke()));$l$$&&this.paintDivider($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$k$$==mxConstants.NONE)};
mxSwimlane.prototype.paintDivider=function $mxSwimlane$$paintDivider$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$g$$||$a$$.setShadow(!1);$a$$.begin();this.isHorizontal()?($a$$.moveTo(0,$f$$),$a$$.lineTo($d$$,$f$$)):($a$$.moveTo($f$$,0),$a$$.lineTo($f$$,$e$$));$a$$.stroke()};
mxSwimlane.prototype.paintSeparator=function $mxSwimlane$$paintSeparator$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$g$$!=mxConstants.NONE&&($a$$.setStrokeColor($g$$),$a$$.setDashed(!0),$a$$.begin(),this.isHorizontal()?($a$$.moveTo($d$$,$f$$),$a$$.lineTo($d$$,$e$$)):($a$$.moveTo($f$$,0),$a$$.lineTo($d$$,0)),$a$$.stroke(),$a$$.setDashed(!1))};
mxSwimlane.prototype.getImageBounds=function $mxSwimlane$$getImageBounds$($a$$,$b$$,$c$$,$d$$){return this.isHorizontal()?new mxRectangle($a$$+$c$$-this.imageSize,$b$$,this.imageSize,this.imageSize):new mxRectangle($a$$,$b$$,this.imageSize,this.imageSize)};function mxGraphLayout($a$$){this.graph=$a$$}mxGraphLayout.prototype.graph=null;mxGraphLayout.prototype.useBoundingBox=!0;mxGraphLayout.prototype.parent=null;mxGraphLayout.prototype.moveCell=function $mxGraphLayout$$moveCell$($a$$,$b$$,$c$$){};
mxGraphLayout.prototype.execute=function $mxGraphLayout$$execute$($a$$){};mxGraphLayout.prototype.getGraph=function $mxGraphLayout$$getGraph$(){return this.graph};mxGraphLayout.prototype.getConstraint=function $mxGraphLayout$$getConstraint$($a$$,$b$$,$c$$,$d$$){$c$$=this.graph.view.getState($b$$);$b$$=null!=$c$$?$c$$.style:this.graph.getCellStyle($b$$);return null!=$b$$?$b$$[$a$$]:null};
mxGraphLayout.traverse=function $mxGraphLayout$traverse$($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$c$$&&null!=$a$$&&($b$$=null!=$b$$?$b$$:!0,$e$$=$e$$||new mxDictionary,!$e$$.get($a$$)&&($e$$.put($a$$,!0),$d$$=$c$$($a$$,$d$$),null==$d$$||$d$$))&&($d$$=this.graph.model.getEdgeCount($a$$),0<$d$$))for(var $f$$=0;$f$$<$d$$;$f$$++){var $g$$=this.graph.model.getEdgeAt($a$$,$f$$),$k$$=this.graph.model.getTerminal($g$$,!0)==$a$$;if(!$b$$||$k$$)$k$$=this.graph.view.getVisibleTerminal($g$$,!$k$$),this.traverse($k$$,
$b$$,$c$$,$g$$,$e$$)}};mxGraphLayout.prototype.isAncestor=function $mxGraphLayout$$isAncestor$($a$$,$b$$,$c$$){if(!$c$$)return this.graph.model.getParent($b$$)==$a$$;if($b$$==$a$$)return!1;for(;null!=$b$$&&$b$$!=$a$$;)$b$$=this.graph.model.getParent($b$$);return $b$$==$a$$};mxGraphLayout.prototype.isVertexMovable=function $mxGraphLayout$$isVertexMovable$($a$$){return this.graph.isCellMovable($a$$)};
mxGraphLayout.prototype.isVertexIgnored=function $mxGraphLayout$$isVertexIgnored$($a$$){return!this.graph.getModel().isVertex($a$$)||!this.graph.isCellVisible($a$$)};mxGraphLayout.prototype.isEdgeIgnored=function $mxGraphLayout$$isEdgeIgnored$($a$$){var $b$$=this.graph.getModel();return!$b$$.isEdge($a$$)||!this.graph.isCellVisible($a$$)||null==$b$$.getTerminal($a$$,!0)||null==$b$$.getTerminal($a$$,!1)};
mxGraphLayout.prototype.setEdgeStyleEnabled=function $mxGraphLayout$$setEdgeStyleEnabled$($a$$,$b$$){this.graph.setCellStyles(mxConstants.STYLE_NOEDGESTYLE,$b$$?"0":"1",[$a$$])};mxGraphLayout.prototype.setOrthogonalEdge=function $mxGraphLayout$$setOrthogonalEdge$($a$$,$b$$){this.graph.setCellStyles(mxConstants.STYLE_ORTHOGONAL,$b$$?"1":"0",[$a$$])};
mxGraphLayout.prototype.getParentOffset=function $mxGraphLayout$$getParentOffset$($a$$){var $b$$=new mxPoint;if(null!=$a$$&&$a$$!=this.parent){var $c$$=this.graph.getModel();if($c$$.isAncestor(this.parent,$a$$))for(var $d$$=$c$$.getGeometry($a$$);$a$$!=this.parent;)$b$$.x+=$d$$.x,$b$$.y+=$d$$.y,$a$$=$c$$.getParent($a$$),$d$$=$c$$.getGeometry($a$$)}return $b$$};
mxGraphLayout.prototype.setEdgePoints=function $mxGraphLayout$$setEdgePoints$($a$$,$b$$){if(null!=$a$$){var $c$$=this.graph.model,$d$$=$c$$.getGeometry($a$$);null==$d$$?($d$$=new mxGeometry,$d$$.setRelative(!0)):$d$$=$d$$.clone();if(null!=this.parent&&null!=$b$$)for(var $e$$=$c$$.getParent($a$$),$e$$=this.getParentOffset($e$$),$f$$=0;$f$$<$b$$.length;$f$$++)$b$$[$f$$].x-=$e$$.x,$b$$[$f$$].y-=$e$$.y;$d$$.points=$b$$;$c$$.setGeometry($a$$,$d$$)}};
mxGraphLayout.prototype.setVertexLocation=function $mxGraphLayout$$setVertexLocation$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel(),$e$$=$d$$.getGeometry($a$$),$f$$=null;if(null!=$e$$){$f$$=new mxRectangle($b$$,$c$$,$e$$.width,$e$$.height);if(this.useBoundingBox){var $g$$=this.graph.getView().getState($a$$);if(null!=$g$$&&null!=$g$$.text&&null!=$g$$.text.boundingBox){var $k$$=this.graph.getView().scale,$l$$=$g$$.text.boundingBox;$g$$.text.boundingBox.x<$g$$.x&&($b$$+=($g$$.x-$l$$.x)/$k$$,$f$$.width=
$l$$.width);$g$$.text.boundingBox.y<$g$$.y&&($c$$+=($g$$.y-$l$$.y)/$k$$,$f$$.height=$l$$.height)}}null!=this.parent&&($g$$=$d$$.getParent($a$$),null!=$g$$&&$g$$!=this.parent&&($g$$=this.getParentOffset($g$$),$b$$-=$g$$.x,$c$$-=$g$$.y));if($e$$.x!=$b$$||$e$$.y!=$c$$)$e$$=$e$$.clone(),$e$$.x=$b$$,$e$$.y=$c$$,$d$$.setGeometry($a$$,$e$$)}return $f$$};
mxGraphLayout.prototype.getVertexBounds=function $mxGraphLayout$$getVertexBounds$($a$$){var $b$$=this.graph.getModel().getGeometry($a$$);if(this.useBoundingBox){var $c$$=this.graph.getView().getState($a$$);if(null!=$c$$&&null!=$c$$.text&&null!=$c$$.text.boundingBox)var $d$$=this.graph.getView().scale,$e$$=$c$$.text.boundingBox,$f$$=Math.max($c$$.x-$e$$.x,0)/$d$$,$g$$=Math.max($c$$.y-$e$$.y,0)/$d$$,$b$$=new mxRectangle($b$$.x-$f$$,$b$$.y-$g$$,$b$$.width+$f$$+Math.max($e$$.x+$e$$.width-($c$$.x+$c$$.width),
0)/$d$$,$b$$.height+$g$$+Math.max($e$$.y+$e$$.height-($c$$.y+$c$$.height),0)/$d$$)}null!=this.parent&&($a$$=this.graph.getModel().getParent($a$$),$b$$=$b$$.clone(),null!=$a$$&&$a$$!=this.parent&&($a$$=this.getParentOffset($a$$),$b$$.x+=$a$$.x,$b$$.y+=$a$$.y));return new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height)};mxGraphLayout.prototype.arrangeGroups=function $mxGraphLayout$$arrangeGroups$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return this.graph.updateGroupBounds($a$$,$b$$,!0,$c$$,$d$$,$e$$,$f$$)};
function WeightedCellSorter($a$$,$b$$){this.cell=$a$$;this.weightedValue=$b$$}WeightedCellSorter.prototype.weightedValue=0;WeightedCellSorter.prototype.nudge=!1;WeightedCellSorter.prototype.visited=!1;WeightedCellSorter.prototype.rankIndex=null;WeightedCellSorter.prototype.cell=null;WeightedCellSorter.prototype.compare=function $WeightedCellSorter$$compare$($a$$,$b$$){return null!=$a$$&&null!=$b$$?$b$$.weightedValue>$a$$.weightedValue?-1:$b$$.weightedValue<$a$$.weightedValue?1:$b$$.nudge?-1:1:0};
function mxStackLayout($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){mxGraphLayout.call(this,$a$$);this.horizontal=null!=$b$$?$b$$:!0;this.spacing=null!=$c$$?$c$$:0;this.x0=null!=$d$$?$d$$:0;this.y0=null!=$e$$?$e$$:0;this.border=null!=$f$$?$f$$:0}mxStackLayout.prototype=new mxGraphLayout;mxStackLayout.prototype.constructor=mxStackLayout;mxStackLayout.prototype.horizontal=null;mxStackLayout.prototype.spacing=null;mxStackLayout.prototype.x0=null;mxStackLayout.prototype.y0=null;mxStackLayout.prototype.border=0;
mxStackLayout.prototype.marginTop=0;mxStackLayout.prototype.marginLeft=0;mxStackLayout.prototype.marginRight=0;mxStackLayout.prototype.marginBottom=0;mxStackLayout.prototype.keepFirstLocation=!1;mxStackLayout.prototype.fill=!1;mxStackLayout.prototype.resizeParent=!1;mxStackLayout.prototype.resizeParentMax=!1;mxStackLayout.prototype.resizeLast=!1;mxStackLayout.prototype.wrap=null;mxStackLayout.prototype.borderCollapse=!0;mxStackLayout.prototype.allowGaps=!1;mxStackLayout.prototype.gridSize=0;
mxStackLayout.prototype.isHorizontal=function $mxStackLayout$$isHorizontal$(){return this.horizontal};
mxStackLayout.prototype.moveCell=function $mxStackLayout$$moveCell$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel(),$e$$=$d$$.getParent($a$$),$f$$=this.isHorizontal();if(null!=$a$$&&null!=$e$$){var $g$$=0,$k$$=$d$$.getChildCount($e$$);$c$$=$f$$?$b$$:$c$$;$b$$=this.graph.getView().getState($e$$);null!=$b$$&&($c$$-=$f$$?$b$$.x:$b$$.y);$c$$/=this.graph.view.scale;for($b$$=0;$b$$<$k$$;$b$$++){var $l$$=$d$$.getChildAt($e$$,$b$$);if($l$$!=$a$$&&($l$$=$d$$.getGeometry($l$$),null!=$l$$)){$l$$=$f$$?$l$$.x+
$l$$.width/2:$l$$.y+$l$$.height/2;if($g$$<=$c$$&&$l$$>$c$$)break;$g$$=$l$$}}$f$$=$e$$.getIndex($a$$);$f$$=Math.max(0,$b$$-($b$$>$f$$?1:0));$d$$.add($e$$,$a$$,$f$$)}};
mxStackLayout.prototype.getParentSize=function $mxStackLayout$$getParentSize$($a$$){var $b$$=this.graph.getModel(),$c$$=$b$$.getGeometry($a$$);null!=this.graph.container&&(null==$c$$&&$b$$.isLayer($a$$)||$a$$==this.graph.getView().currentRoot)&&($c$$=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1));return $c$$};
mxStackLayout.prototype.getLayoutCells=function $mxStackLayout$$getLayoutCells$($a$jscomp$0$$){for(var $b$jscomp$0$$=this.graph.getModel(),$c$jscomp$0$$=$b$jscomp$0$$.getChildCount($a$jscomp$0$$),$d$jscomp$0$$=[],$e$$=0;$e$$<$c$jscomp$0$$;$e$$++){var $f$$=$b$jscomp$0$$.getChildAt($a$jscomp$0$$,$e$$);!this.isVertexIgnored($f$$)&&this.isVertexMovable($f$$)&&$d$jscomp$0$$.push($f$$)}this.allowGaps&&$d$jscomp$0$$.sort(mxUtils.bind(this,function($a$$,$b$$){var $c$$=this.graph.getCellGeometry($a$$),$d$$=
this.graph.getCellGeometry($b$$);return $c$$.y==$d$$.y?0:$c$$.y>$d$$.y>0?1:-1}));return $d$jscomp$0$$};mxStackLayout.prototype.snap=function $mxStackLayout$$snap$($a$$){if(null!=this.gridSize&&0<this.gridSize&&($a$$=Math.max($a$$,this.gridSize),1<$a$$/this.gridSize)){var $b$$=$a$$%this.gridSize;$a$$+=$b$$>this.gridSize/2?this.gridSize-$b$$:-$b$$}return $a$$};
mxStackLayout.prototype.execute=function $mxStackLayout$$execute$($a$$){if(null!=$a$$){var $b$$=this.getParentSize($a$$),$c$$=this.isHorizontal(),$d$$=this.graph.getModel(),$e$$=null;null!=$b$$&&($e$$=$c$$?$b$$.height-this.marginTop-this.marginBottom:$b$$.width-this.marginLeft-this.marginRight);var $e$$=$e$$-2*this.border,$f$$=this.x0+this.border+this.marginLeft,$g$$=this.y0+this.border+this.marginTop;if(this.graph.isSwimlane($a$$)){var $k$$=this.graph.getCellStyle($a$$),$l$$=mxUtils.getNumber($k$$,
mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE),$k$$=1==mxUtils.getValue($k$$,mxConstants.STYLE_HORIZONTAL,!0);null!=$b$$&&($l$$=$k$$?Math.min($l$$,$b$$.height):Math.min($l$$,$b$$.width));$c$$==$k$$&&($e$$-=$l$$);$k$$?$g$$+=$l$$:$f$$+=$l$$}$d$$.beginUpdate();try{for(var $l$$=0,$k$$=null,$m$$=0,$n$$=null,$p$$=this.getLayoutCells($a$$),$q$$=0;$q$$<$p$$.length;$q$$++){var $r$$=$p$$[$q$$],$t$$=$d$$.getGeometry($r$$);if(null!=$t$$){$t$$=$t$$.clone();null!=this.wrap&&null!=$k$$&&($c$$&&$k$$.x+
$k$$.width+$t$$.width+2*this.spacing>this.wrap||!$c$$&&$k$$.y+$k$$.height+$t$$.height+2*this.spacing>this.wrap)&&($k$$=null,$c$$?$g$$+=$l$$+this.spacing:$f$$+=$l$$+this.spacing,$l$$=0);var $l$$=Math.max($l$$,$c$$?$t$$.height:$t$$.width),$u$$=0;if(!this.borderCollapse)var $y$$=this.graph.getCellStyle($r$$),$u$$=mxUtils.getNumber($y$$,mxConstants.STYLE_STROKEWIDTH,1);if(null!=$k$$){var $x$$=$m$$+this.spacing+Math.floor($u$$/2);$c$$?$t$$.x=this.snap((this.allowGaps?Math.max($x$$,$t$$.x):$x$$)-this.marginLeft)+
this.marginLeft:$t$$.y=this.snap((this.allowGaps?Math.max($x$$,$t$$.y):$x$$)-this.marginTop)+this.marginTop}else this.keepFirstLocation||($c$$?$t$$.x=this.allowGaps&&$t$$.x>$f$$?Math.max(this.snap($t$$.x-this.marginLeft)+this.marginLeft,$f$$):$f$$:$t$$.y=this.allowGaps&&$t$$.y>$g$$?Math.max(this.snap($t$$.y-this.marginTop)+this.marginTop,$g$$):$g$$);$c$$?$t$$.y=$g$$:$t$$.x=$f$$;this.fill&&null!=$e$$&&($c$$?$t$$.height=$e$$:$t$$.width=$e$$);$c$$?$t$$.width=this.snap($t$$.width):$t$$.height=this.snap($t$$.height);
this.setChildGeometry($r$$,$t$$);$n$$=$r$$;$k$$=$t$$;$m$$=$c$$?$k$$.x+$k$$.width+Math.floor($u$$/2):$k$$.y+$k$$.height+Math.floor($u$$/2)}}this.resizeParent&&null!=$b$$&&null!=$k$$&&!this.graph.isCellCollapsed($a$$)?this.updateParentGeometry($a$$,$b$$,$k$$):this.resizeLast&&null!=$b$$&&null!=$k$$&&null!=$n$$&&($c$$?$k$$.width=$b$$.width-$k$$.x-this.spacing-this.marginRight-this.marginLeft:$k$$.height=$b$$.height-$k$$.y-this.spacing-this.marginBottom,this.setChildGeometry($n$$,$k$$))}finally{$d$$.endUpdate()}}};
mxStackLayout.prototype.setChildGeometry=function $mxStackLayout$$setChildGeometry$($a$$,$b$$){var $c$$=this.graph.getCellGeometry($a$$);null!=$c$$&&$b$$.x==$c$$.x&&$b$$.y==$c$$.y&&$b$$.width==$c$$.width&&$b$$.height==$c$$.height||this.graph.getModel().setGeometry($a$$,$b$$)};
mxStackLayout.prototype.updateParentGeometry=function $mxStackLayout$$updateParentGeometry$($a$$,$b$$,$c$$){var $d$$=this.isHorizontal(),$e$$=this.graph.getModel(),$f$$=$b$$.clone();$d$$?($c$$=$c$$.x+$c$$.width+this.marginRight+this.border,$f$$.width=this.resizeParentMax?Math.max($f$$.width,$c$$):$c$$):($c$$=$c$$.y+$c$$.height+this.marginBottom+this.border,$f$$.height=this.resizeParentMax?Math.max($f$$.height,$c$$):$c$$);$b$$.x==$f$$.x&&$b$$.y==$f$$.y&&$b$$.width==$f$$.width&&$b$$.height==$f$$.height||
$e$$.setGeometry($a$$,$f$$)};function mxPartitionLayout($a$$,$b$$,$c$$,$d$$){mxGraphLayout.call(this,$a$$);this.horizontal=null!=$b$$?$b$$:!0;this.spacing=$c$$||0;this.border=$d$$||0}mxPartitionLayout.prototype=new mxGraphLayout;mxPartitionLayout.prototype.constructor=mxPartitionLayout;mxPartitionLayout.prototype.horizontal=null;mxPartitionLayout.prototype.spacing=null;mxPartitionLayout.prototype.border=null;mxPartitionLayout.prototype.resizeVertices=!0;mxPartitionLayout.prototype.isHorizontal=function $mxPartitionLayout$$isHorizontal$(){return this.horizontal};
mxPartitionLayout.prototype.moveCell=function $mxPartitionLayout$$moveCell$($a$$,$b$$,$c$$){$c$$=this.graph.getModel();var $d$$=$c$$.getParent($a$$);if(null!=$a$$&&null!=$d$$){var $e$$,$f$$=0,$g$$=$c$$.getChildCount($d$$);for($e$$=0;$e$$<$g$$;$e$$++){var $k$$=$c$$.getChildAt($d$$,$e$$),$k$$=this.getVertexBounds($k$$);if(null!=$k$$){$k$$=$k$$.x+$k$$.width/2;if($f$$<$b$$&&$k$$>$b$$)break;$f$$=$k$$}}$b$$=$d$$.getIndex($a$$);$b$$=Math.max(0,$e$$-($e$$>$b$$?1:0));$c$$.add($d$$,$a$$,$b$$)}};
mxPartitionLayout.prototype.execute=function $mxPartitionLayout$$execute$($a$$){var $b$$=this.isHorizontal(),$c$$=this.graph.getModel(),$d$$=$c$$.getGeometry($a$$);null!=this.graph.container&&(null==$d$$&&$c$$.isLayer($a$$)||$a$$==this.graph.getView().currentRoot)&&($d$$=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1));if(null!=$d$$){for(var $e$$=[],$f$$=$c$$.getChildCount($a$$),$g$$=0;$g$$<$f$$;$g$$++){var $k$$=$c$$.getChildAt($a$$,$g$$);!this.isVertexIgnored($k$$)&&
this.isVertexMovable($k$$)&&$e$$.push($k$$)}$f$$=$e$$.length;if(0<$f$$){var $l$$=this.border,$m$$=this.border,$n$$=$b$$?$d$$.height:$d$$.width,$n$$=$n$$-2*this.border;$a$$=this.graph.isSwimlane($a$$)?this.graph.getStartSize($a$$):new mxRectangle;$n$$-=$b$$?$a$$.height:$a$$.width;$l$$+=$a$$.width;$m$$+=$a$$.height;$a$$=this.border+($f$$-1)*this.spacing;$d$$=$b$$?($d$$.width-$l$$-$a$$)/$f$$:($d$$.height-$m$$-$a$$)/$f$$;if(0<$d$$){$c$$.beginUpdate();try{for($g$$=0;$g$$<$f$$;$g$$++){var $k$$=$e$$[$g$$],
$p$$=$c$$.getGeometry($k$$);null!=$p$$&&($p$$=$p$$.clone(),$p$$.x=$l$$,$p$$.y=$m$$,$b$$?(this.resizeVertices&&($p$$.width=$d$$,$p$$.height=$n$$),$l$$+=$d$$+this.spacing):(this.resizeVertices&&($p$$.height=$d$$,$p$$.width=$n$$),$m$$+=$d$$+this.spacing),$c$$.setGeometry($k$$,$p$$))}}finally{$c$$.endUpdate()}}}}};function mxCompactTreeLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.horizontal=null!=$b$$?$b$$:!0;this.invert=null!=$c$$?$c$$:!1}mxCompactTreeLayout.prototype=new mxGraphLayout;
mxCompactTreeLayout.prototype.constructor=mxCompactTreeLayout;mxCompactTreeLayout.prototype.horizontal=null;mxCompactTreeLayout.prototype.invert=null;mxCompactTreeLayout.prototype.resizeParent=!0;mxCompactTreeLayout.prototype.maintainParentLocation=!1;mxCompactTreeLayout.prototype.groupPadding=10;mxCompactTreeLayout.prototype.groupPaddingTop=0;mxCompactTreeLayout.prototype.groupPaddingRight=0;mxCompactTreeLayout.prototype.groupPaddingBottom=0;mxCompactTreeLayout.prototype.groupPaddingLeft=0;
mxCompactTreeLayout.prototype.parentsChanged=null;mxCompactTreeLayout.prototype.moveTree=!1;mxCompactTreeLayout.prototype.visited=null;mxCompactTreeLayout.prototype.levelDistance=10;mxCompactTreeLayout.prototype.nodeDistance=20;mxCompactTreeLayout.prototype.resetEdges=!0;mxCompactTreeLayout.prototype.prefHozEdgeSep=5;mxCompactTreeLayout.prototype.prefVertEdgeOff=4;mxCompactTreeLayout.prototype.minEdgeJetty=8;mxCompactTreeLayout.prototype.channelBuffer=4;mxCompactTreeLayout.prototype.edgeRouting=!0;
mxCompactTreeLayout.prototype.sortEdges=!1;mxCompactTreeLayout.prototype.alignRanks=!1;mxCompactTreeLayout.prototype.maxRankHeight=null;mxCompactTreeLayout.prototype.root=null;mxCompactTreeLayout.prototype.node=null;mxCompactTreeLayout.prototype.isVertexIgnored=function $mxCompactTreeLayout$$isVertexIgnored$($a$$){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections($a$$).length};mxCompactTreeLayout.prototype.isHorizontal=function $mxCompactTreeLayout$$isHorizontal$(){return this.horizontal};
mxCompactTreeLayout.prototype.execute=function $mxCompactTreeLayout$$execute$($a$$,$b$$){this.parent=$a$$;var $c$$=this.graph.getModel();if(null==$b$$)if(0<this.graph.getEdges($a$$,$c$$.getParent($a$$),this.invert,!this.invert,!1).length)this.root=$a$$;else{var $d$$=this.graph.findTreeRoots($a$$,!0,this.invert);if(0<$d$$.length)for(var $e$$=0;$e$$<$d$$.length;$e$$++)if(!this.isVertexIgnored($d$$[$e$$])&&0<this.graph.getEdges($d$$[$e$$],null,this.invert,!this.invert,!1).length){this.root=$d$$[$e$$];
break}}else this.root=$b$$;if(null!=this.root){this.parentsChanged=this.resizeParent?{}:null;this.parentY=this.parentX=null;if($a$$!=this.root&&null!=$c$$.isVertex($a$$)&&this.maintainParentLocation){var $f$$=this.graph.getCellGeometry($a$$);null!=$f$$&&(this.parentX=$f$$.x,this.parentY=$f$$.y)}$c$$.beginUpdate();try{if(this.visited={},this.node=this.dfs(this.root,$a$$),this.alignRanks&&(this.maxRankHeight=[],this.findRankHeights(this.node,0),this.setCellHeights(this.node,0)),null!=this.node){this.layout(this.node);
var $g$$=this.graph.gridSize,$d$$=$g$$;if(!this.moveTree){var $k$$=this.getVertexBounds(this.root);null!=$k$$&&($g$$=$k$$.x,$d$$=$k$$.y)}$k$$=null;$k$$=this.isHorizontal()?this.horizontalLayout(this.node,$g$$,$d$$):this.verticalLayout(this.node,null,$g$$,$d$$);if(null!=$k$$){var $l$$=$e$$=0;0>$k$$.x&&($e$$=Math.abs($g$$-$k$$.x));0>$k$$.y&&($l$$=Math.abs($d$$-$k$$.y));0==$e$$&&0==$l$$||this.moveNode(this.node,$e$$,$l$$);this.resizeParent&&this.adjustParents();this.edgeRouting&&this.localEdgeProcessing(this.node)}null!=
this.parentX&&null!=this.parentY&&($f$$=this.graph.getCellGeometry($a$$),null!=$f$$&&($f$$=$f$$.clone(),$f$$.x=this.parentX,$f$$.y=this.parentY,$c$$.setGeometry($a$$,$f$$)))}}finally{$c$$.endUpdate()}}};mxCompactTreeLayout.prototype.moveNode=function $mxCompactTreeLayout$$moveNode$($a$$,$b$$,$c$$){$a$$.x+=$b$$;$a$$.y+=$c$$;this.apply($a$$);for($a$$=$a$$.child;null!=$a$$;)this.moveNode($a$$,$b$$,$c$$),$a$$=$a$$.next};
mxCompactTreeLayout.prototype.sortOutgoingEdges=function $mxCompactTreeLayout$$sortOutgoingEdges$($a$$,$b$jscomp$0$$){var $c$$=new mxDictionary;$b$jscomp$0$$.sort(function($b$$,$e$$){var $d$$=$b$$.getTerminal($b$$.getTerminal(!1)==$a$$),$g$$=$c$$.get($d$$);null==$g$$&&($g$$=mxCellPath.create($d$$).split(mxCellPath.PATH_SEPARATOR),$c$$.put($d$$,$g$$));var $d$$=$e$$.getTerminal($e$$.getTerminal(!1)==$a$$),$k$$=$c$$.get($d$$);null==$k$$&&($k$$=mxCellPath.create($d$$).split(mxCellPath.PATH_SEPARATOR),
$c$$.put($d$$,$k$$));return mxCellPath.compare($g$$,$k$$)})};mxCompactTreeLayout.prototype.findRankHeights=function $mxCompactTreeLayout$$findRankHeights$($a$$,$b$$){if(null==this.maxRankHeight[$b$$]||this.maxRankHeight[$b$$]<$a$$.height)this.maxRankHeight[$b$$]=$a$$.height;for(var $c$$=$a$$.child;null!=$c$$;)this.findRankHeights($c$$,$b$$+1),$c$$=$c$$.next};
mxCompactTreeLayout.prototype.setCellHeights=function $mxCompactTreeLayout$$setCellHeights$($a$$,$b$$){null!=this.maxRankHeight[$b$$]&&this.maxRankHeight[$b$$]>$a$$.height&&($a$$.height=this.maxRankHeight[$b$$]);for(var $c$$=$a$$.child;null!=$c$$;)this.setCellHeights($c$$,$b$$+1),$c$$=$c$$.next};
mxCompactTreeLayout.prototype.dfs=function $mxCompactTreeLayout$$dfs$($a$$,$b$$){var $c$$=mxCellPath.create($a$$),$d$$=null;if(null!=$a$$&&null==this.visited[$c$$]&&!this.isVertexIgnored($a$$)){this.visited[$c$$]=$a$$;var $d$$=this.createNode($a$$),$c$$=this.graph.getModel(),$e$$=null,$f$$=this.graph.getEdges($a$$,$b$$,this.invert,!this.invert,!1,!0),$g$$=this.graph.getView();this.sortEdges&&this.sortOutgoingEdges($a$$,$f$$);for(var $k$$=0;$k$$<$f$$.length;$k$$++){var $l$$=$f$$[$k$$];if(!this.isEdgeIgnored($l$$)){this.resetEdges&&
this.setEdgePoints($l$$,null);this.edgeRouting&&(this.setEdgeStyleEnabled($l$$,!1),this.setEdgePoints($l$$,null));var $m$$=$g$$.getState($l$$),$l$$=null!=$m$$?$m$$.getVisibleTerminal(this.invert):$g$$.getVisibleTerminal($l$$,this.invert),$m$$=this.dfs($l$$,$b$$);null!=$m$$&&null!=$c$$.getGeometry($l$$)&&(null==$e$$?$d$$.child=$m$$:$e$$.next=$m$$,$e$$=$m$$)}}}return $d$$};
mxCompactTreeLayout.prototype.layout=function $mxCompactTreeLayout$$layout$($a$$){if(null!=$a$$){for(var $b$$=$a$$.child;null!=$b$$;)this.layout($b$$),$b$$=$b$$.next;null!=$a$$.child?this.attachParent($a$$,this.join($a$$)):this.layoutLeaf($a$$)}};
mxCompactTreeLayout.prototype.horizontalLayout=function $mxCompactTreeLayout$$horizontalLayout$($a$$,$b$$,$c$$,$d$$){$a$$.x+=$b$$+$a$$.offsetX;$a$$.y+=$c$$+$a$$.offsetY;$d$$=this.apply($a$$,$d$$);$b$$=$a$$.child;if(null!=$b$$){$d$$=this.horizontalLayout($b$$,$a$$.x,$a$$.y,$d$$);$c$$=$a$$.y+$b$$.offsetY;for(var $e$$=$b$$.next;null!=$e$$;)$d$$=this.horizontalLayout($e$$,$a$$.x+$b$$.offsetX,$c$$,$d$$),$c$$+=$e$$.offsetY,$e$$=$e$$.next}return $d$$};
mxCompactTreeLayout.prototype.verticalLayout=function $mxCompactTreeLayout$$verticalLayout$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.x+=$c$$+$a$$.offsetY;$a$$.y+=$d$$+$a$$.offsetX;$e$$=this.apply($a$$,$e$$);$b$$=$a$$.child;if(null!=$b$$)for($e$$=this.verticalLayout($b$$,$a$$,$a$$.x,$a$$.y,$e$$),$c$$=$a$$.x+$b$$.offsetY,$d$$=$b$$.next;null!=$d$$;)$e$$=this.verticalLayout($d$$,$a$$,$c$$,$a$$.y+$b$$.offsetX,$e$$),$c$$+=$d$$.offsetY,$d$$=$d$$.next;return $e$$};
mxCompactTreeLayout.prototype.attachParent=function $mxCompactTreeLayout$$attachParent$($a$$,$b$$){var $c$$=this.nodeDistance+this.levelDistance,$d$$=($b$$-$a$$.width)/2-this.nodeDistance,$e$$=$d$$+$a$$.width+2*this.nodeDistance-$b$$;$a$$.child.offsetX=$c$$+$a$$.height;$a$$.child.offsetY=$e$$;$a$$.contour.upperHead=this.createLine($a$$.height,0,this.createLine($c$$,$e$$,$a$$.contour.upperHead));$a$$.contour.lowerHead=this.createLine($a$$.height,0,this.createLine($c$$,$d$$,$a$$.contour.lowerHead))};
mxCompactTreeLayout.prototype.layoutLeaf=function $mxCompactTreeLayout$$layoutLeaf$($a$$){var $b$$=2*this.nodeDistance;$a$$.contour.upperTail=this.createLine($a$$.height+$b$$,0);$a$$.contour.upperHead=$a$$.contour.upperTail;$a$$.contour.lowerTail=this.createLine(0,-$a$$.width-$b$$);$a$$.contour.lowerHead=this.createLine($a$$.height+$b$$,0,$a$$.contour.lowerTail)};
mxCompactTreeLayout.prototype.join=function $mxCompactTreeLayout$$join$($a$$){var $b$$=2*this.nodeDistance,$c$$=$a$$.child;$a$$.contour=$c$$.contour;for(var $d$$=$c$$.width+$b$$,$e$$=$d$$,$c$$=$c$$.next;null!=$c$$;){var $f$$=this.merge($a$$.contour,$c$$.contour);$c$$.offsetY=$f$$+$d$$;$c$$.offsetX=0;$d$$=$c$$.width+$b$$;$e$$+=$f$$+$d$$;$c$$=$c$$.next}return $e$$};
mxCompactTreeLayout.prototype.merge=function $mxCompactTreeLayout$$merge$($a$$,$b$$){for(var $c$$=0,$d$$=0,$e$$=0,$f$$=$a$$.lowerHead,$g$$=$b$$.upperHead;null!=$g$$&&null!=$f$$;){var $k$$=this.offset($c$$,$d$$,$g$$.dx,$g$$.dy,$f$$.dx,$f$$.dy),$d$$=$d$$+$k$$,$e$$=$e$$+$k$$;$c$$+$g$$.dx<=$f$$.dx?($c$$+=$g$$.dx,$d$$+=$g$$.dy,$g$$=$g$$.next):($c$$-=$f$$.dx,$d$$-=$f$$.dy,$f$$=$f$$.next)}null!=$g$$?($c$$=this.bridge($a$$.upperTail,0,0,$g$$,$c$$,$d$$),$a$$.upperTail=null!=$c$$.next?$b$$.upperTail:$c$$,$a$$.lowerTail=
$b$$.lowerTail):($c$$=this.bridge($b$$.lowerTail,$c$$,$d$$,$f$$,0,0),null==$c$$.next&&($a$$.lowerTail=$c$$));$a$$.lowerHead=$b$$.lowerHead;return $e$$};
mxCompactTreeLayout.prototype.offset=function $mxCompactTreeLayout$$offset$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if($e$$<=$a$$||0>=$a$$+$c$$)return 0;$a$$=0<$e$$*$d$$-$c$$*$f$$?0>$a$$?$a$$*$d$$/$c$$-$b$$:0<$a$$?$a$$*$f$$/$e$$-$b$$:-$b$$:$e$$<$a$$+$c$$?$f$$-($b$$+($e$$-$a$$)*$d$$/$c$$):$e$$>$a$$+$c$$?($c$$+$a$$)*$f$$/$e$$-($b$$+$d$$):$f$$-($b$$+$d$$);return 0<$a$$?$a$$:0};
mxCompactTreeLayout.prototype.bridge=function $mxCompactTreeLayout$$bridge$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=$e$$+$d$$.dx-$b$$;0==$d$$.dx?$e$$=$d$$.dy:($e$$=$b$$*$d$$.dy,$e$$/=$d$$.dx);$b$$=this.createLine($b$$,$e$$,$d$$.next);$a$$.next=this.createLine(0,$f$$+$d$$.dy-$e$$-$c$$,$b$$);return $b$$};
mxCompactTreeLayout.prototype.createNode=function $mxCompactTreeLayout$$createNode$($a$$){var $b$$={};$b$$.cell=$a$$;$b$$.x=0;$b$$.y=0;$b$$.width=0;$b$$.height=0;$a$$=this.getVertexBounds($a$$);null!=$a$$&&(this.isHorizontal()?($b$$.width=$a$$.height,$b$$.height=$a$$.width):($b$$.width=$a$$.width,$b$$.height=$a$$.height));$b$$.offsetX=0;$b$$.offsetY=0;$b$$.contour={};return $b$$};
mxCompactTreeLayout.prototype.apply=function $mxCompactTreeLayout$$apply$($a$$,$b$$){var $c$$=this.graph.getModel(),$d$$=$a$$.cell,$e$$=$c$$.getGeometry($d$$);null!=$d$$&&null!=$e$$&&(this.isVertexMovable($d$$)&&($e$$=this.setVertexLocation($d$$,$a$$.x,$a$$.y),this.resizeParent&&($c$$=$c$$.getParent($d$$),$d$$=mxCellPath.create($c$$),null==this.parentsChanged[$d$$]&&(this.parentsChanged[$d$$]=$c$$))),$b$$=null==$b$$?new mxRectangle($e$$.x,$e$$.y,$e$$.width,$e$$.height):new mxRectangle(Math.min($b$$.x,
$e$$.x),Math.min($b$$.y,$e$$.y),Math.max($b$$.x+$b$$.width,$e$$.x+$e$$.width),Math.max($b$$.y+$b$$.height,$e$$.y+$e$$.height)));return $b$$};mxCompactTreeLayout.prototype.createLine=function $mxCompactTreeLayout$$createLine$($a$$,$b$$,$c$$){var $d$$={};$d$$.dx=$a$$;$d$$.dy=$b$$;$d$$.next=$c$$;return $d$$};
mxCompactTreeLayout.prototype.adjustParents=function $mxCompactTreeLayout$$adjustParents$(){var $a$$=[],$b$$;for($b$$ in this.parentsChanged)$a$$.push(this.parentsChanged[$b$$]);this.arrangeGroups(mxUtils.sortCells($a$$,!0),this.groupPadding,this.groupPaddingTop,this.groupPaddingRight,this.groupPaddingBottom,this.groupPaddingLeft)};
mxCompactTreeLayout.prototype.localEdgeProcessing=function $mxCompactTreeLayout$$localEdgeProcessing$($a$$){this.processNodeOutgoing($a$$);for($a$$=$a$$.child;null!=$a$$;)this.localEdgeProcessing($a$$),$a$$=$a$$.next};
mxCompactTreeLayout.prototype.processNodeOutgoing=function $mxCompactTreeLayout$$processNodeOutgoing$($a$$){for(var $b$$=$a$$.child,$c$$=$a$$.cell,$d$$=0,$e$$=[];null!=$b$$;){$d$$++;var $f$$=$b$$.x;this.horizontal&&($f$$=$b$$.y);$e$$.push(new WeightedCellSorter($b$$,$f$$));$b$$=$b$$.next}$e$$.sort(WeightedCellSorter.prototype.compare);var $f$$=$a$$.width,$g$$=($d$$+1)*this.prefHozEdgeSep;$f$$>$g$$+2*this.prefHozEdgeSep&&($f$$-=2*this.prefHozEdgeSep);$a$$=$f$$/$d$$;$b$$=$a$$/2;$f$$>$g$$+2*this.prefHozEdgeSep&&
($b$$+=this.prefHozEdgeSep);for(var $f$$=this.minEdgeJetty-this.prefVertEdgeOff,$g$$=this.getVertexBounds($c$$),$k$$=0;$k$$<$e$$.length;$k$$++){for(var $l$$=$e$$[$k$$].cell.cell,$m$$=this.getVertexBounds($l$$),$l$$=this.graph.getEdgesBetween($c$$,$l$$,!1),$n$$=[],$p$$,$q$$,$r$$=0;$r$$<$l$$.length;$r$$++)this.horizontal?($p$$=$g$$.x+$g$$.width,$q$$=$g$$.y+$b$$,$n$$.push(new mxPoint($p$$,$q$$)),$p$$=$g$$.x+$g$$.width+$f$$,$n$$.push(new mxPoint($p$$,$q$$)),$q$$=$m$$.y+$m$$.height/2):($p$$=$g$$.x+$b$$,
$q$$=$g$$.y+$g$$.height,$n$$.push(new mxPoint($p$$,$q$$)),$q$$=$g$$.y+$g$$.height+$f$$,$n$$.push(new mxPoint($p$$,$q$$)),$p$$=$m$$.x+$m$$.width/2),$n$$.push(new mxPoint($p$$,$q$$)),this.setEdgePoints($l$$[$r$$],$n$$);$k$$<$d$$/2?$f$$+=this.prefVertEdgeOff:$k$$>$d$$/2&&($f$$-=this.prefVertEdgeOff);$b$$+=$a$$}};function mxRadialTreeLayout($a$$){mxCompactTreeLayout.call(this,$a$$,!1)}mxUtils.extend(mxRadialTreeLayout,mxCompactTreeLayout);mxRadialTreeLayout.prototype.angleOffset=.5;
mxRadialTreeLayout.prototype.rootx=0;mxRadialTreeLayout.prototype.rooty=0;mxRadialTreeLayout.prototype.levelDistance=120;mxRadialTreeLayout.prototype.nodeDistance=10;mxRadialTreeLayout.prototype.autoRadius=!1;mxRadialTreeLayout.prototype.sortEdges=!1;mxRadialTreeLayout.prototype.rowMinX=[];mxRadialTreeLayout.prototype.rowMaxX=[];mxRadialTreeLayout.prototype.rowMinCenX=[];mxRadialTreeLayout.prototype.rowMaxCenX=[];mxRadialTreeLayout.prototype.rowRadi=[];mxRadialTreeLayout.prototype.row=[];
mxRadialTreeLayout.prototype.isVertexIgnored=function $mxRadialTreeLayout$$isVertexIgnored$($a$$){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections($a$$).length};
mxRadialTreeLayout.prototype.execute=function $mxRadialTreeLayout$$execute$($a$$,$b$$){this.parent=$a$$;this.edgeRouting=this.useBoundingBox=!1;mxCompactTreeLayout.prototype.execute.apply(this,arguments);var $c$$=null,$d$$=this.getVertexBounds(this.root);this.centerX=$d$$.x+$d$$.width/2;this.centerY=$d$$.y+$d$$.height/2;for(var $e$$ in this.visited){var $f$$=this.getVertexBounds(this.visited[$e$$]),$c$$=null!=$c$$?$c$$:$f$$.clone();$c$$.add($f$$)}this.calcRowDims([this.node],0);for(var $g$$=0,$k$$=
0,$c$$=0;$c$$<this.row.length;$c$$++)$e$$=(this.rowMaxX[$c$$]-this.centerX-this.nodeDistance)/this.rowRadi[$c$$],$g$$=Math.max($g$$,(this.centerX-this.rowMinX[$c$$]-this.nodeDistance)/this.rowRadi[$c$$]),$k$$=Math.max($k$$,$e$$);for($c$$=0;$c$$<this.row.length;$c$$++){var $l$$=this.centerX-this.nodeDistance-$g$$*this.rowRadi[$c$$],$m$$=this.centerX+this.nodeDistance+$k$$*this.rowRadi[$c$$]-$l$$;for($e$$=0;$e$$<this.row[$c$$].length;$e$$++)$f$$=this.row[$c$$],$d$$=$f$$[$e$$],$f$$=this.getVertexBounds($d$$.cell),
$d$$.theta=($f$$.x+$f$$.width/2-$l$$)/$m$$*Math.PI*2}for($c$$=this.row.length-2;0<=$c$$;$c$$--)for($f$$=this.row[$c$$],$e$$=0;$e$$<$f$$.length;$e$$++){$d$$=$f$$[$e$$];$g$$=$d$$.child;for($l$$=$k$$=0;null!=$g$$;)$l$$+=$g$$.theta,$k$$++,$g$$=$g$$.next;0<$k$$&&($g$$=$l$$/$k$$,$g$$>$d$$.theta&&$e$$<$f$$.length-1?$d$$.theta=Math.min($g$$,$f$$[$e$$+1].theta-Math.PI/10):$g$$<$d$$.theta&&0<$e$$&&($d$$.theta=Math.max($g$$,$f$$[$e$$-1].theta+Math.PI/10)))}for($c$$=0;$c$$<this.row.length;$c$$++)for($e$$=0;$e$$<
this.row[$c$$].length;$e$$++)$f$$=this.row[$c$$],$d$$=$f$$[$e$$],$f$$=this.getVertexBounds($d$$.cell),this.setVertexLocation($d$$.cell,this.centerX-$f$$.width/2+this.rowRadi[$c$$]*Math.cos($d$$.theta),this.centerY-$f$$.height/2+this.rowRadi[$c$$]*Math.sin($d$$.theta))};
mxRadialTreeLayout.prototype.calcRowDims=function $mxRadialTreeLayout$$calcRowDims$($a$$,$b$$){if(null!=$a$$&&0!=$a$$.length){this.rowMinX[$b$$]=this.centerX;this.rowMaxX[$b$$]=this.centerX;this.rowMinCenX[$b$$]=this.centerX;this.rowMaxCenX[$b$$]=this.centerX;this.row[$b$$]=[];for(var $c$$=!1,$d$$=0;$d$$<$a$$.length;$d$$++)for(var $e$$=null!=$a$$[$d$$]?$a$$[$d$$].child:null;null!=$e$$;){var $f$$=this.getVertexBounds($e$$.cell);this.rowMinX[$b$$]=Math.min($f$$.x,this.rowMinX[$b$$]);this.rowMaxX[$b$$]=
Math.max($f$$.x+$f$$.width,this.rowMaxX[$b$$]);this.rowMinCenX[$b$$]=Math.min($f$$.x+$f$$.width/2,this.rowMinCenX[$b$$]);this.rowMaxCenX[$b$$]=Math.max($f$$.x+$f$$.width/2,this.rowMaxCenX[$b$$]);this.rowRadi[$b$$]=$f$$.y-this.getVertexBounds(this.root).y;null!=$e$$.child&&($c$$=!0);this.row[$b$$].push($e$$);$e$$=$e$$.next}$c$$&&this.calcRowDims(this.row[$b$$],$b$$+1)}};function mxFastOrganicLayout($a$$){mxGraphLayout.call(this,$a$$)}mxFastOrganicLayout.prototype=new mxGraphLayout;
mxFastOrganicLayout.prototype.constructor=mxFastOrganicLayout;mxFastOrganicLayout.prototype.useInputOrigin=!0;mxFastOrganicLayout.prototype.resetEdges=!0;mxFastOrganicLayout.prototype.disableEdgeStyle=!0;mxFastOrganicLayout.prototype.forceConstant=50;mxFastOrganicLayout.prototype.forceConstantSquared=0;mxFastOrganicLayout.prototype.minDistanceLimit=2;mxFastOrganicLayout.prototype.maxDistanceLimit=500;mxFastOrganicLayout.prototype.minDistanceLimitSquared=4;
mxFastOrganicLayout.prototype.initialTemp=200;mxFastOrganicLayout.prototype.temperature=0;mxFastOrganicLayout.prototype.maxIterations=0;mxFastOrganicLayout.prototype.iteration=0;mxFastOrganicLayout.prototype.allowedToRun=!0;mxFastOrganicLayout.prototype.isVertexIgnored=function $mxFastOrganicLayout$$isVertexIgnored$($a$$){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections($a$$).length};
mxFastOrganicLayout.prototype.execute=function $mxFastOrganicLayout$$execute$($a$$){var $b$$=this.graph.getModel();this.vertexArray=[];for(var $c$$=this.graph.getChildVertices($a$$),$d$$=0;$d$$<$c$$.length;$d$$++)this.isVertexIgnored($c$$[$d$$])||this.vertexArray.push($c$$[$d$$]);var $e$$=this.useInputOrigin?this.graph.getBoundingBoxFromGeometry(this.vertexArray):null,$f$$=this.vertexArray.length;this.indices=[];this.dispX=[];this.dispY=[];this.cellLocation=[];this.isMoveable=[];this.neighbours=[];
this.radius=[];this.radiusSquared=[];.001>this.forceConstant&&(this.forceConstant=.001);this.forceConstantSquared=this.forceConstant*this.forceConstant;for($d$$=0;$d$$<this.vertexArray.length;$d$$++){var $g$$=this.vertexArray[$d$$];this.cellLocation[$d$$]=[];var $k$$=mxObjectIdentity.get($g$$);this.indices[$k$$]=$d$$;var $l$$=this.getVertexBounds($g$$),$m$$=$l$$.width,$n$$=$l$$.height,$p$$=$l$$.x,$q$$=$l$$.y;this.cellLocation[$d$$][0]=$p$$+$m$$/2;this.cellLocation[$d$$][1]=$q$$+$n$$/2;this.radius[$d$$]=
Math.min($m$$,$n$$);this.radiusSquared[$d$$]=this.radius[$d$$]*this.radius[$d$$]}$b$$.beginUpdate();try{for($d$$=0;$d$$<$f$$;$d$$++){this.dispX[$d$$]=0;this.dispY[$d$$]=0;this.isMoveable[$d$$]=this.isVertexMovable(this.vertexArray[$d$$]);var $r$$=this.graph.getConnections(this.vertexArray[$d$$],$a$$),$c$$=this.graph.getOpposites($r$$,this.vertexArray[$d$$]);this.neighbours[$d$$]=[];for($m$$=0;$m$$<$c$$.length;$m$$++){this.resetEdges&&this.graph.resetEdge($r$$[$m$$]);this.disableEdgeStyle&&this.setEdgeStyleEnabled($r$$[$m$$],
!1);var $k$$=mxObjectIdentity.get($c$$[$m$$]),$t$$=this.indices[$k$$];this.neighbours[$d$$][$m$$]=null!=$t$$?$t$$:$d$$}}this.temperature=this.initialTemp;0==this.maxIterations&&(this.maxIterations=20*Math.sqrt($f$$));for(this.iteration=0;this.iteration<this.maxIterations;this.iteration++){if(!this.allowedToRun)return;this.calcRepulsion();this.calcAttraction();this.calcPositions();this.reduceTemperature()}$a$$=$c$$=null;for($d$$=0;$d$$<this.vertexArray.length;$d$$++)$g$$=this.vertexArray[$d$$],this.isVertexMovable($g$$)&&
($l$$=this.getVertexBounds($g$$),null!=$l$$&&(this.cellLocation[$d$$][0]-=$l$$.width/2,this.cellLocation[$d$$][1]-=$l$$.height/2,$p$$=this.graph.snap(Math.round(this.cellLocation[$d$$][0])),$q$$=this.graph.snap(Math.round(this.cellLocation[$d$$][1])),this.setVertexLocation($g$$,$p$$,$q$$),$c$$=null==$c$$?$p$$:Math.min($c$$,$p$$),$a$$=null==$a$$?$q$$:Math.min($a$$,$q$$)));$d$$=-($c$$||0)+1;$g$$=-($a$$||0)+1;null!=$e$$&&($d$$+=$e$$.x,$g$$+=$e$$.y);this.graph.moveCells(this.vertexArray,$d$$,$g$$)}finally{$b$$.endUpdate()}};
mxFastOrganicLayout.prototype.calcPositions=function $mxFastOrganicLayout$$calcPositions$(){for(var $a$$=0;$a$$<this.vertexArray.length;$a$$++)if(this.isMoveable[$a$$]){var $b$$=Math.sqrt(this.dispX[$a$$]*this.dispX[$a$$]+this.dispY[$a$$]*this.dispY[$a$$]);.001>$b$$&&($b$$=.001);var $c$$=this.dispX[$a$$]/$b$$*Math.min($b$$,this.temperature),$b$$=this.dispY[$a$$]/$b$$*Math.min($b$$,this.temperature);this.dispX[$a$$]=0;this.dispY[$a$$]=0;this.cellLocation[$a$$][0]+=$c$$;this.cellLocation[$a$$][1]+=
$b$$}};
mxFastOrganicLayout.prototype.calcAttraction=function $mxFastOrganicLayout$$calcAttraction$(){for(var $a$$=0;$a$$<this.vertexArray.length;$a$$++)for(var $b$$=0;$b$$<this.neighbours[$a$$].length;$b$$++){var $c$$=this.neighbours[$a$$][$b$$];if($a$$!=$c$$&&this.isMoveable[$a$$]&&this.isMoveable[$c$$]){var $d$$=this.cellLocation[$a$$][0]-this.cellLocation[$c$$][0],$e$$=this.cellLocation[$a$$][1]-this.cellLocation[$c$$][1],$f$$=$d$$*$d$$+$e$$*$e$$-this.radiusSquared[$a$$]-this.radiusSquared[$c$$];$f$$<
this.minDistanceLimitSquared&&($f$$=this.minDistanceLimitSquared);var $g$$=Math.sqrt($f$$),$f$$=$f$$/this.forceConstant,$d$$=$d$$/$g$$*$f$$,$e$$=$e$$/$g$$*$f$$;this.dispX[$a$$]-=$d$$;this.dispY[$a$$]-=$e$$;this.dispX[$c$$]+=$d$$;this.dispY[$c$$]+=$e$$}}};
mxFastOrganicLayout.prototype.calcRepulsion=function $mxFastOrganicLayout$$calcRepulsion$(){for(var $a$$=this.vertexArray.length,$b$$=0;$b$$<$a$$;$b$$++)for(var $c$$=$b$$;$c$$<$a$$;$c$$++){if(!this.allowedToRun)return;if($c$$!=$b$$&&this.isMoveable[$b$$]&&this.isMoveable[$c$$]){var $d$$=this.cellLocation[$b$$][0]-this.cellLocation[$c$$][0],$e$$=this.cellLocation[$b$$][1]-this.cellLocation[$c$$][1];0==$d$$&&($d$$=.01+Math.random());0==$e$$&&($e$$=.01+Math.random());var $f$$=Math.sqrt($d$$*$d$$+$e$$*
$e$$),$g$$=$f$$-this.radius[$b$$]-this.radius[$c$$];$g$$>this.maxDistanceLimit||($g$$<this.minDistanceLimit&&($g$$=this.minDistanceLimit),$g$$=this.forceConstantSquared/$g$$,$d$$=$d$$/$f$$*$g$$,$e$$=$e$$/$f$$*$g$$,this.dispX[$b$$]+=$d$$,this.dispY[$b$$]+=$e$$,this.dispX[$c$$]-=$d$$,this.dispY[$c$$]-=$e$$)}}};mxFastOrganicLayout.prototype.reduceTemperature=function $mxFastOrganicLayout$$reduceTemperature$(){this.temperature=this.initialTemp*(1-this.iteration/this.maxIterations)};
function mxCircleLayout($a$$,$b$$){mxGraphLayout.call(this,$a$$);this.radius=null!=$b$$?$b$$:100}mxCircleLayout.prototype=new mxGraphLayout;mxCircleLayout.prototype.constructor=mxCircleLayout;mxCircleLayout.prototype.radius=null;mxCircleLayout.prototype.moveCircle=!1;mxCircleLayout.prototype.x0=0;mxCircleLayout.prototype.y0=0;mxCircleLayout.prototype.resetEdges=!0;mxCircleLayout.prototype.disableEdgeStyle=!0;
mxCircleLayout.prototype.execute=function $mxCircleLayout$$execute$($a$$){var $b$$=this.graph.getModel();$b$$.beginUpdate();try{for(var $c$$=0,$d$$=null,$e$$=null,$f$$=[],$g$$=$b$$.getChildCount($a$$),$k$$=0;$k$$<$g$$;$k$$++){var $l$$=$b$$.getChildAt($a$$,$k$$);if(this.isVertexIgnored($l$$))this.isEdgeIgnored($l$$)||(this.resetEdges&&this.graph.resetEdge($l$$),this.disableEdgeStyle&&this.setEdgeStyleEnabled($l$$,!1));else{$f$$.push($l$$);var $m$$=this.getVertexBounds($l$$),$d$$=null==$d$$?$m$$.y:
Math.min($d$$,$m$$.y),$e$$=null==$e$$?$m$$.x:Math.min($e$$,$m$$.x),$c$$=Math.max($c$$,Math.max($m$$.width,$m$$.height))}}var $n$$=this.getRadius($f$$.length,$c$$);this.moveCircle&&($e$$=this.x0,$d$$=this.y0);this.circle($f$$,$n$$,$e$$,$d$$)}finally{$b$$.endUpdate()}};mxCircleLayout.prototype.getRadius=function $mxCircleLayout$$getRadius$($a$$,$b$$){return Math.max($a$$*$b$$/Math.PI,this.radius)};
mxCircleLayout.prototype.circle=function $mxCircleLayout$$circle$($a$$,$b$$,$c$$,$d$$){for(var $e$$=$a$$.length,$f$$=2*Math.PI/$e$$,$g$$=0;$g$$<$e$$;$g$$++)this.isVertexMovable($a$$[$g$$])&&this.setVertexLocation($a$$[$g$$],Math.round($c$$+$b$$+$b$$*Math.sin($g$$*$f$$)),Math.round($d$$+$b$$+$b$$*Math.cos($g$$*$f$$)))};function mxParallelEdgeLayout($a$$){mxGraphLayout.call(this,$a$$)}mxParallelEdgeLayout.prototype=new mxGraphLayout;mxParallelEdgeLayout.prototype.constructor=mxParallelEdgeLayout;
mxParallelEdgeLayout.prototype.spacing=20;mxParallelEdgeLayout.prototype.execute=function $mxParallelEdgeLayout$$execute$($a$$){$a$$=this.findParallels($a$$);this.graph.model.beginUpdate();try{for(var $b$$ in $a$$){var $c$$=$a$$[$b$$];1<$c$$.length&&this.layout($c$$)}}finally{this.graph.model.endUpdate()}};
mxParallelEdgeLayout.prototype.findParallels=function $mxParallelEdgeLayout$$findParallels$($a$$){for(var $b$$=this.graph.getModel(),$c$$=[],$d$$=$b$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$b$$.getChildAt($a$$,$e$$);if(!this.isEdgeIgnored($f$$)){var $g$$=this.getEdgeId($f$$);null!=$g$$&&(null==$c$$[$g$$]&&($c$$[$g$$]=[]),$c$$[$g$$].push($f$$))}}return $c$$};
mxParallelEdgeLayout.prototype.getEdgeId=function $mxParallelEdgeLayout$$getEdgeId$($a$$){var $b$$=this.graph.getView(),$c$$=$b$$.getVisibleTerminal($a$$,!0);$a$$=$b$$.getVisibleTerminal($a$$,!1);return null!=$c$$&&null!=$a$$?($c$$=mxObjectIdentity.get($c$$),$a$$=mxObjectIdentity.get($a$$),$c$$>$a$$?$a$$+"-"+$c$$:$c$$+"-"+$a$$):null};
mxParallelEdgeLayout.prototype.layout=function $mxParallelEdgeLayout$$layout$($a$$){var $b$$=$a$$[0],$c$$=this.graph.getView(),$d$$=this.graph.getModel(),$e$$=$d$$.getGeometry($c$$.getVisibleTerminal($b$$,!0)),$d$$=$d$$.getGeometry($c$$.getVisibleTerminal($b$$,!1));if($e$$==$d$$)for(var $b$$=$e$$.x+$e$$.width+this.spacing,$c$$=$e$$.y+$e$$.height/2,$f$$=0;$f$$<$a$$.length;$f$$++)this.route($a$$[$f$$],$b$$,$c$$),$b$$+=this.spacing;else if(null!=$e$$&&null!=$d$$){var $b$$=$e$$.x+$e$$.width/2,$c$$=$e$$.y+
$e$$.height/2,$f$$=$d$$.x+$d$$.width/2-$b$$,$g$$=$d$$.y+$d$$.height/2-$c$$,$d$$=Math.sqrt($f$$*$f$$+$g$$*$g$$);if(0<$d$$)for($e$$=$g$$*this.spacing/$d$$,$d$$=$f$$*this.spacing/$d$$,$b$$=$b$$+$f$$/2+$e$$*($a$$.length-1)/2,$c$$=$c$$+$g$$/2-$d$$*($a$$.length-1)/2,$f$$=0;$f$$<$a$$.length;$f$$++)this.route($a$$[$f$$],$b$$,$c$$),$b$$-=$e$$,$c$$+=$d$$}};
mxParallelEdgeLayout.prototype.route=function $mxParallelEdgeLayout$$route$($a$$,$b$$,$c$$){this.graph.isCellMovable($a$$)&&this.setEdgePoints($a$$,[new mxPoint($b$$,$c$$)])};function mxCompositeLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.layouts=$b$$;this.master=$c$$}mxCompositeLayout.prototype=new mxGraphLayout;mxCompositeLayout.prototype.constructor=mxCompositeLayout;mxCompositeLayout.prototype.layouts=null;mxCompositeLayout.prototype.master=null;
mxCompositeLayout.prototype.moveCell=function $mxCompositeLayout$$moveCell$($a$$,$b$$,$c$$){null!=this.master?this.master.move.apply(this.master,arguments):this.layouts[0].move.apply(this.layouts[0],arguments)};mxCompositeLayout.prototype.execute=function $mxCompositeLayout$$execute$($a$$){var $b$$=this.graph.getModel();$b$$.beginUpdate();try{for(var $c$$=0;$c$$<this.layouts.length;$c$$++)this.layouts[$c$$].execute.apply(this.layouts[$c$$],arguments)}finally{$b$$.endUpdate()}};
function mxEdgeLabelLayout($a$$,$b$$){mxGraphLayout.call(this,$a$$)}mxEdgeLabelLayout.prototype=new mxGraphLayout;mxEdgeLabelLayout.prototype.constructor=mxEdgeLabelLayout;
mxEdgeLabelLayout.prototype.execute=function $mxEdgeLabelLayout$$execute$($a$$){for(var $b$$=this.graph.view,$c$$=this.graph.getModel(),$d$$=[],$e$$=[],$f$$=$c$$.getChildCount($a$$),$g$$=0;$g$$<$f$$;$g$$++){var $k$$=$c$$.getChildAt($a$$,$g$$),$l$$=$b$$.getState($k$$);null!=$l$$&&(this.isVertexIgnored($k$$)?this.isEdgeIgnored($k$$)||$d$$.push($l$$):$e$$.push($l$$))}this.placeLabels($e$$,$d$$)};
mxEdgeLabelLayout.prototype.placeLabels=function $mxEdgeLabelLayout$$placeLabels$($a$$,$b$$){var $c$$=this.graph.getModel();$c$$.beginUpdate();try{for(var $d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=$b$$[$d$$];if(null!=$e$$&&null!=$e$$.text&&null!=$e$$.text.boundingBox)for(var $f$$=0;$f$$<$a$$.length;$f$$++){var $g$$=$a$$[$f$$];null!=$g$$&&this.avoid($e$$,$g$$)}}}finally{$c$$.endUpdate()}};
mxEdgeLabelLayout.prototype.avoid=function $mxEdgeLabelLayout$$avoid$($a$$,$b$$){var $c$$=this.graph.getModel(),$d$$=$a$$.text.boundingBox;if(mxUtils.intersects($d$$,$b$$)){var $e$$=-$d$$.y-$d$$.height+$b$$.y,$f$$=-$d$$.y+$b$$.y+$b$$.height,$e$$=Math.abs($e$$)<Math.abs($f$$)?$e$$:$f$$,$f$$=-$d$$.x-$d$$.width+$b$$.x,$d$$=-$d$$.x+$b$$.x+$b$$.width,$d$$=Math.abs($f$$)<Math.abs($d$$)?$f$$:$d$$;Math.abs($d$$)<Math.abs($e$$)?$e$$=0:$d$$=0;$f$$=$c$$.getGeometry($a$$.cell);null!=$f$$&&($f$$=$f$$.clone(),
null!=$f$$.offset?($f$$.offset.x+=$d$$,$f$$.offset.y+=$e$$):$f$$.offset=new mxPoint($d$$,$e$$),$c$$.setGeometry($a$$.cell,$f$$))}};function mxGraphAbstractHierarchyCell(){this.x=[];this.y=[];this.temp=[]}mxGraphAbstractHierarchyCell.prototype.maxRank=-1;mxGraphAbstractHierarchyCell.prototype.minRank=-1;mxGraphAbstractHierarchyCell.prototype.x=null;mxGraphAbstractHierarchyCell.prototype.y=null;mxGraphAbstractHierarchyCell.prototype.width=0;mxGraphAbstractHierarchyCell.prototype.height=0;
mxGraphAbstractHierarchyCell.prototype.nextLayerConnectedCells=null;mxGraphAbstractHierarchyCell.prototype.previousLayerConnectedCells=null;mxGraphAbstractHierarchyCell.prototype.temp=null;mxGraphAbstractHierarchyCell.prototype.getNextLayerConnectedCells=function $mxGraphAbstractHierarchyCell$$getNextLayerConnectedCells$($a$$){return null};mxGraphAbstractHierarchyCell.prototype.getPreviousLayerConnectedCells=function $mxGraphAbstractHierarchyCell$$getPreviousLayerConnectedCells$($a$$){return null};
mxGraphAbstractHierarchyCell.prototype.isEdge=function $mxGraphAbstractHierarchyCell$$isEdge$(){return!1};mxGraphAbstractHierarchyCell.prototype.isVertex=function $mxGraphAbstractHierarchyCell$$isVertex$(){return!1};mxGraphAbstractHierarchyCell.prototype.getGeneralPurposeVariable=function $mxGraphAbstractHierarchyCell$$getGeneralPurposeVariable$($a$$){return null};
mxGraphAbstractHierarchyCell.prototype.setGeneralPurposeVariable=function $mxGraphAbstractHierarchyCell$$setGeneralPurposeVariable$($a$$,$b$$){return null};mxGraphAbstractHierarchyCell.prototype.setX=function $mxGraphAbstractHierarchyCell$$setX$($a$$,$b$$){this.isVertex()?this.x[0]=$b$$:this.isEdge()&&(this.x[$a$$-this.minRank-1]=$b$$)};
mxGraphAbstractHierarchyCell.prototype.getX=function $mxGraphAbstractHierarchyCell$$getX$($a$$){return this.isVertex()?this.x[0]:this.isEdge()?this.x[$a$$-this.minRank-1]:0};mxGraphAbstractHierarchyCell.prototype.setY=function $mxGraphAbstractHierarchyCell$$setY$($a$$,$b$$){this.isVertex()?this.y[0]=$b$$:this.isEdge()&&(this.y[$a$$-this.minRank-1]=$b$$)};
function mxGraphHierarchyNode($a$$){mxGraphAbstractHierarchyCell.apply(this,arguments);this.cell=$a$$;this.id=mxObjectIdentity.get($a$$);this.connectsAsTarget=[];this.connectsAsSource=[]}mxGraphHierarchyNode.prototype=new mxGraphAbstractHierarchyCell;mxGraphHierarchyNode.prototype.constructor=mxGraphHierarchyNode;mxGraphHierarchyNode.prototype.cell=null;mxGraphHierarchyNode.prototype.id=null;mxGraphHierarchyNode.prototype.connectsAsTarget=null;mxGraphHierarchyNode.prototype.connectsAsSource=null;
mxGraphHierarchyNode.prototype.hashCode=!1;mxGraphHierarchyNode.prototype.getRankValue=function $mxGraphHierarchyNode$$getRankValue$($a$$){return this.maxRank};
mxGraphHierarchyNode.prototype.getNextLayerConnectedCells=function $mxGraphHierarchyNode$$getNextLayerConnectedCells$($a$$){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[];this.nextLayerConnectedCells[0]=[];for(var $b$$=0;$b$$<this.connectsAsTarget.length;$b$$++){var $c$$=this.connectsAsTarget[$b$$];-1==$c$$.maxRank||$c$$.maxRank==$a$$+1?this.nextLayerConnectedCells[0].push($c$$.source):this.nextLayerConnectedCells[0].push($c$$)}}return this.nextLayerConnectedCells[0]};
mxGraphHierarchyNode.prototype.getPreviousLayerConnectedCells=function $mxGraphHierarchyNode$$getPreviousLayerConnectedCells$($a$$){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[];this.previousLayerConnectedCells[0]=[];for(var $b$$=0;$b$$<this.connectsAsSource.length;$b$$++){var $c$$=this.connectsAsSource[$b$$];-1==$c$$.minRank||$c$$.minRank==$a$$-1?this.previousLayerConnectedCells[0].push($c$$.target):this.previousLayerConnectedCells[0].push($c$$)}}return this.previousLayerConnectedCells[0]};
mxGraphHierarchyNode.prototype.isVertex=function $mxGraphHierarchyNode$$isVertex$(){return!0};mxGraphHierarchyNode.prototype.getGeneralPurposeVariable=function $mxGraphHierarchyNode$$getGeneralPurposeVariable$($a$$){return this.temp[0]};mxGraphHierarchyNode.prototype.setGeneralPurposeVariable=function $mxGraphHierarchyNode$$setGeneralPurposeVariable$($a$$,$b$$){this.temp[0]=$b$$};
mxGraphHierarchyNode.prototype.isAncestor=function $mxGraphHierarchyNode$$isAncestor$($a$$){if(null!=$a$$&&null!=this.hashCode&&null!=$a$$.hashCode&&this.hashCode.length<$a$$.hashCode.length){if(this.hashCode==$a$$.hashCode)return!0;if(null==this.hashCode||null==this.hashCode)return!1;for(var $b$$=0;$b$$<this.hashCode.length;$b$$++)if(this.hashCode[$b$$]!=$a$$.hashCode[$b$$])return!1;return!0}return!1};mxGraphHierarchyNode.prototype.getCoreCell=function $mxGraphHierarchyNode$$getCoreCell$(){return this.cell};
function mxGraphHierarchyEdge($a$$){mxGraphAbstractHierarchyCell.apply(this,arguments);this.edges=$a$$;this.ids=[];for(var $b$$=0;$b$$<$a$$.length;$b$$++)this.ids.push(mxObjectIdentity.get($a$$[$b$$]))}mxGraphHierarchyEdge.prototype=new mxGraphAbstractHierarchyCell;mxGraphHierarchyEdge.prototype.constructor=mxGraphHierarchyEdge;mxGraphHierarchyEdge.prototype.edges=null;mxGraphHierarchyEdge.prototype.ids=null;mxGraphHierarchyEdge.prototype.source=null;mxGraphHierarchyEdge.prototype.target=null;
mxGraphHierarchyEdge.prototype.isReversed=!1;mxGraphHierarchyEdge.prototype.invert=function $mxGraphHierarchyEdge$$invert$($a$$){$a$$=this.source;this.source=this.target;this.target=$a$$;this.isReversed=!this.isReversed};
mxGraphHierarchyEdge.prototype.getNextLayerConnectedCells=function $mxGraphHierarchyEdge$$getNextLayerConnectedCells$($a$$){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[];for(var $b$$=0;$b$$<this.temp.length;$b$$++)this.nextLayerConnectedCells[$b$$]=[],$b$$==this.temp.length-1?this.nextLayerConnectedCells[$b$$].push(this.source):this.nextLayerConnectedCells[$b$$].push(this)}return this.nextLayerConnectedCells[$a$$-this.minRank-1]};
mxGraphHierarchyEdge.prototype.getPreviousLayerConnectedCells=function $mxGraphHierarchyEdge$$getPreviousLayerConnectedCells$($a$$){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[];for(var $b$$=0;$b$$<this.temp.length;$b$$++)this.previousLayerConnectedCells[$b$$]=[],0==$b$$?this.previousLayerConnectedCells[$b$$].push(this.target):this.previousLayerConnectedCells[$b$$].push(this)}return this.previousLayerConnectedCells[$a$$-this.minRank-1]};
mxGraphHierarchyEdge.prototype.isEdge=function $mxGraphHierarchyEdge$$isEdge$(){return!0};mxGraphHierarchyEdge.prototype.getGeneralPurposeVariable=function $mxGraphHierarchyEdge$$getGeneralPurposeVariable$($a$$){return this.temp[$a$$-this.minRank-1]};mxGraphHierarchyEdge.prototype.setGeneralPurposeVariable=function $mxGraphHierarchyEdge$$setGeneralPurposeVariable$($a$$,$b$$){this.temp[$a$$-this.minRank-1]=$b$$};
mxGraphHierarchyEdge.prototype.getCoreCell=function $mxGraphHierarchyEdge$$getCoreCell$(){return null!=this.edges&&0<this.edges.length?this.edges[0]:null};
function mxGraphHierarchyModel($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.getGraph();this.tightenToSource=$e$$;this.roots=$c$$;this.parent=$d$$;this.vertexMapper=new mxDictionary;this.edgeMapper=new mxDictionary;this.maxRank=0;$c$$=[];null==$b$$&&($b$$=this.graph.getChildVertices($d$$));this.maxRank=this.SOURCESCANSTARTRANK;this.createInternalCells($a$$,$b$$,$c$$);for($d$$=0;$d$$<$b$$.length;$d$$++){$e$$=$c$$[$d$$].connectsAsSource;for(var $f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=$e$$[$f$$],$k$$=$g$$.edges;if(null!=
$k$$&&0<$k$$.length){var $k$$=$k$$[0],$l$$=$a$$.getVisibleTerminal($k$$,!1),$l$$=this.vertexMapper.get($l$$);$c$$[$d$$]==$l$$&&($l$$=$a$$.getVisibleTerminal($k$$,!0),$l$$=this.vertexMapper.get($l$$));null!=$l$$&&$c$$[$d$$]!=$l$$&&($g$$.target=$l$$,0==$l$$.connectsAsTarget.length&&($l$$.connectsAsTarget=[]),0>mxUtils.indexOf($l$$.connectsAsTarget,$g$$)&&$l$$.connectsAsTarget.push($g$$))}}$c$$[$d$$].temp[0]=1}}mxGraphHierarchyModel.prototype.maxRank=null;
mxGraphHierarchyModel.prototype.vertexMapper=null;mxGraphHierarchyModel.prototype.edgeMapper=null;mxGraphHierarchyModel.prototype.ranks=null;mxGraphHierarchyModel.prototype.roots=null;mxGraphHierarchyModel.prototype.parent=null;mxGraphHierarchyModel.prototype.dfsCount=0;mxGraphHierarchyModel.prototype.SOURCESCANSTARTRANK=1E8;mxGraphHierarchyModel.prototype.tightenToSource=!1;
mxGraphHierarchyModel.prototype.createInternalCells=function $mxGraphHierarchyModel$$createInternalCells$($a$$,$b$$,$c$$){for(var $d$$=$a$$.getGraph(),$e$$=0;$e$$<$b$$.length;$e$$++){$c$$[$e$$]=new mxGraphHierarchyNode($b$$[$e$$]);this.vertexMapper.put($b$$[$e$$],$c$$[$e$$]);var $f$$=$a$$.getEdges($b$$[$e$$]);$c$$[$e$$].connectsAsSource=[];for(var $g$$=0;$g$$<$f$$.length;$g$$++){var $k$$=$a$$.getVisibleTerminal($f$$[$g$$],!1);if($k$$!=$b$$[$e$$]&&$a$$.graph.model.isVertex($k$$)&&!$a$$.isVertexIgnored($k$$)){var $l$$=
$a$$.getEdgesBetween($b$$[$e$$],$k$$,!1),$k$$=$a$$.getEdgesBetween($b$$[$e$$],$k$$,!0);if(null!=$l$$&&0<$l$$.length&&null==this.edgeMapper.get($l$$[0])&&2*$k$$.length>=$l$$.length){for(var $k$$=new mxGraphHierarchyEdge($l$$),$m$$=0;$m$$<$l$$.length;$m$$++){var $n$$=$l$$[$m$$];this.edgeMapper.put($n$$,$k$$);$d$$.resetEdge($n$$);$a$$.disableEdgeStyle&&($a$$.setEdgeStyleEnabled($n$$,!1),$a$$.setOrthogonalEdge($n$$,!0))}$k$$.source=$c$$[$e$$];0>mxUtils.indexOf($c$$[$e$$].connectsAsSource,$k$$)&&$c$$[$e$$].connectsAsSource.push($k$$)}}}$c$$[$e$$].temp[0]=
0}};
mxGraphHierarchyModel.prototype.initialRank=function $mxGraphHierarchyModel$$initialRank$(){var $a$$=[];if(null!=this.roots)for(var $b$$=0;$b$$<this.roots.length;$b$$++){var $c$$=this.vertexMapper.get(this.roots[$b$$]);null!=$c$$&&$a$$.push($c$$)}for(var $d$$=this.vertexMapper.getValues(),$b$$=0;$b$$<$d$$.length;$b$$++)$d$$[$b$$].temp[0]=-1;for(var $e$$=$a$$.slice();0<$a$$.length;){var $c$$=$a$$[0],$f$$,$g$$;$f$$=$c$$.connectsAsTarget;$g$$=$c$$.connectsAsSource;for(var $k$$=!0,$l$$=this.SOURCESCANSTARTRANK,$b$$=
0;$b$$<$f$$.length;$b$$++){var $m$$=$f$$[$b$$];if(5270620==$m$$.temp[0])$m$$=$m$$.source,$l$$=Math.min($l$$,$m$$.temp[0]-1);else{$k$$=!1;break}}if($k$$){$c$$.temp[0]=$l$$;this.maxRank=Math.min(this.maxRank,$l$$);if(null!=$g$$)for($b$$=0;$b$$<$g$$.length;$b$$++)$m$$=$g$$[$b$$],$m$$.temp[0]=5270620,$m$$=$m$$.target,-1==$m$$.temp[0]&&($a$$.push($m$$),$m$$.temp[0]=-2);$a$$.shift()}else if($b$$=$a$$.shift(),$a$$.push($c$$),$b$$==$c$$&&1==$a$$.length)break}for($b$$=0;$b$$<$d$$.length;$b$$++)$d$$[$b$$].temp[0]-=
this.maxRank;for($b$$=0;$b$$<$e$$.length;$b$$++)for($c$$=$e$$[$b$$],$a$$=0,$f$$=$c$$.connectsAsSource,$d$$=0;$d$$<$f$$.length;$d$$++)$m$$=$f$$[$d$$],$m$$=$m$$.target,$c$$.temp[0]=Math.max($a$$,$m$$.temp[0]+1),$a$$=$c$$.temp[0];this.maxRank=this.SOURCESCANSTARTRANK-this.maxRank};
mxGraphHierarchyModel.prototype.fixRanks=function $mxGraphHierarchyModel$$fixRanks$(){var $a$$=[];this.ranks=[];for(var $b$jscomp$0$$=0;$b$jscomp$0$$<this.maxRank+1;$b$jscomp$0$$++)$a$$[$b$jscomp$0$$]=[],this.ranks[$b$jscomp$0$$]=$a$$[$b$jscomp$0$$];var $c$jscomp$0$$=null;if(null!=this.roots)for(var $d$jscomp$0$$=this.roots,$c$jscomp$0$$=[],$b$jscomp$0$$=0;$b$jscomp$0$$<$d$jscomp$0$$.length;$b$jscomp$0$$++){var $e$jscomp$0$$=this.vertexMapper.get($d$jscomp$0$$[$b$jscomp$0$$]);$c$jscomp$0$$[$b$jscomp$0$$]=
$e$jscomp$0$$}this.visit(function($b$$,$c$$,$d$$,$e$$,$m$$){0==$m$$&&0>$c$$.maxRank&&0>$c$$.minRank&&($a$$[$c$$.temp[0]].push($c$$),$c$$.maxRank=$c$$.temp[0],$c$$.minRank=$c$$.temp[0],$c$$.temp[0]=$a$$[$c$$.maxRank].length-1);if(null!=$b$$&&null!=$d$$&&1<$b$$.maxRank-$c$$.maxRank)for($d$$.maxRank=$b$$.maxRank,$d$$.minRank=$c$$.maxRank,$d$$.temp=[],$d$$.x=[],$d$$.y=[],$b$$=$d$$.minRank+1;$b$$<$d$$.maxRank;$b$$++)$a$$[$b$$].push($d$$),$d$$.setGeneralPurposeVariable($b$$,$a$$[$b$$].length-1)},$c$jscomp$0$$,
!1,null)};mxGraphHierarchyModel.prototype.visit=function $mxGraphHierarchyModel$$visit$($a$$,$b$$,$c$$,$d$$){if(null!=$b$$){for(var $e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$];null!=$f$$&&(null==$d$$&&($d$$={}),$c$$?($f$$.hashCode=[],$f$$.hashCode[0]=this.dfsCount,$f$$.hashCode[1]=$e$$,this.extendedDfs(null,$f$$,null,$a$$,$d$$,$f$$.hashCode,$e$$,0)):this.dfs(null,$f$$,null,$a$$,$d$$,0))}this.dfsCount++}};
mxGraphHierarchyModel.prototype.dfs=function $mxGraphHierarchyModel$$dfs$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$b$$){var $g$$=$b$$.id;if(null==$e$$[$g$$])for($e$$[$g$$]=$b$$,$d$$($a$$,$b$$,$c$$,$f$$,0),$a$$=$b$$.connectsAsSource.slice(),$c$$=0;$c$$<$a$$.length;$c$$++)$g$$=$a$$[$c$$],this.dfs($b$$,$g$$.target,$g$$,$d$$,$e$$,$f$$+1);else $d$$($a$$,$b$$,$c$$,$f$$,1)}};
mxGraphHierarchyModel.prototype.extendedDfs=function $mxGraphHierarchyModel$$extendedDfs$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$b$$)if(null==$a$$||null!=$b$$.hashCode&&$b$$.hashCode[0]==$a$$.hashCode[0]||($f$$=$a$$.hashCode.length+1,$b$$.hashCode=$a$$.hashCode.slice(),$b$$.hashCode[$f$$-1]=$g$$),$g$$=$b$$.id,null==$e$$[$g$$])for($e$$[$g$$]=$b$$,$d$$($a$$,$b$$,$c$$,$k$$,0),$a$$=$b$$.connectsAsSource.slice(),$c$$=0;$c$$<$a$$.length;$c$$++)$g$$=$a$$[$c$$],this.extendedDfs($b$$,$g$$.target,
$g$$,$d$$,$e$$,$b$$.hashCode,$c$$,$k$$+1);else $d$$($a$$,$b$$,$c$$,$k$$,1)};
function mxSwimlaneModel($a$$,$b$$,$c$$,$d$$,$e$$){$a$$.getGraph();this.tightenToSource=$e$$;this.roots=$c$$;this.parent=$d$$;this.vertexMapper=new mxDictionary;this.edgeMapper=new mxDictionary;this.maxRank=0;$c$$=[];null==$b$$&&($b$$=this.graph.getChildVertices($d$$));this.maxRank=this.SOURCESCANSTARTRANK;this.createInternalCells($a$$,$b$$,$c$$);for($d$$=0;$d$$<$b$$.length;$d$$++){$e$$=$c$$[$d$$].connectsAsSource;for(var $f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=$e$$[$f$$],$k$$=$g$$.edges;if(null!=
$k$$&&0<$k$$.length){var $k$$=$k$$[0],$l$$=$a$$.getVisibleTerminal($k$$,!1),$l$$=this.vertexMapper.get($l$$);$c$$[$d$$]==$l$$&&($l$$=$a$$.getVisibleTerminal($k$$,!0),$l$$=this.vertexMapper.get($l$$));null!=$l$$&&$c$$[$d$$]!=$l$$&&($g$$.target=$l$$,0==$l$$.connectsAsTarget.length&&($l$$.connectsAsTarget=[]),0>mxUtils.indexOf($l$$.connectsAsTarget,$g$$)&&$l$$.connectsAsTarget.push($g$$))}}$c$$[$d$$].temp[0]=1}}mxSwimlaneModel.prototype.maxRank=null;mxSwimlaneModel.prototype.vertexMapper=null;
mxSwimlaneModel.prototype.edgeMapper=null;mxSwimlaneModel.prototype.ranks=null;mxSwimlaneModel.prototype.roots=null;mxSwimlaneModel.prototype.parent=null;mxSwimlaneModel.prototype.dfsCount=0;mxSwimlaneModel.prototype.SOURCESCANSTARTRANK=1E8;mxSwimlaneModel.prototype.tightenToSource=!1;mxSwimlaneModel.prototype.ranksPerGroup=null;
mxSwimlaneModel.prototype.createInternalCells=function $mxSwimlaneModel$$createInternalCells$($a$$,$b$$,$c$$){for(var $d$$=$a$$.getGraph(),$e$$=$a$$.swimlanes,$f$$=0;$f$$<$b$$.length;$f$$++){$c$$[$f$$]=new mxGraphHierarchyNode($b$$[$f$$]);this.vertexMapper.put($b$$[$f$$],$c$$[$f$$]);$c$$[$f$$].swimlaneIndex=-1;for(var $g$$=0;$g$$<$e$$.length;$g$$++)if($d$$.model.getParent($b$$[$f$$])==$e$$[$g$$]){$c$$[$f$$].swimlaneIndex=$g$$;break}$g$$=$a$$.getEdges($b$$[$f$$]);$c$$[$f$$].connectsAsSource=[];for(var $k$$=
0;$k$$<$g$$.length;$k$$++){var $l$$=$a$$.getVisibleTerminal($g$$[$k$$],!1);if($l$$!=$b$$[$f$$]&&$a$$.graph.model.isVertex($l$$)&&!$a$$.isVertexIgnored($l$$)){var $m$$=$a$$.getEdgesBetween($b$$[$f$$],$l$$,!1),$l$$=$a$$.getEdgesBetween($b$$[$f$$],$l$$,!0);if(null!=$m$$&&0<$m$$.length&&null==this.edgeMapper.get($m$$[0])&&2*$l$$.length>=$m$$.length){for(var $l$$=new mxGraphHierarchyEdge($m$$),$n$$=0;$n$$<$m$$.length;$n$$++){var $p$$=$m$$[$n$$];this.edgeMapper.put($p$$,$l$$);$d$$.resetEdge($p$$);$a$$.disableEdgeStyle&&
($a$$.setEdgeStyleEnabled($p$$,!1),$a$$.setOrthogonalEdge($p$$,!0))}$l$$.source=$c$$[$f$$];0>mxUtils.indexOf($c$$[$f$$].connectsAsSource,$l$$)&&$c$$[$f$$].connectsAsSource.push($l$$)}}}$c$$[$f$$].temp[0]=0}};
mxSwimlaneModel.prototype.initialRank=function $mxSwimlaneModel$$initialRank$(){this.ranksPerGroup=[];var $a$$=[],$b$$={};if(null!=this.roots)for(var $c$$=0;$c$$<this.roots.length;$c$$++){var $d$$=this.vertexMapper.get(this.roots[$c$$]);this.maxChainDfs(null,$d$$,null,$b$$,0);null!=$d$$&&$a$$.push($d$$)}$d$$=[];$b$$=[];for($c$$=this.ranksPerGroup.length-1;0<=$c$$;$c$$--)$d$$[$c$$]=$c$$==this.ranksPerGroup.length-1?0:$b$$[$c$$+1]+1,$b$$[$c$$]=$d$$[$c$$]+this.ranksPerGroup[$c$$];this.maxRank=$b$$[0];
$d$$=this.vertexMapper.getValues();for($c$$=0;$c$$<$d$$.length;$c$$++)$d$$[$c$$].temp[0]=-1;for($a$$.slice();0<$a$$.length;){var $d$$=$a$$[0],$e$$,$f$$;$e$$=$d$$.connectsAsTarget;$f$$=$d$$.connectsAsSource;for(var $g$$=!0,$k$$=$b$$[0],$c$$=0;$c$$<$e$$.length;$c$$++){var $l$$=$e$$[$c$$];if(5270620==$l$$.temp[0])$l$$=$l$$.source,$k$$=Math.min($k$$,$l$$.temp[0]-1);else{$g$$=!1;break}}if($g$$){$k$$>$b$$[$d$$.swimlaneIndex]&&($k$$=$b$$[$d$$.swimlaneIndex]);$d$$.temp[0]=$k$$;if(null!=$f$$)for($c$$=0;$c$$<
$f$$.length;$c$$++)$l$$=$f$$[$c$$],$l$$.temp[0]=5270620,$l$$=$l$$.target,-1==$l$$.temp[0]&&($a$$.push($l$$),$l$$.temp[0]=-2);$a$$.shift()}else if($c$$=$a$$.shift(),$a$$.push($d$$),$c$$==$d$$&&1==$a$$.length)break}};
mxSwimlaneModel.prototype.maxChainDfs=function $mxSwimlaneModel$$maxChainDfs$($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$b$$&&($a$$=mxCellPath.create($b$$.cell),null==$d$$[$a$$])){$d$$[$a$$]=$b$$;$a$$=$b$$.swimlaneIndex;if(null==this.ranksPerGroup[$a$$]||this.ranksPerGroup[$a$$]<$e$$)this.ranksPerGroup[$a$$]=$e$$;$a$$=$b$$.connectsAsSource.slice();for($c$$=0;$c$$<$a$$.length;$c$$++){var $f$$=$a$$[$c$$],$g$$=$f$$.target;$b$$.swimlaneIndex<$g$$.swimlaneIndex?this.maxChainDfs($b$$,$g$$,$f$$,mxUtils.clone($d$$,
null,!0),0):$b$$.swimlaneIndex==$g$$.swimlaneIndex&&this.maxChainDfs($b$$,$g$$,$f$$,mxUtils.clone($d$$,null,!0),$e$$+1)}}};
mxSwimlaneModel.prototype.fixRanks=function $mxSwimlaneModel$$fixRanks$(){var $a$$=[];this.ranks=[];for(var $b$jscomp$0$$=0;$b$jscomp$0$$<this.maxRank+1;$b$jscomp$0$$++)$a$$[$b$jscomp$0$$]=[],this.ranks[$b$jscomp$0$$]=$a$$[$b$jscomp$0$$];var $c$jscomp$0$$=null;if(null!=this.roots)for(var $d$jscomp$0$$=this.roots,$c$jscomp$0$$=[],$b$jscomp$0$$=0;$b$jscomp$0$$<$d$jscomp$0$$.length;$b$jscomp$0$$++){var $e$jscomp$0$$=this.vertexMapper.get($d$jscomp$0$$[$b$jscomp$0$$]);$c$jscomp$0$$[$b$jscomp$0$$]=$e$jscomp$0$$}this.visit(function($b$$,
$c$$,$d$$,$e$$,$m$$){0==$m$$&&0>$c$$.maxRank&&0>$c$$.minRank&&($a$$[$c$$.temp[0]].push($c$$),$c$$.maxRank=$c$$.temp[0],$c$$.minRank=$c$$.temp[0],$c$$.temp[0]=$a$$[$c$$.maxRank].length-1);if(null!=$b$$&&null!=$d$$&&1<$b$$.maxRank-$c$$.maxRank)for($d$$.maxRank=$b$$.maxRank,$d$$.minRank=$c$$.maxRank,$d$$.temp=[],$d$$.x=[],$d$$.y=[],$b$$=$d$$.minRank+1;$b$$<$d$$.maxRank;$b$$++)$a$$[$b$$].push($d$$),$d$$.setGeneralPurposeVariable($b$$,$a$$[$b$$].length-1)},$c$jscomp$0$$,!1,null)};
mxSwimlaneModel.prototype.visit=function $mxSwimlaneModel$$visit$($a$$,$b$$,$c$$,$d$$){if(null!=$b$$){for(var $e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$];null!=$f$$&&(null==$d$$&&($d$$={}),$c$$?($f$$.hashCode=[],$f$$.hashCode[0]=this.dfsCount,$f$$.hashCode[1]=$e$$,this.extendedDfs(null,$f$$,null,$a$$,$d$$,$f$$.hashCode,$e$$,0)):this.dfs(null,$f$$,null,$a$$,$d$$,0))}this.dfsCount++}};
mxSwimlaneModel.prototype.dfs=function $mxSwimlaneModel$$dfs$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$b$$){var $g$$=$b$$.id;if(null==$e$$[$g$$])for($e$$[$g$$]=$b$$,$d$$($a$$,$b$$,$c$$,$f$$,0),$a$$=$b$$.connectsAsSource.slice(),$c$$=0;$c$$<$a$$.length;$c$$++)$g$$=$a$$[$c$$],this.dfs($b$$,$g$$.target,$g$$,$d$$,$e$$,$f$$+1);else $d$$($a$$,$b$$,$c$$,$f$$,1)}};
mxSwimlaneModel.prototype.extendedDfs=function $mxSwimlaneModel$$extendedDfs$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$b$$)if(null==$a$$||null!=$b$$.hashCode&&$b$$.hashCode[0]==$a$$.hashCode[0]||($f$$=$a$$.hashCode.length+1,$b$$.hashCode=$a$$.hashCode.slice(),$b$$.hashCode[$f$$-1]=$g$$),$g$$=$b$$.id,null==$e$$[$g$$]){$e$$[$g$$]=$b$$;$d$$($a$$,$b$$,$c$$,$k$$,0);$a$$=$b$$.connectsAsSource.slice();$c$$=$b$$.connectsAsTarget.slice();for($g$$=0;$g$$<$a$$.length;$g$$++){$f$$=$a$$[$g$$];var $l$$=
$f$$.target;$b$$.swimlaneIndex<=$l$$.swimlaneIndex&&this.extendedDfs($b$$,$l$$,$f$$,$d$$,$e$$,$b$$.hashCode,$g$$,$k$$+1)}for($g$$=0;$g$$<$c$$.length;$g$$++)$f$$=$c$$[$g$$],$l$$=$f$$.source,$b$$.swimlaneIndex<$l$$.swimlaneIndex&&this.extendedDfs($b$$,$l$$,$f$$,$d$$,$e$$,$b$$.hashCode,$g$$,$k$$+1)}else $d$$($a$$,$b$$,$c$$,$k$$,1)};function mxHierarchicalLayoutStage(){}mxHierarchicalLayoutStage.prototype.execute=function $mxHierarchicalLayoutStage$$execute$($a$$){};
function mxMedianHybridCrossingReduction($a$$){this.layout=$a$$}mxMedianHybridCrossingReduction.prototype=new mxHierarchicalLayoutStage;mxMedianHybridCrossingReduction.prototype.constructor=mxMedianHybridCrossingReduction;mxMedianHybridCrossingReduction.prototype.layout=null;mxMedianHybridCrossingReduction.prototype.maxIterations=24;mxMedianHybridCrossingReduction.prototype.nestedBestRanks=null;mxMedianHybridCrossingReduction.prototype.currentBestCrossings=0;
mxMedianHybridCrossingReduction.prototype.iterationsWithoutImprovement=0;mxMedianHybridCrossingReduction.prototype.maxNoImprovementIterations=2;
mxMedianHybridCrossingReduction.prototype.execute=function $mxMedianHybridCrossingReduction$$execute$($a$$){$a$$=this.layout.getModel();this.nestedBestRanks=[];for(var $b$$=0;$b$$<$a$$.ranks.length;$b$$++)this.nestedBestRanks[$b$$]=$a$$.ranks[$b$$].slice();for(var $c$$=0,$d$$=this.calculateCrossings($a$$),$b$$=0;$b$$<this.maxIterations&&$c$$<this.maxNoImprovementIterations;$b$$++){this.weightedMedian($b$$,$a$$);this.transpose($b$$,$a$$);var $e$$=this.calculateCrossings($a$$);if($e$$<$d$$)for($d$$=
$e$$,$e$$=$c$$=0;$e$$<this.nestedBestRanks.length;$e$$++)for(var $f$$=$a$$.ranks[$e$$],$g$$=0;$g$$<$f$$.length;$g$$++){var $k$$=$f$$[$g$$];this.nestedBestRanks[$e$$][$k$$.getGeneralPurposeVariable($e$$)]=$k$$}else for($c$$++,$e$$=0;$e$$<this.nestedBestRanks.length;$e$$++)for($f$$=$a$$.ranks[$e$$],$g$$=0;$g$$<$f$$.length;$g$$++)$k$$=$f$$[$g$$],$k$$.setGeneralPurposeVariable($e$$,$g$$);if(0==$d$$)break}$c$$=[];$d$$=[];for($b$$=0;$b$$<$a$$.maxRank+1;$b$$++)$d$$[$b$$]=[],$c$$[$b$$]=$d$$[$b$$];for($b$$=
0;$b$$<this.nestedBestRanks.length;$b$$++)for($e$$=0;$e$$<this.nestedBestRanks[$b$$].length;$e$$++)$d$$[$b$$].push(this.nestedBestRanks[$b$$][$e$$]);$a$$.ranks=$c$$};mxMedianHybridCrossingReduction.prototype.calculateCrossings=function $mxMedianHybridCrossingReduction$$calculateCrossings$($a$$){for(var $b$$=$a$$.ranks.length,$c$$=0,$d$$=1;$d$$<$b$$;$d$$++)$c$$+=this.calculateRankCrossing($d$$,$a$$);return $c$$};
mxMedianHybridCrossingReduction.prototype.calculateRankCrossing=function $mxMedianHybridCrossingReduction$$calculateRankCrossing$($a$jscomp$0$$,$b$jscomp$0$$){for(var $c$$=0,$d$$=$b$jscomp$0$$.ranks[$a$jscomp$0$$],$e$$=$b$jscomp$0$$.ranks[$a$jscomp$0$$-1],$f$$=[],$g$$=0;$g$$<$d$$.length;$g$$++){for(var $k$$=$d$$[$g$$],$l$$=$k$$.getGeneralPurposeVariable($a$jscomp$0$$),$k$$=$k$$.getPreviousLayerConnectedCells($a$jscomp$0$$),$m$$=[],$n$$=0;$n$$<$k$$.length;$n$$++){var $p$$=$k$$[$n$$].getGeneralPurposeVariable($a$jscomp$0$$-
1);$m$$.push($p$$)}$m$$.sort(function($a$$,$b$$){return $a$$-$b$$});$f$$[$l$$]=$m$$}$d$$=[];for($g$$=0;$g$$<$f$$.length;$g$$++)$d$$=$d$$.concat($f$$[$g$$]);for($f$$=1;$f$$<$e$$.length;)$f$$<<=1;$l$$=2*$f$$-1;--$f$$;$e$$=[];for($g$$=0;$g$$<$l$$;++$g$$)$e$$[$g$$]=0;for($g$$=0;$g$$<$d$$.length;$g$$++)for($l$$=$d$$[$g$$]+$f$$,++$e$$[$l$$];0<$l$$;)$l$$%2&&($c$$+=$e$$[$l$$+1]),$l$$=$l$$-1>>1,++$e$$[$l$$];return $c$$};
mxMedianHybridCrossingReduction.prototype.transpose=function $mxMedianHybridCrossingReduction$$transpose$($a$$,$b$$){for(var $c$$=!0,$d$$=0;$c$$&&10>$d$$++;)for(var $e$$=1==$a$$%2&&1==$d$$%2,$c$$=!1,$f$$=0;$f$$<$b$$.ranks.length;$f$$++){for(var $g$$=$b$$.ranks[$f$$],$k$$=[],$l$$=0;$l$$<$g$$.length;$l$$++){var $m$$=$g$$[$l$$],$n$$=$m$$.getGeneralPurposeVariable($f$$);0>$n$$&&($n$$=$l$$);$k$$[$n$$]=$m$$}for(var $p$$=null,$q$$=null,$r$$,$t$$,$u$$=null,$y$$=null,$x$$,$A$$=null,$l$$=0;$l$$<$g$$.length-
1;$l$$++){if(0==$l$$){$x$$=$k$$[$l$$];$m$$=$x$$.getNextLayerConnectedCells($f$$);$n$$=$x$$.getPreviousLayerConnectedCells($f$$);$r$$=[];$t$$=[];for(var $z$$=0;$z$$<$m$$.length;$z$$++)$r$$[$z$$]=$m$$[$z$$].getGeneralPurposeVariable($f$$+1);for($z$$=0;$z$$<$n$$.length;$z$$++)$t$$[$z$$]=$n$$[$z$$].getGeneralPurposeVariable($f$$-1)}else $m$$=$p$$,$n$$=$q$$,$r$$=$u$$,$t$$=$y$$,$x$$=$A$$;$A$$=$k$$[$l$$+1];$p$$=$A$$.getNextLayerConnectedCells($f$$);$q$$=$A$$.getPreviousLayerConnectedCells($f$$);$u$$=[];
$y$$=[];for($z$$=0;$z$$<$p$$.length;$z$$++)$u$$[$z$$]=$p$$[$z$$].getGeneralPurposeVariable($f$$+1);for($z$$=0;$z$$<$q$$.length;$z$$++)$y$$[$z$$]=$q$$[$z$$].getGeneralPurposeVariable($f$$-1);for(var $v$$=0,$B$$=0,$z$$=0;$z$$<$r$$.length;$z$$++)for(var $C$$=0;$C$$<$u$$.length;$C$$++)$r$$[$z$$]>$u$$[$C$$]&&$v$$++,$r$$[$z$$]<$u$$[$C$$]&&$B$$++;for($z$$=0;$z$$<$t$$.length;$z$$++)for($C$$=0;$C$$<$y$$.length;$C$$++)$t$$[$z$$]>$y$$[$C$$]&&$v$$++,$t$$[$z$$]<$y$$[$C$$]&&$B$$++;if($B$$<$v$$||$B$$==$v$$&&$e$$)$p$$=
$x$$.getGeneralPurposeVariable($f$$),$x$$.setGeneralPurposeVariable($f$$,$A$$.getGeneralPurposeVariable($f$$)),$A$$.setGeneralPurposeVariable($f$$,$p$$),$p$$=$m$$,$q$$=$n$$,$u$$=$r$$,$y$$=$t$$,$A$$=$x$$,$e$$||($c$$=!0)}}};
mxMedianHybridCrossingReduction.prototype.weightedMedian=function $mxMedianHybridCrossingReduction$$weightedMedian$($a$$,$b$$){var $c$$=0==$a$$%2;if($c$$)for(var $d$$=$b$$.maxRank-1;0<=$d$$;$d$$--)this.medianRank($d$$,$c$$);else for($d$$=1;$d$$<$b$$.maxRank;$d$$++)this.medianRank($d$$,$c$$)};
mxMedianHybridCrossingReduction.prototype.medianRank=function $mxMedianHybridCrossingReduction$$medianRank$($a$$,$b$$){for(var $c$$=this.nestedBestRanks[$a$$].length,$d$$=[],$e$$=[],$f$$=0;$f$$<$c$$;$f$$++){var $g$$=this.nestedBestRanks[$a$$][$f$$],$k$$=new MedianCellSorter;$k$$.cell=$g$$;var $l$$;$l$$=$b$$?$g$$.getNextLayerConnectedCells($a$$):$g$$.getPreviousLayerConnectedCells($a$$);var $m$$;$m$$=$b$$?$a$$+1:$a$$-1;null!=$l$$&&0!=$l$$.length?($k$$.medianValue=this.medianValue($l$$,$m$$),$d$$.push($k$$)):
$e$$[$g$$.getGeneralPurposeVariable($a$$)]=!0}$d$$.sort(MedianCellSorter.prototype.compare);for($f$$=0;$f$$<$c$$;$f$$++)null==$e$$[$f$$]&&($g$$=$d$$.shift().cell,$g$$.setGeneralPurposeVariable($a$$,$f$$))};
mxMedianHybridCrossingReduction.prototype.medianValue=function $mxMedianHybridCrossingReduction$$medianValue$($a$jscomp$0$$,$b$jscomp$0$$){for(var $c$$=[],$d$$=0,$e$$=0;$e$$<$a$jscomp$0$$.length;$e$$++){var $f$$=$a$jscomp$0$$[$e$$];$c$$[$d$$++]=$f$$.getGeneralPurposeVariable($b$jscomp$0$$)}$c$$.sort(function($a$$,$b$$){return $a$$-$b$$});if(1==$d$$%2)return $c$$[Math.floor($d$$/2)];if(2==$d$$)return($c$$[0]+$c$$[1])/2;$e$$=$d$$/2;$f$$=$c$$[$e$$-1]-$c$$[0];$d$$=$c$$[$d$$-1]-$c$$[$e$$];return($c$$[$e$$-
1]*$d$$+$c$$[$e$$]*$f$$)/($f$$+$d$$)};function MedianCellSorter(){}MedianCellSorter.prototype.medianValue=0;MedianCellSorter.prototype.cell=!1;MedianCellSorter.prototype.compare=function $MedianCellSorter$$compare$($a$$,$b$$){return null!=$a$$&&null!=$b$$?$b$$.medianValue>$a$$.medianValue?-1:$b$$.medianValue<$a$$.medianValue?1:0:0};function mxMinimumCycleRemover($a$$){this.layout=$a$$}mxMinimumCycleRemover.prototype=new mxHierarchicalLayoutStage;mxMinimumCycleRemover.prototype.constructor=mxMinimumCycleRemover;
mxMinimumCycleRemover.prototype.layout=null;
mxMinimumCycleRemover.prototype.execute=function $mxMinimumCycleRemover$$execute$($a$jscomp$0$$){$a$jscomp$0$$=this.layout.getModel();for(var $b$$={},$c$jscomp$0$$=$a$jscomp$0$$.vertexMapper.getValues(),$d$$={},$e$jscomp$0$$=0;$e$jscomp$0$$<$c$jscomp$0$$.length;$e$jscomp$0$$++)$d$$[$c$jscomp$0$$[$e$jscomp$0$$].id]=$c$jscomp$0$$[$e$jscomp$0$$];$c$jscomp$0$$=null;if(null!=$a$jscomp$0$$.roots)for(var $f$jscomp$0$$=$a$jscomp$0$$.roots,$c$jscomp$0$$=[],$e$jscomp$0$$=0;$e$jscomp$0$$<$f$jscomp$0$$.length;$e$jscomp$0$$++)$c$jscomp$0$$[$e$jscomp$0$$]=
$a$jscomp$0$$.vertexMapper.get($f$jscomp$0$$[$e$jscomp$0$$]);$a$jscomp$0$$.visit(function($a$$,$c$$,$e$$,$f$$,$n$$){$c$$.isAncestor($a$$)&&($e$$.invert(),mxUtils.remove($e$$,$a$$.connectsAsSource),$a$$.connectsAsTarget.push($e$$),mxUtils.remove($e$$,$c$$.connectsAsTarget),$c$$.connectsAsSource.push($e$$));$b$$[$c$$.id]=$c$$;delete $d$$[$c$$.id]},$c$jscomp$0$$,!0,null);$e$jscomp$0$$=mxUtils.clone($b$$,null,!0);$a$jscomp$0$$.visit(function($a$$,$c$$,$e$$,$f$$,$n$$){$c$$.isAncestor($a$$)&&($e$$.invert(),
mxUtils.remove($e$$,$a$$.connectsAsSource),$c$$.connectsAsSource.push($e$$),$a$$.connectsAsTarget.push($e$$),mxUtils.remove($e$$,$c$$.connectsAsTarget));$b$$[$c$$.id]=$c$$;delete $d$$[$c$$.id]},$d$$,!0,$e$jscomp$0$$)};function mxCoordinateAssignment($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.layout=$a$$;this.intraCellSpacing=$b$$;this.interRankCellSpacing=$c$$;this.orientation=$d$$;this.initialX=$e$$;this.parallelEdgeSpacing=$f$$}mxCoordinateAssignment.prototype=new mxHierarchicalLayoutStage;
mxCoordinateAssignment.prototype.constructor=mxCoordinateAssignment;mxCoordinateAssignment.prototype.layout=null;mxCoordinateAssignment.prototype.intraCellSpacing=30;mxCoordinateAssignment.prototype.interRankCellSpacing=100;mxCoordinateAssignment.prototype.parallelEdgeSpacing=10;mxCoordinateAssignment.prototype.maxIterations=8;mxCoordinateAssignment.prototype.prefHozEdgeSep=5;mxCoordinateAssignment.prototype.prefVertEdgeOff=2;mxCoordinateAssignment.prototype.minEdgeJetty=12;
mxCoordinateAssignment.prototype.channelBuffer=4;mxCoordinateAssignment.prototype.jettyPositions=null;mxCoordinateAssignment.prototype.orientation=mxConstants.DIRECTION_NORTH;mxCoordinateAssignment.prototype.initialX=null;mxCoordinateAssignment.prototype.limitX=null;mxCoordinateAssignment.prototype.currentXDelta=null;mxCoordinateAssignment.prototype.widestRank=null;mxCoordinateAssignment.prototype.rankTopY=null;mxCoordinateAssignment.prototype.rankBottomY=null;
mxCoordinateAssignment.prototype.widestRankValue=null;mxCoordinateAssignment.prototype.rankWidths=null;mxCoordinateAssignment.prototype.rankY=null;mxCoordinateAssignment.prototype.fineTuning=!0;mxCoordinateAssignment.prototype.nextLayerConnectedCache=null;mxCoordinateAssignment.prototype.previousLayerConnectedCache=null;mxCoordinateAssignment.prototype.groupPadding=10;
mxCoordinateAssignment.prototype.printStatus=function $mxCoordinateAssignment$$printStatus$(){var $a$$=this.layout.getModel();mxLog.show();mxLog.writeln("======Coord assignment debug=======");for(var $b$$=0;$b$$<$a$$.ranks.length;$b$$++){mxLog.write("Rank ",$b$$," : ");for(var $c$$=$a$$.ranks[$b$$],$d$$=0;$d$$<$c$$.length;$d$$++)mxLog.write($c$$[$d$$].getGeneralPurposeVariable($b$$),"  ");mxLog.writeln()}mxLog.writeln("====================================")};
mxCoordinateAssignment.prototype.execute=function $mxCoordinateAssignment$$execute$($a$$){this.jettyPositions={};$a$$=this.layout.getModel();this.currentXDelta=0;this.initialCoords(this.layout.getGraph(),$a$$);this.fineTuning&&this.minNode($a$$);var $b$$=1E8;if(this.fineTuning)for(var $c$$=0;$c$$<this.maxIterations;$c$$++){0!=$c$$&&(this.medianPos($c$$,$a$$),this.minNode($a$$));if(this.currentXDelta<$b$$){for(var $d$$=0;$d$$<$a$$.ranks.length;$d$$++)for(var $e$$=$a$$.ranks[$d$$],$f$$=0;$f$$<$e$$.length;$f$$++){var $g$$=
$e$$[$f$$];$g$$.setX($d$$,$g$$.getGeneralPurposeVariable($d$$))}$b$$=this.currentXDelta}else for($d$$=0;$d$$<$a$$.ranks.length;$d$$++)for($e$$=$a$$.ranks[$d$$],$f$$=0;$f$$<$e$$.length;$f$$++)$g$$=$e$$[$f$$],$g$$.setGeneralPurposeVariable($d$$,$g$$.getX($d$$));this.minPath(this.layout.getGraph(),$a$$);this.currentXDelta=0}this.setCellLocations(this.layout.getGraph(),$a$$)};
mxCoordinateAssignment.prototype.minNode=function $mxCoordinateAssignment$$minNode$($a$$){for(var $b$$=[],$c$$=new mxDictionary,$d$$=[],$e$$=0;$e$$<=$a$$.maxRank;$e$$++){$d$$[$e$$]=$a$$.ranks[$e$$];for(var $f$$=0;$f$$<$d$$[$e$$].length;$f$$++){var $g$$=$d$$[$e$$][$f$$],$k$$=new WeightedCellSorter($g$$,$e$$);$k$$.rankIndex=$f$$;$k$$.visited=!0;$b$$.push($k$$);$c$$.put($g$$,$k$$)}}$a$$=10*$b$$.length;for($f$$=0;0<$b$$.length&&$f$$<=$a$$;){var $g$$=$b$$.shift(),$e$$=$g$$.cell,$l$$=$g$$.weightedValue,
$m$$=parseInt($g$$.rankIndex),$k$$=$e$$.getNextLayerConnectedCells($l$$),$n$$=$e$$.getPreviousLayerConnectedCells($l$$),$p$$=$k$$.length,$q$$=$n$$.length,$r$$=this.medianXValue($k$$,$l$$+1),$t$$=this.medianXValue($n$$,$l$$-1),$u$$=$p$$+$q$$,$y$$=$e$$.getGeneralPurposeVariable($l$$),$x$$=$y$$;0<$u$$&&($x$$=($r$$*$p$$+$t$$*$q$$)/$u$$);$p$$=!1;$x$$<$y$$-1?0==$m$$?($e$$.setGeneralPurposeVariable($l$$,$x$$),$p$$=!0):($m$$=$d$$[$l$$][$m$$-1],$y$$=$m$$.getGeneralPurposeVariable($l$$),$y$$=$y$$+$m$$.width/
2+this.intraCellSpacing+$e$$.width/2,$y$$<$x$$?($e$$.setGeneralPurposeVariable($l$$,$x$$),$p$$=!0):$y$$<$e$$.getGeneralPurposeVariable($l$$)-1&&($e$$.setGeneralPurposeVariable($l$$,$y$$),$p$$=!0)):$x$$>$y$$+1&&($m$$==$d$$[$l$$].length-1?($e$$.setGeneralPurposeVariable($l$$,$x$$),$p$$=!0):($m$$=$d$$[$l$$][$m$$+1],$y$$=$m$$.getGeneralPurposeVariable($l$$),$y$$=$y$$-$m$$.width/2-this.intraCellSpacing-$e$$.width/2,$y$$>$x$$?($e$$.setGeneralPurposeVariable($l$$,$x$$),$p$$=!0):$y$$>$e$$.getGeneralPurposeVariable($l$$)+
1&&($e$$.setGeneralPurposeVariable($l$$,$y$$),$p$$=!0)));if($p$$){for($e$$=0;$e$$<$k$$.length;$e$$++)$l$$=$k$$[$e$$],$l$$=$c$$.get($l$$),null!=$l$$&&0==$l$$.visited&&($l$$.visited=!0,$b$$.push($l$$));for($e$$=0;$e$$<$n$$.length;$e$$++)$l$$=$n$$[$e$$],$l$$=$c$$.get($l$$),null!=$l$$&&0==$l$$.visited&&($l$$.visited=!0,$b$$.push($l$$))}$g$$.visited=!1;$f$$++}};
mxCoordinateAssignment.prototype.medianPos=function $mxCoordinateAssignment$$medianPos$($a$$,$b$$){if(0==$a$$%2)for(var $c$$=$b$$.maxRank;0<$c$$;$c$$--)this.rankMedianPosition($c$$-1,$b$$,$c$$);else for($c$$=0;$c$$<$b$$.maxRank-1;$c$$++)this.rankMedianPosition($c$$+1,$b$$,$c$$)};
mxCoordinateAssignment.prototype.rankMedianPosition=function $mxCoordinateAssignment$$rankMedianPosition$($a$$,$b$$,$c$$){$b$$=$b$$.ranks[$a$$];for(var $d$$=[],$e$$={},$f$$=0;$f$$<$b$$.length;$f$$++){var $g$$=$b$$[$f$$];$d$$[$f$$]=new WeightedCellSorter;$d$$[$f$$].cell=$g$$;$d$$[$f$$].rankIndex=$f$$;$e$$[$g$$.id]=$d$$[$f$$];var $k$$;$k$$=$c$$<$a$$?$g$$.getPreviousLayerConnectedCells($a$$):$g$$.getNextLayerConnectedCells($a$$);$d$$[$f$$].weightedValue=this.calculatedWeightedValue($g$$,$k$$)}$d$$.sort(WeightedCellSorter.prototype.compare);
for($f$$=0;$f$$<$d$$.length;$f$$++){var $l$$,$g$$=$d$$[$f$$].cell;$l$$=0;$k$$=$c$$<$a$$?$g$$.getPreviousLayerConnectedCells($a$$).slice():$g$$.getNextLayerConnectedCells($a$$).slice();null!=$k$$&&($l$$=$k$$.length,$l$$=0<$l$$?this.medianXValue($k$$,$c$$):$g$$.getGeneralPurposeVariable($a$$));var $m$$=0;$k$$=-1E8;for(var $n$$=$d$$[$f$$].rankIndex-1;0<=$n$$;){var $p$$=$e$$[$b$$[$n$$].id];if(null!=$p$$){var $q$$=$p$$.cell;$p$$.visited?($k$$=$q$$.getGeneralPurposeVariable($a$$)+$q$$.width/2+this.intraCellSpacing+
$m$$+$g$$.width/2,$n$$=-1):($m$$+=$q$$.width+this.intraCellSpacing,$n$$--)}}$m$$=0;$q$$=1E8;for($n$$=$d$$[$f$$].rankIndex+1;$n$$<$d$$.length;)if($p$$=$e$$[$b$$[$n$$].id],null!=$p$$){var $r$$=$p$$.cell;$p$$.visited?($q$$=$r$$.getGeneralPurposeVariable($a$$)-$r$$.width/2-this.intraCellSpacing-$m$$-$g$$.width/2,$n$$=$d$$.length):($m$$+=$r$$.width+this.intraCellSpacing,$n$$++)}$l$$>=$k$$&&$l$$<=$q$$?$g$$.setGeneralPurposeVariable($a$$,$l$$):$l$$<$k$$?($g$$.setGeneralPurposeVariable($a$$,$k$$),this.currentXDelta+=
$k$$-$l$$):$l$$>$q$$&&($g$$.setGeneralPurposeVariable($a$$,$q$$),this.currentXDelta+=$l$$-$q$$);$d$$[$f$$].visited=!0}};mxCoordinateAssignment.prototype.calculatedWeightedValue=function $mxCoordinateAssignment$$calculatedWeightedValue$($a$$,$b$$){for(var $c$$=0,$d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=$b$$[$d$$];$a$$.isVertex()&&$e$$.isVertex()?$c$$++:$c$$=$a$$.isEdge()&&$e$$.isEdge()?$c$$+8:$c$$+2}return $c$$};
mxCoordinateAssignment.prototype.medianXValue=function $mxCoordinateAssignment$$medianXValue$($a$jscomp$0$$,$b$jscomp$0$$){if(0==$a$jscomp$0$$.length)return 0;for(var $c$$=[],$d$$=0;$d$$<$a$jscomp$0$$.length;$d$$++)$c$$[$d$$]=$a$jscomp$0$$[$d$$].getGeneralPurposeVariable($b$jscomp$0$$);$c$$.sort(function($a$$,$b$$){return $a$$-$b$$});if(1==$a$jscomp$0$$.length%2)return $c$$[Math.floor($a$jscomp$0$$.length/2)];$d$$=$a$jscomp$0$$.length/2;return($c$$[$d$$-1]+$c$$[$d$$])/2};
mxCoordinateAssignment.prototype.initialCoords=function $mxCoordinateAssignment$$initialCoords$($a$$,$b$$){this.calculateWidestRank($a$$,$b$$);for(var $c$$=this.widestRank;0<=$c$$;$c$$--)$c$$<$b$$.maxRank&&this.rankCoordinates($c$$,$a$$,$b$$);for($c$$=this.widestRank+1;$c$$<=$b$$.maxRank;$c$$++)0<$c$$&&this.rankCoordinates($c$$,$a$$,$b$$)};
mxCoordinateAssignment.prototype.rankCoordinates=function $mxCoordinateAssignment$$rankCoordinates$($a$$,$b$$,$c$$){$b$$=$c$$.ranks[$a$$];$c$$=this.initialX+(this.widestRankValue-this.rankWidths[$a$$])/2;for(var $d$$=!1,$e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=$b$$[$e$$];if($f$$.isVertex()){var $g$$=this.layout.getVertexBounds($f$$.cell);null!=$g$$?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($f$$.width=$g$$.width,$f$$.height=$g$$.height):($f$$.width=
$g$$.height,$f$$.height=$g$$.width):$d$$=!0}else $f$$.isEdge()&&($g$$=1,null!=$f$$.edges?$g$$=$f$$.edges.length:mxLog.warn("edge.edges is null"),$f$$.width=($g$$-1)*this.parallelEdgeSpacing);$c$$+=$f$$.width/2;$f$$.setX($a$$,$c$$);$f$$.setGeneralPurposeVariable($a$$,$c$$);$c$$+=$f$$.width/2;$c$$+=this.intraCellSpacing}1==$d$$&&mxLog.warn("At least one cell has no bounds")};
mxCoordinateAssignment.prototype.calculateWidestRank=function $mxCoordinateAssignment$$calculateWidestRank$($a$$,$b$$){var $c$$=-this.interRankCellSpacing,$d$$=0;this.rankWidths=[];this.rankY=[];for(var $e$$=$b$$.maxRank;0<=$e$$;$e$$--){for(var $f$$=0,$g$$=$b$$.ranks[$e$$],$k$$=this.initialX,$l$$=!1,$m$$=0;$m$$<$g$$.length;$m$$++){var $n$$=$g$$[$m$$];if($n$$.isVertex()){var $p$$=this.layout.getVertexBounds($n$$.cell);null!=$p$$?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?
($n$$.width=$p$$.width,$n$$.height=$p$$.height):($n$$.width=$p$$.height,$n$$.height=$p$$.width):$l$$=!0;$f$$=Math.max($f$$,$n$$.height)}else $n$$.isEdge()&&($p$$=1,null!=$n$$.edges?$p$$=$n$$.edges.length:mxLog.warn("edge.edges is null"),$n$$.width=($p$$-1)*this.parallelEdgeSpacing);$k$$+=$n$$.width/2;$n$$.setX($e$$,$k$$);$n$$.setGeneralPurposeVariable($e$$,$k$$);$k$$+=$n$$.width/2;$k$$+=this.intraCellSpacing;$k$$>this.widestRankValue&&(this.widestRankValue=$k$$,this.widestRank=$e$$);this.rankWidths[$e$$]=
$k$$}1==$l$$&&mxLog.warn("At least one cell has no bounds");this.rankY[$e$$]=$c$$;$k$$=$f$$/2+$d$$/2+this.interRankCellSpacing;$d$$=$f$$;$c$$=this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_WEST?$c$$+$k$$:$c$$-$k$$;for($m$$=0;$m$$<$g$$.length;$m$$++)$g$$[$m$$].setY($e$$,$c$$)}};
mxCoordinateAssignment.prototype.minPath=function $mxCoordinateAssignment$$minPath$($a$$,$b$$){for(var $c$$=$b$$.edgeMapper.getValues(),$d$$=0;$d$$<$c$$.length;$d$$++){var $e$$=$c$$[$d$$];if(!(1>$e$$.maxRank-$e$$.minRank-1)){for(var $f$$=$e$$.getGeneralPurposeVariable($e$$.minRank+1),$g$$=!0,$k$$=0,$l$$=$e$$.minRank+2;$l$$<$e$$.maxRank;$l$$++){var $m$$=$e$$.getGeneralPurposeVariable($l$$);$f$$!=$m$$?($g$$=!1,$f$$=$m$$):$k$$++}if(!$g$$){for(var $g$$=$f$$=0,$m$$=[],$n$$=[],$p$$=$e$$.getGeneralPurposeVariable($e$$.minRank+
1),$l$$=$e$$.minRank+1;$l$$<$e$$.maxRank-1;$l$$++){var $q$$=$e$$.getX($l$$+1);$p$$==$q$$?($m$$[$l$$-$e$$.minRank-1]=$p$$,$f$$++):this.repositionValid($b$$,$e$$,$l$$+1,$p$$)?($m$$[$l$$-$e$$.minRank-1]=$p$$,$f$$++):$p$$=$m$$[$l$$-$e$$.minRank-1]=$q$$}$p$$=$e$$.getX($l$$);for($l$$=$e$$.maxRank-1;$l$$>$e$$.minRank+1;$l$$--)$q$$=$e$$.getX($l$$-1),$p$$==$q$$?($n$$[$l$$-$e$$.minRank-2]=$p$$,$g$$++):this.repositionValid($b$$,$e$$,$l$$-1,$p$$)?($n$$[$l$$-$e$$.minRank-2]=$p$$,$g$$++):($n$$[$l$$-$e$$.minRank-
2]=$e$$.getX($l$$-1),$p$$=$q$$);if($g$$>$k$$||$f$$>$k$$)if($g$$>=$f$$)for($l$$=$e$$.maxRank-2;$l$$>$e$$.minRank;$l$$--)$e$$.setX($l$$,$n$$[$l$$-$e$$.minRank-1]);else if($f$$>$g$$)for($l$$=$e$$.minRank+2;$l$$<$e$$.maxRank;$l$$++)$e$$.setX($l$$,$m$$[$l$$-$e$$.minRank-2])}}}};
mxCoordinateAssignment.prototype.repositionValid=function $mxCoordinateAssignment$$repositionValid$($a$$,$b$$,$c$$,$d$$){$a$$=$a$$.ranks[$c$$];for(var $e$$=-1,$f$$=0;$f$$<$a$$.length;$f$$++)if($b$$==$a$$[$f$$]){$e$$=$f$$;break}if(0>$e$$)return!1;$f$$=$b$$.getGeneralPurposeVariable($c$$);if($d$$<$f$$){if(0==$e$$)return!0;$a$$=$a$$[$e$$-1];$c$$=$a$$.getGeneralPurposeVariable($c$$);$c$$=$c$$+$a$$.width/2+this.intraCellSpacing+$b$$.width/2;if(!($c$$<=$d$$))return!1}else if($d$$>$f$$){if($e$$==$a$$.length-
1)return!0;$a$$=$a$$[$e$$+1];$c$$=$a$$.getGeneralPurposeVariable($c$$);$c$$=$c$$-$a$$.width/2-this.intraCellSpacing-$b$$.width/2;if(!($c$$>=$d$$))return!1}return!0};
mxCoordinateAssignment.prototype.setCellLocations=function $mxCoordinateAssignment$$setCellLocations$($a$$,$b$$){this.rankTopY=[];this.rankBottomY=[];for(var $c$$=0;$c$$<$b$$.ranks.length;$c$$++)this.rankTopY[$c$$]=Number.MAX_VALUE,this.rankBottomY[$c$$]=-Number.MAX_VALUE;for(var $d$$=$b$$.vertexMapper.getValues(),$c$$=0;$c$$<$d$$.length;$c$$++)this.setVertexLocation($d$$[$c$$]);this.layout.edgeStyle!=mxHierarchicalEdgeStyle.ORTHOGONAL&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.POLYLINE&&this.layout.edgeStyle!=
mxHierarchicalEdgeStyle.CURVE||this.localEdgeProcessing($b$$);$d$$=$b$$.edgeMapper.getValues();for($c$$=0;$c$$<$d$$.length;$c$$++)this.setEdgePosition($d$$[$c$$])};
mxCoordinateAssignment.prototype.localEdgeProcessing=function $mxCoordinateAssignment$$localEdgeProcessing$($a$$){for(var $b$$=0;$b$$<$a$$.ranks.length;$b$$++)for(var $c$$=$a$$.ranks[$b$$],$d$$=0;$d$$<$c$$.length;$d$$++){var $e$$=$c$$[$d$$];if($e$$.isVertex())for(var $f$$=$e$$.getPreviousLayerConnectedCells($b$$),$g$$=$b$$-1,$k$$=0;2>$k$$;$k$$++){if(-1<$g$$&&$g$$<$a$$.ranks.length&&null!=$f$$&&0<$f$$.length){for(var $l$$=[],$m$$=0;$m$$<$f$$.length;$m$$++){var $n$$=new WeightedCellSorter($f$$[$m$$],
$f$$[$m$$].getX($g$$));$l$$.push($n$$)}$l$$.sort(WeightedCellSorter.prototype.compare);for(var $n$$=$e$$.x[0]-$e$$.width/2,$p$$=$n$$+$e$$.width,$q$$=$f$$=0,$g$$=[],$m$$=0;$m$$<$l$$.length;$m$$++){var $r$$=$l$$[$m$$].cell,$t$$;if($r$$.isVertex()){$t$$=0==$k$$?$e$$.connectsAsSource:$e$$.connectsAsTarget;for(var $u$$=0;$u$$<$t$$.length;$u$$++)if($t$$[$u$$].source==$r$$||$t$$[$u$$].target==$r$$)$f$$+=$t$$[$u$$].edges.length,$q$$++,$g$$.push($t$$[$u$$])}else $f$$+=$r$$.edges.length,$q$$++,$g$$.push($r$$)}$e$$.width>
($f$$+1)*this.prefHozEdgeSep+2*this.prefHozEdgeSep&&($n$$+=this.prefHozEdgeSep,$p$$-=this.prefHozEdgeSep);$l$$=($p$$-$n$$)/$f$$;$n$$+=$l$$/2;$p$$=this.minEdgeJetty-this.prefVertEdgeOff;for($m$$=0;$m$$<$g$$.length;$m$$++)for($q$$=$g$$[$m$$].edges.length,$r$$=this.jettyPositions[$g$$[$m$$].ids[0]],null==$r$$&&($r$$=[],this.jettyPositions[$g$$[$m$$].ids[0]]=$r$$),$m$$<$f$$/2?$p$$+=this.prefVertEdgeOff:$m$$>$f$$/2&&($p$$-=this.prefVertEdgeOff),$t$$=0;$t$$<$q$$;$t$$++)$r$$[4*$t$$+2*$k$$]=$n$$,$n$$+=$l$$,
$r$$[4*$t$$+2*$k$$+1]=$p$$}$f$$=$e$$.getNextLayerConnectedCells($b$$);$g$$=$b$$+1}}};
mxCoordinateAssignment.prototype.setEdgePosition=function $mxCoordinateAssignment$$setEdgePosition$($a$$){var $b$$=0;if(101207!=$a$$.temp[0]){var $c$$=$a$$.maxRank,$d$$=$a$$.minRank;$c$$==$d$$&&($c$$=$a$$.source.maxRank,$d$$=$a$$.target.minRank);for(var $e$$=0,$f$$=this.jettyPositions[$a$$.ids[0]],$g$$=$a$$.isReversed?$a$$.target.cell:$a$$.source.cell,$k$$=this.layout.graph,$l$$=this.orientation==mxConstants.DIRECTION_EAST||this.orientation==mxConstants.DIRECTION_SOUTH,$m$$=0;$m$$<$a$$.edges.length;$m$$++){var $n$$=
$a$$.edges[$m$$],$p$$=this.layout.getVisibleTerminal($n$$,!0),$q$$=[],$r$$=$a$$.isReversed;$p$$!=$g$$&&($r$$=!$r$$);if(null!=$f$$){var $t$$=$r$$?2:0,$u$$=$r$$?$l$$?this.rankBottomY[$d$$]:this.rankTopY[$d$$]:$l$$?this.rankTopY[$c$$]:this.rankBottomY[$c$$],$y$$=$f$$[4*$e$$+1+$t$$];$r$$!=$l$$&&($y$$=-$y$$);var $u$$=$u$$+$y$$,$t$$=$f$$[4*$e$$+$t$$],$x$$=$k$$.model.getTerminal($n$$,!0);this.layout.isPort($x$$)&&$k$$.model.getParent($x$$)==$p$$&&($t$$=$k$$.view.getState($x$$),$t$$=null!=$t$$?$t$$.x:$p$$.geometry.x+
$a$$.source.width*$x$$.geometry.x);this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($q$$.push(new mxPoint($t$$,$u$$)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($t$$,$u$$+$y$$))):($q$$.push(new mxPoint($u$$,$t$$)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($u$$+$y$$,$t$$)))}$t$$=$a$$.x.length-1;$u$$=$y$$=-1;$p$$=$a$$.maxRank-1;for($r$$&&($t$$=0,$y$$=$a$$.x.length,$u$$=1,$p$$=$a$$.minRank+
1);$a$$.maxRank!=$a$$.minRank&&$t$$!=$y$$;$t$$+=$u$$){var $x$$=$a$$.x[$t$$]+$b$$,$A$$=(this.rankTopY[$p$$]+this.rankBottomY[$p$$+1])/2,$z$$=(this.rankTopY[$p$$-1]+this.rankBottomY[$p$$])/2;if($r$$)var $v$$=$A$$,$A$$=$z$$,$z$$=$v$$;this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?($q$$.push(new mxPoint($x$$,$A$$)),$q$$.push(new mxPoint($x$$,$z$$))):($q$$.push(new mxPoint($A$$,$x$$)),$q$$.push(new mxPoint($z$$,$x$$)));this.limitX=Math.max(this.limitX,$x$$);
$p$$+=$u$$}null!=$f$$&&($t$$=$r$$?2:0,$u$$=$r$$?$l$$?this.rankTopY[$c$$]:this.rankBottomY[$c$$]:$l$$?this.rankBottomY[$d$$]:this.rankTopY[$d$$],$y$$=$f$$[4*$e$$+3-$t$$],$r$$!=$l$$&&($y$$=-$y$$),$u$$-=$y$$,$t$$=$f$$[4*$e$$+2-$t$$],$r$$=$k$$.model.getTerminal($n$$,!1),$p$$=this.layout.getVisibleTerminal($n$$,!1),this.layout.isPort($r$$)&&$k$$.model.getParent($r$$)==$p$$&&($t$$=$k$$.view.getState($r$$),$t$$=null!=$t$$?$t$$.x:$p$$.geometry.x+$a$$.target.width*$r$$.geometry.x),this.orientation==mxConstants.DIRECTION_NORTH||
this.orientation==mxConstants.DIRECTION_SOUTH?(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($t$$,$u$$-$y$$)),$q$$.push(new mxPoint($t$$,$u$$))):(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&$q$$.push(new mxPoint($u$$-$y$$,$t$$)),$q$$.push(new mxPoint($u$$,$t$$))));$a$$.isReversed&&this.processReversedEdge($a$$,$n$$);this.layout.setEdgePoints($n$$,$q$$);$b$$=0==$b$$?this.parallelEdgeSpacing:0<$b$$?-$b$$:-$b$$+this.parallelEdgeSpacing;$e$$++}$a$$.temp[0]=101207}};
mxCoordinateAssignment.prototype.setVertexLocation=function $mxCoordinateAssignment$$setVertexLocation$($a$$){var $b$$=$a$$.cell,$c$$=$a$$.x[0]-$a$$.width/2,$d$$=$a$$.y[0]-$a$$.height/2;this.rankTopY[$a$$.minRank]=Math.min(this.rankTopY[$a$$.minRank],$d$$);this.rankBottomY[$a$$.minRank]=Math.max(this.rankBottomY[$a$$.minRank],$d$$+$a$$.height);this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?this.layout.setVertexLocation($b$$,$c$$,$d$$):this.layout.setVertexLocation($b$$,
$d$$,$c$$);this.limitX=Math.max(this.limitX,$c$$+$a$$.width)};mxCoordinateAssignment.prototype.processReversedEdge=function $mxCoordinateAssignment$$processReversedEdge$($a$$,$b$$){};function mxSwimlaneOrdering($a$$){this.layout=$a$$}mxSwimlaneOrdering.prototype=new mxHierarchicalLayoutStage;mxSwimlaneOrdering.prototype.constructor=mxSwimlaneOrdering;mxSwimlaneOrdering.prototype.layout=null;
mxSwimlaneOrdering.prototype.execute=function $mxSwimlaneOrdering$$execute$($a$jscomp$0$$){$a$jscomp$0$$=this.layout.getModel();var $b$$=mxUtils.clone($a$jscomp$0$$.vertexMapper,null,!0),$c$jscomp$0$$=null;if(null!=$a$jscomp$0$$.roots)for(var $d$jscomp$0$$=$a$jscomp$0$$.roots,$c$jscomp$0$$=[],$e$jscomp$0$$=0;$e$jscomp$0$$<$d$jscomp$0$$.length;$e$jscomp$0$$++)mxCellPath.create($d$jscomp$0$$[$e$jscomp$0$$]),$c$jscomp$0$$[$e$jscomp$0$$]=$a$jscomp$0$$.vertexMapper.get($d$jscomp$0$$[$e$jscomp$0$$]);$a$jscomp$0$$.visit(function($a$$,
$c$$,$d$$,$e$$,$m$$){$e$$=null!=$a$$&&$a$$.swimlaneIndex==$c$$.swimlaneIndex&&$c$$.isAncestor($a$$);$m$$=null!=$a$$&&null!=$d$$&&$a$$.swimlaneIndex<$c$$.swimlaneIndex&&$d$$.source==$c$$;$e$$?($d$$.invert(),mxUtils.remove($d$$,$a$$.connectsAsSource),$c$$.connectsAsSource.push($d$$),$a$$.connectsAsTarget.push($d$$),mxUtils.remove($d$$,$c$$.connectsAsTarget)):$m$$&&($d$$.invert(),mxUtils.remove($d$$,$a$$.connectsAsTarget),$c$$.connectsAsTarget.push($d$$),$a$$.connectsAsSource.push($d$$),mxUtils.remove($d$$,
$c$$.connectsAsSource));$a$$=mxCellPath.create($c$$.cell);delete $b$$[$a$$]},$c$jscomp$0$$,!0,null)};function mxHierarchicalLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.orientation=null!=$b$$?$b$$:mxConstants.DIRECTION_NORTH;this.deterministic=null!=$c$$?$c$$:!0}var mxHierarchicalEdgeStyle={ORTHOGONAL:1,POLYLINE:2,STRAIGHT:3,CURVE:4};mxHierarchicalLayout.prototype=new mxGraphLayout;mxHierarchicalLayout.prototype.constructor=mxHierarchicalLayout;mxHierarchicalLayout.prototype.roots=null;
mxHierarchicalLayout.prototype.resizeParent=!1;mxHierarchicalLayout.prototype.maintainParentLocation=!1;mxHierarchicalLayout.prototype.moveParent=!1;mxHierarchicalLayout.prototype.parentBorder=0;mxHierarchicalLayout.prototype.intraCellSpacing=30;mxHierarchicalLayout.prototype.interRankCellSpacing=100;mxHierarchicalLayout.prototype.interHierarchySpacing=60;mxHierarchicalLayout.prototype.parallelEdgeSpacing=10;mxHierarchicalLayout.prototype.orientation=mxConstants.DIRECTION_NORTH;
mxHierarchicalLayout.prototype.fineTuning=!0;mxHierarchicalLayout.prototype.tightenToSource=!0;mxHierarchicalLayout.prototype.disableEdgeStyle=!0;mxHierarchicalLayout.prototype.traverseAncestors=!0;mxHierarchicalLayout.prototype.model=null;mxHierarchicalLayout.prototype.edgesCache=null;mxHierarchicalLayout.prototype.edgeSourceTermCache=null;mxHierarchicalLayout.prototype.edgesTargetTermCache=null;mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE;
mxHierarchicalLayout.prototype.getModel=function $mxHierarchicalLayout$$getModel$(){return this.model};
mxHierarchicalLayout.prototype.execute=function $mxHierarchicalLayout$$execute$($a$$,$b$$){this.parent=$a$$;var $c$$=this.graph.model;this.edgesCache=new mxDictionary;this.edgeSourceTermCache=new mxDictionary;this.edgesTargetTermCache=new mxDictionary;null==$b$$||$b$$ instanceof Array||($b$$=[$b$$]);if(null!=$b$$||null!=$a$$){this.parentY=this.parentX=null;if($a$$!=this.root&&null!=$c$$.isVertex($a$$)&&this.maintainParentLocation){var $d$$=this.graph.getCellGeometry($a$$);null!=$d$$&&(this.parentX=
$d$$.x,this.parentY=$d$$.y)}if(null!=$b$$){for(var $e$$=[],$f$$=0;$f$$<$b$$.length;$f$$++)(null!=$a$$?$c$$.isAncestor($a$$,$b$$[$f$$]):1)&&$c$$.isVertex($b$$[$f$$])&&$e$$.push($b$$[$f$$]);this.roots=$e$$}$c$$.beginUpdate();try{this.run($a$$),this.resizeParent&&!this.graph.isCellCollapsed($a$$)&&this.graph.updateGroupBounds([$a$$],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY&&($d$$=this.graph.getCellGeometry($a$$),null!=$d$$&&($d$$=$d$$.clone(),$d$$.x=this.parentX,$d$$.y=
this.parentY,$c$$.setGeometry($a$$,$d$$)))}finally{$c$$.endUpdate()}}};
mxHierarchicalLayout.prototype.findRoots=function $mxHierarchicalLayout$$findRoots$($a$$,$b$$){var $c$$=[];if(null!=$a$$&&null!=$b$$){var $d$$=this.graph.model,$e$$=null,$f$$=-1E5,$g$$;for($g$$ in $b$$){var $k$$=$b$$[$g$$];if($d$$.isVertex($k$$)&&this.graph.isCellVisible($k$$)){for(var $l$$=this.getEdges($k$$),$m$$=0,$n$$=0,$p$$=0;$p$$<$l$$.length;$p$$++)this.getVisibleTerminal($l$$[$p$$],!0)==$k$$?$m$$++:$n$$++;0==$n$$&&0<$m$$&&$c$$.push($k$$);$l$$=$m$$-$n$$;$l$$>$f$$&&($f$$=$l$$,$e$$=$k$$)}}0==
$c$$.length&&null!=$e$$&&$c$$.push($e$$)}return $c$$};
mxHierarchicalLayout.prototype.getEdges=function $mxHierarchicalLayout$$getEdges$($a$$){var $b$$=this.edgesCache.get($a$$);if(null!=$b$$)return $b$$;for(var $c$$=this.graph.model,$b$$=[],$d$$=this.graph.isCellCollapsed($a$$),$e$$=$c$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$c$$.getChildAt($a$$,$f$$);if(this.isPort($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0));else if($d$$||!this.graph.isCellVisible($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0))}$b$$=$b$$.concat($c$$.getEdges($a$$,
!0,!0));$c$$=[];for($f$$=0;$f$$<$b$$.length;$f$$++)$d$$=this.getVisibleTerminal($b$$[$f$$],!0),$e$$=this.getVisibleTerminal($b$$[$f$$],!1),($d$$==$e$$||$d$$!=$e$$&&($e$$==$a$$&&(null==this.parent||this.isAncestor(this.parent,$d$$,this.traverseAncestors))||$d$$==$a$$&&(null==this.parent||this.isAncestor(this.parent,$e$$,this.traverseAncestors))))&&$c$$.push($b$$[$f$$]);this.edgesCache.put($a$$,$c$$);return $c$$};
mxHierarchicalLayout.prototype.getVisibleTerminal=function $mxHierarchicalLayout$$getVisibleTerminal$($a$$,$b$$){var $c$$=this.edgesTargetTermCache;$b$$&&($c$$=this.edgeSourceTermCache);var $d$$=$c$$.get($a$$);if(null!=$d$$)return $d$$;var $d$$=this.graph.view.getState($a$$),$e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$);null==$e$$&&($e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$));null!=$e$$&&(this.isPort($e$$)&&
($e$$=this.graph.model.getParent($e$$)),$c$$.put($a$$,$e$$));return $e$$};
mxHierarchicalLayout.prototype.run=function $mxHierarchicalLayout$$run$($a$$){var $b$$=[],$c$$=[];if(null==this.roots&&null!=$a$$){var $d$$={};this.filterDescendants($a$$,$d$$);this.roots=[];var $e$$=!0,$f$$;for($f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=!1;break}for(;!$e$$;){for(var $g$$=this.findRoots($a$$,$d$$),$e$$=0;$e$$<$g$$.length;$e$$++){var $k$$={};$b$$.push($k$$);this.traverse($g$$[$e$$],!0,null,$c$$,$k$$,$b$$,$d$$)}for($e$$=0;$e$$<$g$$.length;$e$$++)this.roots.push($g$$[$e$$]);$e$$=!0;for($f$$ in $d$$)if(null!=
$d$$[$f$$]){$e$$=!1;break}}}else for($e$$=0;$e$$<this.roots.length;$e$$++)$k$$={},$b$$.push($k$$),this.traverse(this.roots[$e$$],!0,null,$c$$,$k$$,$b$$,null);for($e$$=$c$$=0;$e$$<$b$$.length;$e$$++){$k$$=$b$$[$e$$];$d$$=[];for($f$$ in $k$$)$d$$.push($k$$[$f$$]);this.model=new mxGraphHierarchyModel(this,$d$$,this.roots,$a$$,this.tightenToSource);this.cycleStage($a$$);this.layeringStage();this.crossingStage($a$$);$c$$=this.placementStage($c$$,$a$$)}};
mxHierarchicalLayout.prototype.filterDescendants=function $mxHierarchicalLayout$$filterDescendants$($a$$,$b$$){var $c$$=this.graph.model;$c$$.isVertex($a$$)&&$a$$!=this.parent&&this.graph.isCellVisible($a$$)&&($b$$[mxObjectIdentity.get($a$$)]=$a$$);if(this.traverseAncestors||$a$$==this.parent&&this.graph.isCellVisible($a$$))for(var $d$$=$c$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$c$$.getChildAt($a$$,$e$$);this.isPort($f$$)||this.filterDescendants($f$$,$b$$)}};
mxHierarchicalLayout.prototype.isPort=function $mxHierarchicalLayout$$isPort$($a$$){return null!=$a$$&&null!=$a$$.geometry?$a$$.geometry.relative:!1};
mxHierarchicalLayout.prototype.getEdgesBetween=function $mxHierarchicalLayout$$getEdgesBetween$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getEdges($a$$),$e$$=[],$f$$=0;$f$$<$d$$.length;$f$$++){var $g$$=this.getVisibleTerminal($d$$[$f$$],!0),$k$$=this.getVisibleTerminal($d$$[$f$$],!1);($g$$==$a$$&&$k$$==$b$$||!$c$$&&$g$$==$b$$&&$k$$==$a$$)&&$e$$.push($d$$[$f$$])}return $e$$};
mxHierarchicalLayout.prototype.traverse=function $mxHierarchicalLayout$$traverse$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){if(null!=$a$$&&null!=$d$$){var $k$$=mxObjectIdentity.get($a$$);if(null==$d$$[$k$$]&&(null==$g$$||null!=$g$$[$k$$])){null==$e$$[$k$$]&&($e$$[$k$$]=$a$$);null==$d$$[$k$$]&&($d$$[$k$$]=$a$$);null!==$g$$&&delete $g$$[$k$$];var $l$$=this.getEdges($a$$),$k$$=[];for($c$$=0;$c$$<$l$$.length;$c$$++)$k$$[$c$$]=this.getVisibleTerminal($l$$[$c$$],!0)==$a$$;for($c$$=0;$c$$<$l$$.length;$c$$++)if(!$b$$||
$k$$[$c$$]){$a$$=this.getVisibleTerminal($l$$[$c$$],!$k$$[$c$$]);for(var $m$$=1,$n$$=0;$n$$<$l$$.length;$n$$++)if($n$$!=$c$$){var $p$$=$k$$[$n$$];this.getVisibleTerminal($l$$[$n$$],!$p$$)==$a$$&&($p$$?$m$$++:$m$$--)}0<=$m$$&&($e$$=this.traverse($a$$,$b$$,$l$$[$c$$],$d$$,$e$$,$f$$,$g$$))}}else if(null==$e$$[$k$$])for($c$$=0;$c$$<$f$$.length;$c$$++)if($b$$=$f$$[$c$$],null!=$b$$[$k$$]){for($l$$ in $b$$)$e$$[$l$$]=$b$$[$l$$];$f$$.splice($c$$,1);break}}return $e$$};
mxHierarchicalLayout.prototype.cycleStage=function $mxHierarchicalLayout$$cycleStage$($a$$){(new mxMinimumCycleRemover(this)).execute($a$$)};mxHierarchicalLayout.prototype.layeringStage=function $mxHierarchicalLayout$$layeringStage$(){this.model.initialRank();this.model.fixRanks()};mxHierarchicalLayout.prototype.crossingStage=function $mxHierarchicalLayout$$crossingStage$($a$$){(new mxMedianHybridCrossingReduction(this)).execute($a$$)};
mxHierarchicalLayout.prototype.placementStage=function $mxHierarchicalLayout$$placementStage$($a$$,$b$$){var $c$$=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,$a$$,this.parallelEdgeSpacing);$c$$.fineTuning=this.fineTuning;$c$$.execute($b$$);return $c$$.limitX+this.interHierarchySpacing};
function mxSwimlaneLayout($a$$,$b$$,$c$$){mxGraphLayout.call(this,$a$$);this.orientation=null!=$b$$?$b$$:mxConstants.DIRECTION_NORTH;this.deterministic=null!=$c$$?$c$$:!0}mxSwimlaneLayout.prototype=new mxGraphLayout;mxSwimlaneLayout.prototype.constructor=mxSwimlaneLayout;mxSwimlaneLayout.prototype.roots=null;mxSwimlaneLayout.prototype.swimlanes=null;mxSwimlaneLayout.prototype.dummyVertices=null;mxSwimlaneLayout.prototype.dummyVertexWidth=50;mxSwimlaneLayout.prototype.resizeParent=!1;
mxSwimlaneLayout.prototype.maintainParentLocation=!1;mxSwimlaneLayout.prototype.moveParent=!1;mxSwimlaneLayout.prototype.parentBorder=30;mxSwimlaneLayout.prototype.intraCellSpacing=30;mxSwimlaneLayout.prototype.interRankCellSpacing=100;mxSwimlaneLayout.prototype.interHierarchySpacing=60;mxSwimlaneLayout.prototype.parallelEdgeSpacing=10;mxSwimlaneLayout.prototype.orientation=mxConstants.DIRECTION_NORTH;mxSwimlaneLayout.prototype.fineTuning=!0;mxSwimlaneLayout.prototype.tightenToSource=!0;
mxSwimlaneLayout.prototype.disableEdgeStyle=!0;mxSwimlaneLayout.prototype.traverseAncestors=!0;mxSwimlaneLayout.prototype.model=null;mxSwimlaneLayout.prototype.edgesCache=null;mxHierarchicalLayout.prototype.edgeSourceTermCache=null;mxHierarchicalLayout.prototype.edgesTargetTermCache=null;mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE;mxSwimlaneLayout.prototype.getModel=function $mxSwimlaneLayout$$getModel$(){return this.model};
mxSwimlaneLayout.prototype.execute=function $mxSwimlaneLayout$$execute$($a$$,$b$$){this.parent=$a$$;var $c$$=this.graph.model;this.edgesCache=new mxDictionary;this.edgeSourceTermCache=new mxDictionary;this.edgesTargetTermCache=new mxDictionary;if(!(null==$b$$||1>$b$$.length)){null==$a$$&&($a$$=$c$$.getParent($b$$[0]));this.parentY=this.parentX=null;if($a$$!=this.root&&null!=$c$$.isVertex($a$$)&&this.maintainParentLocation){var $d$$=this.graph.getCellGeometry($a$$);null!=$d$$&&(this.parentX=$d$$.x,
this.parentY=$d$$.y)}this.swimlanes=$b$$;this.dummyVertices=[];for(var $e$$=0;$e$$<$b$$.length;$e$$++){var $f$$=this.graph.getChildCells($b$$[$e$$]);if(null==$f$$||0==$f$$.length)$f$$=this.graph.insertVertex($b$$[$e$$],null,null,0,0,this.dummyVertexWidth,0),this.dummyVertices.push($f$$)}$c$$.beginUpdate();try{this.run($a$$),this.resizeParent&&!this.graph.isCellCollapsed($a$$)&&this.graph.updateGroupBounds([$a$$],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY&&($d$$=this.graph.getCellGeometry($a$$),
null!=$d$$&&($d$$=$d$$.clone(),$d$$.x=this.parentX,$d$$.y=this.parentY,$c$$.setGeometry($a$$,$d$$))),this.graph.removeCells(this.dummyVertices)}finally{$c$$.endUpdate()}}};
mxSwimlaneLayout.prototype.updateGroupBounds=function $mxSwimlaneLayout$$updateGroupBounds$(){var $a$$=[],$b$$=this.model,$c$$;for($c$$ in $b$$.edgeMapper)for(var $d$$=$b$$.edgeMapper[$c$$],$e$$=0;$e$$<$d$$.edges.length;$e$$++)$a$$.push($d$$.edges[$e$$]);$a$$=this.graph.getBoundingBoxFromGeometry($a$$,!0);$b$$=[];for($e$$=0;$e$$<this.swimlanes.length;$e$$++){var $f$$=this.swimlanes[$e$$];$c$$=this.graph.getCellGeometry($f$$);if(null!=$c$$){var $g$$=this.graph.getChildCells($f$$),$d$$=this.graph.isSwimlane($f$$)?
this.graph.getStartSize($f$$):new mxRectangle,$f$$=this.graph.getBoundingBoxFromGeometry($g$$);$b$$[$e$$]=$f$$;$d$$=$f$$.y+$c$$.y-$d$$.height-this.parentBorder;$c$$=$f$$.y+$c$$.y+$f$$.height;null==$a$$?$a$$=new mxRectangle(0,$d$$,0,$c$$-$d$$):($a$$.y=Math.min($a$$.y,$d$$),$a$$.height=Math.max($a$$.y+$a$$.height,$c$$)-$a$$.y)}}for($e$$=0;$e$$<this.swimlanes.length;$e$$++)if($f$$=this.swimlanes[$e$$],$c$$=this.graph.getCellGeometry($f$$),null!=$c$$){var $g$$=this.graph.getChildCells($f$$),$d$$=this.graph.isSwimlane($f$$)?
this.graph.getStartSize($f$$):new mxRectangle,$k$$=$c$$.clone(),$l$$=0==$e$$?this.parentBorder:this.interRankCellSpacing/2;$k$$.x+=$b$$[$e$$].x-$d$$.width-$l$$;$k$$.y=$k$$.y+$a$$.y-$c$$.y-this.parentBorder;$k$$.width=$b$$[$e$$].width+$d$$.width+this.interRankCellSpacing/2+$l$$;$k$$.height=$a$$.height+$d$$.height+2*this.parentBorder;this.graph.model.setGeometry($f$$,$k$$);this.graph.moveCells($g$$,-$b$$[$e$$].x+$d$$.width+$l$$,$c$$.y-$a$$.y+this.parentBorder)}};
mxSwimlaneLayout.prototype.findRoots=function $mxSwimlaneLayout$$findRoots$($a$$,$b$$){var $c$$=[];if(null!=$a$$&&null!=$b$$){var $d$$=this.graph.model,$e$$=null,$f$$=-1E5,$g$$;for($g$$ in $b$$){var $k$$=$b$$[$g$$];if(null!=$k$$&&$d$$.isVertex($k$$)&&this.graph.isCellVisible($k$$)&&$d$$.isAncestor($a$$,$k$$)){for(var $l$$=this.getEdges($k$$),$m$$=0,$n$$=0,$p$$=0;$p$$<$l$$.length;$p$$++){var $q$$=this.getVisibleTerminal($l$$[$p$$],!0);$q$$==$k$$?($q$$=this.getVisibleTerminal($l$$[$p$$],!1),$d$$.isAncestor($a$$,
$q$$)&&$m$$++):$d$$.isAncestor($a$$,$q$$)&&$n$$++}0==$n$$&&0<$m$$&&$c$$.push($k$$);$l$$=$m$$-$n$$;$l$$>$f$$&&($f$$=$l$$,$e$$=$k$$)}}0==$c$$.length&&null!=$e$$&&$c$$.push($e$$)}return $c$$};
mxSwimlaneLayout.prototype.getEdges=function $mxSwimlaneLayout$$getEdges$($a$$){var $b$$=this.edgesCache.get($a$$);if(null!=$b$$)return $b$$;for(var $c$$=this.graph.model,$b$$=[],$d$$=this.graph.isCellCollapsed($a$$),$e$$=$c$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$c$$.getChildAt($a$$,$f$$);if(this.isPort($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0));else if($d$$||!this.graph.isCellVisible($g$$))$b$$=$b$$.concat($c$$.getEdges($g$$,!0,!0))}$b$$=$b$$.concat($c$$.getEdges($a$$,!0,
!0));$c$$=[];for($f$$=0;$f$$<$b$$.length;$f$$++)$d$$=this.getVisibleTerminal($b$$[$f$$],!0),$e$$=this.getVisibleTerminal($b$$[$f$$],!1),($d$$==$e$$||$d$$!=$e$$&&($e$$==$a$$&&(null==this.parent||this.graph.isValidAncestor($d$$,this.parent,this.traverseAncestors))||$d$$==$a$$&&(null==this.parent||this.graph.isValidAncestor($e$$,this.parent,this.traverseAncestors))))&&$c$$.push($b$$[$f$$]);this.edgesCache.put($a$$,$c$$);return $c$$};
mxSwimlaneLayout.prototype.getVisibleTerminal=function $mxSwimlaneLayout$$getVisibleTerminal$($a$$,$b$$){var $c$$=this.edgesTargetTermCache;$b$$&&($c$$=this.edgeSourceTermCache);var $d$$=$c$$.get($a$$);if(null!=$d$$)return $d$$;var $d$$=this.graph.view.getState($a$$),$e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$);null==$e$$&&($e$$=null!=$d$$?$d$$.getVisibleTerminal($b$$):this.graph.view.getVisibleTerminal($a$$,$b$$));null!=$e$$&&(this.isPort($e$$)&&($e$$=
this.graph.model.getParent($e$$)),$c$$.put($a$$,$e$$));return $e$$};
mxSwimlaneLayout.prototype.run=function $mxSwimlaneLayout$$run$($a$$){var $b$$=[],$c$$=[];if(null!=this.swimlanes&&0<this.swimlanes.length&&null!=$a$$){for(var $d$$={},$e$$=0;$e$$<this.swimlanes.length;$e$$++)this.filterDescendants(this.swimlanes[$e$$],$d$$);this.roots=[];var $e$$=!0,$f$$;for($f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=!1;break}for(var $g$$=0;!$e$$&&$g$$<this.swimlanes.length;){var $k$$=this.findRoots(this.swimlanes[$g$$],$d$$);if(0==$k$$.length)$g$$++;else{for($e$$=0;$e$$<$k$$.length;$e$$++){var $l$$=
{};$b$$.push($l$$);this.traverse($k$$[$e$$],!0,null,$c$$,$l$$,$b$$,$d$$,$g$$)}for($e$$=0;$e$$<$k$$.length;$e$$++)this.roots.push($k$$[$e$$]);$e$$=!0;for($f$$ in $d$$)if(null!=$d$$[$f$$]){$e$$=!1;break}}}}else for($e$$=0;$e$$<this.roots.length;$e$$++)$l$$={},$b$$.push($l$$),this.traverse(this.roots[$e$$],!0,null,$c$$,$l$$,$b$$,null);$b$$=[];for($f$$ in $c$$)$b$$.push($c$$[$f$$]);this.model=new mxSwimlaneModel(this,$b$$,this.roots,$a$$,this.tightenToSource);this.cycleStage($a$$);this.layeringStage();
this.crossingStage($a$$);initialX=this.placementStage(0,$a$$)};
mxSwimlaneLayout.prototype.filterDescendants=function $mxSwimlaneLayout$$filterDescendants$($a$$,$b$$){var $c$$=this.graph.model;$c$$.isVertex($a$$)&&$a$$!=this.parent&&$c$$.getParent($a$$)!=this.parent&&this.graph.isCellVisible($a$$)&&($b$$[mxObjectIdentity.get($a$$)]=$a$$);if(this.traverseAncestors||$a$$==this.parent&&this.graph.isCellVisible($a$$))for(var $d$$=$c$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=$c$$.getChildAt($a$$,$e$$);this.isPort($f$$)||this.filterDescendants($f$$,$b$$)}};
mxSwimlaneLayout.prototype.isPort=function $mxSwimlaneLayout$$isPort$($a$$){return $a$$.geometry.relative?!0:!1};mxSwimlaneLayout.prototype.getEdgesBetween=function $mxSwimlaneLayout$$getEdgesBetween$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getEdges($a$$),$e$$=[],$f$$=0;$f$$<$d$$.length;$f$$++){var $g$$=this.getVisibleTerminal($d$$[$f$$],!0),$k$$=this.getVisibleTerminal($d$$[$f$$],!1);($g$$==$a$$&&$k$$==$b$$||!$c$$&&$g$$==$b$$&&$k$$==$a$$)&&$e$$.push($d$$[$f$$])}return $e$$};
mxSwimlaneLayout.prototype.traverse=function $mxSwimlaneLayout$$traverse$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$a$$&&null!=$d$$){var $l$$=mxObjectIdentity.get($a$$);if(null==$d$$[$l$$]&&(null==$g$$||null!=$g$$[$l$$])){null==$e$$[$l$$]&&($e$$[$l$$]=$a$$);null==$d$$[$l$$]&&($d$$[$l$$]=$a$$);null!==$g$$&&delete $g$$[$l$$];var $m$$=this.getEdges($a$$),$l$$=this.graph.model;for($c$$=0;$c$$<$m$$.length;$c$$++){var $n$$=this.getVisibleTerminal($m$$[$c$$],!0),$p$$=$n$$==$a$$;$p$$&&($n$$=this.getVisibleTerminal($m$$[$c$$],
!1));var $q$$;for($q$$=0;$q$$<this.swimlanes.length&&!$l$$.isAncestor(this.swimlanes[$q$$],$n$$);$q$$++);$q$$>=this.swimlanes.length||!($q$$>$k$$||(!$b$$||$p$$)&&$q$$==$k$$)||($e$$=this.traverse($n$$,$b$$,$m$$[$c$$],$d$$,$e$$,$f$$,$g$$,$q$$))}}else if(null==$e$$[$l$$])for($c$$=0;$c$$<$f$$.length;$c$$++)if($a$$=$f$$[$c$$],null!=$a$$[$l$$]){for($m$$ in $a$$)$e$$[$m$$]=$a$$[$m$$];$f$$.splice($c$$,1);break}}return $e$$};mxSwimlaneLayout.prototype.cycleStage=function $mxSwimlaneLayout$$cycleStage$($a$$){(new mxSwimlaneOrdering(this)).execute($a$$)};
mxSwimlaneLayout.prototype.layeringStage=function $mxSwimlaneLayout$$layeringStage$(){this.model.initialRank();this.model.fixRanks()};mxSwimlaneLayout.prototype.crossingStage=function $mxSwimlaneLayout$$crossingStage$($a$$){(new mxMedianHybridCrossingReduction(this)).execute($a$$)};
mxSwimlaneLayout.prototype.placementStage=function $mxSwimlaneLayout$$placementStage$($a$$,$b$$){var $c$$=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,$a$$,this.parallelEdgeSpacing);$c$$.fineTuning=this.fineTuning;$c$$.execute($b$$);return $c$$.limitX+this.interHierarchySpacing};function mxGraphModel($a$$){this.currentEdit=this.createUndoableEdit();null!=$a$$?this.setRoot($a$$):this.clear()}mxGraphModel.prototype=new mxEventSource;
mxGraphModel.prototype.constructor=mxGraphModel;mxGraphModel.prototype.root=null;mxGraphModel.prototype.cells=null;mxGraphModel.prototype.maintainEdgeParent=!0;mxGraphModel.prototype.ignoreRelativeEdgeParent=!0;mxGraphModel.prototype.createIds=!0;mxGraphModel.prototype.prefix="";mxGraphModel.prototype.postfix="";mxGraphModel.prototype.nextId=0;mxGraphModel.prototype.currentEdit=null;mxGraphModel.prototype.updateLevel=0;mxGraphModel.prototype.endingUpdate=!1;mxGraphModel.prototype.clear=function $mxGraphModel$$clear$(){this.setRoot(this.createRoot())};
mxGraphModel.prototype.isCreateIds=function $mxGraphModel$$isCreateIds$(){return this.createIds};mxGraphModel.prototype.setCreateIds=function $mxGraphModel$$setCreateIds$($a$$){this.createIds=$a$$};mxGraphModel.prototype.createRoot=function $mxGraphModel$$createRoot$(){var $a$$=new mxCell;$a$$.insert(new mxCell);return $a$$};mxGraphModel.prototype.getCell=function $mxGraphModel$$getCell$($a$$){return null!=this.cells?this.cells[$a$$]:null};
mxGraphModel.prototype.filterCells=function $mxGraphModel$$filterCells$($a$$,$b$$){var $c$$=null;if(null!=$a$$)for(var $c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$b$$($a$$[$d$$])&&$c$$.push($a$$[$d$$]);return $c$$};mxGraphModel.prototype.getDescendants=function $mxGraphModel$$getDescendants$($a$$){return this.filterDescendants(null,$a$$)};
mxGraphModel.prototype.filterDescendants=function $mxGraphModel$$filterDescendants$($a$$,$b$$){var $c$$=[];$b$$=$b$$||this.getRoot();(null==$a$$||$a$$($b$$))&&$c$$.push($b$$);for(var $d$$=this.getChildCount($b$$),$e$$=0;$e$$<$d$$;$e$$++)var $f$$=this.getChildAt($b$$,$e$$),$c$$=$c$$.concat(this.filterDescendants($a$$,$f$$));return $c$$};mxGraphModel.prototype.getRoot=function $mxGraphModel$$getRoot$($a$$){var $b$$=$a$$||this.root;if(null!=$a$$)for(;null!=$a$$;)$b$$=$a$$,$a$$=this.getParent($a$$);return $b$$};
mxGraphModel.prototype.setRoot=function $mxGraphModel$$setRoot$($a$$){this.execute(new mxRootChange(this,$a$$));return $a$$};mxGraphModel.prototype.rootChanged=function $mxGraphModel$$rootChanged$($a$$){var $b$$=this.root;this.root=$a$$;this.nextId=0;this.cells=null;this.cellAdded($a$$);return $b$$};mxGraphModel.prototype.isRoot=function $mxGraphModel$$isRoot$($a$$){return null!=$a$$&&this.root==$a$$};mxGraphModel.prototype.isLayer=function $mxGraphModel$$isLayer$($a$$){return this.isRoot(this.getParent($a$$))};
mxGraphModel.prototype.isAncestor=function $mxGraphModel$$isAncestor$($a$$,$b$$){for(;null!=$b$$&&$b$$!=$a$$;)$b$$=this.getParent($b$$);return $b$$==$a$$};mxGraphModel.prototype.contains=function $mxGraphModel$$contains$($a$$){return this.isAncestor(this.root,$a$$)};mxGraphModel.prototype.getParent=function $mxGraphModel$$getParent$($a$$){return null!=$a$$?$a$$.getParent():null};
mxGraphModel.prototype.add=function $mxGraphModel$$add$($a$$,$b$$,$c$$){if($b$$!=$a$$&&null!=$a$$&&null!=$b$$){null==$c$$&&($c$$=this.getChildCount($a$$));var $d$$=$a$$!=this.getParent($b$$);this.execute(new mxChildChange(this,$a$$,$b$$,$c$$));this.maintainEdgeParent&&$d$$&&this.updateEdgeParents($b$$)}return $b$$};
mxGraphModel.prototype.cellClonedCSET=function $mxGraphModel$$cellClonedCSET$($graph$$,$cell$$){var $$jscomp$this$$=this;if(null!=$cell$$.getCsetAttribute("ComponentGuid")){var $nextGuid$$=guidService.getInstance().getNextGuid();$cell$$.setCsetAttribute("ComponentGuid",$nextGuid$$);$cell$$.children&&$cell$$.children.forEach(function($c$$){$$jscomp$this$$.cellClonedCSET($graph$$,$c$$)})}};
mxGraphModel.cellAddedCSET=function $mxGraphModel$cellAddedCSET$($graph$$,$cell$$){if($graph$$.prefix&&$cell$$.style&&!$cell$$.hasStyle("group")&&null===$cell$$.getStyleValue("shape")&&!$cell$$.hasStyle("text")&&!$cell$$.isEdge()){if(null==$cell$$.getCsetAttribute("ComponentGuid")&&"1"!=$cell$$.getStyleValue("zone")){var $filename$jscomp$1_nextGuid$$=guidService.getInstance().getNextGuid();$cell$$.setCsetAttribute("ComponentGuid",$filename$jscomp$1_nextGuid$$)}null==$cell$$.getCsetAttribute("Criticality")&&
$cell$$.setCsetAttribute("Criticality","Low");"1"==$cell$$.getStyleValue("zone")&&($cell$$.setCsetAttribute("zone","1"),$cell$$.getCsetAttribute("ZoneType")||$cell$$.setCsetAttribute("ZoneType","Other"),$cell$$.getCsetAttribute("SAL")||$cell$$.setCsetAttribute("SAL","Low"),$cell$$.setZoneColor());$cell$$.autoNameComponent();($filename$jscomp$1_nextGuid$$=$cell$$.getStyleValue("image"))&&$filename$jscomp$1_nextGuid$$.endsWith("multiple_services_component.svg")&&($cell$$.setStyle("swimlane;msc=1;html=1;align=center;shadow=0;dashed=0;spacingTop=3;fillColor=#073b6b;fontColor=#FFFFFF;swimlaneFillColor=#ffffff"),
$cell$$.geometry.width=230,$cell$$.geometry.height=140)}};
mxGraphModel.prototype.cellAdded=function $mxGraphModel$$cellAdded$($a$$){if(null!=$a$$){null==$a$$.getId()&&this.createIds&&$a$$.setId(this.createId($a$$));if(null!=$a$$.getId()){var $b$$=this.getCell($a$$.getId());if($b$$!=$a$$){for(;null!=$b$$;)$a$$.setId(this.createId($a$$)),$b$$=this.getCell($a$$.getId());null==this.cells&&(this.cells={});this.cells[$a$$.getId()]=$a$$}}mxUtils.isNumeric($a$$.getId())&&(this.nextId=Math.max(this.nextId,$a$$.getId()));mxGraphModel.cellAddedCSET(this,$a$$);for(var $b$$=
this.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++)this.cellAdded(this.getChildAt($a$$,$c$$))}};mxGraphModel.prototype.createId=function $mxGraphModel$$createId$($a$$){$a$$=this.nextId;this.nextId++;return this.prefix+$a$$+this.postfix};
mxGraphModel.prototype.updateEdgeParents=function $mxGraphModel$$updateEdgeParents$($a$$,$b$$){$b$$=$b$$||this.getRoot($a$$);for(var $c$$=this.getChildCount($a$$),$d$$=0;$d$$<$c$$;$d$$++){var $e$$=this.getChildAt($a$$,$d$$);this.updateEdgeParents($e$$,$b$$)}$e$$=this.getEdgeCount($a$$);$c$$=[];for($d$$=0;$d$$<$e$$;$d$$++)$c$$.push(this.getEdgeAt($a$$,$d$$));for($d$$=0;$d$$<$c$$.length;$d$$++)$e$$=$c$$[$d$$],this.isAncestor($b$$,$e$$)&&this.updateEdgeParent($e$$,$b$$)};
mxGraphModel.prototype.updateEdgeParent=function $mxGraphModel$$updateEdgeParent$($a$$,$b$$){for(var $c$$=this.getTerminal($a$$,!0),$d$$=this.getTerminal($a$$,!1);null!=$c$$&&!this.isEdge($c$$)&&null!=$c$$.geometry&&$c$$.geometry.relative;)$c$$=this.getParent($c$$);for(;null!=$d$$&&this.ignoreRelativeEdgeParent&&!this.isEdge($d$$)&&null!=$d$$.geometry&&$d$$.geometry.relative;)$d$$=this.getParent($d$$);if(this.isAncestor($b$$,$c$$)&&this.isAncestor($b$$,$d$$)&&($c$$=$c$$==$d$$?this.getParent($c$$):
this.getNearestCommonAncestor($c$$,$d$$),null!=$c$$&&(this.getParent($c$$)!=this.root||this.isAncestor($c$$,$a$$))&&this.getParent($a$$)!=$c$$)){$d$$=this.getGeometry($a$$);if(null!=$d$$){var $e$$=this.getOrigin(this.getParent($a$$)),$f$$=this.getOrigin($c$$),$g$$=$f$$.x-$e$$.x,$e$$=$f$$.y-$e$$.y,$d$$=$d$$.clone();$d$$.translate(-$g$$,-$e$$);this.setGeometry($a$$,$d$$)}this.add($c$$,$a$$,this.getChildCount($c$$))}};
mxGraphModel.prototype.getOrigin=function $mxGraphModel$$getOrigin$($a$$){var $b$$;null!=$a$$?($b$$=this.getOrigin(this.getParent($a$$)),this.isEdge($a$$)||($a$$=this.getGeometry($a$$),null!=$a$$&&($b$$.x+=$a$$.x,$b$$.y+=$a$$.y))):$b$$=new mxPoint;return $b$$};
mxGraphModel.prototype.getNearestCommonAncestor=function $mxGraphModel$$getNearestCommonAncestor$($a$$,$b$$){if(null!=$a$$&&null!=$b$$){var $c$$=mxCellPath.create($b$$);if(null!=$c$$&&0<$c$$.length){var $d$$=$a$$,$e$$=mxCellPath.create($d$$);if($c$$.length<$e$$.length)var $d$$=$b$$,$f$$=$e$$,$e$$=$c$$,$c$$=$f$$;for(;null!=$d$$;){$f$$=this.getParent($d$$);if(0==$c$$.indexOf($e$$+mxCellPath.PATH_SEPARATOR)&&null!=$f$$)return $d$$;$e$$=mxCellPath.getParentPath($e$$);$d$$=$f$$}}}return null};
mxGraphModel.prototype.remove=function $mxGraphModel$$remove$($a$$){$a$$==this.root?this.setRoot(null):null!=this.getParent($a$$)&&this.execute(new mxChildChange(this,null,$a$$));return $a$$};mxGraphModel.prototype.cellRemoved=function $mxGraphModel$$cellRemoved$($a$$){if(null!=$a$$&&null!=this.cells){for(var $b$$=this.getChildCount($a$$)-1;0<=$b$$;$b$$--)this.cellRemoved(this.getChildAt($a$$,$b$$));null!=this.cells&&null!=$a$$.getId()&&delete this.cells[$a$$.getId()]}};
mxGraphModel.prototype.parentForCellChanged=function $mxGraphModel$$parentForCellChanged$($a$$,$b$$,$c$$){var $d$$=this.getParent($a$$);null!=$b$$?$b$$==$d$$&&$d$$.getIndex($a$$)==$c$$||$b$$.insert($a$$,$c$$):null!=$d$$&&($c$$=$d$$.getIndex($a$$),$d$$.remove($c$$));$b$$=this.contains($b$$);$c$$=this.contains($d$$);$b$$&&!$c$$?this.cellAdded($a$$):$c$$&&!$b$$&&this.cellRemoved($a$$);return $d$$};
mxGraphModel.prototype.getChildCount=function $mxGraphModel$$getChildCount$($a$$){return null!=$a$$?$a$$.getChildCount():0};mxGraphModel.prototype.getChildAt=function $mxGraphModel$$getChildAt$($a$$,$b$$){return null!=$a$$?$a$$.getChildAt($b$$):null};mxGraphModel.prototype.getChildren=function $mxGraphModel$$getChildren$($a$$){return null!=$a$$?$a$$.children:null};mxGraphModel.prototype.getChildVertices=function $mxGraphModel$$getChildVertices$($a$$){return this.getChildCells($a$$,!0,!1)};
mxGraphModel.prototype.getChildEdges=function $mxGraphModel$$getChildEdges$($a$$){return this.getChildCells($a$$,!1,!0)};mxGraphModel.prototype.getChildCells=function $mxGraphModel$$getChildCells$($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getChildCount($a$$),$e$$=[],$f$$=0;$f$$<$d$$;$f$$++){var $g$$=this.getChildAt($a$$,$f$$);(!$c$$&&!$b$$||$c$$&&this.isEdge($g$$)||$b$$&&this.isVertex($g$$))&&$e$$.push($g$$)}return $e$$};
mxGraphModel.prototype.getTerminal=function $mxGraphModel$$getTerminal$($a$$,$b$$){return null!=$a$$?$a$$.getTerminal($b$$):null};mxGraphModel.prototype.setTerminal=function $mxGraphModel$$setTerminal$($a$$,$b$$,$c$$){var $d$$=$b$$!=this.getTerminal($a$$,$c$$);this.execute(new mxTerminalChange(this,$a$$,$b$$,$c$$));this.maintainEdgeParent&&$d$$&&this.updateEdgeParent($a$$,this.getRoot());return $b$$};
mxGraphModel.prototype.setTerminals=function $mxGraphModel$$setTerminals$($a$$,$b$$,$c$$){this.beginUpdate();try{this.setTerminal($a$$,$b$$,!0),this.setTerminal($a$$,$c$$,!1)}finally{this.endUpdate()}};mxGraphModel.prototype.terminalForCellChanged=function $mxGraphModel$$terminalForCellChanged$($a$$,$b$$,$c$$){var $d$$=this.getTerminal($a$$,$c$$);null!=$b$$?$b$$.insertEdge($a$$,$c$$):null!=$d$$&&$d$$.removeEdge($a$$,$c$$);return $d$$};
mxGraphModel.prototype.getEdgeCount=function $mxGraphModel$$getEdgeCount$($a$$){return null!=$a$$?$a$$.getEdgeCount():0};mxGraphModel.prototype.getEdgeAt=function $mxGraphModel$$getEdgeAt$($a$$,$b$$){return null!=$a$$?$a$$.getEdgeAt($b$$):null};
mxGraphModel.prototype.getDirectedEdgeCount=function $mxGraphModel$$getDirectedEdgeCount$($a$$,$b$$,$c$$){for(var $d$$=0,$e$$=this.getEdgeCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=this.getEdgeAt($a$$,$f$$);$g$$!=$c$$&&this.getTerminal($g$$,$b$$)==$a$$&&$d$$++}return $d$$};mxGraphModel.prototype.getConnections=function $mxGraphModel$$getConnections$($a$$){return this.getEdges($a$$,!0,!0,!1)};
mxGraphModel.prototype.getIncomingEdges=function $mxGraphModel$$getIncomingEdges$($a$$){return this.getEdges($a$$,!0,!1,!1)};mxGraphModel.prototype.getOutgoingEdges=function $mxGraphModel$$getOutgoingEdges$($a$$){return this.getEdges($a$$,!1,!0,!1)};
mxGraphModel.prototype.getEdges=function $mxGraphModel$$getEdges$($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;for(var $e$$=this.getEdgeCount($a$$),$f$$=[],$g$$=0;$g$$<$e$$;$g$$++){var $k$$=this.getEdgeAt($a$$,$g$$),$l$$=this.getTerminal($k$$,!0),$m$$=this.getTerminal($k$$,!1);($d$$&&$l$$==$m$$||$l$$!=$m$$&&($b$$&&$m$$==$a$$||$c$$&&$l$$==$a$$))&&$f$$.push($k$$)}return $f$$};
mxGraphModel.prototype.getEdgesBetween=function $mxGraphModel$$getEdgesBetween$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;var $d$$=this.getEdgeCount($a$$),$e$$=this.getEdgeCount($b$$),$f$$=$a$$,$g$$=$d$$;$e$$<$d$$&&($g$$=$e$$,$f$$=$b$$);$d$$=[];for($e$$=0;$e$$<$g$$;$e$$++){var $k$$=this.getEdgeAt($f$$,$e$$),$l$$=this.getTerminal($k$$,!0),$m$$=this.getTerminal($k$$,!1),$n$$=$m$$==$a$$&&$l$$==$b$$;($l$$==$a$$&&$m$$==$b$$||!$c$$&&$n$$)&&$d$$.push($k$$)}return $d$$};
mxGraphModel.prototype.getOpposites=function $mxGraphModel$$getOpposites$($a$$,$b$$,$c$$,$d$$){$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;var $e$$=[];if(null!=$a$$)for(var $f$$=0;$f$$<$a$$.length;$f$$++){var $g$$=this.getTerminal($a$$[$f$$],!0),$k$$=this.getTerminal($a$$[$f$$],!1);$g$$==$b$$&&null!=$k$$&&$k$$!=$b$$&&$d$$?$e$$.push($k$$):$k$$==$b$$&&null!=$g$$&&$g$$!=$b$$&&$c$$&&$e$$.push($g$$)}return $e$$};
mxGraphModel.prototype.getTopmostCells=function $mxGraphModel$$getTopmostCells$($a$$){for(var $b$$=new mxDictionary,$c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$b$$.put($a$$[$d$$],!0);for($d$$=0;$d$$<$a$$.length;$d$$++){for(var $e$$=$a$$[$d$$],$f$$=!0,$g$$=this.getParent($e$$);null!=$g$$;){if($b$$.get($g$$)){$f$$=!1;break}$g$$=this.getParent($g$$)}$f$$&&$c$$.push($e$$)}return $c$$};mxGraphModel.prototype.isVertex=function $mxGraphModel$$isVertex$($a$$){return null!=$a$$?$a$$.isVertex():!1};
mxGraphModel.prototype.isEdge=function $mxGraphModel$$isEdge$($a$$){return null!=$a$$?$a$$.isEdge():!1};mxGraphModel.prototype.isConnectable=function $mxGraphModel$$isConnectable$($a$$){return null!=$a$$?$a$$.isConnectable():!1};mxGraphModel.prototype.getValue=function $mxGraphModel$$getValue$($a$$){return null!=$a$$?$a$$.getValue():null};mxGraphModel.prototype.setValue=function $mxGraphModel$$setValue$($a$$,$b$$){this.execute(new mxValueChange(this,$a$$,$b$$));return $b$$};
mxGraphModel.prototype.valueForCellChanged=function $mxGraphModel$$valueForCellChanged$($a$$,$b$$){return $a$$.valueChanged($b$$)};mxGraphModel.prototype.getGeometry=function $mxGraphModel$$getGeometry$($a$$){return null!=$a$$?$a$$.getGeometry():null};mxGraphModel.prototype.setGeometry=function $mxGraphModel$$setGeometry$($a$$,$b$$){$b$$!=this.getGeometry($a$$)&&this.execute(new mxGeometryChange(this,$a$$,$b$$));return $b$$};
mxGraphModel.prototype.geometryForCellChanged=function $mxGraphModel$$geometryForCellChanged$($a$$,$b$$){var $c$$=this.getGeometry($a$$);$a$$.setGeometry($b$$);return $c$$};mxGraphModel.prototype.getStyle=function $mxGraphModel$$getStyle$($a$$){return null!=$a$$?$a$$.getStyle():null};mxGraphModel.prototype.setStyle=function $mxGraphModel$$setStyle$($a$$,$b$$){$b$$!=this.getStyle($a$$)&&this.execute(new mxStyleChange(this,$a$$,$b$$));return $b$$};
mxGraphModel.prototype.styleForCellChanged=function $mxGraphModel$$styleForCellChanged$($a$$,$b$$){var $c$$=this.getStyle($a$$);$a$$.setStyle($b$$);return $c$$};mxGraphModel.prototype.isCollapsed=function $mxGraphModel$$isCollapsed$($a$$){return null!=$a$$?$a$$.isCollapsed():!1};mxGraphModel.prototype.setCollapsed=function $mxGraphModel$$setCollapsed$($a$$,$b$$){$b$$!=this.isCollapsed($a$$)&&this.execute(new mxCollapseChange(this,$a$$,$b$$));return $b$$};
mxGraphModel.prototype.collapsedStateForCellChanged=function $mxGraphModel$$collapsedStateForCellChanged$($a$$,$b$$){var $c$$=this.isCollapsed($a$$);$a$$.setCollapsed($b$$);return $c$$};mxGraphModel.prototype.isVisible=function $mxGraphModel$$isVisible$($a$$){return null!=$a$$?$a$$.isVisible():!1};mxGraphModel.prototype.setVisible=function $mxGraphModel$$setVisible$($a$$,$b$$){$b$$!=this.isVisible($a$$)&&this.execute(new mxVisibleChange(this,$a$$,$b$$));return $b$$};
mxGraphModel.prototype.visibleStateForCellChanged=function $mxGraphModel$$visibleStateForCellChanged$($a$$,$b$$){var $c$$=this.isVisible($a$$);$a$$.setVisible($b$$);return $c$$};mxGraphModel.prototype.execute=function $mxGraphModel$$execute$($a$$){$a$$.execute();this.beginUpdate();this.currentEdit.add($a$$);this.fireEvent(new mxEventObject(mxEvent.EXECUTE,"change",$a$$));this.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",$a$$));this.endUpdate()};
mxGraphModel.prototype.beginUpdate=function $mxGraphModel$$beginUpdate$(){this.updateLevel++;this.fireEvent(new mxEventObject(mxEvent.BEGIN_UPDATE));1==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.START_EDIT))};
mxGraphModel.prototype.endUpdate=function $mxGraphModel$$endUpdate$(){this.updateLevel--;0==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.END_EDIT));if(!this.endingUpdate){this.endingUpdate=0==this.updateLevel;this.fireEvent(new mxEventObject(mxEvent.END_UPDATE,"edit",this.currentEdit));try{if(this.endingUpdate&&!this.currentEdit.isEmpty()){this.fireEvent(new mxEventObject(mxEvent.BEFORE_UNDO,"edit",this.currentEdit));var $a$$=this.currentEdit;this.currentEdit=this.createUndoableEdit();
$a$$.notify();this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$a$$))}}finally{this.endingUpdate=!1}}};mxGraphModel.prototype.createUndoableEdit=function $mxGraphModel$$createUndoableEdit$($a$$){var $b$$=new mxUndoableEdit(this,null!=$a$$?$a$$:!0);$b$$.notify=function $$b$$$notify$(){$b$$.source.fireEvent(new mxEventObject(mxEvent.CHANGE,"edit",$b$$,"changes",$b$$.changes));$b$$.source.fireEvent(new mxEventObject(mxEvent.NOTIFY,"edit",$b$$,"changes",$b$$.changes))};return $b$$};
mxGraphModel.prototype.mergeChildren=function $mxGraphModel$$mergeChildren$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!0;this.beginUpdate();try{var $d$$={};this.mergeChildrenImpl($a$$,$b$$,$c$$,$d$$);for(var $e$$ in $d$$){var $f$$=$d$$[$e$$],$g$$=this.getTerminal($f$$,!0);null!=$g$$&&($g$$=$d$$[mxCellPath.create($g$$)],this.setTerminal($f$$,$g$$,!0));$g$$=this.getTerminal($f$$,!1);null!=$g$$&&($g$$=$d$$[mxCellPath.create($g$$)],this.setTerminal($f$$,$g$$,!1))}}finally{this.endUpdate()}};
mxGraphModel.prototype.mergeChildrenImpl=function $mxGraphModel$$mergeChildrenImpl$($a$$,$b$$,$c$$,$d$$){this.beginUpdate();try{for(var $e$$=$a$$.getChildCount(),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$a$$.getChildAt($f$$);if("function"==typeof $g$$.getId){var $k$$=$g$$.getId(),$l$$=null==$k$$||this.isEdge($g$$)&&$c$$?null:this.getCell($k$$);if(null==$l$$){var $m$$=$g$$.clone();$m$$.setId($k$$);$m$$.setTerminal($g$$.getTerminal(!0),!0);$m$$.setTerminal($g$$.getTerminal(!1),!1);$l$$=$b$$.insert($m$$);this.cellAdded($l$$)}$d$$[mxCellPath.create($g$$)]=
$l$$;this.mergeChildrenImpl($g$$,$l$$,$c$$,$d$$)}}}finally{this.endUpdate()}};mxGraphModel.prototype.getParents=function $mxGraphModel$$getParents$($a$$){var $b$$=[];if(null!=$a$$)for(var $c$$=new mxDictionary,$d$$=0;$d$$<$a$$.length;$d$$++){var $e$$=this.getParent($a$$[$d$$]);null==$e$$||$c$$.get($e$$)||($c$$.put($e$$,!0),$b$$.push($e$$))}return $b$$};mxGraphModel.prototype.cloneCell=function $mxGraphModel$$cloneCell$($a$$){return null!=$a$$?this.cloneCells([$a$$],!0)[0]:null};
mxGraphModel.prototype.cloneCells=function $mxGraphModel$$cloneCells$($a$$,$b$$,$c$$){var $$jscomp$this$$=this;$c$$=null!=$c$$?$c$$:{};for(var $d$$=[],$e$$=0;$e$$<$a$$.length;$e$$++)null!=$a$$[$e$$]?$d$$.push(this.cloneCellImpl($a$$[$e$$],$c$$,$b$$)):$d$$.push(null);for($e$$=0;$e$$<$d$$.length;$e$$++)null!=$d$$[$e$$]&&this.restoreClone($d$$[$e$$],$a$$[$e$$],$c$$);$d$$.forEach(function($clone$$){$$jscomp$this$$.cellClonedCSET($$jscomp$this$$,$clone$$)});return $d$$};
mxGraphModel.prototype.cloneCellImpl=function $mxGraphModel$$cloneCellImpl$($a$$,$b$$,$c$$){var $d$$=mxObjectIdentity.get($a$$),$e$$=$b$$[$d$$];if(null==$e$$&&($e$$=this.cellCloned($a$$),$b$$[$d$$]=$e$$,$c$$))for($c$$=this.getChildCount($a$$),$d$$=0;$d$$<$c$$;$d$$++){var $f$$=this.cloneCellImpl(this.getChildAt($a$$,$d$$),$b$$,!0);$e$$.insert($f$$)}return $e$$};mxGraphModel.prototype.cellCloned=function $mxGraphModel$$cellCloned$($a$$){return $a$$.clone()};
mxGraphModel.prototype.restoreClone=function $mxGraphModel$$restoreClone$($a$$,$b$$,$c$$){var $d$$=this.getTerminal($b$$,!0);null!=$d$$&&($d$$=$c$$[mxObjectIdentity.get($d$$)],null!=$d$$&&$d$$.insertEdge($a$$,!0));$d$$=this.getTerminal($b$$,!1);null!=$d$$&&($d$$=$c$$[mxObjectIdentity.get($d$$)],null!=$d$$&&$d$$.insertEdge($a$$,!1));for(var $d$$=this.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++)this.restoreClone(this.getChildAt($a$$,$e$$),this.getChildAt($b$$,$e$$),$c$$)};
function mxRootChange($a$$,$b$$){this.model=$a$$;this.previous=this.root=$b$$}mxRootChange.prototype.execute=function $mxRootChange$$execute$(){this.root=this.previous;this.previous=this.model.rootChanged(this.previous)};function mxChildChange($a$$,$b$$,$c$$,$d$$){this.model=$a$$;this.previous=this.parent=$b$$;this.child=$c$$;this.previousIndex=this.index=$d$$}
mxChildChange.prototype.execute=function $mxChildChange$$execute$(){if(null!=this.child){var $a$$=this.model.getParent(this.child),$b$$=null!=$a$$?$a$$.getIndex(this.child):0;null==this.previous&&this.connect(this.child,!1);$a$$=this.model.parentForCellChanged(this.child,this.previous,this.previousIndex);null!=this.previous&&this.connect(this.child,!0);this.parent=this.previous;this.previous=$a$$;this.index=this.previousIndex;this.previousIndex=$b$$}};
mxChildChange.prototype.connect=function $mxChildChange$$connect$($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=$a$$.getTerminal(!0),$d$$=$a$$.getTerminal(!1);null!=$c$$&&($b$$?this.model.terminalForCellChanged($a$$,$c$$,!0):this.model.terminalForCellChanged($a$$,null,!0));null!=$d$$&&($b$$?this.model.terminalForCellChanged($a$$,$d$$,!1):this.model.terminalForCellChanged($a$$,null,!1));$a$$.setTerminal($c$$,!0);$a$$.setTerminal($d$$,!1);$c$$=this.model.getChildCount($a$$);for($d$$=0;$d$$<$c$$;$d$$++)this.connect(this.model.getChildAt($a$$,
$d$$),$b$$)};function mxTerminalChange($a$$,$b$$,$c$$,$d$$){this.model=$a$$;this.cell=$b$$;this.previous=this.terminal=$c$$;this.source=$d$$}mxTerminalChange.prototype.execute=function $mxTerminalChange$$execute$(){null!=this.cell&&(this.terminal=this.previous,this.previous=this.model.terminalForCellChanged(this.cell,this.previous,this.source))};function mxValueChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.value=$c$$}
mxValueChange.prototype.execute=function $mxValueChange$$execute$(){null!=this.cell&&(this.value=this.previous,this.previous=this.model.valueForCellChanged(this.cell,this.previous))};function mxStyleChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.style=$c$$}mxStyleChange.prototype.execute=function $mxStyleChange$$execute$(){null!=this.cell&&(this.style=this.previous,this.previous=this.model.styleForCellChanged(this.cell,this.previous))};
function mxGeometryChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.geometry=$c$$}mxGeometryChange.prototype.execute=function $mxGeometryChange$$execute$(){null!=this.cell&&(this.geometry=this.previous,this.previous=this.model.geometryForCellChanged(this.cell,this.previous))};function mxCollapseChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.collapsed=$c$$}
mxCollapseChange.prototype.execute=function $mxCollapseChange$$execute$(){null!=this.cell&&(this.collapsed=this.previous,this.previous=this.model.collapsedStateForCellChanged(this.cell,this.previous))};function mxVisibleChange($a$$,$b$$,$c$$){this.model=$a$$;this.cell=$b$$;this.previous=this.visible=$c$$}mxVisibleChange.prototype.execute=function $mxVisibleChange$$execute$(){null!=this.cell&&(this.visible=this.previous,this.previous=this.model.visibleStateForCellChanged(this.cell,this.previous))};
function mxCellAttributeChange($a$$,$b$$,$c$$){this.cell=$a$$;this.attribute=$b$$;this.previous=this.value=$c$$}mxCellAttributeChange.prototype.execute=function $mxCellAttributeChange$$execute$(){if(null!=this.cell){var $a$$=this.cell.getAttribute(this.attribute);null==this.previous?this.cell.value.removeAttribute(this.attribute):this.cell.setAttribute(this.attribute,this.previous);this.previous=$a$$}};
function mxCell($a$$,$b$$,$c$$){this.value=$a$$;this.setGeometry($b$$);this.setStyle($c$$);if(null!=this.onInit)this.onInit()}mxCell.prototype.id=null;mxCell.prototype.value=null;mxCell.prototype.geometry=null;mxCell.prototype.style=null;mxCell.prototype.vertex=!1;mxCell.prototype.edge=!1;mxCell.prototype.connectable=!0;mxCell.prototype.visible=!0;mxCell.prototype.collapsed=!1;mxCell.prototype.parent=null;mxCell.prototype.source=null;mxCell.prototype.target=null;mxCell.prototype.children=null;
mxCell.prototype.edges=null;mxCell.prototype.mxTransient="id value parent source target children edges".split(" ");mxCell.prototype.getId=function $mxCell$$getId$(){return this.id};mxCell.prototype.setId=function $mxCell$$setId$($a$$){this.id=$a$$};mxCell.prototype.getValue=function $mxCell$$getValue$(){return this.value};mxCell.prototype.setValue=function $mxCell$$setValue$($a$$){this.value=$a$$};
mxCell.prototype.valueChanged=function $mxCell$$valueChanged$($a$$){var $b$$=this.getValue();this.setValue($a$$);return $b$$};mxCell.prototype.getGeometry=function $mxCell$$getGeometry$(){return this.geometry};mxCell.prototype.setGeometry=function $mxCell$$setGeometry$($a$$){this.geometry=$a$$};mxCell.prototype.getStyle=function $mxCell$$getStyle$(){return this.style};mxCell.prototype.setStyle=function $mxCell$$setStyle$($a$$){this.style=$a$$};
mxCell.prototype.isVertex=function $mxCell$$isVertex$(){return 0!=this.vertex};mxCell.prototype.setVertex=function $mxCell$$setVertex$($a$$){this.vertex=$a$$};mxCell.prototype.isEdge=function $mxCell$$isEdge$(){return 0!=this.edge};mxCell.prototype.setEdge=function $mxCell$$setEdge$($a$$){this.edge=$a$$};mxCell.prototype.isConnectable=function $mxCell$$isConnectable$(){return 0!=this.connectable};mxCell.prototype.setConnectable=function $mxCell$$setConnectable$($a$$){this.connectable=$a$$};
mxCell.prototype.isVisible=function $mxCell$$isVisible$(){return 0!=this.visible};mxCell.prototype.setVisible=function $mxCell$$setVisible$($a$$){this.visible=$a$$};mxCell.prototype.isCollapsed=function $mxCell$$isCollapsed$(){return 0!=this.collapsed};mxCell.prototype.setCollapsed=function $mxCell$$setCollapsed$($a$$){this.collapsed=$a$$};mxCell.prototype.getParent=function $mxCell$$getParent$(){return this.parent};mxCell.prototype.setParent=function $mxCell$$setParent$($a$$){this.parent=$a$$};
mxCell.prototype.getTerminal=function $mxCell$$getTerminal$($a$$){return $a$$?this.source:this.target};mxCell.prototype.setTerminal=function $mxCell$$setTerminal$($a$$,$b$$){$b$$?this.source=$a$$:this.target=$a$$;return $a$$};mxCell.prototype.getChildCount=function $mxCell$$getChildCount$(){return null==this.children?0:this.children.length};mxCell.prototype.getIndex=function $mxCell$$getIndex$($a$$){return mxUtils.indexOf(this.children,$a$$)};
mxCell.prototype.getChildAt=function $mxCell$$getChildAt$($a$$){return null==this.children?null:this.children[$a$$]};mxCell.prototype.insert=function $mxCell$$insert$($a$$,$b$$){null!=$a$$&&(null==$b$$&&($b$$=this.getChildCount(),$a$$.getParent()==this&&$b$$--),$a$$.removeFromParent(),$a$$.setParent(this),null==this.children?(this.children=[],this.children.push($a$$)):this.children.splice($b$$,0,$a$$));return $a$$};
mxCell.prototype.remove=function $mxCell$$remove$($a$$){var $b$$=null;null!=this.children&&0<=$a$$&&($b$$=this.getChildAt($a$$),null!=$b$$&&(this.children.splice($a$$,1),$b$$.setParent(null)));return $b$$};mxCell.prototype.removeFromParent=function $mxCell$$removeFromParent$(){if(null!=this.parent){var $a$$=this.parent.getIndex(this);this.parent.remove($a$$)}};mxCell.prototype.getEdgeCount=function $mxCell$$getEdgeCount$(){return null==this.edges?0:this.edges.length};
mxCell.prototype.getEdgeIndex=function $mxCell$$getEdgeIndex$($a$$){return mxUtils.indexOf(this.edges,$a$$)};mxCell.prototype.getEdgeAt=function $mxCell$$getEdgeAt$($a$$){return null==this.edges?null:this.edges[$a$$]};
mxCell.prototype.insertEdge=function $mxCell$$insertEdge$($a$$,$b$$){null!=$a$$&&($a$$.removeFromTerminal($b$$),$a$$.setTerminal(this,$b$$),null==this.edges||$a$$.getTerminal(!$b$$)!=this||0>mxUtils.indexOf(this.edges,$a$$))&&(null==this.edges&&(this.edges=[]),this.edges.push($a$$));return $a$$};
mxCell.prototype.removeEdge=function $mxCell$$removeEdge$($a$$,$b$$){if(null!=$a$$){if($a$$.getTerminal(!$b$$)!=this&&null!=this.edges){var $c$$=this.getEdgeIndex($a$$);0<=$c$$&&this.edges.splice($c$$,1)}$a$$.setTerminal(null,$b$$)}return $a$$};mxCell.prototype.removeFromTerminal=function $mxCell$$removeFromTerminal$($a$$){var $b$$=this.getTerminal($a$$);null!=$b$$&&$b$$.removeEdge(this,$a$$)};
mxCell.prototype.hasAttribute=function $mxCell$$hasAttribute$($a$$){var $b$$=this.getValue();return null!=$b$$&&$b$$.nodeType==mxConstants.NODETYPE_ELEMENT&&$b$$.hasAttribute?$b$$.hasAttribute($a$$):null!=$b$$.getAttribute($a$$)};mxCell.prototype.getAttribute=function $mxCell$$getAttribute$($a$$,$b$$){var $c$$=this.getValue();return(null!=$c$$&&$c$$.nodeType==mxConstants.NODETYPE_ELEMENT?$c$$.getAttribute($a$$):null)||$b$$};
mxCell.prototype.setAttribute=function $mxCell$$setAttribute$($a$$,$b$$){var $c$$=this.getValue();null!=$c$$&&$c$$.nodeType==mxConstants.NODETYPE_ELEMENT&&$c$$.setAttribute($a$$,$b$$)};mxCell.prototype.clone=function $mxCell$$clone$(){var $a$$=mxUtils.clone(this,this.mxTransient);$a$$.setValue(this.cloneValue());return $a$$};
mxCell.prototype.cloneValue=function $mxCell$$cloneValue$(){var $a$$=this.getValue();null!=$a$$&&("function"==typeof $a$$.clone?$a$$=$a$$.clone():isNaN($a$$.nodeType)||($a$$=$a$$.cloneNode(!0)));return $a$$};function mxGeometry($a$$,$b$$,$c$$,$d$$){mxRectangle.call(this,$a$$,$b$$,$c$$,$d$$)}mxGeometry.prototype=new mxRectangle;mxGeometry.prototype.constructor=mxGeometry;mxGeometry.prototype.TRANSLATE_CONTROL_POINTS=!0;mxGeometry.prototype.alternateBounds=null;mxGeometry.prototype.sourcePoint=null;
mxGeometry.prototype.targetPoint=null;mxGeometry.prototype.points=null;mxGeometry.prototype.offset=null;mxGeometry.prototype.relative=!1;mxGeometry.prototype.swap=function $mxGeometry$$swap$(){if(null!=this.alternateBounds){var $a$$=new mxRectangle(this.x,this.y,this.width,this.height);this.x=this.alternateBounds.x;this.y=this.alternateBounds.y;this.width=this.alternateBounds.width;this.height=this.alternateBounds.height;this.alternateBounds=$a$$}};
mxGeometry.prototype.getTerminalPoint=function $mxGeometry$$getTerminalPoint$($a$$){return $a$$?this.sourcePoint:this.targetPoint};mxGeometry.prototype.setTerminalPoint=function $mxGeometry$$setTerminalPoint$($a$$,$b$$){$b$$?this.sourcePoint=$a$$:this.targetPoint=$a$$;return $a$$};
mxGeometry.prototype.rotate=function $mxGeometry$$rotate$($a$$,$b$$){var $c$$=mxUtils.toRadians($a$$),$d$$=Math.cos($c$$),$c$$=Math.sin($c$$);if(!this.relative){var $e$$=new mxPoint(this.getCenterX(),this.getCenterY()),$e$$=mxUtils.getRotatedPoint($e$$,$d$$,$c$$,$b$$);this.x=Math.round($e$$.x-this.width/2);this.y=Math.round($e$$.y-this.height/2)}null!=this.sourcePoint&&($e$$=mxUtils.getRotatedPoint(this.sourcePoint,$d$$,$c$$,$b$$),this.sourcePoint.x=Math.round($e$$.x),this.sourcePoint.y=Math.round($e$$.y));
null!=this.targetPoint&&($e$$=mxUtils.getRotatedPoint(this.targetPoint,$d$$,$c$$,$b$$),this.targetPoint.x=Math.round($e$$.x),this.targetPoint.y=Math.round($e$$.y));if(null!=this.points)for(var $f$$=0;$f$$<this.points.length;$f$$++)null!=this.points[$f$$]&&($e$$=mxUtils.getRotatedPoint(this.points[$f$$],$d$$,$c$$,$b$$),this.points[$f$$].x=Math.round($e$$.x),this.points[$f$$].y=Math.round($e$$.y))};
mxGeometry.prototype.translate=function $mxGeometry$$translate$($a$$,$b$$){$a$$=parseFloat($a$$);$b$$=parseFloat($b$$);this.relative||(this.x=parseFloat(this.x)+$a$$,this.y=parseFloat(this.y)+$b$$);null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)+$a$$,this.sourcePoint.y=parseFloat(this.sourcePoint.y)+$b$$);null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)+$a$$,this.targetPoint.y=parseFloat(this.targetPoint.y)+$b$$);if(this.TRANSLATE_CONTROL_POINTS&&
null!=this.points)for(var $c$$=0;$c$$<this.points.length;$c$$++)null!=this.points[$c$$]&&(this.points[$c$$].x=parseFloat(this.points[$c$$].x)+$a$$,this.points[$c$$].y=parseFloat(this.points[$c$$].y)+$b$$)};
mxGeometry.prototype.scale=function $mxGeometry$$scale$($a$$,$b$$,$c$$){$a$$=parseFloat($a$$);$b$$=parseFloat($b$$);null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)*$a$$,this.sourcePoint.y=parseFloat(this.sourcePoint.y)*$b$$);null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)*$a$$,this.targetPoint.y=parseFloat(this.targetPoint.y)*$b$$);if(null!=this.points)for(var $d$$=0;$d$$<this.points.length;$d$$++)null!=this.points[$d$$]&&(this.points[$d$$].x=
parseFloat(this.points[$d$$].x)*$a$$,this.points[$d$$].y=parseFloat(this.points[$d$$].y)*$b$$);this.relative||(this.x=parseFloat(this.x)*$a$$,this.y=parseFloat(this.y)*$b$$,$c$$&&($b$$=$a$$=Math.min($a$$,$b$$)),this.width=parseFloat(this.width)*$a$$,this.height=parseFloat(this.height)*$b$$)};
mxGeometry.prototype.equals=function $mxGeometry$$equals$($a$$){return mxRectangle.prototype.equals.apply(this,arguments)&&this.relative==$a$$.relative&&(null==this.sourcePoint&&null==$a$$.sourcePoint||null!=this.sourcePoint&&this.sourcePoint.equals($a$$.sourcePoint))&&(null==this.targetPoint&&null==$a$$.targetPoint||null!=this.targetPoint&&this.targetPoint.equals($a$$.targetPoint))&&(null==this.points&&null==$a$$.points||null!=this.points&&mxUtils.equalPoints(this.points,$a$$.points))&&(null==this.alternateBounds&&
null==$a$$.alternateBounds||null!=this.alternateBounds&&this.alternateBounds.equals($a$$.alternateBounds))&&(null==this.offset&&null==$a$$.offset||null!=this.offset&&this.offset.equals($a$$.offset))};
var mxCellPath={PATH_SEPARATOR:".",create:function($a$$){var $b$$="";if(null!=$a$$)for(var $c$$=$a$$.getParent();null!=$c$$;)$b$$=$c$$.getIndex($a$$)+mxCellPath.PATH_SEPARATOR+$b$$,$a$$=$c$$,$c$$=$a$$.getParent();$a$$=$b$$.length;1<$a$$&&($b$$=$b$$.substring(0,$a$$-1));return $b$$},getParentPath:function($a$$){if(null!=$a$$){var $b$$=$a$$.lastIndexOf(mxCellPath.PATH_SEPARATOR);if(0<=$b$$)return $a$$.substring(0,$b$$);if(0<$a$$.length)return""}return null},resolve:function($a$$,$b$$){var $c$$=$a$$;
if(null!=$b$$)for(var $d$$=$b$$.split(mxCellPath.PATH_SEPARATOR),$e$$=0;$e$$<$d$$.length;$e$$++)$c$$=$c$$.getChildAt(parseInt($d$$[$e$$]));return $c$$},compare:function($a$$,$b$$){for(var $c$$=Math.min($a$$.length,$b$$.length),$d$$=0,$e$$=0;$e$$<$c$$;$e$$++)if($a$$[$e$$]!=$b$$[$e$$]){0==$a$$[$e$$].length||0==$b$$[$e$$].length?$d$$=$a$$[$e$$]==$b$$[$e$$]?0:$a$$[$e$$]>$b$$[$e$$]?1:-1:($c$$=parseInt($a$$[$e$$]),$e$$=parseInt($b$$[$e$$]),$d$$=$c$$==$e$$?0:$c$$>$e$$?1:-1);break}0==$d$$&&($c$$=$a$$.length,
$e$$=$b$$.length,$c$$!=$e$$&&($d$$=$c$$>$e$$?1:-1));return $d$$}},mxPerimeter={RectanglePerimeter:function($a$$,$b$$,$c$$,$d$$){$b$$=$a$$.getCenterX();var $e$$=$a$$.getCenterY(),$f$$=Math.atan2($c$$.y-$e$$,$c$$.x-$b$$),$g$$=new mxPoint(0,0),$k$$=Math.PI,$l$$=Math.PI/2-$f$$,$m$$=Math.atan2($a$$.height,$a$$.width);$f$$<-$k$$+$m$$||$f$$>$k$$-$m$$?($g$$.x=$a$$.x,$g$$.y=$e$$-$a$$.width*Math.tan($f$$)/2):$f$$<-$m$$?($g$$.y=$a$$.y,$g$$.x=$b$$-$a$$.height*Math.tan($l$$)/2):$f$$<$m$$?($g$$.x=$a$$.x+$a$$.width,
$g$$.y=$e$$+$a$$.width*Math.tan($f$$)/2):($g$$.y=$a$$.y+$a$$.height,$g$$.x=$b$$+$a$$.height*Math.tan($l$$)/2);$d$$&&($c$$.x>=$a$$.x&&$c$$.x<=$a$$.x+$a$$.width?$g$$.x=$c$$.x:$c$$.y>=$a$$.y&&$c$$.y<=$a$$.y+$a$$.height&&($g$$.y=$c$$.y),$c$$.x<$a$$.x?$g$$.x=$a$$.x:$c$$.x>$a$$.x+$a$$.width&&($g$$.x=$a$$.x+$a$$.width),$c$$.y<$a$$.y?$g$$.y=$a$$.y:$c$$.y>$a$$.y+$a$$.height&&($g$$.y=$a$$.y+$a$$.height));return $g$$},EllipsePerimeter:function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$.x,$f$$=$a$$.y,$g$$=$a$$.width/
2,$k$$=$a$$.height/2,$l$$=$e$$+$g$$,$m$$=$f$$+$k$$;$b$$=$c$$.x;$c$$=$c$$.y;var $n$$=parseInt($b$$-$l$$),$p$$=parseInt($c$$-$m$$);if(0==$n$$&&0!=$p$$)return new mxPoint($l$$,$m$$+$k$$*$p$$/Math.abs($p$$));if(0==$n$$&&0==$p$$)return new mxPoint($b$$,$c$$);if($d$$){if($c$$>=$f$$&&$c$$<=$f$$+$a$$.height)return $a$$=$c$$-$m$$,$a$$=Math.sqrt($g$$*$g$$*(1-$a$$*$a$$/($k$$*$k$$)))||0,$b$$<=$e$$&&($a$$=-$a$$),new mxPoint($l$$+$a$$,$c$$);if($b$$>=$e$$&&$b$$<=$e$$+$a$$.width)return $a$$=$b$$-$l$$,$a$$=Math.sqrt($k$$*
$k$$*(1-$a$$*$a$$/($g$$*$g$$)))||0,$c$$<=$f$$&&($a$$=-$a$$),new mxPoint($b$$,$m$$+$a$$)}$e$$=$p$$/$n$$;$m$$-=$e$$*$l$$;$f$$=$g$$*$g$$*$e$$*$e$$+$k$$*$k$$;$a$$=-2*$l$$*$f$$;$k$$=Math.sqrt($a$$*$a$$-4*$f$$*($g$$*$g$$*$e$$*$e$$*$l$$*$l$$+$k$$*$k$$*$l$$*$l$$-$g$$*$g$$*$k$$*$k$$));$g$$=(-$a$$+$k$$)/(2*$f$$);$l$$=(-$a$$-$k$$)/(2*$f$$);$k$$=$e$$*$g$$+$m$$;$m$$=$e$$*$l$$+$m$$;Math.sqrt(Math.pow($g$$-$b$$,2)+Math.pow($k$$-$c$$,2))<Math.sqrt(Math.pow($l$$-$b$$,2)+Math.pow($m$$-$c$$,2))?($b$$=$g$$,$c$$=$k$$):
($b$$=$l$$,$c$$=$m$$);return new mxPoint($b$$,$c$$)},RhombusPerimeter:function($a$$,$b$$,$c$$,$d$$){$b$$=$a$$.x;var $e$$=$a$$.y,$f$$=$a$$.width;$a$$=$a$$.height;var $g$$=$b$$+$f$$/2,$k$$=$e$$+$a$$/2,$l$$=$c$$.x;$c$$=$c$$.y;if($g$$==$l$$)return $k$$>$c$$?new mxPoint($g$$,$e$$):new mxPoint($g$$,$e$$+$a$$);if($k$$==$c$$)return $g$$>$l$$?new mxPoint($b$$,$k$$):new mxPoint($b$$+$f$$,$k$$);var $m$$=$g$$,$n$$=$k$$;$d$$&&($l$$>=$b$$&&$l$$<=$b$$+$f$$?$m$$=$l$$:$c$$>=$e$$&&$c$$<=$e$$+$a$$&&($n$$=$c$$));return $l$$<
$g$$?$c$$<$k$$?mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$,$b$$,$k$$):mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$+$a$$,$b$$,$k$$):$c$$<$k$$?mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$,$b$$+$f$$,$k$$):mxUtils.intersection($l$$,$c$$,$m$$,$n$$,$g$$,$e$$+$a$$,$b$$+$f$$,$k$$)},TrianglePerimeter:function($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$.style[mxConstants.STYLE_DIRECTION]:null;var $e$$=$b$$==mxConstants.DIRECTION_NORTH||$b$$==mxConstants.DIRECTION_SOUTH,$f$$=$a$$.x,$g$$=$a$$.y,
$k$$=$a$$.width,$l$$=$a$$.height;$a$$=$f$$+$k$$/2;var $m$$=$g$$+$l$$/2,$n$$=new mxPoint($f$$,$g$$),$p$$=new mxPoint($f$$+$k$$,$m$$),$q$$=new mxPoint($f$$,$g$$+$l$$);$b$$==mxConstants.DIRECTION_NORTH?($n$$=$q$$,$p$$=new mxPoint($a$$,$g$$),$q$$=new mxPoint($f$$+$k$$,$g$$+$l$$)):$b$$==mxConstants.DIRECTION_SOUTH?($p$$=new mxPoint($a$$,$g$$+$l$$),$q$$=new mxPoint($f$$+$k$$,$g$$)):$b$$==mxConstants.DIRECTION_WEST&&($n$$=new mxPoint($f$$+$k$$,$g$$),$p$$=new mxPoint($f$$,$m$$),$q$$=new mxPoint($f$$+$k$$,
$g$$+$l$$));var $r$$=$c$$.x-$a$$,$t$$=$c$$.y-$m$$,$r$$=$e$$?Math.atan2($r$$,$t$$):Math.atan2($t$$,$r$$),$t$$=$e$$?Math.atan2($k$$,$l$$):Math.atan2($l$$,$k$$);($b$$==mxConstants.DIRECTION_NORTH||$b$$==mxConstants.DIRECTION_WEST?$r$$>-$t$$&&$r$$<$t$$:$r$$<-Math.PI+$t$$||$r$$>Math.PI-$t$$)?$c$$=$d$$&&($e$$&&$c$$.x>=$n$$.x&&$c$$.x<=$q$$.x||!$e$$&&$c$$.y>=$n$$.y&&$c$$.y<=$q$$.y)?$e$$?new mxPoint($c$$.x,$n$$.y):new mxPoint($n$$.x,$c$$.y):$b$$==mxConstants.DIRECTION_NORTH?new mxPoint($f$$+$k$$/2+$l$$*Math.tan($r$$)/
2,$g$$+$l$$):$b$$==mxConstants.DIRECTION_SOUTH?new mxPoint($f$$+$k$$/2-$l$$*Math.tan($r$$)/2,$g$$):$b$$==mxConstants.DIRECTION_WEST?new mxPoint($f$$+$k$$,$g$$+$l$$/2+$k$$*Math.tan($r$$)/2):new mxPoint($f$$,$g$$+$l$$/2-$k$$*Math.tan($r$$)/2):($d$$&&($d$$=new mxPoint($a$$,$m$$),$c$$.y>=$g$$&&$c$$.y<=$g$$+$l$$?($d$$.x=$e$$?$a$$:$b$$==mxConstants.DIRECTION_WEST?$f$$+$k$$:$f$$,$d$$.y=$c$$.y):$c$$.x>=$f$$&&$c$$.x<=$f$$+$k$$&&($d$$.x=$c$$.x,$d$$.y=$e$$?$b$$==mxConstants.DIRECTION_NORTH?$g$$+$l$$:$g$$:$m$$),
$a$$=$d$$.x,$m$$=$d$$.y),$c$$=$e$$&&$c$$.x<=$f$$+$k$$/2||!$e$$&&$c$$.y<=$g$$+$l$$/2?mxUtils.intersection($c$$.x,$c$$.y,$a$$,$m$$,$n$$.x,$n$$.y,$p$$.x,$p$$.y):mxUtils.intersection($c$$.x,$c$$.y,$a$$,$m$$,$p$$.x,$p$$.y,$q$$.x,$q$$.y));null==$c$$&&($c$$=new mxPoint($a$$,$m$$));return $c$$},HexagonPerimeter:function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$.x,$f$$=$a$$.y,$g$$=$a$$.width,$k$$=$a$$.height,$l$$=$a$$.getCenterX();$a$$=$a$$.getCenterY();var $m$$=$c$$.x,$n$$=$c$$.y,$p$$=-Math.atan2($n$$-$a$$,$m$$-
$l$$),$q$$=Math.PI,$r$$=Math.PI/2;new mxPoint($l$$,$a$$);$b$$=null!=$b$$?mxUtils.getValue($b$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;var $t$$=$b$$==mxConstants.DIRECTION_NORTH||$b$$==mxConstants.DIRECTION_SOUTH;$b$$=new mxPoint;var $u$$=new mxPoint;if($m$$<$e$$&&$n$$<$f$$||$m$$<$e$$&&$n$$>$f$$+$k$$||$m$$>$e$$+$g$$&&$n$$<$f$$||$m$$>$e$$+$g$$&&$n$$>$f$$+$k$$)$d$$=!1;if($d$$){if($t$$){if($m$$==$l$$){if($n$$<=$f$$)return new mxPoint($l$$,$f$$);if($n$$>=
$f$$+$k$$)return new mxPoint($l$$,$f$$+$k$$)}else if($m$$<$e$$){if($n$$==$f$$+$k$$/4)return new mxPoint($e$$,$f$$+$k$$/4);if($n$$==$f$$+3*$k$$/4)return new mxPoint($e$$,$f$$+3*$k$$/4)}else if($m$$>$e$$+$g$$){if($n$$==$f$$+$k$$/4)return new mxPoint($e$$+$g$$,$f$$+$k$$/4);if($n$$==$f$$+3*$k$$/4)return new mxPoint($e$$+$g$$,$f$$+3*$k$$/4)}else if($m$$==$e$$){if($n$$<$a$$)return new mxPoint($e$$,$f$$+$k$$/4);if($n$$>$a$$)return new mxPoint($e$$,$f$$+3*$k$$/4)}else if($m$$==$e$$+$g$$){if($n$$<$a$$)return new mxPoint($e$$+
$g$$,$f$$+$k$$/4);if($n$$>$a$$)return new mxPoint($e$$+$g$$,$f$$+3*$k$$/4)}if($n$$==$f$$)return new mxPoint($l$$,$f$$);if($n$$==$f$$+$k$$)return new mxPoint($l$$,$f$$+$k$$);$m$$<$l$$?$n$$>$f$$+$k$$/4&&$n$$<$f$$+3*$k$$/4?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$,$f$$+$k$$)):$n$$<$f$$+$k$$/4?($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$+$g$$,$f$$-Math.floor(.25*$k$$))):$n$$>$f$$+3*$k$$/4&&($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*
$k$$)),$u$$=new mxPoint($e$$+$g$$,$f$$+Math.floor(1.25*$k$$))):$m$$>$l$$&&($n$$>$f$$+$k$$/4&&$n$$<$f$$+3*$k$$/4?($b$$=new mxPoint($e$$+$g$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$n$$<$f$$+$k$$/4?($b$$=new mxPoint($e$$,$f$$-Math.floor(.25*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$))):$n$$>$f$$+3*$k$$/4&&($b$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$,$f$$+Math.floor(1.25*$k$$))))}else{if($n$$==$a$$){if($m$$<=$e$$)return new mxPoint($e$$,
$f$$+$k$$/2);if($m$$>=$e$$+$g$$)return new mxPoint($e$$+$g$$,$f$$+$k$$/2)}else if($n$$<$f$$){if($m$$==$e$$+$g$$/4)return new mxPoint($e$$+$g$$/4,$f$$);if($m$$==$e$$+3*$g$$/4)return new mxPoint($e$$+3*$g$$/4,$f$$)}else if($n$$>$f$$+$k$$){if($m$$==$e$$+$g$$/4)return new mxPoint($e$$+$g$$/4,$f$$+$k$$);if($m$$==$e$$+3*$g$$/4)return new mxPoint($e$$+3*$g$$/4,$f$$+$k$$)}else if($n$$==$f$$){if($m$$<$l$$)return new mxPoint($e$$+$g$$/4,$f$$);if($m$$>$l$$)return new mxPoint($e$$+3*$g$$/4,$f$$)}else if($n$$==
$f$$+$k$$){if($m$$<$l$$)return new mxPoint($e$$+$g$$/4,$f$$+$k$$);if($n$$>$a$$)return new mxPoint($e$$+3*$g$$/4,$f$$+$k$$)}if($m$$==$e$$)return new mxPoint($e$$,$a$$);if($m$$==$e$$+$g$$)return new mxPoint($e$$+$g$$,$a$$);$n$$<$a$$?$m$$>$e$$+$g$$/4&&$m$$<$e$$+3*$g$$/4?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$)):$m$$<$e$$+$g$$/4?($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$+$k$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$-Math.floor(.5*$k$$))):$m$$>$e$$+3*$g$$/4&&($b$$=new mxPoint($e$$+
Math.floor(.5*$g$$),$f$$-Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$+$k$$)):$n$$>$a$$&&($m$$>$e$$+$g$$/4&&$m$$<$e$$+3*$g$$/4?($b$$=new mxPoint($e$$,$f$$+$k$$),$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$m$$<$e$$+$g$$/4?($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$))):$m$$>$e$$+3*$g$$/4&&($b$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$)))}$d$$=
$l$$;$p$$=$a$$;$m$$>=$e$$&&$m$$<=$e$$+$g$$?($d$$=$m$$,$p$$=$n$$<$a$$?$f$$+$k$$:$f$$):$n$$>=$f$$&&$n$$<=$f$$+$k$$&&($p$$=$n$$,$d$$=$m$$<$l$$?$e$$+$g$$:$e$$);$c$$=mxUtils.intersection($d$$,$p$$,$c$$.x,$c$$.y,$b$$.x,$b$$.y,$u$$.x,$u$$.y)}else{if($t$$){$m$$=Math.atan2($k$$/4,$g$$/2);if($p$$==$m$$)return new mxPoint($e$$+$g$$,$f$$+Math.floor(.25*$k$$));if($p$$==$r$$)return new mxPoint($e$$+Math.floor(.5*$g$$),$f$$);if($p$$==$q$$-$m$$)return new mxPoint($e$$,$f$$+Math.floor(.25*$k$$));if($p$$==-$m$$)return new mxPoint($e$$+
$g$$,$f$$+Math.floor(.75*$k$$));if($p$$==-$r$$)return new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+$k$$);if($p$$==-$q$$+$m$$)return new mxPoint($e$$,$f$$+Math.floor(.75*$k$$));$p$$<$m$$&&$p$$>-$m$$?($b$$=new mxPoint($e$$+$g$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$p$$>$m$$&&$p$$<$r$$?($b$$=new mxPoint($e$$,$f$$-Math.floor(.25*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$))):$p$$>$r$$&&$p$$<$q$$-$m$$?($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*$k$$)),
$u$$=new mxPoint($e$$+$g$$,$f$$-Math.floor(.25*$k$$))):$p$$>$q$$-$m$$&&$p$$<=$q$$||$p$$<-$q$$+$m$$&&$p$$>=-$q$$?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$,$f$$+$k$$)):$p$$<-$m$$&&$p$$>-$r$$?($b$$=new mxPoint($e$$+Math.floor(1.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$,$f$$+Math.floor(1.25*$k$$))):$p$$<-$r$$&&$p$$>-$q$$+$m$$&&($b$$=new mxPoint($e$$-Math.floor(.5*$g$$),$f$$+Math.floor(.5*$k$$)),$u$$=new mxPoint($e$$+$g$$,$f$$+Math.floor(1.25*$k$$)))}else{$m$$=Math.atan2($k$$/2,
$g$$/4);if($p$$==$m$$)return new mxPoint($e$$+Math.floor(.75*$g$$),$f$$);if($p$$==$q$$-$m$$)return new mxPoint($e$$+Math.floor(.25*$g$$),$f$$);if($p$$==$q$$||$p$$==-$q$$)return new mxPoint($e$$,$f$$+Math.floor(.5*$k$$));if(0==$p$$)return new mxPoint($e$$+$g$$,$f$$+Math.floor(.5*$k$$));if($p$$==-$m$$)return new mxPoint($e$$+Math.floor(.75*$g$$),$f$$+$k$$);if($p$$==-$q$$+$m$$)return new mxPoint($e$$+Math.floor(.25*$g$$),$f$$+$k$$);0<$p$$&&$p$$<$m$$?($b$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$-Math.floor(.5*
$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$+$k$$)):$p$$>$m$$&&$p$$<$q$$-$m$$?($b$$=new mxPoint($e$$,$f$$),$u$$=new mxPoint($e$$+$g$$,$f$$)):$p$$>$q$$-$m$$&&$p$$<$q$$?($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$+$k$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$-Math.floor(.5*$k$$))):0>$p$$&&$p$$>-$m$$?($b$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$)),$u$$=new mxPoint($e$$+Math.floor(1.25*$g$$),$f$$)):$p$$<-$m$$&&$p$$>-$q$$+$m$$?($b$$=new mxPoint($e$$,$f$$+$k$$),
$u$$=new mxPoint($e$$+$g$$,$f$$+$k$$)):$p$$<-$q$$+$m$$&&$p$$>-$q$$&&($b$$=new mxPoint($e$$-Math.floor(.25*$g$$),$f$$),$u$$=new mxPoint($e$$+Math.floor(.5*$g$$),$f$$+Math.floor(1.5*$k$$)))}$c$$=mxUtils.intersection($l$$,$a$$,$c$$.x,$c$$.y,$b$$.x,$b$$.y,$u$$.x,$u$$.y)}return null==$c$$?new mxPoint($l$$,$a$$):$c$$}};
function mxPrintPreview($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){this.graph=$a$$;this.scale=null!=$b$$?$b$$:1/$a$$.pageScale;this.border=null!=$d$$?$d$$:0;this.pageFormat=mxRectangle.fromRectangle(null!=$c$$?$c$$:$a$$.pageFormat);this.title=null!=$k$$?$k$$:"Printer-friendly version";this.x0=null!=$e$$?$e$$:0;this.y0=null!=$f$$?$f$$:0;this.borderColor=$g$$;this.pageSelector=null!=$l$$?$l$$:!0}mxPrintPreview.prototype.graph=null;mxPrintPreview.prototype.pageFormat=null;
mxPrintPreview.prototype.scale=null;mxPrintPreview.prototype.border=0;mxPrintPreview.prototype.marginTop=0;mxPrintPreview.prototype.marginBottom=0;mxPrintPreview.prototype.x0=0;mxPrintPreview.prototype.y0=0;mxPrintPreview.prototype.autoOrigin=!0;mxPrintPreview.prototype.printOverlays=!1;mxPrintPreview.prototype.printControls=!1;mxPrintPreview.prototype.printBackgroundImage=!1;mxPrintPreview.prototype.backgroundColor="#ffffff";mxPrintPreview.prototype.borderColor=null;
mxPrintPreview.prototype.title=null;mxPrintPreview.prototype.pageSelector=null;mxPrintPreview.prototype.wnd=null;mxPrintPreview.prototype.targetWindow=null;mxPrintPreview.prototype.pageCount=0;mxPrintPreview.prototype.clipping=!0;mxPrintPreview.prototype.getWindow=function $mxPrintPreview$$getWindow$(){return this.wnd};
mxPrintPreview.prototype.getDoctype=function $mxPrintPreview$$getDoctype$(){var $a$$="";5==document.documentMode?$a$$='<meta http-equiv="X-UA-Compatible" content="IE=5">':8==document.documentMode?$a$$='<meta http-equiv="X-UA-Compatible" content="IE=8">':8<document.documentMode&&($a$$='\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--\x3e');return $a$$};
mxPrintPreview.prototype.appendGraph=function $mxPrintPreview$$appendGraph$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.graph=$a$$;this.scale=null!=$b$$?$b$$:1/$a$$.pageScale;this.x0=$c$$;this.y0=$d$$;this.open(null,null,$e$$,$f$$)};
mxPrintPreview.prototype.open=function $mxPrintPreview$$open$($a$jscomp$1$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$jscomp$0$$){var $e$$=this.graph.cellRenderer.initializeOverlay,$f$$=null;try{this.printOverlays&&(this.graph.cellRenderer.initializeOverlay=function $this$graph$cellRenderer$initializeOverlay$($a$$,$b$$){$b$$.init($a$$.view.getDrawPane())});this.printControls&&(this.graph.cellRenderer.initControl=function $this$graph$cellRenderer$initControl$($a$$,$b$$,$c$$,$d$$){$b$$.dialect=$a$$.view.graph.dialect;
$b$$.init($a$$.view.getDrawPane())});this.wnd=null!=$b$jscomp$0$$?$b$jscomp$0$$:this.wnd;var $g$$=!1;null==this.wnd&&($g$$=!0,this.wnd=window.open());var $k$$=this.wnd.document;if($g$$){var $l$$=this.getDoctype();null!=$l$$&&0<$l$$.length&&$k$$.writeln($l$$);mxClient.IS_VML?$k$$.writeln('<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">'):("CSS1Compat"===document.compatMode&&$k$$.writeln("<!DOCTYPE html>"),$k$$.writeln("<html>"));$k$$.writeln("<head>");
this.writeHead($k$$,$a$jscomp$1$$);$k$$.writeln("</head>");$k$$.writeln('<body class="mxPage">')}var $m$$=this.graph.getGraphBounds().clone(),$n$$=this.graph.getView().getScale(),$p$$=$n$$/this.scale,$q$$=this.graph.getView().getTranslate();this.autoOrigin||(this.x0-=$q$$.x*this.scale,this.y0-=$q$$.y*this.scale,$m$$.width+=$m$$.x,$m$$.height+=$m$$.y,$m$$.x=0,this.border=$m$$.y=0);var $r$$=this.pageFormat.width-2*this.border,$t$$=this.pageFormat.height-2*this.border;this.pageFormat.height+=this.marginTop+
this.marginBottom;$m$$.width/=$p$$;$m$$.height/=$p$$;var $u$$=Math.max(1,Math.ceil(($m$$.width+this.x0)/$r$$)),$y$$=Math.max(1,Math.ceil(($m$$.height+this.y0)/$t$$));this.pageCount=$u$$*$y$$;var $x$$=mxUtils.bind(this,function(){if(this.pageSelector&&(1<$y$$||1<$u$$)){var $a$jscomp$0$$=this.createPageSelector($y$$,$u$$);$k$$.body.appendChild($a$jscomp$0$$);if(mxClient.IS_IE&&null==$k$$.documentMode||5==$k$$.documentMode||8==$k$$.documentMode||7==$k$$.documentMode){$a$jscomp$0$$.style.position="absolute";
var $b$$=function $$b$$$(){$a$jscomp$0$$.style.top=($k$$.body.scrollTop||$k$$.documentElement.scrollTop)+10+"px"};mxEvent.addListener(this.wnd,"scroll",function($a$$){$b$$()});mxEvent.addListener(this.wnd,"resize",function($a$$){$b$$()})}}}),$A$$=mxUtils.bind(this,function($a$$,$b$$){null!=this.borderColor&&($a$$.style.borderColor=this.borderColor,$a$$.style.borderStyle="solid",$a$$.style.borderWidth="1px");$a$$.style.background=this.backgroundColor;if($c$jscomp$0$$||$b$$)$a$$.style.pageBreakAfter=
"always";if($g$$&&(mxClient.IS_IE||11<=document.documentMode||mxClient.IS_EDGE))$k$$.writeln($a$$.outerHTML),$a$$.parentNode.removeChild($a$$);else if(mxClient.IS_IE||11<=document.documentMode||mxClient.IS_EDGE){var $d$$=$k$$.createElement("div");$d$$.innerHTML=$a$$.outerHTML;$d$$=$d$$.getElementsByTagName("div")[0];$k$$.body.appendChild($d$$);$a$$.parentNode.removeChild($a$$)}else $a$$.parentNode.removeChild($a$$),$k$$.body.appendChild($a$$);($c$jscomp$0$$||$b$$)&&this.addPageBreak($k$$)}),$z$$=
this.getCoverPages(this.pageFormat.width,this.pageFormat.height);if(null!=$z$$)for(var $v$$=0;$v$$<$z$$.length;$v$$++)$A$$($z$$[$v$$],!0);for(var $B$$=this.getAppendices(this.pageFormat.width,this.pageFormat.height),$v$$=0;$v$$<$y$$;$v$$++){var $C$$=$v$$*$t$$/this.scale-this.y0/this.scale+($m$$.y-$q$$.y*$n$$)/$n$$;for($a$jscomp$1$$=0;$a$jscomp$1$$<$u$$;$a$jscomp$1$$++){if(null==this.wnd)return null;var $E$$=$a$jscomp$1$$*$r$$/this.scale-this.x0/this.scale+($m$$.x-$q$$.x*$n$$)/$n$$,$F$$=$v$$*$u$$+
$a$jscomp$1$$+1,$I$$=new mxRectangle($E$$,$C$$,$r$$,$t$$),$f$$=this.renderPage(this.pageFormat.width,this.pageFormat.height,0,0,mxUtils.bind(this,function($a$$){this.addGraphFragment(-$E$$,-$C$$,this.scale,$F$$,$a$$,$I$$);this.printBackgroundImage&&this.insertBackgroundImage($a$$,-$E$$,-$C$$)}),$F$$);$f$$.setAttribute("id","mxPage-"+$F$$);$A$$($f$$,null!=$B$$||$v$$<$y$$-1||$a$jscomp$1$$<$u$$-1)}}if(null!=$B$$)for($v$$=0;$v$$<$B$$.length;$v$$++)$A$$($B$$[$v$$],$v$$<$B$$.length-1);$g$$&&!$d$jscomp$0$$&&
(this.closeDocument(),$x$$());this.wnd.focus()}catch($D$$){null!=$f$$&&null!=$f$$.parentNode&&$f$$.parentNode.removeChild($f$$)}finally{this.graph.cellRenderer.initializeOverlay=$e$$}return this.wnd};mxPrintPreview.prototype.addPageBreak=function $mxPrintPreview$$addPageBreak$($a$$){var $b$$=$a$$.createElement("hr");$b$$.className="mxPageBreak";$a$$.body.appendChild($b$$)};
mxPrintPreview.prototype.closeDocument=function $mxPrintPreview$$closeDocument$(){try{if(null!=this.wnd&&null!=this.wnd.document){var $a$$=this.wnd.document;this.writePostfix($a$$);$a$$.writeln("</body>");$a$$.writeln("</html>");$a$$.close();mxEvent.release($a$$.body)}}catch($b$$){}};
mxPrintPreview.prototype.writeHead=function $mxPrintPreview$$writeHead$($a$$,$b$$){null!=this.title&&$a$$.writeln("<title>"+this.title+"</title>");mxClient.IS_VML&&$a$$.writeln('<style type="text/css">v\\:*{behavior:url(#default#VML)}o\\:*{behavior:url(#default#VML)}</style>');mxClient.link("stylesheet",mxClient.basePath+"/css/common.css",$a$$);$a$$.writeln('<style type="text/css">');$a$$.writeln("@media print {");$a$$.writeln("  * { -webkit-print-color-adjust: exact; }");$a$$.writeln("  table.mxPageSelector { display: none; }");
$a$$.writeln("  hr.mxPageBreak { display: none; }");$a$$.writeln("}");$a$$.writeln("@media screen {");$a$$.writeln("  table.mxPageSelector { position: fixed; right: 10px; top: 10px;font-family: Arial; font-size:10pt; border: solid 1px darkgray;background: white; border-collapse:collapse; }");$a$$.writeln("  table.mxPageSelector td { border: solid 1px gray; padding:4px; }");$a$$.writeln("  body.mxPage { background: gray; }");$a$$.writeln("}");null!=$b$$&&$a$$.writeln($b$$);$a$$.writeln("</style>")};
mxPrintPreview.prototype.writePostfix=function $mxPrintPreview$$writePostfix$($a$$){};
mxPrintPreview.prototype.createPageSelector=function $mxPrintPreview$$createPageSelector$($a$$,$b$$){var $c$$=this.wnd.document,$d$$=$c$$.createElement("table");$d$$.className="mxPageSelector";$d$$.setAttribute("border","0");for(var $e$$=$c$$.createElement("tbody"),$f$$=0;$f$$<$a$$;$f$$++){for(var $g$$=$c$$.createElement("tr"),$k$$=0;$k$$<$b$$;$k$$++){var $l$$=$f$$*$b$$+$k$$+1,$m$$=$c$$.createElement("td"),$n$$=$c$$.createElement("a");$n$$.setAttribute("href","#mxPage-"+$l$$);!mxClient.IS_NS||mxClient.IS_SF||
mxClient.IS_GC||$n$$.setAttribute("onclick","var page = document.getElementById('mxPage-"+$l$$+"');page.scrollIntoView(true);event.preventDefault();");mxUtils.write($n$$,$l$$,$c$$);$m$$.appendChild($n$$);$g$$.appendChild($m$$)}$e$$.appendChild($g$$)}$d$$.appendChild($e$$);return $d$$};
mxPrintPreview.prototype.renderPage=function $mxPrintPreview$$renderPage$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$f$$=this.wnd.document;var $g$$=document.createElement("div"),$k$$=null;try{if(0!=$c$$||0!=$d$$){$g$$.style.position="relative";$g$$.style.width=$a$$+"px";$g$$.style.height=$b$$+"px";$g$$.style.pageBreakInside="avoid";var $l$$=document.createElement("div");$l$$.style.position="relative";$l$$.style.top=this.border+"px";$l$$.style.left=this.border+"px";$l$$.style.width=$a$$-2*this.border+"px";$l$$.style.height=
$b$$-2*this.border+"px";$l$$.style.overflow="hidden";var $m$$=document.createElement("div");$m$$.style.position="relative";$m$$.style.marginLeft=$c$$+"px";$m$$.style.marginTop=$d$$+"px";8==$f$$.documentMode&&($l$$.style.position="absolute",$m$$.style.position="absolute");10==$f$$.documentMode&&($m$$.style.width="100%",$m$$.style.height="100%");$l$$.appendChild($m$$);$g$$.appendChild($l$$);document.body.appendChild($g$$);$k$$=$m$$}else $g$$.style.width=$a$$+"px",$g$$.style.height=$b$$+"px",$g$$.style.overflow=
"hidden",$g$$.style.pageBreakInside="avoid",8==$f$$.documentMode&&($g$$.style.position="relative"),$l$$=document.createElement("div"),$l$$.style.width=$a$$-2*this.border+"px",$l$$.style.height=$b$$-2*this.border+"px",$l$$.style.overflow="hidden",!mxClient.IS_IE||null!=$f$$.documentMode&&5!=$f$$.documentMode&&8!=$f$$.documentMode&&7!=$f$$.documentMode?($l$$.style.top=this.border+"px",$l$$.style.left=this.border+"px"):($l$$.style.marginTop=this.border+"px",$l$$.style.marginLeft=this.border+"px"),this.graph.dialect==
mxConstants.DIALECT_VML&&($l$$.style.position="absolute"),$g$$.appendChild($l$$),document.body.appendChild($g$$),$k$$=$l$$}catch($n$$){throw $g$$.parentNode.removeChild($g$$),$n$$;}$e$$($k$$);return $g$$};mxPrintPreview.prototype.getRoot=function $mxPrintPreview$$getRoot$(){var $a$$=this.graph.view.currentRoot;null==$a$$&&($a$$=this.graph.getModel().getRoot());return $a$$};
mxPrintPreview.prototype.addGraphFragment=function $mxPrintPreview$$addGraphFragment$($a$jscomp$0$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$jscomp$0$$,$e$$,$f$$){var $g$$=this.graph.getView();$d$jscomp$0$$=this.graph.container;this.graph.container=$e$$;var $k$$=$g$$.getCanvas(),$l$$=$g$$.getBackgroundPane(),$m$$=$g$$.getDrawPane(),$n$$=$g$$.getOverlayPane();if(this.graph.dialect==mxConstants.DIALECT_SVG){if($g$$.createSvg(),!mxClient.NO_FO){var $p$$=$g$$.getDrawPane().parentNode;$p$$.getAttribute("transform");
$p$$.setAttribute("transformOrigin","0 0");$p$$.setAttribute("transform","scale("+$c$jscomp$0$$+","+$c$jscomp$0$$+")translate("+$a$jscomp$0$$+","+$b$jscomp$0$$+")");$c$jscomp$0$$=1;$b$jscomp$0$$=$a$jscomp$0$$=0}}else this.graph.dialect==mxConstants.DIALECT_VML?$g$$.createVml():$g$$.createHtml();$p$$=$g$$.isEventsEnabled();$g$$.setEventsEnabled(!1);var $q$$=this.graph.isEnabled();this.graph.setEnabled(!1);var $r$$=$g$$.getTranslate();$g$$.translate=new mxPoint($a$jscomp$0$$,$b$jscomp$0$$);var $t$$=
this.graph.cellRenderer.redraw,$u$$=$g$$.states;$a$jscomp$0$$=$g$$.scale;if(this.clipping){var $y$$=new mxRectangle(($f$$.x+$r$$.x)*$a$jscomp$0$$,($f$$.y+$r$$.y)*$a$jscomp$0$$,$f$$.width*$a$jscomp$0$$/$c$jscomp$0$$,$f$$.height*$a$jscomp$0$$/$c$jscomp$0$$);this.graph.cellRenderer.redraw=function $this$graph$cellRenderer$redraw$($a$$,$b$$,$c$$){if(null!=$a$$){var $d$$=$u$$.get($a$$.cell);null!=$d$$&&($d$$=$g$$.getBoundingBox($d$$,!1),null==$d$$||mxUtils.intersects($y$$,$d$$))}$t$$.apply(this,arguments)}}$a$jscomp$0$$=
null;try{var $x$$=[this.getRoot()];$a$jscomp$0$$=new mxTemporaryCellStates($g$$,$c$jscomp$0$$,$x$$,null,mxUtils.bind(this,function($a$$){return this.getLinkForCellState($a$$)}))}finally{if(mxClient.IS_IE)$g$$.overlayPane.innerHTML="",$g$$.canvas.style.overflow="hidden",$g$$.canvas.style.position="relative",$g$$.canvas.style.top=this.marginTop+"px",$g$$.canvas.style.width=$f$$.width+"px",$g$$.canvas.style.height=$f$$.height+"px";else for($c$jscomp$0$$=$e$$.firstChild;null!=$c$jscomp$0$$;)$x$$=$c$jscomp$0$$.nextSibling,
$b$jscomp$0$$=$c$jscomp$0$$.nodeName.toLowerCase(),"svg"==$b$jscomp$0$$?($c$jscomp$0$$.style.overflow="hidden",$c$jscomp$0$$.style.position="relative",$c$jscomp$0$$.style.top=this.marginTop+"px",$c$jscomp$0$$.setAttribute("width",$f$$.width),$c$jscomp$0$$.setAttribute("height",$f$$.height),$c$jscomp$0$$.style.width="",$c$jscomp$0$$.style.height=""):"default"!=$c$jscomp$0$$.style.cursor&&"div"!=$b$jscomp$0$$&&$c$jscomp$0$$.parentNode.removeChild($c$jscomp$0$$),$c$jscomp$0$$=$x$$;this.printBackgroundImage&&
($e$$=$e$$.getElementsByTagName("svg"),0<$e$$.length&&($e$$[0].style.position="absolute"));$g$$.overlayPane.parentNode.removeChild($g$$.overlayPane);this.graph.setEnabled($q$$);this.graph.container=$d$jscomp$0$$;this.graph.cellRenderer.redraw=$t$$;$g$$.canvas=$k$$;$g$$.backgroundPane=$l$$;$g$$.drawPane=$m$$;$g$$.overlayPane=$n$$;$g$$.translate=$r$$;$a$jscomp$0$$.destroy();$g$$.setEventsEnabled($p$$)}};mxPrintPreview.prototype.getLinkForCellState=function $mxPrintPreview$$getLinkForCellState$($a$$){return this.graph.getLinkForCell($a$$.cell)};
mxPrintPreview.prototype.insertBackgroundImage=function $mxPrintPreview$$insertBackgroundImage$($a$$,$b$$,$c$$){var $d$$=this.graph.backgroundImage;if(null!=$d$$){var $e$$=document.createElement("img");$e$$.style.position="absolute";$e$$.style.marginLeft=Math.round($b$$*this.scale)+"px";$e$$.style.marginTop=Math.round($c$$*this.scale)+"px";$e$$.setAttribute("width",Math.round(this.scale*$d$$.width));$e$$.setAttribute("height",Math.round(this.scale*$d$$.height));$e$$.src=$d$$.src;$a$$.insertBefore($e$$,
$a$$.firstChild)}};mxPrintPreview.prototype.getCoverPages=function $mxPrintPreview$$getCoverPages$(){return null};mxPrintPreview.prototype.getAppendices=function $mxPrintPreview$$getAppendices$(){return null};mxPrintPreview.prototype.print=function $mxPrintPreview$$print$($a$$){$a$$=this.open($a$$);null!=$a$$&&$a$$.print()};mxPrintPreview.prototype.close=function $mxPrintPreview$$close$(){null!=this.wnd&&(this.wnd.close(),this.wnd=null)};
function mxStylesheet(){this.styles={};this.putDefaultVertexStyle(this.createDefaultVertexStyle());this.putDefaultEdgeStyle(this.createDefaultEdgeStyle())}
mxStylesheet.prototype.createDefaultVertexStyle=function $mxStylesheet$$createDefaultVertexStyle$(){var $a$$={};$a$$[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_RECTANGLE;$a$$[mxConstants.STYLE_PERIMETER]=mxPerimeter.RectanglePerimeter;$a$$[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;$a$$[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER;$a$$[mxConstants.STYLE_FILLCOLOR]="#C3D9FF";$a$$[mxConstants.STYLE_STROKECOLOR]="#6482B9";$a$$[mxConstants.STYLE_FONTCOLOR]="#774400";return $a$$};
mxStylesheet.prototype.createDefaultEdgeStyle=function $mxStylesheet$$createDefaultEdgeStyle$(){var $a$$={};$a$$[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_CONNECTOR;$a$$[mxConstants.STYLE_ENDARROW]=mxConstants.ARROW_CLASSIC;$a$$[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE;$a$$[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER;$a$$[mxConstants.STYLE_STROKECOLOR]="#6482B9";$a$$[mxConstants.STYLE_FONTCOLOR]="#446299";return $a$$};
mxStylesheet.prototype.putDefaultVertexStyle=function $mxStylesheet$$putDefaultVertexStyle$($a$$){this.putCellStyle("defaultVertex",$a$$)};mxStylesheet.prototype.putDefaultEdgeStyle=function $mxStylesheet$$putDefaultEdgeStyle$($a$$){this.putCellStyle("defaultEdge",$a$$)};mxStylesheet.prototype.getDefaultVertexStyle=function $mxStylesheet$$getDefaultVertexStyle$(){return this.styles.defaultVertex};mxStylesheet.prototype.getDefaultEdgeStyle=function $mxStylesheet$$getDefaultEdgeStyle$(){return this.styles.defaultEdge};
mxStylesheet.prototype.putCellStyle=function $mxStylesheet$$putCellStyle$($a$$,$b$$){this.styles[$a$$]=$b$$};
mxStylesheet.prototype.getCellStyle=function $mxStylesheet$$getCellStyle$($a$$,$b$$){var $c$$=$b$$;if(null!=$a$$&&0<$a$$.length)for(var $d$$=$a$$.split(";"),$c$$=null!=$c$$&&";"!=$a$$.charAt(0)?mxUtils.clone($c$$):{},$e$$=0;$e$$<$d$$.length;$e$$++){var $f$$=$d$$[$e$$],$g$$=$f$$.indexOf("=");if(0<=$g$$){var $k$$=$f$$.substring(0,$g$$),$f$$=$f$$.substring($g$$+1);$f$$==mxConstants.NONE?delete $c$$[$k$$]:mxUtils.isNumeric($f$$)?$c$$[$k$$]=parseFloat($f$$):$c$$[$k$$]=$f$$}else if($f$$=this.styles[$f$$],
null!=$f$$)for($k$$ in $f$$)$c$$[$k$$]=$f$$[$k$$]}return $c$$};function mxCellState($a$$,$b$$,$c$$){this.view=$a$$;this.cell=$b$$;this.style=null!=$c$$?$c$$:{};this.origin=new mxPoint;this.absoluteOffset=new mxPoint}mxCellState.prototype=new mxRectangle;mxCellState.prototype.constructor=mxCellState;mxCellState.prototype.view=null;mxCellState.prototype.cell=null;mxCellState.prototype.style=null;mxCellState.prototype.invalidStyle=!1;mxCellState.prototype.invalid=!0;mxCellState.prototype.origin=null;
mxCellState.prototype.absolutePoints=null;mxCellState.prototype.absoluteOffset=null;mxCellState.prototype.visibleSourceState=null;mxCellState.prototype.visibleTargetState=null;mxCellState.prototype.terminalDistance=0;mxCellState.prototype.length=0;mxCellState.prototype.segments=null;mxCellState.prototype.shape=null;mxCellState.prototype.text=null;mxCellState.prototype.unscaledWidth=null;
mxCellState.prototype.getPerimeterBounds=function $mxCellState$$getPerimeterBounds$($a$$,$b$$){$a$$=$a$$||0;$b$$=null!=$b$$?$b$$:new mxRectangle(this.x,this.y,this.width,this.height);if(null!=this.shape&&null!=this.shape.stencil&&"fixed"==this.shape.stencil.aspect){var $c$$=this.shape.stencil.computeAspect(this.style,$b$$.x,$b$$.y,$b$$.width,$b$$.height);$b$$.x=$c$$.x;$b$$.y=$c$$.y;$b$$.width=this.shape.stencil.w0*$c$$.width;$b$$.height=this.shape.stencil.h0*$c$$.height}0!=$a$$&&$b$$.grow($a$$);return $b$$};
mxCellState.prototype.setAbsoluteTerminalPoint=function $mxCellState$$setAbsoluteTerminalPoint$($a$$,$b$$){$b$$?(null==this.absolutePoints&&(this.absolutePoints=[]),0==this.absolutePoints.length?this.absolutePoints.push($a$$):this.absolutePoints[0]=$a$$):null==this.absolutePoints?(this.absolutePoints=[],this.absolutePoints.push(null),this.absolutePoints.push($a$$)):1==this.absolutePoints.length?this.absolutePoints.push($a$$):this.absolutePoints[this.absolutePoints.length-1]=$a$$};
mxCellState.prototype.setCursor=function $mxCellState$$setCursor$($a$$){null!=this.shape&&this.shape.setCursor($a$$);null!=this.text&&this.text.setCursor($a$$)};mxCellState.prototype.getVisibleTerminal=function $mxCellState$$getVisibleTerminal$($a$$){$a$$=this.getVisibleTerminalState($a$$);return null!=$a$$?$a$$.cell:null};mxCellState.prototype.getVisibleTerminalState=function $mxCellState$$getVisibleTerminalState$($a$$){return $a$$?this.visibleSourceState:this.visibleTargetState};
mxCellState.prototype.setVisibleTerminalState=function $mxCellState$$setVisibleTerminalState$($a$$,$b$$){$b$$?this.visibleSourceState=$a$$:this.visibleTargetState=$a$$};mxCellState.prototype.getCellBounds=function $mxCellState$$getCellBounds$(){return this.cellBounds};mxCellState.prototype.getPaintBounds=function $mxCellState$$getPaintBounds$(){return this.paintBounds};
mxCellState.prototype.updateCachedBounds=function $mxCellState$$updateCachedBounds$(){var $a$$=this.view.translate,$b$$=this.view.scale;this.cellBounds=new mxRectangle(this.x/$b$$-$a$$.x,this.y/$b$$-$a$$.y,this.width/$b$$,this.height/$b$$);this.paintBounds=mxRectangle.fromRectangle(this.cellBounds);null!=this.shape&&this.shape.isPaintBoundsInverted()&&this.paintBounds.rotate90()};
mxCellState.prototype.setState=function $mxCellState$$setState$($a$$){this.view=$a$$.view;this.cell=$a$$.cell;this.style=$a$$.style;this.absolutePoints=$a$$.absolutePoints;this.origin=$a$$.origin;this.absoluteOffset=$a$$.absoluteOffset;this.boundingBox=$a$$.boundingBox;this.terminalDistance=$a$$.terminalDistance;this.segments=$a$$.segments;this.length=$a$$.length;this.x=$a$$.x;this.y=$a$$.y;this.width=$a$$.width;this.height=$a$$.height;this.unscaledWidth=$a$$.unscaledWidth};
mxCellState.prototype.clone=function $mxCellState$$clone$(){var $a$$=new mxCellState(this.view,this.cell,this.style);if(null!=this.absolutePoints){$a$$.absolutePoints=[];for(var $b$$=0;$b$$<this.absolutePoints.length;$b$$++)$a$$.absolutePoints[$b$$]=this.absolutePoints[$b$$].clone()}null!=this.origin&&($a$$.origin=this.origin.clone());null!=this.absoluteOffset&&($a$$.absoluteOffset=this.absoluteOffset.clone());null!=this.boundingBox&&($a$$.boundingBox=this.boundingBox.clone());$a$$.terminalDistance=
this.terminalDistance;$a$$.segments=this.segments;$a$$.length=this.length;$a$$.x=this.x;$a$$.y=this.y;$a$$.width=this.width;$a$$.height=this.height;$a$$.unscaledWidth=this.unscaledWidth;return $a$$};mxCellState.prototype.destroy=function $mxCellState$$destroy$(){this.view.graph.cellRenderer.destroy(this)};function mxGraphSelectionModel($a$$){this.graph=$a$$;this.cells=[]}mxGraphSelectionModel.prototype=new mxEventSource;mxGraphSelectionModel.prototype.constructor=mxGraphSelectionModel;
mxGraphSelectionModel.prototype.doneResource="none"!=mxClient.language?"done":"";mxGraphSelectionModel.prototype.updatingSelectionResource="none"!=mxClient.language?"updatingSelection":"";mxGraphSelectionModel.prototype.graph=null;mxGraphSelectionModel.prototype.singleSelection=!1;mxGraphSelectionModel.prototype.isSingleSelection=function $mxGraphSelectionModel$$isSingleSelection$(){return this.singleSelection};
mxGraphSelectionModel.prototype.setSingleSelection=function $mxGraphSelectionModel$$setSingleSelection$($a$$){this.singleSelection=$a$$};mxGraphSelectionModel.prototype.isSelected=function $mxGraphSelectionModel$$isSelected$($a$$){return null!=$a$$?0<=mxUtils.indexOf(this.cells,$a$$):!1};mxGraphSelectionModel.prototype.isEmpty=function $mxGraphSelectionModel$$isEmpty$(){return 0==this.cells.length};
mxGraphSelectionModel.prototype.clear=function $mxGraphSelectionModel$$clear$(){this.changeSelection(null,this.cells)};mxGraphSelectionModel.prototype.setCell=function $mxGraphSelectionModel$$setCell$($a$$){null!=$a$$&&this.setCells([$a$$])};
mxGraphSelectionModel.prototype.setCells=function $mxGraphSelectionModel$$setCells$($a$$){if(null!=$a$$){this.singleSelection&&($a$$=[this.getFirstSelectableCell($a$$)]);for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)this.graph.isCellSelectable($a$$[$c$$])&&$b$$.push($a$$[$c$$]);this.changeSelection($b$$,this.cells)}};
mxGraphSelectionModel.prototype.getFirstSelectableCell=function $mxGraphSelectionModel$$getFirstSelectableCell$($a$$){if(null!=$a$$)for(var $b$$=0;$b$$<$a$$.length;$b$$++)if(this.graph.isCellSelectable($a$$[$b$$]))return $a$$[$b$$];return null};mxGraphSelectionModel.prototype.addCell=function $mxGraphSelectionModel$$addCell$($a$$){null!=$a$$&&this.addCells([$a$$])};
mxGraphSelectionModel.prototype.addCells=function $mxGraphSelectionModel$$addCells$($a$$){if(null!=$a$$){var $b$$=null;this.singleSelection&&($b$$=this.cells,$a$$=[this.getFirstSelectableCell($a$$)]);for(var $c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)!this.isSelected($a$$[$d$$])&&this.graph.isCellSelectable($a$$[$d$$])&&$c$$.push($a$$[$d$$]);this.changeSelection($c$$,$b$$)}};mxGraphSelectionModel.prototype.removeCell=function $mxGraphSelectionModel$$removeCell$($a$$){null!=$a$$&&this.removeCells([$a$$])};
mxGraphSelectionModel.prototype.removeCells=function $mxGraphSelectionModel$$removeCells$($a$$){if(null!=$a$$){for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)this.isSelected($a$$[$c$$])&&$b$$.push($a$$[$c$$]);this.changeSelection(null,$b$$)}};
mxGraphSelectionModel.prototype.changeSelection=function $mxGraphSelectionModel$$changeSelection$($a$$,$b$$){if(null!=$a$$&&0<$a$$.length&&null!=$a$$[0]||null!=$b$$&&0<$b$$.length&&null!=$b$$[0]){var $c$$=new mxSelectionChange(this,$a$$,$b$$);$c$$.execute();var $d$$=new mxUndoableEdit(this,!1);$d$$.add($c$$);this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$d$$))}};mxGraphSelectionModel.prototype.cellAdded=function $mxGraphSelectionModel$$cellAdded$($a$$){null==$a$$||this.isSelected($a$$)||this.cells.push($a$$)};
mxGraphSelectionModel.prototype.cellRemoved=function $mxGraphSelectionModel$$cellRemoved$($a$$){null!=$a$$&&($a$$=mxUtils.indexOf(this.cells,$a$$),0<=$a$$&&this.cells.splice($a$$,1))};function mxSelectionChange($a$$,$b$$,$c$$){this.selectionModel=$a$$;this.added=null!=$b$$?$b$$.slice():null;this.removed=null!=$c$$?$c$$.slice():null}
mxSelectionChange.prototype.execute=function $mxSelectionChange$$execute$(){var $a$$=mxLog.enter("mxSelectionChange.execute");window.status=mxResources.get(this.selectionModel.updatingSelectionResource)||this.selectionModel.updatingSelectionResource;if(null!=this.removed)for(var $b$$=0;$b$$<this.removed.length;$b$$++)this.selectionModel.cellRemoved(this.removed[$b$$]);if(null!=this.added)for($b$$=0;$b$$<this.added.length;$b$$++)this.selectionModel.cellAdded(this.added[$b$$]);$b$$=this.added;this.added=
this.removed;this.removed=$b$$;window.status=mxResources.get(this.selectionModel.doneResource)||this.selectionModel.doneResource;mxLog.leave("mxSelectionChange.execute",$a$$);this.selectionModel.fireEvent(new mxEventObject(mxEvent.CHANGE,"added",this.added,"removed",this.removed))};
function mxCellEditor($a$jscomp$0$$){this.graph=$a$jscomp$0$$;this.zoomHandler=mxUtils.bind(this,function(){this.graph.isEditing()&&this.resize()});this.graph.view.addListener(mxEvent.SCALE,this.zoomHandler);this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.zoomHandler);this.changeHandler=mxUtils.bind(this,function($a$$){null!=this.editingCell&&null==this.graph.getView().getState(this.editingCell)&&this.stopEditing(!0)});this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)}
mxCellEditor.prototype.graph=null;mxCellEditor.prototype.textarea=null;mxCellEditor.prototype.editingCell=null;mxCellEditor.prototype.trigger=null;mxCellEditor.prototype.modified=!1;mxCellEditor.prototype.autoSize=!0;mxCellEditor.prototype.selectText=!0;mxCellEditor.prototype.emptyLabelText=mxClient.IS_FF?"<br>":"";mxCellEditor.prototype.escapeCancelsEditing=!0;mxCellEditor.prototype.textNode="";mxCellEditor.prototype.zIndex=5;mxCellEditor.prototype.minResize=new mxRectangle(0,20);
mxCellEditor.prototype.wordWrapPadding=mxClient.IS_QUIRKS?2:mxClient.IS_IE11?0:1;mxCellEditor.prototype.blurEnabled=!1;mxCellEditor.prototype.initialValue=null;mxCellEditor.prototype.init=function $mxCellEditor$$init$(){this.textarea=document.createElement("div");this.textarea.className="mxCellEditor mxPlainTextEditor";this.textarea.contentEditable=!0;mxClient.IS_GC&&(this.textarea.style.minHeight="1em");this.textarea.style.position=this.isLegacyEditor()?"absolute":"relative";this.installListeners(this.textarea)};
mxCellEditor.prototype.applyValue=function $mxCellEditor$$applyValue$($a$$,$b$$){this.graph.labelChanged($a$$.cell,$b$$,this.trigger)};mxCellEditor.prototype.getInitialValue=function $mxCellEditor$$getInitialValue$($a$$,$b$$){var $c$$=mxUtils.htmlEntities(this.graph.getEditingValue($a$$.cell,$b$$),!1);mxClient.IS_QUIRKS||8==document.documentMode||9==document.documentMode||10==document.documentMode||($c$$=mxUtils.replaceTrailingNewlines($c$$,"<div><br></div>"));return $c$$.replace(/\n/g,"<br>")};
mxCellEditor.prototype.getCurrentValue=function $mxCellEditor$$getCurrentValue$($a$$){return mxUtils.extractTextWithWhitespace(this.textarea.childNodes)};mxCellEditor.prototype.isCancelEditingKeyEvent=function $mxCellEditor$$isCancelEditingKeyEvent$($a$$){return this.escapeCancelsEditing||mxEvent.isShiftDown($a$$)||mxEvent.isControlDown($a$$)||mxEvent.isMetaDown($a$$)};
mxCellEditor.prototype.installListeners=function $mxCellEditor$$installListeners$($a$jscomp$0$$){mxEvent.addListener($a$jscomp$0$$,"dragstart",mxUtils.bind(this,function($a$$){this.graph.stopEditing(!1);mxEvent.consume($a$$)}));mxEvent.addListener($a$jscomp$0$$,"blur",mxUtils.bind(this,function($a$$){this.blurEnabled&&this.focusLost($a$$)}));mxEvent.addListener($a$jscomp$0$$,"keydown",mxUtils.bind(this,function($a$$){mxEvent.isConsumed($a$$)||(this.isStopEditingEvent($a$$)?(this.graph.stopEditing(!1),
mxEvent.consume($a$$)):27==$a$$.keyCode&&(this.graph.stopEditing(this.isCancelEditingKeyEvent($a$$)),mxEvent.consume($a$$)))}));var $b$jscomp$0$$=mxUtils.bind(this,function($b$$){null!=this.editingCell&&this.clearOnChange&&$a$jscomp$0$$.innerHTML==this.getEmptyLabelText()&&(!mxClient.IS_FF||8!=$b$$.keyCode&&46!=$b$$.keyCode)&&(this.clearOnChange=!1,$a$jscomp$0$$.innerHTML="")});mxEvent.addListener($a$jscomp$0$$,"keypress",$b$jscomp$0$$);mxEvent.addListener($a$jscomp$0$$,"paste",$b$jscomp$0$$);$b$jscomp$0$$=
mxUtils.bind(this,function($a$$){null!=this.editingCell&&(0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=0<this.textarea.innerHTML.length):this.clearOnChange=!1)});mxEvent.addListener($a$jscomp$0$$,mxClient.IS_IE11||mxClient.IS_IE?"keyup":"input",$b$jscomp$0$$);mxEvent.addListener($a$jscomp$0$$,"cut",$b$jscomp$0$$);mxEvent.addListener($a$jscomp$0$$,"paste",$b$jscomp$0$$);var $b$jscomp$0$$=mxClient.IS_IE11||mxClient.IS_IE?
"keydown":"input",$c$$=mxUtils.bind(this,function($a$$){null!=this.editingCell&&this.autoSize&&!mxEvent.isConsumed($a$$)&&(null!=this.resizeThread&&window.clearTimeout(this.resizeThread),this.resizeThread=window.setTimeout(mxUtils.bind(this,function(){this.resizeThread=null;this.resize()}),0))});mxEvent.addListener($a$jscomp$0$$,$b$jscomp$0$$,$c$$);9<=document.documentMode?(mxEvent.addListener($a$jscomp$0$$,"DOMNodeRemoved",$c$$),mxEvent.addListener($a$jscomp$0$$,"DOMNodeInserted",$c$$)):(mxEvent.addListener($a$jscomp$0$$,
"cut",$c$$),mxEvent.addListener($a$jscomp$0$$,"paste",$c$$))};mxCellEditor.prototype.isStopEditingEvent=function $mxCellEditor$$isStopEditingEvent$($a$$){return 113==$a$$.keyCode||this.graph.isEnterStopsCellEditing()&&13==$a$$.keyCode&&!mxEvent.isControlDown($a$$)&&!mxEvent.isShiftDown($a$$)};mxCellEditor.prototype.isEventSource=function $mxCellEditor$$isEventSource$($a$$){return mxEvent.getSource($a$$)==this.textarea};
mxCellEditor.prototype.resize=function $mxCellEditor$$resize$(){var $a$$=this.graph.getView().getState(this.editingCell);if(null==$a$$)this.stopEditing(!0);else if(null!=this.textarea){var $b$$=this.graph.getModel().isEdge($a$$.cell),$c$$=this.graph.getView().scale,$d$$=null;if(this.autoSize&&"fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]){var $e$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null),$d$$=null!=$a$$.text?$a$$.text.margin:null;null==$d$$&&($d$$=mxUtils.getAlignmentAsPoint(mxUtils.getValue($a$$.style,
mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE)));if($b$$)this.bounds=new mxRectangle($a$$.absoluteOffset.x,$a$$.absoluteOffset.y,0,0),null!=$e$$&&($e$$=(parseFloat($e$$)+2)*$c$$,this.bounds.width=$e$$,this.bounds.x+=$d$$.x*$e$$);else{var $b$$=mxRectangle.fromRectangle($a$$),$f$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),$g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,
mxConstants.ALIGN_MIDDLE),$b$$=null!=$a$$.shape&&$f$$==mxConstants.ALIGN_CENTER&&$g$$==mxConstants.ALIGN_MIDDLE?$a$$.shape.getLabelBounds($b$$):$b$$;null!=$e$$&&($b$$.width=parseFloat($e$$)*$c$$);if(!$a$$.view.graph.cellRenderer.legacySpacing||"width"!=$a$$.style[mxConstants.STYLE_OVERFLOW])var $f$$=parseInt($a$$.style[mxConstants.STYLE_SPACING]||2)*$c$$,$k$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_TOP]||0)+mxText.prototype.baseSpacingTop)*$c$$+$f$$,$l$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_RIGHT]||
0)+mxText.prototype.baseSpacingRight)*$c$$+$f$$,$m$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_BOTTOM]||0)+mxText.prototype.baseSpacingBottom)*$c$$+$f$$,$n$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_LEFT]||0)+mxText.prototype.baseSpacingLeft)*$c$$+$f$$,$f$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),$g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),$b$$=new mxRectangle($b$$.x+$n$$,$b$$.y+$k$$,
$b$$.width-($f$$==mxConstants.ALIGN_CENTER&&null==$e$$?$n$$+$l$$:0),$b$$.height-($g$$==mxConstants.ALIGN_MIDDLE?$k$$+$m$$:0));this.bounds=new mxRectangle($b$$.x+$a$$.absoluteOffset.x,$b$$.y+$a$$.absoluteOffset.y,$b$$.width,$b$$.height)}this.graph.isWrapping($a$$.cell)&&(2<=this.bounds.width||2<=this.bounds.height)&&this.textarea.innerHTML!=this.getEmptyLabelText()?(this.textarea.style.wordWrap=mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal",$e$$=Math.round(this.bounds.width/$c$$)+this.wordWrapPadding,
"relative"!=this.textarea.style.position?(this.textarea.style.width=$e$$+"px",this.textarea.scrollWidth>$e$$&&(this.textarea.style.width=this.textarea.scrollWidth+"px")):this.textarea.style.maxWidth=$e$$+"px"):(this.textarea.style.whiteSpace="nowrap",this.textarea.style.width="");8==document.documentMode&&(this.textarea.style.zoom="1",this.textarea.style.height="auto");$a$$=this.textarea.scrollWidth;$e$$=this.textarea.scrollHeight;8==document.documentMode?(this.textarea.style.left=Math.max(0,Math.ceil((this.bounds.x-
$d$$.x*(this.bounds.width-($a$$+1)*$c$$)+$a$$*($c$$-1)*0+2*($d$$.x+.5))/$c$$))+"px",this.textarea.style.top=Math.max(0,Math.ceil((this.bounds.y-$d$$.y*(this.bounds.height-($e$$+.5)*$c$$)+$e$$*($c$$-1)*0+1*Math.abs($d$$.y+.5))/$c$$))+"px",this.textarea.style.width=Math.round($a$$*$c$$)+"px",this.textarea.style.height=Math.round($e$$*$c$$)+"px"):mxClient.IS_QUIRKS?(this.textarea.style.left=Math.max(0,Math.ceil(this.bounds.x-$d$$.x*(this.bounds.width-($a$$+1)*$c$$)+$a$$*($c$$-1)*0+2*($d$$.x+.5)))+"px",
this.textarea.style.top=Math.max(0,Math.ceil(this.bounds.y-$d$$.y*(this.bounds.height-($e$$+.5)*$c$$)+$e$$*($c$$-1)*0+1*Math.abs($d$$.y+.5)))+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x-$d$$.x*(this.bounds.width-2))+1)+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y-$d$$.y*(this.bounds.height-4)+(-1==$d$$.y?3:0))+1)+"px")}else this.bounds=this.getEditorBounds($a$$),this.textarea.style.width=Math.round(this.bounds.width/$c$$)+"px",this.textarea.style.height=
Math.round(this.bounds.height/$c$$)+"px",8==document.documentMode||mxClient.IS_QUIRKS?(this.textarea.style.left=Math.round(this.bounds.x)+"px",this.textarea.style.top=Math.round(this.bounds.y)+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x+1))+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y+1))+"px"),this.graph.isWrapping($a$$.cell)&&(2<=this.bounds.width||2<=this.bounds.height)&&this.textarea.innerHTML!=this.getEmptyLabelText()?(this.textarea.style.wordWrap=
mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal","fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=Math.round(this.bounds.width/$c$$)+this.wordWrapPadding+"px")):(this.textarea.style.whiteSpace="nowrap","fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=""));mxClient.IS_VML?this.textarea.style.zoom=$c$$:(mxUtils.setPrefixedStyle(this.textarea.style,"transformOrigin","0px 0px"),mxUtils.setPrefixedStyle(this.textarea.style,"transform","scale("+
$c$$+","+$c$$+")"+(null==$d$$?"":" translate("+100*$d$$.x+"%,"+100*$d$$.y+"%)")))}};mxCellEditor.prototype.focusLost=function $mxCellEditor$$focusLost$(){this.stopEditing(!this.graph.isInvokesStopCellEditing())};mxCellEditor.prototype.getBackgroundColor=function $mxCellEditor$$getBackgroundColor$($a$$){return null};
mxCellEditor.prototype.isLegacyEditor=function $mxCellEditor$$isLegacyEditor$(){if(mxClient.IS_VML)return!0;var $a$$=!1;if(mxClient.IS_SVG){var $b$$=this.graph.view.getDrawPane().ownerSVGElement;null!=$b$$&&($a$$="absolute"==mxUtils.getCurrentStyle($b$$).position)}return!$a$$};
mxCellEditor.prototype.startEditing=function $mxCellEditor$$startEditing$($a$$,$b$$){this.stopEditing(!0);null==this.textarea&&this.init();null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.hideTooltip();var $c$$=this.graph.getView().getState($a$$);if(null!=$c$$){this.graph.getView();var $d$$=mxUtils.getValue($c$$.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE),$e$$=mxUtils.getValue($c$$.style,mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY),$f$$=mxUtils.getValue($c$$.style,
mxConstants.STYLE_FONTCOLOR,"black"),$g$$=mxUtils.getValue($c$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT),$k$$=(mxUtils.getValue($c$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,$l$$=(mxUtils.getValue($c$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC,$m$$=(mxUtils.getValue($c$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?
Math.round($d$$*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT;this.textarea.style.backgroundColor=this.getBackgroundColor($c$$);this.textarea.style.textDecoration=$m$$?"underline":"";this.textarea.style.fontWeight=$k$$?"bold":"normal";this.textarea.style.fontStyle=$l$$?"italic":"";this.textarea.style.fontSize=Math.round($d$$)+"px";this.textarea.style.zIndex=this.zIndex;this.textarea.style.fontFamily=$e$$;this.textarea.style.textAlign=$g$$;this.textarea.style.outline="none";this.textarea.style.color=
$f$$;$d$$=this.textDirection=mxUtils.getValue($c$$.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION);$d$$==mxConstants.TEXT_DIRECTION_AUTO&&(null==$c$$||null==$c$$.text||$c$$.text.dialect==mxConstants.DIALECT_STRICTHTML||mxUtils.isNode($c$$.text.value)||($d$$=$c$$.text.getAutoDirection()));$d$$==mxConstants.TEXT_DIRECTION_LTR||$d$$==mxConstants.TEXT_DIRECTION_RTL?this.textarea.setAttribute("dir",$d$$):this.textarea.removeAttribute("dir");this.textarea.innerHTML=this.getInitialValue($c$$,
$b$$)||"";this.initialValue=this.textarea.innerHTML;0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=!0):this.clearOnChange=this.textarea.innerHTML==this.getEmptyLabelText();this.graph.container.appendChild(this.textarea);this.editingCell=$a$$;this.trigger=$b$$;this.textNode=null;null!=$c$$.text&&this.isHideLabel($c$$)&&(this.textNode=$c$$.text.node,this.textNode.style.visibility="hidden");this.autoSize&&(this.graph.model.isEdge($c$$.cell)||
"fill"!=$c$$.style[mxConstants.STYLE_OVERFLOW])&&window.setTimeout(mxUtils.bind(this,function(){this.resize()}),0);this.resize();try{this.textarea.focus(),this.isSelectText()&&0<this.textarea.innerHTML.length&&(this.textarea.innerHTML!=this.getEmptyLabelText()||!this.clearOnChange)&&document.execCommand("selectAll",!1,null)}catch($n$$){}}};mxCellEditor.prototype.isSelectText=function $mxCellEditor$$isSelectText$(){return this.selectText};
mxCellEditor.prototype.clearSelection=function $mxCellEditor$$clearSelection$(){var $a$$=null;window.getSelection?$a$$=window.getSelection():document.selection&&($a$$=document.selection);null!=$a$$&&($a$$.empty?$a$$.empty():$a$$.removeAllRanges&&$a$$.removeAllRanges())};
mxCellEditor.prototype.stopEditing=function $mxCellEditor$$stopEditing$($a$$){if(null!=this.editingCell){null!=this.textNode&&(this.textNode.style.visibility="visible",this.textNode=null);$a$$=$a$$?null:this.graph.view.getState(this.editingCell);var $b$$=this.initialValue;this.bounds=this.trigger=this.editingCell=this.initialValue=null;this.textarea.blur();this.clearSelection();null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea);this.clearOnChange&&this.textarea.innerHTML==
this.getEmptyLabelText()&&(this.textarea.innerHTML="",this.clearOnChange=!1);null!=$a$$&&this.textarea.innerHTML!=$b$$&&(this.prepareTextarea(),$b$$=this.getCurrentValue($a$$),null!=$b$$&&this.applyValue($a$$,$b$$));mxEvent.release(this.textarea);this.textarea=null}};mxCellEditor.prototype.prepareTextarea=function $mxCellEditor$$prepareTextarea$(){mxClient.IS_FF&&null!=this.textarea.lastChild&&"BR"==this.textarea.lastChild.nodeName&&this.textarea.removeChild(this.textarea.lastChild)};
mxCellEditor.prototype.isHideLabel=function $mxCellEditor$$isHideLabel$($a$$){return!0};mxCellEditor.prototype.getMinimumSize=function $mxCellEditor$$getMinimumSize$($a$$){var $b$$=this.graph.getView().scale;return new mxRectangle(0,0,null==$a$$.text?30:$a$$.text.size*$b$$+20,"left"==this.textarea.style.textAlign?120:40)};
mxCellEditor.prototype.getEditorBounds=function $mxCellEditor$$getEditorBounds$($a$$){var $b$$=this.graph.getModel().isEdge($a$$.cell),$c$$=this.graph.getView().scale,$d$$=this.getMinimumSize($a$$),$e$$=$d$$.width,$d$$=$d$$.height;if(!$b$$&&$a$$.view.graph.cellRenderer.legacySpacing&&"fill"==$a$$.style[mxConstants.STYLE_OVERFLOW])$c$$=$a$$.shape.getLabelBounds(mxRectangle.fromRectangle($a$$));else{var $f$$=parseInt($a$$.style[mxConstants.STYLE_SPACING]||0)*$c$$,$g$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_TOP]||
0)+mxText.prototype.baseSpacingTop)*$c$$+$f$$,$k$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_RIGHT]||0)+mxText.prototype.baseSpacingRight)*$c$$+$f$$,$l$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_BOTTOM]||0)+mxText.prototype.baseSpacingBottom)*$c$$+$f$$,$f$$=(parseInt($a$$.style[mxConstants.STYLE_SPACING_LEFT]||0)+mxText.prototype.baseSpacingLeft)*$c$$+$f$$,$c$$=new mxRectangle($a$$.x,$a$$.y,Math.max($e$$,$a$$.width-$f$$-$k$$),Math.max($d$$,$a$$.height-$g$$-$l$$)),$k$$=mxUtils.getValue($a$$.style,
mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),$l$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),$c$$=null!=$a$$.shape&&$k$$==mxConstants.ALIGN_CENTER&&$l$$==mxConstants.ALIGN_MIDDLE?$a$$.shape.getLabelBounds($c$$):$c$$;$b$$?($c$$.x=$a$$.absoluteOffset.x,$c$$.y=$a$$.absoluteOffset.y,null!=$a$$.text&&null!=$a$$.text.boundingBox&&(0<$a$$.text.boundingBox.x&&($c$$.x=$a$$.text.boundingBox.x),0<$a$$.text.boundingBox.y&&($c$$.y=$a$$.text.boundingBox.y))):
null!=$a$$.text&&null!=$a$$.text.boundingBox&&($c$$.x=Math.min($c$$.x,$a$$.text.boundingBox.x),$c$$.y=Math.min($c$$.y,$a$$.text.boundingBox.y));$c$$.x+=$f$$;$c$$.y+=$g$$;null!=$a$$.text&&null!=$a$$.text.boundingBox&&($b$$?($c$$.width=Math.max($e$$,$a$$.text.boundingBox.width),$c$$.height=Math.max($d$$,$a$$.text.boundingBox.height)):($c$$.width=Math.max($c$$.width,$a$$.text.boundingBox.width),$c$$.height=Math.max($c$$.height,$a$$.text.boundingBox.height)));this.graph.getModel().isVertex($a$$.cell)&&
($b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),$b$$==mxConstants.ALIGN_LEFT?$c$$.x-=$a$$.width:$b$$==mxConstants.ALIGN_RIGHT&&($c$$.x+=$a$$.width),$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),$b$$==mxConstants.ALIGN_TOP?$c$$.y-=$a$$.height:$b$$==mxConstants.ALIGN_BOTTOM&&($c$$.y+=$a$$.height))}return new mxRectangle(Math.round($c$$.x),Math.round($c$$.y),Math.round($c$$.width),Math.round($c$$.height))};
mxCellEditor.prototype.getEmptyLabelText=function $mxCellEditor$$getEmptyLabelText$($a$$){return this.emptyLabelText};mxCellEditor.prototype.getEditingCell=function $mxCellEditor$$getEditingCell$(){return this.editingCell};
mxCellEditor.prototype.destroy=function $mxCellEditor$$destroy$(){null!=this.textarea&&(mxEvent.release(this.textarea),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.textarea=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null);this.zoomHandler&&(this.graph.view.removeListener(this.zoomHandler),this.zoomHandler=null)};function mxCellRenderer(){}mxCellRenderer.defaultShapes={};
mxCellRenderer.prototype.defaultEdgeShape=mxConnector;mxCellRenderer.prototype.defaultVertexShape=mxRectangleShape;mxCellRenderer.prototype.defaultTextShape=mxText;mxCellRenderer.prototype.legacyControlPosition=!0;mxCellRenderer.prototype.legacySpacing=!0;mxCellRenderer.prototype.antiAlias=!0;mxCellRenderer.prototype.minSvgStrokeWidth=1;mxCellRenderer.prototype.forceControlClickHandler=!1;
mxCellRenderer.registerShape=function $mxCellRenderer$registerShape$($a$$,$b$$){mxCellRenderer.defaultShapes[$a$$]=$b$$};mxCellRenderer.registerShape(mxConstants.SHAPE_RECTANGLE,mxRectangleShape);mxCellRenderer.registerShape(mxConstants.SHAPE_ELLIPSE,mxEllipse);mxCellRenderer.registerShape(mxConstants.SHAPE_RHOMBUS,mxRhombus);mxCellRenderer.registerShape(mxConstants.SHAPE_CYLINDER,mxCylinder);mxCellRenderer.registerShape(mxConstants.SHAPE_CONNECTOR,mxConnector);
mxCellRenderer.registerShape(mxConstants.SHAPE_ACTOR,mxActor);mxCellRenderer.registerShape(mxConstants.SHAPE_TRIANGLE,mxTriangle);mxCellRenderer.registerShape(mxConstants.SHAPE_HEXAGON,mxHexagon);mxCellRenderer.registerShape(mxConstants.SHAPE_CLOUD,mxCloud);mxCellRenderer.registerShape(mxConstants.SHAPE_LINE,mxLine);mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW,mxArrow);mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW_CONNECTOR,mxArrowConnector);
mxCellRenderer.registerShape(mxConstants.SHAPE_DOUBLE_ELLIPSE,mxDoubleEllipse);mxCellRenderer.registerShape(mxConstants.SHAPE_SWIMLANE,mxSwimlane);mxCellRenderer.registerShape(mxConstants.SHAPE_IMAGE,mxImageShape);mxCellRenderer.registerShape(mxConstants.SHAPE_LABEL,mxLabel);mxCellRenderer.prototype.initializeShape=function $mxCellRenderer$$initializeShape$($a$$){$a$$.shape.dialect=$a$$.view.graph.dialect;this.configureShape($a$$);$a$$.shape.init($a$$.view.getDrawPane())};
mxCellRenderer.prototype.createShape=function $mxCellRenderer$$createShape$($a$$){var $b$$=null;null!=$a$$.style&&($b$$=mxStencilRegistry.getStencil($a$$.style[mxConstants.STYLE_SHAPE]),$b$$=null!=$b$$?new mxShape($b$$):new (this.getShapeConstructor($a$$)));return $b$$};mxCellRenderer.prototype.createIndicatorShape=function $mxCellRenderer$$createIndicatorShape$($a$$){$a$$.shape.indicatorShape=this.getShape($a$$.view.graph.getIndicatorShape($a$$))};
mxCellRenderer.prototype.getShape=function $mxCellRenderer$$getShape$($a$$){return null!=$a$$?mxCellRenderer.defaultShapes[$a$$]:null};mxCellRenderer.prototype.getShapeConstructor=function $mxCellRenderer$$getShapeConstructor$($a$$){var $b$$=this.getShape($a$$.style[mxConstants.STYLE_SHAPE]);null==$b$$&&($b$$=$a$$.view.graph.getModel().isEdge($a$$.cell)?this.defaultEdgeShape:this.defaultVertexShape);return $b$$};
mxCellRenderer.prototype.configureShape=function $mxCellRenderer$$configureShape$($a$$){$a$$.shape.apply($a$$);$a$$.shape.image=$a$$.view.graph.getImage($a$$);$a$$.shape.indicatorColor=$a$$.view.graph.getIndicatorColor($a$$);$a$$.shape.indicatorStrokeColor=$a$$.style[mxConstants.STYLE_INDICATOR_STROKECOLOR];$a$$.shape.indicatorGradientColor=$a$$.view.graph.getIndicatorGradientColor($a$$);$a$$.shape.indicatorDirection=$a$$.style[mxConstants.STYLE_INDICATOR_DIRECTION];$a$$.shape.indicatorImage=$a$$.view.graph.getIndicatorImage($a$$);
this.postConfigureShape($a$$)};mxCellRenderer.prototype.postConfigureShape=function $mxCellRenderer$$postConfigureShape$($a$$){null!=$a$$.shape&&(this.resolveColor($a$$,"indicatorColor",mxConstants.STYLE_FILLCOLOR),this.resolveColor($a$$,"indicatorGradientColor",mxConstants.STYLE_GRADIENTCOLOR),this.resolveColor($a$$,"fill",mxConstants.STYLE_FILLCOLOR),this.resolveColor($a$$,"stroke",mxConstants.STYLE_STROKECOLOR),this.resolveColor($a$$,"gradient",mxConstants.STYLE_GRADIENTCOLOR))};
mxCellRenderer.prototype.checkPlaceholderStyles=function $mxCellRenderer$$checkPlaceholderStyles$($a$$){if(null!=$a$$.style)for(var $b$$=["inherit","swimlane","indicated"],$c$$=[mxConstants.STYLE_FILLCOLOR,mxConstants.STYLE_STROKECOLOR,mxConstants.STYLE_GRADIENTCOLOR],$d$$=0;$d$$<$c$$.length;$d$$++)if(0<=mxUtils.indexOf($b$$,$a$$.style[$c$$[$d$$]]))return!0;return!1};
mxCellRenderer.prototype.resolveColor=function $mxCellRenderer$$resolveColor$($a$$,$b$$,$c$$){var $d$$=$a$$.shape[$b$$],$e$$=$a$$.view.graph,$f$$=null;"inherit"==$d$$?$f$$=$e$$.model.getParent($a$$.cell):"swimlane"==$d$$?($a$$.shape[$b$$]=$c$$==mxConstants.STYLE_STROKECOLOR?"#000000":"#ffffff",$f$$=null!=$e$$.model.getTerminal($a$$.cell,!1)?$e$$.model.getTerminal($a$$.cell,!1):$a$$.cell,$f$$=$e$$.getSwimlane($f$$),$c$$=$e$$.swimlaneIndicatorColorAttribute):"indicated"==$d$$&&($a$$.shape[$b$$]=$a$$.shape.indicatorColor);
null!=$f$$&&($d$$=$e$$.getView().getState($f$$),$a$$.shape[$b$$]=null,null!=$d$$&&($a$$.shape[$b$$]=null!=$d$$.shape&&"indicatorColor"!=$b$$?$d$$.shape[$b$$]:$d$$.style[$c$$]))};mxCellRenderer.prototype.getLabelValue=function $mxCellRenderer$$getLabelValue$($a$$){return $a$$.view.graph.getLabel($a$$.cell)};
mxCellRenderer.prototype.createLabel=function $mxCellRenderer$$createLabel$($a$$,$b$jscomp$0$$){var $c$$=$a$$.view.graph;$c$$.getModel().isEdge($a$$.cell);if(0<$a$$.style[mxConstants.STYLE_FONTSIZE]||null==$a$$.style[mxConstants.STYLE_FONTSIZE]){var $d$jscomp$0$$=$c$$.isHtmlLabel($a$$.cell)||null!=$b$jscomp$0$$&&mxUtils.isNode($b$jscomp$0$$);$a$$.text=new this.defaultTextShape($b$jscomp$0$$,new mxRectangle,$a$$.style[mxConstants.STYLE_ALIGN]||mxConstants.ALIGN_CENTER,$c$$.getVerticalAlign($a$$),$a$$.style[mxConstants.STYLE_FONTCOLOR],
$a$$.style[mxConstants.STYLE_FONTFAMILY],$a$$.style[mxConstants.STYLE_FONTSIZE],$a$$.style[mxConstants.STYLE_FONTSTYLE],$a$$.style[mxConstants.STYLE_SPACING],$a$$.style[mxConstants.STYLE_SPACING_TOP],$a$$.style[mxConstants.STYLE_SPACING_RIGHT],$a$$.style[mxConstants.STYLE_SPACING_BOTTOM],$a$$.style[mxConstants.STYLE_SPACING_LEFT],$a$$.style[mxConstants.STYLE_HORIZONTAL],$a$$.style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR],$a$$.style[mxConstants.STYLE_LABEL_BORDERCOLOR],$c$$.isWrapping($a$$.cell)&&
$c$$.isHtmlLabel($a$$.cell),$c$$.isLabelClipped($a$$.cell),$a$$.style[mxConstants.STYLE_OVERFLOW],$a$$.style[mxConstants.STYLE_LABEL_PADDING],mxUtils.getValue($a$$.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION));$a$$.text.opacity=mxUtils.getValue($a$$.style,mxConstants.STYLE_TEXT_OPACITY,100);$a$$.text.dialect=$d$jscomp$0$$?mxConstants.DIALECT_STRICTHTML:$a$$.view.graph.dialect;$a$$.text.style=$a$$.style;$a$$.text.state=$a$$;this.initializeLabel($a$$,$a$$.text);var $e$$=
!1,$f$$=function $$f$$$($b$$){var $d$$=$a$$;if(mxClient.IS_TOUCH||$e$$)$d$$=mxEvent.getClientX($b$$),$b$$=mxEvent.getClientY($b$$),$b$$=mxUtils.convertPoint($c$$.container,$d$$,$b$$),$d$$=$c$$.view.getState($c$$.getCellAt($b$$.x,$b$$.y));return $d$$};mxEvent.addGestureListeners($a$$.text.node,mxUtils.bind(this,function($b$$){this.isLabelEvent($a$$,$b$$)&&($c$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($b$$,$a$$)),$e$$=$c$$.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource($b$$).nodeName)}),
mxUtils.bind(this,function($b$$){this.isLabelEvent($a$$,$b$$)&&$c$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($b$$,$f$$($b$$)))}),mxUtils.bind(this,function($b$$){this.isLabelEvent($a$$,$b$$)&&($c$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($b$$,$f$$($b$$))),$e$$=!1)}));$c$$.nativeDblClickEnabled&&mxEvent.addListener($a$$.text.node,"dblclick",mxUtils.bind(this,function($b$$){this.isLabelEvent($a$$,$b$$)&&($c$$.dblClick($b$$,$a$$.cell),mxEvent.consume($b$$))}))}};
mxCellRenderer.prototype.initializeLabel=function $mxCellRenderer$$initializeLabel$($a$$,$b$$){mxClient.IS_SVG&&mxClient.NO_FO&&$b$$.dialect!=mxConstants.DIALECT_SVG?$b$$.init($a$$.view.graph.container):$b$$.init($a$$.view.getDrawPane())};
mxCellRenderer.prototype.createCellOverlays=function $mxCellRenderer$$createCellOverlays$($a$jscomp$0$$){var $b$jscomp$0$$=$a$jscomp$0$$.view.graph.getCellOverlays($a$jscomp$0$$.cell),$c$$=null;if(null!=$b$jscomp$0$$)for(var $c$$=new mxDictionary,$d$$=0;$d$$<$b$jscomp$0$$.length;$d$$++){var $e$$=null!=$a$jscomp$0$$.overlays?$a$jscomp$0$$.overlays.remove($b$jscomp$0$$[$d$$]):null;null==$e$$&&($e$$=new mxImageShape(new mxRectangle,$b$jscomp$0$$[$d$$].image.src),$e$$.dialect=$a$jscomp$0$$.view.graph.dialect,
$e$$.preserveImageAspect=!1,$e$$.overlay=$b$jscomp$0$$[$d$$],this.initializeOverlay($a$jscomp$0$$,$e$$),this.installCellOverlayListeners($a$jscomp$0$$,$b$jscomp$0$$[$d$$],$e$$),null!=$b$jscomp$0$$[$d$$].cursor&&($e$$.node.style.cursor=$b$jscomp$0$$[$d$$].cursor));$c$$.put($b$jscomp$0$$[$d$$],$e$$)}null!=$a$jscomp$0$$.overlays&&$a$jscomp$0$$.overlays.visit(function($a$$,$b$$){$b$$.destroy()});$a$jscomp$0$$.overlays=$c$$};
mxCellRenderer.prototype.initializeOverlay=function $mxCellRenderer$$initializeOverlay$($a$$,$b$$){$b$$.init($a$$.view.getOverlayPane())};
mxCellRenderer.prototype.installCellOverlayListeners=function $mxCellRenderer$$installCellOverlayListeners$($a$jscomp$0$$,$b$jscomp$0$$,$c$jscomp$0$$){var $d$$=$a$jscomp$0$$.view.graph;mxEvent.addListener($c$jscomp$0$$.node,"click",function($c$$){$d$$.isEditing()&&$d$$.stopEditing(!$d$$.isInvokesStopCellEditing());$b$jscomp$0$$.fireEvent(new mxEventObject(mxEvent.CLICK,"event",$c$$,"cell",$a$jscomp$0$$.cell))});mxEvent.addGestureListeners($c$jscomp$0$$.node,function($a$$){mxEvent.consume($a$$)},function($b$$){$d$$.fireMouseEvent(mxEvent.MOUSE_MOVE,
new mxMouseEvent($b$$,$a$jscomp$0$$))});mxClient.IS_TOUCH&&mxEvent.addListener($c$jscomp$0$$.node,"touchend",function($c$$){$b$jscomp$0$$.fireEvent(new mxEventObject(mxEvent.CLICK,"event",$c$$,"cell",$a$jscomp$0$$.cell))})};
mxCellRenderer.prototype.createControl=function $mxCellRenderer$$createControl$($a$$){var $b$$=$a$$.view.graph,$c$$=$b$$.getFoldingImage($a$$);if($b$$.foldingEnabled&&null!=$c$$){if(null==$a$$.control){var $d$$=new mxRectangle(0,0,$c$$.width,$c$$.height);$a$$.control=new mxImageShape($d$$,$c$$.src);$a$$.control.preserveImageAspect=!1;$a$$.control.dialect=$b$$.dialect;this.initControl($a$$,$a$$.control,!0,this.createControlClickHandler($a$$))}}else null!=$a$$.control&&($a$$.control.destroy(),$a$$.control=
null)};mxCellRenderer.prototype.createControlClickHandler=function $mxCellRenderer$$createControlClickHandler$($a$$){var $b$$=$a$$.view.graph;return mxUtils.bind(this,function($c$$){if(this.forceControlClickHandler||$b$$.isEnabled()){var $d$$=!$b$$.isCellCollapsed($a$$.cell);$b$$.foldCells($d$$,!1,[$a$$.cell],null,$c$$);mxEvent.consume($c$$)}})};
mxCellRenderer.prototype.initControl=function $mxCellRenderer$$initControl$($a$jscomp$0$$,$b$jscomp$0$$,$c$$,$d$$){var $e$$=$a$jscomp$0$$.view.graph;$e$$.isHtmlLabel($a$jscomp$0$$.cell)&&mxClient.NO_FO&&$e$$.dialect==mxConstants.DIALECT_SVG?($b$jscomp$0$$.dialect=mxConstants.DIALECT_PREFERHTML,$b$jscomp$0$$.init($e$$.container),$b$jscomp$0$$.node.style.zIndex=1):$b$jscomp$0$$.init($a$jscomp$0$$.view.getOverlayPane());$b$jscomp$0$$=$b$jscomp$0$$.innerNode||$b$jscomp$0$$.node;null==$d$$||mxClient.IS_IOS||
($e$$.isEnabled()&&($b$jscomp$0$$.style.cursor="pointer"),mxEvent.addListener($b$jscomp$0$$,"click",$d$$));if($c$$){var $f$$=null;mxEvent.addGestureListeners($b$jscomp$0$$,function($b$$){$f$$=new mxPoint(mxEvent.getClientX($b$$),mxEvent.getClientY($b$$));$e$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($b$$,$a$jscomp$0$$));mxEvent.consume($b$$)},function($b$$){$e$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($b$$,$a$jscomp$0$$))},function($b$$){$e$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($b$$,
$a$jscomp$0$$));mxEvent.consume($b$$)});null!=$d$$&&mxClient.IS_IOS&&$b$jscomp$0$$.addEventListener("touchend",function($a$$){if(null!=$f$$){var $b$$=$e$$.tolerance;Math.abs($f$$.x-mxEvent.getClientX($a$$))<$b$$&&Math.abs($f$$.y-mxEvent.getClientY($a$$))<$b$$&&($d$$.call($d$$,$a$$),mxEvent.consume($a$$))}},!0)}return $b$jscomp$0$$};mxCellRenderer.prototype.isShapeEvent=function $mxCellRenderer$$isShapeEvent$($a$$,$b$$){return!0};
mxCellRenderer.prototype.isLabelEvent=function $mxCellRenderer$$isLabelEvent$($a$$,$b$$){return!0};
mxCellRenderer.prototype.installListeners=function $mxCellRenderer$$installListeners$($a$$){var $b$$=$a$$.view.graph,$c$jscomp$0$$=function $$c$jscomp$0$$$($c$$){var $d$$=$a$$;if($b$$.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource($c$$).nodeName||mxClient.IS_TOUCH)$d$$=mxEvent.getClientX($c$$),$c$$=mxEvent.getClientY($c$$),$c$$=mxUtils.convertPoint($b$$.container,$d$$,$c$$),$d$$=$b$$.view.getState($b$$.getCellAt($c$$.x,$c$$.y));return $d$$};mxEvent.addGestureListeners($a$$.shape.node,
mxUtils.bind(this,function($c$$){this.isShapeEvent($a$$,$c$$)&&$b$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($c$$,$a$$))}),mxUtils.bind(this,function($d$$){this.isShapeEvent($a$$,$d$$)&&$b$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($d$$,$c$jscomp$0$$($d$$)))}),mxUtils.bind(this,function($d$$){this.isShapeEvent($a$$,$d$$)&&$b$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($d$$,$c$jscomp$0$$($d$$)))}));$b$$.nativeDblClickEnabled&&mxEvent.addListener($a$$.shape.node,"dblclick",
mxUtils.bind(this,function($c$$){this.isShapeEvent($a$$,$c$$)&&($b$$.dblClick($c$$,$a$$.cell),mxEvent.consume($c$$))}))};
mxCellRenderer.prototype.redrawLabel=function $mxCellRenderer$$redrawLabel$($a$$,$b$$){var $c$$=$a$$.view.graph,$d$$=this.getLabelValue($a$$),$e$$=$c$$.isWrapping($a$$.cell),$f$$=$c$$.isLabelClipped($a$$.cell),$g$$=$a$$.view.graph.isHtmlLabel($a$$.cell)||null!=$d$$&&mxUtils.isNode($d$$)?mxConstants.DIALECT_STRICTHTML:$a$$.view.graph.dialect,$k$$=$a$$.style[mxConstants.STYLE_OVERFLOW]||"visible";null==$a$$.text||$a$$.text.wrap==$e$$&&$a$$.text.clipped==$f$$&&$a$$.text.overflow==$k$$&&$a$$.text.dialect==
$g$$||($a$$.text.destroy(),$a$$.text=null);null==$a$$.text&&null!=$d$$&&(mxUtils.isNode($d$$)||0<$d$$.length)?this.createLabel($a$$,$d$$):null==$a$$.text||null!=$d$$&&0!=$d$$.length||($a$$.text.destroy(),$a$$.text=null);if(null!=$a$$.text){$b$$&&(null!=$a$$.text.lastValue&&this.isTextShapeInvalid($a$$,$a$$.text)&&($a$$.text.lastValue=null),$a$$.text.resetStyles(),$a$$.text.apply($a$$),$a$$.text.valign=$c$$.getVerticalAlign($a$$));var $c$$=this.getLabelBounds($a$$),$l$$=this.getTextScale($a$$);if($b$$||
$a$$.text.value!=$d$$||$a$$.text.isWrapping!=$e$$||$a$$.text.overflow!=$k$$||$a$$.text.isClipping!=$f$$||$a$$.text.scale!=$l$$||$a$$.text.dialect!=$g$$||!$a$$.text.bounds.equals($c$$))0!=$a$$.text.bounds.width&&null!=$a$$.unscaledWidth&&0!=Math.round($a$$.text.bounds.width/$a$$.text.scale*$l$$-$c$$.width)&&($a$$.unscaledWidth=null),$a$$.text.dialect=$g$$,$a$$.text.value=$d$$,$a$$.text.bounds=$c$$,$a$$.text.scale=$l$$,$a$$.text.wrap=$e$$,$a$$.text.clipped=$f$$,$a$$.text.overflow=$k$$,$d$$=$a$$.text.node.style.visibility,
this.redrawLabelShape($a$$.text),$a$$.text.node.style.visibility=$d$$}};
mxCellRenderer.prototype.isTextShapeInvalid=function $mxCellRenderer$$isTextShapeInvalid$($a$$,$b$$){function $c$jscomp$0$$($c$$,$e$$,$f$$){return result="spacingTop"==$e$$||"spacingRight"==$e$$||"spacingBottom"==$e$$||"spacingLeft"==$e$$?parseFloat($b$$[$c$$])-parseFloat($b$$.spacing)!=($a$$.style[$e$$]||$f$$):$b$$[$c$$]!=($a$$.style[$e$$]||$f$$)}return $c$jscomp$0$$("fontStyle",mxConstants.STYLE_FONTSTYLE,mxConstants.DEFAULT_FONTSTYLE)||$c$jscomp$0$$("family",mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY)||
$c$jscomp$0$$("size",mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE)||$c$jscomp$0$$("color",mxConstants.STYLE_FONTCOLOR,"black")||$c$jscomp$0$$("align",mxConstants.STYLE_ALIGN,"")||$c$jscomp$0$$("valign",mxConstants.STYLE_VERTICAL_ALIGN,"")||$c$jscomp$0$$("spacing",mxConstants.STYLE_SPACING,2)||$c$jscomp$0$$("spacingTop",mxConstants.STYLE_SPACING_TOP,0)||$c$jscomp$0$$("spacingRight",mxConstants.STYLE_SPACING_RIGHT,0)||$c$jscomp$0$$("spacingBottom",mxConstants.STYLE_SPACING_BOTTOM,0)||$c$jscomp$0$$("spacingLeft",
mxConstants.STYLE_SPACING_LEFT,0)||$c$jscomp$0$$("horizontal",mxConstants.STYLE_HORIZONTAL,!0)||$c$jscomp$0$$("background",mxConstants.STYLE_LABEL_BACKGROUNDCOLOR)||$c$jscomp$0$$("border",mxConstants.STYLE_LABEL_BORDERCOLOR)||$c$jscomp$0$$("opacity",mxConstants.STYLE_TEXT_OPACITY,100)||$c$jscomp$0$$("textDirection",mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION)};mxCellRenderer.prototype.redrawLabelShape=function $mxCellRenderer$$redrawLabelShape$($a$$){$a$$.redraw()};
mxCellRenderer.prototype.getTextScale=function $mxCellRenderer$$getTextScale$($a$$){return $a$$.view.scale};
mxCellRenderer.prototype.getLabelBounds=function $mxCellRenderer$$getLabelBounds$($a$$){var $b$$=$a$$.view.graph,$c$$=$a$$.view.scale,$d$$=$b$$.getModel().isEdge($a$$.cell),$e$$=new mxRectangle($a$$.absoluteOffset.x,$a$$.absoluteOffset.y);if($d$$){var $f$$=$a$$.text.getSpacing();$e$$.x+=$f$$.x*$c$$;$e$$.y+=$f$$.y*$c$$;$b$$=$b$$.getCellGeometry($a$$.cell);null!=$b$$&&($e$$.width=Math.max(0,$b$$.width*$c$$),$e$$.height=Math.max(0,$b$$.height*$c$$))}else $a$$.text.isPaintBoundsInverted()&&($b$$=$e$$.x,
$e$$.x=$e$$.y,$e$$.y=$b$$),$e$$.x+=$a$$.x,$e$$.y+=$a$$.y,$e$$.width=Math.max(1,$a$$.width),$e$$.height=Math.max(1,$a$$.height),$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),$b$$!=mxConstants.NONE&&""!=$b$$&&($f$$=parseFloat(mxUtils.getValue($a$$.style,mxConstants.STYLE_STROKEWIDTH,1))*$c$$,$b$$=1+Math.floor(($f$$-1)/2),$f$$=Math.floor($f$$+1),$e$$.x+=$b$$,$e$$.y+=$b$$,$e$$.width-=$f$$,$e$$.height-=$f$$);$a$$.text.isPaintBoundsInverted()&&($b$$=($a$$.width-$a$$.height)/
2,$e$$.x+=$b$$,$e$$.y-=$b$$,$b$$=$e$$.width,$e$$.width=$e$$.height,$e$$.height=$b$$);null!=$a$$.shape&&($b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),$f$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),$b$$==mxConstants.ALIGN_CENTER&&$f$$==mxConstants.ALIGN_MIDDLE&&($e$$=$a$$.shape.getLabelBounds($e$$)));$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null);null!=$b$$&&($e$$.width=parseFloat($b$$)*
$c$$);$d$$||this.rotateLabelBounds($a$$,$e$$);return $e$$};
mxCellRenderer.prototype.rotateLabelBounds=function $mxCellRenderer$$rotateLabelBounds$($a$$,$b$$){$b$$.y-=$a$$.text.margin.y*$b$$.height;$b$$.x-=$a$$.text.margin.x*$b$$.width;if(!this.legacySpacing||"fill"!=$a$$.style[mxConstants.STYLE_OVERFLOW]&&"width"!=$a$$.style[mxConstants.STYLE_OVERFLOW]){var $c$$=$a$$.view.scale,$d$$=$a$$.text.getSpacing();$b$$.x+=$d$$.x*$c$$;$b$$.y+=$d$$.y*$c$$;var $d$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),$e$$=mxUtils.getValue($a$$.style,
mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),$f$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null);$b$$.width=Math.max(0,$b$$.width-($d$$==mxConstants.ALIGN_CENTER&&null==$f$$?$a$$.text.spacingLeft*$c$$+$a$$.text.spacingRight*$c$$:0));$b$$.height=Math.max(0,$b$$.height-($e$$==mxConstants.ALIGN_MIDDLE?$a$$.text.spacingTop*$c$$+$a$$.text.spacingBottom*$c$$:0))}$e$$=$a$$.text.getTextRotation();0!=$e$$&&null!=$a$$&&$a$$.view.graph.model.isVertex($a$$.cell)&&($c$$=
$a$$.getCenterX(),$d$$=$a$$.getCenterY(),$b$$.x!=$c$$||$b$$.y!=$d$$)&&($e$$*=Math.PI/180,pt=mxUtils.getRotatedPoint(new mxPoint($b$$.x,$b$$.y),Math.cos($e$$),Math.sin($e$$),new mxPoint($c$$,$d$$)),$b$$.x=pt.x,$b$$.y=pt.y)};
mxCellRenderer.prototype.redrawCellOverlays=function $mxCellRenderer$$redrawCellOverlays$($a$$,$b$$){this.createCellOverlays($a$$);if(null!=$a$$.overlays){var $c$$=mxUtils.mod(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0),90),$d$jscomp$0$$=mxUtils.toRadians($c$$),$e$$=Math.cos($d$jscomp$0$$),$f$$=Math.sin($d$jscomp$0$$);$a$$.overlays.visit(function($d$$,$k$$){var $g$$=$k$$.overlay.getBounds($a$$);if(!$a$$.view.graph.getModel().isEdge($a$$.cell)&&null!=$a$$.shape&&0!=$c$$){var $m$$=$g$$.getCenterX(),
$n$$=$g$$.getCenterY(),$n$$=mxUtils.getRotatedPoint(new mxPoint($m$$,$n$$),$e$$,$f$$,new mxPoint($a$$.getCenterX(),$a$$.getCenterY())),$m$$=$n$$.x,$n$$=$n$$.y;$g$$.x=Math.round($m$$-$g$$.width/2);$g$$.y=Math.round($n$$-$g$$.height/2)}if($b$$||null==$k$$.bounds||$k$$.scale!=$a$$.view.scale||!$k$$.bounds.equals($g$$))$k$$.bounds=$g$$,$k$$.scale=$a$$.view.scale,$k$$.redraw()})}};
mxCellRenderer.prototype.redrawControl=function $mxCellRenderer$$redrawControl$($a$$,$b$$){var $c$$=$a$$.view.graph.getFoldingImage($a$$);if(null!=$a$$.control&&null!=$c$$){var $c$$=this.getControlBounds($a$$,$c$$.width,$c$$.height),$d$$=this.legacyControlPosition?mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0):$a$$.shape.getTextRotation(),$e$$=$a$$.view.scale;if($b$$||$a$$.control.scale!=$e$$||!$a$$.control.bounds.equals($c$$)||$a$$.control.rotation!=$d$$)$a$$.control.rotation=$d$$,$a$$.control.bounds=
$c$$,$a$$.control.scale=$e$$,$a$$.control.redraw()}};
mxCellRenderer.prototype.getControlBounds=function $mxCellRenderer$$getControlBounds$($a$$,$b$$,$c$$){if(null!=$a$$.control){var $d$$=$a$$.view.scale,$e$$=$a$$.getCenterX(),$f$$=$a$$.getCenterY();if(!$a$$.view.graph.getModel().isEdge($a$$.cell)&&($e$$=$a$$.x+$b$$*$d$$,$f$$=$a$$.y+$c$$*$d$$,null!=$a$$.shape)){var $g$$=$a$$.shape.getShapeRotation();if(this.legacyControlPosition)$g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0);else if($a$$.shape.isPaintBoundsInverted())var $k$$=($a$$.width-
$a$$.height)/2,$e$$=$e$$+$k$$,$f$$=$f$$-$k$$;0!=$g$$&&($k$$=mxUtils.toRadians($g$$),$g$$=Math.cos($k$$),$k$$=Math.sin($k$$),$f$$=mxUtils.getRotatedPoint(new mxPoint($e$$,$f$$),$g$$,$k$$,new mxPoint($a$$.getCenterX(),$a$$.getCenterY())),$e$$=$f$$.x,$f$$=$f$$.y)}return $a$$.view.graph.getModel().isEdge($a$$.cell),new mxRectangle(Math.round($e$$-$b$$/2*$d$$),Math.round($f$$-$c$$/2*$d$$),Math.round($b$$*$d$$),Math.round($c$$*$d$$))}return null};
mxCellRenderer.prototype.insertStateAfter=function $mxCellRenderer$$insertStateAfter$($a$$,$b$$,$c$$){for(var $d$$=this.getShapesForState($a$$),$e$$=0;$e$$<$d$$.length;$e$$++)if(null!=$d$$[$e$$]&&null!=$d$$[$e$$].node){var $f$$=$d$$[$e$$].node.parentNode!=$a$$.view.getDrawPane()&&$d$$[$e$$].node.parentNode!=$a$$.view.getOverlayPane(),$g$$=$f$$?$c$$:$b$$;if(null!=$g$$&&$g$$.nextSibling!=$d$$[$e$$].node)null==$g$$.nextSibling?$g$$.parentNode.appendChild($d$$[$e$$].node):$g$$.parentNode.insertBefore($d$$[$e$$].node,
$g$$.nextSibling);else if(null==$g$$)if($d$$[$e$$].node.parentNode==$a$$.view.graph.container){for($g$$=$a$$.view.canvas;null!=$g$$&&$g$$.parentNode!=$a$$.view.graph.container;)$g$$=$g$$.parentNode;null!=$g$$&&null!=$g$$.nextSibling?$g$$.nextSibling!=$d$$[$e$$].node&&$d$$[$e$$].node.parentNode.insertBefore($d$$[$e$$].node,$g$$.nextSibling):$d$$[$e$$].node.parentNode.appendChild($d$$[$e$$].node)}else null!=$d$$[$e$$].node.parentNode.firstChild&&$d$$[$e$$].node.parentNode.firstChild!=$d$$[$e$$].node&&
$d$$[$e$$].node.parentNode.insertBefore($d$$[$e$$].node,$d$$[$e$$].node.parentNode.firstChild);$f$$?$c$$=$d$$[$e$$].node:$b$$=$d$$[$e$$].node}return[$b$$,$c$$]};mxCellRenderer.prototype.getShapesForState=function $mxCellRenderer$$getShapesForState$($a$$){return[$a$$.shape,$a$$.text,$a$$.control]};
mxCellRenderer.prototype.redraw=function $mxCellRenderer$$redraw$($a$$,$b$$,$c$$){$b$$=this.redrawShape($a$$,$b$$,$c$$);null==$a$$.shape||null!=$c$$&&!$c$$||(this.redrawLabel($a$$,$b$$),this.redrawCellOverlays($a$$,$b$$),this.redrawControl($a$$,$b$$))};
mxCellRenderer.prototype.redrawShape=function $mxCellRenderer$$redrawShape$($a$$,$b$$,$c$$){var $d$$=$a$$.view.graph.model,$e$$=!1;null!=$a$$.shape&&null!=$a$$.shape.style&&null!=$a$$.style&&$a$$.shape.style[mxConstants.STYLE_SHAPE]!=$a$$.style[mxConstants.STYLE_SHAPE]&&($a$$.shape.destroy(),$a$$.shape=null);null==$a$$.shape&&null!=$a$$.view.graph.container&&$a$$.cell!=$a$$.view.currentRoot&&($d$$.isVertex($a$$.cell)||$d$$.isEdge($a$$.cell))?($a$$.shape=this.createShape($a$$),null!=$a$$.shape&&($a$$.shape.minSvgStrokeWidth=
this.minSvgStrokeWidth,$a$$.shape.antiAlias=this.antiAlias,this.createIndicatorShape($a$$),this.initializeShape($a$$),this.createCellOverlays($a$$),this.installListeners($a$$),$a$$.view.graph.selectionCellsHandler.updateHandler($a$$))):$b$$||null==$a$$.shape||mxUtils.equalEntries($a$$.shape.style,$a$$.style)&&!this.checkPlaceholderStyles($a$$)||($a$$.shape.resetStyles(),this.configureShape($a$$),$a$$.view.graph.selectionCellsHandler.updateHandler($a$$),$b$$=!0);null!=$a$$.shape&&(this.createControl($a$$),
$b$$||this.isShapeInvalid($a$$,$a$$.shape))&&(null!=$a$$.absolutePoints?($a$$.shape.points=$a$$.absolutePoints.slice(),$a$$.shape.bounds=null):($a$$.shape.points=null,$a$$.shape.bounds=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height)),$a$$.shape.scale=$a$$.view.scale,null==$c$$||$c$$?this.doRedrawShape($a$$):$a$$.shape.updateBoundingBox(),$e$$=!0);return $e$$};mxCellRenderer.prototype.doRedrawShape=function $mxCellRenderer$$doRedrawShape$($a$$){$a$$.shape.redraw()};
mxCellRenderer.prototype.isShapeInvalid=function $mxCellRenderer$$isShapeInvalid$($a$$,$b$$){return null==$b$$.bounds||$b$$.scale!=$a$$.view.scale||null==$a$$.absolutePoints&&!$b$$.bounds.equals($a$$)||null!=$a$$.absolutePoints&&!mxUtils.equalPoints($b$$.points,$a$$.absolutePoints)};
mxCellRenderer.prototype.destroy=function $mxCellRenderer$$destroy$($a$jscomp$0$$){null!=$a$jscomp$0$$.shape&&(null!=$a$jscomp$0$$.text&&($a$jscomp$0$$.text.destroy(),$a$jscomp$0$$.text=null),null!=$a$jscomp$0$$.overlays&&($a$jscomp$0$$.overlays.visit(function($a$$,$c$$){$c$$.destroy()}),$a$jscomp$0$$.overlays=null),null!=$a$jscomp$0$$.control&&($a$jscomp$0$$.control.destroy(),$a$jscomp$0$$.control=null),$a$jscomp$0$$.shape.destroy(),$a$jscomp$0$$.shape=null)};
var mxEdgeStyle={EntityRelation:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view,$g$$=$f$$.graph;$d$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_SEGMENT,mxConstants.ENTITY_SEGMENT)*$f$$.scale;var $k$$=$a$$.absolutePoints,$l$$=$k$$[0],$m$$=$k$$[$k$$.length-1],$k$$=!1;if(null!=$l$$)$b$$=new mxCellState,$b$$.x=$l$$.x,$b$$.y=$l$$.y;else if(null!=$b$$){var $n$$=mxUtils.getPortConstraints($b$$,$a$$,!0,mxConstants.DIRECTION_MASK_NONE);$n$$!=mxConstants.DIRECTION_MASK_NONE&&$n$$!=mxConstants.DIRECTION_MASK_WEST+
mxConstants.DIRECTION_MASK_EAST?$k$$=$n$$==mxConstants.DIRECTION_MASK_WEST:($l$$=$g$$.getCellGeometry($b$$.cell),$l$$.relative?$k$$=.5>=$l$$.x:null!=$c$$&&($k$$=$c$$.x+$c$$.width<$b$$.x))}else return;$l$$=!0;null!=$m$$?($c$$=new mxCellState,$c$$.x=$m$$.x,$c$$.y=$m$$.y):null!=$c$$&&($n$$=mxUtils.getPortConstraints($c$$,$a$$,!1,mxConstants.DIRECTION_MASK_NONE),$n$$!=mxConstants.DIRECTION_MASK_NONE&&$n$$!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST?$l$$=$n$$==mxConstants.DIRECTION_MASK_WEST:
($a$$=$g$$.getCellGeometry($c$$.cell),$a$$.relative?$l$$=.5>=$a$$.x:null!=$b$$&&($l$$=$b$$.x+$b$$.width<$c$$.x)));null!=$b$$&&null!=$c$$&&($a$$=$k$$?$b$$.x:$b$$.x+$b$$.width,$b$$=$f$$.getRoutingCenterY($b$$),$g$$=$l$$?$c$$.x:$c$$.x+$c$$.width,$c$$=$f$$.getRoutingCenterY($c$$),$f$$=new mxPoint($a$$+($k$$?-$d$$:$d$$),$b$$),$m$$=new mxPoint($g$$+($l$$?-$d$$:$d$$),$c$$),$k$$==$l$$?($d$$=$k$$?Math.min($a$$,$g$$)-$d$$:Math.max($a$$,$g$$)+$d$$,$e$$.push(new mxPoint($d$$,$b$$)),$e$$.push(new mxPoint($d$$,
$c$$))):($f$$.x<$m$$.x==$k$$?($d$$=$b$$+($c$$-$b$$)/2,$e$$.push($f$$),$e$$.push(new mxPoint($f$$.x,$d$$)),$e$$.push(new mxPoint($m$$.x,$d$$))):$e$$.push($f$$),$e$$.push($m$$)))},Loop:function($a$$,$b$$,$c$$,$d$$,$e$$){$c$$=$a$$.absolutePoints;var $f$$=$c$$[$c$$.length-1];if(null!=$c$$[0]&&null!=$f$$){if(null!=$d$$&&0<$d$$.length)for($b$$=0;$b$$<$d$$.length;$b$$++)$c$$=$d$$[$b$$],$c$$=$a$$.view.transformControlPoint($a$$,$c$$),$e$$.push(new mxPoint($c$$.x,$c$$.y))}else if(null!=$b$$){var $f$$=$a$$.view,
$g$$=$f$$.graph;$c$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null;null!=$c$$&&($c$$=$f$$.transformControlPoint($a$$,$c$$),mxUtils.contains($b$$,$c$$.x,$c$$.y)&&($c$$=null));var $k$$=$d$$=0,$l$$=0,$m$$=0,$g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_SEGMENT,$g$$.gridSize)*$f$$.scale;$a$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_WEST);$a$$==mxConstants.DIRECTION_NORTH||$a$$==mxConstants.DIRECTION_SOUTH?($d$$=$f$$.getRoutingCenterX($b$$),$k$$=$g$$):($l$$=$f$$.getRoutingCenterY($b$$),
$m$$=$g$$);null==$c$$||$c$$.x<$b$$.x||$c$$.x>$b$$.x+$b$$.width?null!=$c$$?($d$$=$c$$.x,$m$$=Math.max(Math.abs($l$$-$c$$.y),$m$$)):$a$$==mxConstants.DIRECTION_NORTH?$l$$=$b$$.y-2*$k$$:$a$$==mxConstants.DIRECTION_SOUTH?$l$$=$b$$.y+$b$$.height+2*$k$$:$d$$=$a$$==mxConstants.DIRECTION_EAST?$b$$.x-2*$m$$:$b$$.x+$b$$.width+2*$m$$:null!=$c$$&&($d$$=$f$$.getRoutingCenterX($b$$),$k$$=Math.max(Math.abs($d$$-$c$$.x),$m$$),$l$$=$c$$.y,$m$$=0);$e$$.push(new mxPoint($d$$-$k$$,$l$$-$m$$));$e$$.push(new mxPoint($d$$+
$k$$,$l$$+$m$$))}},ElbowConnector:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null,$g$$=!1,$k$$=!1;if(null!=$b$$&&null!=$c$$)if(null!=$f$$)var $l$$=Math.min($b$$.x,$c$$.x),$m$$=Math.max($b$$.x+$b$$.width,$c$$.x+$c$$.width),$k$$=Math.min($b$$.y,$c$$.y),$n$$=Math.max($b$$.y+$b$$.height,$c$$.y+$c$$.height),$f$$=$a$$.view.transformControlPoint($a$$,$f$$),$g$$=$f$$.y<$k$$||$f$$.y>$n$$,$k$$=$f$$.x<$l$$||$f$$.x>$m$$;else $l$$=Math.max($b$$.x,$c$$.x),$m$$=Math.min($b$$.x+
$b$$.width,$c$$.x+$c$$.width),($g$$=$l$$==$m$$)||($k$$=Math.max($b$$.y,$c$$.y),$n$$=Math.min($b$$.y+$b$$.height,$c$$.y+$c$$.height),$k$$=$k$$==$n$$);$k$$||!$g$$&&$a$$.style[mxConstants.STYLE_ELBOW]!=mxConstants.ELBOW_VERTICAL?mxEdgeStyle.SideToSide($a$$,$b$$,$c$$,$d$$,$e$$):mxEdgeStyle.TopToBottom($a$$,$b$$,$c$$,$d$$,$e$$)},SideToSide:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view;$d$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null;var $g$$=$a$$.absolutePoints,$k$$=$g$$[0],$g$$=$g$$[$g$$.length-1];
null!=$d$$&&($d$$=$f$$.transformControlPoint($a$$,$d$$));null!=$k$$&&($b$$=new mxCellState,$b$$.x=$k$$.x,$b$$.y=$k$$.y);null!=$g$$&&($c$$=new mxCellState,$c$$.x=$g$$.x,$c$$.y=$g$$.y);null!=$b$$&&null!=$c$$&&($a$$=Math.max($b$$.x,$c$$.x),$k$$=Math.min($b$$.x+$b$$.width,$c$$.x+$c$$.width),$a$$=null!=$d$$?$d$$.x:Math.round($k$$+($a$$-$k$$)/2),$k$$=$f$$.getRoutingCenterY($b$$),$f$$=$f$$.getRoutingCenterY($c$$),null!=$d$$&&($d$$.y>=$b$$.y&&$d$$.y<=$b$$.y+$b$$.height&&($k$$=$d$$.y),$d$$.y>=$c$$.y&&$d$$.y<=
$c$$.y+$c$$.height&&($f$$=$d$$.y)),mxUtils.contains($c$$,$a$$,$k$$)||mxUtils.contains($b$$,$a$$,$k$$)||$e$$.push(new mxPoint($a$$,$k$$)),mxUtils.contains($c$$,$a$$,$f$$)||mxUtils.contains($b$$,$a$$,$f$$)||$e$$.push(new mxPoint($a$$,$f$$)),1==$e$$.length&&(null!=$d$$?mxUtils.contains($c$$,$a$$,$d$$.y)||mxUtils.contains($b$$,$a$$,$d$$.y)||$e$$.push(new mxPoint($a$$,$d$$.y)):($f$$=Math.max($b$$.y,$c$$.y),$e$$.push(new mxPoint($a$$,$f$$+(Math.min($b$$.y+$b$$.height,$c$$.y+$c$$.height)-$f$$)/2)))))},TopToBottom:function($a$$,
$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view;$d$$=null!=$d$$&&0<$d$$.length?$d$$[0]:null;var $g$$=$a$$.absolutePoints,$k$$=$g$$[0],$g$$=$g$$[$g$$.length-1];null!=$d$$&&($d$$=$f$$.transformControlPoint($a$$,$d$$));null!=$k$$&&($b$$=new mxCellState,$b$$.x=$k$$.x,$b$$.y=$k$$.y);null!=$g$$&&($c$$=new mxCellState,$c$$.x=$g$$.x,$c$$.y=$g$$.y);null!=$b$$&&null!=$c$$&&($k$$=Math.max($b$$.y,$c$$.y),$g$$=Math.min($b$$.y+$b$$.height,$c$$.y+$c$$.height),$a$$=$f$$.getRoutingCenterX($b$$),null!=$d$$&&$d$$.x>=$b$$.x&&
$d$$.x<=$b$$.x+$b$$.width&&($a$$=$d$$.x),$k$$=null!=$d$$?$d$$.y:Math.round($g$$+($k$$-$g$$)/2),mxUtils.contains($c$$,$a$$,$k$$)||mxUtils.contains($b$$,$a$$,$k$$)||$e$$.push(new mxPoint($a$$,$k$$)),$a$$=null!=$d$$&&$d$$.x>=$c$$.x&&$d$$.x<=$c$$.x+$c$$.width?$d$$.x:$f$$.getRoutingCenterX($c$$),mxUtils.contains($c$$,$a$$,$k$$)||mxUtils.contains($b$$,$a$$,$k$$)||$e$$.push(new mxPoint($a$$,$k$$)),1==$e$$.length&&(null!=$d$$&&1==$e$$.length?mxUtils.contains($c$$,$d$$.x,$k$$)||mxUtils.contains($b$$,$d$$.x,
$k$$)||$e$$.push(new mxPoint($d$$.x,$k$$)):($f$$=Math.max($b$$.x,$c$$.x),$e$$.push(new mxPoint($f$$+(Math.min($b$$.x+$b$$.width,$c$$.x+$c$$.width)-$f$$)/2,$k$$)))))},SegmentConnector:function($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$){function $f$$($a$$){if(null==$l$$||Math.abs($l$$.x-$a$$.x)>=$k$$||Math.abs($l$$.y-$a$$.y)>=$k$$)$e$$.push($a$$),$l$$=$a$$;return $l$$}var $g$$=$a$jscomp$0$$.absolutePoints,$k$$=Math.max(1,$a$jscomp$0$$.view.scale),$l$$=0<$e$$.length?$e$$[0]:null,$m$$=!0,$n$$=null,$p$$=$g$$[0];
null==$p$$&&null!=$b$$?$p$$=new mxPoint($a$jscomp$0$$.view.getRoutingCenterX($b$$),$a$jscomp$0$$.view.getRoutingCenterY($b$$)):null!=$p$$&&($p$$=$p$$.clone());$p$$.x=Math.round($p$$.x);$p$$.y=Math.round($p$$.y);var $q$$=$g$$.length-1;if(null!=$d$$&&0<$d$$.length){for(var $n$$=[],$r$$=0;$r$$<$d$$.length;$r$$++){var $t$$=$a$jscomp$0$$.view.transformControlPoint($a$jscomp$0$$,$d$$[$r$$]);null!=$t$$&&($t$$.x=Math.round($t$$.x),$t$$.y=Math.round($t$$.y),$n$$.push($t$$))}if(0==$n$$.length)return;$d$$=$n$$;
null!=$p$$&&null!=$d$$[0]&&(Math.abs($d$$[0].x-$p$$.x)<$k$$&&($d$$[0].x=$p$$.x),Math.abs($d$$[0].y-$p$$.y)<$k$$&&($d$$[0].y=$p$$.y));$t$$=$g$$[$q$$];null!=$t$$&&null!=$d$$[$d$$.length-1]&&(Math.abs($d$$[$d$$.length-1].x-$t$$.x)<$k$$&&($d$$[$d$$.length-1].x=$t$$.x),Math.abs($d$$[$d$$.length-1].y-$t$$.y)<$k$$&&($d$$[$d$$.length-1].y=$t$$.y));var $n$$=$d$$[0],$u$$=$b$$,$y$$=$g$$[0],$x$$=!1,$A$$=!1,$x$$=$n$$;null!=$y$$&&($y$$.x=Math.round($y$$.x),$y$$.y=Math.round($y$$.y),$u$$=null);for($r$$=0;2>$r$$;$r$$++){var $z$$=
null!=$y$$&&$y$$.x==$x$$.x,$v$$=null!=$y$$&&$y$$.y==$x$$.y,$B$$=null!=$u$$&&$x$$.y>=$u$$.y&&$x$$.y<=$u$$.y+$u$$.height,$u$$=null!=$u$$&&$x$$.x>=$u$$.x&&$x$$.x<=$u$$.x+$u$$.width,$x$$=$v$$||null==$y$$&&$B$$,$A$$=$z$$||null==$y$$&&$u$$;if(0!=$r$$||!($x$$&&$A$$||$z$$&&$v$$)){if(null!=$y$$&&!$v$$&&!$z$$&&($B$$||$u$$)){$m$$=$B$$?!1:!0;break}if($A$$||$x$$){$m$$=$x$$;1==$r$$&&($m$$=0==$d$$.length%2?$x$$:$A$$);break}}$u$$=$c$$;$y$$=$g$$[$q$$];null!=$y$$&&($y$$.x=Math.round($y$$.x),$y$$.y=Math.round($y$$.y),
$u$$=null);$x$$=$d$$[$d$$.length-1];$z$$&&$v$$&&($d$$=$d$$.slice(1))}$m$$&&(null!=$g$$[0]&&$g$$[0].y!=$n$$.y||null==$g$$[0]&&null!=$b$$&&($n$$.y<$b$$.y||$n$$.y>$b$$.y+$b$$.height))?$f$$(new mxPoint($p$$.x,$n$$.y)):!$m$$&&(null!=$g$$[0]&&$g$$[0].x!=$n$$.x||null==$g$$[0]&&null!=$b$$&&($n$$.x<$b$$.x||$n$$.x>$b$$.x+$b$$.width))&&$f$$(new mxPoint($n$$.x,$p$$.y));$m$$?$p$$.y=$n$$.y:$p$$.x=$n$$.x;for($r$$=0;$r$$<$d$$.length;$r$$++)$m$$=!$m$$,$n$$=$d$$[$r$$],$m$$?$p$$.y=$n$$.y:$p$$.x=$n$$.x,$f$$($p$$.clone())}else $n$$=
$p$$,$m$$=!0;$p$$=$g$$[$q$$];null==$p$$&&null!=$c$$&&($p$$=new mxPoint($a$jscomp$0$$.view.getRoutingCenterX($c$$),$a$jscomp$0$$.view.getRoutingCenterY($c$$)));null!=$p$$&&($p$$.x=Math.round($p$$.x),$p$$.y=Math.round($p$$.y),null!=$n$$&&($m$$&&(null!=$g$$[$q$$]&&$g$$[$q$$].y!=$n$$.y||null==$g$$[$q$$]&&null!=$c$$&&($n$$.y<$c$$.y||$n$$.y>$c$$.y+$c$$.height))?$f$$(new mxPoint($p$$.x,$n$$.y)):!$m$$&&(null!=$g$$[$q$$]&&$g$$[$q$$].x!=$n$$.x||null==$g$$[$q$$]&&null!=$c$$&&($n$$.x<$c$$.x||$n$$.x>$c$$.x+$c$$.width))&&
$f$$(new mxPoint($n$$.x,$p$$.y))));if(null==$g$$[0]&&null!=$b$$)for(;1<$e$$.length&&null!=$e$$[1]&&mxUtils.contains($b$$,$e$$[1].x,$e$$[1].y);)$e$$.splice(1,1);if(null==$g$$[$q$$]&&null!=$c$$)for(;1<$e$$.length&&null!=$e$$[$e$$.length-1]&&mxUtils.contains($c$$,$e$$[$e$$.length-1].x,$e$$[$e$$.length-1].y);)$e$$.splice($e$$.length-1,1);null!=$t$$&&null!=$e$$[$e$$.length-1]&&Math.abs($t$$.x-$e$$[$e$$.length-1].x)<$k$$&&Math.abs($t$$.y-$e$$[$e$$.length-1].y)<$k$$&&($e$$.splice($e$$.length-1,1),null!=
$e$$[$e$$.length-1]&&(Math.abs($e$$[$e$$.length-1].x-$t$$.x)<$k$$&&($e$$[$e$$.length-1].x=$t$$.x),Math.abs($e$$[$e$$.length-1].y-$t$$.y)<$k$$&&($e$$[$e$$.length-1].y=$t$$.y)))},orthBuffer:10,orthPointsFallback:!0,dirVectors:[[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0]],wayPoints1:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],routePatterns:[[[513,2308,2081,2562],[513,1090,514,2184,2114,2561],[513,1090,514,2564,2184,2562],[513,2308,2561,1090,514,2568,2308]],[[514,1057,
513,2308,2081,2562],[514,2184,2114,2561],[514,2184,2562,1057,513,2564,2184],[514,1057,513,2568,2308,2561]],[[1090,514,1057,513,2308,2081,2562],[2114,2561],[1090,2562,1057,513,2564,2184],[1090,514,1057,513,2308,2561,2568]],[[2081,2562],[1057,513,1090,514,2184,2114,2561],[1057,513,1090,514,2184,2562,2564],[1057,2561,1090,514,2568,2308]]],inlineRoutePatterns:[[null,[2114,2568],null,null],[null,[514,2081,2114,2568],null,null],[null,[2114,2561],null,null],[[2081,2562],[1057,2114,2568],[2184,2562],null]],
vertexSeperations:[],limits:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],LEFT_MASK:32,TOP_MASK:64,RIGHT_MASK:128,BOTTOM_MASK:256,LEFT:1,TOP:2,RIGHT:4,BOTTOM:8,SIDE_MASK:480,CENTER_MASK:512,SOURCE_MASK:1024,TARGET_MASK:2048,VERTEX_MASK:3072,getJettySize:function($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=mxUtils.getValue($a$$.style,$e$$?mxConstants.STYLE_SOURCE_JETTY_SIZE:mxConstants.STYLE_TARGET_JETTY_SIZE,mxUtils.getValue($a$$.style,mxConstants.STYLE_JETTY_SIZE,mxEdgeStyle.orthBuffer));"auto"==$b$$&&(mxUtils.getValue($a$$.style,
$e$$?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE?($a$$=mxUtils.getNumber($a$$.style,$e$$?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE),$b$$=Math.max(2,Math.ceil(($a$$+mxEdgeStyle.orthBuffer)/mxEdgeStyle.orthBuffer))*mxEdgeStyle.orthBuffer):$b$$=2*mxEdgeStyle.orthBuffer);return $b$$},OrthConnector:function($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=$a$$.view.graph,$g$$=null==$b$$?!1:$f$$.getModel().isEdge($b$$.cell),$k$$=
null==$c$$?!1:$f$$.getModel().isEdge($c$$.cell),$f$$=$a$$.absolutePoints,$l$$=$f$$[0],$m$$=$f$$[$f$$.length-1],$n$$=null!=$b$$?$b$$.x:$l$$.x,$p$$=null!=$b$$?$b$$.y:$l$$.y,$q$$=null!=$b$$?$b$$.width:0,$r$$=null!=$b$$?$b$$.height:0,$t$$=null!=$c$$?$c$$.x:$m$$.x,$u$$=null!=$c$$?$c$$.y:$m$$.y,$y$$=null!=$c$$?$c$$.width:0,$x$$=null!=$c$$?$c$$.height:0,$f$$=$a$$.view.scale*mxEdgeStyle.getJettySize($a$$,$b$$,$c$$,$d$$,!0),$A$$=$a$$.view.scale*mxEdgeStyle.getJettySize($a$$,$b$$,$c$$,$d$$,!1);null!=$b$$&&
$c$$==$b$$&&($f$$=$A$$=Math.max($f$$,$A$$));var $z$$=$A$$+$f$$,$v$$=!1;if(null!=$l$$&&null!=$m$$)var $v$$=$m$$.x-$l$$.x,$B$$=$m$$.y-$l$$.y,$v$$=$v$$*$v$$+$B$$*$B$$<$z$$*$z$$;if($v$$||mxEdgeStyle.orthPointsFallback&&null!=$d$$&&0<$d$$.length||$g$$||$k$$)mxEdgeStyle.SegmentConnector($a$$,$b$$,$c$$,$d$$,$e$$);else{$d$$=[mxConstants.DIRECTION_MASK_ALL,mxConstants.DIRECTION_MASK_ALL];null!=$b$$&&($d$$[0]=mxUtils.getPortConstraints($b$$,$a$$,!0,mxConstants.DIRECTION_MASK_ALL),$v$$=mxUtils.getValue($b$$.style,
mxConstants.STYLE_ROTATION,0),0!=$v$$&&($v$$=mxUtils.getBoundingBox(new mxRectangle($n$$,$p$$,$q$$,$r$$),$v$$),$n$$=$v$$.x,$p$$=$v$$.y,$q$$=$v$$.width,$r$$=$v$$.height));null!=$c$$&&($d$$[1]=mxUtils.getPortConstraints($c$$,$a$$,!1,mxConstants.DIRECTION_MASK_ALL),$v$$=mxUtils.getValue($c$$.style,mxConstants.STYLE_ROTATION,0),0!=$v$$&&($v$$=mxUtils.getBoundingBox(new mxRectangle($t$$,$u$$,$y$$,$x$$),$v$$),$t$$=$v$$.x,$u$$=$v$$.y,$y$$=$v$$.width,$x$$=$v$$.height));$n$$=Math.round(10*$n$$)/10;$p$$=Math.round(10*
$p$$)/10;$q$$=Math.round(10*$q$$)/10;$r$$=Math.round(10*$r$$)/10;$t$$=Math.round(10*$t$$)/10;$u$$=Math.round(10*$u$$)/10;$y$$=Math.round(10*$y$$)/10;$x$$=Math.round(10*$x$$)/10;$a$$=[0,0];$n$$=[[$n$$,$p$$,$q$$,$r$$],[$t$$,$u$$,$y$$,$x$$]];$A$$=[$f$$,$A$$];for($v$$=0;2>$v$$;$v$$++)mxEdgeStyle.limits[$v$$][1]=$n$$[$v$$][0]-$A$$[$v$$],mxEdgeStyle.limits[$v$$][2]=$n$$[$v$$][1]-$A$$[$v$$],mxEdgeStyle.limits[$v$$][4]=$n$$[$v$$][0]+$n$$[$v$$][2]+$A$$[$v$$],mxEdgeStyle.limits[$v$$][8]=$n$$[$v$$][1]+$n$$[$v$$][3]+
$A$$[$v$$];$A$$=$n$$[0][1]+$n$$[0][3]/2;$p$$=$n$$[1][1]+$n$$[1][3]/2;$v$$=$n$$[0][0]+$n$$[0][2]/2-($n$$[1][0]+$n$$[1][2]/2);$B$$=$A$$-$p$$;$A$$=0;0>$v$$?$A$$=0>$B$$?2:1:0>=$B$$&&($A$$=3,0==$v$$&&($A$$=2));$p$$=null;null!=$b$$&&($p$$=$l$$);$b$$=[[.5,.5],[.5,.5]];for($v$$=0;2>$v$$;$v$$++)null!=$p$$&&($b$$[$v$$][0]=($p$$.x-$n$$[$v$$][0])/$n$$[$v$$][2],1>=Math.abs($p$$.x-$n$$[$v$$][0])?$a$$[$v$$]=mxConstants.DIRECTION_MASK_WEST:1>=Math.abs($p$$.x-$n$$[$v$$][0]-$n$$[$v$$][2])&&($a$$[$v$$]=mxConstants.DIRECTION_MASK_EAST),
$b$$[$v$$][1]=($p$$.y-$n$$[$v$$][1])/$n$$[$v$$][3],1>=Math.abs($p$$.y-$n$$[$v$$][1])?$a$$[$v$$]=mxConstants.DIRECTION_MASK_NORTH:1>=Math.abs($p$$.y-$n$$[$v$$][1]-$n$$[$v$$][3])&&($a$$[$v$$]=mxConstants.DIRECTION_MASK_SOUTH)),$p$$=null,null!=$c$$&&($p$$=$m$$);$v$$=$n$$[0][1]-($n$$[1][1]+$n$$[1][3]);$m$$=$n$$[0][0]-($n$$[1][0]+$n$$[1][2]);$p$$=$n$$[1][1]-($n$$[0][1]+$n$$[0][3]);$q$$=$n$$[1][0]-($n$$[0][0]+$n$$[0][2]);mxEdgeStyle.vertexSeperations[1]=Math.max($m$$-$z$$,0);mxEdgeStyle.vertexSeperations[2]=
Math.max($v$$-$z$$,0);mxEdgeStyle.vertexSeperations[4]=Math.max($p$$-$z$$,0);mxEdgeStyle.vertexSeperations[3]=Math.max($q$$-$z$$,0);$z$$=[];$c$$=[];$l$$=[];$c$$[0]=$m$$>=$q$$?mxConstants.DIRECTION_MASK_WEST:mxConstants.DIRECTION_MASK_EAST;$l$$[0]=$v$$>=$p$$?mxConstants.DIRECTION_MASK_NORTH:mxConstants.DIRECTION_MASK_SOUTH;$c$$[1]=mxUtils.reversePortConstraints($c$$[0]);$l$$[1]=mxUtils.reversePortConstraints($l$$[0]);$m$$=$m$$>=$q$$?$m$$:$q$$;$p$$=$v$$>=$p$$?$v$$:$p$$;$q$$=[[0,0],[0,0]];$r$$=!1;for($v$$=
0;2>$v$$;$v$$++)0==$a$$[$v$$]&&(0==($c$$[$v$$]&$d$$[$v$$])&&($c$$[$v$$]=mxUtils.reversePortConstraints($c$$[$v$$])),0==($l$$[$v$$]&$d$$[$v$$])&&($l$$[$v$$]=mxUtils.reversePortConstraints($l$$[$v$$])),$q$$[$v$$][0]=$l$$[$v$$],$q$$[$v$$][1]=$c$$[$v$$]);0<$p$$&&0<$m$$&&(0<($c$$[0]&$d$$[0])&&0<($l$$[1]&$d$$[1])?($q$$[0][0]=$c$$[0],$q$$[0][1]=$l$$[0],$q$$[1][0]=$l$$[1],$q$$[1][1]=$c$$[1],$r$$=!0):0<($l$$[0]&$d$$[0])&&0<($c$$[1]&$d$$[1])&&($q$$[0][0]=$l$$[0],$q$$[0][1]=$c$$[0],$q$$[1][0]=$c$$[1],$q$$[1][1]=
$l$$[1],$r$$=!0));0<$p$$&&!$r$$&&($q$$[0][0]=$l$$[0],$q$$[0][1]=$c$$[0],$q$$[1][0]=$l$$[1],$q$$[1][1]=$c$$[1],$r$$=!0);0<$m$$&&!$r$$&&($q$$[0][0]=$c$$[0],$q$$[0][1]=$l$$[0],$q$$[1][0]=$c$$[1],$q$$[1][1]=$l$$[1]);for($v$$=0;2>$v$$;$v$$++)0==$a$$[$v$$]&&(0==($q$$[$v$$][0]&$d$$[$v$$])&&($q$$[$v$$][0]=$q$$[$v$$][1]),$z$$[$v$$]=$q$$[$v$$][0]&$d$$[$v$$],$z$$[$v$$]|=($q$$[$v$$][1]&$d$$[$v$$])<<8,$z$$[$v$$]|=($q$$[1-$v$$][$v$$]&$d$$[$v$$])<<16,$z$$[$v$$]|=($q$$[1-$v$$][1-$v$$]&$d$$[$v$$])<<24,0==($z$$[$v$$]&
15)&&($z$$[$v$$]<<=8),0==($z$$[$v$$]&3840)&&($z$$[$v$$]=$z$$[$v$$]&15|$z$$[$v$$]>>8),0==($z$$[$v$$]&983040)&&($z$$[$v$$]=$z$$[$v$$]&65535|($z$$[$v$$]&251658240)>>8),$a$$[$v$$]=$z$$[$v$$]&15,$d$$[$v$$]==mxConstants.DIRECTION_MASK_WEST||$d$$[$v$$]==mxConstants.DIRECTION_MASK_NORTH||$d$$[$v$$]==mxConstants.DIRECTION_MASK_EAST||$d$$[$v$$]==mxConstants.DIRECTION_MASK_SOUTH)&&($a$$[$v$$]=$d$$[$v$$]);$d$$=$a$$[0]==mxConstants.DIRECTION_MASK_EAST?3:$a$$[0];$z$$=$a$$[1]==mxConstants.DIRECTION_MASK_EAST?3:
$a$$[1];$d$$-=$A$$;$z$$-=$A$$;1>$d$$&&($d$$+=4);1>$z$$&&($z$$+=4);$d$$=mxEdgeStyle.routePatterns[$d$$-1][$z$$-1];mxEdgeStyle.wayPoints1[0][0]=$n$$[0][0];mxEdgeStyle.wayPoints1[0][1]=$n$$[0][1];switch($a$$[0]){case mxConstants.DIRECTION_MASK_WEST:mxEdgeStyle.wayPoints1[0][0]-=$f$$;mxEdgeStyle.wayPoints1[0][1]+=$b$$[0][1]*$n$$[0][3];break;case mxConstants.DIRECTION_MASK_SOUTH:mxEdgeStyle.wayPoints1[0][0]+=$b$$[0][0]*$n$$[0][2];mxEdgeStyle.wayPoints1[0][1]+=$n$$[0][3]+$f$$;break;case mxConstants.DIRECTION_MASK_EAST:mxEdgeStyle.wayPoints1[0][0]+=
$n$$[0][2]+$f$$;mxEdgeStyle.wayPoints1[0][1]+=$b$$[0][1]*$n$$[0][3];break;case mxConstants.DIRECTION_MASK_NORTH:mxEdgeStyle.wayPoints1[0][0]+=$b$$[0][0]*$n$$[0][2],mxEdgeStyle.wayPoints1[0][1]-=$f$$}$f$$=0;$c$$=$z$$=0<($a$$[0]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))?0:1;for($v$$=0;$v$$<$d$$.length;$v$$++)$l$$=$d$$[$v$$]&15,$r$$=$l$$==mxConstants.DIRECTION_MASK_EAST?3:$l$$,$r$$+=$A$$,4<$r$$&&($r$$-=4),$m$$=mxEdgeStyle.dirVectors[$r$$-1],$l$$=0<$r$$%2?0:1,$l$$!=$z$$&&($f$$++,
mxEdgeStyle.wayPoints1[$f$$][0]=mxEdgeStyle.wayPoints1[$f$$-1][0],mxEdgeStyle.wayPoints1[$f$$][1]=mxEdgeStyle.wayPoints1[$f$$-1][1]),$t$$=0<($d$$[$v$$]&mxEdgeStyle.TARGET_MASK),$u$$=0<($d$$[$v$$]&mxEdgeStyle.SOURCE_MASK),$p$$=($d$$[$v$$]&mxEdgeStyle.SIDE_MASK)>>5,$p$$<<=$A$$,15<$p$$&&($p$$>>=4),$q$$=0<($d$$[$v$$]&mxEdgeStyle.CENTER_MASK),($u$$||$t$$)&&9>$p$$?($r$$=$u$$?0:1,$p$$=$q$$&&0==$l$$?$n$$[$r$$][0]+$b$$[$r$$][0]*$n$$[$r$$][2]:$q$$?$n$$[$r$$][1]+$b$$[$r$$][1]*$n$$[$r$$][3]:mxEdgeStyle.limits[$r$$][$p$$],
0==$l$$?($p$$=($p$$-mxEdgeStyle.wayPoints1[$f$$][0])*$m$$[0],0<$p$$&&(mxEdgeStyle.wayPoints1[$f$$][0]+=$m$$[0]*$p$$)):($p$$=($p$$-mxEdgeStyle.wayPoints1[$f$$][1])*$m$$[1],0<$p$$&&(mxEdgeStyle.wayPoints1[$f$$][1]+=$m$$[1]*$p$$))):$q$$&&(mxEdgeStyle.wayPoints1[$f$$][0]+=$m$$[0]*Math.abs(mxEdgeStyle.vertexSeperations[$r$$]/2),mxEdgeStyle.wayPoints1[$f$$][1]+=$m$$[1]*Math.abs(mxEdgeStyle.vertexSeperations[$r$$]/2)),0<$f$$&&mxEdgeStyle.wayPoints1[$f$$][$l$$]==mxEdgeStyle.wayPoints1[$f$$-1][$l$$]?$f$$--:
$z$$=$l$$;for($v$$=0;$v$$<=$f$$&&($v$$!=$f$$||((0<($a$$[1]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))?0:1)==$c$$?0:1)==($f$$+1)%2);$v$$++)$e$$.push(new mxPoint(Math.round(mxEdgeStyle.wayPoints1[$v$$][0]),Math.round(mxEdgeStyle.wayPoints1[$v$$][1])));for($a$$=1;$a$$<$e$$.length;)null==$e$$[$a$$-1]||null==$e$$[$a$$]||$e$$[$a$$-1].x!=$e$$[$a$$].x||$e$$[$a$$-1].y!=$e$$[$a$$].y?$a$$++:$e$$.splice($a$$,1)}},getRoutePattern:function($a$$,$b$$,$c$$,$d$$){var $e$$=$a$$[0]==mxConstants.DIRECTION_MASK_EAST?
3:$a$$[0];$a$$=$a$$[1]==mxConstants.DIRECTION_MASK_EAST?3:$a$$[1];$e$$-=$b$$;$a$$-=$b$$;1>$e$$&&($e$$+=4);1>$a$$&&($a$$+=4);$b$$=routePatterns[$e$$-1][$a$$-1];0!=$c$$&&0!=$d$$||null==inlineRoutePatterns[$e$$-1][$a$$-1]||($b$$=inlineRoutePatterns[$e$$-1][$a$$-1]);return $b$$}},mxStyleRegistry={values:[],putValue:function($a$$,$b$$){mxStyleRegistry.values[$a$$]=$b$$},getValue:function($a$$){return mxStyleRegistry.values[$a$$]},getName:function($a$$){for(var $b$$ in mxStyleRegistry.values)if(mxStyleRegistry.values[$b$$]==
$a$$)return $b$$;return null}};mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ELBOW,mxEdgeStyle.ElbowConnector);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ENTITY_RELATION,mxEdgeStyle.EntityRelation);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_LOOP,mxEdgeStyle.Loop);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SIDETOSIDE,mxEdgeStyle.SideToSide);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_TOPTOBOTTOM,mxEdgeStyle.TopToBottom);mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ORTHOGONAL,mxEdgeStyle.OrthConnector);
mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SEGMENT,mxEdgeStyle.SegmentConnector);mxStyleRegistry.putValue(mxConstants.PERIMETER_ELLIPSE,mxPerimeter.EllipsePerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_RECTANGLE,mxPerimeter.RectanglePerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_RHOMBUS,mxPerimeter.RhombusPerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_TRIANGLE,mxPerimeter.TrianglePerimeter);mxStyleRegistry.putValue(mxConstants.PERIMETER_HEXAGON,mxPerimeter.HexagonPerimeter);
function mxGraphView($a$$){this.graph=$a$$;this.translate=new mxPoint;this.graphBounds=new mxRectangle;this.states=new mxDictionary}mxGraphView.prototype=new mxEventSource;mxGraphView.prototype.constructor=mxGraphView;mxGraphView.prototype.EMPTY_POINT=new mxPoint;mxGraphView.prototype.doneResource="none"!=mxClient.language?"done":"";mxGraphView.prototype.updatingDocumentResource="none"!=mxClient.language?"updatingDocument":"";mxGraphView.prototype.allowEval=!1;
mxGraphView.prototype.captureDocumentGesture=!0;mxGraphView.prototype.optimizeVmlReflows=!0;mxGraphView.prototype.rendering=!0;mxGraphView.prototype.graph=null;mxGraphView.prototype.currentRoot=null;mxGraphView.prototype.graphBounds=null;mxGraphView.prototype.scale=1;mxGraphView.prototype.translate=null;mxGraphView.prototype.states=null;mxGraphView.prototype.updateStyle=!1;mxGraphView.prototype.lastNode=null;mxGraphView.prototype.lastHtmlNode=null;mxGraphView.prototype.lastForegroundNode=null;
mxGraphView.prototype.lastForegroundHtmlNode=null;mxGraphView.prototype.getGraphBounds=function $mxGraphView$$getGraphBounds$(){return this.graphBounds};mxGraphView.prototype.setGraphBounds=function $mxGraphView$$setGraphBounds$($a$$){this.graphBounds=$a$$};
mxGraphView.prototype.getBounds=function $mxGraphView$$getBounds$($a$$){var $b$$=null;if(null!=$a$$&&0<$a$$.length)for(var $c$$=this.graph.getModel(),$d$$=0;$d$$<$a$$.length;$d$$++)if($c$$.isVertex($a$$[$d$$])||$c$$.isEdge($a$$[$d$$])){var $e$$=this.getState($a$$[$d$$]);null!=$e$$&&(null==$b$$?$b$$=mxRectangle.fromRectangle($e$$):$b$$.add($e$$))}return $b$$};
mxGraphView.prototype.setCurrentRoot=function $mxGraphView$$setCurrentRoot$($a$$){if(this.currentRoot!=$a$$){var $b$$=new mxCurrentRootChange(this,$a$$);$b$$.execute();var $c$$=new mxUndoableEdit(this,!0);$c$$.add($b$$);this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$c$$));this.graph.sizeDidChange()}return $a$$};
mxGraphView.prototype.scaleAndTranslate=function $mxGraphView$$scaleAndTranslate$($a$$,$b$$,$c$$){var $d$$=this.scale,$e$$=new mxPoint(this.translate.x,this.translate.y);if(this.scale!=$a$$||this.translate.x!=$b$$||this.translate.y!=$c$$)this.scale=$a$$,this.translate.x=$b$$,this.translate.y=$c$$,this.isEventsEnabled()&&this.viewStateChanged();this.fireEvent(new mxEventObject(mxEvent.SCALE_AND_TRANSLATE,"scale",$a$$,"previousScale",$d$$,"translate",this.translate,"previousTranslate",$e$$))};
mxGraphView.prototype.getScale=function $mxGraphView$$getScale$(){return this.scale};mxGraphView.prototype.setScale=function $mxGraphView$$setScale$($a$$){var $b$$=this.scale;this.scale!=$a$$&&(this.scale=$a$$,this.isEventsEnabled()&&this.viewStateChanged());this.fireEvent(new mxEventObject(mxEvent.SCALE,"scale",$a$$,"previousScale",$b$$))};mxGraphView.prototype.getTranslate=function $mxGraphView$$getTranslate$(){return this.translate};
mxGraphView.prototype.setTranslate=function $mxGraphView$$setTranslate$($a$$,$b$$){var $c$$=new mxPoint(this.translate.x,this.translate.y);if(this.translate.x!=$a$$||this.translate.y!=$b$$)this.translate.x=$a$$,this.translate.y=$b$$,this.isEventsEnabled()&&this.viewStateChanged();this.fireEvent(new mxEventObject(mxEvent.TRANSLATE,"translate",this.translate,"previousTranslate",$c$$))};mxGraphView.prototype.viewStateChanged=function $mxGraphView$$viewStateChanged$(){this.revalidate();this.graph.sizeDidChange()};
mxGraphView.prototype.refresh=function $mxGraphView$$refresh$(){null!=this.currentRoot&&this.clear();this.revalidate()};mxGraphView.prototype.revalidate=function $mxGraphView$$revalidate$(){this.invalidate();this.validate()};
mxGraphView.prototype.clear=function $mxGraphView$$clear$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel();$a$$=$a$$||$d$$.getRoot();$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!0;this.removeState($a$$);if($c$$&&($b$$||$a$$!=this.currentRoot)){$c$$=$d$$.getChildCount($a$$);for(var $e$$=0;$e$$<$c$$;$e$$++)this.clear($d$$.getChildAt($a$$,$e$$),$b$$)}else this.invalidate($a$$)};
mxGraphView.prototype.invalidate=function $mxGraphView$$invalidate$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel();$a$$=$a$$||$d$$.getRoot();$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:!0;var $e$$=this.getState($a$$);null!=$e$$&&($e$$.invalid=!0);if(!$a$$.invalidating){$a$$.invalidating=!0;if($b$$)for(var $f$$=$d$$.getChildCount($a$$),$e$$=0;$e$$<$f$$;$e$$++){var $g$$=$d$$.getChildAt($a$$,$e$$);this.invalidate($g$$,$b$$,$c$$)}if($c$$)for($f$$=$d$$.getEdgeCount($a$$),$e$$=0;$e$$<$f$$;$e$$++)this.invalidate($d$$.getEdgeAt($a$$,
$e$$),$b$$,$c$$);delete $a$$.invalidating}};
mxGraphView.prototype.validate=function $mxGraphView$$validate$($a$$){var $b$$=mxLog.enter("mxGraphView.validate");window.status=mxResources.get(this.updatingDocumentResource)||this.updatingDocumentResource;this.resetValidationState();var $c$$=null;this.optimizeVmlReflows&&null!=this.canvas&&null==this.textDiv&&(8==document.documentMode&&!mxClient.IS_EM||mxClient.IS_QUIRKS)&&(this.placeholder=document.createElement("div"),this.placeholder.style.position="absolute",this.placeholder.style.width=this.canvas.clientWidth+
"px",this.placeholder.style.height=this.canvas.clientHeight+"px",this.canvas.parentNode.appendChild(this.placeholder),$c$$=this.drawPane.style.display,this.canvas.style.display="none",this.textDiv=document.createElement("div"),this.textDiv.style.position="absolute",this.textDiv.style.whiteSpace="nowrap",this.textDiv.style.visibility="hidden",this.textDiv.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",this.textDiv.style.zoom="1",document.body.appendChild(this.textDiv));$a$$=this.getBoundingBox(this.validateCellState(this.validateCell($a$$||
(null!=this.currentRoot?this.currentRoot:this.graph.getModel().getRoot()))));this.setGraphBounds(null!=$a$$?$a$$:this.getEmptyBounds());this.validateBackground();null!=$c$$&&(this.canvas.style.display=$c$$,this.textDiv.parentNode.removeChild(this.textDiv),null!=this.placeholder&&this.placeholder.parentNode.removeChild(this.placeholder),this.textDiv=null);this.resetValidationState();window.status=mxResources.get(this.doneResource)||this.doneResource;mxLog.leave("mxGraphView.validate",$b$$)};
mxGraphView.prototype.getEmptyBounds=function $mxGraphView$$getEmptyBounds$(){return new mxRectangle(this.translate.x*this.scale,this.translate.y*this.scale)};
mxGraphView.prototype.getBoundingBox=function $mxGraphView$$getBoundingBox$($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=null;if(null!=$a$$&&(null!=$a$$.shape&&null!=$a$$.shape.boundingBox&&($c$$=$a$$.shape.boundingBox.clone()),null!=$a$$.text&&null!=$a$$.text.boundingBox&&(null!=$c$$?$c$$.add($a$$.text.boundingBox):$c$$=$a$$.text.boundingBox.clone()),$b$$))for(var $d$$=this.graph.getModel(),$e$$=$d$$.getChildCount($a$$.cell),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=this.getBoundingBox(this.getState($d$$.getChildAt($a$$.cell,
$f$$)));null!=$g$$&&(null==$c$$?$c$$=$g$$:$c$$.add($g$$))}return $c$$};mxGraphView.prototype.createBackgroundPageShape=function $mxGraphView$$createBackgroundPageShape$($a$$){return new mxRectangleShape($a$$,"white","black")};mxGraphView.prototype.validateBackground=function $mxGraphView$$validateBackground$(){this.validateBackgroundImage();this.validateBackgroundPage()};
mxGraphView.prototype.validateBackgroundImage=function $mxGraphView$$validateBackgroundImage$(){var $a$jscomp$0$$=this.graph.getBackgroundImage();if(null!=$a$jscomp$0$$){if(null==this.backgroundImage||this.backgroundImage.image!=$a$jscomp$0$$.src){null!=this.backgroundImage&&this.backgroundImage.destroy();var $b$$=new mxRectangle(0,0,1,1);this.backgroundImage=new mxImageShape($b$$,$a$jscomp$0$$.src);this.backgroundImage.dialect=this.graph.dialect;this.backgroundImage.init(this.backgroundPane);this.backgroundImage.redraw();
8!=document.documentMode||mxClient.IS_EM||mxEvent.addGestureListeners(this.backgroundImage.node,mxUtils.bind(this,function($a$$){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($a$$))}),mxUtils.bind(this,function($a$$){this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($a$$))}),mxUtils.bind(this,function($a$$){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($a$$))}))}this.redrawBackgroundImage(this.backgroundImage,$a$jscomp$0$$)}else null!=this.backgroundImage&&
(this.backgroundImage.destroy(),this.backgroundImage=null)};
mxGraphView.prototype.validateBackgroundPage=function $mxGraphView$$validateBackgroundPage$(){if(this.graph.pageVisible){var $a$jscomp$0$$=this.getBackgroundPageBounds();null==this.backgroundPageShape?(this.backgroundPageShape=this.createBackgroundPageShape($a$jscomp$0$$),this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=this.graph.dialect,this.backgroundPageShape.init(this.backgroundPane),this.backgroundPageShape.redraw(),this.graph.nativeDblClickEnabled&&
mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function($a$$){this.graph.dblClick($a$$)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function($a$$){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($a$$))}),mxUtils.bind(this,function($a$$){null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.isHideOnHover()&&this.graph.tooltipHandler.hide();this.graph.isMouseDown&&!mxEvent.isConsumed($a$$)&&this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,
new mxMouseEvent($a$$))}),mxUtils.bind(this,function($a$$){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($a$$))}))):(this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.bounds=$a$jscomp$0$$,this.backgroundPageShape.redraw())}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null)};
mxGraphView.prototype.getBackgroundPageBounds=function $mxGraphView$$getBackgroundPageBounds$(){var $a$$=this.graph.pageFormat,$b$$=this.scale*this.graph.pageScale;return new mxRectangle(this.scale*this.translate.x,this.scale*this.translate.y,$a$$.width*$b$$,$a$$.height*$b$$)};
mxGraphView.prototype.redrawBackgroundImage=function $mxGraphView$$redrawBackgroundImage$($a$$,$b$$){$a$$.scale=this.scale;$a$$.bounds.x=this.scale*this.translate.x;$a$$.bounds.y=this.scale*this.translate.y;$a$$.bounds.width=this.scale*$b$$.width;$a$$.bounds.height=this.scale*$b$$.height;$a$$.redraw()};
mxGraphView.prototype.validateCell=function $mxGraphView$$validateCell$($a$$,$b$$){if(null!=$a$$)if($b$$=(null!=$b$$?$b$$:!0)&&this.graph.isCellVisible($a$$),null==this.getState($a$$,$b$$)||$b$$)for(var $c$$=this.graph.getModel(),$d$$=$c$$.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++)this.validateCell($c$$.getChildAt($a$$,$e$$),$b$$&&(!this.isCellCollapsed($a$$)||$a$$==this.currentRoot));else this.removeState($a$$);return $a$$};
mxGraphView.prototype.validateCellState=function $mxGraphView$$validateCellState$($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=null;if(null!=$a$$&&($c$$=this.getState($a$$),null!=$c$$)){var $d$$=this.graph.getModel();if($c$$.invalid){$c$$.invalid=!1;if(null==$c$$.style||$c$$.invalidStyle)$c$$.style=this.graph.getCellStyle($c$$.cell),$c$$.invalidStyle=!1;$a$$!=this.currentRoot&&this.validateCellState($d$$.getParent($a$$),!1);$c$$.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal($a$$,
!0),!1),!0);$c$$.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal($a$$,!1),!1),!1);this.updateCellState($c$$);$a$$==this.currentRoot||$c$$.invalid||(this.graph.cellRenderer.redraw($c$$,!1,this.isRendering()),$c$$.updateCachedBounds())}if($b$$&&!$c$$.invalid){null!=$c$$.shape&&this.stateValidated($c$$);for(var $e$$=$d$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++)this.validateCellState($d$$.getChildAt($a$$,$f$$))}}return $c$$};
mxGraphView.prototype.updateCellState=function $mxGraphView$$updateCellState$($a$$){$a$$.absoluteOffset.x=0;$a$$.absoluteOffset.y=0;$a$$.origin.x=0;$a$$.origin.y=0;$a$$.length=0;if($a$$.cell!=this.currentRoot){var $b$$=this.graph.getModel(),$c$$=this.getState($b$$.getParent($a$$.cell));null!=$c$$&&$c$$.cell!=this.currentRoot&&($a$$.origin.x+=$c$$.origin.x,$a$$.origin.y+=$c$$.origin.y);var $d$$=this.graph.getChildOffsetForCell($a$$.cell);null!=$d$$&&($a$$.origin.x+=$d$$.x,$a$$.origin.y+=$d$$.y);var $e$$=
this.graph.getCellGeometry($a$$.cell);null!=$e$$&&($b$$.isEdge($a$$.cell)||($d$$=$e$$.offset||this.EMPTY_POINT,$e$$.relative&&null!=$c$$?$b$$.isEdge($c$$.cell)?($d$$=this.getPoint($c$$,$e$$),null!=$d$$&&($a$$.origin.x+=$d$$.x/this.scale-$c$$.origin.x-this.translate.x,$a$$.origin.y+=$d$$.y/this.scale-$c$$.origin.y-this.translate.y)):($a$$.origin.x+=$e$$.x*$c$$.width/this.scale+$d$$.x,$a$$.origin.y+=$e$$.y*$c$$.height/this.scale+$d$$.y):($a$$.absoluteOffset.x=this.scale*$d$$.x,$a$$.absoluteOffset.y=
this.scale*$d$$.y,$a$$.origin.x+=$e$$.x,$a$$.origin.y+=$e$$.y)),$a$$.x=this.scale*(this.translate.x+$a$$.origin.x),$a$$.y=this.scale*(this.translate.y+$a$$.origin.y),$a$$.width=this.scale*$e$$.width,$a$$.unscaledWidth=$e$$.width,$a$$.height=this.scale*$e$$.height,$b$$.isVertex($a$$.cell)&&this.updateVertexState($a$$,$e$$),$b$$.isEdge($a$$.cell)&&this.updateEdgeState($a$$,$e$$))}$a$$.updateCachedBounds()};mxGraphView.prototype.isCellCollapsed=function $mxGraphView$$isCellCollapsed$($a$$){return this.graph.isCellCollapsed($a$$)};
mxGraphView.prototype.updateVertexState=function $mxGraphView$$updateVertexState$($a$$,$b$$){var $c$$=this.graph.getModel(),$d$$=this.getState($c$$.getParent($a$$.cell));if($b$$.relative&&null!=$d$$&&!$c$$.isEdge($d$$.cell)){var $e$$=mxUtils.toRadians($d$$.style[mxConstants.STYLE_ROTATION]||"0");if(0!=$e$$){var $c$$=Math.cos($e$$),$e$$=Math.sin($e$$),$f$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY()),$d$$=new mxPoint($d$$.getCenterX(),$d$$.getCenterY()),$d$$=mxUtils.getRotatedPoint($f$$,$c$$,$e$$,
$d$$);$a$$.x=$d$$.x-$a$$.width/2;$a$$.y=$d$$.y-$a$$.height/2}}this.updateVertexLabelOffset($a$$)};
mxGraphView.prototype.updateEdgeState=function $mxGraphView$$updateEdgeState$($a$$,$b$$){var $c$$=$a$$.getVisibleTerminalState(!0),$d$$=$a$$.getVisibleTerminalState(!1);null!=this.graph.model.getTerminal($a$$.cell,!0)&&null==$c$$||null==$c$$&&null==$b$$.getTerminalPoint(!0)||null!=this.graph.model.getTerminal($a$$.cell,!1)&&null==$d$$||null==$d$$&&null==$b$$.getTerminalPoint(!1)?this.clear($a$$.cell,!0):(this.updateFixedTerminalPoints($a$$,$c$$,$d$$),this.updatePoints($a$$,$b$$.points,$c$$,$d$$),
this.updateFloatingTerminalPoints($a$$,$c$$,$d$$),$c$$=$a$$.absolutePoints,$a$$.cell!=this.currentRoot&&(null==$c$$||2>$c$$.length||null==$c$$[0]||null==$c$$[$c$$.length-1])?this.clear($a$$.cell,!0):(this.updateEdgeBounds($a$$),this.updateEdgeLabelOffset($a$$)))};
mxGraphView.prototype.updateVertexLabelOffset=function $mxGraphView$$updateVertexLabelOffset$($a$$){var $b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);if($b$$==mxConstants.ALIGN_LEFT)$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_LABEL_WIDTH,null),$b$$=null!=$b$$?$b$$*this.scale:$a$$.width,$a$$.absoluteOffset.x-=$b$$;else if($b$$==mxConstants.ALIGN_RIGHT)$a$$.absoluteOffset.x+=$a$$.width;else if($b$$==mxConstants.ALIGN_CENTER&&($b$$=mxUtils.getValue($a$$.style,
mxConstants.STYLE_LABEL_WIDTH,null),null!=$b$$)){var $c$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),$d$$=0;$c$$==mxConstants.ALIGN_CENTER?$d$$=.5:$c$$==mxConstants.ALIGN_RIGHT&&($d$$=1);0!=$d$$&&($a$$.absoluteOffset.x-=($b$$*this.scale-$a$$.width)*$d$$)}$b$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);$b$$==mxConstants.ALIGN_TOP?$a$$.absoluteOffset.y-=$a$$.height:$b$$==mxConstants.ALIGN_BOTTOM&&($a$$.absoluteOffset.y+=
$a$$.height)};mxGraphView.prototype.resetValidationState=function $mxGraphView$$resetValidationState$(){this.lastForegroundHtmlNode=this.lastForegroundNode=this.lastHtmlNode=this.lastNode=null};
mxGraphView.prototype.stateValidated=function $mxGraphView$$stateValidated$($a$$){var $b$$=this.graph.getModel().isEdge($a$$.cell)&&this.graph.keepEdgesInForeground||this.graph.getModel().isVertex($a$$.cell)&&this.graph.keepEdgesInBackground;$a$$=this.graph.cellRenderer.insertStateAfter($a$$,$b$$?this.lastForegroundNode||this.lastNode:this.lastNode,$b$$?this.lastForegroundHtmlNode||this.lastHtmlNode:this.lastHtmlNode);$b$$?(this.lastForegroundHtmlNode=$a$$[1],this.lastForegroundNode=$a$$[0]):(this.lastHtmlNode=
$a$$[1],this.lastNode=$a$$[0])};mxGraphView.prototype.updateFixedTerminalPoints=function $mxGraphView$$updateFixedTerminalPoints$($a$$,$b$$,$c$$){this.updateFixedTerminalPoint($a$$,$b$$,!0,this.graph.getConnectionConstraint($a$$,$b$$,!0));this.updateFixedTerminalPoint($a$$,$c$$,!1,this.graph.getConnectionConstraint($a$$,$c$$,!1))};
mxGraphView.prototype.updateFixedTerminalPoint=function $mxGraphView$$updateFixedTerminalPoint$($a$$,$b$$,$c$$,$d$$){$a$$.setAbsoluteTerminalPoint(this.getFixedTerminalPoint($a$$,$b$$,$c$$,$d$$),$c$$)};
mxGraphView.prototype.getFixedTerminalPoint=function $mxGraphView$$getFixedTerminalPoint$($a$$,$b$$,$c$$,$d$$){var $e$$=null;null!=$d$$&&($e$$=this.graph.getConnectionPoint($b$$,$d$$));if(null==$e$$&&null==$b$$){$b$$=this.scale;$d$$=this.translate;var $f$$=$a$$.origin,$e$$=this.graph.getCellGeometry($a$$.cell).getTerminalPoint($c$$);null!=$e$$&&($e$$=new mxPoint($b$$*($d$$.x+$e$$.x+$f$$.x),$b$$*($d$$.y+$e$$.y+$f$$.y)))}return $e$$};
mxGraphView.prototype.updateBoundsFromStencil=function $mxGraphView$$updateBoundsFromStencil$($a$$){var $b$$=null;if(null!=$a$$&&null!=$a$$.shape&&null!=$a$$.shape.stencil&&"fixed"==$a$$.shape.stencil.aspect){var $b$$=mxRectangle.fromRectangle($a$$),$c$$=$a$$.shape.stencil.computeAspect($a$$.style,$a$$.x,$a$$.y,$a$$.width,$a$$.height);$a$$.setRect($c$$.x,$c$$.y,$a$$.shape.stencil.w0*$c$$.width,$a$$.shape.stencil.h0*$c$$.height)}return $b$$};
mxGraphView.prototype.updatePoints=function $mxGraphView$$updatePoints$($a$$,$b$$,$c$$,$d$$){if(null!=$a$$){var $e$$=[];$e$$.push($a$$.absolutePoints[0]);var $f$$=this.getEdgeStyle($a$$,$b$$,$c$$,$d$$);if(null!=$f$$){$c$$=this.getTerminalPort($a$$,$c$$,!0);$d$$=this.getTerminalPort($a$$,$d$$,!1);var $g$$=this.updateBoundsFromStencil($c$$),$k$$=this.updateBoundsFromStencil($d$$);$f$$($a$$,$c$$,$d$$,$b$$,$e$$);null!=$g$$&&$c$$.setRect($g$$.x,$g$$.y,$g$$.width,$g$$.height);null!=$k$$&&$d$$.setRect($k$$.x,
$k$$.y,$k$$.width,$k$$.height)}else if(null!=$b$$)for($f$$=0;$f$$<$b$$.length;$f$$++)null!=$b$$[$f$$]&&($c$$=mxUtils.clone($b$$[$f$$]),$e$$.push(this.transformControlPoint($a$$,$c$$)));$b$$=$a$$.absolutePoints;$e$$.push($b$$[$b$$.length-1]);$a$$.absolutePoints=$e$$}};
mxGraphView.prototype.transformControlPoint=function $mxGraphView$$transformControlPoint$($a$$,$b$$){if(null!=$a$$&&null!=$b$$){var $c$$=$a$$.origin;return new mxPoint(this.scale*($b$$.x+this.translate.x+$c$$.x),this.scale*($b$$.y+this.translate.y+$c$$.y))}return null};
mxGraphView.prototype.isLoopStyleEnabled=function $mxGraphView$$isLoopStyleEnabled$($a$$,$b$$,$c$$,$d$$){var $e$$=this.graph.getConnectionConstraint($a$$,$c$$,!0),$f$$=this.graph.getConnectionConstraint($a$$,$d$$,!1);return!(null==$b$$||2>$b$$.length)||mxUtils.getValue($a$$.style,mxConstants.STYLE_ORTHOGONAL_LOOP,!1)&&(null!=$e$$&&null!=$e$$.point||null!=$f$$&&null!=$f$$.point)?!1:null!=$c$$&&$c$$==$d$$};
mxGraphView.prototype.getEdgeStyle=function $mxGraphView$$getEdgeStyle$($a$$,$b$$,$c$$,$d$$){$a$$=this.isLoopStyleEnabled($a$$,$b$$,$c$$,$d$$)?mxUtils.getValue($a$$.style,mxConstants.STYLE_LOOP,this.graph.defaultLoopStyle):mxUtils.getValue($a$$.style,mxConstants.STYLE_NOEDGESTYLE,!1)?null:$a$$.style[mxConstants.STYLE_EDGE];"string"==typeof $a$$&&($b$$=mxStyleRegistry.getValue($a$$),null==$b$$&&this.isAllowEval()&&($b$$=mxUtils.eval($a$$)),$a$$=$b$$);return"function"==typeof $a$$?$a$$:null};
mxGraphView.prototype.updateFloatingTerminalPoints=function $mxGraphView$$updateFloatingTerminalPoints$($a$$,$b$$,$c$$){var $d$$=$a$$.absolutePoints,$e$$=$d$$[0];null==$d$$[$d$$.length-1]&&null!=$c$$&&this.updateFloatingTerminalPoint($a$$,$c$$,$b$$,!1);null==$e$$&&null!=$b$$&&this.updateFloatingTerminalPoint($a$$,$b$$,$c$$,!0)};
mxGraphView.prototype.updateFloatingTerminalPoint=function $mxGraphView$$updateFloatingTerminalPoint$($a$$,$b$$,$c$$,$d$$){$a$$.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint($a$$,$b$$,$c$$,$d$$),$d$$)};
mxGraphView.prototype.getFloatingTerminalPoint=function $mxGraphView$$getFloatingTerminalPoint$($a$$,$b$$,$c$$,$d$$){$b$$=this.getTerminalPort($a$$,$b$$,$d$$);var $e$$=this.getNextPoint($a$$,$c$$,$d$$),$f$$=this.graph.isOrthogonal($a$$);$c$$=mxUtils.toRadians(Number($b$$.style[mxConstants.STYLE_ROTATION]||"0"));var $g$$=new mxPoint($b$$.getCenterX(),$b$$.getCenterY());if(0!=$c$$)var $k$$=Math.cos(-$c$$),$l$$=Math.sin(-$c$$),$e$$=mxUtils.getRotatedPoint($e$$,$k$$,$l$$,$g$$);$k$$=parseFloat($a$$.style[mxConstants.STYLE_PERIMETER_SPACING]||
0);$k$$+=parseFloat($a$$.style[$d$$?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);$a$$=this.getPerimeterPoint($b$$,$e$$,0==$c$$&&$f$$,$k$$);0!=$c$$&&($k$$=Math.cos($c$$),$l$$=Math.sin($c$$),$a$$=mxUtils.getRotatedPoint($a$$,$k$$,$l$$,$g$$));return $a$$};
mxGraphView.prototype.getTerminalPort=function $mxGraphView$$getTerminalPort$($a$$,$b$$,$c$$){$a$$=mxUtils.getValue($a$$.style,$c$$?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT);null!=$a$$&&($a$$=this.getState(this.graph.getModel().getCell($a$$)),null!=$a$$&&($b$$=$a$$));return $b$$};
mxGraphView.prototype.getPerimeterPoint=function $mxGraphView$$getPerimeterPoint$($a$$,$b$$,$c$$,$d$$){var $e$$=null;if(null!=$a$$){var $f$$=this.getPerimeterFunction($a$$);if(null!=$f$$&&null!=$b$$&&($d$$=this.getPerimeterBounds($a$$,$d$$),0<$d$$.width||0<$d$$.height)){var $e$$=new mxPoint($b$$.x,$b$$.y),$g$$=$b$$=!1;this.graph.model.isVertex($a$$.cell)&&($b$$=1==mxUtils.getValue($a$$.style,mxConstants.STYLE_FLIPH,0),$g$$=1==mxUtils.getValue($a$$.style,mxConstants.STYLE_FLIPV,0),null!=$a$$.shape&&
null!=$a$$.shape.stencil&&($b$$=1==mxUtils.getValue($a$$.style,"stencilFlipH",0)||$b$$,$g$$=1==mxUtils.getValue($a$$.style,"stencilFlipV",0)||$g$$),$b$$&&($e$$.x=2*$d$$.getCenterX()-$e$$.x),$g$$&&($e$$.y=2*$d$$.getCenterY()-$e$$.y));$e$$=$f$$($d$$,$a$$,$e$$,$c$$);null!=$e$$&&($b$$&&($e$$.x=2*$d$$.getCenterX()-$e$$.x),$g$$&&($e$$.y=2*$d$$.getCenterY()-$e$$.y))}null==$e$$&&($e$$=this.getPoint($a$$))}return $e$$};
mxGraphView.prototype.getRoutingCenterX=function $mxGraphView$$getRoutingCenterX$($a$$){var $b$$=null!=$a$$.style?parseFloat($a$$.style[mxConstants.STYLE_ROUTING_CENTER_X])||0:0;return $a$$.getCenterX()+$b$$*$a$$.width};mxGraphView.prototype.getRoutingCenterY=function $mxGraphView$$getRoutingCenterY$($a$$){var $b$$=null!=$a$$.style?parseFloat($a$$.style[mxConstants.STYLE_ROUTING_CENTER_Y])||0:0;return $a$$.getCenterY()+$b$$*$a$$.height};
mxGraphView.prototype.getPerimeterBounds=function $mxGraphView$$getPerimeterBounds$($a$$,$b$$){$b$$=null!=$b$$?$b$$:0;null!=$a$$&&($b$$+=parseFloat($a$$.style[mxConstants.STYLE_PERIMETER_SPACING]||0));return $a$$.getPerimeterBounds($b$$*this.scale)};
mxGraphView.prototype.getPerimeterFunction=function $mxGraphView$$getPerimeterFunction$($a$$){$a$$=$a$$.style[mxConstants.STYLE_PERIMETER];if("string"==typeof $a$$){var $b$$=mxStyleRegistry.getValue($a$$);null==$b$$&&this.isAllowEval()&&($b$$=mxUtils.eval($a$$));$a$$=$b$$}return"function"==typeof $a$$?$a$$:null};
mxGraphView.prototype.getNextPoint=function $mxGraphView$$getNextPoint$($a$$,$b$$,$c$$){$a$$=$a$$.absolutePoints;var $d$$=null;null!=$a$$&&2<=$a$$.length&&($d$$=$a$$.length,$d$$=$a$$[$c$$?Math.min(1,$d$$-1):Math.max(0,$d$$-2)]);null==$d$$&&null!=$b$$&&($d$$=new mxPoint($b$$.getCenterX(),$b$$.getCenterY()));return $d$$};
mxGraphView.prototype.getVisibleTerminal=function $mxGraphView$$getVisibleTerminal$($a$$,$b$$){for(var $c$$=this.graph.getModel(),$d$$=$c$$.getTerminal($a$$,$b$$),$e$$=$d$$;null!=$d$$&&$d$$!=this.currentRoot;){if(!this.graph.isCellVisible($e$$)||this.isCellCollapsed($d$$))$e$$=$d$$;$d$$=$c$$.getParent($d$$)}null==$e$$||$c$$.contains($e$$)&&$c$$.getParent($e$$)!=$c$$.getRoot()&&$e$$!=this.currentRoot||($e$$=null);return $e$$};
mxGraphView.prototype.updateEdgeBounds=function $mxGraphView$$updateEdgeBounds$($a$$){var $b$$=$a$$.absolutePoints,$c$$=$b$$[0],$d$$=$b$$[$b$$.length-1];if($c$$.x!=$d$$.x||$c$$.y!=$d$$.y){var $e$$=$d$$.x-$c$$.x,$f$$=$d$$.y-$c$$.y;$a$$.terminalDistance=Math.sqrt($e$$*$e$$+$f$$*$f$$)}else $a$$.terminalDistance=0;var $d$$=0,$g$$=[],$f$$=$c$$;if(null!=$f$$){for(var $c$$=$f$$.x,$k$$=$f$$.y,$l$$=$c$$,$m$$=$k$$,$n$$=1;$n$$<$b$$.length;$n$$++){var $p$$=$b$$[$n$$];null!=$p$$&&($e$$=$f$$.x-$p$$.x,$f$$=$f$$.y-
$p$$.y,$e$$=Math.sqrt($e$$*$e$$+$f$$*$f$$),$g$$.push($e$$),$d$$+=$e$$,$f$$=$p$$,$c$$=Math.min($f$$.x,$c$$),$k$$=Math.min($f$$.y,$k$$),$l$$=Math.max($f$$.x,$l$$),$m$$=Math.max($f$$.y,$m$$))}$a$$.length=$d$$;$a$$.segments=$g$$;$a$$.x=$c$$;$a$$.y=$k$$;$a$$.width=Math.max(1,$l$$-$c$$);$a$$.height=Math.max(1,$m$$-$k$$)}};
mxGraphView.prototype.getPoint=function $mxGraphView$$getPoint$($a$$,$b$$){var $c$$=$a$$.getCenterX(),$d$$=$a$$.getCenterY();if(null==$a$$.segments||null!=$b$$&&!$b$$.relative)null!=$b$$&&($m$$=$b$$.offset,null!=$m$$&&($c$$+=$m$$.x,$d$$+=$m$$.y));else{for(var $e$$=$a$$.absolutePoints.length,$f$$=Math.round(((null!=$b$$?$b$$.x/2:0)+.5)*$a$$.length),$g$$=$a$$.segments[0],$k$$=0,$l$$=1;$f$$>=Math.round($k$$+$g$$)&&$l$$<$e$$-1;)$k$$+=$g$$,$g$$=$a$$.segments[$l$$++];$e$$=0==$g$$?0:($f$$-$k$$)/$g$$;$f$$=
$a$$.absolutePoints[$l$$-1];$l$$=$a$$.absolutePoints[$l$$];if(null!=$f$$&&null!=$l$$){$k$$=$c$$=$d$$=0;if(null!=$b$$){var $d$$=$b$$.y,$m$$=$b$$.offset;null!=$m$$&&($c$$=$m$$.x,$k$$=$m$$.y)}$m$$=$l$$.x-$f$$.x;$l$$=$l$$.y-$f$$.y;$c$$=$f$$.x+$m$$*$e$$+((0==$g$$?0:$l$$/$g$$)*$d$$+$c$$)*this.scale;$d$$=$f$$.y+$l$$*$e$$-((0==$g$$?0:$m$$/$g$$)*$d$$-$k$$)*this.scale}}return new mxPoint($c$$,$d$$)};
mxGraphView.prototype.getRelativePoint=function $mxGraphView$$getRelativePoint$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel().getGeometry($a$$.cell);if(null!=$d$$){var $e$$=$a$$.absolutePoints.length;if($d$$.relative&&1<$e$$){for(var $d$$=$a$$.length,$f$$=$a$$.segments,$g$$=$a$$.absolutePoints[0],$k$$=$a$$.absolutePoints[1],$l$$=mxUtils.ptSegDistSq($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$),$m$$=0,$n$$=0,$p$$=0,$q$$=2;$q$$<$e$$;$q$$++)$n$$+=$f$$[$q$$-2],$k$$=$a$$.absolutePoints[$q$$],$g$$=mxUtils.ptSegDistSq($g$$.x,
$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$),$g$$<=$l$$&&($l$$=$g$$,$m$$=$q$$-1,$p$$=$n$$),$g$$=$k$$;$e$$=$f$$[$m$$];$g$$=$a$$.absolutePoints[$m$$];$k$$=$a$$.absolutePoints[$m$$+1];$l$$=$k$$.x;$f$$=$k$$.y;$a$$=$g$$.x-$l$$;$m$$=$g$$.y-$f$$;$f$$=($a$$-($b$$-$l$$))*$a$$+($m$$-($c$$-$f$$))*$m$$;$a$$=Math.sqrt(0>=$f$$?0:$f$$*$f$$/($a$$*$a$$+$m$$*$m$$));$a$$>$e$$&&($a$$=$e$$);$e$$=Math.sqrt(mxUtils.ptSegDistSq($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$));-1==mxUtils.relativeCcw($g$$.x,$g$$.y,$k$$.x,$k$$.y,$b$$,$c$$)&&($e$$=
-$e$$);return new mxPoint(($d$$/2-$p$$-$a$$)/$d$$*-2,$e$$/this.scale)}}return new mxPoint};
mxGraphView.prototype.updateEdgeLabelOffset=function $mxGraphView$$updateEdgeLabelOffset$($a$$){var $b$$=$a$$.absolutePoints;$a$$.absoluteOffset.x=$a$$.getCenterX();$a$$.absoluteOffset.y=$a$$.getCenterY();if(null!=$b$$&&0<$b$$.length&&null!=$a$$.segments){var $c$$=this.graph.getCellGeometry($a$$.cell);if($c$$.relative){var $d$$=this.getPoint($a$$,$c$$);null!=$d$$&&($a$$.absoluteOffset=$d$$)}else{var $d$$=$b$$[0],$e$$=$b$$[$b$$.length-1];if(null!=$d$$&&null!=$e$$){var $b$$=$e$$.x-$d$$.x,$f$$=$e$$.y-
$d$$.y,$g$$=$e$$=0,$c$$=$c$$.offset;null!=$c$$&&($e$$=$c$$.x,$g$$=$c$$.y);$c$$=$d$$.y+$f$$/2+$g$$*this.scale;$a$$.absoluteOffset.x=$d$$.x+$b$$/2+$e$$*this.scale;$a$$.absoluteOffset.y=$c$$}}}};
mxGraphView.prototype.getState=function $mxGraphView$$getState$($a$$,$b$$){$b$$=$b$$||!1;var $c$$=null;null!=$a$$&&($c$$=this.states.get($a$$),$b$$&&(null==$c$$||this.updateStyle)&&this.graph.isCellVisible($a$$)&&(null==$c$$?($c$$=this.createState($a$$),this.states.put($a$$,$c$$)):$c$$.style=this.graph.getCellStyle($a$$)));return $c$$};mxGraphView.prototype.isRendering=function $mxGraphView$$isRendering$(){return this.rendering};
mxGraphView.prototype.setRendering=function $mxGraphView$$setRendering$($a$$){this.rendering=$a$$};mxGraphView.prototype.isAllowEval=function $mxGraphView$$isAllowEval$(){return this.allowEval};mxGraphView.prototype.setAllowEval=function $mxGraphView$$setAllowEval$($a$$){this.allowEval=$a$$};mxGraphView.prototype.getStates=function $mxGraphView$$getStates$(){return this.states};mxGraphView.prototype.setStates=function $mxGraphView$$setStates$($a$$){this.states=$a$$};
mxGraphView.prototype.getCellStates=function $mxGraphView$$getCellStates$($a$$){if(null==$a$$)return this.states;for(var $b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.getState($a$$[$c$$]);null!=$d$$&&$b$$.push($d$$)}return $b$$};mxGraphView.prototype.removeState=function $mxGraphView$$removeState$($a$$){var $b$$=null;null!=$a$$&&($b$$=this.states.remove($a$$),null!=$b$$&&(this.graph.cellRenderer.destroy($b$$),$b$$.invalid=!0,$b$$.destroy()));return $b$$};
mxGraphView.prototype.createState=function $mxGraphView$$createState$($a$$){return new mxCellState(this,$a$$,this.graph.getCellStyle($a$$))};mxGraphView.prototype.getCanvas=function $mxGraphView$$getCanvas$(){return this.canvas};mxGraphView.prototype.getBackgroundPane=function $mxGraphView$$getBackgroundPane$(){return this.backgroundPane};mxGraphView.prototype.getDrawPane=function $mxGraphView$$getDrawPane$(){return this.drawPane};mxGraphView.prototype.getOverlayPane=function $mxGraphView$$getOverlayPane$(){return this.overlayPane};
mxGraphView.prototype.getDecoratorPane=function $mxGraphView$$getDecoratorPane$(){return this.decoratorPane};mxGraphView.prototype.isContainerEvent=function $mxGraphView$$isContainerEvent$($a$$){$a$$=mxEvent.getSource($a$$);return $a$$==this.graph.container||$a$$.parentNode==this.backgroundPane||null!=$a$$.parentNode&&$a$$.parentNode.parentNode==this.backgroundPane||$a$$==this.canvas.parentNode||$a$$==this.canvas||$a$$==this.backgroundPane||$a$$==this.drawPane||$a$$==this.overlayPane||$a$$==this.decoratorPane};
mxGraphView.prototype.isScrollEvent=function $mxGraphView$$isScrollEvent$($a$$){var $b$$=mxUtils.getOffset(this.graph.container);$a$$=new mxPoint($a$$.clientX-$b$$.x,$a$$.clientY-$b$$.y);var $b$$=this.graph.container.offsetWidth,$c$$=this.graph.container.clientWidth;if($b$$>$c$$&&$a$$.x>$c$$+2&&$a$$.x<=$b$$)return!0;$b$$=this.graph.container.offsetHeight;$c$$=this.graph.container.clientHeight;return $b$$>$c$$&&$a$$.y>$c$$+2&&$a$$.y<=$b$$?!0:!1};
mxGraphView.prototype.init=function $mxGraphView$$init$(){this.installListeners();var $a$$=this.graph;$a$$.dialect==mxConstants.DIALECT_SVG?this.createSvg():$a$$.dialect==mxConstants.DIALECT_VML?this.createVml():this.createHtml()};
mxGraphView.prototype.installListeners=function $mxGraphView$$installListeners$(){var $a$$=this.graph,$b$jscomp$0$$=$a$$.container;if(null!=$b$jscomp$0$$){mxClient.IS_TOUCH&&(mxEvent.addListener($b$jscomp$0$$,"gesturestart",mxUtils.bind(this,function($b$$){$a$$.fireGestureEvent($b$$);mxEvent.consume($b$$)})),mxEvent.addListener($b$jscomp$0$$,"gesturechange",mxUtils.bind(this,function($b$$){$a$$.fireGestureEvent($b$$);mxEvent.consume($b$$)})),mxEvent.addListener($b$jscomp$0$$,"gestureend",mxUtils.bind(this,
function($b$$){$a$$.fireGestureEvent($b$$);mxEvent.consume($b$$)})));mxEvent.addGestureListeners($b$jscomp$0$$,mxUtils.bind(this,function($b$$){!this.isContainerEvent($b$$)||(mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_GC||mxClient.IS_OP||mxClient.IS_SF)&&this.isScrollEvent($b$$)||$a$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($b$$))}),mxUtils.bind(this,function($b$$){this.isContainerEvent($b$$)&&$a$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($b$$))}),mxUtils.bind(this,function($b$$){this.isContainerEvent($b$$)&&
$a$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($b$$))}));mxEvent.addListener($b$jscomp$0$$,"dblclick",mxUtils.bind(this,function($b$$){this.isContainerEvent($b$$)&&$a$$.dblClick($b$$)}));var $c$jscomp$0$$=function $$c$jscomp$0$$$($c$$){var $d$$=null;mxClient.IS_TOUCH&&($d$$=mxEvent.getClientX($c$$),$c$$=mxEvent.getClientY($c$$),$c$$=mxUtils.convertPoint($b$jscomp$0$$,$d$$,$c$$),$d$$=$a$$.view.getState($a$$.getCellAt($c$$.x,$c$$.y)));return $d$$};$a$$.addMouseListener({mouseDown:function($b$$,
$c$$){$a$$.popupMenuHandler.hideMenu()},mouseMove:function(){},mouseUp:function(){}});this.moveHandler=mxUtils.bind(this,function($b$$){null!=$a$$.tooltipHandler&&$a$$.tooltipHandler.isHideOnHover()&&$a$$.tooltipHandler.hide();this.captureDocumentGesture&&$a$$.isMouseDown&&null!=$a$$.container&&!this.isContainerEvent($b$$)&&"none"!=$a$$.container.style.display&&"hidden"!=$a$$.container.style.visibility&&!mxEvent.isConsumed($b$$)&&$a$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($b$$,$c$jscomp$0$$($b$$)))});
this.endHandler=mxUtils.bind(this,function($b$$){this.captureDocumentGesture&&$a$$.isMouseDown&&null!=$a$$.container&&!this.isContainerEvent($b$$)&&"none"!=$a$$.container.style.display&&"hidden"!=$a$$.container.style.visibility&&$a$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($b$$))});mxEvent.addGestureListeners(document,null,this.moveHandler,this.endHandler)}};
mxGraphView.prototype.createHtml=function $mxGraphView$$createHtml$(){var $a$jscomp$0$$=this.graph.container;null!=$a$jscomp$0$$&&(this.canvas=this.createHtmlPane("100%","100%"),this.canvas.style.overflow="hidden",this.backgroundPane=this.createHtmlPane("1px","1px"),this.drawPane=this.createHtmlPane("1px","1px"),this.overlayPane=this.createHtmlPane("1px","1px"),this.decoratorPane=this.createHtmlPane("1px","1px"),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),
this.canvas.appendChild(this.decoratorPane),$a$jscomp$0$$.appendChild(this.canvas),this.updateContainerStyle($a$jscomp$0$$),mxClient.IS_QUIRKS&&($a$jscomp$0$$=mxUtils.bind(this,function($a$$){$a$$=this.getGraphBounds();this.updateHtmlCanvasSize($a$$.x+$a$$.width+this.graph.border,$a$$.y+$a$$.height+this.graph.border)}),mxEvent.addListener(window,"resize",$a$jscomp$0$$)))};
mxGraphView.prototype.updateHtmlCanvasSize=function $mxGraphView$$updateHtmlCanvasSize$($a$$,$b$$){if(null!=this.graph.container){var $c$$=this.graph.container.offsetHeight;this.canvas.style.width=this.graph.container.offsetWidth<$a$$?$a$$+"px":"100%";this.canvas.style.height=$c$$<$b$$?$b$$+"px":"100%"}};
mxGraphView.prototype.createHtmlPane=function $mxGraphView$$createHtmlPane$($a$$,$b$$){var $c$$=document.createElement("DIV");null!=$a$$&&null!=$b$$?($c$$.style.position="absolute",$c$$.style.left="0px",$c$$.style.top="0px",$c$$.style.width=$a$$,$c$$.style.height=$b$$):$c$$.style.position="relative";return $c$$};
mxGraphView.prototype.createVml=function $mxGraphView$$createVml$(){var $a$$=this.graph.container;if(null!=$a$$){var $b$$=$a$$.offsetWidth,$c$$=$a$$.offsetHeight;this.canvas=this.createVmlPane($b$$,$c$$);this.canvas.style.overflow="hidden";this.backgroundPane=this.createVmlPane($b$$,$c$$);this.drawPane=this.createVmlPane($b$$,$c$$);this.overlayPane=this.createVmlPane($b$$,$c$$);this.decoratorPane=this.createVmlPane($b$$,$c$$);this.canvas.appendChild(this.backgroundPane);this.canvas.appendChild(this.drawPane);
this.canvas.appendChild(this.overlayPane);this.canvas.appendChild(this.decoratorPane);$a$$.appendChild(this.canvas)}};mxGraphView.prototype.createVmlPane=function $mxGraphView$$createVmlPane$($a$$,$b$$){var $c$$=document.createElement(mxClient.VML_PREFIX+":group");$c$$.style.position="absolute";$c$$.style.left="0px";$c$$.style.top="0px";$c$$.style.width=$a$$+"px";$c$$.style.height=$b$$+"px";$c$$.setAttribute("coordsize",$a$$+","+$b$$);$c$$.setAttribute("coordorigin","0,0");return $c$$};
mxGraphView.prototype.createSvg=function $mxGraphView$$createSvg$(){var $a$$=this.graph.container;this.canvas=document.createElementNS(mxConstants.NS_SVG,"g");this.backgroundPane=document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.backgroundPane);this.drawPane=document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.drawPane);this.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.overlayPane);this.decoratorPane=
document.createElementNS(mxConstants.NS_SVG,"g");this.canvas.appendChild(this.decoratorPane);var $b$$=document.createElementNS(mxConstants.NS_SVG,"svg");$b$$.style.left="0px";$b$$.style.top="0px";$b$$.style.width="100%";$b$$.style.height="100%";$b$$.style.display="block";$b$$.appendChild(this.canvas);if(mxClient.IS_IE||mxClient.IS_IE11)$b$$.style.overflow="hidden";null!=$a$$&&($a$$.appendChild($b$$),this.updateContainerStyle($a$$))};
mxGraphView.prototype.updateContainerStyle=function $mxGraphView$$updateContainerStyle$($a$$){var $b$$=mxUtils.getCurrentStyle($a$$);null!=$b$$&&"static"==$b$$.position&&($a$$.style.position="relative");mxClient.IS_POINTER&&($a$$.style.touchAction="none")};
mxGraphView.prototype.destroy=function $mxGraphView$$destroy$(){var $a$$=null!=this.canvas?this.canvas.ownerSVGElement:null;null==$a$$&&($a$$=this.canvas);null!=$a$$&&null!=$a$$.parentNode&&(this.clear(this.currentRoot,!0),mxEvent.removeGestureListeners(document,null,this.moveHandler,this.endHandler),mxEvent.release(this.graph.container),$a$$.parentNode.removeChild($a$$),this.decoratorPane=this.overlayPane=this.drawPane=this.backgroundPane=this.canvas=this.endHandler=this.moveHandler=null)};
function mxCurrentRootChange($a$$,$b$$){this.view=$a$$;this.previous=this.root=$b$$;this.isUp=null==$b$$;if(!this.isUp)for(var $c$$=this.view.currentRoot,$d$$=this.view.graph.getModel();null!=$c$$;){if($c$$==$b$$){this.isUp=!0;break}$c$$=$d$$.getParent($c$$)}}
mxCurrentRootChange.prototype.execute=function $mxCurrentRootChange$$execute$(){var $a$$=this.view.currentRoot;this.view.currentRoot=this.previous;this.previous=$a$$;$a$$=this.view.graph.getTranslateForRoot(this.view.currentRoot);null!=$a$$&&(this.view.translate=new mxPoint(-$a$$.x,-$a$$.y));this.isUp?(this.view.clear(this.view.currentRoot,!0),this.view.validate()):this.view.refresh();this.view.fireEvent(new mxEventObject(this.isUp?mxEvent.UP:mxEvent.DOWN,"root",this.view.currentRoot,"previous",this.previous));
this.isUp=!this.isUp};
function mxGraph($a$jscomp$0$$,$b$jscomp$0$$,$c$$,$d$$){this.mouseListeners=null;this.renderHint=$c$$;this.dialect=mxClient.IS_SVG?mxConstants.DIALECT_SVG:$c$$==mxConstants.RENDERING_HINT_EXACT&&mxClient.IS_VML?mxConstants.DIALECT_VML:$c$$==mxConstants.RENDERING_HINT_FASTEST?mxConstants.DIALECT_STRICTHTML:$c$$==mxConstants.RENDERING_HINT_FASTER?mxConstants.DIALECT_PREFERHTML:mxConstants.DIALECT_MIXEDHTML;this.model=null!=$b$jscomp$0$$?$b$jscomp$0$$:new mxGraphModel;this.multiplicities=[];this.imageBundles=
[];this.cellRenderer=this.createCellRenderer();this.setSelectionModel(this.createSelectionModel());this.setStylesheet(null!=$d$$?$d$$:this.createStylesheet());this.view=this.createGraphView();this.graphModelChangeListener=mxUtils.bind(this,function($a$$,$b$$){var $edit$$=$b$$.getProperty("edit");this.graphModelChanged($edit$$&&$edit$$.changes||[])});this.model.addListener(mxEvent.CHANGE,this.graphModelChangeListener);this.createHandlers();null!=$a$jscomp$0$$&&this.init($a$jscomp$0$$);this.view.revalidate()}
mxLoadResources?mxResources.add(mxClient.basePath+"/resources/graph"):mxClient.defaultBundles.push(mxClient.basePath+"/resources/graph");mxGraph.prototype=new mxEventSource;mxGraph.prototype.constructor=mxGraph;mxGraph.prototype.mouseListeners=null;mxGraph.prototype.isMouseDown=!1;mxGraph.prototype.model=null;mxGraph.prototype.view=null;mxGraph.prototype.stylesheet=null;mxGraph.prototype.selectionModel=null;mxGraph.prototype.cellEditor=null;mxGraph.prototype.cellRenderer=null;
mxGraph.prototype.multiplicities=null;mxGraph.prototype.renderHint=null;mxGraph.prototype.dialect=null;mxGraph.prototype.gridSize=10;mxGraph.prototype.gridEnabled=!0;mxGraph.prototype.portsEnabled=!0;mxGraph.prototype.nativeDblClickEnabled=!0;mxGraph.prototype.doubleTapEnabled=!0;mxGraph.prototype.doubleTapTimeout=500;mxGraph.prototype.doubleTapTolerance=25;mxGraph.prototype.lastTouchY=0;mxGraph.prototype.lastTouchY=0;mxGraph.prototype.lastTouchTime=0;mxGraph.prototype.tapAndHoldEnabled=!0;
mxGraph.prototype.tapAndHoldDelay=500;mxGraph.prototype.tapAndHoldInProgress=!1;mxGraph.prototype.tapAndHoldValid=!1;mxGraph.prototype.initialTouchX=0;mxGraph.prototype.initialTouchY=0;mxGraph.prototype.tolerance=4;mxGraph.prototype.defaultOverlap=.5;mxGraph.prototype.defaultParent=null;mxGraph.prototype.alternateEdgeStyle=null;mxGraph.prototype.backgroundImage=null;mxGraph.prototype.pageVisible=!1;mxGraph.prototype.pageBreaksVisible=!1;mxGraph.prototype.pageBreakColor="gray";
mxGraph.prototype.pageBreakDashed=!0;mxGraph.prototype.minPageBreakDist=20;mxGraph.prototype.preferPageSize=!1;mxGraph.prototype.pageFormat=mxConstants.PAGE_FORMAT_A4_PORTRAIT;mxGraph.prototype.pageScale=1.5;mxGraph.prototype.enabled=!0;mxGraph.prototype.escapeEnabled=!0;mxGraph.prototype.invokesStopCellEditing=!0;mxGraph.prototype.enterStopsCellEditing=!1;mxGraph.prototype.useScrollbarsForPanning=!0;mxGraph.prototype.exportEnabled=!0;mxGraph.prototype.importEnabled=!0;
mxGraph.prototype.cellsLocked=!1;mxGraph.prototype.cellsCloneable=!0;mxGraph.prototype.foldingEnabled=!0;mxGraph.prototype.cellsEditable=!0;mxGraph.prototype.cellsDeletable=!0;mxGraph.prototype.cellsMovable=!0;mxGraph.prototype.edgeLabelsMovable=!0;mxGraph.prototype.vertexLabelsMovable=!1;mxGraph.prototype.dropEnabled=!1;mxGraph.prototype.splitEnabled=!0;mxGraph.prototype.cellsResizable=!0;mxGraph.prototype.cellsBendable=!0;mxGraph.prototype.cellsSelectable=!0;
mxGraph.prototype.cellsDisconnectable=!0;mxGraph.prototype.autoSizeCells=!1;mxGraph.prototype.autoSizeCellsOnAdd=!1;mxGraph.prototype.autoScroll=!0;mxGraph.prototype.ignoreScrollbars=!1;mxGraph.prototype.translateToScrollPosition=!1;mxGraph.prototype.timerAutoScroll=!1;mxGraph.prototype.allowAutoPanning=!1;mxGraph.prototype.autoExtend=!0;mxGraph.prototype.maximumGraphBounds=null;mxGraph.prototype.minimumGraphSize=null;mxGraph.prototype.minimumContainerSize=null;
mxGraph.prototype.maximumContainerSize=null;mxGraph.prototype.resizeContainer=!1;mxGraph.prototype.border=0;mxGraph.prototype.keepEdgesInForeground=!1;mxGraph.prototype.keepEdgesInBackground=!1;mxGraph.prototype.allowNegativeCoordinates=!0;mxGraph.prototype.constrainChildren=!0;mxGraph.prototype.constrainRelativeChildren=!1;mxGraph.prototype.extendParents=!0;mxGraph.prototype.extendParentsOnAdd=!0;mxGraph.prototype.extendParentsOnMove=!1;mxGraph.prototype.recursiveResize=!1;
mxGraph.prototype.collapseToPreferredSize=!0;mxGraph.prototype.zoomFactor=1.2;mxGraph.prototype.keepSelectionVisibleOnZoom=!1;mxGraph.prototype.centerZoom=!0;mxGraph.prototype.resetViewOnRootChange=!0;mxGraph.prototype.resetEdgesOnResize=!1;mxGraph.prototype.resetEdgesOnMove=!1;mxGraph.prototype.resetEdgesOnConnect=!0;mxGraph.prototype.allowLoops=!1;mxGraph.prototype.defaultLoopStyle=mxEdgeStyle.Loop;mxGraph.prototype.multigraph=!0;mxGraph.prototype.connectableEdges=!1;
mxGraph.prototype.allowDanglingEdges=!0;mxGraph.prototype.cloneInvalidEdges=!1;mxGraph.prototype.disconnectOnMove=!0;mxGraph.prototype.labelsVisible=!0;mxGraph.prototype.htmlLabels=!1;mxGraph.prototype.swimlaneSelectionEnabled=!0;mxGraph.prototype.swimlaneNesting=!0;mxGraph.prototype.swimlaneIndicatorColorAttribute=mxConstants.STYLE_FILLCOLOR;mxGraph.prototype.imageBundles=null;mxGraph.prototype.minFitScale=.1;mxGraph.prototype.maxFitScale=8;mxGraph.prototype.panDx=0;mxGraph.prototype.panDy=0;
mxGraph.prototype.collapsedImage=new mxImage(mxClient.imageBasePath+"/collapsed.gif",9,9);mxGraph.prototype.expandedImage=new mxImage(mxClient.imageBasePath+"/expanded.gif",9,9);mxGraph.prototype.warningImage=new mxImage(mxClient.imageBasePath+"/warning"+(mxClient.IS_MAC?".png":".gif"),16,16);mxGraph.prototype.alreadyConnectedResource="none"!=mxClient.language?"alreadyConnected":"";mxGraph.prototype.containsValidationErrorsResource="none"!=mxClient.language?"containsValidationErrors":"";
mxGraph.prototype.collapseExpandResource="none"!=mxClient.language?"collapse-expand":"";
mxGraph.prototype.init=function $mxGraph$$init$($a$jscomp$0$$){this.container=$a$jscomp$0$$;this.cellEditor=this.createCellEditor();this.view.init();this.sizeDidChange();mxEvent.addListener($a$jscomp$0$$,"mouseleave",mxUtils.bind(this,function(){null!=this.tooltipHandler&&this.tooltipHandler.hide()}));mxClient.IS_IE&&(mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})),mxEvent.addListener($a$jscomp$0$$,"selectstart",mxUtils.bind(this,function($a$$){return this.isEditing()||
!this.isMouseDown&&!mxEvent.isShiftDown($a$$)})));8==document.documentMode&&$a$jscomp$0$$.insertAdjacentHTML("beforeend","<"+mxClient.VML_PREFIX+':group style="DISPLAY: none;"></'+mxClient.VML_PREFIX+":group>")};
mxGraph.prototype.createHandlers=function $mxGraph$$createHandlers$(){this.tooltipHandler=this.createTooltipHandler();this.tooltipHandler.setEnabled(!1);this.selectionCellsHandler=this.createSelectionCellsHandler();this.connectionHandler=this.createConnectionHandler();this.connectionHandler.setEnabled(!1);this.graphHandler=this.createGraphHandler();this.panningHandler=this.createPanningHandler();this.panningHandler.panningEnabled=!1;this.popupMenuHandler=this.createPopupMenuHandler()};
mxGraph.prototype.createTooltipHandler=function $mxGraph$$createTooltipHandler$(){return new mxTooltipHandler(this)};mxGraph.prototype.createSelectionCellsHandler=function $mxGraph$$createSelectionCellsHandler$(){return new mxSelectionCellsHandler(this)};mxGraph.prototype.createConnectionHandler=function $mxGraph$$createConnectionHandler$(){return new mxConnectionHandler(this)};mxGraph.prototype.createGraphHandler=function $mxGraph$$createGraphHandler$(){return new mxGraphHandler(this)};
mxGraph.prototype.createPanningHandler=function $mxGraph$$createPanningHandler$(){return new mxPanningHandler(this)};mxGraph.prototype.createPopupMenuHandler=function $mxGraph$$createPopupMenuHandler$(){return new mxPopupMenuHandler(this)};mxGraph.prototype.createSelectionModel=function $mxGraph$$createSelectionModel$(){return new mxGraphSelectionModel(this)};mxGraph.prototype.createStylesheet=function $mxGraph$$createStylesheet$(){return new mxStylesheet};mxGraph.prototype.createGraphView=function $mxGraph$$createGraphView$(){return new mxGraphView(this)};
mxGraph.prototype.createCellRenderer=function $mxGraph$$createCellRenderer$(){return new mxCellRenderer};mxGraph.prototype.createCellEditor=function $mxGraph$$createCellEditor$(){return new mxCellEditor(this)};mxGraph.prototype.getModel=function $mxGraph$$getModel$(){return this.model};mxGraph.prototype.getView=function $mxGraph$$getView$(){return this.view};mxGraph.prototype.getStylesheet=function $mxGraph$$getStylesheet$(){return this.stylesheet};
mxGraph.prototype.setStylesheet=function $mxGraph$$setStylesheet$($a$$){this.stylesheet=$a$$};mxGraph.prototype.getSelectionModel=function $mxGraph$$getSelectionModel$(){return this.selectionModel};mxGraph.prototype.setSelectionModel=function $mxGraph$$setSelectionModel$($a$$){this.selectionModel=$a$$};
mxGraph.prototype.getSelectionCellsForChanges=function $mxGraph$$getSelectionCellsForChanges$($a$jscomp$0$$){for(var $b$$=new mxDictionary,$c$$=[],$d$$=mxUtils.bind(this,function($a$$){if(!$b$$.get($a$$)&&this.model.contains($a$$))if(this.model.isEdge($a$$)||this.model.isVertex($a$$))$b$$.put($a$$,!0),$c$$.push($a$$);else for(var $e$$=this.model.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++)$d$$(this.model.getChildAt($a$$,$f$$))}),$e$jscomp$0$$=0;$e$jscomp$0$$<$a$jscomp$0$$.length;$e$jscomp$0$$++){var $f$jscomp$0$$=
$a$jscomp$0$$[$e$jscomp$0$$];if($f$jscomp$0$$.constructor!=mxRootChange){var $g$$=null;$f$jscomp$0$$ instanceof mxChildChange?$g$$=$f$jscomp$0$$.child:null!=$f$jscomp$0$$.cell&&$f$jscomp$0$$.cell instanceof mxCell&&($g$$=$f$jscomp$0$$.cell);null!=$g$$&&$d$$($g$$)}}return $c$$};mxGraph.prototype.graphModelChanged=function $mxGraph$$graphModelChanged$($a$$){for(var $b$$=0;$b$$<$a$$.length;$b$$++)this.processChange($a$$[$b$$]);this.updateSelection();this.view.validate();this.sizeDidChange()};
mxGraph.prototype.updateSelection=function $mxGraph$$updateSelection$(){for(var $a$$=this.getSelectionCells(),$b$$=[],$c$$=0;$c$$<$a$$.length;$c$$++)if(this.model.contains($a$$[$c$$])&&this.isCellVisible($a$$[$c$$]))for(var $d$$=this.model.getParent($a$$[$c$$]);null!=$d$$&&$d$$!=this.view.currentRoot;){if(this.isCellCollapsed($d$$)||!this.isCellVisible($d$$)){$b$$.push($a$$[$c$$]);break}$d$$=this.model.getParent($d$$)}else $b$$.push($a$$[$c$$]);this.removeSelectionCells($b$$)};
mxGraph.prototype.processChange=function $mxGraph$$processChange$($a$$){if($a$$ instanceof mxRootChange)this.clearSelection(),this.setDefaultParent(null),this.removeStateForCell($a$$.previous),this.resetViewOnRootChange&&(this.view.scale=1,this.view.translate.x=0,this.view.translate.y=0),this.fireEvent(new mxEventObject(mxEvent.ROOT));else if($a$$ instanceof mxChildChange){var $b$$=this.model.getParent($a$$.child);this.view.invalidate($a$$.child,!0,!0);if(!this.model.contains($b$$)||this.isCellCollapsed($b$$))this.view.invalidate($a$$.child,
!0,!0),this.removeStateForCell($a$$.child),this.view.currentRoot==$a$$.child&&this.home();$b$$!=$a$$.previous&&(null!=$b$$&&this.view.invalidate($b$$,!1,!1),null!=$a$$.previous&&this.view.invalidate($a$$.previous,!1,!1))}else $a$$ instanceof mxTerminalChange||$a$$ instanceof mxGeometryChange?($a$$ instanceof mxTerminalChange||null==$a$$.previous&&null!=$a$$.geometry||null!=$a$$.previous&&!$a$$.previous.equals($a$$.geometry))&&this.view.invalidate($a$$.cell):$a$$ instanceof mxValueChange?this.view.invalidate($a$$.cell,
!1,!1):$a$$ instanceof mxStyleChange?(this.view.invalidate($a$$.cell,!0,!0),$a$$=this.view.getState($a$$.cell),null!=$a$$&&($a$$.invalidStyle=!0)):null!=$a$$.cell&&$a$$.cell instanceof mxCell&&this.removeStateForCell($a$$.cell)};mxGraph.prototype.removeStateForCell=function $mxGraph$$removeStateForCell$($a$$){for(var $b$$=this.model.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++)this.removeStateForCell(this.model.getChildAt($a$$,$c$$));this.view.invalidate($a$$,!1,!0);this.view.removeState($a$$)};
mxGraph.prototype.addCellOverlay=function $mxGraph$$addCellOverlay$($a$$,$b$$){null==$a$$.overlays&&($a$$.overlays=[]);$a$$.overlays.push($b$$);var $c$$=this.view.getState($a$$);null!=$c$$&&this.cellRenderer.redraw($c$$);this.fireEvent(new mxEventObject(mxEvent.ADD_OVERLAY,"cell",$a$$,"overlay",$b$$));return $b$$};mxGraph.prototype.getCellOverlays=function $mxGraph$$getCellOverlays$($a$$){return $a$$.overlays};
mxGraph.prototype.removeCellOverlay=function $mxGraph$$removeCellOverlay$($a$$,$b$$){if(null==$b$$)this.removeCellOverlays($a$$);else{var $c$$=mxUtils.indexOf($a$$.overlays,$b$$);0<=$c$$?($a$$.overlays.splice($c$$,1),0==$a$$.overlays.length&&($a$$.overlays=null),$c$$=this.view.getState($a$$),null!=$c$$&&this.cellRenderer.redraw($c$$),this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",$a$$,"overlay",$b$$))):$b$$=null}return $b$$};
mxGraph.prototype.removeCellOverlays=function $mxGraph$$removeCellOverlays$($a$$){var $b$$=$a$$.overlays;if(null!=$b$$){$a$$.overlays=null;var $c$$=this.view.getState($a$$);null!=$c$$&&this.cellRenderer.redraw($c$$);for($c$$=0;$c$$<$b$$.length;$c$$++)this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",$a$$,"overlay",$b$$[$c$$]))}return $b$$};
mxGraph.prototype.clearCellOverlays=function $mxGraph$$clearCellOverlays$($a$$){$a$$=null!=$a$$?$a$$:this.model.getRoot();this.removeCellOverlays($a$$);for(var $b$$=this.model.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++){var $d$$=this.model.getChildAt($a$$,$c$$);this.clearCellOverlays($d$$)}};
mxGraph.prototype.setCellWarning=function $mxGraph$$setCellWarning$($a$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$$){if(null!=$b$jscomp$0$$&&0<$b$jscomp$0$$.length)return $c$jscomp$0$$=null!=$c$jscomp$0$$?$c$jscomp$0$$:this.warningImage,$b$jscomp$0$$=new mxCellOverlay($c$jscomp$0$$,"<font color=red>"+$b$jscomp$0$$+"</font>"),$d$$&&$b$jscomp$0$$.addListener(mxEvent.CLICK,mxUtils.bind(this,function($b$$,$c$$){this.isEnabled()&&this.setSelectionCell($a$$)})),this.addCellOverlay($a$$,$b$jscomp$0$$);this.removeCellOverlays($a$$);
return null};mxGraph.prototype.startEditing=function $mxGraph$$startEditing$($a$$){this.startEditingAtCell(null,$a$$)};
mxGraph.prototype.startEditingAtCell=function $mxGraph$$startEditingAtCell$($a$$,$b$$){null!=$b$$&&mxEvent.isMultiTouchEvent($b$$)||(null==$a$$&&($a$$=this.getSelectionCell(),null==$a$$||this.isCellEditable($a$$)||($a$$=null)),null!=$a$$&&(this.fireEvent(new mxEventObject(mxEvent.START_EDITING,"cell",$a$$,"event",$b$$)),this.cellEditor.startEditing($a$$,$b$$),this.fireEvent(new mxEventObject(mxEvent.EDITING_STARTED,"cell",$a$$,"event",$b$$))))};
mxGraph.prototype.getEditingValue=function $mxGraph$$getEditingValue$($a$$,$b$$){return this.convertValueToString($a$$)};mxGraph.prototype.stopEditing=function $mxGraph$$stopEditing$($a$$){this.cellEditor.stopEditing($a$$);this.fireEvent(new mxEventObject(mxEvent.EDITING_STOPPED,"cancel",$a$$))};
mxGraph.prototype.labelChanged=function $mxGraph$$labelChanged$($a$$,$b$$,$c$$){this.model.beginUpdate();try{var $d$$=$a$$.value;this.cellLabelChanged($a$$,$b$$,this.isAutoSizeCell($a$$));this.fireEvent(new mxEventObject(mxEvent.LABEL_CHANGED,"cell",$a$$,"value",$b$$,"old",$d$$,"event",$c$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellLabelChanged=function $mxGraph$$cellLabelChanged$($a$$,$b$$,$c$$){this.model.beginUpdate();try{this.model.setValue($a$$,$b$$),$c$$&&this.cellSizeUpdated($a$$,!1)}finally{this.model.endUpdate()}};mxGraph.prototype.escape=function $mxGraph$$escape$($a$$){this.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",$a$$))};
mxGraph.prototype.click=function $mxGraph$$click$($a$jscomp$0$$){var $b$$=$a$jscomp$0$$.getEvent(),$c$$=$a$jscomp$0$$.getCell(),$d$$=new mxEventObject(mxEvent.CLICK,"event",$b$$,"cell",$c$$);$a$jscomp$0$$.isConsumed()&&$d$$.consume();this.fireEvent($d$$);if(this.isEnabled()&&!mxEvent.isConsumed($b$$)&&!$d$$.isConsumed())if(null!=$c$$){if(this.isTransparentClickEvent($b$$)){var $e$$=!1;$a$jscomp$0$$=this.getCellAt($a$jscomp$0$$.graphX,$a$jscomp$0$$.graphY,null,null,null,mxUtils.bind(this,function($a$$){$a$$=
this.isCellSelected($a$$.cell);$e$$=$e$$||$a$$;return!$e$$||$a$$}));null!=$a$jscomp$0$$&&($c$$=$a$jscomp$0$$)}this.selectCellForEvent($c$$,$b$$)}else $c$$=null,this.isSwimlaneSelectionEnabled()&&($c$$=this.getSwimlaneAt($a$jscomp$0$$.getGraphX(),$a$jscomp$0$$.getGraphY())),null!=$c$$?this.selectCellForEvent($c$$,$b$$):this.isToggleEvent($b$$)||this.clearSelection()};
mxGraph.prototype.dblClick=function $mxGraph$$dblClick$($a$$,$b$$){var $c$$=new mxEventObject(mxEvent.DOUBLE_CLICK,"event",$a$$,"cell",$b$$);this.fireEvent($c$$);!this.isEnabled()||mxEvent.isConsumed($a$$)||$c$$.isConsumed()||null==$b$$||!this.isCellEditable($b$$)||this.isEditing($b$$)||(this.startEditingAtCell($b$$,$a$$),mxEvent.consume($a$$))};
mxGraph.prototype.tapAndHold=function $mxGraph$$tapAndHold$($a$$){var $b$$=$a$$.getEvent(),$c$$=new mxEventObject(mxEvent.TAP_AND_HOLD,"event",$b$$,"cell",$a$$.getCell());this.fireEvent($c$$);$c$$.isConsumed()&&(this.panningHandler.panningTrigger=!1);this.isEnabled()&&!mxEvent.isConsumed($b$$)&&!$c$$.isConsumed()&&this.connectionHandler.isEnabled()&&($b$$=this.view.getState(this.connectionHandler.marker.getCell($a$$)),null!=$b$$&&(this.connectionHandler.marker.currentColor=this.connectionHandler.marker.validColor,
this.connectionHandler.marker.markedState=$b$$,this.connectionHandler.marker.mark(),this.connectionHandler.first=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),this.connectionHandler.edgeState=this.connectionHandler.createEdgeState($a$$),this.connectionHandler.previous=$b$$,this.connectionHandler.fireEvent(new mxEventObject(mxEvent.START,"state",this.connectionHandler.previous))))};
mxGraph.prototype.scrollPointToVisible=function $mxGraph$$scrollPointToVisible$($a$$,$b$$,$c$$,$d$$){if(this.timerAutoScroll||!this.ignoreScrollbars&&!mxUtils.hasScrollbars(this.container))this.allowAutoPanning&&!this.panningHandler.isActive()&&(null==this.panningManager&&(this.panningManager=this.createPanningManager()),this.panningManager.panTo($a$$+this.panDx,$b$$+this.panDy));else{var $e$$=this.container;$d$$=null!=$d$$?$d$$:20;if($a$$>=$e$$.scrollLeft&&$b$$>=$e$$.scrollTop&&$a$$<=$e$$.scrollLeft+
$e$$.clientWidth&&$b$$<=$e$$.scrollTop+$e$$.clientHeight){var $f$$=$e$$.scrollLeft+$e$$.clientWidth-$a$$;if($f$$<$d$$){if($a$$=$e$$.scrollLeft,$e$$.scrollLeft+=$d$$-$f$$,$c$$&&$a$$==$e$$.scrollLeft){if(this.dialect==mxConstants.DIALECT_SVG){$a$$=this.view.getDrawPane().ownerSVGElement;var $g$$=this.container.scrollWidth+$d$$-$f$$}else $g$$=Math.max($e$$.clientWidth,$e$$.scrollWidth)+$d$$-$f$$,$a$$=this.view.getCanvas();$a$$.style.width=$g$$+"px";$e$$.scrollLeft+=$d$$-$f$$}}else $f$$=$a$$-$e$$.scrollLeft,
$f$$<$d$$&&($e$$.scrollLeft-=$d$$-$f$$);$f$$=$e$$.scrollTop+$e$$.clientHeight-$b$$;$f$$<$d$$?($a$$=$e$$.scrollTop,$e$$.scrollTop+=$d$$-$f$$,$a$$==$e$$.scrollTop&&$c$$&&(this.dialect==mxConstants.DIALECT_SVG?($a$$=this.view.getDrawPane().ownerSVGElement,$b$$=this.container.scrollHeight+$d$$-$f$$):($b$$=Math.max($e$$.clientHeight,$e$$.scrollHeight)+$d$$-$f$$,$a$$=this.view.getCanvas()),$a$$.style.height=$b$$+"px",$e$$.scrollTop+=$d$$-$f$$)):($f$$=$b$$-$e$$.scrollTop,$f$$<$d$$&&($e$$.scrollTop-=$d$$-
$f$$))}}};mxGraph.prototype.createPanningManager=function $mxGraph$$createPanningManager$(){return new mxPanningManager(this)};
mxGraph.prototype.getBorderSizes=function $mxGraph$$getBorderSizes$(){var $a$$=mxUtils.getCurrentStyle(this.container);return new mxRectangle(mxUtils.parseCssNumber($a$$.paddingLeft)+("none"!=$a$$.borderLeftStyle?mxUtils.parseCssNumber($a$$.borderLeftWidth):0),mxUtils.parseCssNumber($a$$.paddingTop)+("none"!=$a$$.borderTopStyle?mxUtils.parseCssNumber($a$$.borderTopWidth):0),mxUtils.parseCssNumber($a$$.paddingRight)+("none"!=$a$$.borderRightStyle?mxUtils.parseCssNumber($a$$.borderRightWidth):0),mxUtils.parseCssNumber($a$$.paddingBottom)+
("none"!=$a$$.borderBottomStyle?mxUtils.parseCssNumber($a$$.borderBottomWidth):0))};
mxGraph.prototype.getPreferredPageSize=function $mxGraph$$getPreferredPageSize$($a$$,$b$$,$c$$){$a$$=this.view.translate;var $d$$=this.pageFormat,$e$$=this.pageScale,$d$$=new mxRectangle(0,0,Math.ceil($d$$.width*$e$$),Math.ceil($d$$.height*$e$$));return new mxRectangle(0,0,(this.pageBreaksVisible?Math.ceil($b$$/$d$$.width):1)*$d$$.width+2+$a$$.x,(this.pageBreaksVisible?Math.ceil($c$$/$d$$.height):1)*$d$$.height+2+$a$$.y)};
mxGraph.prototype.fit=function $mxGraph$$fit$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){if(null!=this.container){$a$$=null!=$a$$?$a$$:this.getBorder();$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:0;$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!1;$f$$=null!=$f$$?$f$$:!1;var $k$$=this.getBorderSizes(),$l$$=this.container.offsetWidth-$k$$.x-$k$$.width-1,$m$$=null!=$g$$?$g$$:this.container.offsetHeight-$k$$.y-$k$$.height-1;$g$$=this.view.getGraphBounds();if(0<$g$$.width&&0<$g$$.height){$b$$&&null!=$g$$.x&&
null!=$g$$.y&&($g$$=$g$$.clone(),$g$$.width+=$g$$.x,$g$$.height+=$g$$.y,$g$$.x=0,$g$$.y=0);var $k$$=this.view.scale,$n$$=$g$$.width/$k$$,$p$$=$g$$.height/$k$$;null!=this.backgroundImage&&($n$$=Math.max($n$$,this.backgroundImage.width-$g$$.x/$k$$),$p$$=Math.max($p$$,this.backgroundImage.height-$g$$.y/$k$$));var $q$$=($b$$?$a$$:2*$a$$)+$c$$+1,$l$$=$l$$-$q$$,$m$$=$m$$-$q$$;$e$$=$e$$?$m$$/$p$$:$f$$?$l$$/$n$$:Math.min($l$$/$n$$,$m$$/$p$$);null!=this.minFitScale&&($e$$=Math.max($e$$,this.minFitScale));
null!=this.maxFitScale&&($e$$=Math.min($e$$,this.maxFitScale));if($d$$)$b$$?this.view.scale!=$e$$&&this.view.setScale($e$$):mxUtils.hasScrollbars(this.container)?(this.view.setScale($e$$),$a$$=this.getGraphBounds(),null!=$a$$.x&&(this.container.scrollLeft=$a$$.x),null!=$a$$.y&&(this.container.scrollTop=$a$$.y)):this.view.scaleAndTranslate($e$$,null!=$g$$.x?Math.floor(this.view.translate.x-$g$$.x/$k$$+$a$$/$e$$+$c$$/2):$a$$,null!=$g$$.y?Math.floor(this.view.translate.y-$g$$.y/$k$$+$a$$/$e$$+$c$$/2):
$a$$);else return $e$$}}return this.view.scale};
mxGraph.prototype.sizeDidChange=function $mxGraph$$sizeDidChange$(){var $a$$=this.getGraphBounds();if(null!=this.container){var $b$$=this.getBorder(),$c$$=Math.max(0,$a$$.x+$a$$.width+2*$b$$*this.view.scale),$b$$=Math.max(0,$a$$.y+$a$$.height+2*$b$$*this.view.scale);null!=this.minimumContainerSize&&($c$$=Math.max($c$$,this.minimumContainerSize.width),$b$$=Math.max($b$$,this.minimumContainerSize.height));this.resizeContainer&&this.doResizeContainer($c$$,$b$$);if(this.preferPageSize||!mxClient.IS_IE&&
this.pageVisible){var $d$$=this.getPreferredPageSize($a$$,Math.max(1,$c$$),Math.max(1,$b$$));null!=$d$$&&($c$$=$d$$.width*this.view.scale,$b$$=$d$$.height*this.view.scale)}null!=this.minimumGraphSize&&($c$$=Math.max($c$$,this.minimumGraphSize.width*this.view.scale),$b$$=Math.max($b$$,this.minimumGraphSize.height*this.view.scale));$c$$=Math.ceil($c$$);$b$$=Math.ceil($b$$);this.dialect==mxConstants.DIALECT_SVG?($d$$=this.view.getDrawPane().ownerSVGElement,null!=$d$$&&($d$$.style.minWidth=Math.max(1,
$c$$)+"px",$d$$.style.minHeight=Math.max(1,$b$$)+"px",$d$$.style.width="100%",$d$$.style.height="100%")):mxClient.IS_QUIRKS?this.view.updateHtmlCanvasSize(Math.max(1,$c$$),Math.max(1,$b$$)):(this.view.canvas.style.minWidth=Math.max(1,$c$$)+"px",this.view.canvas.style.minHeight=Math.max(1,$b$$)+"px");this.updatePageBreaks(this.pageBreaksVisible,$c$$,$b$$)}this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",$a$$))};
mxGraph.prototype.doResizeContainer=function $mxGraph$$doResizeContainer$($a$$,$b$$){null!=this.maximumContainerSize&&($a$$=Math.min(this.maximumContainerSize.width,$a$$),$b$$=Math.min(this.maximumContainerSize.height,$b$$));this.container.style.width=Math.ceil($a$$)+"px";this.container.style.height=Math.ceil($b$$)+"px"};
mxGraph.prototype.updatePageBreaks=function $mxGraph$$updatePageBreaks$($a$jscomp$0$$,$b$jscomp$0$$,$c$jscomp$0$$){$b$jscomp$0$$=this.view.scale;$c$jscomp$0$$=this.view.translate;var $d$jscomp$0$$=this.pageFormat,$e$$=$b$jscomp$0$$*this.pageScale,$f$$=new mxRectangle(0,0,$d$jscomp$0$$.width*$e$$,$d$jscomp$0$$.height*$e$$),$d$jscomp$0$$=mxRectangle.fromRectangle(this.getGraphBounds());$d$jscomp$0$$.width=Math.max(1,$d$jscomp$0$$.width);$d$jscomp$0$$.height=Math.max(1,$d$jscomp$0$$.height);$f$$.x=Math.floor(($d$jscomp$0$$.x-
$c$jscomp$0$$.x*$b$jscomp$0$$)/$f$$.width)*$f$$.width+$c$jscomp$0$$.x*$b$jscomp$0$$;$f$$.y=Math.floor(($d$jscomp$0$$.y-$c$jscomp$0$$.y*$b$jscomp$0$$)/$f$$.height)*$f$$.height+$c$jscomp$0$$.y*$b$jscomp$0$$;$d$jscomp$0$$.width=Math.ceil(($d$jscomp$0$$.width+($d$jscomp$0$$.x-$f$$.x))/$f$$.width)*$f$$.width;$d$jscomp$0$$.height=Math.ceil(($d$jscomp$0$$.height+($d$jscomp$0$$.y-$f$$.y))/$f$$.height)*$f$$.height;var $g$$=($a$jscomp$0$$=$a$jscomp$0$$&&Math.min($f$$.width,$f$$.height)>this.minPageBreakDist)?
Math.ceil($d$jscomp$0$$.height/$f$$.height)+1:0,$k$$=$a$jscomp$0$$?Math.ceil($d$jscomp$0$$.width/$f$$.width)+1:0,$l$$=($k$$-1)*$f$$.width,$m$$=($g$$-1)*$f$$.height;null==this.horizontalPageBreaks&&0<$g$$&&(this.horizontalPageBreaks=[]);null==this.verticalPageBreaks&&0<$k$$&&(this.verticalPageBreaks=[]);$a$jscomp$0$$=mxUtils.bind(this,function($a$$){if(null!=$a$$){for(var $b$$=$a$$==this.horizontalPageBreaks?$g$$:$k$$,$c$$=0;$c$$<=$b$$;$c$$++){var $d$$=$a$$==this.horizontalPageBreaks?[new mxPoint(Math.round($f$$.x),
Math.round($f$$.y+$c$$*$f$$.height)),new mxPoint(Math.round($f$$.x+$l$$),Math.round($f$$.y+$c$$*$f$$.height))]:[new mxPoint(Math.round($f$$.x+$c$$*$f$$.width),Math.round($f$$.y)),new mxPoint(Math.round($f$$.x+$c$$*$f$$.width),Math.round($f$$.y+$m$$))];null!=$a$$[$c$$]?($a$$[$c$$].points=$d$$,$a$$[$c$$].redraw()):($d$$=new mxPolyline($d$$,this.pageBreakColor),$d$$.dialect=this.dialect,$d$$.pointerEvents=!1,$d$$.isDashed=this.pageBreakDashed,$d$$.init(this.view.backgroundPane),$d$$.redraw(),$a$$[$c$$]=
$d$$)}for($c$$=$b$$;$c$$<$a$$.length;$c$$++)$a$$[$c$$].destroy();$a$$.splice($b$$,$a$$.length-$b$$)}});$a$jscomp$0$$(this.horizontalPageBreaks);$a$jscomp$0$$(this.verticalPageBreaks)};
mxGraph.prototype.getCellStyle=function $mxGraph$$getCellStyle$($a$$){var $b$$=this.model.getStyle($a$$);$a$$=this.model.isEdge($a$$)?this.stylesheet.getDefaultEdgeStyle():this.stylesheet.getDefaultVertexStyle();null!=$b$$&&($a$$=this.postProcessCellStyle(this.stylesheet.getCellStyle($b$$,$a$$)));null==$a$$&&($a$$={});return $a$$};
mxGraph.prototype.postProcessCellStyle=function $mxGraph$$postProcessCellStyle$($a$$){if(null!=$a$$){var $b$$=$a$$[mxConstants.STYLE_IMAGE],$c$$=this.getImageFromBundles($b$$);null!=$c$$?$a$$[mxConstants.STYLE_IMAGE]=$c$$:$c$$=$b$$;null!=$c$$&&"data:image/"==$c$$.substring(0,11)&&("data:image/svg+xml,<"==$c$$.substring(0,20)?$c$$=$c$$.substring(0,19)+encodeURIComponent($c$$.substring(19)):"data:image/svg+xml,%3C"!=$c$$.substring(0,22)&&($b$$=$c$$.indexOf(","),0<$b$$&&";base64,"!=$c$$.substring($b$$-
7,$b$$+1)&&($c$$=$c$$.substring(0,$b$$)+";base64,"+$c$$.substring($b$$+1))),$a$$[mxConstants.STYLE_IMAGE]=$c$$)}return $a$$};mxGraph.prototype.setCellStyle=function $mxGraph$$setCellStyle$($a$$,$b$$){$b$$=$b$$||this.getSelectionCells();if(null!=$b$$){this.model.beginUpdate();try{for(var $c$$=0;$c$$<$b$$.length;$c$$++)this.model.setStyle($b$$[$c$$],$a$$)}finally{this.model.endUpdate()}}};
mxGraph.prototype.toggleCellStyle=function $mxGraph$$toggleCellStyle$($a$$,$b$$,$c$$){$c$$=$c$$||this.getSelectionCell();return this.toggleCellStyles($a$$,$b$$,[$c$$])};
mxGraph.prototype.toggleCellStyles=function $mxGraph$$toggleCellStyles$($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=$c$$||this.getSelectionCells();var $d$$=null;if(null!=$c$$&&0<$c$$.length){var $e$$=this.view.getState($c$$[0]),$e$$=null!=$e$$?$e$$.style:this.getCellStyle($c$$[0]);null!=$e$$&&($d$$=mxUtils.getValue($e$$,$a$$,$b$$)?0:1,this.setCellStyles($a$$,$d$$,$c$$))}return $d$$};
mxGraph.prototype.setCellStyles=function $mxGraph$$setCellStyles$($a$$,$b$$,$c$$){$c$$=$c$$||this.getSelectionCells();mxUtils.setCellStyles(this.model,$c$$,$a$$,$b$$)};mxGraph.prototype.toggleCellStyleFlags=function $mxGraph$$toggleCellStyleFlags$($a$$,$b$$,$c$$){this.setCellStyleFlags($a$$,$b$$,null,$c$$)};
mxGraph.prototype.setCellStyleFlags=function $mxGraph$$setCellStyleFlags$($a$$,$b$$,$c$$,$d$$){$d$$=$d$$||this.getSelectionCells();if(null!=$d$$&&0<$d$$.length){if(null==$c$$){var $e$$=this.view.getState($d$$[0]),$e$$=null!=$e$$?$e$$.style:this.getCellStyle($d$$[0]);null!=$e$$&&($c$$=(parseInt($e$$[$a$$]||0)&$b$$)!=$b$$)}mxUtils.setCellStyleFlags(this.model,$d$$,$a$$,$b$$,$c$$)}};
mxGraph.prototype.alignCells=function $mxGraph$$alignCells$($a$$,$b$$,$c$$){null==$b$$&&($b$$=this.getSelectionCells());if(null!=$b$$&&1<$b$$.length){if(null==$c$$)for(var $d$$=0;$d$$<$b$$.length;$d$$++){var $e$$=this.view.getState($b$$[$d$$]);if(null!=$e$$&&!this.model.isEdge($b$$[$d$$]))if(null==$c$$)if($a$$==mxConstants.ALIGN_CENTER){$c$$=$e$$.x+$e$$.width/2;break}else if($a$$==mxConstants.ALIGN_RIGHT)$c$$=$e$$.x+$e$$.width;else if($a$$==mxConstants.ALIGN_TOP)$c$$=$e$$.y;else if($a$$==mxConstants.ALIGN_MIDDLE){$c$$=
$e$$.y+$e$$.height/2;break}else $c$$=$a$$==mxConstants.ALIGN_BOTTOM?$e$$.y+$e$$.height:$e$$.x;else $c$$=$a$$==mxConstants.ALIGN_RIGHT?Math.max($c$$,$e$$.x+$e$$.width):$a$$==mxConstants.ALIGN_TOP?Math.min($c$$,$e$$.y):$a$$==mxConstants.ALIGN_BOTTOM?Math.max($c$$,$e$$.y+$e$$.height):Math.min($c$$,$e$$.x)}if(null!=$c$$){var $f$$=this.view.scale;this.model.beginUpdate();try{for($d$$=0;$d$$<$b$$.length;$d$$++)if($e$$=this.view.getState($b$$[$d$$]),null!=$e$$){var $g$$=this.getCellGeometry($b$$[$d$$]);
null==$g$$||this.model.isEdge($b$$[$d$$])||($g$$=$g$$.clone(),$a$$==mxConstants.ALIGN_CENTER?$g$$.x+=($c$$-$e$$.x-$e$$.width/2)/$f$$:$a$$==mxConstants.ALIGN_RIGHT?$g$$.x+=($c$$-$e$$.x-$e$$.width)/$f$$:$a$$==mxConstants.ALIGN_TOP?$g$$.y+=($c$$-$e$$.y)/$f$$:$a$$==mxConstants.ALIGN_MIDDLE?$g$$.y+=($c$$-$e$$.y-$e$$.height/2)/$f$$:$a$$==mxConstants.ALIGN_BOTTOM?$g$$.y+=($c$$-$e$$.y-$e$$.height)/$f$$:$g$$.x+=($c$$-$e$$.x)/$f$$,this.resizeCell($b$$[$d$$],$g$$))}this.fireEvent(new mxEventObject(mxEvent.ALIGN_CELLS,
"align",$a$$,"cells",$b$$))}finally{this.model.endUpdate()}}}return $b$$};mxGraph.prototype.flipEdge=function $mxGraph$$flipEdge$($a$$){if(null!=$a$$&&null!=this.alternateEdgeStyle){this.model.beginUpdate();try{var $b$$=this.model.getStyle($a$$);null==$b$$||0==$b$$.length?this.model.setStyle($a$$,this.alternateEdgeStyle):this.model.setStyle($a$$,null);this.resetEdge($a$$);this.fireEvent(new mxEventObject(mxEvent.FLIP_EDGE,"edge",$a$$))}finally{this.model.endUpdate()}}return $a$$};
mxGraph.prototype.addImageBundle=function $mxGraph$$addImageBundle$($a$$){this.imageBundles.push($a$$)};mxGraph.prototype.removeImageBundle=function $mxGraph$$removeImageBundle$($a$$){for(var $b$$=[],$c$$=0;$c$$<this.imageBundles.length;$c$$++)this.imageBundles[$c$$]!=$a$$&&$b$$.push(this.imageBundles[$c$$]);this.imageBundles=$b$$};
mxGraph.prototype.getImageFromBundles=function $mxGraph$$getImageFromBundles$($a$$){if(null!=$a$$)for(var $b$$=0;$b$$<this.imageBundles.length;$b$$++){var $c$$=this.imageBundles[$b$$].getImage($a$$);if(null!=$c$$)return $c$$}return null};
mxGraph.prototype.orderCells=function $mxGraph$$orderCells$($a$$,$b$$){null==$b$$&&($b$$=mxUtils.sortCells(this.getSelectionCells(),!0));this.model.beginUpdate();try{this.cellsOrdered($b$$,$a$$),this.fireEvent(new mxEventObject(mxEvent.ORDER_CELLS,"back",$a$$,"cells",$b$$))}finally{this.model.endUpdate()}return $b$$};
mxGraph.prototype.cellsOrdered=function $mxGraph$$cellsOrdered$($a$$,$b$$){if(null!=$a$$){this.model.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.model.getParent($a$$[$c$$]);$b$$?this.model.add($d$$,$a$$[$c$$],$c$$):this.model.add($d$$,$a$$[$c$$],this.model.getChildCount($d$$)-1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ORDERED,"back",$b$$,"cells",$a$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.groupCells=function $mxGraph$$groupCells$($a$$,$b$$,$c$$){null==$c$$&&($c$$=mxUtils.sortCells(this.getSelectionCells(),!0));$c$$=this.getCellsForGroup($c$$);null==$a$$&&($a$$=this.createGroupCell($c$$));var $d$$=this.getBoundsForGroup($a$$,$c$$,$b$$);if(0<$c$$.length&&null!=$d$$){var $e$$=this.model.getParent($a$$);null==$e$$&&($e$$=this.model.getParent($c$$[0]));this.model.beginUpdate();try{null==this.getCellGeometry($a$$)&&this.model.setGeometry($a$$,new mxGeometry);var $f$$=this.model.getChildCount($e$$);
this.cellsAdded([$a$$],$e$$,$f$$,null,null,!1,!1,!1);$f$$=this.model.getChildCount($a$$);this.cellsAdded($c$$,$a$$,$f$$,null,null,!1,!1,!1);this.cellsMoved($c$$,-$d$$.x,-$d$$.y,!1,!1,!1);this.cellsResized([$a$$],[$d$$],!1);this.fireEvent(new mxEventObject(mxEvent.GROUP_CELLS,"group",$a$$,"border",$b$$,"cells",$c$$))}finally{this.model.endUpdate()}}return $a$$};
mxGraph.prototype.getCellsForGroup=function $mxGraph$$getCellsForGroup$($a$$){var $b$$=[];if(null!=$a$$&&0<$a$$.length){var $c$$=this.model.getParent($a$$[0]);$b$$.push($a$$[0]);for(var $d$$=1;$d$$<$a$$.length;$d$$++)this.model.getParent($a$$[$d$$])==$c$$&&$b$$.push($a$$[$d$$])}return $b$$};
mxGraph.prototype.getBoundsForGroup=function $mxGraph$$getBoundsForGroup$($a$$,$b$$,$c$$){$b$$=this.getBoundingBoxFromGeometry($b$$,!0);null!=$b$$&&(this.isSwimlane($a$$)&&($a$$=this.getStartSize($a$$),$b$$.x-=$a$$.width,$b$$.y-=$a$$.height,$b$$.width+=$a$$.width,$b$$.height+=$a$$.height),null!=$c$$&&($b$$.x-=$c$$,$b$$.y-=$c$$,$b$$.width+=2*$c$$,$b$$.height+=2*$c$$));return $b$$};
mxGraph.prototype.createGroupCell=function $mxGraph$$createGroupCell$($a$$){$a$$=new mxCell("");$a$$.setVertex(!0);$a$$.setConnectable(!1);return $a$$};
mxGraph.prototype.ungroupCells=function $mxGraph$$ungroupCells$($a$$){var $b$$=[];if(null==$a$$){$a$$=this.getSelectionCells();for(var $c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)0<this.model.getChildCount($a$$[$d$$])&&$c$$.push($a$$[$d$$]);$a$$=$c$$}if(null!=$a$$&&0<$a$$.length){this.model.beginUpdate();try{for($d$$=0;$d$$<$a$$.length;$d$$++){var $e$$=this.model.getChildren($a$$[$d$$]);if(null!=$e$$&&0<$e$$.length){var $e$$=$e$$.slice(),$f$$=this.model.getParent($a$$[$d$$]),$g$$=this.model.getChildCount($f$$);
this.cellsAdded($e$$,$f$$,$g$$,null,null,!0);$b$$=$b$$.concat($e$$)}}this.removeCellsAfterUngroup($a$$);this.fireEvent(new mxEventObject(mxEvent.UNGROUP_CELLS,"cells",$a$$))}finally{this.model.endUpdate()}}return $b$$};mxGraph.prototype.removeCellsAfterUngroup=function $mxGraph$$removeCellsAfterUngroup$($a$$){this.cellsRemoved(this.addAllEdges($a$$))};
mxGraph.prototype.removeCellsFromParent=function $mxGraph$$removeCellsFromParent$($a$$){null==$a$$&&($a$$=this.getSelectionCells());this.model.beginUpdate();try{var $b$$=this.getDefaultParent(),$c$$=this.model.getChildCount($b$$);this.cellsAdded($a$$,$b$$,$c$$,null,null,!0);this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS_FROM_PARENT,"cells",$a$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.updateGroupBounds=function $mxGraph$$updateGroupBounds$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){null==$a$$&&($a$$=this.getSelectionCells());$b$$=null!=$b$$?$b$$:0;$c$$=null!=$c$$?$c$$:!1;$d$$=null!=$d$$?$d$$:0;$e$$=null!=$e$$?$e$$:0;$f$$=null!=$f$$?$f$$:0;$g$$=null!=$g$$?$g$$:0;this.model.beginUpdate();try{for(var $k$$=$a$$.length-1;0<=$k$$;$k$$--){var $l$$=this.getCellGeometry($a$$[$k$$]);if(null!=$l$$){var $m$$=this.getChildCells($a$$[$k$$]);if(null!=$m$$&&0<$m$$.length){var $n$$=
this.getBoundingBoxFromGeometry($m$$,!0);if(null!=$n$$&&0<$n$$.width&&0<$n$$.height){var $p$$=0,$q$$=0;if(this.isSwimlane($a$$[$k$$]))var $r$$=this.getStartSize($a$$[$k$$]),$p$$=$r$$.width,$q$$=$r$$.height;$l$$=$l$$.clone();$c$$&&($l$$.x=Math.round($l$$.x+$n$$.x-$b$$-$p$$-$g$$),$l$$.y=Math.round($l$$.y+$n$$.y-$b$$-$q$$-$d$$));$l$$.width=Math.round($n$$.width+2*$b$$+$p$$+$g$$+$e$$);$l$$.height=Math.round($n$$.height+2*$b$$+$q$$+$d$$+$f$$);this.model.setGeometry($a$$[$k$$],$l$$);this.moveCells($m$$,
$b$$+$p$$-$n$$.x+$g$$,$b$$+$q$$-$n$$.y+$d$$)}}}}}finally{this.model.endUpdate()}return $a$$};mxGraph.prototype.getBoundingBox=function $mxGraph$$getBoundingBox$($a$$){var $b$$=null;if(null!=$a$$&&0<$a$$.length)for(var $c$$=0;$c$$<$a$$.length;$c$$++)if(this.model.isVertex($a$$[$c$$])||this.model.isEdge($a$$[$c$$])){var $d$$=this.view.getBoundingBox(this.view.getState($a$$[$c$$]),!0);null!=$d$$&&(null==$b$$?$b$$=mxRectangle.fromRectangle($d$$):$b$$.add($d$$))}return $b$$};
mxGraph.prototype.cloneCell=function $mxGraph$$cloneCell$($a$$,$b$$,$c$$,$d$$){return this.cloneCells([$a$$],$b$$,$c$$,$d$$)[0]};
mxGraph.prototype.cloneCells=function $mxGraph$$cloneCells$($a$$,$b$$,$c$$,$d$$){$b$$=null!=$b$$?$b$$:!0;var $e$$=null;if(null!=$a$$){for(var $f$$=new mxDictionary,$e$$=[],$g$$=0;$g$$<$a$$.length;$g$$++)$f$$.put($a$$[$g$$],!0),$e$$.push($a$$[$g$$]);if(0<$e$$.length)for(var $k$$=this.view.scale,$l$$=this.view.translate,$e$$=this.model.cloneCells($a$$,!0,$c$$),$g$$=0;$g$$<$a$$.length;$g$$++)if(!$b$$&&this.model.isEdge($e$$[$g$$])&&null!=this.getEdgeValidationError($e$$[$g$$],this.model.getTerminal($e$$[$g$$],
!0),this.model.getTerminal($e$$[$g$$],!1)))$e$$[$g$$]=null;else{var $m$$=this.model.getGeometry($e$$[$g$$]);if(null!=$m$$){var $n$$=this.view.getState($a$$[$g$$]),$p$$=this.view.getState(this.model.getParent($a$$[$g$$]));if(null!=$n$$&&null!=$p$$)if($c$$=$d$$?0:$p$$.origin.x,$p$$=$d$$?0:$p$$.origin.y,this.model.isEdge($e$$[$g$$])){if($n$$=$n$$.absolutePoints,null!=$n$$){for(var $q$$=this.model.getTerminal($a$$[$g$$],!0);null!=$q$$&&!$f$$.get($q$$);)$q$$=this.model.getParent($q$$);null==$q$$&&null!=
$n$$[0]&&$m$$.setTerminalPoint(new mxPoint($n$$[0].x/$k$$-$l$$.x,$n$$[0].y/$k$$-$l$$.y),!0);for($q$$=this.model.getTerminal($a$$[$g$$],!1);null!=$q$$&&!$f$$.get($q$$);)$q$$=this.model.getParent($q$$);var $r$$=$n$$.length-1;null==$q$$&&null!=$n$$[$r$$]&&$m$$.setTerminalPoint(new mxPoint($n$$[$r$$].x/$k$$-$l$$.x,$n$$[$r$$].y/$k$$-$l$$.y),!1);$m$$=$m$$.points;if(null!=$m$$)for($n$$=0;$n$$<$m$$.length;$n$$++)$m$$[$n$$].x+=$c$$,$m$$[$n$$].y+=$p$$}}else $m$$.translate($c$$,$p$$)}}else $e$$=[]}return $e$$};
mxGraph.prototype.insertVertex=function $mxGraph$$insertVertex$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$b$$=this.createVertex($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$);return this.addCell($b$$,$a$$)};mxGraph.prototype.createVertex=function $mxGraph$$createVertex$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){$a$$=new mxGeometry($d$$,$e$$,$f$$,$g$$);$a$$.relative=null!=$l$$?$l$$:!1;$c$$=new mxCell($c$$,$a$$,$k$$);$c$$.setId($b$$);$c$$.setVertex(!0);$c$$.setConnectable(!0);return $c$$};
mxGraph.prototype.insertEdge=function $mxGraph$$insertEdge$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$b$$=this.createEdge($a$$,$b$$,$c$$,$d$$,$e$$,$f$$);return this.addEdge($b$$,$a$$,$d$$,$e$$)};mxGraph.prototype.createEdge=function $mxGraph$$createEdge$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$a$$=new mxCell($c$$,new mxGeometry,$f$$);$a$$.setId($b$$);$a$$.setEdge(!0);$a$$.geometry.relative=!0;return $a$$};
mxGraph.prototype.addEdge=function $mxGraph$$addEdge$($a$$,$b$$,$c$$,$d$$,$e$$){return this.addCell($a$$,$b$$,$e$$,$c$$,$d$$)};mxGraph.prototype.addCell=function $mxGraph$$addCell$($a$$,$b$$,$c$$,$d$$,$e$$){return this.addCells([$a$$],$b$$,$c$$,$d$$,$e$$)[0]};
mxGraph.prototype.addCells=function $mxGraph$$addCells$($a$$,$b$$,$c$$,$d$$,$e$$){null==$b$$&&($b$$=this.getDefaultParent());null==$c$$&&($c$$=this.model.getChildCount($b$$));this.model.beginUpdate();try{this.cellsAdded($a$$,$b$$,$c$$,$d$$,$e$$,!1,!0),this.fireEvent(new mxEventObject(mxEvent.ADD_CELLS,"cells",$a$$,"parent",$b$$,"index",$c$$,"source",$d$$,"target",$e$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellsAdded=function $mxGraph$$cellsAdded$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$){if(null!=$a$$&&null!=$b$$&&null!=$c$$){this.model.beginUpdate();try{for(var $l$$=$f$$?this.view.getState($b$$):null,$m$$=null!=$l$$?$l$$.origin:null,$n$$=new mxPoint(0,0),$l$$=0;$l$$<$a$$.length;$l$$++)if(null==$a$$[$l$$])$c$$--;else{var $p$$=this.model.getParent($a$$[$l$$]);if(null!=$m$$&&$a$$[$l$$]!=$b$$&&$b$$!=$p$$){var $q$$=this.view.getState($p$$),$r$$=null!=$q$$?$q$$.origin:$n$$,$t$$=this.model.getGeometry($a$$[$l$$]);
if(null!=$t$$){var $u$$=$r$$.x-$m$$.x,$y$$=$r$$.y-$m$$.y,$t$$=$t$$.clone();$t$$.translate($u$$,$y$$);$t$$.relative||!this.model.isVertex($a$$[$l$$])||this.isAllowNegativeCoordinates()||($t$$.x=Math.max(0,$t$$.x),$t$$.y=Math.max(0,$t$$.y));this.model.setGeometry($a$$[$l$$],$t$$)}}$b$$==$p$$&&$c$$+$l$$>this.model.getChildCount($b$$)&&$c$$--;this.model.add($b$$,$a$$[$l$$],$c$$+$l$$);this.autoSizeCellsOnAdd&&this.autoSizeCell($a$$[$l$$],!0);(null==$k$$||$k$$)&&this.isExtendParentsOnAdd($a$$[$l$$])&&this.isExtendParent($a$$[$l$$])&&
this.extendParent($a$$[$l$$]);(null==$g$$||$g$$)&&this.constrainChild($a$$[$l$$]);null!=$d$$&&this.cellConnected($a$$[$l$$],$d$$,!0);null!=$e$$&&this.cellConnected($a$$[$l$$],$e$$,!1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ADDED,"cells",$a$$,"parent",$b$$,"index",$c$$,"source",$d$$,"target",$e$$,"absolute",$f$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.autoSizeCell=function $mxGraph$$autoSizeCell$($a$$,$b$$){if(null!=$b$$?$b$$:1)for(var $c$$=this.model.getChildCount($a$$),$d$$=0;$d$$<$c$$;$d$$++)this.autoSizeCell(this.model.getChildAt($a$$,$d$$));this.getModel().isVertex($a$$)&&this.isAutoSizeCell($a$$)&&this.updateCellSize($a$$)};
mxGraph.prototype.removeCells=function $mxGraph$$removeCells$($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;null==$a$$&&($a$$=this.getDeletableCells(this.getSelectionCells()));if($b$$)$a$$=this.getDeletableCells(this.addAllEdges($a$$));else{$a$$=$a$$.slice();for(var $c$$=this.getDeletableCells(this.getAllEdges($a$$)),$d$$=new mxDictionary,$e$$=0;$e$$<$a$$.length;$e$$++)$d$$.put($a$$[$e$$],!0);for($e$$=0;$e$$<$c$$.length;$e$$++)null!=this.view.getState($c$$[$e$$])||$d$$.get($c$$[$e$$])||($d$$.put($c$$[$e$$],
!0),$a$$.push($c$$[$e$$]))}this.model.beginUpdate();try{this.cellsRemoved($a$$),this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS,"cells",$a$$,"includeEdges",$b$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellsRemoved=function $mxGraph$$cellsRemoved$($a$$){if(null!=$a$$&&0<$a$$.length){var $b$$=this.view.scale,$c$$=this.view.translate;this.model.beginUpdate();try{for(var $d$jscomp$0$$=new mxDictionary,$e$$=0;$e$$<$a$$.length;$e$$++)$d$jscomp$0$$.put($a$$[$e$$],!0);for($e$$=0;$e$$<$a$$.length;$e$$++){for(var $f$jscomp$0$$=this.getAllEdges([$a$$[$e$$]]),$g$jscomp$0$$=mxUtils.bind(this,function($d$$,$f$$){var $g$$=this.model.getGeometry($d$$);if(null!=$g$$){for(var $k$$=this.model.getTerminal($d$$,
$f$$),$l$$=!1,$m$$=$k$$;null!=$m$$;){if($a$$[$e$$]==$m$$){$l$$=!0;break}$m$$=this.model.getParent($m$$)}$l$$&&($g$$=$g$$.clone(),$l$$=this.view.getState($d$$),null!=$l$$&&null!=$l$$.absolutePoints?($k$$=$l$$.absolutePoints,$m$$=$f$$?0:$k$$.length-1,$g$$.setTerminalPoint(new mxPoint($k$$[$m$$].x/$b$$-$c$$.x-$l$$.origin.x,$k$$[$m$$].y/$b$$-$c$$.y-$l$$.origin.y),$f$$)):($k$$=this.view.getState($k$$),null!=$k$$&&$g$$.setTerminalPoint(new mxPoint($k$$.getCenterX()/$b$$-$c$$.x,$k$$.getCenterY()/$b$$-$c$$.y),
$f$$)),this.model.setGeometry($d$$,$g$$),this.model.setTerminal($d$$,null,$f$$))}}),$k$jscomp$0$$=0;$k$jscomp$0$$<$f$jscomp$0$$.length;$k$jscomp$0$$++)$d$jscomp$0$$.get($f$jscomp$0$$[$k$jscomp$0$$])||($d$jscomp$0$$.put($f$jscomp$0$$[$k$jscomp$0$$],!0),$g$jscomp$0$$($f$jscomp$0$$[$k$jscomp$0$$],!0),$g$jscomp$0$$($f$jscomp$0$$[$k$jscomp$0$$],!1));this.model.remove($a$$[$e$$])}this.fireEvent(new mxEventObject(mxEvent.CELLS_REMOVED,"cells",$a$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.splitEdge=function $mxGraph$$splitEdge$($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=$d$$||0;$e$$=$e$$||0;var $f$$=this.model.getParent($a$$),$g$$=this.model.getTerminal($a$$,!0);this.model.beginUpdate();try{if(null==$c$$){$c$$=this.cloneCell($a$$);var $k$$=this.view.getState($a$$),$l$$=this.getCellGeometry($c$$);if(null!=$l$$&&null!=$l$$.points&&null!=$k$$){var $m$$=this.view.translate,$n$$=this.view.scale,$p$$=mxUtils.findNearestSegment($k$$,($d$$+$m$$.x)*$n$$,($e$$+$m$$.y)*$n$$);$l$$.points=
$l$$.points.slice(0,$p$$);$l$$=this.getCellGeometry($a$$);null!=$l$$&&null!=$l$$.points&&($l$$=$l$$.clone(),$l$$.points=$l$$.points.slice($p$$),this.model.setGeometry($a$$,$l$$))}}this.cellsMoved($b$$,$d$$,$e$$,!1,!1);this.cellsAdded($b$$,$f$$,this.model.getChildCount($f$$),null,null,!0);this.cellsAdded([$c$$],$f$$,this.model.getChildCount($f$$),$g$$,$b$$[0],!1);this.cellConnected($a$$,$b$$[0],!0);this.fireEvent(new mxEventObject(mxEvent.SPLIT_EDGE,"edge",$a$$,"cells",$b$$,"newEdge",$c$$,"dx",$d$$,
"dy",$e$$))}finally{this.model.endUpdate()}return $c$$};mxGraph.prototype.toggleCells=function $mxGraph$$toggleCells$($a$$,$b$$,$c$$){null==$b$$&&($b$$=this.getSelectionCells());$c$$&&($b$$=this.addAllEdges($b$$));this.model.beginUpdate();try{this.cellsToggled($b$$,$a$$),this.fireEvent(new mxEventObject(mxEvent.TOGGLE_CELLS,"show",$a$$,"cells",$b$$,"includeEdges",$c$$))}finally{this.model.endUpdate()}return $b$$};
mxGraph.prototype.cellsToggled=function $mxGraph$$cellsToggled$($a$$,$b$$){if(null!=$a$$&&0<$a$$.length){this.model.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++)this.model.setVisible($a$$[$c$$],$b$$)}finally{this.model.endUpdate()}}};
mxGraph.prototype.foldCells=function $mxGraph$$foldCells$($a$$,$b$$,$c$$,$d$$,$e$$){$b$$=null!=$b$$?$b$$:!1;null==$c$$&&($c$$=this.getFoldableCells(this.getSelectionCells(),$a$$));this.stopEditing(!1);this.model.beginUpdate();try{this.cellsFolded($c$$,$a$$,$b$$,$d$$),this.fireEvent(new mxEventObject(mxEvent.FOLD_CELLS,"collapse",$a$$,"recurse",$b$$,"cells",$c$$))}finally{this.model.endUpdate()}return $c$$};
mxGraph.prototype.cellsFolded=function $mxGraph$$cellsFolded$($a$$,$b$$,$c$$,$d$$){if(null!=$a$$&&0<$a$$.length){this.model.beginUpdate();try{for(var $e$$=0;$e$$<$a$$.length;$e$$++)if((!$d$$||this.isCellFoldable($a$$[$e$$],$b$$))&&$b$$!=this.isCellCollapsed($a$$[$e$$])){this.model.setCollapsed($a$$[$e$$],$b$$);this.swapBounds($a$$[$e$$],$b$$);this.isExtendParent($a$$[$e$$])&&this.extendParent($a$$[$e$$]);if($c$$){var $f$$=this.model.getChildren($a$$[$e$$]);this.cellsFolded($f$$,$b$$,$c$$)}this.constrainChild($a$$[$e$$])}this.fireEvent(new mxEventObject(mxEvent.CELLS_FOLDED,
"cells",$a$$,"collapse",$b$$,"recurse",$c$$))}finally{this.model.endUpdate()}}};mxGraph.prototype.swapBounds=function $mxGraph$$swapBounds$($a$$,$b$$){if(null!=$a$$){var $c$$=this.model.getGeometry($a$$);null!=$c$$&&($c$$=$c$$.clone(),this.updateAlternateBounds($a$$,$c$$,$b$$),$c$$.swap(),this.model.setGeometry($a$$,$c$$))}};
mxGraph.prototype.updateAlternateBounds=function $mxGraph$$updateAlternateBounds$($a$$,$b$$,$c$$){if(null!=$a$$&&null!=$b$$){$c$$=this.view.getState($a$$);$c$$=null!=$c$$?$c$$.style:this.getCellStyle($a$$);if(null==$b$$.alternateBounds){var $d$$=$b$$;this.collapseToPreferredSize&&($a$$=this.getPreferredSizeForCell($a$$),null!=$a$$&&($d$$=$a$$,$a$$=mxUtils.getValue($c$$,mxConstants.STYLE_STARTSIZE),0<$a$$&&($d$$.height=Math.max($d$$.height,$a$$))));$b$$.alternateBounds=new mxRectangle(0,0,$d$$.width,
$d$$.height)}if(null!=$b$$.alternateBounds){$b$$.alternateBounds.x=$b$$.x;$b$$.alternateBounds.y=$b$$.y;var $e$$=mxUtils.toRadians($c$$[mxConstants.STYLE_ROTATION]||0);0!=$e$$&&($a$$=$b$$.alternateBounds.getCenterX()-$b$$.getCenterX(),$c$$=$b$$.alternateBounds.getCenterY()-$b$$.getCenterY(),$d$$=Math.cos($e$$),$e$$=Math.sin($e$$),$b$$.alternateBounds.x+=$d$$*$a$$-$e$$*$c$$-$a$$,$b$$.alternateBounds.y+=$e$$*$a$$+$d$$*$c$$-$c$$)}}};
mxGraph.prototype.addAllEdges=function $mxGraph$$addAllEdges$($a$$){var $b$$=$a$$.slice();return mxUtils.removeDuplicates($b$$.concat(this.getAllEdges($a$$)))};mxGraph.prototype.getAllEdges=function $mxGraph$$getAllEdges$($a$$){var $b$$=[];if(null!=$a$$)for(var $c$$=0;$c$$<$a$$.length;$c$$++){for(var $d$$=this.model.getEdgeCount($a$$[$c$$]),$e$$=0;$e$$<$d$$;$e$$++)$b$$.push(this.model.getEdgeAt($a$$[$c$$],$e$$));$d$$=this.model.getChildren($a$$[$c$$]);$b$$=$b$$.concat(this.getAllEdges($d$$))}return $b$$};
mxGraph.prototype.updateCellSize=function $mxGraph$$updateCellSize$($a$$,$b$$){$b$$=null!=$b$$?$b$$:!1;this.model.beginUpdate();try{this.cellSizeUpdated($a$$,$b$$),this.fireEvent(new mxEventObject(mxEvent.UPDATE_CELL_SIZE,"cell",$a$$,"ignoreChildren",$b$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellSizeUpdated=function $mxGraph$$cellSizeUpdated$($a$$,$b$$){if(null!=$a$$){this.model.beginUpdate();try{var $c$$=this.getPreferredSizeForCell($a$$),$d$$=this.model.getGeometry($a$$);if(null!=$c$$&&null!=$d$$){var $e$$=this.isCellCollapsed($a$$),$d$$=$d$$.clone();if(this.isSwimlane($a$$)){var $f$$=this.view.getState($a$$),$g$$=null!=$f$$?$f$$.style:this.getCellStyle($a$$),$k$$=this.model.getStyle($a$$);null==$k$$&&($k$$="");mxUtils.getValue($g$$,mxConstants.STYLE_HORIZONTAL,!0)?
($k$$=mxUtils.setStyle($k$$,mxConstants.STYLE_STARTSIZE,$c$$.height+8),$e$$&&($d$$.height=$c$$.height+8),$d$$.width=$c$$.width):($k$$=mxUtils.setStyle($k$$,mxConstants.STYLE_STARTSIZE,$c$$.width+8),$e$$&&($d$$.width=$c$$.width+8),$d$$.height=$c$$.height);this.model.setStyle($a$$,$k$$)}else $d$$.width=$c$$.width,$d$$.height=$c$$.height;if(!$b$$&&!$e$$){var $l$$=this.view.getBounds(this.model.getChildren($a$$));if(null!=$l$$){var $m$$=this.view.translate,$n$$=this.view.scale,$p$$=($l$$.y+$l$$.height)/
$n$$-$d$$.y-$m$$.y;$d$$.width=Math.max($d$$.width,($l$$.x+$l$$.width)/$n$$-$d$$.x-$m$$.x);$d$$.height=Math.max($d$$.height,$p$$)}}this.cellsResized([$a$$],[$d$$],!1)}}finally{this.model.endUpdate()}}};
mxGraph.prototype.getPreferredSizeForCell=function $mxGraph$$getPreferredSizeForCell$($a$$){var $b$$=null;if(null!=$a$$){var $c$$=this.view.getState($a$$)||this.view.createState($a$$),$d$$=$c$$.style;if(!this.model.isEdge($a$$)){var $e$$=$d$$[mxConstants.STYLE_FONTSIZE]||mxConstants.DEFAULT_FONTSIZE;$a$$=$b$$=0;null==this.getImage($c$$)&&null==$d$$[mxConstants.STYLE_IMAGE]||$d$$[mxConstants.STYLE_SHAPE]!=mxConstants.SHAPE_LABEL||($d$$[mxConstants.STYLE_VERTICAL_ALIGN]==mxConstants.ALIGN_MIDDLE&&($b$$+=
parseFloat($d$$[mxConstants.STYLE_IMAGE_WIDTH])||mxLabel.prototype.imageSize),$d$$[mxConstants.STYLE_ALIGN]!=mxConstants.ALIGN_CENTER&&($a$$+=parseFloat($d$$[mxConstants.STYLE_IMAGE_HEIGHT])||mxLabel.prototype.imageSize));$b$$+=2*($d$$[mxConstants.STYLE_SPACING]||0);$b$$+=$d$$[mxConstants.STYLE_SPACING_LEFT]||0;$b$$+=$d$$[mxConstants.STYLE_SPACING_RIGHT]||0;$a$$+=2*($d$$[mxConstants.STYLE_SPACING]||0);$a$$+=$d$$[mxConstants.STYLE_SPACING_TOP]||0;$a$$+=$d$$[mxConstants.STYLE_SPACING_BOTTOM]||0;var $f$$=
this.getFoldingImage($c$$);null!=$f$$&&($b$$+=$f$$.width+8);$f$$=this.cellRenderer.getLabelValue($c$$);null!=$f$$&&0<$f$$.length?(this.isHtmlLabel($c$$.cell)||($f$$=mxUtils.htmlEntities($f$$)),$f$$=$f$$.replace(/\n/g,"<br>"),$e$$=mxUtils.getSizeForString($f$$,$e$$,$d$$[mxConstants.STYLE_FONTFAMILY]),$c$$=$e$$.width+$b$$,$a$$=$e$$.height+$a$$,mxUtils.getValue($d$$,mxConstants.STYLE_HORIZONTAL,!0)||($d$$=$a$$,$a$$=$c$$,$c$$=$d$$),this.gridEnabled&&($c$$=this.snap($c$$+this.gridSize/2),$a$$=this.snap($a$$+
this.gridSize/2)),$b$$=new mxRectangle(0,0,$c$$,$a$$)):($d$$=4*this.gridSize,$b$$=new mxRectangle(0,0,$d$$,$d$$))}}return $b$$};mxGraph.prototype.resizeCell=function $mxGraph$$resizeCell$($a$$,$b$$,$c$$){return this.resizeCells([$a$$],[$b$$],$c$$)[0]};
mxGraph.prototype.resizeCells=function $mxGraph$$resizeCells$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:this.isRecursiveResize();this.model.beginUpdate();try{this.cellsResized($a$$,$b$$,$c$$),this.fireEvent(new mxEventObject(mxEvent.RESIZE_CELLS,"cells",$a$$,"bounds",$b$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellsResized=function $mxGraph$$cellsResized$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;if(null!=$a$$&&null!=$b$$&&$a$$.length==$b$$.length){this.model.beginUpdate();try{for(var $d$$=0;$d$$<$a$$.length;$d$$++)this.cellResized($a$$[$d$$],$b$$[$d$$],!1,$c$$),this.isExtendParent($a$$[$d$$])&&this.extendParent($a$$[$d$$]),this.constrainChild($a$$[$d$$]);this.resetEdgesOnResize&&this.resetEdges($a$$);this.fireEvent(new mxEventObject(mxEvent.CELLS_RESIZED,"cells",$a$$,"bounds",$b$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.cellResized=function $mxGraph$$cellResized$($a$$,$b$$,$c$$,$d$$){var $e$$=this.model.getGeometry($a$$);if(null!=$e$$&&($e$$.x!=$b$$.x||$e$$.y!=$b$$.y||$e$$.width!=$b$$.width||$e$$.height!=$b$$.height)){$e$$=$e$$.clone();!$c$$&&$e$$.relative?($c$$=$e$$.offset,null!=$c$$&&($c$$.x+=$b$$.x-$e$$.x,$c$$.y+=$b$$.y-$e$$.y)):($e$$.x=$b$$.x,$e$$.y=$b$$.y);$e$$.width=$b$$.width;$e$$.height=$b$$.height;$e$$.relative||!this.model.isVertex($a$$)||this.isAllowNegativeCoordinates()||($e$$.x=Math.max(0,
$e$$.x),$e$$.y=Math.max(0,$e$$.y));this.model.beginUpdate();try{$d$$&&this.resizeChildCells($a$$,$e$$),this.model.setGeometry($a$$,$e$$),this.constrainChildCells($a$$)}finally{this.model.endUpdate()}}};
mxGraph.prototype.resizeChildCells=function $mxGraph$$resizeChildCells$($a$$,$b$$){for(var $c$$=this.model.getGeometry($a$$),$d$$=$b$$.width/$c$$.width,$c$$=$b$$.height/$c$$.height,$e$$=this.model.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++)this.scaleCell(this.model.getChildAt($a$$,$f$$),$d$$,$c$$,!0)};
mxGraph.prototype.constrainChildCells=function $mxGraph$$constrainChildCells$($a$$){for(var $b$$=this.model.getChildCount($a$$),$c$$=0;$c$$<$b$$;$c$$++)this.constrainChild(this.model.getChildAt($a$$,$c$$))};
mxGraph.prototype.scaleCell=function $mxGraph$$scaleCell$($a$$,$b$$,$c$$,$d$$){var $e$$=this.model.getGeometry($a$$);if(null!=$e$$){var $f$$=this.view.getState($a$$),$f$$=null!=$f$$?$f$$.style:this.getCellStyle($a$$),$e$$=$e$$.clone(),$g$$=$e$$.x,$k$$=$e$$.y,$l$$=$e$$.width,$m$$=$e$$.height;$e$$.scale($b$$,$c$$,"fixed"==$f$$[mxConstants.STYLE_ASPECT]);"1"==$f$$[mxConstants.STYLE_RESIZE_WIDTH]?$e$$.width=$l$$*$b$$:"0"==$f$$[mxConstants.STYLE_RESIZE_WIDTH]&&($e$$.width=$l$$);"1"==$f$$[mxConstants.STYLE_RESIZE_HEIGHT]?
$e$$.height=$m$$*$c$$:"0"==$f$$[mxConstants.STYLE_RESIZE_HEIGHT]&&($e$$.height=$m$$);this.isCellMovable($a$$)||($e$$.x=$g$$,$e$$.y=$k$$);this.isCellResizable($a$$)||($e$$.width=$l$$,$e$$.height=$m$$);this.model.isVertex($a$$)?this.cellResized($a$$,$e$$,!0,$d$$):this.model.setGeometry($a$$,$e$$)}};
mxGraph.prototype.extendParent=function $mxGraph$$extendParent$($a$$){if(null!=$a$$){var $b$$=this.model.getParent($a$$),$c$$=this.getCellGeometry($b$$);null==$b$$||null==$c$$||this.isCellCollapsed($b$$)||($a$$=this.getCellGeometry($a$$),null!=$a$$&&!$a$$.relative&&($c$$.width<$a$$.x+$a$$.width||$c$$.height<$a$$.y+$a$$.height)&&($c$$=$c$$.clone(),$c$$.width=Math.max($c$$.width,$a$$.x+$a$$.width),$c$$.height=Math.max($c$$.height,$a$$.y+$a$$.height),this.cellsResized([$b$$],[$c$$],!1)))}};
mxGraph.prototype.importCells=function $mxGraph$$importCells$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){return this.moveCells($a$$,$b$$,$c$$,!0,$d$$,$e$$,$f$$)};
mxGraph.prototype.moveCells=function $mxGraph$$moveCells$($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$b$$=null!=$b$$?$b$$:0;$c$$=null!=$c$$?$c$$:0;$d$$=null!=$d$$?$d$$:!1;if(null!=$a$jscomp$0$$&&(0!=$b$$||0!=$c$$||$d$$||null!=$e$$)){$a$jscomp$0$$=this.model.getTopmostCells($a$jscomp$0$$);this.model.beginUpdate();try{for(var $k$$=new mxDictionary,$l$$=0;$l$$<$a$jscomp$0$$.length;$l$$++)$k$$.put($a$jscomp$0$$[$l$$],!0);for(var $m$$=mxUtils.bind(this,function($a$$){for(;null!=$a$$;){if($k$$.get($a$$))return!0;
$a$$=this.model.getParent($a$$)}return!1}),$n$$=[],$l$$=0;$l$$<$a$jscomp$0$$.length;$l$$++){var $p$$=this.getCellGeometry($a$jscomp$0$$[$l$$]),$q$$=this.model.getParent($a$jscomp$0$$[$l$$]);null!=$p$$&&$p$$.relative&&this.model.isEdge($q$$)&&($m$$(this.model.getTerminal($q$$,!0))||$m$$(this.model.getTerminal($q$$,!1)))||$n$$.push($a$jscomp$0$$[$l$$])}$a$jscomp$0$$=$n$$;$d$$&&($a$jscomp$0$$=this.cloneCells($a$jscomp$0$$,this.isCloneInvalidEdges(),$g$$),null==$e$$&&($e$$=this.getDefaultParent()));var $r$$=
this.isAllowNegativeCoordinates();null!=$e$$&&this.setAllowNegativeCoordinates(!0);this.cellsMoved($a$jscomp$0$$,$b$$,$c$$,!$d$$&&this.isDisconnectOnMove()&&this.isAllowDanglingEdges(),null==$e$$,this.isExtendParentsOnMove()&&null==$e$$);this.setAllowNegativeCoordinates($r$$);if(null!=$e$$){var $t$$=this.model.getChildCount($e$$);this.cellsAdded($a$jscomp$0$$,$e$$,$t$$,null,null,!0)}this.fireEvent(new mxEventObject(mxEvent.MOVE_CELLS,"cells",$a$jscomp$0$$,"dx",$b$$,"dy",$c$$,"clone",$d$$,"target",
$e$$,"event",$f$$))}finally{this.model.endUpdate()}}return $a$jscomp$0$$};
mxGraph.prototype.cellsMoved=function $mxGraph$$cellsMoved$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$a$$&&(0!=$b$$||0!=$c$$)){$f$$=null!=$f$$?$f$$:!1;this.model.beginUpdate();try{$d$$&&this.disconnectGraph($a$$);for(var $g$$=0;$g$$<$a$$.length;$g$$++)this.translateCell($a$$[$g$$],$b$$,$c$$),$f$$&&this.isExtendParent($a$$[$g$$])?this.extendParent($a$$[$g$$]):$e$$&&this.constrainChild($a$$[$g$$]);this.resetEdgesOnMove&&this.resetEdges($a$$);this.fireEvent(new mxEventObject(mxEvent.CELLS_MOVED,"cells",
$a$$,"dx",$b$$,"dy",$c$$,"disconnect",$d$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.translateCell=function $mxGraph$$translateCell$($a$$,$b$$,$c$$){var $d$$=this.model.getGeometry($a$$);if(null!=$d$$){$b$$=parseFloat($b$$);$c$$=parseFloat($c$$);$d$$=$d$$.clone();$d$$.translate($b$$,$c$$);$d$$.relative||!this.model.isVertex($a$$)||this.isAllowNegativeCoordinates()||($d$$.x=Math.max(0,parseFloat($d$$.x)),$d$$.y=Math.max(0,parseFloat($d$$.y)));if($d$$.relative&&!this.model.isEdge($a$$)){var $e$$=this.model.getParent($a$$),$f$$=0;this.model.isVertex($e$$)&&($f$$=this.view.getState($e$$),
$e$$=null!=$f$$?$f$$.style:this.getCellStyle($e$$),$f$$=mxUtils.getValue($e$$,mxConstants.STYLE_ROTATION,0));0!=$f$$&&($f$$=mxUtils.toRadians(-$f$$),$e$$=Math.cos($f$$),$f$$=Math.sin($f$$),$c$$=mxUtils.getRotatedPoint(new mxPoint($b$$,$c$$),$e$$,$f$$,new mxPoint(0,0)),$b$$=$c$$.x,$c$$=$c$$.y);null==$d$$.offset?$d$$.offset=new mxPoint($b$$,$c$$):($d$$.offset.x=parseFloat($d$$.offset.x)+$b$$,$d$$.offset.y=parseFloat($d$$.offset.y)+$c$$)}this.model.setGeometry($a$$,$d$$)}};
mxGraph.prototype.getCellContainmentArea=function $mxGraph$$getCellContainmentArea$($a$$){if(null!=$a$$&&!this.model.isEdge($a$$)){var $b$$=this.model.getParent($a$$);if(null!=$b$$&&$b$$!=this.getDefaultParent()){var $c$$=this.model.getGeometry($b$$);if(null!=$c$$){var $d$$=$a$$=0,$e$$=$c$$.width,$c$$=$c$$.height;if(this.isSwimlane($b$$)){var $f$$=this.getStartSize($b$$),$g$$=this.view.getState($b$$),$k$$=null!=$g$$?$g$$.style:this.getCellStyle($b$$),$b$$=mxUtils.getValue($k$$,mxConstants.STYLE_DIRECTION,
mxConstants.DIRECTION_EAST),$g$$=1==mxUtils.getValue($k$$,mxConstants.STYLE_FLIPH,0),$k$$=1==mxUtils.getValue($k$$,mxConstants.STYLE_FLIPV,0);if($b$$==mxConstants.DIRECTION_SOUTH||$b$$==mxConstants.DIRECTION_NORTH){var $l$$=$f$$.width;$f$$.width=$f$$.height;$f$$.height=$l$$}if($b$$==mxConstants.DIRECTION_EAST&&!$k$$||$b$$==mxConstants.DIRECTION_NORTH&&!$g$$||$b$$==mxConstants.DIRECTION_WEST&&$k$$||$b$$==mxConstants.DIRECTION_SOUTH&&$g$$)$a$$=$f$$.width,$d$$=$f$$.height;$e$$-=$f$$.width;$c$$-=$f$$.height}return new mxRectangle($a$$,
$d$$,$e$$,$c$$)}}}return null};mxGraph.prototype.getMaximumGraphBounds=function $mxGraph$$getMaximumGraphBounds$(){return this.maximumGraphBounds};
mxGraph.prototype.constrainChild=function $mxGraph$$constrainChild$($a$$,$b$$){if(null!=$a$$){var $c$$=this.getCellGeometry($a$$);if(null!=$c$$&&(this.isConstrainRelativeChildren()||!$c$$.relative)){var $d$$=this.model.getParent($a$$);this.getCellGeometry($d$$);var $e$$=this.getMaximumGraphBounds();null!=$e$$&&($d$$=this.getBoundingBoxFromGeometry([$d$$],!1),null!=$d$$&&($e$$=mxRectangle.fromRectangle($e$$),$e$$.x-=$d$$.x,$e$$.y-=$d$$.y));if(this.isConstrainChild($a$$)&&($d$$=this.getCellContainmentArea($a$$),
null!=$d$$)){var $f$$=this.getOverlap($a$$);0<$f$$&&($d$$=mxRectangle.fromRectangle($d$$),$d$$.x-=$d$$.width*$f$$,$d$$.y-=$d$$.height*$f$$,$d$$.width+=2*$d$$.width*$f$$,$d$$.height+=2*$d$$.height*$f$$);null==$e$$?$e$$=$d$$:($e$$=mxRectangle.fromRectangle($e$$),$e$$.intersect($d$$))}if(null!=$e$$){$d$$=[$a$$];if(!this.isCellCollapsed($a$$))for(var $f$$=this.model.getDescendants($a$$),$g$$=0;$g$$<$f$$.length;$g$$++)this.isCellVisible($f$$[$g$$])&&$d$$.push($f$$[$g$$]);$d$$=this.getBoundingBoxFromGeometry($d$$,
!1);if(null!=$d$$){$c$$=$c$$.clone();$f$$=0;$c$$.width>$e$$.width&&($f$$=$c$$.width-$e$$.width,$c$$.width-=$f$$);$d$$.x+$d$$.width>$e$$.x+$e$$.width&&($f$$-=$d$$.x+$d$$.width-$e$$.x-$e$$.width-$f$$);$g$$=0;$c$$.height>$e$$.height&&($g$$=$c$$.height-$e$$.height,$c$$.height-=$g$$);$d$$.y+$d$$.height>$e$$.y+$e$$.height&&($g$$-=$d$$.y+$d$$.height-$e$$.y-$e$$.height-$g$$);$d$$.x<$e$$.x&&($f$$-=$d$$.x-$e$$.x);$d$$.y<$e$$.y&&($g$$-=$d$$.y-$e$$.y);if(0!=$f$$||0!=$g$$)$c$$.relative?(null==$c$$.offset&&($c$$.offset=
new mxPoint),$c$$.offset.x+=$f$$,$c$$.offset.y+=$g$$):($c$$.x+=$f$$,$c$$.y+=$g$$);this.model.setGeometry($a$$,$c$$)}}}}};
mxGraph.prototype.resetEdges=function $mxGraph$$resetEdges$($a$$){if(null!=$a$$){for(var $b$$=new mxDictionary,$c$$=0;$c$$<$a$$.length;$c$$++)$b$$.put($a$$[$c$$],!0);this.model.beginUpdate();try{for($c$$=0;$c$$<$a$$.length;$c$$++){var $d$$=this.model.getEdges($a$$[$c$$]);if(null!=$d$$)for(var $e$$=0;$e$$<$d$$.length;$e$$++){var $f$$=this.view.getState($d$$[$e$$]),$g$$=null!=$f$$?$f$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($d$$[$e$$],!0),$k$$=null!=$f$$?$f$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($d$$[$e$$],
!1);$b$$.get($g$$)&&$b$$.get($k$$)||this.resetEdge($d$$[$e$$])}this.resetEdges(this.model.getChildren($a$$[$c$$]))}}finally{this.model.endUpdate()}}};mxGraph.prototype.resetEdge=function $mxGraph$$resetEdge$($a$$){var $b$$=this.model.getGeometry($a$$);null!=$b$$&&null!=$b$$.points&&0<$b$$.points.length&&($b$$=$b$$.clone(),$b$$.points=[],this.model.setGeometry($a$$,$b$$));return $a$$};
mxGraph.prototype.getOutlineConstraint=function $mxGraph$$getOutlineConstraint$($a$$,$b$$,$c$$){if(null!=$b$$.shape){$c$$=this.view.getPerimeterBounds($b$$);var $d$$=$b$$.style[mxConstants.STYLE_DIRECTION];if($d$$==mxConstants.DIRECTION_NORTH||$d$$==mxConstants.DIRECTION_SOUTH){$c$$.x+=$c$$.width/2-$c$$.height/2;$c$$.y+=$c$$.height/2-$c$$.width/2;var $e$$=$c$$.width;$c$$.width=$c$$.height;$c$$.height=$e$$}var $f$$=mxUtils.toRadians($b$$.shape.getShapeRotation());if(0!=$f$$){var $e$$=Math.cos(-$f$$),
$f$$=Math.sin(-$f$$),$g$$=new mxPoint($c$$.getCenterX(),$c$$.getCenterY());$a$$=mxUtils.getRotatedPoint($a$$,$e$$,$f$$,$g$$)}var $g$$=$f$$=1,$k$$=0,$l$$=0;if(this.getModel().isVertex($b$$.cell)){var $m$$=$b$$.style[mxConstants.STYLE_FLIPH],$n$$=$b$$.style[mxConstants.STYLE_FLIPV];null!=$b$$.shape&&null!=$b$$.shape.stencil&&($m$$=1==mxUtils.getValue($b$$.style,"stencilFlipH",0)||$m$$,$n$$=1==mxUtils.getValue($b$$.style,"stencilFlipV",0)||$n$$);if($d$$==mxConstants.DIRECTION_NORTH||$d$$==mxConstants.DIRECTION_SOUTH)$e$$=
$m$$,$m$$=$n$$,$n$$=$e$$;$m$$&&($f$$=-1,$k$$=-$c$$.width);$n$$&&($g$$=-1,$l$$=-$c$$.height)}$a$$=new mxPoint(($a$$.x-$c$$.x)*$f$$-$k$$+$c$$.x,($a$$.y-$c$$.y)*$g$$-$l$$+$c$$.y);return new mxConnectionConstraint(new mxPoint(0==$c$$.width?0:Math.round(1E3*($a$$.x-$c$$.x)/$c$$.width)/1E3,0==$c$$.height?0:Math.round(1E3*($a$$.y-$c$$.y)/$c$$.height)/1E3),!1)}return null};
mxGraph.prototype.getAllConnectionConstraints=function $mxGraph$$getAllConnectionConstraints$($a$$,$b$$){return null!=$a$$&&null!=$a$$.shape&&null!=$a$$.shape.stencil?$a$$.shape.stencil.constraints:null};
mxGraph.prototype.getConnectionConstraint=function $mxGraph$$getConnectionConstraint$($a$$,$b$$,$c$$){$b$$=null;var $d$$=$a$$.style[$c$$?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X];if(null!=$d$$){var $e$$=$a$$.style[$c$$?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y];null!=$e$$&&($b$$=new mxPoint(parseFloat($d$$),parseFloat($e$$)))}var $d$$=!1,$f$$=$e$$=0;null!=$b$$&&($d$$=mxUtils.getValue($a$$.style,$c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,!0),$e$$=parseFloat($a$$.style[$c$$?
mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX]),$f$$=parseFloat($a$$.style[$c$$?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY]),$e$$=isFinite($e$$)?$e$$:0,$f$$=isFinite($f$$)?$f$$:0);return new mxConnectionConstraint($b$$,$d$$,null,$e$$,$f$$)};
mxGraph.prototype.setConnectionConstraint=function $mxGraph$$setConnectionConstraint$($a$$,$b$$,$c$$,$d$$){if(null!=$d$$){this.model.beginUpdate();try{null==$d$$||null==$d$$.point?(this.setCellStyles($c$$?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX,null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY,
null,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[$a$$])):null!=$d$$.point&&(this.setCellStyles($c$$?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,$d$$.point.x,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,$d$$.point.y,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX,$d$$.dx,[$a$$]),this.setCellStyles($c$$?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY,$d$$.dy,
[$a$$]),$d$$.perimeter?this.setCellStyles($c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[$a$$]):this.setCellStyles($c$$?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,"0",[$a$$]))}finally{this.model.endUpdate()}}};
mxGraph.prototype.getConnectionPoint=function $mxGraph$$getConnectionPoint$($a$$,$b$$){var $c$$=null;if(null!=$a$$&&null!=$b$$.point){var $d$$=this.view.getPerimeterBounds($a$$),$e$$=new mxPoint($d$$.getCenterX(),$d$$.getCenterY()),$c$$=$a$$.style[mxConstants.STYLE_DIRECTION],$f$$=0;null!=$c$$&&1==mxUtils.getValue($a$$.style,mxConstants.STYLE_ANCHOR_POINT_DIRECTION,1)&&($c$$==mxConstants.DIRECTION_NORTH?$f$$+=270:$c$$==mxConstants.DIRECTION_WEST?$f$$+=180:$c$$==mxConstants.DIRECTION_SOUTH&&($f$$+=
90),$c$$!=mxConstants.DIRECTION_NORTH&&$c$$!=mxConstants.DIRECTION_SOUTH||$d$$.rotate90());var $c$$=this.view.scale,$c$$=new mxPoint($d$$.x+$b$$.point.x*$d$$.width+$b$$.dx*$c$$,$d$$.y+$b$$.point.y*$d$$.height+$b$$.dy*$c$$),$g$$=$a$$.style[mxConstants.STYLE_ROTATION]||0;if($b$$.perimeter){if(0!=$f$$){var $k$$=$d$$=0;90==$f$$?$k$$=1:180==$f$$?$d$$=-1:270==$f$$&&($k$$=-1);$c$$=mxUtils.getRotatedPoint($c$$,$d$$,$k$$,$e$$)}$c$$=this.view.getPerimeterPoint($a$$,$c$$,!1)}else $g$$+=$f$$,this.getModel().isVertex($a$$.cell)&&
($f$$=1==$a$$.style[mxConstants.STYLE_FLIPH],$k$$=1==$a$$.style[mxConstants.STYLE_FLIPV],null!=$a$$.shape&&null!=$a$$.shape.stencil&&($f$$=1==mxUtils.getValue($a$$.style,"stencilFlipH",0)||$f$$,$k$$=1==mxUtils.getValue($a$$.style,"stencilFlipV",0)||$k$$),$f$$&&($c$$.x=2*$d$$.getCenterX()-$c$$.x),$k$$&&($c$$.y=2*$d$$.getCenterY()-$c$$.y));0!=$g$$&&null!=$c$$&&($f$$=mxUtils.toRadians($g$$),$d$$=Math.cos($f$$),$k$$=Math.sin($f$$),$c$$=mxUtils.getRotatedPoint($c$$,$d$$,$k$$,$e$$))}null!=$c$$&&($c$$.x=
Math.round($c$$.x),$c$$.y=Math.round($c$$.y));return $c$$};mxGraph.prototype.connectCell=function $mxGraph$$connectCell$($a$$,$b$$,$c$$,$d$$){this.model.beginUpdate();try{var $e$$=this.model.getTerminal($a$$,$c$$);this.cellConnected($a$$,$b$$,$c$$,$d$$);this.fireEvent(new mxEventObject(mxEvent.CONNECT_CELL,"edge",$a$$,"terminal",$b$$,"source",$c$$,"previous",$e$$))}finally{this.model.endUpdate()}return $a$$};
mxGraph.prototype.cellConnected=function $mxGraph$$cellConnected$($a$$,$b$$,$c$$,$d$$){if(null!=$a$$){this.model.beginUpdate();try{var $e$$=this.model.getTerminal($a$$,$c$$);this.setConnectionConstraint($a$$,$b$$,$c$$,$d$$);this.isPortsEnabled()&&($d$$=null,this.isPort($b$$)&&($d$$=$b$$.getId(),$b$$=this.getTerminalForPort($b$$,$c$$)),this.setCellStyles($c$$?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT,$d$$,[$a$$]));this.model.setTerminal($a$$,$b$$,$c$$);this.resetEdgesOnConnect&&this.resetEdge($a$$);
this.fireEvent(new mxEventObject(mxEvent.CELL_CONNECTED,"edge",$a$$,"terminal",$b$$,"source",$c$$,"previous",$e$$))}finally{this.model.endUpdate()}}};
mxGraph.prototype.disconnectGraph=function $mxGraph$$disconnectGraph$($a$$){if(null!=$a$$){this.model.beginUpdate();try{for(var $b$$=this.view.scale,$c$$=this.view.translate,$d$$=new mxDictionary,$e$$=0;$e$$<$a$$.length;$e$$++)$d$$.put($a$$[$e$$],!0);for($e$$=0;$e$$<$a$$.length;$e$$++)if(this.model.isEdge($a$$[$e$$])){var $f$$=this.model.getGeometry($a$$[$e$$]);if(null!=$f$$){var $g$$=this.view.getState($a$$[$e$$]),$k$$=this.view.getState(this.model.getParent($a$$[$e$$]));if(null!=$g$$&&null!=$k$$){var $f$$=
$f$$.clone(),$l$$=-$k$$.origin.x,$m$$=-$k$$.origin.y,$n$$=$g$$.absolutePoints,$p$$=this.model.getTerminal($a$$[$e$$],!0);if(null!=$p$$&&this.isCellDisconnectable($a$$[$e$$],$p$$,!0)){for(;null!=$p$$&&!$d$$.get($p$$);)$p$$=this.model.getParent($p$$);null==$p$$&&($f$$.setTerminalPoint(new mxPoint($n$$[0].x/$b$$-$c$$.x+$l$$,$n$$[0].y/$b$$-$c$$.y+$m$$),!0),this.model.setTerminal($a$$[$e$$],null,!0))}var $q$$=this.model.getTerminal($a$$[$e$$],!1);if(null!=$q$$&&this.isCellDisconnectable($a$$[$e$$],$q$$,
!1)){for(;null!=$q$$&&!$d$$.get($q$$);)$q$$=this.model.getParent($q$$);if(null==$q$$){var $r$$=$n$$.length-1;$f$$.setTerminalPoint(new mxPoint($n$$[$r$$].x/$b$$-$c$$.x+$l$$,$n$$[$r$$].y/$b$$-$c$$.y+$m$$),!1);this.model.setTerminal($a$$[$e$$],null,!1)}}this.model.setGeometry($a$$[$e$$],$f$$)}}}}finally{this.model.endUpdate()}}};mxGraph.prototype.getCurrentRoot=function $mxGraph$$getCurrentRoot$(){return this.view.currentRoot};mxGraph.prototype.getTranslateForRoot=function $mxGraph$$getTranslateForRoot$($a$$){return null};
mxGraph.prototype.isPort=function $mxGraph$$isPort$($a$$){return!1};mxGraph.prototype.getTerminalForPort=function $mxGraph$$getTerminalForPort$($a$$,$b$$){return this.model.getParent($a$$)};mxGraph.prototype.getChildOffsetForCell=function $mxGraph$$getChildOffsetForCell$($a$$){return null};mxGraph.prototype.enterGroup=function $mxGraph$$enterGroup$($a$$){$a$$=$a$$||this.getSelectionCell();null!=$a$$&&this.isValidRoot($a$$)&&(this.view.setCurrentRoot($a$$),this.clearSelection())};
mxGraph.prototype.exitGroup=function $mxGraph$$exitGroup$(){var $a$$=this.model.getRoot(),$b$$=this.getCurrentRoot();if(null!=$b$$){for(var $c$$=this.model.getParent($b$$);$c$$!=$a$$&&!this.isValidRoot($c$$)&&this.model.getParent($c$$)!=$a$$;)$c$$=this.model.getParent($c$$);$c$$==$a$$||this.model.getParent($c$$)==$a$$?this.view.setCurrentRoot(null):this.view.setCurrentRoot($c$$);null!=this.view.getState($b$$)&&this.setSelectionCell($b$$)}};
mxGraph.prototype.home=function $mxGraph$$home$(){var $a$$=this.getCurrentRoot();null!=$a$$&&(this.view.setCurrentRoot(null),null!=this.view.getState($a$$)&&this.setSelectionCell($a$$))};mxGraph.prototype.isValidRoot=function $mxGraph$$isValidRoot$($a$$){return null!=$a$$};mxGraph.prototype.getGraphBounds=function $mxGraph$$getGraphBounds$(){return this.view.getGraphBounds()};
mxGraph.prototype.getCellBounds=function $mxGraph$$getCellBounds$($a$$,$b$$,$c$$){var $d$$=[$a$$];$b$$&&($d$$=$d$$.concat(this.model.getEdges($a$$)));$d$$=this.view.getBounds($d$$);if($c$$){$c$$=this.model.getChildCount($a$$);for(var $e$$=0;$e$$<$c$$;$e$$++){var $f$$=this.getCellBounds(this.model.getChildAt($a$$,$e$$),$b$$,!0);null!=$d$$?$d$$.add($f$$):$d$$=$f$$}}return $d$$};
mxGraph.prototype.getBoundingBoxFromGeometry=function $mxGraph$$getBoundingBoxFromGeometry$($a$jscomp$0$$,$b$$){$b$$=null!=$b$$?$b$$:!1;var $c$$=null;if(null!=$a$jscomp$0$$)for(var $d$$=0;$d$$<$a$jscomp$0$$.length;$d$$++)if($b$$||this.model.isVertex($a$jscomp$0$$[$d$$])){var $e$$=this.getCellGeometry($a$jscomp$0$$[$d$$]);if(null!=$e$$){var $f$$=null;if(this.model.isEdge($a$jscomp$0$$[$d$$])){$f$$=function $$f$$$($a$$){null!=$a$$&&(null==$g$$?$g$$=new mxRectangle($a$$.x,$a$$.y,0,0):$g$$.add(new mxRectangle($a$$.x,
$a$$.y,0,0)))};null==this.model.getTerminal($a$jscomp$0$$[$d$$],!0)&&$f$$($e$$.getTerminalPoint(!0));null==this.model.getTerminal($a$jscomp$0$$[$d$$],!1)&&$f$$($e$$.getTerminalPoint(!1));$e$$=$e$$.points;if(null!=$e$$&&0<$e$$.length)for(var $g$$=new mxRectangle($e$$[0].x,$e$$[0].y,0,0),$k$$=1;$k$$<$e$$.length;$k$$++)$f$$($e$$[$k$$]);$f$$=$g$$}else $k$$=this.model.getParent($a$jscomp$0$$[$d$$]),$e$$.relative?this.model.isVertex($k$$)&&$k$$!=this.view.currentRoot&&($g$$=this.getBoundingBoxFromGeometry([$k$$],
!1),null!=$g$$&&($f$$=new mxRectangle($e$$.x*$g$$.width,$e$$.y*$g$$.height,$e$$.width,$e$$.height),0<=mxUtils.indexOf($a$jscomp$0$$,$k$$)&&($f$$.x+=$g$$.x,$f$$.y+=$g$$.y))):($f$$=mxRectangle.fromRectangle($e$$),this.model.isVertex($k$$)&&0<=mxUtils.indexOf($a$jscomp$0$$,$k$$)&&($g$$=this.getBoundingBoxFromGeometry([$k$$],!1),null!=$g$$&&($f$$.x+=$g$$.x,$f$$.y+=$g$$.y))),null!=$f$$&&null!=$e$$.offset&&($f$$.x+=$e$$.offset.x,$f$$.y+=$e$$.offset.y);null!=$f$$&&(null==$c$$?$c$$=mxRectangle.fromRectangle($f$$):
$c$$.add($f$$))}}return $c$$};mxGraph.prototype.refresh=function $mxGraph$$refresh$($a$$){this.view.clear($a$$,null==$a$$);this.view.validate();this.sizeDidChange();this.fireEvent(new mxEventObject(mxEvent.REFRESH))};mxGraph.prototype.snap=function $mxGraph$$snap$($a$$){this.gridEnabled&&($a$$=Math.round($a$$/this.gridSize)*this.gridSize);return $a$$};
mxGraph.prototype.panGraph=function $mxGraph$$panGraph$($a$$,$b$$){if(this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container))this.container.scrollLeft=-$a$$,this.container.scrollTop=-$b$$;else{var $c$$=this.view.getCanvas();if(this.dialect==mxConstants.DIALECT_SVG)if(0==$a$$&&0==$b$$){if(mxClient.IS_IE?$c$$.setAttribute("transform","translate("+$a$$+","+$b$$+")"):$c$$.removeAttribute("transform"),null!=this.shiftPreview1){for(var $d$$=this.shiftPreview1.firstChild;null!=$d$$;){var $e$$=
$d$$.nextSibling;this.container.appendChild($d$$);$d$$=$e$$}null!=this.shiftPreview1.parentNode&&this.shiftPreview1.parentNode.removeChild(this.shiftPreview1);this.shiftPreview1=null;this.container.appendChild($c$$.parentNode);for($d$$=this.shiftPreview2.firstChild;null!=$d$$;)$e$$=$d$$.nextSibling,this.container.appendChild($d$$),$d$$=$e$$;null!=this.shiftPreview2.parentNode&&this.shiftPreview2.parentNode.removeChild(this.shiftPreview2);this.shiftPreview2=null}}else{$c$$.setAttribute("transform",
"translate("+$a$$+","+$b$$+")");if(null==this.shiftPreview1){this.shiftPreview1=document.createElement("div");this.shiftPreview1.style.position="absolute";this.shiftPreview1.style.overflow="visible";this.shiftPreview2=document.createElement("div");this.shiftPreview2.style.position="absolute";this.shiftPreview2.style.overflow="visible";for(var $f$$=this.shiftPreview1,$d$$=this.container.firstChild;null!=$d$$;)$e$$=$d$$.nextSibling,$d$$!=$c$$.parentNode?$f$$.appendChild($d$$):$f$$=this.shiftPreview2,
$d$$=$e$$;null!=this.shiftPreview1.firstChild&&this.container.insertBefore(this.shiftPreview1,$c$$.parentNode);null!=this.shiftPreview2.firstChild&&this.container.appendChild(this.shiftPreview2)}this.shiftPreview1.style.left=$a$$+"px";this.shiftPreview1.style.top=$b$$+"px";this.shiftPreview2.style.left=$a$$+"px";this.shiftPreview2.style.top=$b$$+"px"}else $c$$.style.left=$a$$+"px",$c$$.style.top=$b$$+"px";this.panDx=$a$$;this.panDy=$b$$;this.fireEvent(new mxEventObject(mxEvent.PAN))}};
mxGraph.prototype.zoomIn=function $mxGraph$$zoomIn$(){this.zoom(this.zoomFactor)};mxGraph.prototype.zoomOut=function $mxGraph$$zoomOut$(){this.zoom(1/this.zoomFactor)};mxGraph.prototype.zoomActual=function $mxGraph$$zoomActual$(){1==this.view.scale?this.view.setTranslate(0,0):(this.view.translate.x=0,this.view.translate.y=0,this.view.setScale(1))};mxGraph.prototype.zoomTo=function $mxGraph$$zoomTo$($a$$,$b$$){this.zoom($a$$/this.view.scale,$b$$)};
mxGraph.prototype.center=function $mxGraph$$center$($a$$,$b$$,$c$$,$d$$){$a$$=null!=$a$$?$a$$:!0;$b$$=null!=$b$$?$b$$:!0;$c$$=null!=$c$$?$c$$:.5;$d$$=null!=$d$$?$d$$:.5;var $e$$=mxUtils.hasScrollbars(this.container),$f$$=this.container.clientWidth,$g$$=this.container.clientHeight,$k$$=this.getGraphBounds(),$l$$=this.view.translate,$m$$=this.view.scale,$n$$=$a$$?$f$$-$k$$.width:0,$p$$=$b$$?$g$$-$k$$.height:0;$e$$?($k$$.x-=$l$$.x,$k$$.y-=$l$$.y,$a$$=this.container.scrollWidth,$b$$=this.container.scrollHeight,
$a$$>$f$$&&($n$$=0),$b$$>$g$$&&($p$$=0),this.view.setTranslate(Math.floor($n$$/2-$k$$.x),Math.floor($p$$/2-$k$$.y)),this.container.scrollLeft=($a$$-$f$$)/2,this.container.scrollTop=($b$$-$g$$)/2):this.view.setTranslate($a$$?Math.floor($l$$.x-$k$$.x*$m$$+$n$$*$c$$/$m$$):$l$$.x,$b$$?Math.floor($l$$.y-$k$$.y*$m$$+$p$$*$d$$/$m$$):$l$$.y)};
mxGraph.prototype.zoom=function $mxGraph$$zoom$($a$$,$b$$){$b$$=null!=$b$$?$b$$:this.centerZoom;var $c$$=Math.round(this.view.scale*$a$$*100)/100,$d$$=this.view.getState(this.getSelectionCell());$a$$=$c$$/this.view.scale;if(this.keepSelectionVisibleOnZoom&&null!=$d$$)$d$$=new mxRectangle($d$$.x*$a$$,$d$$.y*$a$$,$d$$.width*$a$$,$d$$.height*$a$$),this.view.scale=$c$$,this.scrollRectToVisible($d$$)||(this.view.revalidate(),this.view.setScale($c$$));else if($d$$=mxUtils.hasScrollbars(this.container),
$b$$&&!$d$$){var $d$$=this.container.offsetWidth,$e$$=this.container.offsetHeight;if(1<$a$$)var $f$$=($a$$-1)/(2*$c$$),$d$$=$d$$*-$f$$,$e$$=$e$$*-$f$$;else $f$$=(1/$a$$-1)/(2*this.view.scale),$d$$*=$f$$,$e$$*=$f$$;this.view.scaleAndTranslate($c$$,this.view.translate.x+$d$$,this.view.translate.y+$e$$)}else{var $f$$=this.view.translate.x,$g$$=this.view.translate.y,$k$$=this.container.scrollLeft,$l$$=this.container.scrollTop;this.view.setScale($c$$);$d$$&&($e$$=$d$$=0,$b$$&&($d$$=this.container.offsetWidth*
($a$$-1)/2,$e$$=this.container.offsetHeight*($a$$-1)/2),this.container.scrollLeft=(this.view.translate.x-$f$$)*this.view.scale+Math.round($k$$*$a$$+$d$$),this.container.scrollTop=(this.view.translate.y-$g$$)*this.view.scale+Math.round($l$$*$a$$+$e$$))}};
mxGraph.prototype.zoomToRect=function $mxGraph$$zoomToRect$($a$$){var $b$$=this.container.clientWidth/$a$$.width/(this.container.clientHeight/$a$$.height);$a$$.x=Math.max(0,$a$$.x);$a$$.y=Math.max(0,$a$$.y);var $c$$=Math.min(this.container.scrollWidth,$a$$.x+$a$$.width),$d$$=Math.min(this.container.scrollHeight,$a$$.y+$a$$.height);$a$$.width=$c$$-$a$$.x;$a$$.height=$d$$-$a$$.y;1>$b$$?($b$$=$a$$.height/$b$$,$c$$=($b$$-$a$$.height)/2,$a$$.height=$b$$,$a$$.y-=Math.min($a$$.y,$c$$),$d$$=Math.min(this.container.scrollHeight,
$a$$.y+$a$$.height),$a$$.height=$d$$-$a$$.y):($b$$*=$a$$.width,$c$$=($b$$-$a$$.width)/2,$a$$.width=$b$$,$a$$.x-=Math.min($a$$.x,$c$$),$c$$=Math.min(this.container.scrollWidth,$a$$.x+$a$$.width),$a$$.width=$c$$-$a$$.x);$b$$=this.container.clientWidth/$a$$.width;$c$$=this.view.scale*$b$$;mxUtils.hasScrollbars(this.container)?(this.view.setScale($c$$),this.container.scrollLeft=Math.round($a$$.x*$b$$),this.container.scrollTop=Math.round($a$$.y*$b$$)):this.view.scaleAndTranslate($c$$,this.view.translate.x-
$a$$.x/this.view.scale,this.view.translate.y-$a$$.y/this.view.scale)};
mxGraph.prototype.scrollCellToVisible=function $mxGraph$$scrollCellToVisible$($a$$,$b$$){var $c$$=-this.view.translate.x,$d$$=-this.view.translate.y,$e$$=this.view.getState($a$$);null!=$e$$&&($c$$=new mxRectangle($c$$+$e$$.x,$d$$+$e$$.y,$e$$.width,$e$$.height),$b$$&&null!=this.container&&($d$$=this.container.clientWidth,$e$$=this.container.clientHeight,$c$$.x=$c$$.getCenterX()-$d$$/2,$c$$.width=$d$$,$c$$.y=$c$$.getCenterY()-$e$$/2,$c$$.height=$e$$),$d$$=new mxPoint(this.view.translate.x,this.view.translate.y),
this.scrollRectToVisible($c$$)&&($c$$=new mxPoint(this.view.translate.x,this.view.translate.y),this.view.translate.x=$d$$.x,this.view.translate.y=$d$$.y,this.view.setTranslate($c$$.x,$c$$.y)))};
mxGraph.prototype.scrollRectToVisible=function $mxGraph$$scrollRectToVisible$($a$$){var $b$$=!1;if(null!=$a$$){var $c$$=this.container.offsetWidth,$d$$=this.container.offsetHeight,$e$$=Math.min($c$$,$a$$.width),$f$$=Math.min($d$$,$a$$.height);if(mxUtils.hasScrollbars(this.container)){$c$$=this.container;$a$$.x+=this.view.translate.x;$a$$.y+=this.view.translate.y;var $g$$=$c$$.scrollLeft-$a$$.x,$d$$=Math.max($g$$-$c$$.scrollLeft,0);0<$g$$?$c$$.scrollLeft-=$g$$+2:($g$$=$a$$.x+$e$$-$c$$.scrollLeft-$c$$.clientWidth,
0<$g$$&&($c$$.scrollLeft+=$g$$+2));$e$$=$c$$.scrollTop-$a$$.y;$g$$=Math.max(0,$e$$-$c$$.scrollTop);0<$e$$?$c$$.scrollTop-=$e$$+2:($e$$=$a$$.y+$f$$-$c$$.scrollTop-$c$$.clientHeight,0<$e$$&&($c$$.scrollTop+=$e$$+2));this.useScrollbarsForPanning||0==$d$$&&0==$g$$||this.view.setTranslate($d$$,$g$$)}else{var $g$$=-this.view.translate.x,$k$$=-this.view.translate.y,$l$$=this.view.scale;$a$$.x+$e$$>$g$$+$c$$&&(this.view.translate.x-=($a$$.x+$e$$-$c$$-$g$$)/$l$$,$b$$=!0);$a$$.y+$f$$>$k$$+$d$$&&(this.view.translate.y-=
($a$$.y+$f$$-$d$$-$k$$)/$l$$,$b$$=!0);$a$$.x<$g$$&&(this.view.translate.x+=($g$$-$a$$.x)/$l$$,$b$$=!0);$a$$.y<$k$$&&(this.view.translate.y+=($k$$-$a$$.y)/$l$$,$b$$=!0);$b$$&&(this.view.refresh(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.refresh())}}return $b$$};mxGraph.prototype.getCellGeometry=function $mxGraph$$getCellGeometry$($a$$){return this.model.getGeometry($a$$)};mxGraph.prototype.isCellVisible=function $mxGraph$$isCellVisible$($a$$){return this.model.isVisible($a$$)};
mxGraph.prototype.isCellCollapsed=function $mxGraph$$isCellCollapsed$($a$$){return this.model.isCollapsed($a$$)};mxGraph.prototype.isCellConnectable=function $mxGraph$$isCellConnectable$($a$$){return this.model.isConnectable($a$$)};
mxGraph.prototype.isOrthogonal=function $mxGraph$$isOrthogonal$($a$$){var $b$$=$a$$.style[mxConstants.STYLE_ORTHOGONAL];if(null!=$b$$)return $b$$;$a$$=this.view.getEdgeStyle($a$$);return $a$$==mxEdgeStyle.SegmentConnector||$a$$==mxEdgeStyle.ElbowConnector||$a$$==mxEdgeStyle.SideToSide||$a$$==mxEdgeStyle.TopToBottom||$a$$==mxEdgeStyle.EntityRelation||$a$$==mxEdgeStyle.OrthConnector};
mxGraph.prototype.isLoop=function $mxGraph$$isLoop$($a$$){var $b$$=$a$$.getVisibleTerminalState(!0);$a$$=$a$$.getVisibleTerminalState(!1);return null!=$b$$&&$b$$==$a$$};mxGraph.prototype.isCloneEvent=function $mxGraph$$isCloneEvent$($a$$){return mxEvent.isControlDown($a$$)};mxGraph.prototype.isTransparentClickEvent=function $mxGraph$$isTransparentClickEvent$($a$$){return!1};mxGraph.prototype.isToggleEvent=function $mxGraph$$isToggleEvent$($a$$){return mxClient.IS_MAC?mxEvent.isMetaDown($a$$):mxEvent.isControlDown($a$$)};
mxGraph.prototype.isGridEnabledEvent=function $mxGraph$$isGridEnabledEvent$($a$$){return null!=$a$$&&!mxEvent.isAltDown($a$$)};mxGraph.prototype.isConstrainedEvent=function $mxGraph$$isConstrainedEvent$($a$$){return mxEvent.isShiftDown($a$$)};mxGraph.prototype.isIgnoreTerminalEvent=function $mxGraph$$isIgnoreTerminalEvent$($a$$){return!1};mxGraph.prototype.validationAlert=function $mxGraph$$validationAlert$($a$$){mxUtils.alert($a$$)};
mxGraph.prototype.isEdgeValid=function $mxGraph$$isEdgeValid$($a$$,$b$$,$c$$){return null==this.getEdgeValidationError($a$$,$b$$,$c$$)};
mxGraph.prototype.getEdgeValidationError=function $mxGraph$$getEdgeValidationError$($a$$,$b$$,$c$$){if(null!=$a$$&&!this.isAllowDanglingEdges()&&(null==$b$$||null==$c$$))return"";if(null!=$a$$&&null==this.model.getTerminal($a$$,!0)&&null==this.model.getTerminal($a$$,!1))return null;if(!this.allowLoops&&$b$$==$c$$&&null!=$b$$||!this.isValidConnection($b$$,$c$$))return"";if(null!=$b$$&&null!=$c$$){var $d$$="";if(!this.multigraph){var $e$$=this.model.getEdgesBetween($b$$,$c$$,!0);if(1<$e$$.length||1==
$e$$.length&&$e$$[0]!=$a$$)$d$$+=(mxResources.get(this.alreadyConnectedResource)||this.alreadyConnectedResource)+"\n"}var $e$$=this.model.getDirectedEdgeCount($b$$,!0,$a$$),$f$$=this.model.getDirectedEdgeCount($c$$,!1,$a$$);if(null!=this.multiplicities)for(var $g$$=0;$g$$<this.multiplicities.length;$g$$++){var $k$$=this.multiplicities[$g$$].check(this,$a$$,$b$$,$c$$,$e$$,$f$$);null!=$k$$&&($d$$+=$k$$)}$k$$=this.validateEdge($a$$,$b$$,$c$$);null!=$k$$&&($d$$+=$k$$);return 0<$d$$.length?$d$$:null}return this.allowDanglingEdges?
null:""};mxGraph.prototype.validateEdge=function $mxGraph$$validateEdge$($a$$,$b$$,$c$$){return null};
mxGraph.prototype.validateGraph=function $mxGraph$$validateGraph$($a$$,$b$$){$a$$=null!=$a$$?$a$$:this.model.getRoot();$b$$=null!=$b$$?$b$$:{};for(var $c$$=!0,$d$$=this.model.getChildCount($a$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=this.model.getChildAt($a$$,$e$$),$g$$=$b$$;this.isValidRoot($f$$)&&($g$$={});$g$$=this.validateGraph($f$$,$g$$);null!=$g$$?this.setCellWarning($f$$,$g$$.replace(/\n/g,"<br>")):this.setCellWarning($f$$,null);$c$$=$c$$&&null==$g$$}$d$$="";this.isCellCollapsed($a$$)&&!$c$$&&
($d$$+=(mxResources.get(this.containsValidationErrorsResource)||this.containsValidationErrorsResource)+"\n");$d$$=this.model.isEdge($a$$)?$d$$+(this.getEdgeValidationError($a$$,this.model.getTerminal($a$$,!0),this.model.getTerminal($a$$,!1))||""):$d$$+(this.getCellValidationError($a$$)||"");$e$$=this.validateCell($a$$,$b$$);null!=$e$$&&($d$$+=$e$$);null==this.model.getParent($a$$)&&this.view.validate();return 0<$d$$.length||!$c$$?$d$$:null};
mxGraph.prototype.getCellValidationError=function $mxGraph$$getCellValidationError$($a$$){var $b$$=this.model.getDirectedEdgeCount($a$$,!0),$c$$=this.model.getDirectedEdgeCount($a$$,!1);$a$$=this.model.getValue($a$$);var $d$$="";if(null!=this.multiplicities)for(var $e$$=0;$e$$<this.multiplicities.length;$e$$++){var $f$$=this.multiplicities[$e$$];$f$$.source&&mxUtils.isNode($a$$,$f$$.type,$f$$.attr,$f$$.value)&&($b$$>$f$$.max||$b$$<$f$$.min)?$d$$+=$f$$.countError+"\n":!$f$$.source&&mxUtils.isNode($a$$,
$f$$.type,$f$$.attr,$f$$.value)&&($c$$>$f$$.max||$c$$<$f$$.min)&&($d$$+=$f$$.countError+"\n")}return 0<$d$$.length?$d$$:null};mxGraph.prototype.validateCell=function $mxGraph$$validateCell$($a$$,$b$$){return null};mxGraph.prototype.getBackgroundImage=function $mxGraph$$getBackgroundImage$(){return this.backgroundImage};mxGraph.prototype.setBackgroundImage=function $mxGraph$$setBackgroundImage$($a$$){this.backgroundImage=$a$$};
mxGraph.prototype.getFoldingImage=function $mxGraph$$getFoldingImage$($a$$){if(null!=$a$$&&this.foldingEnabled&&!this.getModel().isEdge($a$$.cell)){var $b$$=this.isCellCollapsed($a$$.cell);if(this.isCellFoldable($a$$.cell,!$b$$))return $b$$?this.collapsedImage:this.expandedImage}return null};mxGraph.prototype.convertValueToString=function $mxGraph$$convertValueToString$($a$$){$a$$=this.model.getValue($a$$);if(null!=$a$$){if(mxUtils.isNode($a$$))return $a$$.nodeName;if("function"==typeof $a$$.toString)return $a$$.toString()}return""};
mxGraph.prototype.getLabel=function $mxGraph$$getLabel$($a$$){var $b$$="";if(this.labelsVisible&&null!=$a$$){var $c$$=this.view.getState($a$$),$c$$=null!=$c$$?$c$$.style:this.getCellStyle($a$$);mxUtils.getValue($c$$,mxConstants.STYLE_NOLABEL,!1)||($b$$=this.convertValueToString($a$$))}return $b$$};mxGraph.prototype.isHtmlLabel=function $mxGraph$$isHtmlLabel$($a$$){return this.isHtmlLabels()};mxGraph.prototype.isHtmlLabels=function $mxGraph$$isHtmlLabels$(){return this.htmlLabels};
mxGraph.prototype.setHtmlLabels=function $mxGraph$$setHtmlLabels$($a$$){this.htmlLabels=$a$$};mxGraph.prototype.isWrapping=function $mxGraph$$isWrapping$($a$$){var $b$$=this.view.getState($a$$);$a$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return null!=$a$$?"wrap"==$a$$[mxConstants.STYLE_WHITE_SPACE]:!1};
mxGraph.prototype.isLabelClipped=function $mxGraph$$isLabelClipped$($a$$){var $b$$=this.view.getState($a$$);$a$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return null!=$a$$?"hidden"==$a$$[mxConstants.STYLE_OVERFLOW]:!1};
mxGraph.prototype.getTooltip=function $mxGraph$$getTooltip$($a$jscomp$0$$,$b$$,$c$jscomp$0$$,$d$$){var $e$$=null;null!=$a$jscomp$0$$&&(null==$a$jscomp$0$$.control||$b$$!=$a$jscomp$0$$.control.node&&$b$$.parentNode!=$a$jscomp$0$$.control.node||($e$$=this.collapseExpandResource,$e$$=mxUtils.htmlEntities(mxResources.get($e$$)||$e$$).replace(/\\n/g,"<br>")),null==$e$$&&null!=$a$jscomp$0$$.overlays&&$a$jscomp$0$$.overlays.visit(function($a$$,$c$$){null!=$e$$||$b$$!=$c$$.node&&$b$$.parentNode!=$c$$.node||
($e$$=$c$$.overlay.toString())}),null==$e$$&&($c$jscomp$0$$=this.selectionCellsHandler.getHandler($a$jscomp$0$$.cell),null!=$c$jscomp$0$$&&"function"==typeof $c$jscomp$0$$.getTooltipForNode&&($e$$=$c$jscomp$0$$.getTooltipForNode($b$$))),null==$e$$&&($e$$=this.getTooltipForCell($a$jscomp$0$$.cell)));return $e$$};mxGraph.prototype.getTooltipForCell=function $mxGraph$$getTooltipForCell$($a$$){return null!=$a$$&&null!=$a$$.getTooltip?$a$$.getTooltip():this.convertValueToString($a$$)};
mxGraph.prototype.getLinkForCell=function $mxGraph$$getLinkForCell$($a$$){return null};mxGraph.prototype.getCursorForMouseEvent=function $mxGraph$$getCursorForMouseEvent$($a$$){return this.getCursorForCell($a$$.getCell())};mxGraph.prototype.getCursorForCell=function $mxGraph$$getCursorForCell$($a$$){return null};
mxGraph.prototype.getStartSize=function $mxGraph$$getStartSize$($a$$){var $b$$=new mxRectangle,$c$$=this.view.getState($a$$);$a$$=null!=$c$$?$c$$.style:this.getCellStyle($a$$);null!=$a$$&&($c$$=parseInt(mxUtils.getValue($a$$,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE)),mxUtils.getValue($a$$,mxConstants.STYLE_HORIZONTAL,!0)?$b$$.height=$c$$:$b$$.width=$c$$);return $b$$};
mxGraph.prototype.getImage=function $mxGraph$$getImage$($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_IMAGE]:null};mxGraph.prototype.getVerticalAlign=function $mxGraph$$getVerticalAlign$($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_VERTICAL_ALIGN]||mxConstants.ALIGN_MIDDLE:null};mxGraph.prototype.getIndicatorColor=function $mxGraph$$getIndicatorColor$($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_COLOR]:null};
mxGraph.prototype.getIndicatorGradientColor=function $mxGraph$$getIndicatorGradientColor$($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_GRADIENTCOLOR]:null};mxGraph.prototype.getIndicatorShape=function $mxGraph$$getIndicatorShape$($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_SHAPE]:null};
mxGraph.prototype.getIndicatorImage=function $mxGraph$$getIndicatorImage$($a$$){return null!=$a$$&&null!=$a$$.style?$a$$.style[mxConstants.STYLE_INDICATOR_IMAGE]:null};mxGraph.prototype.getBorder=function $mxGraph$$getBorder$(){return this.border};mxGraph.prototype.setBorder=function $mxGraph$$setBorder$($a$$){this.border=$a$$};
mxGraph.prototype.isSwimlane=function $mxGraph$$isSwimlane$($a$$){if(null!=$a$$&&this.model.getParent($a$$)!=this.model.getRoot()){var $b$$=this.view.getState($a$$),$b$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);if(null!=$b$$&&!this.model.isEdge($a$$))return $b$$[mxConstants.STYLE_SHAPE]==mxConstants.SHAPE_SWIMLANE}return!1};mxGraph.prototype.isResizeContainer=function $mxGraph$$isResizeContainer$(){return this.resizeContainer};
mxGraph.prototype.setResizeContainer=function $mxGraph$$setResizeContainer$($a$$){this.resizeContainer=$a$$};mxGraph.prototype.isEnabled=function $mxGraph$$isEnabled$(){return this.enabled};mxGraph.prototype.setEnabled=function $mxGraph$$setEnabled$($a$$){this.enabled=$a$$};mxGraph.prototype.isEscapeEnabled=function $mxGraph$$isEscapeEnabled$(){return this.escapeEnabled};mxGraph.prototype.setEscapeEnabled=function $mxGraph$$setEscapeEnabled$($a$$){this.escapeEnabled=$a$$};
mxGraph.prototype.isInvokesStopCellEditing=function $mxGraph$$isInvokesStopCellEditing$(){return this.invokesStopCellEditing};mxGraph.prototype.setInvokesStopCellEditing=function $mxGraph$$setInvokesStopCellEditing$($a$$){this.invokesStopCellEditing=$a$$};mxGraph.prototype.isEnterStopsCellEditing=function $mxGraph$$isEnterStopsCellEditing$(){return this.enterStopsCellEditing};mxGraph.prototype.setEnterStopsCellEditing=function $mxGraph$$setEnterStopsCellEditing$($a$$){this.enterStopsCellEditing=$a$$};
mxGraph.prototype.isCellLocked=function $mxGraph$$isCellLocked$($a$$){var $b$$=this.model.getGeometry($a$$);return this.isCellsLocked()||null!=$b$$&&this.model.isVertex($a$$)&&$b$$.relative};mxGraph.prototype.isCellsLocked=function $mxGraph$$isCellsLocked$(){return this.cellsLocked};mxGraph.prototype.setCellsLocked=function $mxGraph$$setCellsLocked$($a$$){this.cellsLocked=$a$$};
mxGraph.prototype.getCloneableCells=function $mxGraph$$getCloneableCells$($a$jscomp$0$$){return this.model.filterCells($a$jscomp$0$$,mxUtils.bind(this,function($a$$){return this.isCellCloneable($a$$)}))};mxGraph.prototype.isCellCloneable=function $mxGraph$$isCellCloneable$($a$$){var $b$$=this.view.getState($a$$);$a$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isCellsCloneable()&&0!=$a$$[mxConstants.STYLE_CLONEABLE]};mxGraph.prototype.isCellsCloneable=function $mxGraph$$isCellsCloneable$(){return this.cellsCloneable};
mxGraph.prototype.setCellsCloneable=function $mxGraph$$setCellsCloneable$($a$$){this.cellsCloneable=$a$$};mxGraph.prototype.getExportableCells=function $mxGraph$$getExportableCells$($a$jscomp$0$$){return this.model.filterCells($a$jscomp$0$$,mxUtils.bind(this,function($a$$){return this.canExportCell($a$$)}))};mxGraph.prototype.canExportCell=function $mxGraph$$canExportCell$($a$$){return this.exportEnabled};
mxGraph.prototype.getImportableCells=function $mxGraph$$getImportableCells$($a$jscomp$0$$){return this.model.filterCells($a$jscomp$0$$,mxUtils.bind(this,function($a$$){return this.canImportCell($a$$)}))};mxGraph.prototype.canImportCell=function $mxGraph$$canImportCell$($a$$){return this.importEnabled};mxGraph.prototype.isCellSelectable=function $mxGraph$$isCellSelectable$($a$$){return this.isCellsSelectable()};mxGraph.prototype.isCellsSelectable=function $mxGraph$$isCellsSelectable$(){return this.cellsSelectable};
mxGraph.prototype.setCellsSelectable=function $mxGraph$$setCellsSelectable$($a$$){this.cellsSelectable=$a$$};mxGraph.prototype.getDeletableCells=function $mxGraph$$getDeletableCells$($a$jscomp$0$$){return this.model.filterCells($a$jscomp$0$$,mxUtils.bind(this,function($a$$){return this.isCellDeletable($a$$)}))};
mxGraph.prototype.isCellDeletable=function $mxGraph$$isCellDeletable$($a$$){var $b$$=this.view.getState($a$$);$a$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isCellsDeletable()&&0!=$a$$[mxConstants.STYLE_DELETABLE]};mxGraph.prototype.isCellsDeletable=function $mxGraph$$isCellsDeletable$(){return this.cellsDeletable};mxGraph.prototype.setCellsDeletable=function $mxGraph$$setCellsDeletable$($a$$){this.cellsDeletable=$a$$};
mxGraph.prototype.isLabelMovable=function $mxGraph$$isLabelMovable$($a$$){return!this.isCellLocked($a$$)&&(this.model.isEdge($a$$)&&this.edgeLabelsMovable||this.model.isVertex($a$$)&&this.vertexLabelsMovable)};mxGraph.prototype.isCellRotatable=function $mxGraph$$isCellRotatable$($a$$){var $b$$=this.view.getState($a$$);return 0!=(null!=$b$$?$b$$.style:this.getCellStyle($a$$))[mxConstants.STYLE_ROTATABLE]};
mxGraph.prototype.getMovableCells=function $mxGraph$$getMovableCells$($a$jscomp$0$$){return this.model.filterCells($a$jscomp$0$$,mxUtils.bind(this,function($a$$){return this.isCellMovable($a$$)}))};mxGraph.prototype.isCellMovable=function $mxGraph$$isCellMovable$($a$$){var $b$$=this.view.getState($a$$),$b$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isCellsMovable()&&!this.isCellLocked($a$$)&&0!=$b$$[mxConstants.STYLE_MOVABLE]};mxGraph.prototype.isCellsMovable=function $mxGraph$$isCellsMovable$(){return this.cellsMovable};
mxGraph.prototype.setCellsMovable=function $mxGraph$$setCellsMovable$($a$$){this.cellsMovable=$a$$};mxGraph.prototype.isGridEnabled=function $mxGraph$$isGridEnabled$(){return this.gridEnabled};mxGraph.prototype.setGridEnabled=function $mxGraph$$setGridEnabled$($a$$){this.gridEnabled=$a$$};mxGraph.prototype.isPortsEnabled=function $mxGraph$$isPortsEnabled$(){return this.portsEnabled};mxGraph.prototype.setPortsEnabled=function $mxGraph$$setPortsEnabled$($a$$){this.portsEnabled=$a$$};
mxGraph.prototype.getGridSize=function $mxGraph$$getGridSize$(){return this.gridSize};mxGraph.prototype.setGridSize=function $mxGraph$$setGridSize$($a$$){this.gridSize=$a$$};mxGraph.prototype.getTolerance=function $mxGraph$$getTolerance$(){return this.tolerance};mxGraph.prototype.setTolerance=function $mxGraph$$setTolerance$($a$$){this.tolerance=$a$$};mxGraph.prototype.isVertexLabelsMovable=function $mxGraph$$isVertexLabelsMovable$(){return this.vertexLabelsMovable};
mxGraph.prototype.setVertexLabelsMovable=function $mxGraph$$setVertexLabelsMovable$($a$$){this.vertexLabelsMovable=$a$$};mxGraph.prototype.isEdgeLabelsMovable=function $mxGraph$$isEdgeLabelsMovable$(){return this.edgeLabelsMovable};mxGraph.prototype.setEdgeLabelsMovable=function $mxGraph$$setEdgeLabelsMovable$($a$$){this.edgeLabelsMovable=$a$$};mxGraph.prototype.isSwimlaneNesting=function $mxGraph$$isSwimlaneNesting$(){return this.swimlaneNesting};
mxGraph.prototype.setSwimlaneNesting=function $mxGraph$$setSwimlaneNesting$($a$$){this.swimlaneNesting=$a$$};mxGraph.prototype.isSwimlaneSelectionEnabled=function $mxGraph$$isSwimlaneSelectionEnabled$(){return this.swimlaneSelectionEnabled};mxGraph.prototype.setSwimlaneSelectionEnabled=function $mxGraph$$setSwimlaneSelectionEnabled$($a$$){this.swimlaneSelectionEnabled=$a$$};mxGraph.prototype.isMultigraph=function $mxGraph$$isMultigraph$(){return this.multigraph};
mxGraph.prototype.setMultigraph=function $mxGraph$$setMultigraph$($a$$){this.multigraph=$a$$};mxGraph.prototype.isAllowLoops=function $mxGraph$$isAllowLoops$(){return this.allowLoops};mxGraph.prototype.setAllowDanglingEdges=function $mxGraph$$setAllowDanglingEdges$($a$$){this.allowDanglingEdges=$a$$};mxGraph.prototype.isAllowDanglingEdges=function $mxGraph$$isAllowDanglingEdges$(){return this.allowDanglingEdges};
mxGraph.prototype.setConnectableEdges=function $mxGraph$$setConnectableEdges$($a$$){this.connectableEdges=$a$$};mxGraph.prototype.isConnectableEdges=function $mxGraph$$isConnectableEdges$(){return this.connectableEdges};mxGraph.prototype.setCloneInvalidEdges=function $mxGraph$$setCloneInvalidEdges$($a$$){this.cloneInvalidEdges=$a$$};mxGraph.prototype.isCloneInvalidEdges=function $mxGraph$$isCloneInvalidEdges$(){return this.cloneInvalidEdges};
mxGraph.prototype.setAllowLoops=function $mxGraph$$setAllowLoops$($a$$){this.allowLoops=$a$$};mxGraph.prototype.isDisconnectOnMove=function $mxGraph$$isDisconnectOnMove$(){return this.disconnectOnMove};mxGraph.prototype.setDisconnectOnMove=function $mxGraph$$setDisconnectOnMove$($a$$){this.disconnectOnMove=$a$$};mxGraph.prototype.isDropEnabled=function $mxGraph$$isDropEnabled$(){return this.dropEnabled};mxGraph.prototype.setDropEnabled=function $mxGraph$$setDropEnabled$($a$$){this.dropEnabled=$a$$};
mxGraph.prototype.isSplitEnabled=function $mxGraph$$isSplitEnabled$(){return this.splitEnabled};mxGraph.prototype.setSplitEnabled=function $mxGraph$$setSplitEnabled$($a$$){this.splitEnabled=$a$$};mxGraph.prototype.isCellResizable=function $mxGraph$$isCellResizable$($a$$){var $b$$=this.view.getState($a$$),$b$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isCellsResizable()&&!this.isCellLocked($a$$)&&"0"!=mxUtils.getValue($b$$,mxConstants.STYLE_RESIZABLE,"1")};
mxGraph.prototype.isCellsResizable=function $mxGraph$$isCellsResizable$(){return this.cellsResizable};mxGraph.prototype.setCellsResizable=function $mxGraph$$setCellsResizable$($a$$){this.cellsResizable=$a$$};mxGraph.prototype.isTerminalPointMovable=function $mxGraph$$isTerminalPointMovable$($a$$,$b$$){return!0};
mxGraph.prototype.isCellBendable=function $mxGraph$$isCellBendable$($a$$){var $b$$=this.view.getState($a$$),$b$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isCellsBendable()&&!this.isCellLocked($a$$)&&0!=$b$$[mxConstants.STYLE_BENDABLE]};mxGraph.prototype.isCellsBendable=function $mxGraph$$isCellsBendable$(){return this.cellsBendable};mxGraph.prototype.setCellsBendable=function $mxGraph$$setCellsBendable$($a$$){this.cellsBendable=$a$$};
mxGraph.prototype.isCellEditable=function $mxGraph$$isCellEditable$($a$$){var $b$$=this.view.getState($a$$),$b$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isCellsEditable()&&!this.isCellLocked($a$$)&&0!=$b$$[mxConstants.STYLE_EDITABLE]};mxGraph.prototype.isCellsEditable=function $mxGraph$$isCellsEditable$(){return this.cellsEditable};mxGraph.prototype.setCellsEditable=function $mxGraph$$setCellsEditable$($a$$){this.cellsEditable=$a$$};
mxGraph.prototype.isCellDisconnectable=function $mxGraph$$isCellDisconnectable$($a$$,$b$$,$c$$){return this.isCellsDisconnectable()&&!this.isCellLocked($a$$)};mxGraph.prototype.isCellsDisconnectable=function $mxGraph$$isCellsDisconnectable$(){return this.cellsDisconnectable};mxGraph.prototype.setCellsDisconnectable=function $mxGraph$$setCellsDisconnectable$($a$$){this.cellsDisconnectable=$a$$};
mxGraph.prototype.isValidSource=function $mxGraph$$isValidSource$($a$$){return null==$a$$&&this.allowDanglingEdges||null!=$a$$&&(!this.model.isEdge($a$$)||this.connectableEdges)&&this.isCellConnectable($a$$)};mxGraph.prototype.isValidTarget=function $mxGraph$$isValidTarget$($a$$){return this.isValidSource($a$$)};mxGraph.prototype.isValidConnection=function $mxGraph$$isValidConnection$($a$$,$b$$){return this.isValidSource($a$$)&&this.isValidTarget($b$$)};mxGraph.prototype.setConnectable=function $mxGraph$$setConnectable$($a$$){this.connectionHandler.setEnabled($a$$)};
mxGraph.prototype.isConnectable=function $mxGraph$$isConnectable$(){return this.connectionHandler.isEnabled()};mxGraph.prototype.setTooltips=function $mxGraph$$setTooltips$($a$$){this.tooltipHandler.setEnabled($a$$)};mxGraph.prototype.setPanning=function $mxGraph$$setPanning$($a$$){this.panningHandler.panningEnabled=$a$$};mxGraph.prototype.isEditing=function $mxGraph$$isEditing$($a$$){if(null!=this.cellEditor){var $b$$=this.cellEditor.getEditingCell();return null==$a$$?null!=$b$$:$a$$==$b$$}return!1};
mxGraph.prototype.isAutoSizeCell=function $mxGraph$$isAutoSizeCell$($a$$){var $b$$=this.view.getState($a$$);$a$$=null!=$b$$?$b$$.style:this.getCellStyle($a$$);return this.isAutoSizeCells()||1==$a$$[mxConstants.STYLE_AUTOSIZE]};mxGraph.prototype.isAutoSizeCells=function $mxGraph$$isAutoSizeCells$(){return this.autoSizeCells};mxGraph.prototype.setAutoSizeCells=function $mxGraph$$setAutoSizeCells$($a$$){this.autoSizeCells=$a$$};
mxGraph.prototype.isExtendParent=function $mxGraph$$isExtendParent$($a$$){return!this.getModel().isEdge($a$$)&&this.isExtendParents()};mxGraph.prototype.isExtendParents=function $mxGraph$$isExtendParents$(){return this.extendParents};mxGraph.prototype.setExtendParents=function $mxGraph$$setExtendParents$($a$$){this.extendParents=$a$$};mxGraph.prototype.isExtendParentsOnAdd=function $mxGraph$$isExtendParentsOnAdd$($a$$){return this.extendParentsOnAdd};
mxGraph.prototype.setExtendParentsOnAdd=function $mxGraph$$setExtendParentsOnAdd$($a$$){this.extendParentsOnAdd=$a$$};mxGraph.prototype.isExtendParentsOnMove=function $mxGraph$$isExtendParentsOnMove$(){return this.extendParentsOnMove};mxGraph.prototype.setExtendParentsOnMove=function $mxGraph$$setExtendParentsOnMove$($a$$){this.extendParentsOnMove=$a$$};mxGraph.prototype.isRecursiveResize=function $mxGraph$$isRecursiveResize$($a$$){return this.recursiveResize};
mxGraph.prototype.setRecursiveResize=function $mxGraph$$setRecursiveResize$($a$$){this.recursiveResize=$a$$};mxGraph.prototype.isConstrainChild=function $mxGraph$$isConstrainChild$($a$$){return this.isConstrainChildren()&&!this.getModel().isEdge(this.getModel().getParent($a$$))};mxGraph.prototype.isConstrainChildren=function $mxGraph$$isConstrainChildren$(){return this.constrainChildren};mxGraph.prototype.setConstrainChildren=function $mxGraph$$setConstrainChildren$($a$$){this.constrainChildren=$a$$};
mxGraph.prototype.isConstrainRelativeChildren=function $mxGraph$$isConstrainRelativeChildren$(){return this.constrainRelativeChildren};mxGraph.prototype.setConstrainRelativeChildren=function $mxGraph$$setConstrainRelativeChildren$($a$$){this.constrainRelativeChildren=$a$$};mxGraph.prototype.isAllowNegativeCoordinates=function $mxGraph$$isAllowNegativeCoordinates$(){return this.allowNegativeCoordinates};
mxGraph.prototype.setAllowNegativeCoordinates=function $mxGraph$$setAllowNegativeCoordinates$($a$$){this.allowNegativeCoordinates=$a$$};mxGraph.prototype.getOverlap=function $mxGraph$$getOverlap$($a$$){return this.isAllowOverlapParent($a$$)?this.defaultOverlap:0};mxGraph.prototype.isAllowOverlapParent=function $mxGraph$$isAllowOverlapParent$($a$$){return!1};
mxGraph.prototype.getFoldableCells=function $mxGraph$$getFoldableCells$($a$jscomp$0$$,$b$$){return this.model.filterCells($a$jscomp$0$$,mxUtils.bind(this,function($a$$){return this.isCellFoldable($a$$,$b$$)}))};mxGraph.prototype.isCellFoldable=function $mxGraph$$isCellFoldable$($a$$,$b$$){var $c$$=this.view.getState($a$$),$c$$=null!=$c$$?$c$$.style:this.getCellStyle($a$$);return 0<this.model.getChildCount($a$$)&&0!=$c$$[mxConstants.STYLE_FOLDABLE]};
mxGraph.prototype.isValidDropTarget=function $mxGraph$$isValidDropTarget$($a$$,$b$$,$c$$){return null!=$a$$&&(this.isSplitEnabled()&&this.isSplitTarget($a$$,$b$$,$c$$)||!this.model.isEdge($a$$)&&(this.isSwimlane($a$$)||0<this.model.getChildCount($a$$)&&!this.isCellCollapsed($a$$)))};
mxGraph.prototype.isSplitTarget=function $mxGraph$$isSplitTarget$($a$$,$b$$,$c$$){return this.model.isEdge($a$$)&&null!=$b$$&&1==$b$$.length&&this.isCellConnectable($b$$[0])&&null==this.getEdgeValidationError($a$$,this.model.getTerminal($a$$,!0),$b$$[0])?($c$$=this.model.getTerminal($a$$,!0),$a$$=this.model.getTerminal($a$$,!1),!this.model.isAncestor($b$$[0],$c$$)&&!this.model.isAncestor($b$$[0],$a$$)):!1};
mxGraph.prototype.getDropTarget=function $mxGraph$$getDropTarget$($a$$,$b$$,$c$$,$d$$){if(!this.isSwimlaneNesting())for(var $e$$=0;$e$$<$a$$.length;$e$$++)if(this.isSwimlane($a$$[$e$$]))return null;$e$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($b$$),mxEvent.getClientY($b$$));$e$$.x-=this.panDx;$e$$.y-=this.panDy;$e$$=this.getSwimlaneAt($e$$.x,$e$$.y);if(null==$c$$)$c$$=$e$$;else if(null!=$e$$){for(var $f$$=this.model.getParent($e$$);null!=$f$$&&this.isSwimlane($f$$)&&$f$$!=$c$$;)$f$$=
this.model.getParent($f$$);$f$$==$c$$&&($c$$=$e$$)}for(;null!=$c$$&&!this.isValidDropTarget($c$$,$a$$,$b$$)&&!this.model.isLayer($c$$);)$c$$=this.model.getParent($c$$);if(null==$d$$||!$d$$)for(var $g$$=$c$$;null!=$g$$&&0>mxUtils.indexOf($a$$,$g$$);)$g$$=this.model.getParent($g$$);return this.model.isLayer($c$$)||null!=$g$$?null:$c$$};
mxGraph.prototype.getDefaultParent=function $mxGraph$$getDefaultParent$(){var $a$$=this.getCurrentRoot();null==$a$$&&($a$$=this.defaultParent,null==$a$$&&($a$$=this.model.getRoot(),$a$$=this.model.getChildAt($a$$,0)));return $a$$};mxGraph.prototype.setDefaultParent=function $mxGraph$$setDefaultParent$($a$$){this.defaultParent=$a$$};mxGraph.prototype.getSwimlane=function $mxGraph$$getSwimlane$($a$$){for(;null!=$a$$&&!this.isSwimlane($a$$);)$a$$=this.model.getParent($a$$);return $a$$};
mxGraph.prototype.getSwimlaneAt=function $mxGraph$$getSwimlaneAt$($a$$,$b$$,$c$$){$c$$=$c$$||this.getDefaultParent();if(null!=$c$$)for(var $d$$=this.model.getChildCount($c$$),$e$$=0;$e$$<$d$$;$e$$++){var $f$$=this.model.getChildAt($c$$,$e$$),$g$$=this.getSwimlaneAt($a$$,$b$$,$f$$);if(null!=$g$$)return $g$$;if(this.isSwimlane($f$$)&&($g$$=this.view.getState($f$$),this.intersects($g$$,$a$$,$b$$)))return $f$$}return null};
mxGraph.prototype.getCellAt=function $mxGraph$$getCellAt$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!0;null==$c$$&&($c$$=this.getCurrentRoot(),null==$c$$&&($c$$=this.getModel().getRoot()));if(null!=$c$$)for(var $g$$=this.model.getChildCount($c$$)-1;0<=$g$$;$g$$--){var $k$$=this.model.getChildAt($c$$,$g$$),$l$$=this.getCellAt($a$$,$b$$,$k$$,$d$$,$e$$,$f$$);if(null!=$l$$)return $l$$;if(this.isCellVisible($k$$)&&($e$$&&this.model.isEdge($k$$)||$d$$&&this.model.isVertex($k$$))&&
($l$$=this.view.getState($k$$),null!=$l$$&&(null==$f$$||!$f$$($l$$,$a$$,$b$$))&&this.intersects($l$$,$a$$,$b$$)))return $k$$}return null};
mxGraph.prototype.intersects=function $mxGraph$$intersects$($a$$,$b$$,$c$$){if(null!=$a$$){var $d$$=$a$$.absolutePoints;if(null!=$d$$){$a$$=this.tolerance*this.tolerance;for(var $e$$=$d$$[0],$f$$=1;$f$$<$d$$.length;$f$$++){var $g$$=$d$$[$f$$];if(mxUtils.ptSegDistSq($e$$.x,$e$$.y,$g$$.x,$g$$.y,$b$$,$c$$)<=$a$$)return!0;$e$$=$g$$}}else if($e$$=mxUtils.toRadians(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION)||0),0!=$e$$&&($d$$=Math.cos(-$e$$),$e$$=Math.sin(-$e$$),$f$$=new mxPoint($a$$.getCenterX(),
$a$$.getCenterY()),$e$$=mxUtils.getRotatedPoint(new mxPoint($b$$,$c$$),$d$$,$e$$,$f$$),$b$$=$e$$.x,$c$$=$e$$.y),mxUtils.contains($a$$,$b$$,$c$$))return!0}return!1};mxGraph.prototype.hitsSwimlaneContent=function $mxGraph$$hitsSwimlaneContent$($a$$,$b$$,$c$$){var $d$$=this.getView().getState($a$$);$a$$=this.getStartSize($a$$);if(null!=$d$$){var $e$$=this.getView().getScale();$b$$-=$d$$.x;$c$$-=$d$$.y;if(0<$a$$.width&&0<$b$$&&$b$$>$a$$.width*$e$$||0<$a$$.height&&0<$c$$&&$c$$>$a$$.height*$e$$)return!0}return!1};
mxGraph.prototype.getChildVertices=function $mxGraph$$getChildVertices$($a$$){return this.getChildCells($a$$,!0,!1)};mxGraph.prototype.getChildEdges=function $mxGraph$$getChildEdges$($a$$){return this.getChildCells($a$$,!1,!0)};
mxGraph.prototype.getChildCells=function $mxGraph$$getChildCells$($a$$,$b$$,$c$$){$a$$=null!=$a$$?$a$$:this.getDefaultParent();$a$$=this.model.getChildCells($a$$,null!=$b$$?$b$$:!1,null!=$c$$?$c$$:!1);$b$$=[];for($c$$=0;$c$$<$a$$.length;$c$$++)this.isCellVisible($a$$[$c$$])&&$b$$.push($a$$[$c$$]);return $b$$};mxGraph.prototype.getConnections=function $mxGraph$$getConnections$($a$$,$b$$){return this.getEdges($a$$,$b$$,!0,!0,!1)};
mxGraph.prototype.getIncomingEdges=function $mxGraph$$getIncomingEdges$($a$$,$b$$){return this.getEdges($a$$,$b$$,!0,!1,!1)};mxGraph.prototype.getOutgoingEdges=function $mxGraph$$getOutgoingEdges$($a$$,$b$$){return this.getEdges($a$$,$b$$,!1,!0,!1)};
mxGraph.prototype.getEdges=function $mxGraph$$getEdges$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!0;$f$$=null!=$f$$?$f$$:!1;for(var $g$$=[],$k$$=this.isCellCollapsed($a$$),$l$$=this.model.getChildCount($a$$),$m$$=0;$m$$<$l$$;$m$$++){var $n$$=this.model.getChildAt($a$$,$m$$);if($k$$||!this.isCellVisible($n$$))$g$$=$g$$.concat(this.model.getEdges($n$$,$c$$,$d$$))}$g$$=$g$$.concat(this.model.getEdges($a$$,$c$$,$d$$));$k$$=[];for($m$$=0;$m$$<
$g$$.length;$m$$++)$n$$=this.view.getState($g$$[$m$$]),$l$$=null!=$n$$?$n$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($g$$[$m$$],!0),$n$$=null!=$n$$?$n$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($g$$[$m$$],!1),($e$$&&$l$$==$n$$||$l$$!=$n$$&&($c$$&&$n$$==$a$$&&(null==$b$$||this.isValidAncestor($l$$,$b$$,$f$$))||$d$$&&$l$$==$a$$&&(null==$b$$||this.isValidAncestor($n$$,$b$$,$f$$))))&&$k$$.push($g$$[$m$$]);return $k$$};
mxGraph.prototype.isValidAncestor=function $mxGraph$$isValidAncestor$($a$$,$b$$,$c$$){return $c$$?this.model.isAncestor($b$$,$a$$):this.model.getParent($a$$)==$b$$};
mxGraph.prototype.getOpposites=function $mxGraph$$getOpposites$($a$$,$b$$,$c$$,$d$$){$c$$=null!=$c$$?$c$$:!0;$d$$=null!=$d$$?$d$$:!0;var $e$$=[],$f$$=new mxDictionary;if(null!=$a$$)for(var $g$$=0;$g$$<$a$$.length;$g$$++){var $k$$=this.view.getState($a$$[$g$$]),$l$$=null!=$k$$?$k$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($a$$[$g$$],!0),$k$$=null!=$k$$?$k$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($a$$[$g$$],!1);$l$$==$b$$&&null!=$k$$&&$k$$!=$b$$&&$d$$?$f$$.get($k$$)||($f$$.put($k$$,
!0),$e$$.push($k$$)):$k$$==$b$$&&null!=$l$$&&$l$$!=$b$$&&$c$$&&!$f$$.get($l$$)&&($f$$.put($l$$,!0),$e$$.push($l$$))}return $e$$};
mxGraph.prototype.getEdgesBetween=function $mxGraph$$getEdgesBetween$($a$$,$b$$,$c$$){$c$$=null!=$c$$?$c$$:!1;for(var $d$$=this.getEdges($a$$),$e$$=[],$f$$=0;$f$$<$d$$.length;$f$$++){var $g$$=this.view.getState($d$$[$f$$]),$k$$=null!=$g$$?$g$$.getVisibleTerminal(!0):this.view.getVisibleTerminal($d$$[$f$$],!0),$g$$=null!=$g$$?$g$$.getVisibleTerminal(!1):this.view.getVisibleTerminal($d$$[$f$$],!1);($k$$==$a$$&&$g$$==$b$$||!$c$$&&$k$$==$b$$&&$g$$==$a$$)&&$e$$.push($d$$[$f$$])}return $e$$};
mxGraph.prototype.getPointForEvent=function $mxGraph$$getPointForEvent$($a$$,$b$$){var $c$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($a$$),mxEvent.getClientY($a$$)),$d$$=this.view.scale,$e$$=this.view.translate,$f$$=0!=$b$$?this.gridSize/2:0;$c$$.x=this.snap($c$$.x/$d$$-$e$$.x-$f$$);$c$$.y=this.snap($c$$.y/$d$$-$e$$.y-$f$$);return $c$$};
mxGraph.prototype.getCells=function $mxGraph$$getCells$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$f$$=null!=$f$$?$f$$:[];if(0<$c$$||0<$d$$){var $g$$=this.getModel(),$k$$=$a$$+$c$$,$l$$=$b$$+$d$$;null==$e$$&&($e$$=this.getCurrentRoot(),null==$e$$&&($e$$=$g$$.getRoot()));if(null!=$e$$)for(var $m$$=$g$$.getChildCount($e$$),$n$$=0;$n$$<$m$$;$n$$++){var $p$$=$g$$.getChildAt($e$$,$n$$),$q$$=this.view.getState($p$$);if(null!=$q$$&&this.isCellVisible($p$$)){var $r$$=mxUtils.getValue($q$$.style,mxConstants.STYLE_ROTATION)||
0;0!=$r$$&&($q$$=mxUtils.getBoundingBox($q$$,$r$$));($g$$.isEdge($p$$)||$g$$.isVertex($p$$))&&$q$$.x>=$a$$&&$q$$.y+$q$$.height<=$l$$&&$q$$.y>=$b$$&&$q$$.x+$q$$.width<=$k$$?$f$$.push($p$$):this.getCells($a$$,$b$$,$c$$,$d$$,$p$$,$f$$)}}}return $f$$};
mxGraph.prototype.getCellsBeyond=function $mxGraph$$getCellsBeyond$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=[];if($d$$||$e$$)if(null==$c$$&&($c$$=this.getDefaultParent()),null!=$c$$)for(var $g$$=this.model.getChildCount($c$$),$k$$=0;$k$$<$g$$;$k$$++){var $l$$=this.model.getChildAt($c$$,$k$$),$m$$=this.view.getState($l$$);this.isCellVisible($l$$)&&null!=$m$$&&(!$d$$||$m$$.x>=$a$$)&&(!$e$$||$m$$.y>=$b$$)&&$f$$.push($l$$)}return $f$$};
mxGraph.prototype.findTreeRoots=function $mxGraph$$findTreeRoots$($a$$,$b$$,$c$$){$b$$=null!=$b$$?$b$$:!1;$c$$=null!=$c$$?$c$$:!1;var $d$$=[];if(null!=$a$$){for(var $e$$=this.getModel(),$f$$=$e$$.getChildCount($a$$),$g$$=null,$k$$=0,$l$$=0;$l$$<$f$$;$l$$++){var $m$$=$e$$.getChildAt($a$$,$l$$);if(this.model.isVertex($m$$)&&this.isCellVisible($m$$)){for(var $n$$=this.getConnections($m$$,$b$$?$a$$:null),$p$$=0,$q$$=0,$r$$=0;$r$$<$n$$.length;$r$$++)this.view.getVisibleTerminal($n$$[$r$$],!0)==$m$$?$p$$++:
$q$$++;($c$$&&0==$p$$&&0<$q$$||!$c$$&&0==$q$$&&0<$p$$)&&$d$$.push($m$$);$n$$=$c$$?$q$$-$p$$:$p$$-$q$$;$n$$>$k$$&&($k$$=$n$$,$g$$=$m$$)}}0==$d$$.length&&null!=$g$$&&$d$$.push($g$$)}return $d$$};
mxGraph.prototype.traverse=function $mxGraph$$traverse$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null!=$c$$&&null!=$a$$&&($b$$=null!=$b$$?$b$$:!0,$f$$=null!=$f$$?$f$$:!1,$e$$=$e$$||new mxDictionary,!$e$$.get($a$$)&&($e$$.put($a$$,!0),$d$$=$c$$($a$$,$d$$),null==$d$$||$d$$))&&($d$$=this.model.getEdgeCount($a$$),0<$d$$))for(var $g$$=0;$g$$<$d$$;$g$$++){var $k$$=this.model.getEdgeAt($a$$,$g$$),$l$$=this.model.getTerminal($k$$,!0)==$a$$;$b$$&&!$f$$!=$l$$||($l$$=this.model.getTerminal($k$$,!$l$$),this.traverse($l$$,
$b$$,$c$$,$k$$,$e$$,$f$$))}};mxGraph.prototype.isCellSelected=function $mxGraph$$isCellSelected$($a$$){return this.getSelectionModel().isSelected($a$$)};mxGraph.prototype.isSelectionEmpty=function $mxGraph$$isSelectionEmpty$(){return this.getSelectionModel().isEmpty()};mxGraph.prototype.clearSelection=function $mxGraph$$clearSelection$(){return this.getSelectionModel().clear()};mxGraph.prototype.getSelectionCount=function $mxGraph$$getSelectionCount$(){return this.getSelectionModel().cells.length};
mxGraph.prototype.getSelectionCell=function $mxGraph$$getSelectionCell$(){return this.getSelectionModel().cells[0]};mxGraph.prototype.getSelectionCells=function $mxGraph$$getSelectionCells$(){return this.getSelectionModel().cells.slice()};mxGraph.prototype.setSelectionCell=function $mxGraph$$setSelectionCell$($a$$){this.getSelectionModel().setCell($a$$)};mxGraph.prototype.setSelectionCells=function $mxGraph$$setSelectionCells$($a$$){this.getSelectionModel().setCells($a$$)};
mxGraph.prototype.addSelectionCell=function $mxGraph$$addSelectionCell$($a$$){this.getSelectionModel().addCell($a$$)};mxGraph.prototype.addSelectionCells=function $mxGraph$$addSelectionCells$($a$$){this.getSelectionModel().addCells($a$$)};mxGraph.prototype.removeSelectionCell=function $mxGraph$$removeSelectionCell$($a$$){this.getSelectionModel().removeCell($a$$)};mxGraph.prototype.removeSelectionCells=function $mxGraph$$removeSelectionCells$($a$$){this.getSelectionModel().removeCells($a$$)};
mxGraph.prototype.selectRegion=function $mxGraph$$selectRegion$($a$$,$b$$){var $c$$=this.getCells($a$$.x,$a$$.y,$a$$.width,$a$$.height);this.selectCellsForEvent($c$$,$b$$);return $c$$};mxGraph.prototype.selectNextCell=function $mxGraph$$selectNextCell$(){this.selectCell(!0)};mxGraph.prototype.selectPreviousCell=function $mxGraph$$selectPreviousCell$(){this.selectCell()};mxGraph.prototype.selectParentCell=function $mxGraph$$selectParentCell$(){this.selectCell(!1,!0)};
mxGraph.prototype.selectChildCell=function $mxGraph$$selectChildCell$(){this.selectCell(!1,!1,!0)};
mxGraph.prototype.selectCell=function $mxGraph$$selectCell$($a$$,$b$$,$c$$){var $d$$=this.selectionModel,$e$$=0<$d$$.cells.length?$d$$.cells[0]:null;1<$d$$.cells.length&&$d$$.clear();var $d$$=null!=$e$$?this.model.getParent($e$$):this.getDefaultParent(),$f$$=this.model.getChildCount($d$$);null==$e$$&&0<$f$$?($a$$=this.model.getChildAt($d$$,0),this.setSelectionCell($a$$)):null!=$e$$&&!$b$$||null==this.view.getState($d$$)||null==this.model.getGeometry($d$$)?null!=$e$$&&$c$$?0<this.model.getChildCount($e$$)&&
($a$$=this.model.getChildAt($e$$,0),this.setSelectionCell($a$$)):0<$f$$&&($b$$=$d$$.getIndex($e$$),$a$$?($b$$++,$a$$=this.model.getChildAt($d$$,$b$$%$f$$)):($b$$--,$a$$=this.model.getChildAt($d$$,0>$b$$?$f$$-1:$b$$)),this.setSelectionCell($a$$)):this.getCurrentRoot()!=$d$$&&this.setSelectionCell($d$$)};
mxGraph.prototype.selectAll=function $mxGraph$$selectAll$($a$$,$b$jscomp$0$$){$a$$=$a$$||this.getDefaultParent();var $c$$=$b$jscomp$0$$?this.model.filterDescendants(function($b$$){return $b$$!=$a$$},$a$$):this.model.getChildren($a$$);null!=$c$$&&this.setSelectionCells($c$$)};mxGraph.prototype.selectVertices=function $mxGraph$$selectVertices$($a$$){this.selectCells(!0,!1,$a$$)};mxGraph.prototype.selectEdges=function $mxGraph$$selectEdges$($a$$){this.selectCells(!1,!0,$a$$)};
mxGraph.prototype.selectCells=function $mxGraph$$selectCells$($a$$,$b$$,$c$jscomp$0$$){$c$jscomp$0$$=$c$jscomp$0$$||this.getDefaultParent();var $d$$=mxUtils.bind(this,function($c$$){return null!=this.view.getState($c$$)&&(0==this.model.getChildCount($c$$)&&this.model.isVertex($c$$)&&$a$$&&!this.model.isEdge(this.model.getParent($c$$))||this.model.isEdge($c$$)&&$b$$)});$c$jscomp$0$$=this.model.filterDescendants($d$$,$c$jscomp$0$$);this.setSelectionCells($c$jscomp$0$$)};
mxGraph.prototype.selectCellForEvent=function $mxGraph$$selectCellForEvent$($a$$,$b$$){var $c$$=this.isCellSelected($a$$);this.isToggleEvent($b$$)?$c$$?this.removeSelectionCell($a$$):this.addSelectionCell($a$$):$c$$&&1==this.getSelectionCount()||this.setSelectionCell($a$$)};mxGraph.prototype.selectCellsForEvent=function $mxGraph$$selectCellsForEvent$($a$$,$b$$){this.isToggleEvent($b$$)?this.addSelectionCells($a$$):this.setSelectionCells($a$$)};
mxGraph.prototype.createHandler=function $mxGraph$$createHandler$($a$$){var $b$$=null;if(null!=$a$$)if(this.model.isEdge($a$$.cell))var $b$$=$a$$.getVisibleTerminalState(!0),$c$$=$a$$.getVisibleTerminalState(!1),$d$$=this.getCellGeometry($a$$.cell),$b$$=this.view.getEdgeStyle($a$$,null!=$d$$?$d$$.points:null,$b$$,$c$$),$b$$=this.createEdgeHandler($a$$,$b$$);else $b$$=this.createVertexHandler($a$$);return $b$$};mxGraph.prototype.createVertexHandler=function $mxGraph$$createVertexHandler$($a$$){return new mxVertexHandler($a$$)};
mxGraph.prototype.createEdgeHandler=function $mxGraph$$createEdgeHandler$($a$$,$b$$){return $b$$==mxEdgeStyle.Loop||$b$$==mxEdgeStyle.ElbowConnector||$b$$==mxEdgeStyle.SideToSide||$b$$==mxEdgeStyle.TopToBottom?this.createElbowEdgeHandler($a$$):$b$$==mxEdgeStyle.SegmentConnector||$b$$==mxEdgeStyle.OrthConnector?this.createEdgeSegmentHandler($a$$):new mxEdgeHandler($a$$)};mxGraph.prototype.createEdgeSegmentHandler=function $mxGraph$$createEdgeSegmentHandler$($a$$){return new mxEdgeSegmentHandler($a$$)};
mxGraph.prototype.createElbowEdgeHandler=function $mxGraph$$createElbowEdgeHandler$($a$$){return new mxElbowEdgeHandler($a$$)};mxGraph.prototype.addMouseListener=function $mxGraph$$addMouseListener$($a$$){null==this.mouseListeners&&(this.mouseListeners=[]);this.mouseListeners.push($a$$)};
mxGraph.prototype.removeMouseListener=function $mxGraph$$removeMouseListener$($a$$){if(null!=this.mouseListeners)for(var $b$$=0;$b$$<this.mouseListeners.length;$b$$++)if(this.mouseListeners[$b$$]==$a$$){this.mouseListeners.splice($b$$,1);break}};
mxGraph.prototype.updateMouseEvent=function $mxGraph$$updateMouseEvent$($a$jscomp$0$$,$b$$){if(null==$a$jscomp$0$$.graphX||null==$a$jscomp$0$$.graphY){var $c$$=mxUtils.convertPoint(this.container,$a$jscomp$0$$.getX(),$a$jscomp$0$$.getY());$a$jscomp$0$$.graphX=$c$$.x-this.panDx;$a$jscomp$0$$.graphY=$c$$.y-this.panDy;null==$a$jscomp$0$$.getCell()&&this.isMouseDown&&$b$$==mxEvent.MOUSE_MOVE&&($a$jscomp$0$$.state=this.view.getState(this.getCellAt($c$$.x,$c$$.y,null,null,null,function($a$$){return null==
$a$$.shape||$a$$.shape.paintBackground!=mxRectangleShape.prototype.paintBackground||"1"==mxUtils.getValue($a$$.style,mxConstants.STYLE_POINTER_EVENTS,"1")||null!=$a$$.shape.fill&&$a$$.shape.fill!=mxConstants.NONE})))}return $a$jscomp$0$$};mxGraph.prototype.getStateForTouchEvent=function $mxGraph$$getStateForTouchEvent$($a$$){var $b$$=mxEvent.getClientX($a$$);$a$$=mxEvent.getClientY($a$$);$b$$=mxUtils.convertPoint(this.container,$b$$,$a$$);return this.view.getState(this.getCellAt($b$$.x,$b$$.y))};
mxGraph.prototype.isEventIgnored=function $mxGraph$$isEventIgnored$($a$jscomp$0$$,$b$$,$c$$){var $d$$=mxEvent.isMouseEvent($b$$.getEvent()),$e$$=!1;$b$$.getEvent()==this.lastEvent?$e$$=!0:this.lastEvent=$b$$.getEvent();null!=this.eventSource&&$a$jscomp$0$$!=mxEvent.MOUSE_MOVE?(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect),this.eventSource=this.mouseUpRedirect=this.mouseMoveRedirect=null):mxClient.IS_GC||null==this.eventSource||$b$$.getSource()==
this.eventSource?!mxClient.IS_TOUCH||$a$jscomp$0$$!=mxEvent.MOUSE_DOWN||$d$$||mxEvent.isPenEvent($b$$.getEvent())||(this.eventSource=$b$$.getSource(),this.mouseMoveRedirect=mxUtils.bind(this,function($a$$){this.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($a$$,this.getStateForTouchEvent($a$$)))}),this.mouseUpRedirect=mxUtils.bind(this,function($a$$){this.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($a$$,this.getStateForTouchEvent($a$$)))}),mxEvent.addGestureListeners(this.eventSource,null,
this.mouseMoveRedirect,this.mouseUpRedirect)):$e$$=!0;this.isSyntheticEventIgnored($a$jscomp$0$$,$b$$,$c$$)&&($e$$=!0);if(!mxEvent.isPopupTrigger(this.lastEvent)&&$a$jscomp$0$$!=mxEvent.MOUSE_MOVE&&2==this.lastEvent.detail)return!0;$a$jscomp$0$$==mxEvent.MOUSE_UP&&this.isMouseDown?this.isMouseDown=!1:$a$jscomp$0$$!=mxEvent.MOUSE_DOWN||this.isMouseDown?!$e$$&&((!mxClient.IS_FF||$a$jscomp$0$$!=mxEvent.MOUSE_MOVE)&&this.isMouseDown&&this.isMouseTrigger!=$d$$||$a$jscomp$0$$==mxEvent.MOUSE_DOWN&&this.isMouseDown||
$a$jscomp$0$$==mxEvent.MOUSE_UP&&!this.isMouseDown)&&($e$$=!0):(this.isMouseDown=!0,this.isMouseTrigger=$d$$);$e$$||$a$jscomp$0$$!=mxEvent.MOUSE_DOWN||(this.lastMouseX=$b$$.getX(),this.lastMouseY=$b$$.getY());return $e$$};
mxGraph.prototype.isSyntheticEventIgnored=function $mxGraph$$isSyntheticEventIgnored$($a$$,$b$$,$c$$){$c$$=!1;$b$$=mxEvent.isMouseEvent($b$$.getEvent());this.ignoreMouseEvents&&$b$$&&$a$$!=mxEvent.MOUSE_MOVE?(this.ignoreMouseEvents=$a$$!=mxEvent.MOUSE_UP,$c$$=!0):mxClient.IS_FF&&!$b$$&&$a$$==mxEvent.MOUSE_UP&&(this.ignoreMouseEvents=!0);return $c$$};
mxGraph.prototype.isEventSourceIgnored=function $mxGraph$$isEventSourceIgnored$($a$$,$b$$){var $c$$=$b$$.getSource(),$d$$=null!=$c$$.nodeName?$c$$.nodeName.toLowerCase():"",$e$$=!mxEvent.isMouseEvent($b$$.getEvent())||mxEvent.isLeftMouseButton($b$$.getEvent());return $a$$==mxEvent.MOUSE_DOWN&&$e$$&&("select"==$d$$||"option"==$d$$||"input"==$d$$&&"checkbox"!=$c$$.type&&"radio"!=$c$$.type&&"button"!=$c$$.type&&"submit"!=$c$$.type&&"file"!=$c$$.type)};mxGraph.prototype.getEventState=function $mxGraph$$getEventState$($a$$){return $a$$};
mxGraph.prototype.fireMouseEvent=function $mxGraph$$fireMouseEvent$($a$$,$b$$,$c$$){if(this.isEventSourceIgnored($a$$,$b$$))null!=this.tooltipHandler&&this.tooltipHandler.hide();else{null==$c$$&&($c$$=this);$b$$=this.updateMouseEvent($b$$,$a$$);if(!this.nativeDblClickEnabled&&!mxEvent.isPopupTrigger($b$$.getEvent())||this.doubleTapEnabled&&mxClient.IS_TOUCH&&(mxEvent.isTouchEvent($b$$.getEvent())||mxEvent.isPenEvent($b$$.getEvent()))){var $d$$=(new Date).getTime();if(!mxClient.IS_QUIRKS&&$a$$==mxEvent.MOUSE_DOWN||
mxClient.IS_QUIRKS&&$a$$==mxEvent.MOUSE_UP&&!this.fireDoubleClick)if(null!=this.lastTouchEvent&&this.lastTouchEvent!=$b$$.getEvent()&&$d$$-this.lastTouchTime<this.doubleTapTimeout&&Math.abs(this.lastTouchX-$b$$.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-$b$$.getY())<this.doubleTapTolerance&&2>this.doubleClickCounter){if(this.doubleClickCounter++,$d$$=!1,$a$$==mxEvent.MOUSE_UP?$b$$.getCell()==this.lastTouchCell&&null!=this.lastTouchCell&&(this.lastTouchTime=0,$d$$=this.lastTouchCell,
this.lastTouchCell=null,mxClient.IS_QUIRKS&&$b$$.getSource().fireEvent("ondblclick"),this.dblClick($b$$.getEvent(),$d$$),$d$$=!0):(this.fireDoubleClick=!0,this.lastTouchTime=0),!mxClient.IS_QUIRKS||$d$$){mxEvent.consume($b$$.getEvent());return}}else{if(null==this.lastTouchEvent||this.lastTouchEvent!=$b$$.getEvent())this.lastTouchCell=$b$$.getCell(),this.lastTouchX=$b$$.getX(),this.lastTouchY=$b$$.getY(),this.lastTouchTime=$d$$,this.lastTouchEvent=$b$$.getEvent(),this.doubleClickCounter=0}else if((this.isMouseDown||
$a$$==mxEvent.MOUSE_UP)&&this.fireDoubleClick){this.fireDoubleClick=!1;$d$$=this.lastTouchCell;this.lastTouchCell=null;this.isMouseDown=!1;(null!=$d$$||(mxEvent.isTouchEvent($b$$.getEvent())||mxEvent.isPenEvent($b$$.getEvent()))&&(mxClient.IS_GC||mxClient.IS_SF))&&Math.abs(this.lastTouchX-$b$$.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-$b$$.getY())<this.doubleTapTolerance?this.dblClick($b$$.getEvent(),$d$$):mxEvent.consume($b$$.getEvent());return}}if(!this.isEventIgnored($a$$,$b$$,
$c$$)){$b$$.state=this.getEventState($b$$.getState());this.fireEvent(new mxEventObject(mxEvent.FIRE_MOUSE_EVENT,"eventName",$a$$,"event",$b$$));if(mxClient.IS_OP||mxClient.IS_SF||mxClient.IS_GC||mxClient.IS_IE11||mxClient.IS_IE&&mxClient.IS_SVG||$b$$.getEvent().target!=this.container){if($a$$==mxEvent.MOUSE_MOVE&&this.isMouseDown&&this.autoScroll&&!mxEvent.isMultiTouchEvent($b$$.getEvent))this.scrollPointToVisible($b$$.getGraphX(),$b$$.getGraphY(),this.autoExtend);else if($a$$==mxEvent.MOUSE_UP&&
this.ignoreScrollbars&&this.translateToScrollPosition&&(0!=this.container.scrollLeft||0!=this.container.scrollTop)){var $d$$=this.view.scale,$e$$=this.view.translate;this.view.setTranslate($e$$.x-this.container.scrollLeft/$d$$,$e$$.y-this.container.scrollTop/$d$$);this.container.scrollLeft=0;this.container.scrollTop=0}if(null!=this.mouseListeners)for($d$$=[$c$$,$b$$],$b$$.getEvent().preventDefault||($b$$.getEvent().returnValue=!0),$e$$=0;$e$$<this.mouseListeners.length;$e$$++){var $f$$=this.mouseListeners[$e$$];
$a$$==mxEvent.MOUSE_DOWN?$f$$.mouseDown.apply($f$$,$d$$):$a$$==mxEvent.MOUSE_MOVE?$f$$.mouseMove.apply($f$$,$d$$):$a$$==mxEvent.MOUSE_UP&&$f$$.mouseUp.apply($f$$,$d$$)}$a$$==mxEvent.MOUSE_UP&&this.click($b$$)}(mxEvent.isTouchEvent($b$$.getEvent())||mxEvent.isPenEvent($b$$.getEvent()))&&$a$$==mxEvent.MOUSE_DOWN&&this.tapAndHoldEnabled&&!this.tapAndHoldInProgress?(this.tapAndHoldInProgress=!0,this.initialTouchX=$b$$.getGraphX(),this.initialTouchY=$b$$.getGraphY(),this.tapAndHoldThread&&window.clearTimeout(this.tapAndHoldThread),
this.tapAndHoldThread=window.setTimeout(mxUtils.bind(this,function(){this.tapAndHoldValid&&this.tapAndHold($b$$);this.tapAndHoldValid=this.tapAndHoldInProgress=!1}),this.tapAndHoldDelay),this.tapAndHoldValid=!0):$a$$==mxEvent.MOUSE_UP?this.tapAndHoldValid=this.tapAndHoldInProgress=!1:this.tapAndHoldValid&&(this.tapAndHoldValid=Math.abs(this.initialTouchX-$b$$.getGraphX())<this.tolerance&&Math.abs(this.initialTouchY-$b$$.getGraphY())<this.tolerance);$a$$==mxEvent.MOUSE_DOWN&&this.isEditing()&&!this.cellEditor.isEventSource($b$$.getEvent())&&
this.stopEditing(!this.isInvokesStopCellEditing());this.consumeMouseEvent($a$$,$b$$,$c$$)}}};mxGraph.prototype.consumeMouseEvent=function $mxGraph$$consumeMouseEvent$($a$$,$b$$,$c$$){$a$$==mxEvent.MOUSE_DOWN&&mxEvent.isTouchEvent($b$$.getEvent())&&$b$$.consume(!1)};mxGraph.prototype.fireGestureEvent=function $mxGraph$$fireGestureEvent$($a$$,$b$$){this.lastTouchTime=0;this.fireEvent(new mxEventObject(mxEvent.GESTURE,"event",$a$$,"cell",$b$$))};
mxGraph.prototype.destroy=function $mxGraph$$destroy$(){this.destroyed||(this.destroyed=!0,null!=this.tooltipHandler&&this.tooltipHandler.destroy(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.destroy(),null!=this.panningHandler&&this.panningHandler.destroy(),null!=this.popupMenuHandler&&this.popupMenuHandler.destroy(),null!=this.connectionHandler&&this.connectionHandler.destroy(),null!=this.graphHandler&&this.graphHandler.destroy(),null!=this.cellEditor&&this.cellEditor.destroy(),
null!=this.view&&this.view.destroy(),null!=this.model&&null!=this.graphModelChangeListener&&(this.model.removeListener(this.graphModelChangeListener),this.graphModelChangeListener=null),this.container=null)};function mxCellOverlay($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){this.image=$a$$;this.tooltip=$b$$;this.align=null!=$c$$?$c$$:this.align;this.verticalAlign=null!=$d$$?$d$$:this.verticalAlign;this.offset=null!=$e$$?$e$$:new mxPoint;this.cursor=null!=$f$$?$f$$:"help"}mxCellOverlay.prototype=new mxEventSource;
mxCellOverlay.prototype.constructor=mxCellOverlay;mxCellOverlay.prototype.image=null;mxCellOverlay.prototype.tooltip=null;mxCellOverlay.prototype.align=mxConstants.ALIGN_RIGHT;mxCellOverlay.prototype.verticalAlign=mxConstants.ALIGN_BOTTOM;mxCellOverlay.prototype.offset=null;mxCellOverlay.prototype.cursor=null;mxCellOverlay.prototype.defaultOverlap=.5;
mxCellOverlay.prototype.getBounds=function $mxCellOverlay$$getBounds$($a$$){var $b$$=$a$$.view.graph.getModel().isEdge($a$$.cell),$c$$=$a$$.view.scale,$d$$=this.image.width,$e$$=this.image.height;if($b$$)if($b$$=$a$$.absolutePoints,1==$b$$.length%2)$b$$=$b$$[Math.floor($b$$.length/2)];else{var $f$$=$b$$.length/2;$a$$=$b$$[$f$$-1];$b$$=$b$$[$f$$];$b$$=new mxPoint($a$$.x+($b$$.x-$a$$.x)/2,$a$$.y+($b$$.y-$a$$.y)/2)}else $b$$=new mxPoint,$b$$.x=this.align==mxConstants.ALIGN_LEFT?$a$$.x:this.align==mxConstants.ALIGN_CENTER?
$a$$.x+$a$$.width/2:$a$$.x+$a$$.width,$b$$.y=this.verticalAlign==mxConstants.ALIGN_TOP?$a$$.y:this.verticalAlign==mxConstants.ALIGN_MIDDLE?$a$$.y+$a$$.height/2:$a$$.y+$a$$.height;return new mxRectangle(Math.round($b$$.x-($d$$*this.defaultOverlap-this.offset.x)*$c$$),Math.round($b$$.y-($e$$*this.defaultOverlap-this.offset.y)*$c$$),$d$$*$c$$,$e$$*$c$$)};mxCellOverlay.prototype.toString=function $mxCellOverlay$$toString$(){return this.tooltip};
function mxOutline($a$$,$b$$){this.source=$a$$;null!=$b$$&&this.init($b$$)}mxOutline.prototype.source=null;mxOutline.prototype.outline=null;mxOutline.prototype.graphRenderHint=mxConstants.RENDERING_HINT_FASTER;mxOutline.prototype.enabled=!0;mxOutline.prototype.showViewport=!0;mxOutline.prototype.border=10;mxOutline.prototype.sizerSize=8;mxOutline.prototype.labelsVisible=!1;mxOutline.prototype.updateOnPan=!1;mxOutline.prototype.sizerImage=null;mxOutline.prototype.minScale=1E-4;
mxOutline.prototype.suspended=!1;mxOutline.prototype.forceVmlHandles=8==document.documentMode;mxOutline.prototype.createGraph=function $mxOutline$$createGraph$($a$$){$a$$=new mxGraph($a$$,this.source.getModel(),this.graphRenderHint,this.source.getStylesheet());$a$$.foldingEnabled=!1;$a$$.autoScroll=!1;return $a$$};
mxOutline.prototype.init=function $mxOutline$$init$($a$jscomp$1$$){this.outline=this.createGraph($a$jscomp$1$$);var $b$jscomp$0$$=this.outline.graphModelChanged;this.outline.graphModelChanged=mxUtils.bind(this,function($a$$){this.suspended||null==this.outline||$b$jscomp$0$$.apply(this.outline,arguments)});mxClient.IS_SVG&&($a$jscomp$1$$=this.outline.getView().getCanvas().parentNode,$a$jscomp$1$$.setAttribute("shape-rendering","optimizeSpeed"),$a$jscomp$1$$.setAttribute("image-rendering","optimizeSpeed"));
this.outline.labelsVisible=this.labelsVisible;this.outline.setEnabled(!1);this.updateHandler=mxUtils.bind(this,function($a$$,$b$$){this.suspended||this.active||this.update()});this.source.getModel().addListener(mxEvent.CHANGE,this.updateHandler);this.outline.addMouseListener(this);$a$jscomp$1$$=this.source.getView();$a$jscomp$1$$.addListener(mxEvent.SCALE,this.updateHandler);$a$jscomp$1$$.addListener(mxEvent.TRANSLATE,this.updateHandler);$a$jscomp$1$$.addListener(mxEvent.SCALE_AND_TRANSLATE,this.updateHandler);
$a$jscomp$1$$.addListener(mxEvent.DOWN,this.updateHandler);$a$jscomp$1$$.addListener(mxEvent.UP,this.updateHandler);mxEvent.addListener(this.source.container,"scroll",this.updateHandler);this.panHandler=mxUtils.bind(this,function($a$$){this.updateOnPan&&this.updateHandler.apply(this,arguments)});this.source.addListener(mxEvent.PAN,this.panHandler);this.refreshHandler=mxUtils.bind(this,function($a$$){this.outline.setStylesheet(this.source.getStylesheet());this.outline.refresh()});this.source.addListener(mxEvent.REFRESH,
this.refreshHandler);this.bounds=new mxRectangle(0,0,0,0);this.selectionBorder=new mxRectangleShape(this.bounds,null,mxConstants.OUTLINE_COLOR,mxConstants.OUTLINE_STROKEWIDTH);this.selectionBorder.dialect=this.outline.dialect;this.forceVmlHandles&&(this.selectionBorder.isHtmlAllowed=function $this$selectionBorder$isHtmlAllowed$(){return!1});this.selectionBorder.init(this.outline.getView().getOverlayPane());$a$jscomp$1$$=mxUtils.bind(this,function($a$jscomp$0$$){var $b$$=mxEvent.getSource($a$jscomp$0$$),
$c$$=mxUtils.bind(this,function($a$$){this.outline.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($a$$))}),$f$$=mxUtils.bind(this,function($a$$){mxEvent.removeGestureListeners($b$$,null,$c$$,$f$$);this.outline.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($a$$))});mxEvent.addGestureListeners($b$$,null,$c$$,$f$$);this.outline.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($a$jscomp$0$$))});mxEvent.addGestureListeners(this.selectionBorder.node,$a$jscomp$1$$);this.sizer=this.createSizer();
this.forceVmlHandles&&(this.sizer.isHtmlAllowed=function $this$sizer$isHtmlAllowed$(){return!1});this.sizer.init(this.outline.getView().getOverlayPane());this.enabled&&(this.sizer.node.style.cursor="nwse-resize");mxEvent.addGestureListeners(this.sizer.node,$a$jscomp$1$$);this.selectionBorder.node.style.display=this.showViewport?"":"none";this.sizer.node.style.display=this.selectionBorder.node.style.display;this.selectionBorder.node.style.cursor="move";this.update(!1)};
mxOutline.prototype.isEnabled=function $mxOutline$$isEnabled$(){return this.enabled};mxOutline.prototype.setEnabled=function $mxOutline$$setEnabled$($a$$){this.enabled=$a$$};mxOutline.prototype.setZoomEnabled=function $mxOutline$$setZoomEnabled$($a$$){this.sizer.node.style.visibility=$a$$?"visible":"hidden"};mxOutline.prototype.refresh=function $mxOutline$$refresh$(){this.update(!0)};
mxOutline.prototype.createSizer=function $mxOutline$$createSizer$(){var $a$$=null!=this.sizerImage?new mxImageShape(new mxRectangle(0,0,this.sizerImage.width,this.sizerImage.height),this.sizerImage.src):new mxRectangleShape(new mxRectangle(0,0,this.sizerSize,this.sizerSize),mxConstants.OUTLINE_HANDLE_FILLCOLOR,mxConstants.OUTLINE_HANDLE_STROKECOLOR);$a$$.dialect=this.outline.dialect;return $a$$};
mxOutline.prototype.getSourceContainerSize=function $mxOutline$$getSourceContainerSize$(){return new mxRectangle(0,0,this.source.container.scrollWidth,this.source.container.scrollHeight)};mxOutline.prototype.getOutlineOffset=function $mxOutline$$getOutlineOffset$($a$$){return null};mxOutline.prototype.getSourceGraphBounds=function $mxOutline$$getSourceGraphBounds$(){return this.source.getGraphBounds()};
mxOutline.prototype.update=function $mxOutline$$update$($a$$){if(null!=this.source&&null!=this.source.container&&null!=this.outline&&null!=this.outline.container){var $b$$=this.source.view.scale,$c$$=this.getSourceGraphBounds(),$c$$=new mxRectangle($c$$.x/$b$$+this.source.panDx,$c$$.y/$b$$+this.source.panDy,$c$$.width/$b$$,$c$$.height/$b$$),$d$$=new mxRectangle(0,0,this.source.container.clientWidth/$b$$,this.source.container.clientHeight/$b$$),$e$$=$c$$.clone();$e$$.add($d$$);$d$$=this.getSourceContainerSize();
$b$$=Math.min(Math.max(0,this.outline.container.clientWidth-this.border)/Math.max($d$$.width/$b$$,$e$$.width),Math.max(0,this.outline.container.clientHeight-this.border)/Math.max($d$$.height/$b$$,$e$$.height));$d$$=isNaN($b$$)?this.minScale:Math.max(this.minScale,$b$$);if(0<$d$$){this.outline.getView().scale!=$d$$&&(this.outline.getView().scale=$d$$,$a$$=!0);$b$$=this.outline.getView();$b$$.currentRoot!=this.source.getView().currentRoot&&$b$$.setCurrentRoot(this.source.getView().currentRoot);var $e$$=
this.source.view.translate,$f$$=$e$$.x+this.source.panDx,$g$$=$e$$.y+this.source.panDy,$d$$=this.getOutlineOffset($d$$);null!=$d$$&&($f$$+=$d$$.x,$g$$+=$d$$.y);0>$c$$.x&&($f$$-=$c$$.x);0>$c$$.y&&($g$$-=$c$$.y);if($b$$.translate.x!=$f$$||$b$$.translate.y!=$g$$)$b$$.translate.x=$f$$,$b$$.translate.y=$g$$,$a$$=!0;var $c$$=$b$$.translate,$d$$=this.source.getView().scale,$f$$=$d$$/$b$$.scale,$g$$=1/$b$$.scale,$k$$=this.source.container;this.bounds=new mxRectangle(($c$$.x-$e$$.x-this.source.panDx)/$g$$,
($c$$.y-$e$$.y-this.source.panDy)/$g$$,$k$$.clientWidth/$f$$,$k$$.clientHeight/$f$$);this.bounds.x+=this.source.container.scrollLeft*$b$$.scale/$d$$;this.bounds.y+=this.source.container.scrollTop*$b$$.scale/$d$$;$c$$=this.selectionBorder.bounds;if($c$$.x!=this.bounds.x||$c$$.y!=this.bounds.y||$c$$.width!=this.bounds.width||$c$$.height!=this.bounds.height)this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw();$c$$=this.sizer.bounds;$b$$=new mxRectangle(this.bounds.x+this.bounds.width-
$c$$.width/2,this.bounds.y+this.bounds.height-$c$$.height/2,$c$$.width,$c$$.height);if($c$$.x!=$b$$.x||$c$$.y!=$b$$.y||$c$$.width!=$b$$.width||$c$$.height!=$b$$.height)this.sizer.bounds=$b$$,"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw();$a$$&&this.outline.view.revalidate()}}};
mxOutline.prototype.mouseDown=function $mxOutline$$mouseDown$($a$$,$b$$){if(this.enabled&&this.showViewport){var $c$$=mxEvent.isMouseEvent($b$$.getEvent())?0:this.source.tolerance,$c$$=this.source.allowHandleBoundsCheck&&(mxClient.IS_IE||0<$c$$)?new mxRectangle($b$$.getGraphX()-$c$$,$b$$.getGraphY()-$c$$,2*$c$$,2*$c$$):null;this.zoom=$b$$.isSource(this.sizer)||null!=$c$$&&mxUtils.intersects(shape.bounds,$c$$);this.startX=$b$$.getX();this.startY=$b$$.getY();this.active=!0;this.source.useScrollbarsForPanning&&
mxUtils.hasScrollbars(this.source.container)?(this.dx0=this.source.container.scrollLeft,this.dy0=this.source.container.scrollTop):this.dy0=this.dx0=0}$b$$.consume()};
mxOutline.prototype.mouseMove=function $mxOutline$$mouseMove$($a$$,$b$$){if(this.active){this.selectionBorder.node.style.display=this.showViewport?"":"none";this.sizer.node.style.display=this.selectionBorder.node.style.display;var $c$$=this.getTranslateForEvent($b$$),$d$$=$c$$.x,$e$$=$c$$.y;if(this.zoom)$c$$=this.source.container,$e$$=$d$$/($c$$.clientWidth/$c$$.clientHeight),$c$$=new mxRectangle(this.bounds.x,this.bounds.y,Math.max(1,this.bounds.width+$d$$),Math.max(1,this.bounds.height+$e$$)),this.selectionBorder.bounds=
$c$$,this.selectionBorder.redraw();else{var $f$$=this.outline.getView().scale,$c$$=new mxRectangle(this.bounds.x+$d$$,this.bounds.y+$e$$,this.bounds.width,this.bounds.height);this.selectionBorder.bounds=$c$$;this.selectionBorder.redraw();$d$$=$d$$/$f$$*this.source.getView().scale;$e$$=$e$$/$f$$*this.source.getView().scale;this.source.panGraph(-$d$$-this.dx0,-$e$$-this.dy0)}$d$$=this.sizer.bounds;this.sizer.bounds=new mxRectangle($c$$.x+$c$$.width-$d$$.width/2,$c$$.y+$c$$.height-$d$$.height/2,$d$$.width,
$d$$.height);"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw();$b$$.consume()}};mxOutline.prototype.getTranslateForEvent=function $mxOutline$$getTranslateForEvent$($a$$){return new mxPoint($a$$.getX()-this.startX,$a$$.getY()-this.startY)};
mxOutline.prototype.mouseUp=function $mxOutline$$mouseUp$($a$$,$b$$){if(this.active){var $c$$=this.getTranslateForEvent($b$$),$d$$=$c$$.x,$c$$=$c$$.y;if(0<Math.abs($d$$)||0<Math.abs($c$$)){if(this.zoom){var $c$$=this.selectionBorder.bounds.width,$e$$=this.source.getView().scale;this.source.zoomTo(Math.max(this.minScale,$e$$-$d$$*$e$$/$c$$),!1)}else this.source.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.source.container)||(this.source.panGraph(0,0),$d$$/=this.outline.getView().scale,$c$$/=
this.outline.getView().scale,$e$$=this.source.getView().translate,this.source.getView().setTranslate($e$$.x-$d$$,$e$$.y-$c$$));this.update();$b$$.consume()}this.index=null;this.active=!1}};
mxOutline.prototype.destroy=function $mxOutline$$destroy$(){null!=this.source&&(this.source.removeListener(this.panHandler),this.source.removeListener(this.refreshHandler),this.source.getModel().removeListener(this.updateHandler),this.source.getView().removeListener(this.updateHandler),mxEvent.removeListener(this.source.container,"scroll",this.updateHandler),this.source=null);null!=this.outline&&(this.outline.removeMouseListener(this),this.outline.destroy(),this.outline=null);null!=this.selectionBorder&&
(this.selectionBorder.destroy(),this.selectionBorder=null);null!=this.sizer&&(this.sizer.destroy(),this.sizer=null)};function mxMultiplicity($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){this.source=$a$$;this.type=$b$$;this.attr=$c$$;this.value=$d$$;this.min=null!=$e$$?$e$$:0;this.max=null!=$f$$?$f$$:"n";this.validNeighbors=$g$$;this.countError=mxResources.get($k$$)||$k$$;this.typeError=mxResources.get($l$$)||$l$$;this.validNeighborsAllowed=null!=$m$$?$m$$:!0}mxMultiplicity.prototype.type=null;
mxMultiplicity.prototype.attr=null;mxMultiplicity.prototype.value=null;mxMultiplicity.prototype.source=null;mxMultiplicity.prototype.min=null;mxMultiplicity.prototype.max=null;mxMultiplicity.prototype.validNeighbors=null;mxMultiplicity.prototype.validNeighborsAllowed=!0;mxMultiplicity.prototype.countError=null;mxMultiplicity.prototype.typeError=null;
mxMultiplicity.prototype.check=function $mxMultiplicity$$check$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){var $g$$="";if(this.source&&this.checkTerminal($a$$,$c$$,$b$$)||!this.source&&this.checkTerminal($a$$,$d$$,$b$$))null!=this.countError&&(this.source&&(0==this.max||$e$$>=this.max)||!this.source&&(0==this.max||$f$$>=this.max))&&($g$$+=this.countError+"\n"),null!=this.validNeighbors&&null!=this.typeError&&0<this.validNeighbors.length&&(this.checkNeighbors($a$$,$b$$,$c$$,$d$$)||($g$$+=this.typeError+"\n"));
return 0<$g$$.length?$g$$:null};mxMultiplicity.prototype.checkNeighbors=function $mxMultiplicity$$checkNeighbors$($a$$,$b$$,$c$$,$d$$){$b$$=$a$$.model.getValue($c$$);$d$$=$a$$.model.getValue($d$$);$c$$=!this.validNeighborsAllowed;for(var $e$$=this.validNeighbors,$f$$=0;$f$$<$e$$.length;$f$$++)if(this.source&&this.checkType($a$$,$d$$,$e$$[$f$$])){$c$$=this.validNeighborsAllowed;break}else if(!this.source&&this.checkType($a$$,$b$$,$e$$[$f$$])){$c$$=this.validNeighborsAllowed;break}return $c$$};
mxMultiplicity.prototype.checkTerminal=function $mxMultiplicity$$checkTerminal$($a$$,$b$$,$c$$){$b$$=$a$$.model.getValue($b$$);return this.checkType($a$$,$b$$,this.type,this.attr,this.value)};mxMultiplicity.prototype.checkType=function $mxMultiplicity$$checkType$($a$$,$b$$,$c$$,$d$$,$e$$){return null!=$b$$?isNaN($b$$.nodeType)?$b$$==$c$$:mxUtils.isNode($b$$,$c$$,$d$$,$e$$):!1};
function mxLayoutManager($a$jscomp$0$$){this.undoHandler=mxUtils.bind(this,function($a$$,$c$$){this.isEnabled()&&this.beforeUndo($c$$.getProperty("edit"))});this.moveHandler=mxUtils.bind(this,function($a$$,$c$$){this.isEnabled()&&this.cellsMoved($c$$.getProperty("cells"),$c$$.getProperty("event"))});this.setGraph($a$jscomp$0$$)}mxLayoutManager.prototype=new mxEventSource;mxLayoutManager.prototype.constructor=mxLayoutManager;mxLayoutManager.prototype.graph=null;mxLayoutManager.prototype.bubbling=!0;
mxLayoutManager.prototype.enabled=!0;mxLayoutManager.prototype.updateHandler=null;mxLayoutManager.prototype.moveHandler=null;mxLayoutManager.prototype.isEnabled=function $mxLayoutManager$$isEnabled$(){return this.enabled};mxLayoutManager.prototype.setEnabled=function $mxLayoutManager$$setEnabled$($a$$){this.enabled=$a$$};mxLayoutManager.prototype.isBubbling=function $mxLayoutManager$$isBubbling$(){return this.bubbling};
mxLayoutManager.prototype.setBubbling=function $mxLayoutManager$$setBubbling$($a$$){this.bubbling=$a$$};mxLayoutManager.prototype.getGraph=function $mxLayoutManager$$getGraph$(){return this.graph};
mxLayoutManager.prototype.setGraph=function $mxLayoutManager$$setGraph$($a$$){if(null!=this.graph){var $b$$=this.graph.getModel();$b$$.removeListener(this.undoHandler);this.graph.removeListener(this.moveHandler)}this.graph=$a$$;null!=this.graph&&($b$$=this.graph.getModel(),$b$$.addListener(mxEvent.BEFORE_UNDO,this.undoHandler),this.graph.addListener(mxEvent.MOVE_CELLS,this.moveHandler))};mxLayoutManager.prototype.getLayout=function $mxLayoutManager$$getLayout$($a$$){return null};
mxLayoutManager.prototype.beforeUndo=function $mxLayoutManager$$beforeUndo$($a$$){$a$$=this.getCellsForChanges($a$$.changes);for(var $b$$=this.getGraph().getModel(),$c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++)$c$$=$c$$.concat($b$$.getDescendants($a$$[$d$$]));$a$$=$c$$;if(this.isBubbling())for($c$$=$b$$.getParents($a$$);0<$c$$.length;)$a$$=$a$$.concat($c$$),$c$$=$b$$.getParents($c$$);this.executeLayoutForCells($a$$)};
mxLayoutManager.prototype.executeLayoutForCells=function $mxLayoutManager$$executeLayoutForCells$($a$$){$a$$=mxUtils.sortCells($a$$,!0);$a$$=$a$$.concat($a$$.slice().reverse());this.layoutCells($a$$)};
mxLayoutManager.prototype.cellsMoved=function $mxLayoutManager$$cellsMoved$($a$$,$b$$){if(null!=$a$$&&null!=$b$$)for(var $c$$=mxUtils.convertPoint(this.getGraph().container,mxEvent.getClientX($b$$),mxEvent.getClientY($b$$)),$d$$=this.getGraph().getModel(),$e$$=0;$e$$<$a$$.length;$e$$++){var $f$$=$d$$.getParent($a$$[$e$$]);0>mxUtils.indexOf($a$$,$f$$)&&($f$$=this.getLayout($f$$),null!=$f$$&&$f$$.moveCell($a$$[$e$$],$c$$.x,$c$$.y))}};
mxLayoutManager.prototype.getCellsForChanges=function $mxLayoutManager$$getCellsForChanges$($a$$){for(var $b$$=new mxDictionary,$c$$=[],$d$$=0;$d$$<$a$$.length;$d$$++){var $e$$=$a$$[$d$$];if($e$$ instanceof mxRootChange)return[];for(var $e$$=this.getCellsForChange($e$$),$f$$=0;$f$$<$e$$.length;$f$$++)null==$e$$[$f$$]||$b$$.get($e$$[$f$$])||($b$$.put($e$$[$f$$],!0),$c$$.push($e$$[$f$$]))}return $c$$};
mxLayoutManager.prototype.getCellsForChange=function $mxLayoutManager$$getCellsForChange$($a$$){var $b$$=this.getGraph().getModel();return $a$$ instanceof mxChildChange?[$a$$.child,$a$$.previous,$b$$.getParent($a$$.child)]:$a$$ instanceof mxTerminalChange||$a$$ instanceof mxGeometryChange?[$a$$.cell,$b$$.getParent($a$$.cell)]:$a$$ instanceof mxVisibleChange||$a$$ instanceof mxStyleChange?[$a$$.cell]:[]};
mxLayoutManager.prototype.layoutCells=function $mxLayoutManager$$layoutCells$($a$$){if(0<$a$$.length){var $b$$=this.getGraph().getModel();$b$$.beginUpdate();try{for(var $c$$=null,$d$$=0;$d$$<$a$$.length;$d$$++)$a$$[$d$$]!=$b$$.getRoot()&&$a$$[$d$$]!=$c$$&&this.executeLayout(this.getLayout($a$$[$d$$]),$a$$[$d$$])&&($c$$=$a$$[$d$$]);this.fireEvent(new mxEventObject(mxEvent.LAYOUT_CELLS,"cells",$a$$))}finally{$b$$.endUpdate()}}};
mxLayoutManager.prototype.executeLayout=function $mxLayoutManager$$executeLayout$($a$$,$b$$){var $c$$=!1;null!=$a$$&&null!=$b$$&&($a$$.execute($b$$),$c$$=!0);return $c$$};mxLayoutManager.prototype.destroy=function $mxLayoutManager$$destroy$(){this.setGraph(null)};
function mxSwimlaneManager($a$jscomp$0$$,$b$jscomp$0$$,$c$$,$d$$){this.horizontal=null!=$b$jscomp$0$$?$b$jscomp$0$$:!0;this.addEnabled=null!=$c$$?$c$$:!0;this.resizeEnabled=null!=$d$$?$d$$:!0;this.addHandler=mxUtils.bind(this,function($a$$,$b$$){this.isEnabled()&&this.isAddEnabled()&&this.cellsAdded($b$$.getProperty("cells"))});this.resizeHandler=mxUtils.bind(this,function($a$$,$b$$){this.isEnabled()&&this.isResizeEnabled()&&this.cellsResized($b$$.getProperty("cells"))});this.setGraph($a$jscomp$0$$)}
mxSwimlaneManager.prototype=new mxEventSource;mxSwimlaneManager.prototype.constructor=mxSwimlaneManager;mxSwimlaneManager.prototype.graph=null;mxSwimlaneManager.prototype.enabled=!0;mxSwimlaneManager.prototype.horizontal=!0;mxSwimlaneManager.prototype.addEnabled=!0;mxSwimlaneManager.prototype.resizeEnabled=!0;mxSwimlaneManager.prototype.addHandler=null;mxSwimlaneManager.prototype.resizeHandler=null;mxSwimlaneManager.prototype.isEnabled=function $mxSwimlaneManager$$isEnabled$(){return this.enabled};
mxSwimlaneManager.prototype.setEnabled=function $mxSwimlaneManager$$setEnabled$($a$$){this.enabled=$a$$};mxSwimlaneManager.prototype.isHorizontal=function $mxSwimlaneManager$$isHorizontal$(){return this.horizontal};mxSwimlaneManager.prototype.setHorizontal=function $mxSwimlaneManager$$setHorizontal$($a$$){this.horizontal=$a$$};mxSwimlaneManager.prototype.isAddEnabled=function $mxSwimlaneManager$$isAddEnabled$(){return this.addEnabled};
mxSwimlaneManager.prototype.setAddEnabled=function $mxSwimlaneManager$$setAddEnabled$($a$$){this.addEnabled=$a$$};mxSwimlaneManager.prototype.isResizeEnabled=function $mxSwimlaneManager$$isResizeEnabled$(){return this.resizeEnabled};mxSwimlaneManager.prototype.setResizeEnabled=function $mxSwimlaneManager$$setResizeEnabled$($a$$){this.resizeEnabled=$a$$};mxSwimlaneManager.prototype.getGraph=function $mxSwimlaneManager$$getGraph$(){return this.graph};
mxSwimlaneManager.prototype.setGraph=function $mxSwimlaneManager$$setGraph$($a$$){null!=this.graph&&(this.graph.removeListener(this.addHandler),this.graph.removeListener(this.resizeHandler));this.graph=$a$$;null!=this.graph&&(this.graph.addListener(mxEvent.ADD_CELLS,this.addHandler),this.graph.addListener(mxEvent.CELLS_RESIZED,this.resizeHandler))};mxSwimlaneManager.prototype.isSwimlaneIgnored=function $mxSwimlaneManager$$isSwimlaneIgnored$($a$$){return!this.getGraph().isSwimlane($a$$)};
mxSwimlaneManager.prototype.isCellHorizontal=function $mxSwimlaneManager$$isCellHorizontal$($a$$){return this.graph.isSwimlane($a$$)?($a$$=this.graph.getCellStyle($a$$),1==mxUtils.getValue($a$$,mxConstants.STYLE_HORIZONTAL,1)):!this.isHorizontal()};mxSwimlaneManager.prototype.cellsAdded=function $mxSwimlaneManager$$cellsAdded$($a$$){if(null!=$a$$){var $b$$=this.getGraph().getModel();$b$$.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++)this.isSwimlaneIgnored($a$$[$c$$])||this.swimlaneAdded($a$$[$c$$])}finally{$b$$.endUpdate()}}};
mxSwimlaneManager.prototype.swimlaneAdded=function $mxSwimlaneManager$$swimlaneAdded$($a$$){for(var $b$$=this.getGraph().getModel(),$c$$=$b$$.getParent($a$$),$d$$=$b$$.getChildCount($c$$),$e$$=null,$f$$=0;$f$$<$d$$;$f$$++){var $g$$=$b$$.getChildAt($c$$,$f$$);if($g$$!=$a$$&&!this.isSwimlaneIgnored($g$$)&&($e$$=$b$$.getGeometry($g$$),null!=$e$$))break}null!=$e$$&&($b$$=null!=$c$$?this.isCellHorizontal($c$$):this.horizontal,this.resizeSwimlane($a$$,$e$$.width,$e$$.height,$b$$))};
mxSwimlaneManager.prototype.cellsResized=function $mxSwimlaneManager$$cellsResized$($a$$){if(null!=$a$$){var $b$$=this.getGraph().getModel();$b$$.beginUpdate();try{for(var $c$$=0;$c$$<$a$$.length;$c$$++)if(!this.isSwimlaneIgnored($a$$[$c$$])){var $d$$=$b$$.getGeometry($a$$[$c$$]);if(null!=$d$$){for(var $e$$=new mxRectangle(0,0,$d$$.width,$d$$.height),$f$$=$a$$[$c$$],$g$$=$f$$;null!=$g$$;){var $f$$=$g$$,$g$$=$b$$.getParent($g$$),$k$$=this.graph.isSwimlane($g$$)?this.graph.getStartSize($g$$):new mxRectangle;
$e$$.width+=$k$$.width;$e$$.height+=$k$$.height}var $l$$=null!=$g$$?this.isCellHorizontal($g$$):this.horizontal;this.resizeSwimlane($f$$,$e$$.width,$e$$.height,$l$$)}}}finally{$b$$.endUpdate()}}};
mxSwimlaneManager.prototype.resizeSwimlane=function $mxSwimlaneManager$$resizeSwimlane$($a$$,$b$$,$c$$,$d$$){var $e$$=this.getGraph().getModel();$e$$.beginUpdate();try{var $f$$=this.isCellHorizontal($a$$);if(!this.isSwimlaneIgnored($a$$)){var $g$$=$e$$.getGeometry($a$$);null!=$g$$&&($d$$&&$g$$.height!=$c$$||!$d$$&&$g$$.width!=$b$$)&&($g$$=$g$$.clone(),$d$$?$g$$.height=$c$$:$g$$.width=$b$$,$e$$.setGeometry($a$$,$g$$))}var $k$$=this.graph.isSwimlane($a$$)?this.graph.getStartSize($a$$):new mxRectangle;
$b$$-=$k$$.width;$c$$-=$k$$.height;var $l$$=$e$$.getChildCount($a$$);for($d$$=0;$d$$<$l$$;$d$$++){var $m$$=$e$$.getChildAt($a$$,$d$$);this.resizeSwimlane($m$$,$b$$,$c$$,$f$$)}}finally{$e$$.endUpdate()}};mxSwimlaneManager.prototype.destroy=function $mxSwimlaneManager$$destroy$(){this.setGraph(null)};
function mxTemporaryCellStates($a$jscomp$0$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$jscomp$0$$,$e$$){$b$jscomp$0$$=null!=$b$jscomp$0$$?$b$jscomp$0$$:1;this.view=$a$jscomp$0$$;this.oldValidateCellState=$a$jscomp$0$$.validateCellState;this.oldBounds=$a$jscomp$0$$.getGraphBounds();this.oldStates=$a$jscomp$0$$.getStates();this.oldScale=$a$jscomp$0$$.getScale();this.oldDoRedrawShape=$a$jscomp$0$$.graph.cellRenderer.doRedrawShape;var $f$$=this;null!=$e$$&&($a$jscomp$0$$.graph.cellRenderer.doRedrawShape=function $$a$jscomp$0$$$graph$cellRenderer$doRedrawShape$($b$$){var $c$$=
$b$$.shape.paint;$b$$.shape.paint=function $$b$$$shape$paint$($a$$){var $d$$=$e$$($b$$);null!=$d$$&&$a$$.setLink($d$$);$c$$.apply(this,arguments);null!=$d$$&&$a$$.setLink(null)};$f$$.oldDoRedrawShape.apply($a$jscomp$0$$.graph.cellRenderer,arguments);$b$$.shape.paint=$c$$});$a$jscomp$0$$.validateCellState=function $$a$jscomp$0$$$validateCellState$($b$$,$c$$){return null==$b$$||null==$d$jscomp$0$$||$d$jscomp$0$$($b$$)?$f$$.oldValidateCellState.apply($a$jscomp$0$$,arguments):null};$a$jscomp$0$$.setStates(new mxDictionary);
$a$jscomp$0$$.setScale($b$jscomp$0$$);if(null!=$c$jscomp$0$$){$a$jscomp$0$$.resetValidationState();$b$jscomp$0$$=null;for(var $g$$=0;$g$$<$c$jscomp$0$$.length;$g$$++){var $k$$=$a$jscomp$0$$.getBoundingBox($a$jscomp$0$$.validateCellState($a$jscomp$0$$.validateCell($c$jscomp$0$$[$g$$])));null==$b$jscomp$0$$?$b$jscomp$0$$=$k$$:$b$jscomp$0$$.add($k$$)}$a$jscomp$0$$.setGraphBounds($b$jscomp$0$$||new mxRectangle)}}mxTemporaryCellStates.prototype.view=null;mxTemporaryCellStates.prototype.oldStates=null;
mxTemporaryCellStates.prototype.oldBounds=null;mxTemporaryCellStates.prototype.oldScale=null;mxTemporaryCellStates.prototype.destroy=function $mxTemporaryCellStates$$destroy$(){this.view.setScale(this.oldScale);this.view.setStates(this.oldStates);this.view.setGraphBounds(this.oldBounds);this.view.validateCellState=this.oldValidateCellState;this.view.graph.cellRenderer.doRedrawShape=this.oldDoRedrawShape};function mxCellStatePreview($a$$){this.deltas=new mxDictionary;this.graph=$a$$}
mxCellStatePreview.prototype.graph=null;mxCellStatePreview.prototype.deltas=null;mxCellStatePreview.prototype.count=0;mxCellStatePreview.prototype.isEmpty=function $mxCellStatePreview$$isEmpty$(){return 0==this.count};
mxCellStatePreview.prototype.moveState=function $mxCellStatePreview$$moveState$($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=null!=$d$$?$d$$:!0;$e$$=null!=$e$$?$e$$:!0;var $f$$=this.deltas.get($a$$.cell);null==$f$$?($f$$={point:new mxPoint($b$$,$c$$),state:$a$$},this.deltas.put($a$$.cell,$f$$),this.count++):$d$$?($f$$.point.x+=$b$$,$f$$.point.y+=$c$$):($f$$.point.x=$b$$,$f$$.point.y=$c$$);$e$$&&this.addEdges($a$$);return $f$$.point};
mxCellStatePreview.prototype.show=function $mxCellStatePreview$$show$($a$jscomp$0$$){this.deltas.visit(mxUtils.bind(this,function($a$$,$c$$){this.translateState($c$$.state,$c$$.point.x,$c$$.point.y)}));this.deltas.visit(mxUtils.bind(this,function($b$$,$c$$){this.revalidateState($c$$.state,$c$$.point.x,$c$$.point.y,$a$jscomp$0$$)}))};
mxCellStatePreview.prototype.translateState=function $mxCellStatePreview$$translateState$($a$$,$b$$,$c$$){if(null!=$a$$){var $d$$=this.graph.getModel();if($d$$.isVertex($a$$.cell)){$a$$.view.updateCellState($a$$);var $e$$=$d$$.getGeometry($a$$.cell);0==$b$$&&0==$c$$||null==$e$$||$e$$.relative&&null==this.deltas.get($a$$.cell)||($a$$.x+=$b$$,$a$$.y+=$c$$)}for(var $e$$=$d$$.getChildCount($a$$.cell),$f$$=0;$f$$<$e$$;$f$$++)this.translateState($a$$.view.getState($d$$.getChildAt($a$$.cell,$f$$)),$b$$,
$c$$)}};
mxCellStatePreview.prototype.revalidateState=function $mxCellStatePreview$$revalidateState$($a$$,$b$$,$c$$,$d$$){if(null!=$a$$){var $e$$=this.graph.getModel();$e$$.isEdge($a$$.cell)&&$a$$.view.updateCellState($a$$);var $f$$=this.graph.getCellGeometry($a$$.cell),$g$$=$a$$.view.getState($e$$.getParent($a$$.cell));0==$b$$&&0==$c$$||null==$f$$||!$f$$.relative||!$e$$.isVertex($a$$.cell)||null!=$g$$&&!$e$$.isVertex($g$$.cell)&&null==this.deltas.get($a$$.cell)||($a$$.x+=$b$$,$a$$.y+=$c$$);this.graph.cellRenderer.redraw($a$$);null!=
$d$$&&$d$$($a$$);$f$$=$e$$.getChildCount($a$$.cell);for($g$$=0;$g$$<$f$$;$g$$++)this.revalidateState(this.graph.view.getState($e$$.getChildAt($a$$.cell,$g$$)),$b$$,$c$$,$d$$)}};mxCellStatePreview.prototype.addEdges=function $mxCellStatePreview$$addEdges$($a$$){for(var $b$$=this.graph.getModel(),$c$$=$b$$.getEdgeCount($a$$.cell),$d$$=0;$d$$<$c$$;$d$$++){var $e$$=$a$$.view.getState($b$$.getEdgeAt($a$$.cell,$d$$));null!=$e$$&&this.moveState($e$$,0,0)}};
function mxConnectionConstraint($a$$,$b$$,$c$$,$d$$,$e$$){this.point=$a$$;this.perimeter=null!=$b$$?$b$$:!0;this.name=$c$$;this.dx=$d$$?$d$$:0;this.dy=$e$$?$e$$:0}mxConnectionConstraint.prototype.point=null;mxConnectionConstraint.prototype.perimeter=null;mxConnectionConstraint.prototype.name=null;mxConnectionConstraint.prototype.dx=null;mxConnectionConstraint.prototype.dy=null;
function mxGraphHandler($a$jscomp$0$$){this.graph=$a$jscomp$0$$;this.graph.addMouseListener(this);this.panHandler=mxUtils.bind(this,function(){this.updatePreviewShape();this.updateHint()});this.graph.addListener(mxEvent.PAN,this.panHandler);this.escapeHandler=mxUtils.bind(this,function($a$$,$c$$){this.reset()});this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler);this.refreshHandler=mxUtils.bind(this,function($a$$,$c$$){if(null!=this.first)try{this.bounds=this.graph.getView().getBounds(this.cells),
this.pBounds=this.getPreviewBounds(this.cells),this.updatePreviewShape()}catch($d$$){this.reset()}});this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler)}mxGraphHandler.prototype.graph=null;mxGraphHandler.prototype.maxCells=mxClient.IS_IE?20:50;mxGraphHandler.prototype.enabled=!0;mxGraphHandler.prototype.highlightEnabled=!0;mxGraphHandler.prototype.cloneEnabled=!0;mxGraphHandler.prototype.moveEnabled=!0;mxGraphHandler.prototype.guidesEnabled=!1;mxGraphHandler.prototype.guide=null;
mxGraphHandler.prototype.currentDx=null;mxGraphHandler.prototype.currentDy=null;mxGraphHandler.prototype.updateCursor=!0;mxGraphHandler.prototype.selectEnabled=!0;mxGraphHandler.prototype.removeCellsFromParent=!0;mxGraphHandler.prototype.connectOnDrop=!1;mxGraphHandler.prototype.scrollOnMove=!0;mxGraphHandler.prototype.minimumSize=6;mxGraphHandler.prototype.previewColor="black";mxGraphHandler.prototype.htmlPreview=!1;mxGraphHandler.prototype.shape=null;mxGraphHandler.prototype.scaleGrid=!1;
mxGraphHandler.prototype.rotationEnabled=!0;mxGraphHandler.prototype.isEnabled=function $mxGraphHandler$$isEnabled$(){return this.enabled};mxGraphHandler.prototype.setEnabled=function $mxGraphHandler$$setEnabled$($a$$){this.enabled=$a$$};mxGraphHandler.prototype.isCloneEnabled=function $mxGraphHandler$$isCloneEnabled$(){return this.cloneEnabled};mxGraphHandler.prototype.setCloneEnabled=function $mxGraphHandler$$setCloneEnabled$($a$$){this.cloneEnabled=$a$$};
mxGraphHandler.prototype.isMoveEnabled=function $mxGraphHandler$$isMoveEnabled$(){return this.moveEnabled};mxGraphHandler.prototype.setMoveEnabled=function $mxGraphHandler$$setMoveEnabled$($a$$){this.moveEnabled=$a$$};mxGraphHandler.prototype.isSelectEnabled=function $mxGraphHandler$$isSelectEnabled$(){return this.selectEnabled};mxGraphHandler.prototype.setSelectEnabled=function $mxGraphHandler$$setSelectEnabled$($a$$){this.selectEnabled=$a$$};mxGraphHandler.prototype.isRemoveCellsFromParent=function $mxGraphHandler$$isRemoveCellsFromParent$(){return this.removeCellsFromParent};
mxGraphHandler.prototype.setRemoveCellsFromParent=function $mxGraphHandler$$setRemoveCellsFromParent$($a$$){this.removeCellsFromParent=$a$$};mxGraphHandler.prototype.getInitialCellForEvent=function $mxGraphHandler$$getInitialCellForEvent$($a$$){return $a$$.getCell()};mxGraphHandler.prototype.isDelayedSelection=function $mxGraphHandler$$isDelayedSelection$($a$$,$b$$){return this.graph.isCellSelected($a$$)};
mxGraphHandler.prototype.consumeMouseEvent=function $mxGraphHandler$$consumeMouseEvent$($a$$,$b$$){$b$$.consume()};
mxGraphHandler.prototype.mouseDown=function $mxGraphHandler$$mouseDown$($a$$,$b$$){if(!$b$$.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null!=$b$$.getState()&&!mxEvent.isMultiTouchEvent($b$$.getEvent())){var $c$$=this.getInitialCellForEvent($b$$);this.delayedSelection=this.isDelayedSelection($c$$,$b$$);this.cell=null;this.isSelectEnabled()&&!this.delayedSelection&&this.graph.selectCellForEvent($c$$,$b$$.getEvent());if(this.isMoveEnabled()){var $d$$=this.graph.model,$e$$=$d$$.getGeometry($c$$);
this.graph.isCellMovable($c$$)&&(!$d$$.isEdge($c$$)||1<this.graph.getSelectionCount()||null!=$e$$.points&&0<$e$$.points.length||null==$d$$.getTerminal($c$$,!0)||null==$d$$.getTerminal($c$$,!1)||this.graph.allowDanglingEdges||this.graph.isCloneEvent($b$$.getEvent())&&this.graph.isCellsCloneable())?this.start($c$$,$b$$.getX(),$b$$.getY()):this.delayedSelection&&(this.cell=$c$$);this.cellWasClicked=!0;this.consumeMouseEvent(mxEvent.MOUSE_DOWN,$b$$)}}};
mxGraphHandler.prototype.getGuideStates=function $mxGraphHandler$$getGuideStates$(){var $a$jscomp$0$$=this.graph.getDefaultParent(),$b$$=this.graph.getModel(),$c$$=mxUtils.bind(this,function($a$$){return null!=this.graph.view.getState($a$$)&&$b$$.isVertex($a$$)&&null!=$b$$.getGeometry($a$$)&&!$b$$.getGeometry($a$$).relative});return this.graph.view.getCellStates($b$$.filterDescendants($c$$,$a$jscomp$0$$))};
mxGraphHandler.prototype.getCells=function $mxGraphHandler$$getCells$($a$$){return!this.delayedSelection&&this.graph.isCellMovable($a$$)?[$a$$]:this.graph.getMovableCells(this.graph.getSelectionCells())};
mxGraphHandler.prototype.getPreviewBounds=function $mxGraphHandler$$getPreviewBounds$($a$$){$a$$=this.getBoundingBox($a$$);null!=$a$$&&($a$$.width=Math.max(0,$a$$.width-1),$a$$.height=Math.max(0,$a$$.height-1),$a$$.width<this.minimumSize?($a$$.x-=(this.minimumSize-$a$$.width)/2,$a$$.width=this.minimumSize):($a$$.x=Math.round($a$$.x),$a$$.width=Math.ceil($a$$.width)),$a$$.height<this.minimumSize?($a$$.y-=(this.minimumSize-$a$$.height)/2,$a$$.height=this.minimumSize):($a$$.y=Math.round($a$$.y),$a$$.height=
Math.ceil($a$$.height)));return $a$$};
mxGraphHandler.prototype.getBoundingBox=function $mxGraphHandler$$getBoundingBox$($a$$){var $b$$=null;if(null!=$a$$&&0<$a$$.length)for(var $c$$=this.graph.getModel(),$d$$=0;$d$$<$a$$.length;$d$$++)if($c$$.isVertex($a$$[$d$$])||$c$$.isEdge($a$$[$d$$])){var $e$$=this.graph.view.getState($a$$[$d$$]);if(null!=$e$$){var $f$$=$e$$;$c$$.isVertex($a$$[$d$$])&&null!=$e$$.shape&&null!=$e$$.shape.boundingBox&&($f$$=$e$$.shape.boundingBox);null==$b$$?$b$$=mxRectangle.fromRectangle($f$$):$b$$.add($f$$)}}return $b$$};
mxGraphHandler.prototype.createPreviewShape=function $mxGraphHandler$$createPreviewShape$($a$$){$a$$=new mxRectangleShape($a$$,null,this.previewColor);$a$$.isDashed=!0;this.htmlPreview?($a$$.dialect=mxConstants.DIALECT_STRICTHTML,$a$$.init(this.graph.container)):($a$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,$a$$.init(this.graph.getView().getOverlayPane()),$a$$.pointerEvents=!1,mxClient.IS_IOS&&($a$$.getSvgScreenOffset=function $$a$$$getSvgScreenOffset$(){return 0}));
return $a$$};mxGraphHandler.prototype.start=function $mxGraphHandler$$start$($a$$,$b$$,$c$$){this.cell=$a$$;this.first=mxUtils.convertPoint(this.graph.container,$b$$,$c$$);this.cells=this.getCells(this.cell);this.bounds=this.graph.getView().getBounds(this.cells);this.pBounds=this.getPreviewBounds(this.cells);this.guidesEnabled&&(this.guide=new mxGuide(this.graph,this.getGuideStates()))};
mxGraphHandler.prototype.useGuidesForEvent=function $mxGraphHandler$$useGuidesForEvent$($a$$){return null!=this.guide?this.guide.isEnabledForEvent($a$$.getEvent()):!0};mxGraphHandler.prototype.snap=function $mxGraphHandler$$snap$($a$$){var $b$$=this.scaleGrid?this.graph.view.scale:1;$a$$.x=this.graph.snap($a$$.x/$b$$)*$b$$;$a$$.y=this.graph.snap($a$$.y/$b$$)*$b$$;return $a$$};
mxGraphHandler.prototype.getDelta=function $mxGraphHandler$$getDelta$($a$$){$a$$=mxUtils.convertPoint(this.graph.container,$a$$.getX(),$a$$.getY());var $b$$=this.graph.view.scale;return new mxPoint(this.roundLength(($a$$.x-this.first.x)/$b$$)*$b$$,this.roundLength(($a$$.y-this.first.y)/$b$$)*$b$$)};mxGraphHandler.prototype.updateHint=function $mxGraphHandler$$updateHint$($a$$){};mxGraphHandler.prototype.removeHint=function $mxGraphHandler$$removeHint$(){};
mxGraphHandler.prototype.roundLength=function $mxGraphHandler$$roundLength$($a$$){return Math.round(2*$a$$)/2};
mxGraphHandler.prototype.mouseMove=function $mxGraphHandler$$mouseMove$($a$$,$b$$){var $c$$=this.graph;if(!$b$$.isConsumed()&&$c$$.isMouseDown&&null!=this.cell&&null!=this.first&&null!=this.bounds)if(mxEvent.isMultiTouchEvent($b$$.getEvent()))this.reset();else{var $d$$=this.getDelta($b$$),$e$$=$d$$.x,$d$$=$d$$.y,$f$$=$c$$.tolerance;if(null!=this.shape||Math.abs($e$$)>$f$$||Math.abs($d$$)>$f$$){null==this.highlight&&(this.highlight=new mxCellHighlight(this.graph,mxConstants.DROP_TARGET_COLOR,3));null==
this.shape&&(this.shape=this.createPreviewShape(this.bounds));var $f$$=$c$$.isCloneEvent($b$$.getEvent())&&$c$$.isCellsCloneable()&&this.isCloneEnabled(),$g$$=$c$$.isGridEnabledEvent($b$$.getEvent()),$k$$=!0;if(null!=this.guide&&this.useGuidesForEvent($b$$))$d$$=this.guide.move(this.bounds,new mxPoint($e$$,$d$$),$g$$,$f$$),$k$$=!1,$e$$=$d$$.x,$d$$=$d$$.y;else if($g$$)var $l$$=$c$$.getView().translate,$m$$=$c$$.getView().scale,$g$$=this.bounds.x-($c$$.snap(this.bounds.x/$m$$-$l$$.x)+$l$$.x)*$m$$,$l$$=
this.bounds.y-($c$$.snap(this.bounds.y/$m$$-$l$$.y)+$l$$.y)*$m$$,$d$$=this.snap(new mxPoint($e$$,$d$$)),$e$$=$d$$.x-$g$$,$d$$=$d$$.y-$l$$;null!=this.guide&&$k$$&&this.guide.hide();$c$$.isConstrainedEvent($b$$.getEvent())&&(Math.abs($e$$)>Math.abs($d$$)?$d$$=0:$e$$=0);this.currentDx=$e$$;this.currentDy=$d$$;this.updatePreviewShape();$k$$=null;$d$$=$b$$.getCell();$c$$.isDropEnabled()&&this.highlightEnabled&&($k$$=$c$$.getDropTarget(this.cells,$b$$.getEvent(),$d$$,$f$$));$e$$=$c$$.getView().getState($k$$);
$g$$=!1;null==$e$$||$c$$.model.getParent(this.cell)==$k$$&&!$f$$?(this.target=null,this.connectOnDrop&&null!=$d$$&&1==this.cells.length&&$c$$.getModel().isVertex($d$$)&&$c$$.isCellConnectable($d$$)&&($e$$=$c$$.getView().getState($d$$),null!=$e$$&&($c$$=null==$c$$.getEdgeValidationError(null,this.cell,$d$$)?mxConstants.VALID_COLOR:mxConstants.INVALID_CONNECT_TARGET_COLOR,this.setHighlightColor($c$$),$g$$=!0))):(this.target!=$k$$&&(this.target=$k$$,this.setHighlightColor(mxConstants.DROP_TARGET_COLOR)),
$g$$=!0);null!=$e$$&&$g$$?this.highlight.highlight($e$$):this.highlight.hide()}this.updateHint($b$$);this.consumeMouseEvent(mxEvent.MOUSE_MOVE,$b$$);mxEvent.consume($b$$.getEvent())}else!this.isMoveEnabled()&&!this.isCloneEnabled()||!this.updateCursor||$b$$.isConsumed()||null==$b$$.getState()&&null==$b$$.sourceState||$c$$.isMouseDown||($f$$=$c$$.getCursorForMouseEvent($b$$),null==$f$$&&$c$$.isEnabled()&&$c$$.isCellMovable($b$$.getCell())&&($f$$=$c$$.getModel().isEdge($b$$.getCell())?mxConstants.CURSOR_MOVABLE_EDGE:
mxConstants.CURSOR_MOVABLE_VERTEX),null!=$f$$&&null!=$b$$.sourceState&&$b$$.sourceState.setCursor($f$$))};mxGraphHandler.prototype.updatePreviewShape=function $mxGraphHandler$$updatePreviewShape$(){null!=this.shape&&(this.shape.bounds=new mxRectangle(Math.round(this.pBounds.x+this.currentDx-this.graph.panDx),Math.round(this.pBounds.y+this.currentDy-this.graph.panDy),this.pBounds.width,this.pBounds.height),this.shape.redraw())};
mxGraphHandler.prototype.setHighlightColor=function $mxGraphHandler$$setHighlightColor$($a$$){null!=this.highlight&&this.highlight.setHighlightColor($a$$)};
mxGraphHandler.prototype.mouseUp=function $mxGraphHandler$$mouseUp$($a$$,$b$$){if(!$b$$.isConsumed()){var $c$$=this.graph;if(null!=this.cell&&null!=this.first&&null!=this.shape&&null!=this.currentDx&&null!=this.currentDy){var $d$$=$b$$.getCell();if(this.connectOnDrop&&null==this.target&&null!=$d$$&&$c$$.getModel().isVertex($d$$)&&$c$$.isCellConnectable($d$$)&&$c$$.isEdgeValid(null,this.cell,$d$$))$c$$.connectionHandler.connect(this.cell,$d$$,$b$$.getEvent());else{var $d$$=$c$$.isCloneEvent($b$$.getEvent())&&
$c$$.isCellsCloneable()&&this.isCloneEnabled(),$e$$=$c$$.getView().scale,$f$$=this.roundLength(this.currentDx/$e$$),$e$$=this.roundLength(this.currentDy/$e$$),$g$$=this.target;$c$$.isSplitEnabled()&&$c$$.isSplitTarget($g$$,this.cells,$b$$.getEvent())?$c$$.splitEdge($g$$,this.cells,null,$f$$,$e$$):this.moveCells(this.cells,$f$$,$e$$,$d$$,this.target,$b$$.getEvent())}}else this.isSelectEnabled()&&this.delayedSelection&&null!=this.cell&&this.selectDelayed($b$$)}this.cellWasClicked&&this.consumeMouseEvent(mxEvent.MOUSE_UP,
$b$$);this.reset()};mxGraphHandler.prototype.selectDelayed=function $mxGraphHandler$$selectDelayed$($a$$){this.graph.isCellSelected(this.cell)&&this.graph.popupMenuHandler.isPopupTrigger($a$$)||this.graph.selectCellForEvent(this.cell,$a$$.getEvent())};mxGraphHandler.prototype.reset=function $mxGraphHandler$$reset$(){this.destroyShapes();this.removeHint();this.delayedSelection=this.cellWasClicked=!1;this.target=this.cell=this.first=this.guides=this.currentDy=this.currentDx=null};
mxGraphHandler.prototype.shouldRemoveCellsFromParent=function $mxGraphHandler$$shouldRemoveCellsFromParent$($a$$,$b$$,$c$$){if(this.graph.getModel().isVertex($a$$)&&($a$$=this.graph.getView().getState($a$$),null!=$a$$)){$c$$=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($c$$),mxEvent.getClientY($c$$));var $d$$=mxUtils.toRadians(mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION)||0);if(0!=$d$$){$b$$=Math.cos(-$d$$);var $d$$=Math.sin(-$d$$),$e$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());
$c$$=mxUtils.getRotatedPoint($c$$,$b$$,$d$$,$e$$)}return!mxUtils.contains($a$$,$c$$.x,$c$$.y)}return!1};
mxGraphHandler.prototype.moveCells=function $mxGraphHandler$$moveCells$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){$d$$&&($a$$=this.graph.getCloneableCells($a$$));null==$e$$&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent(this.graph.getModel().getParent(this.cell),$a$$,$f$$)&&($e$$=this.graph.getDefaultParent());$d$$=$d$$&&!this.graph.isCellLocked($e$$||this.graph.getDefaultParent());$a$$=this.graph.moveCells($a$$,$b$$-this.graph.panDx/this.graph.view.scale,$c$$-this.graph.panDy/this.graph.view.scale,
$d$$,$e$$,$f$$);this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible($a$$[0]);$d$$&&this.graph.setSelectionCells($a$$)};mxGraphHandler.prototype.destroyShapes=function $mxGraphHandler$$destroyShapes$(){null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.guide&&(this.guide.destroy(),this.guide=null);null!=this.highlight&&(this.highlight.destroy(),this.highlight=null)};
mxGraphHandler.prototype.destroy=function $mxGraphHandler$$destroy$(){this.graph.removeMouseListener(this);this.graph.removeListener(this.panHandler);null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null);null!=this.refreshHandler&&(this.graph.getModel().removeListener(this.refreshHandler),this.refreshHandler=null);this.destroyShapes();this.removeHint()};
function mxPanningHandler($a$jscomp$0$$){null!=$a$jscomp$0$$&&(this.graph=$a$jscomp$0$$,this.graph.addMouseListener(this),this.forcePanningHandler=mxUtils.bind(this,function($a$$,$c$$){var $b$$=$c$$.getProperty("eventName"),$e$$=$c$$.getProperty("event");$b$$==mxEvent.MOUSE_DOWN&&this.isForcePanningEvent($e$$)&&(this.start($e$$),this.active=!0,this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",$e$$)),$e$$.consume())}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forcePanningHandler),
this.gestureHandler=mxUtils.bind(this,function($a$$,$c$$){if(this.isPinchEnabled()){var $b$$=$c$$.getProperty("event");mxEvent.isConsumed($b$$)||"gesturestart"!=$b$$.type?"gestureend"==$b$$.type&&null!=this.initialScale&&(this.initialScale=null):(this.initialScale=this.graph.view.scale,this.active||null==this.mouseDownEvent||(this.start(this.mouseDownEvent),this.mouseDownEvent=null));if(null!=this.initialScale){var $e$$=Math.round(this.initialScale*$b$$.scale*100)/100;null!=this.minScale&&($e$$=Math.max(this.minScale,
$e$$));null!=this.maxScale&&($e$$=Math.min(this.maxScale,$e$$));this.graph.view.scale!=$e$$&&(this.graph.zoomTo($e$$),mxEvent.consume($b$$))}}}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.mouseUpListener=mxUtils.bind(this,function(){this.active&&this.reset()}),mxEvent.addListener(document,"mouseup",this.mouseUpListener))}mxPanningHandler.prototype=new mxEventSource;mxPanningHandler.prototype.constructor=mxPanningHandler;mxPanningHandler.prototype.graph=null;
mxPanningHandler.prototype.useLeftButtonForPanning=!1;mxPanningHandler.prototype.usePopupTrigger=!0;mxPanningHandler.prototype.ignoreCell=!1;mxPanningHandler.prototype.previewEnabled=!0;mxPanningHandler.prototype.useGrid=!1;mxPanningHandler.prototype.panningEnabled=!0;mxPanningHandler.prototype.pinchEnabled=!0;mxPanningHandler.prototype.maxScale=8;mxPanningHandler.prototype.minScale=.01;mxPanningHandler.prototype.dx=null;mxPanningHandler.prototype.dy=null;mxPanningHandler.prototype.startX=0;
mxPanningHandler.prototype.startY=0;mxPanningHandler.prototype.isActive=function $mxPanningHandler$$isActive$(){return this.active||null!=this.initialScale};mxPanningHandler.prototype.isPanningEnabled=function $mxPanningHandler$$isPanningEnabled$(){return this.panningEnabled};mxPanningHandler.prototype.setPanningEnabled=function $mxPanningHandler$$setPanningEnabled$($a$$){this.panningEnabled=$a$$};mxPanningHandler.prototype.isPinchEnabled=function $mxPanningHandler$$isPinchEnabled$(){return this.pinchEnabled};
mxPanningHandler.prototype.setPinchEnabled=function $mxPanningHandler$$setPinchEnabled$($a$$){this.pinchEnabled=$a$$};mxPanningHandler.prototype.isPanningTrigger=function $mxPanningHandler$$isPanningTrigger$($a$$){var $b$$=$a$$.getEvent();return this.useLeftButtonForPanning&&null==$a$$.getState()&&mxEvent.isLeftMouseButton($b$$)||mxEvent.isControlDown($b$$)&&mxEvent.isShiftDown($b$$)||this.usePopupTrigger&&mxEvent.isPopupTrigger($b$$)};
mxPanningHandler.prototype.isForcePanningEvent=function $mxPanningHandler$$isForcePanningEvent$($a$$){return this.ignoreCell||mxEvent.isMultiTouchEvent($a$$.getEvent())};mxPanningHandler.prototype.mouseDown=function $mxPanningHandler$$mouseDown$($a$$,$b$$){this.mouseDownEvent=$b$$;!$b$$.isConsumed()&&this.isPanningEnabled()&&!this.active&&this.isPanningTrigger($b$$)&&(this.start($b$$),this.consumePanningTrigger($b$$))};
mxPanningHandler.prototype.start=function $mxPanningHandler$$start$($a$$){this.dx0=-this.graph.container.scrollLeft;this.dy0=-this.graph.container.scrollTop;this.startX=$a$$.getX();this.startY=$a$$.getY();this.dy=this.dx=null;this.panningTrigger=!0};mxPanningHandler.prototype.consumePanningTrigger=function $mxPanningHandler$$consumePanningTrigger$($a$$){$a$$.consume()};
mxPanningHandler.prototype.mouseMove=function $mxPanningHandler$$mouseMove$($a$$,$b$$){this.dx=$b$$.getX()-this.startX;this.dy=$b$$.getY()-this.startY;if(this.active)this.previewEnabled&&(this.useGrid&&(this.dx=this.graph.snap(this.dx),this.dy=this.graph.snap(this.dy)),this.graph.panGraph(this.dx+this.dx0,this.dy+this.dy0)),this.fireEvent(new mxEventObject(mxEvent.PAN,"event",$b$$));else if(this.panningTrigger){var $c$$=this.active;this.active=Math.abs(this.dx)>this.graph.tolerance||Math.abs(this.dy)>
this.graph.tolerance;!$c$$&&this.active&&this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",$b$$))}(this.active||this.panningTrigger)&&$b$$.consume()};
mxPanningHandler.prototype.mouseUp=function $mxPanningHandler$$mouseUp$($a$$,$b$$){if(this.active){if(null!=this.dx&&null!=this.dy){if(!this.graph.useScrollbarsForPanning||!mxUtils.hasScrollbars(this.graph.container)){var $c$$=this.graph.getView().scale,$d$$=this.graph.getView().translate;this.graph.panGraph(0,0);this.panGraph($d$$.x+this.dx/$c$$,$d$$.y+this.dy/$c$$)}$b$$.consume()}this.fireEvent(new mxEventObject(mxEvent.PAN_END,"event",$b$$))}this.reset()};
mxPanningHandler.prototype.reset=function $mxPanningHandler$$reset$(){this.panningTrigger=!1;this.mouseDownEvent=null;this.active=!1;this.dy=this.dx=null};mxPanningHandler.prototype.panGraph=function $mxPanningHandler$$panGraph$($a$$,$b$$){this.graph.getView().setTranslate($a$$,$b$$)};
mxPanningHandler.prototype.destroy=function $mxPanningHandler$$destroy$(){this.graph.removeMouseListener(this);this.graph.removeListener(this.forcePanningHandler);this.graph.removeListener(this.gestureHandler);mxEvent.removeListener(document,"mouseup",this.mouseUpListener)};
function mxPopupMenuHandler($a$jscomp$0$$,$b$jscomp$0$$){null!=$a$jscomp$0$$&&(this.graph=$a$jscomp$0$$,this.factoryMethod=$b$jscomp$0$$,this.graph.addMouseListener(this),this.gestureHandler=mxUtils.bind(this,function($a$$,$b$$){this.inTolerance=!1}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.init())}mxPopupMenuHandler.prototype=new mxPopupMenu;mxPopupMenuHandler.prototype.constructor=mxPopupMenuHandler;mxPopupMenuHandler.prototype.graph=null;
mxPopupMenuHandler.prototype.selectOnPopup=!0;mxPopupMenuHandler.prototype.clearSelectionOnBackground=!0;mxPopupMenuHandler.prototype.triggerX=null;mxPopupMenuHandler.prototype.triggerY=null;mxPopupMenuHandler.prototype.screenX=null;mxPopupMenuHandler.prototype.screenY=null;mxPopupMenuHandler.prototype.init=function $mxPopupMenuHandler$$init$(){mxPopupMenu.prototype.init.apply(this);mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function($a$$){this.graph.tooltipHandler.hide()}))};
mxPopupMenuHandler.prototype.isSelectOnPopup=function $mxPopupMenuHandler$$isSelectOnPopup$($a$$){return this.selectOnPopup};
mxPopupMenuHandler.prototype.mouseDown=function $mxPopupMenuHandler$$mouseDown$($a$$,$b$$){this.isEnabled()&&!mxEvent.isMultiTouchEvent($b$$.getEvent())&&(this.hideMenu(),this.triggerX=$b$$.getGraphX(),this.triggerY=$b$$.getGraphY(),this.screenX=mxEvent.getMainEvent($b$$.getEvent()).screenX,this.screenY=mxEvent.getMainEvent($b$$.getEvent()).screenY,this.popupTrigger=this.isPopupTrigger($b$$),this.inTolerance=!0)};
mxPopupMenuHandler.prototype.mouseMove=function $mxPopupMenuHandler$$mouseMove$($a$$,$b$$){this.inTolerance&&null!=this.screenX&&null!=this.screenY&&(Math.abs(mxEvent.getMainEvent($b$$.getEvent()).screenX-this.screenX)>this.graph.tolerance||Math.abs(mxEvent.getMainEvent($b$$.getEvent()).screenY-this.screenY)>this.graph.tolerance)&&(this.inTolerance=!1)};
mxPopupMenuHandler.prototype.mouseUp=function $mxPopupMenuHandler$$mouseUp$($a$$,$b$$){if(this.popupTrigger&&this.inTolerance&&null!=this.triggerX&&null!=this.triggerY){var $c$$=this.getCellForPopupEvent($b$$);this.graph.isEnabled()&&this.isSelectOnPopup($b$$)&&null!=$c$$&&!this.graph.isCellSelected($c$$)?this.graph.setSelectionCell($c$$):this.clearSelectionOnBackground&&null==$c$$&&this.graph.clearSelection();this.graph.tooltipHandler.hide();var $d$$=mxUtils.getScrollOrigin();this.popup($b$$.getX()+
$d$$.x+1,$b$$.getY()+$d$$.y+1,$c$$,$b$$.getEvent());$b$$.consume()}this.inTolerance=this.popupTrigger=!1};mxPopupMenuHandler.prototype.getCellForPopupEvent=function $mxPopupMenuHandler$$getCellForPopupEvent$($a$$){return $a$$.getCell()};mxPopupMenuHandler.prototype.destroy=function $mxPopupMenuHandler$$destroy$(){this.graph.removeMouseListener(this);this.graph.removeListener(this.gestureHandler);mxPopupMenu.prototype.destroy.apply(this)};
function mxCellMarker($a$$,$b$$,$c$$,$d$$){mxEventSource.call(this);null!=$a$$&&(this.graph=$a$$,this.validColor=null!=$b$$?$b$$:mxConstants.DEFAULT_VALID_COLOR,this.invalidColor=null!=$c$$?$c$$:mxConstants.DEFAULT_INVALID_COLOR,this.hotspot=null!=$d$$?$d$$:mxConstants.DEFAULT_HOTSPOT,this.highlight=new mxCellHighlight($a$$))}mxUtils.extend(mxCellMarker,mxEventSource);mxCellMarker.prototype.graph=null;mxCellMarker.prototype.enabled=!0;mxCellMarker.prototype.hotspot=mxConstants.DEFAULT_HOTSPOT;
mxCellMarker.prototype.hotspotEnabled=!1;mxCellMarker.prototype.validColor=null;mxCellMarker.prototype.invalidColor=null;mxCellMarker.prototype.currentColor=null;mxCellMarker.prototype.validState=null;mxCellMarker.prototype.markedState=null;mxCellMarker.prototype.setEnabled=function $mxCellMarker$$setEnabled$($a$$){this.enabled=$a$$};mxCellMarker.prototype.isEnabled=function $mxCellMarker$$isEnabled$(){return this.enabled};
mxCellMarker.prototype.setHotspot=function $mxCellMarker$$setHotspot$($a$$){this.hotspot=$a$$};mxCellMarker.prototype.getHotspot=function $mxCellMarker$$getHotspot$(){return this.hotspot};mxCellMarker.prototype.setHotspotEnabled=function $mxCellMarker$$setHotspotEnabled$($a$$){this.hotspotEnabled=$a$$};mxCellMarker.prototype.isHotspotEnabled=function $mxCellMarker$$isHotspotEnabled$(){return this.hotspotEnabled};
mxCellMarker.prototype.hasValidState=function $mxCellMarker$$hasValidState$(){return null!=this.validState};mxCellMarker.prototype.getValidState=function $mxCellMarker$$getValidState$(){return this.validState};mxCellMarker.prototype.getMarkedState=function $mxCellMarker$$getMarkedState$(){return this.markedState};mxCellMarker.prototype.reset=function $mxCellMarker$$reset$(){this.validState=null;null!=this.markedState&&(this.markedState=null,this.unmark())};
mxCellMarker.prototype.process=function $mxCellMarker$$process$($a$$){var $b$$=null;this.isEnabled()&&($b$$=this.getState($a$$),this.setCurrentState($b$$,$a$$));return $b$$};
mxCellMarker.prototype.setCurrentState=function $mxCellMarker$$setCurrentState$($a$$,$b$$,$c$$){var $d$$=null!=$a$$?this.isValidState($a$$):!1;$c$$=null!=$c$$?$c$$:this.getMarkerColor($b$$.getEvent(),$a$$,$d$$);this.validState=$d$$?$a$$:null;if($a$$!=this.markedState||$c$$!=this.currentColor)this.currentColor=$c$$,null!=$a$$&&null!=this.currentColor?(this.markedState=$a$$,this.mark()):null!=this.markedState&&(this.markedState=null,this.unmark())};
mxCellMarker.prototype.markCell=function $mxCellMarker$$markCell$($a$$,$b$$){var $c$$=this.graph.getView().getState($a$$);null!=$c$$&&(this.currentColor=null!=$b$$?$b$$:this.validColor,this.markedState=$c$$,this.mark())};mxCellMarker.prototype.mark=function $mxCellMarker$$mark$(){this.highlight.setHighlightColor(this.currentColor);this.highlight.highlight(this.markedState);this.fireEvent(new mxEventObject(mxEvent.MARK,"state",this.markedState))};mxCellMarker.prototype.unmark=function $mxCellMarker$$unmark$(){this.mark()};
mxCellMarker.prototype.isValidState=function $mxCellMarker$$isValidState$($a$$){return!0};mxCellMarker.prototype.getMarkerColor=function $mxCellMarker$$getMarkerColor$($a$$,$b$$,$c$$){return $c$$?this.validColor:this.invalidColor};mxCellMarker.prototype.getState=function $mxCellMarker$$getState$($a$$){var $b$$=this.graph.getView(),$c$$=this.getCell($a$$),$b$$=this.getStateToMark($b$$.getState($c$$));return null!=$b$$&&this.intersects($b$$,$a$$)?$b$$:null};mxCellMarker.prototype.getCell=function $mxCellMarker$$getCell$($a$$){return $a$$.getCell()};
mxCellMarker.prototype.getStateToMark=function $mxCellMarker$$getStateToMark$($a$$){return $a$$};mxCellMarker.prototype.intersects=function $mxCellMarker$$intersects$($a$$,$b$$){return this.hotspotEnabled?mxUtils.intersectsHotspot($a$$,$b$$.getGraphX(),$b$$.getGraphY(),this.hotspot,mxConstants.MIN_HOTSPOT_SIZE,mxConstants.MAX_HOTSPOT_SIZE):!0};
mxCellMarker.prototype.destroy=function $mxCellMarker$$destroy$(){this.graph.getView().removeListener(this.resetHandler);this.graph.getModel().removeListener(this.resetHandler);this.highlight.destroy()};
function mxSelectionCellsHandler($a$jscomp$0$$){mxEventSource.call(this);this.graph=$a$jscomp$0$$;this.handlers=new mxDictionary;this.graph.addMouseListener(this);this.refreshHandler=mxUtils.bind(this,function($a$$,$c$$){this.isEnabled()&&this.refresh()});this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.refreshHandler);this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler);this.graph.getView().addListener(mxEvent.SCALE,this.refreshHandler);this.graph.getView().addListener(mxEvent.TRANSLATE,
this.refreshHandler);this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.refreshHandler);this.graph.getView().addListener(mxEvent.DOWN,this.refreshHandler);this.graph.getView().addListener(mxEvent.UP,this.refreshHandler)}mxUtils.extend(mxSelectionCellsHandler,mxEventSource);mxSelectionCellsHandler.prototype.graph=null;mxSelectionCellsHandler.prototype.enabled=!0;mxSelectionCellsHandler.prototype.refreshHandler=null;mxSelectionCellsHandler.prototype.maxHandlers=100;
mxSelectionCellsHandler.prototype.handlers=null;mxSelectionCellsHandler.prototype.isEnabled=function $mxSelectionCellsHandler$$isEnabled$(){return this.enabled};mxSelectionCellsHandler.prototype.setEnabled=function $mxSelectionCellsHandler$$setEnabled$($a$$){this.enabled=$a$$};mxSelectionCellsHandler.prototype.getHandler=function $mxSelectionCellsHandler$$getHandler$($a$$){return this.handlers.get($a$$)};
mxSelectionCellsHandler.prototype.reset=function $mxSelectionCellsHandler$$reset$(){this.handlers.visit(function($a$$,$b$$){$b$$.reset.apply($b$$)})};
mxSelectionCellsHandler.prototype.refresh=function $mxSelectionCellsHandler$$refresh$(){var $a$jscomp$0$$=this.handlers;this.handlers=new mxDictionary;for(var $b$jscomp$0$$=this.graph.getSelectionCells(),$c$$=0;$c$$<$b$jscomp$0$$.length;$c$$++){var $d$$=this.graph.view.getState($b$jscomp$0$$[$c$$]);if(null!=$d$$){var $e$$=$a$jscomp$0$$.remove($b$jscomp$0$$[$c$$]);null!=$e$$&&($e$$.state!=$d$$?($e$$.destroy(),$e$$=null):this.isHandlerActive($e$$)||(null!=$e$$.refresh&&$e$$.refresh(),$e$$.redraw()));
null==$e$$&&($e$$=this.graph.createHandler($d$$),this.fireEvent(new mxEventObject(mxEvent.ADD,"state",$d$$)));null!=$e$$&&this.handlers.put($b$jscomp$0$$[$c$$],$e$$)}}$a$jscomp$0$$.visit(mxUtils.bind(this,function($a$$,$b$$){this.fireEvent(new mxEventObject(mxEvent.REMOVE,"state",$b$$.state));$b$$.destroy()}))};mxSelectionCellsHandler.prototype.isHandlerActive=function $mxSelectionCellsHandler$$isHandlerActive$($a$$){return null!=$a$$.index};
mxSelectionCellsHandler.prototype.updateHandler=function $mxSelectionCellsHandler$$updateHandler$($a$$){var $b$$=this.handlers.remove($a$$.cell);null!=$b$$&&($b$$.destroy(),$b$$=this.graph.createHandler($a$$),null!=$b$$&&this.handlers.put($a$$.cell,$b$$))};
mxSelectionCellsHandler.prototype.mouseDown=function $mxSelectionCellsHandler$$mouseDown$($a$jscomp$0$$,$b$jscomp$0$$){if(this.graph.isEnabled()&&this.isEnabled()){var $c$$=[$a$jscomp$0$$,$b$jscomp$0$$];this.handlers.visit(function($a$$,$b$$){$b$$.mouseDown.apply($b$$,$c$$)})}};
mxSelectionCellsHandler.prototype.mouseMove=function $mxSelectionCellsHandler$$mouseMove$($a$jscomp$0$$,$b$jscomp$0$$){if(this.graph.isEnabled()&&this.isEnabled()){var $c$$=[$a$jscomp$0$$,$b$jscomp$0$$];this.handlers.visit(function($a$$,$b$$){$b$$.mouseMove.apply($b$$,$c$$)})}};
mxSelectionCellsHandler.prototype.mouseUp=function $mxSelectionCellsHandler$$mouseUp$($a$jscomp$0$$,$b$jscomp$0$$){if(this.graph.isEnabled()&&this.isEnabled()){var $c$$=[$a$jscomp$0$$,$b$jscomp$0$$];this.handlers.visit(function($a$$,$b$$){$b$$.mouseUp.apply($b$$,$c$$)})}};
mxSelectionCellsHandler.prototype.destroy=function $mxSelectionCellsHandler$$destroy$(){this.graph.removeMouseListener(this);null!=this.refreshHandler&&(this.graph.getSelectionModel().removeListener(this.refreshHandler),this.graph.getModel().removeListener(this.refreshHandler),this.graph.getView().removeListener(this.refreshHandler),this.refreshHandler=null)};
function mxConnectionHandler($a$jscomp$0$$,$b$jscomp$0$$){mxEventSource.call(this);null!=$a$jscomp$0$$&&(this.graph=$a$jscomp$0$$,this.factoryMethod=$b$jscomp$0$$,this.init(),this.escapeHandler=mxUtils.bind(this,function($a$$,$b$$){this.reset()}),this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}mxUtils.extend(mxConnectionHandler,mxEventSource);mxConnectionHandler.prototype.graph=null;mxConnectionHandler.prototype.factoryMethod=!0;mxConnectionHandler.prototype.moveIconFront=!1;
mxConnectionHandler.prototype.moveIconBack=!1;mxConnectionHandler.prototype.connectImage=null;mxConnectionHandler.prototype.targetConnectImage=!1;mxConnectionHandler.prototype.enabled=!0;mxConnectionHandler.prototype.select=!0;mxConnectionHandler.prototype.createTarget=!1;mxConnectionHandler.prototype.marker=null;mxConnectionHandler.prototype.constraintHandler=null;mxConnectionHandler.prototype.error=null;mxConnectionHandler.prototype.waypointsEnabled=!1;
mxConnectionHandler.prototype.ignoreMouseDown=!1;mxConnectionHandler.prototype.first=null;mxConnectionHandler.prototype.connectIconOffset=new mxPoint(0,mxConstants.TOOLTIP_VERTICAL_OFFSET);mxConnectionHandler.prototype.edgeState=null;mxConnectionHandler.prototype.changeHandler=null;mxConnectionHandler.prototype.drillHandler=null;mxConnectionHandler.prototype.mouseDownCounter=0;mxConnectionHandler.prototype.movePreviewAway=mxClient.IS_VML;mxConnectionHandler.prototype.outlineConnect=!1;
mxConnectionHandler.prototype.livePreview=!1;mxConnectionHandler.prototype.cursor=null;mxConnectionHandler.prototype.insertBeforeSource=!1;mxConnectionHandler.prototype.isEnabled=function $mxConnectionHandler$$isEnabled$(){return this.enabled};mxConnectionHandler.prototype.setEnabled=function $mxConnectionHandler$$setEnabled$($a$$){this.enabled=$a$$};
mxConnectionHandler.prototype.isInsertBefore=function $mxConnectionHandler$$isInsertBefore$($a$$,$b$$,$c$$,$d$$,$e$$){return this.insertBeforeSource&&$b$$!=$c$$};mxConnectionHandler.prototype.isCreateTarget=function $mxConnectionHandler$$isCreateTarget$($a$$){return this.createTarget};mxConnectionHandler.prototype.setCreateTarget=function $mxConnectionHandler$$setCreateTarget$($a$$){this.createTarget=$a$$};
mxConnectionHandler.prototype.createShape=function $mxConnectionHandler$$createShape$(){var $a$$=this.livePreview&&null!=this.edgeState?this.graph.cellRenderer.createShape(this.edgeState):new mxPolyline([],mxConstants.INVALID_COLOR);$a$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG;$a$$.scale=this.graph.view.scale;$a$$.pointerEvents=!1;$a$$.isDashed=!0;$a$$.init(this.graph.getView().getOverlayPane());mxEvent.redirectMouseEvents($a$$.node,this.graph,
null);return $a$$};
mxConnectionHandler.prototype.init=function $mxConnectionHandler$$init$(){this.graph.addMouseListener(this);this.marker=this.createMarker();this.constraintHandler=new mxConstraintHandler(this.graph);this.changeHandler=mxUtils.bind(this,function($a$$){null!=this.iconState&&(this.iconState=this.graph.getView().getState(this.iconState.cell));null!=this.iconState?(this.redrawIcons(this.icons,this.iconState),this.constraintHandler.reset()):null!=this.previous&&null==this.graph.view.getState(this.previous.cell)&&this.reset()});
this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler);this.graph.getView().addListener(mxEvent.SCALE,this.changeHandler);this.graph.getView().addListener(mxEvent.TRANSLATE,this.changeHandler);this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.changeHandler);this.drillHandler=mxUtils.bind(this,function($a$$){this.reset()});this.graph.addListener(mxEvent.START_EDITING,this.drillHandler);this.graph.getView().addListener(mxEvent.DOWN,this.drillHandler);this.graph.getView().addListener(mxEvent.UP,
this.drillHandler)};mxConnectionHandler.prototype.isConnectableCell=function $mxConnectionHandler$$isConnectableCell$($a$$){return!0};
mxConnectionHandler.prototype.createMarker=function $mxConnectionHandler$$createMarker$(){var $a$$=new mxCellMarker(this.graph);$a$$.hotspotEnabled=!0;$a$$.getCell=mxUtils.bind(this,function($b$$){var $c$$=mxCellMarker.prototype.getCell.apply($a$$,arguments);this.error=null;null==$c$$&&null!=this.currentPoint&&($c$$=this.graph.getCellAt(this.currentPoint.x,this.currentPoint.y));if(null!=$c$$&&!this.graph.isCellConnectable($c$$)){var $d$$=this.graph.getModel().getParent($c$$);this.graph.getModel().isVertex($d$$)&&
this.graph.isCellConnectable($d$$)&&($c$$=$d$$)}if(this.graph.isSwimlane($c$$)&&null!=this.currentPoint&&this.graph.hitsSwimlaneContent($c$$,this.currentPoint.x,this.currentPoint.y)||!this.isConnectableCell($c$$))$c$$=null;null!=$c$$?this.isConnecting()?null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,$c$$),null!=this.error&&0==this.error.length&&($c$$=null,this.isCreateTarget($b$$.getEvent())&&(this.error=null))):this.isValidSource($c$$,$b$$)||($c$$=null):!this.isConnecting()||
this.isCreateTarget($b$$.getEvent())||this.graph.allowDanglingEdges||(this.error="");return $c$$});$a$$.isValidState=mxUtils.bind(this,function($b$$){return this.isConnecting()?null==this.error:mxCellMarker.prototype.isValidState.apply($a$$,arguments)});$a$$.getMarkerColor=mxUtils.bind(this,function($b$$,$c$$,$d$$){return null==this.connectImage||this.isConnecting()?mxCellMarker.prototype.getMarkerColor.apply($a$$,arguments):null});$a$$.intersects=mxUtils.bind(this,function($b$$,$c$$){return null!=
this.connectImage||this.isConnecting()?!0:mxCellMarker.prototype.intersects.apply($a$$,arguments)});return $a$$};mxConnectionHandler.prototype.start=function $mxConnectionHandler$$start$($a$$,$b$$,$c$$,$d$$){this.previous=$a$$;this.first=new mxPoint($b$$,$c$$);this.edgeState=null!=$d$$?$d$$:this.createEdgeState(null);this.marker.currentColor=this.marker.validColor;this.marker.markedState=$a$$;this.marker.mark();this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous))};
mxConnectionHandler.prototype.isConnecting=function $mxConnectionHandler$$isConnecting$(){return null!=this.first&&null!=this.shape};mxConnectionHandler.prototype.isValidSource=function $mxConnectionHandler$$isValidSource$($a$$,$b$$){return this.graph.isValidSource($a$$)};mxConnectionHandler.prototype.isValidTarget=function $mxConnectionHandler$$isValidTarget$($a$$){return!0};
mxConnectionHandler.prototype.validateConnection=function $mxConnectionHandler$$validateConnection$($a$$,$b$$){return this.isValidTarget($b$$)?this.graph.getEdgeValidationError(null,$a$$,$b$$):""};mxConnectionHandler.prototype.getConnectImage=function $mxConnectionHandler$$getConnectImage$($a$$){return this.connectImage};
mxConnectionHandler.prototype.isMoveIconToFrontForState=function $mxConnectionHandler$$isMoveIconToFrontForState$($a$$){return null!=$a$$.text&&$a$$.text.node.parentNode==this.graph.container?!0:this.moveIconFront};
mxConnectionHandler.prototype.createIcons=function $mxConnectionHandler$$createIcons$($a$jscomp$0$$){var $b$$=this.getConnectImage($a$jscomp$0$$);if(null!=$b$$&&null!=$a$jscomp$0$$){this.iconState=$a$jscomp$0$$;var $c$$=[],$d$$=new mxRectangle(0,0,$b$$.width,$b$$.height),$e$$=new mxImageShape($d$$,$b$$.src,null,null,0);$e$$.preserveImageAspect=!1;this.isMoveIconToFrontForState($a$jscomp$0$$)?($e$$.dialect=mxConstants.DIALECT_STRICTHTML,$e$$.init(this.graph.container)):($e$$.dialect=this.graph.dialect==
mxConstants.DIALECT_SVG?mxConstants.DIALECT_SVG:mxConstants.DIALECT_VML,$e$$.init(this.graph.getView().getOverlayPane()),this.moveIconBack&&null!=$e$$.node.previousSibling&&$e$$.node.parentNode.insertBefore($e$$.node,$e$$.node.parentNode.firstChild));$e$$.node.style.cursor=mxConstants.CURSOR_CONNECT;var $f$$=mxUtils.bind(this,function(){return null!=this.currentState?this.currentState:$a$jscomp$0$$}),$b$$=mxUtils.bind(this,function($a$$){mxEvent.isConsumed($a$$)||(this.icon=$e$$,this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,
new mxMouseEvent($a$$,$f$$())))});mxEvent.redirectMouseEvents($e$$.node,this.graph,$f$$,$b$$);$c$$.push($e$$);this.redrawIcons($c$$,this.iconState);return $c$$}return null};mxConnectionHandler.prototype.redrawIcons=function $mxConnectionHandler$$redrawIcons$($a$$,$b$$){if(null!=$a$$&&null!=$a$$[0]&&null!=$b$$){var $c$$=this.getIconPosition($a$$[0],$b$$);$a$$[0].bounds.x=$c$$.x;$a$$[0].bounds.y=$c$$.y;$a$$[0].redraw()}};
mxConnectionHandler.prototype.getIconPosition=function $mxConnectionHandler$$getIconPosition$($a$$,$b$$){var $c$$=this.graph.getView().scale,$d$$=$b$$.getCenterX(),$e$$=$b$$.getCenterY();if(this.graph.isSwimlane($b$$.cell)){var $f$$=this.graph.getStartSize($b$$.cell),$d$$=0!=$f$$.width?$b$$.x+$f$$.width*$c$$/2:$d$$,$e$$=0!=$f$$.height?$b$$.y+$f$$.height*$c$$/2:$e$$,$f$$=mxUtils.toRadians(mxUtils.getValue($b$$.style,mxConstants.STYLE_ROTATION)||0);if(0!=$f$$)var $c$$=Math.cos($f$$),$f$$=Math.sin($f$$),
$g$$=new mxPoint($b$$.getCenterX(),$b$$.getCenterY()),$e$$=mxUtils.getRotatedPoint(new mxPoint($d$$,$e$$),$c$$,$f$$,$g$$),$d$$=$e$$.x,$e$$=$e$$.y}return new mxPoint($d$$-$a$$.bounds.width/2,$e$$-$a$$.bounds.height/2)};mxConnectionHandler.prototype.destroyIcons=function $mxConnectionHandler$$destroyIcons$(){if(null!=this.icons){for(var $a$$=0;$a$$<this.icons.length;$a$$++)this.icons[$a$$].destroy();this.iconState=this.selectedIcon=this.icon=this.icons=null}};
mxConnectionHandler.prototype.isStartEvent=function $mxConnectionHandler$$isStartEvent$($a$$){return null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint||null!=this.previous&&null==this.error&&(null==this.icons||null!=this.icons&&null!=this.icon)};
mxConnectionHandler.prototype.mouseDown=function $mxConnectionHandler$$mouseDown$($a$$,$b$$){this.mouseDownCounter++;if(this.isEnabled()&&this.graph.isEnabled()&&!$b$$.isConsumed()&&!this.isConnecting()&&this.isStartEvent($b$$)){null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(this.sourceConstraint=this.constraintHandler.currentConstraint,this.previous=this.constraintHandler.currentFocus,this.first=this.constraintHandler.currentPoint.clone()):
this.first=new mxPoint($b$$.getGraphX(),$b$$.getGraphY());this.edgeState=this.createEdgeState($b$$);this.mouseDownCounter=1;this.waypointsEnabled&&null==this.shape&&(this.waypoints=null,this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState));if(null==this.previous&&null!=this.edgeState){var $c$$=this.graph.getPointForEvent($b$$.getEvent());this.edgeState.cell.geometry.setTerminalPoint($c$$,!0)}this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous));$b$$.consume()}this.selectedIcon=
this.icon;this.icon=null};mxConnectionHandler.prototype.isImmediateConnectSource=function $mxConnectionHandler$$isImmediateConnectSource$($a$$){return!this.graph.isCellMovable($a$$.cell)};mxConnectionHandler.prototype.createEdgeState=function $mxConnectionHandler$$createEdgeState$($a$$){return null};
mxConnectionHandler.prototype.isOutlineConnectEvent=function $mxConnectionHandler$$isOutlineConnectEvent$($a$$){var $b$$=mxUtils.getOffset(this.graph.container),$c$$=$a$$.getEvent(),$d$$=mxEvent.getClientX($c$$),$c$$=mxEvent.getClientY($c$$),$e$$=document.documentElement,$f$$=this.currentPoint.x-this.graph.container.scrollLeft+$b$$.x-((window.pageXOffset||$e$$.scrollLeft)-($e$$.clientLeft||0)),$b$$=this.currentPoint.y-this.graph.container.scrollTop+$b$$.y-((window.pageYOffset||$e$$.scrollTop)-($e$$.clientTop||
0));return this.outlineConnect&&!mxEvent.isShiftDown($a$$.getEvent())&&($a$$.isSource(this.marker.highlight.shape)||mxEvent.isAltDown($a$$.getEvent())&&null!=$a$$.getState()||this.marker.highlight.isHighlightAt($d$$,$c$$)||($f$$!=$d$$||$b$$!=$c$$)&&null==$a$$.getState()&&this.marker.highlight.isHighlightAt($f$$,$b$$))};
mxConnectionHandler.prototype.updateCurrentState=function $mxConnectionHandler$$updateCurrentState$($a$$,$b$$){this.constraintHandler.update($a$$,null==this.first,!1,null==this.first||$a$$.isSource(this.marker.highlight.shape)?null:$b$$);if(null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint)null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&
(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,this.constraintHandler.currentFocus.cell),null==this.error?this.currentState=this.constraintHandler.currentFocus:this.constraintHandler.reset());else{this.graph.isIgnoreTerminalEvent($a$$.getEvent())?(this.marker.reset(),this.currentState=null):(this.marker.process($a$$),
this.currentState=this.marker.getValidState(),null==this.currentState||this.isCellEnabled(this.currentState.cell)||(this.currentState=null));var $c$$=this.isOutlineConnectEvent($a$$);null!=this.currentState&&$c$$&&($a$$.isSource(this.marker.highlight.shape)&&($b$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY())),$c$$=this.graph.getOutlineConstraint($b$$,this.currentState,$a$$),this.constraintHandler.setFocus($a$$,this.currentState,!1),this.constraintHandler.currentConstraint=$c$$,this.constraintHandler.currentPoint=
$b$$);this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape&&($c$$=this.graph.view.scale,null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=mxConstants.OUTLINE_HIGHLIGHT_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/$c$$/$c$$,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.getValidState()!=$a$$.getState()?(this.marker.highlight.shape.stroke=
"transparent",this.currentState=null):this.marker.highlight.shape.stroke=mxConstants.DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/$c$$/$c$$,this.marker.highlight.repaint()))}};mxConnectionHandler.prototype.isCellEnabled=function $mxConnectionHandler$$isCellEnabled$($a$$){return!0};
mxConnectionHandler.prototype.convertWaypoint=function $mxConnectionHandler$$convertWaypoint$($a$$){var $b$$=this.graph.getView().getScale(),$c$$=this.graph.getView().getTranslate();$a$$.x=$a$$.x/$b$$-$c$$.x;$a$$.y=$a$$.y/$b$$-$c$$.y};
mxConnectionHandler.prototype.snapToPreview=function $mxConnectionHandler$$snapToPreview$($a$$,$b$$){if(!mxEvent.isAltDown($a$$.getEvent())&&null!=this.previous){var $c$$=this.graph.gridSize*this.graph.view.scale/2,$d$$=null!=this.sourceConstraint?this.first:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY());Math.abs($d$$.x-$a$$.getGraphX())<$c$$&&($b$$.x=$d$$.x);Math.abs($d$$.y-$a$$.getGraphY())<$c$$&&($b$$.y=$d$$.y)}};
mxConnectionHandler.prototype.mouseMove=function $mxConnectionHandler$$mouseMove$($a$$,$b$$){if($b$$.isConsumed()||!this.ignoreMouseDown&&null==this.first&&this.graph.isMouseDown)this.constraintHandler.reset();else{this.isEnabled()||null==this.currentState||(this.destroyIcons(),this.currentState=null);var $c$$=this.graph.getView(),$d$$=$c$$.scale,$e$$=$c$$.translate,$c$$=new mxPoint($b$$.getGraphX(),$b$$.getGraphY());this.error=null;this.graph.isGridEnabledEvent($b$$.getEvent())&&($c$$=new mxPoint((this.graph.snap($c$$.x/
$d$$-$e$$.x)+$e$$.x)*$d$$,(this.graph.snap($c$$.y/$d$$-$e$$.y)+$e$$.y)*$d$$));this.snapToPreview($b$$,$c$$);this.currentPoint=$c$$;(null!=this.first||this.isEnabled()&&this.graph.isEnabled())&&(null!=this.shape||null==this.first||Math.abs($b$$.getGraphX()-this.first.x)>this.graph.tolerance||Math.abs($b$$.getGraphY()-this.first.y)>this.graph.tolerance)&&this.updateCurrentState($b$$,$c$$);if(null!=this.first){var $f$$=null,$d$$=$c$$;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&
null!=this.constraintHandler.currentPoint?($f$$=this.constraintHandler.currentConstraint,$d$$=this.constraintHandler.currentPoint.clone()):null!=this.previous&&!this.graph.isIgnoreTerminalEvent($b$$.getEvent())&&mxEvent.isShiftDown($b$$.getEvent())&&(Math.abs(this.previous.getCenterX()-$c$$.x)<Math.abs(this.previous.getCenterY()-$c$$.y)?$c$$.x=this.previous.getCenterX():$c$$.y=this.previous.getCenterY());$e$$=this.first;if(null!=this.selectedIcon){var $g$$=this.selectedIcon.bounds.width,$k$$=this.selectedIcon.bounds.height;
null!=this.currentState&&this.targetConnectImage?($g$$=this.getIconPosition(this.selectedIcon,this.currentState),this.selectedIcon.bounds.x=$g$$.x,this.selectedIcon.bounds.y=$g$$.y):($g$$=new mxRectangle($b$$.getGraphX()+this.connectIconOffset.x,$b$$.getGraphY()+this.connectIconOffset.y,$g$$,$k$$),this.selectedIcon.bounds=$g$$);this.selectedIcon.redraw()}null!=this.edgeState?(this.updateEdgeState($d$$,$f$$),$d$$=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-1],$e$$=this.edgeState.absolutePoints[0]):
(null!=this.currentState&&null==this.constraintHandler.currentConstraint&&($g$$=this.getTargetPerimeterPoint(this.currentState,$b$$),null!=$g$$&&($d$$=$g$$)),null==this.sourceConstraint&&null!=this.previous&&($g$$=this.getSourcePerimeterPoint(this.previous,null!=this.waypoints&&0<this.waypoints.length?this.waypoints[0]:$d$$,$b$$),null!=$g$$&&($e$$=$g$$)));if(null==this.currentState&&this.movePreviewAway){$g$$=$e$$;null!=this.edgeState&&2<=this.edgeState.absolutePoints.length&&($f$$=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-
2],null!=$f$$&&($g$$=$f$$));$f$$=$d$$.x-$g$$.x;$g$$=$d$$.y-$g$$.y;$k$$=Math.sqrt($f$$*$f$$+$g$$*$g$$);if(0==$k$$)return;this.originalPoint=$d$$.clone();$d$$.x-=4*$f$$/$k$$;$d$$.y-=4*$g$$/$k$$}else this.originalPoint=null;null==this.shape&&($f$$=Math.abs($b$$.getGraphX()-this.first.x),$g$$=Math.abs($b$$.getGraphY()-this.first.y),$f$$>this.graph.tolerance||$g$$>this.graph.tolerance)&&(this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState),this.updateCurrentState($b$$,$c$$));
null!=this.shape&&(null!=this.edgeState?this.shape.points=this.edgeState.absolutePoints:($c$$=[$e$$],null!=this.waypoints&&($c$$=$c$$.concat(this.waypoints)),$c$$.push($d$$),this.shape.points=$c$$),this.drawPreview());null!=this.cursor&&(this.graph.container.style.cursor=this.cursor);mxEvent.consume($b$$.getEvent());$b$$.consume()}else this.isEnabled()&&this.graph.isEnabled()?this.previous!=this.currentState&&null==this.edgeState?(this.destroyIcons(),null!=this.currentState&&null==this.error&&null==
this.constraintHandler.currentConstraint&&(this.icons=this.createIcons(this.currentState),null==this.icons&&(this.currentState.setCursor(mxConstants.CURSOR_CONNECT),$b$$.consume())),this.previous=this.currentState):this.previous!=this.currentState||null==this.currentState||null!=this.icons||this.graph.isMouseDown||$b$$.consume():this.constraintHandler.reset();if(!this.graph.isMouseDown&&null!=this.currentState&&null!=this.icons){$c$$=!1;$d$$=$b$$.getSource();for($e$$=0;$e$$<this.icons.length&&!$c$$;$e$$++)$c$$=
$d$$==this.icons[$e$$].node||$d$$.parentNode==this.icons[$e$$].node;$c$$||this.updateIcons(this.currentState,this.icons,$b$$)}}};
mxConnectionHandler.prototype.updateEdgeState=function $mxConnectionHandler$$updateEdgeState$($a$$,$b$$){null!=this.sourceConstraint&&null!=this.sourceConstraint.point&&(this.edgeState.style[mxConstants.STYLE_EXIT_X]=this.sourceConstraint.point.x,this.edgeState.style[mxConstants.STYLE_EXIT_Y]=this.sourceConstraint.point.y);null!=$b$$&&null!=$b$$.point?(this.edgeState.style[mxConstants.STYLE_ENTRY_X]=$b$$.point.x,this.edgeState.style[mxConstants.STYLE_ENTRY_Y]=$b$$.point.y):(delete this.edgeState.style[mxConstants.STYLE_ENTRY_X],
delete this.edgeState.style[mxConstants.STYLE_ENTRY_Y]);this.edgeState.absolutePoints=[null,null!=this.currentState?null:$a$$];this.graph.view.updateFixedTerminalPoint(this.edgeState,this.previous,!0,this.sourceConstraint);null!=this.currentState&&(null==$b$$&&($b$$=this.graph.getConnectionConstraint(this.edgeState,this.previous,!1)),this.edgeState.setAbsoluteTerminalPoint(null,!1),this.graph.view.updateFixedTerminalPoint(this.edgeState,this.currentState,!1,$b$$));var $c$$=null;if(null!=this.waypoints)for(var $c$$=
[],$d$$=0;$d$$<this.waypoints.length;$d$$++){var $e$$=this.waypoints[$d$$].clone();this.convertWaypoint($e$$);$c$$[$d$$]=$e$$}this.graph.view.updatePoints(this.edgeState,$c$$,this.previous,this.currentState);this.graph.view.updateFloatingTerminalPoints(this.edgeState,this.previous,this.currentState)};
mxConnectionHandler.prototype.getTargetPerimeterPoint=function $mxConnectionHandler$$getTargetPerimeterPoint$($a$$,$b$$){var $c$$=null,$d$$=$a$$.view,$e$$=$d$$.getPerimeterFunction($a$$);if(null!=$e$$){var $f$$=null!=this.waypoints&&0<this.waypoints.length?this.waypoints[this.waypoints.length-1]:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY()),$d$$=$e$$($d$$.getPerimeterBounds($a$$),this.edgeState,$f$$,!1);null!=$d$$&&($c$$=$d$$)}else $c$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());
return $c$$};
mxConnectionHandler.prototype.getSourcePerimeterPoint=function $mxConnectionHandler$$getSourcePerimeterPoint$($a$$,$b$$,$c$$){$c$$=null;var $d$$=$a$$.view,$e$$=$d$$.getPerimeterFunction($a$$),$f$$=new mxPoint($a$$.getCenterX(),$a$$.getCenterY());if(null!=$e$$){var $g$$=mxUtils.getValue($a$$.style,mxConstants.STYLE_ROTATION,0),$k$$=Math.PI/180*-$g$$;0!=$g$$&&($b$$=mxUtils.getRotatedPoint(new mxPoint($b$$.x,$b$$.y),Math.cos($k$$),Math.sin($k$$),$f$$));$a$$=$e$$($d$$.getPerimeterBounds($a$$),$a$$,$b$$,
!1);null!=$a$$&&(0!=$g$$&&($a$$=mxUtils.getRotatedPoint(new mxPoint($a$$.x,$a$$.y),Math.cos(-$k$$),Math.sin(-$k$$),$f$$)),$c$$=$a$$)}else $c$$=$f$$;return $c$$};mxConnectionHandler.prototype.updateIcons=function $mxConnectionHandler$$updateIcons$($a$$,$b$$,$c$$){};mxConnectionHandler.prototype.isStopEvent=function $mxConnectionHandler$$isStopEvent$($a$$){return null!=$a$$.getState()};
mxConnectionHandler.prototype.addWaypointForEvent=function $mxConnectionHandler$$addWaypointForEvent$($a$$){var $b$$=mxUtils.convertPoint(this.graph.container,$a$$.getX(),$a$$.getY()),$c$$=Math.abs($b$$.x-this.first.x),$b$$=Math.abs($b$$.y-this.first.y);if(null!=this.waypoints||1<this.mouseDownCounter&&($c$$>this.graph.tolerance||$b$$>this.graph.tolerance))null==this.waypoints&&(this.waypoints=[]),$c$$=this.graph.view.scale,$b$$=new mxPoint(this.graph.snap($a$$.getGraphX()/$c$$)*$c$$,this.graph.snap($a$$.getGraphY()/
$c$$)*$c$$),this.waypoints.push($b$$)};mxConnectionHandler.prototype.checkConstraints=function $mxConnectionHandler$$checkConstraints$($a$$,$b$$){return null==$a$$||null==$b$$||null==$a$$.point||null==$b$$.point||!$a$$.point.equals($b$$.point)||$a$$.perimeter!=$b$$.perimeter};
mxConnectionHandler.prototype.mouseUp=function $mxConnectionHandler$$mouseUp$($a$$,$b$$){if(!$b$$.isConsumed()&&this.isConnecting()){if(this.waypointsEnabled&&!this.isStopEvent($b$$)){this.addWaypointForEvent($b$$);$b$$.consume();return}var $c$$=this.sourceConstraint,$d$$=this.constraintHandler.currentConstraint,$e$$=null!=this.previous?this.previous.cell:null,$f$$=null;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&($f$$=this.constraintHandler.currentFocus.cell);
null==$f$$&&null!=this.currentState&&($f$$=this.currentState.cell);null!=this.error||null!=$e$$&&null!=$f$$&&$e$$==$f$$&&!this.checkConstraints($c$$,$d$$)?(null!=this.previous&&null!=this.marker.validState&&this.previous.cell==this.marker.validState.cell&&this.graph.selectCellForEvent(this.marker.source,$b$$.getEvent()),null!=this.error&&0<this.error.length&&this.graph.validationAlert(this.error)):this.connect($e$$,$f$$,$b$$.getEvent(),$b$$.getCell());this.destroyIcons();$b$$.consume()}null!=this.first&&
this.reset()};mxConnectionHandler.prototype.reset=function $mxConnectionHandler$$reset$(){null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.cursor&&null!=this.graph.container&&(this.graph.container.style.cursor="");this.destroyIcons();this.marker.reset();this.constraintHandler.reset();this.sourceConstraint=this.error=this.previous=this.edgeState=this.currentPoint=this.originalPoint=null;this.mouseDownCounter=0;this.first=null;this.fireEvent(new mxEventObject(mxEvent.RESET))};
mxConnectionHandler.prototype.drawPreview=function $mxConnectionHandler$$drawPreview$(){this.updatePreview(null==this.error);this.shape.redraw()};mxConnectionHandler.prototype.updatePreview=function $mxConnectionHandler$$updatePreview$($a$$){this.shape.strokewidth=this.getEdgeWidth($a$$);this.shape.stroke=this.getEdgeColor($a$$)};mxConnectionHandler.prototype.getEdgeColor=function $mxConnectionHandler$$getEdgeColor$($a$$){return $a$$?mxConstants.VALID_COLOR:mxConstants.INVALID_COLOR};
mxConnectionHandler.prototype.getEdgeWidth=function $mxConnectionHandler$$getEdgeWidth$($a$$){return $a$$?3:1};
mxConnectionHandler.prototype.connect=function $mxConnectionHandler$$connect$($a$$,$b$$,$c$$,$d$$){if(null!=$b$$||this.isCreateTarget($c$$)||this.graph.allowDanglingEdges){var $e$$=this.graph.getModel(),$f$$=!1,$g$$=null;$e$$.beginUpdate();try{if(null!=$a$$&&null==$b$$&&!this.graph.isIgnoreTerminalEvent($c$$)&&this.isCreateTarget($c$$)&&($b$$=this.createTargetVertex($c$$,$a$$),null!=$b$$)){$d$$=this.graph.getDropTarget([$b$$],$c$$,$d$$);$f$$=!0;if(null!=$d$$&&this.graph.getModel().isEdge($d$$))$d$$=
this.graph.getDefaultParent();else{var $k$$=this.graph.getView().getState($d$$);if(null!=$k$$){var $l$$=$e$$.getGeometry($b$$);$l$$.x-=$k$$.origin.x;$l$$.y-=$k$$.origin.y}}this.graph.addCell($b$$,$d$$)}var $m$$=this.graph.getDefaultParent();null!=$a$$&&null!=$b$$&&$e$$.getParent($a$$)==$e$$.getParent($b$$)&&$e$$.getParent($e$$.getParent($a$$))!=$e$$.getRoot()&&($m$$=$e$$.getParent($a$$),null!=$a$$.geometry&&$a$$.geometry.relative&&null!=$b$$.geometry&&$b$$.geometry.relative&&($m$$=$e$$.getParent($m$$)));
var $n$$=$k$$=null;null!=this.edgeState&&($k$$=this.edgeState.cell.value,$n$$=this.edgeState.cell.style);$g$$=this.insertEdge($m$$,null,$k$$,$a$$,$b$$,$n$$);if(null!=$g$$){this.graph.setConnectionConstraint($g$$,$a$$,!0,this.sourceConstraint);this.graph.setConnectionConstraint($g$$,$b$$,!1,this.constraintHandler.currentConstraint);null!=this.edgeState&&$e$$.setGeometry($g$$,this.edgeState.cell.geometry);$m$$=$e$$.getParent($a$$);if(this.isInsertBefore($g$$,$a$$,$b$$,$c$$,$d$$)){for($l$$=$a$$;null!=
$l$$.parent&&null!=$l$$.geometry&&$l$$.geometry.relative&&$l$$.parent!=$g$$.parent;)$l$$=this.graph.model.getParent($l$$);null!=$l$$&&null!=$l$$.parent&&$l$$.parent==$g$$.parent&&$e$$.add($m$$,$g$$,$l$$.parent.getIndex($l$$))}var $p$$=$e$$.getGeometry($g$$);null==$p$$&&($p$$=new mxGeometry,$p$$.relative=!0,$e$$.setGeometry($g$$,$p$$));if(null!=this.waypoints&&0<this.waypoints.length){var $q$$=this.graph.view.scale,$r$$=this.graph.view.translate;$p$$.points=[];for($a$$=0;$a$$<this.waypoints.length;$a$$++){var $t$$=
this.waypoints[$a$$];$p$$.points.push(new mxPoint($t$$.x/$q$$-$r$$.x,$t$$.y/$q$$-$r$$.y))}}if(null==$b$$){var $u$$=this.graph.view.translate,$q$$=this.graph.view.scale,$t$$=null!=this.originalPoint?new mxPoint(this.originalPoint.x/$q$$-$u$$.x,this.originalPoint.y/$q$$-$u$$.y):new mxPoint(this.currentPoint.x/$q$$-$u$$.x,this.currentPoint.y/$q$$-$u$$.y);$t$$.x-=this.graph.panDx/this.graph.view.scale;$t$$.y-=this.graph.panDy/this.graph.view.scale;$p$$.setTerminalPoint($t$$,!1)}this.fireEvent(new mxEventObject(mxEvent.CONNECT,
"cell",$g$$,"terminal",$b$$,"event",$c$$,"target",$d$$,"terminalInserted",$f$$))}}catch($y$$){mxLog.show(),mxLog.debug($y$$.message)}finally{$e$$.endUpdate()}this.select&&this.selectCells($g$$,$f$$?$b$$:null)}};mxConnectionHandler.prototype.selectCells=function $mxConnectionHandler$$selectCells$($a$$,$b$$){this.graph.setSelectionCell($a$$)};
mxConnectionHandler.prototype.insertEdge=function $mxConnectionHandler$$insertEdge$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$){if(null==this.factoryMethod)return this.graph.insertEdge($a$$,$b$$,$c$$,$d$$,$e$$,$f$$);$b$$=this.createEdge($c$$,$d$$,$e$$,$f$$);return this.graph.addEdge($b$$,$a$$,$d$$,$e$$)};
mxConnectionHandler.prototype.createTargetVertex=function $mxConnectionHandler$$createTargetVertex$($a$$,$b$$){for(var $c$$=this.graph.getCellGeometry($b$$);null!=$c$$&&$c$$.relative;)$b$$=this.graph.getModel().getParent($b$$),$c$$=this.graph.getCellGeometry($b$$);var $d$$=this.graph.cloneCell($b$$),$c$$=this.graph.getModel().getGeometry($d$$);if(null!=$c$$){var $e$$=this.graph.view.translate,$f$$=this.graph.view.scale,$g$$=new mxPoint(this.currentPoint.x/$f$$-$e$$.x,this.currentPoint.y/$f$$-$e$$.y);
$c$$.x=Math.round($g$$.x-$c$$.width/2-this.graph.panDx/$f$$);$c$$.y=Math.round($g$$.y-$c$$.height/2-this.graph.panDy/$f$$);$g$$=this.getAlignmentTolerance();if(0<$g$$){var $k$$=this.graph.view.getState($b$$);if(null!=$k$$){var $l$$=$k$$.x/$f$$-$e$$.x,$e$$=$k$$.y/$f$$-$e$$.y;Math.abs($l$$-$c$$.x)<=$g$$&&($c$$.x=Math.round($l$$));Math.abs($e$$-$c$$.y)<=$g$$&&($c$$.y=Math.round($e$$))}}}return $d$$};
mxConnectionHandler.prototype.getAlignmentTolerance=function $mxConnectionHandler$$getAlignmentTolerance$($a$$){return this.graph.isGridEnabled()?this.graph.gridSize/2:this.graph.tolerance};
mxConnectionHandler.prototype.createEdge=function $mxConnectionHandler$$createEdge$($a$$,$b$$,$c$$,$d$$){var $e$$=null;null!=this.factoryMethod&&($e$$=this.factoryMethod($b$$,$c$$,$d$$));null==$e$$&&($e$$=new mxCell($a$$||""),$e$$.setEdge(!0),$e$$.setStyle($d$$),$a$$=new mxGeometry,$a$$.relative=!0,$e$$.setGeometry($a$$));return $e$$};
mxConnectionHandler.prototype.destroy=function $mxConnectionHandler$$destroy$(){this.graph.removeMouseListener(this);null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.marker&&(this.marker.destroy(),this.marker=null);null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.changeHandler),this.changeHandler=null);null!=this.drillHandler&&
(this.graph.removeListener(this.drillHandler),this.graph.getView().removeListener(this.drillHandler),this.drillHandler=null);null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null)};
function mxConstraintHandler($a$jscomp$0$$){this.graph=$a$jscomp$0$$;this.resetHandler=mxUtils.bind(this,function($a$$,$c$$){null!=this.currentFocus&&null==this.graph.view.getState(this.currentFocus.cell)?this.reset():this.redraw()});this.graph.model.addListener(mxEvent.CHANGE,this.resetHandler);this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.resetHandler);this.graph.view.addListener(mxEvent.TRANSLATE,this.resetHandler);this.graph.view.addListener(mxEvent.SCALE,this.resetHandler);this.graph.addListener(mxEvent.ROOT,
this.resetHandler)}mxConstraintHandler.prototype.pointImage=new mxImage(mxClient.imageBasePath+"/point.gif",5,5);mxConstraintHandler.prototype.graph=null;mxConstraintHandler.prototype.enabled=!0;mxConstraintHandler.prototype.highlightColor=mxConstants.DEFAULT_VALID_COLOR;mxConstraintHandler.prototype.isEnabled=function $mxConstraintHandler$$isEnabled$(){return this.enabled};mxConstraintHandler.prototype.setEnabled=function $mxConstraintHandler$$setEnabled$($a$$){this.enabled=$a$$};
mxConstraintHandler.prototype.reset=function $mxConstraintHandler$$reset$(){if(null!=this.focusIcons){for(var $a$$=0;$a$$<this.focusIcons.length;$a$$++)this.focusIcons[$a$$].destroy();this.focusIcons=null}null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null);this.focusPoints=this.currentFocus=this.currentPoint=this.currentFocusArea=this.currentConstraint=null};mxConstraintHandler.prototype.getTolerance=function $mxConstraintHandler$$getTolerance$($a$$){return this.graph.getTolerance()};
mxConstraintHandler.prototype.getImageForConstraint=function $mxConstraintHandler$$getImageForConstraint$($a$$,$b$$,$c$$){return this.pointImage};mxConstraintHandler.prototype.isEventIgnored=function $mxConstraintHandler$$isEventIgnored$($a$$,$b$$){return!1};mxConstraintHandler.prototype.isStateIgnored=function $mxConstraintHandler$$isStateIgnored$($a$$,$b$$){return!1};
mxConstraintHandler.prototype.destroyIcons=function $mxConstraintHandler$$destroyIcons$(){if(null!=this.focusIcons){for(var $a$$=0;$a$$<this.focusIcons.length;$a$$++)this.focusIcons[$a$$].destroy();this.focusPoints=this.focusIcons=null}};mxConstraintHandler.prototype.destroyFocusHighlight=function $mxConstraintHandler$$destroyFocusHighlight$(){null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null)};mxConstraintHandler.prototype.isKeepFocusEvent=function $mxConstraintHandler$$isKeepFocusEvent$($a$$){return mxEvent.isShiftDown($a$$.getEvent())};
mxConstraintHandler.prototype.getCellForEvent=function $mxConstraintHandler$$getCellForEvent$($a$$,$b$$){var $c$$=$a$$.getCell();null!=$c$$||null==$b$$||$a$$.getGraphX()==$b$$.x&&$a$$.getGraphY()==$b$$.y||($c$$=this.graph.getCellAt($b$$.x,$b$$.y));if(null!=$c$$&&!this.graph.isCellConnectable($c$$)){var $d$$=this.graph.getModel().getParent($c$$);this.graph.getModel().isVertex($d$$)&&this.graph.isCellConnectable($d$$)&&($c$$=$d$$)}return this.graph.isCellLocked($c$$)?null:$c$$};
mxConstraintHandler.prototype.update=function $mxConstraintHandler$$update$($a$$,$b$$,$c$$,$d$$){if(this.isEnabled()&&!this.isEventIgnored($a$$)){null==this.mouseleaveHandler&&null!=this.graph.container&&(this.mouseleaveHandler=mxUtils.bind(this,function(){this.reset()}),mxEvent.addListener(this.graph.container,"mouseleave",this.resetHandler));var $e$$=this.getTolerance($a$$),$f$$=null!=$d$$?$d$$.x:$a$$.getGraphX(),$g$$=null!=$d$$?$d$$.y:$a$$.getGraphY(),$f$$=new mxRectangle($f$$-$e$$,$g$$-$e$$,2*
$e$$,2*$e$$),$e$$=new mxRectangle($a$$.getGraphX()-$e$$,$a$$.getGraphY()-$e$$,2*$e$$,2*$e$$),$k$$=this.graph.view.getState(this.getCellForEvent($a$$,$d$$));this.isKeepFocusEvent($a$$)||null!=this.currentFocusArea&&null!=this.currentFocus&&null==$k$$&&this.graph.getModel().isVertex(this.currentFocus.cell)&&mxUtils.intersects(this.currentFocusArea,$e$$)||$k$$==this.currentFocus||(this.currentFocus=this.currentFocusArea=null,this.setFocus($a$$,$k$$,$b$$));$a$$=this.currentPoint=this.currentConstraint=
null;if(null!=this.focusIcons&&null!=this.constraints&&(null==$k$$||this.currentFocus==$k$$))for(var $g$$=$e$$.getCenterX(),$l$$=$e$$.getCenterY(),$m$$=0;$m$$<this.focusIcons.length;$m$$++){var $n$$=$g$$-this.focusIcons[$m$$].bounds.getCenterX(),$p$$=$l$$-this.focusIcons[$m$$].bounds.getCenterY(),$n$$=$n$$*$n$$+$p$$*$p$$;if((this.intersects(this.focusIcons[$m$$],$e$$,$b$$,$c$$)||null!=$d$$&&this.intersects(this.focusIcons[$m$$],$f$$,$b$$,$c$$))&&(null==$a$$||$n$$<$a$$)){this.currentConstraint=this.constraints[$m$$];
this.currentPoint=this.focusPoints[$m$$];$a$$=$n$$;$n$$=this.focusIcons[$m$$].bounds.clone();$n$$.grow(mxConstants.HIGHLIGHT_SIZE+1);--$n$$.width;--$n$$.height;if(null==this.focusHighlight){$p$$=this.createHighlightShape();$p$$.dialect=this.graph.dialect==mxConstants.DIALECT_SVG?mxConstants.DIALECT_SVG:mxConstants.DIALECT_VML;$p$$.pointerEvents=!1;$p$$.init(this.graph.getView().getOverlayPane());this.focusHighlight=$p$$;var $q$$=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:
$k$$});mxEvent.redirectMouseEvents($p$$.node,this.graph,$q$$)}this.focusHighlight.bounds=$n$$;this.focusHighlight.redraw()}}null==this.currentConstraint&&this.destroyFocusHighlight()}else this.currentPoint=this.currentFocus=this.currentConstraint=null};
mxConstraintHandler.prototype.redraw=function $mxConstraintHandler$$redraw$(){if(null!=this.currentFocus&&null!=this.constraints&&null!=this.focusIcons){var $a$$=this.graph.view.getState(this.currentFocus.cell);this.currentFocus=$a$$;this.currentFocusArea=new mxRectangle($a$$.x,$a$$.y,$a$$.width,$a$$.height);for(var $b$$=0;$b$$<this.constraints.length;$b$$++){var $c$$=this.graph.getConnectionPoint($a$$,this.constraints[$b$$]),$d$$=this.getImageForConstraint($a$$,this.constraints[$b$$],$c$$),$d$$=
new mxRectangle(Math.round($c$$.x-$d$$.width/2),Math.round($c$$.y-$d$$.height/2),$d$$.width,$d$$.height);this.focusIcons[$b$$].bounds=$d$$;this.focusIcons[$b$$].redraw();this.currentFocusArea.add(this.focusIcons[$b$$].bounds);this.focusPoints[$b$$]=$c$$}}};
mxConstraintHandler.prototype.setFocus=function $mxConstraintHandler$$setFocus$($a$jscomp$0$$,$b$$,$c$$){this.constraints=null!=$b$$&&!this.isStateIgnored($b$$,$c$$)&&this.graph.isCellConnectable($b$$.cell)?this.isEnabled()?this.graph.getAllConnectionConstraints($b$$,$c$$)||[]:[]:null;if(null!=this.constraints){this.currentFocus=$b$$;this.currentFocusArea=new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height);if(null!=this.focusIcons){for($c$$=0;$c$$<this.focusIcons.length;$c$$++)this.focusIcons[$c$$].destroy();
this.focusPoints=this.focusIcons=null}this.focusPoints=[];this.focusIcons=[];for($c$$=0;$c$$<this.constraints.length;$c$$++){var $d$$=this.graph.getConnectionPoint($b$$,this.constraints[$c$$]),$e$$=this.getImageForConstraint($b$$,this.constraints[$c$$],$d$$),$f$$=$e$$.src,$e$$=new mxRectangle(Math.round($d$$.x-$e$$.width/2),Math.round($d$$.y-$e$$.height/2),$e$$.width,$e$$.height),$f$$=new mxImageShape($e$$,$f$$);$f$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:
mxConstants.DIALECT_SVG;$f$$.preserveImageAspect=!1;$f$$.init(this.graph.getView().getDecoratorPane());(mxClient.IS_QUIRKS||8==document.documentMode)&&mxEvent.addListener($f$$.node,"dragstart",function($a$$){mxEvent.consume($a$$);return!1});null!=$f$$.node.previousSibling&&$f$$.node.parentNode.insertBefore($f$$.node,$f$$.node.parentNode.firstChild);$e$$=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:$b$$});$f$$.redraw();mxEvent.redirectMouseEvents($f$$.node,this.graph,
$e$$);this.currentFocusArea.add($f$$.bounds);this.focusIcons.push($f$$);this.focusPoints.push($d$$)}this.currentFocusArea.grow(this.getTolerance($a$jscomp$0$$))}else this.destroyIcons(),this.destroyFocusHighlight()};mxConstraintHandler.prototype.createHighlightShape=function $mxConstraintHandler$$createHighlightShape$(){var $a$$=new mxRectangleShape(null,this.highlightColor,this.highlightColor,mxConstants.HIGHLIGHT_STROKEWIDTH);$a$$.opacity=mxConstants.HIGHLIGHT_OPACITY;return $a$$};
mxConstraintHandler.prototype.intersects=function $mxConstraintHandler$$intersects$($a$$,$b$$,$c$$,$d$$){return mxUtils.intersects($a$$.bounds,$b$$)};
mxConstraintHandler.prototype.destroy=function $mxConstraintHandler$$destroy$(){this.reset();null!=this.resetHandler&&(this.graph.model.removeListener(this.resetHandler),this.graph.view.removeListener(this.resetHandler),this.graph.removeListener(this.resetHandler),this.resetHandler=null);null!=this.mouseleaveHandler&&null!=this.graph.container&&(mxEvent.removeListener(this.graph.container,"mouseleave",this.mouseleaveHandler),this.mouseleaveHandler=null)};
function mxRubberband($a$jscomp$0$$){null!=$a$jscomp$0$$&&(this.graph=$a$jscomp$0$$,this.graph.addMouseListener(this),this.forceRubberbandHandler=mxUtils.bind(this,function($a$$,$c$$){var $b$$=$c$$.getProperty("eventName"),$e$$=$c$$.getProperty("event");if($b$$==mxEvent.MOUSE_DOWN&&this.isForceRubberbandEvent($e$$)){var $b$$=mxUtils.getOffset(this.graph.container),$f$$=mxUtils.getScrollOrigin(this.graph.container);$f$$.x-=$b$$.x;$f$$.y-=$b$$.y;this.start($e$$.getX()+$f$$.x,$e$$.getY()+$f$$.y);$e$$.consume(!1)}}),
this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forceRubberbandHandler),this.panHandler=mxUtils.bind(this,function(){this.repaint()}),this.graph.addListener(mxEvent.PAN,this.panHandler),this.gestureHandler=mxUtils.bind(this,function($a$$,$c$$){null!=this.first&&this.reset()}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}mxRubberband.prototype.defaultOpacity=20;
mxRubberband.prototype.enabled=!0;mxRubberband.prototype.div=null;mxRubberband.prototype.sharedDiv=null;mxRubberband.prototype.currentX=0;mxRubberband.prototype.currentY=0;mxRubberband.prototype.fadeOut=!1;mxRubberband.prototype.isEnabled=function $mxRubberband$$isEnabled$(){return this.enabled};mxRubberband.prototype.setEnabled=function $mxRubberband$$setEnabled$($a$$){this.enabled=$a$$};mxRubberband.prototype.isForceRubberbandEvent=function $mxRubberband$$isForceRubberbandEvent$($a$$){return mxEvent.isAltDown($a$$.getEvent())};
mxRubberband.prototype.mouseDown=function $mxRubberband$$mouseDown$($a$$,$b$$){if(!$b$$.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null==$b$$.getState()&&!mxEvent.isMultiTouchEvent($b$$.getEvent())){var $c$$=mxUtils.getOffset(this.graph.container),$d$$=mxUtils.getScrollOrigin(this.graph.container);$d$$.x-=$c$$.x;$d$$.y-=$c$$.y;this.start($b$$.getX()+$d$$.x,$b$$.getY()+$d$$.y);$b$$.consume(!1)}};
mxRubberband.prototype.start=function $mxRubberband$$start$($a$jscomp$0$$,$b$jscomp$0$$){function $c$$($a$$){$a$$=new mxMouseEvent($a$$);var $b$$=mxUtils.convertPoint($d$$,$a$$.getX(),$a$$.getY());$a$$.graphX=$b$$.x;$a$$.graphY=$b$$.y;return $a$$}this.first=new mxPoint($a$jscomp$0$$,$b$jscomp$0$$);var $d$$=this.graph.container;this.dragHandler=mxUtils.bind(this,function($a$$){this.mouseMove(this.graph,$c$$($a$$))});this.dropHandler=mxUtils.bind(this,function($a$$){this.mouseUp(this.graph,$c$$($a$$))});
mxClient.IS_FF&&mxEvent.addGestureListeners(document,null,this.dragHandler,this.dropHandler)};
mxRubberband.prototype.mouseMove=function $mxRubberband$$mouseMove$($a$$,$b$$){if(!$b$$.isConsumed()&&null!=this.first){var $c$$=mxUtils.getScrollOrigin(this.graph.container),$d$$=mxUtils.getOffset(this.graph.container);$c$$.x-=$d$$.x;$c$$.y-=$d$$.y;var $d$$=$b$$.getX()+$c$$.x,$c$$=$b$$.getY()+$c$$.y,$e$$=this.first.x-$d$$,$f$$=this.first.y-$c$$,$g$$=this.graph.tolerance;if(null!=this.div||Math.abs($e$$)>$g$$||Math.abs($f$$)>$g$$)null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),
this.update($d$$,$c$$),$b$$.consume()}};mxRubberband.prototype.createShape=function $mxRubberband$$createShape$(){null==this.sharedDiv&&(this.sharedDiv=document.createElement("div"),this.sharedDiv.className="mxRubberband",mxUtils.setOpacity(this.sharedDiv,this.defaultOpacity));this.graph.container.appendChild(this.sharedDiv);var $a$$=this.sharedDiv;mxClient.IS_SVG&&(!mxClient.IS_IE||10<=document.documentMode)&&this.fadeOut&&(this.sharedDiv=null);return $a$$};
mxRubberband.prototype.isActive=function $mxRubberband$$isActive$($a$$,$b$$){return null!=this.div&&"none"!=this.div.style.display};mxRubberband.prototype.mouseUp=function $mxRubberband$$mouseUp$($a$$,$b$$){var $c$$=this.isActive();this.reset();$c$$&&(this.execute($b$$.getEvent()),$b$$.consume())};mxRubberband.prototype.execute=function $mxRubberband$$execute$($a$$){var $b$$=new mxRectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion($b$$,$a$$)};
mxRubberband.prototype.reset=function $mxRubberband$$reset$(){if(null!=this.div)if(mxClient.IS_SVG&&(!mxClient.IS_IE||10<=document.documentMode)&&this.fadeOut){var $a$$=this.div;mxUtils.setPrefixedStyle($a$$.style,"transition","all 0.2s linear");$a$$.style.pointerEvents="none";$a$$.style.opacity=0;window.setTimeout(function(){$a$$.parentNode.removeChild($a$$)},200)}else this.div.parentNode.removeChild(this.div);mxEvent.removeGestureListeners(document,null,this.dragHandler,this.dropHandler);this.dropHandler=
this.dragHandler=null;this.currentY=this.currentX=0;this.div=this.first=null};mxRubberband.prototype.update=function $mxRubberband$$update$($a$$,$b$$){this.currentX=$a$$;this.currentY=$b$$;this.repaint()};
mxRubberband.prototype.repaint=function $mxRubberband$$repaint$(){if(null!=this.div){var $a$$=this.currentX-this.graph.panDx,$b$$=this.currentY-this.graph.panDy;this.x=Math.min(this.first.x,$a$$);this.y=Math.min(this.first.y,$b$$);this.width=Math.max(this.first.x,$a$$)-this.x;this.height=Math.max(this.first.y,$b$$)-this.y;$a$$=mxClient.IS_VML?this.graph.panDy:0;this.div.style.left=this.x+(mxClient.IS_VML?this.graph.panDx:0)+"px";this.div.style.top=this.y+$a$$+"px";this.div.style.width=Math.max(1,
this.width)+"px";this.div.style.height=Math.max(1,this.height)+"px"}};mxRubberband.prototype.destroy=function $mxRubberband$$destroy$(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),this.graph.removeListener(this.forceRubberbandHandler),this.graph.removeListener(this.panHandler),this.reset(),null!=this.sharedDiv&&(this.sharedDiv=null))};
function mxHandle($a$$,$b$$,$c$$){this.graph=$a$$.view.graph;this.state=$a$$;this.cursor=null!=$b$$?$b$$:this.cursor;this.image=null!=$c$$?$c$$:this.image;this.init()}mxHandle.prototype.cursor="default";mxHandle.prototype.image=null;mxHandle.prototype.ignoreGrid=!1;mxHandle.prototype.getPosition=function $mxHandle$$getPosition$($a$$){};mxHandle.prototype.setPosition=function $mxHandle$$setPosition$($a$$,$b$$,$c$$){};mxHandle.prototype.execute=function $mxHandle$$execute$(){};
mxHandle.prototype.copyStyle=function $mxHandle$$copyStyle$($a$$){this.graph.setCellStyles($a$$,this.state.style[$a$$],[this.state.cell])};
mxHandle.prototype.processEvent=function $mxHandle$$processEvent$($a$$){var $b$$=this.graph.view.scale,$c$$=this.graph.view.translate,$c$$=new mxPoint($a$$.getGraphX()/$b$$-$c$$.x,$a$$.getGraphY()/$b$$-$c$$.y);null!=this.shape&&null!=this.shape.bounds&&($c$$.x-=this.shape.bounds.width/$b$$/4,$c$$.y-=this.shape.bounds.height/$b$$/4);var $b$$=-mxUtils.toRadians(this.getRotation()),$d$$=-mxUtils.toRadians(this.getTotalRotation())-$b$$,$c$$=this.flipPoint(this.rotatePoint(this.snapPoint(this.rotatePoint($c$$,
$b$$),this.ignoreGrid||!this.graph.isGridEnabledEvent($a$$.getEvent())),$d$$));this.setPosition(this.state.getPaintBounds(),$c$$,$a$$);this.positionChanged();this.redraw()};mxHandle.prototype.positionChanged=function $mxHandle$$positionChanged$(){null!=this.state.text&&this.state.text.apply(this.state);null!=this.state.shape&&this.state.shape.apply(this.state);this.graph.cellRenderer.redraw(this.state,!0)};
mxHandle.prototype.getRotation=function $mxHandle$$getRotation$(){return null!=this.state.shape?this.state.shape.getRotation():0};mxHandle.prototype.getTotalRotation=function $mxHandle$$getTotalRotation$(){return null!=this.state.shape?this.state.shape.getShapeRotation():0};
mxHandle.prototype.init=function $mxHandle$$init$(){var $a$$=this.isHtmlRequired();null!=this.image?(this.shape=new mxImageShape(new mxRectangle(0,0,this.image.width,this.image.height),this.image.src),this.shape.preserveImageAspect=!1):this.shape=this.createShape($a$$);this.initShape($a$$)};mxHandle.prototype.createShape=function $mxHandle$$createShape$($a$$){$a$$=new mxRectangle(0,0,mxConstants.HANDLE_SIZE,mxConstants.HANDLE_SIZE);return new mxRectangleShape($a$$,mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxHandle.prototype.initShape=function $mxHandle$$initShape$($a$$){$a$$&&this.shape.isHtmlAllowed()?(this.shape.dialect=mxConstants.DIALECT_STRICTHTML,this.shape.init(this.graph.container)):(this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,null!=this.cursor&&this.shape.init(this.graph.getView().getOverlayPane()));mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state);this.shape.node.style.cursor=this.cursor};
mxHandle.prototype.redraw=function $mxHandle$$redraw$(){if(null!=this.shape&&null!=this.state.shape){var $a$$=this.getPosition(this.state.getPaintBounds());if(null!=$a$$){var $b$$=mxUtils.toRadians(this.getTotalRotation()),$a$$=this.rotatePoint(this.flipPoint($a$$),$b$$),$b$$=this.graph.view.scale,$c$$=this.graph.view.translate;this.shape.bounds.x=Math.floor(($a$$.x+$c$$.x)*$b$$-this.shape.bounds.width/2);this.shape.bounds.y=Math.floor(($a$$.y+$c$$.y)*$b$$-this.shape.bounds.height/2);this.shape.redraw()}}};
mxHandle.prototype.isHtmlRequired=function $mxHandle$$isHtmlRequired$(){return null!=this.state.text&&this.state.text.node.parentNode==this.graph.container};mxHandle.prototype.rotatePoint=function $mxHandle$$rotatePoint$($a$$,$b$$){var $c$$=this.state.getCellBounds(),$c$$=new mxPoint($c$$.getCenterX(),$c$$.getCenterY());return mxUtils.getRotatedPoint($a$$,Math.cos($b$$),Math.sin($b$$),$c$$)};
mxHandle.prototype.flipPoint=function $mxHandle$$flipPoint$($a$$){if(null!=this.state.shape){var $b$$=this.state.getCellBounds();this.state.shape.flipH&&($a$$.x=2*$b$$.x+$b$$.width-$a$$.x);this.state.shape.flipV&&($a$$.y=2*$b$$.y+$b$$.height-$a$$.y)}return $a$$};mxHandle.prototype.snapPoint=function $mxHandle$$snapPoint$($a$$,$b$$){$b$$||($a$$.x=this.graph.snap($a$$.x),$a$$.y=this.graph.snap($a$$.y));return $a$$};
mxHandle.prototype.setVisible=function $mxHandle$$setVisible$($a$$){null!=this.shape&&null!=this.shape.node&&(this.shape.node.style.display=$a$$?"":"none")};mxHandle.prototype.reset=function $mxHandle$$reset$(){this.setVisible(!0);this.state.style=this.graph.getCellStyle(this.state.cell);this.positionChanged()};mxHandle.prototype.destroy=function $mxHandle$$destroy$(){null!=this.shape&&(this.shape.destroy(),this.shape=null)};
function mxVertexHandler($a$jscomp$0$$){null!=$a$jscomp$0$$&&(this.state=$a$jscomp$0$$,this.init(),this.escapeHandler=mxUtils.bind(this,function($a$$,$c$$){this.livePreview&&null!=this.index&&(this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate());this.reset()}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}mxVertexHandler.prototype.graph=null;mxVertexHandler.prototype.state=null;
mxVertexHandler.prototype.singleSizer=!1;mxVertexHandler.prototype.index=null;mxVertexHandler.prototype.allowHandleBoundsCheck=!0;mxVertexHandler.prototype.handleImage=null;mxVertexHandler.prototype.tolerance=0;mxVertexHandler.prototype.rotationEnabled=!1;mxVertexHandler.prototype.parentHighlightEnabled=!1;mxVertexHandler.prototype.rotationRaster=!0;mxVertexHandler.prototype.rotationCursor="crosshair";mxVertexHandler.prototype.livePreview=!1;mxVertexHandler.prototype.manageSizers=!1;
mxVertexHandler.prototype.constrainGroupByChildren=!1;mxVertexHandler.prototype.rotationHandleVSpacing=-16;mxVertexHandler.prototype.horizontalOffset=0;mxVertexHandler.prototype.verticalOffset=0;
mxVertexHandler.prototype.init=function $mxVertexHandler$$init$(){this.graph=this.state.view.graph;this.selectionBounds=this.getSelectionBounds(this.state);this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height);this.selectionBorder=this.createSelectionShape(this.bounds);this.selectionBorder.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG;this.selectionBorder.pointerEvents=
!1;this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0");this.selectionBorder.init(this.graph.getView().getOverlayPane());mxEvent.redirectMouseEvents(this.selectionBorder.node,this.graph,this.state);this.graph.isCellMovable(this.state.cell)&&this.selectionBorder.setCursor(mxConstants.CURSOR_MOVABLE_VERTEX);if(0>=mxGraphHandler.prototype.maxCells||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells){var $a$$=this.graph.isCellResizable(this.state.cell);
this.sizers=[];if($a$$||this.graph.isLabelMovable(this.state.cell)&&2<=this.state.width&&2<=this.state.height){var $b$$=0;$a$$&&(this.singleSizer||(this.sizers.push(this.createSizer("nw-resize",$b$$++)),this.sizers.push(this.createSizer("n-resize",$b$$++)),this.sizers.push(this.createSizer("ne-resize",$b$$++)),this.sizers.push(this.createSizer("w-resize",$b$$++)),this.sizers.push(this.createSizer("e-resize",$b$$++)),this.sizers.push(this.createSizer("sw-resize",$b$$++)),this.sizers.push(this.createSizer("s-resize",
$b$$++))),this.sizers.push(this.createSizer("se-resize",$b$$++)));$a$$=this.graph.model.getGeometry(this.state.cell);null==$a$$||$a$$.relative||this.graph.isSwimlane(this.state.cell)||!this.graph.isLabelMovable(this.state.cell)||(this.labelShape=this.createSizer(mxConstants.CURSOR_LABEL_HANDLE,mxEvent.LABEL_HANDLE,mxConstants.LABEL_HANDLE_SIZE,mxConstants.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}else this.graph.isCellMovable(this.state.cell)&&!this.graph.isCellResizable(this.state.cell)&&
2>this.state.width&&2>this.state.height&&(this.labelShape=this.createSizer(mxConstants.CURSOR_MOVABLE_VERTEX,mxEvent.LABEL_HANDLE,null,mxConstants.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}this.isRotationHandleVisible()&&(this.rotationShape=this.createSizer(this.rotationCursor,mxEvent.ROTATION_HANDLE,mxConstants.HANDLE_SIZE+3,mxConstants.HANDLE_FILLCOLOR),this.sizers.push(this.rotationShape));this.customHandles=this.createCustomHandles();this.redraw();this.constrainGroupByChildren&&
this.updateMinBounds()};mxVertexHandler.prototype.isRotationHandleVisible=function $mxVertexHandler$$isRotationHandleVisible$(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&(0>=mxGraphHandler.prototype.maxCells||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells)&&2<=this.state.width&&2<=this.state.height};
mxVertexHandler.prototype.isConstrainedEvent=function $mxVertexHandler$$isConstrainedEvent$($a$$){return mxEvent.isShiftDown($a$$.getEvent())||"fixed"==this.state.style[mxConstants.STYLE_ASPECT]};mxVertexHandler.prototype.isCenteredEvent=function $mxVertexHandler$$isCenteredEvent$($a$$,$b$$){return!1};mxVertexHandler.prototype.createCustomHandles=function $mxVertexHandler$$createCustomHandles$(){return null};
mxVertexHandler.prototype.updateMinBounds=function $mxVertexHandler$$updateMinBounds$(){var $a$$=this.graph.getChildCells(this.state.cell);if(0<$a$$.length&&(this.minBounds=this.graph.view.getBounds($a$$),null!=this.minBounds)){var $a$$=this.state.view.scale,$b$$=this.state.view.translate;this.minBounds.x-=this.state.x;this.minBounds.y-=this.state.y;this.minBounds.x/=$a$$;this.minBounds.y/=$a$$;this.minBounds.width/=$a$$;this.minBounds.height/=$a$$;this.x0=this.state.x/$a$$-$b$$.x;this.y0=this.state.y/
$a$$-$b$$.y}};mxVertexHandler.prototype.getSelectionBounds=function $mxVertexHandler$$getSelectionBounds$($a$$){return new mxRectangle(Math.round($a$$.x),Math.round($a$$.y),Math.round($a$$.width),Math.round($a$$.height))};mxVertexHandler.prototype.createParentHighlightShape=function $mxVertexHandler$$createParentHighlightShape$($a$$){return this.createSelectionShape($a$$)};
mxVertexHandler.prototype.createSelectionShape=function $mxVertexHandler$$createSelectionShape$($a$$){$a$$=new mxRectangleShape($a$$,null,this.getSelectionColor());$a$$.strokewidth=this.getSelectionStrokeWidth();$a$$.isDashed=this.isSelectionDashed();return $a$$};mxVertexHandler.prototype.getSelectionColor=function $mxVertexHandler$$getSelectionColor$(){return mxConstants.VERTEX_SELECTION_COLOR};mxVertexHandler.prototype.getSelectionStrokeWidth=function $mxVertexHandler$$getSelectionStrokeWidth$(){return mxConstants.VERTEX_SELECTION_STROKEWIDTH};
mxVertexHandler.prototype.isSelectionDashed=function $mxVertexHandler$$isSelectionDashed$(){return mxConstants.VERTEX_SELECTION_DASHED};
mxVertexHandler.prototype.createSizer=function $mxVertexHandler$$createSizer$($a$$,$b$$,$c$$,$d$$){$c$$=$c$$||mxConstants.HANDLE_SIZE;$c$$=new mxRectangle(0,0,$c$$,$c$$);$d$$=this.createSizerShape($c$$,$b$$,$d$$);$d$$.isHtmlAllowed()&&null!=this.state.text&&this.state.text.node.parentNode==this.graph.container?(--$d$$.bounds.height,--$d$$.bounds.width,$d$$.dialect=mxConstants.DIALECT_STRICTHTML,$d$$.init(this.graph.container)):($d$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:
mxConstants.DIALECT_SVG,$d$$.init(this.graph.getView().getOverlayPane()));mxEvent.redirectMouseEvents($d$$.node,this.graph,this.state);this.graph.isEnabled()&&$d$$.setCursor($a$$);this.isSizerVisible($b$$)||($d$$.visible=!1);return $d$$};mxVertexHandler.prototype.isSizerVisible=function $mxVertexHandler$$isSizerVisible$($a$$){return!0};
mxVertexHandler.prototype.createSizerShape=function $mxVertexHandler$$createSizerShape$($a$$,$b$$,$c$$){return null!=this.handleImage?($a$$=new mxRectangle($a$$.x,$a$$.y,this.handleImage.width,this.handleImage.height),$a$$=new mxImageShape($a$$,this.handleImage.src),$a$$.preserveImageAspect=!1,$a$$):$b$$==mxEvent.ROTATION_HANDLE?new mxEllipse($a$$,$c$$||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR):new mxRectangleShape($a$$,$c$$||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxVertexHandler.prototype.moveSizerTo=function $mxVertexHandler$$moveSizerTo$($a$$,$b$$,$c$$){null!=$a$$&&($a$$.bounds.x=Math.floor($b$$-$a$$.bounds.width/2),$a$$.bounds.y=Math.floor($c$$-$a$$.bounds.height/2),null!=$a$$.node&&"none"!=$a$$.node.style.display&&$a$$.redraw())};
mxVertexHandler.prototype.getHandleForEvent=function $mxVertexHandler$$getHandleForEvent$($a$$){function $b$jscomp$0$$($b$$){return null!=$b$$&&($a$$.isSource($b$$)||null!=$d$$&&mxUtils.intersects($b$$.bounds,$d$$)&&"none"!=$b$$.node.style.display&&"hidden"!=$b$$.node.style.visibility)}var $c$$=mxEvent.isMouseEvent($a$$.getEvent())?1:this.tolerance,$d$$=this.allowHandleBoundsCheck&&(mxClient.IS_IE||0<$c$$)?new mxRectangle($a$$.getGraphX()-$c$$,$a$$.getGraphY()-$c$$,2*$c$$,2*$c$$):null;if(null!=this.customHandles&&
this.isCustomHandleEvent($a$$))for($c$$=this.customHandles.length-1;0<=$c$$;$c$$--)if($b$jscomp$0$$(this.customHandles[$c$$].shape))return mxEvent.CUSTOM_HANDLE-$c$$;if($b$jscomp$0$$(this.rotationShape))return mxEvent.ROTATION_HANDLE;if($b$jscomp$0$$(this.labelShape))return mxEvent.LABEL_HANDLE;if(null!=this.sizers)for($c$$=0;$c$$<this.sizers.length;$c$$++)if($b$jscomp$0$$(this.sizers[$c$$]))return $c$$;return null};mxVertexHandler.prototype.isCustomHandleEvent=function $mxVertexHandler$$isCustomHandleEvent$($a$$){return!0};
mxVertexHandler.prototype.mouseDown=function $mxVertexHandler$$mouseDown$($a$$,$b$$){var $c$$=mxEvent.isMouseEvent($b$$.getEvent())?0:this.tolerance;!$b$$.isConsumed()&&this.graph.isEnabled()&&(0<$c$$||$b$$.getState()==this.state)&&($c$$=this.getHandleForEvent($b$$),null!=$c$$&&(this.start($b$$.getGraphX(),$b$$.getGraphY(),$c$$),$b$$.consume()))};
mxVertexHandler.prototype.isLivePreviewBorder=function $mxVertexHandler$$isLivePreviewBorder$(){return null!=this.state.shape&&null==this.state.shape.fill&&null==this.state.shape.stroke};
mxVertexHandler.prototype.start=function $mxVertexHandler$$start$($a$$,$b$$,$c$$){this.inTolerance=!0;this.childOffsetY=this.childOffsetX=0;this.index=$c$$;this.startX=$a$$;this.startY=$b$$;$a$$=this.state.view.graph.model;$b$$=$a$$.getParent(this.state.cell);this.state.view.currentRoot!=$b$$&&($a$$.isVertex($b$$)||$a$$.isEdge($b$$))&&(this.parentState=this.state.view.graph.view.getState($b$$));this.selectionBorder.node.style.display=$c$$==mxEvent.ROTATION_HANDLE?"inline":"none";if(!this.livePreview||
this.isLivePreviewBorder())this.preview=this.createSelectionShape(this.bounds),mxClient.IS_SVG&&0!=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")||null==this.state.text||this.state.text.node.parentNode!=this.graph.container?(this.preview.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.preview.init(this.graph.view.getOverlayPane())):(this.preview.dialect=mxConstants.DIALECT_STRICTHTML,this.preview.init(this.graph.container));if(this.livePreview)for(this.hideSizers(),
$c$$==mxEvent.ROTATION_HANDLE?this.rotationShape.node.style.display="":$c$$==mxEvent.LABEL_HANDLE?this.labelShape.node.style.display="":null!=this.sizers&&null!=this.sizers[$c$$]?this.sizers[$c$$].node.style.display="":$c$$<=mxEvent.CUSTOM_HANDLE&&null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-$c$$].setVisible(!0),$c$$=this.graph.getEdges(this.state.cell),this.edgeHandlers=[],$a$$=0;$a$$<$c$$.length;$a$$++)$b$$=this.graph.selectionCellsHandler.getHandler($c$$[$a$$]),null!=$b$$&&
this.edgeHandlers.push($b$$)};mxVertexHandler.prototype.setHandlesVisible=function $mxVertexHandler$$setHandlesVisible$($a$$){if(null!=this.sizers)for(var $b$$=0;$b$$<this.sizers.length;$b$$++)this.sizers[$b$$].node.style.display=$a$$?"":"none";if(null!=this.customHandles)for($b$$=0;$b$$<this.customHandles.length;$b$$++)this.customHandles[$b$$].setVisible($a$$)};mxVertexHandler.prototype.hideSizers=function $mxVertexHandler$$hideSizers$(){this.setHandlesVisible(!1)};
mxVertexHandler.prototype.checkTolerance=function $mxVertexHandler$$checkTolerance$($a$$){this.inTolerance&&null!=this.startX&&null!=this.startY&&(mxEvent.isMouseEvent($a$$.getEvent())||Math.abs($a$$.getGraphX()-this.startX)>this.graph.tolerance||Math.abs($a$$.getGraphY()-this.startY)>this.graph.tolerance)&&(this.inTolerance=!1)};mxVertexHandler.prototype.updateHint=function $mxVertexHandler$$updateHint$($a$$){};mxVertexHandler.prototype.removeHint=function $mxVertexHandler$$removeHint$(){};
mxVertexHandler.prototype.roundAngle=function $mxVertexHandler$$roundAngle$($a$$){return Math.round(10*$a$$)/10};mxVertexHandler.prototype.roundLength=function $mxVertexHandler$$roundLength$($a$$){return Math.round($a$$)};
mxVertexHandler.prototype.mouseMove=function $mxVertexHandler$$mouseMove$($a$$,$b$$){$b$$.isConsumed()||null==this.index?this.graph.isMouseDown||null==this.getHandleForEvent($b$$)||$b$$.consume(!1):(this.checkTolerance($b$$),this.inTolerance||(this.index<=mxEvent.CUSTOM_HANDLE?null!=this.customHandles&&(this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent($b$$),this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].active=!0):this.index==mxEvent.LABEL_HANDLE?this.moveLabel($b$$):this.index==
mxEvent.ROTATION_HANDLE?this.rotateVertex($b$$):this.resizeVertex($b$$),this.updateHint($b$$)),$b$$.consume())};
mxVertexHandler.prototype.moveLabel=function $mxVertexHandler$$moveLabel$($a$$){var $b$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),$c$$=this.graph.view.translate,$d$$=this.graph.view.scale;this.graph.isGridEnabledEvent($a$$.getEvent())&&($b$$.x=(this.graph.snap($b$$.x/$d$$-$c$$.x)+$c$$.x)*$d$$,$b$$.y=(this.graph.snap($b$$.y/$d$$-$c$$.y)+$c$$.y)*$d$$);this.moveSizerTo(this.sizers[null!=this.rotationShape?this.sizers.length-2:this.sizers.length-1],$b$$.x,$b$$.y)};
mxVertexHandler.prototype.rotateVertex=function $mxVertexHandler$$rotateVertex$($a$$){var $b$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),$c$$=this.state.x+this.state.width/2-$b$$.x,$d$$=this.state.y+this.state.height/2-$b$$.y;this.currentAlpha=0!=$c$$?180*Math.atan($d$$/$c$$)/Math.PI+90:0>$d$$?180:0;0<$c$$&&(this.currentAlpha-=180);this.rotationRaster&&this.graph.isGridEnabledEvent($a$$.getEvent())?($c$$=$b$$.x-this.state.getCenterX(),$d$$=$b$$.y-this.state.getCenterY(),$a$$=Math.max(1,5*Math.min(3,
Math.max(0,Math.round(80/Math.abs(3*Math.abs(Math.sqrt($c$$*$c$$+$d$$*$d$$)-20)))))),this.currentAlpha=Math.round(this.currentAlpha/$a$$)*$a$$):this.currentAlpha=this.roundAngle(this.currentAlpha);this.selectionBorder.rotation=this.currentAlpha;this.selectionBorder.redraw();this.livePreview&&this.redrawHandles()};
mxVertexHandler.prototype.resizeVertex=function $mxVertexHandler$$resizeVertex$($a$$){var $b$$=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),$c$$=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),$d$$=new mxPoint($a$$.getGraphX(),$a$$.getGraphY()),$e$$=this.graph.view.translate,$f$$=this.graph.view.scale,$g$$=Math.cos(-$c$$),$k$$=Math.sin(-$c$$),$l$$=$d$$.x-this.startX,$d$$=$d$$.y-this.startY,$m$$=$k$$*$l$$+$g$$*$d$$,$l$$=$g$$*$l$$-$k$$*$d$$,$d$$=$m$$,$g$$=this.graph.getCellGeometry(this.state.cell);
this.unscaledBounds=this.union($g$$,$l$$/$f$$,$d$$/$f$$,this.index,this.graph.isGridEnabledEvent($a$$.getEvent()),1,new mxPoint(0,0),this.isConstrainedEvent($a$$),this.isCenteredEvent(this.state,$a$$));$g$$.relative||($k$$=this.graph.getMaximumGraphBounds(),null!=$k$$&&null!=this.parentState&&($k$$=mxRectangle.fromRectangle($k$$),$k$$.x-=(this.parentState.x-$e$$.x*$f$$)/$f$$,$k$$.y-=(this.parentState.y-$e$$.y*$f$$)/$f$$),this.graph.isConstrainChild(this.state.cell)&&($l$$=this.graph.getCellContainmentArea(this.state.cell),
null!=$l$$&&($d$$=this.graph.getOverlap(this.state.cell),0<$d$$&&($l$$=mxRectangle.fromRectangle($l$$),$l$$.x-=$l$$.width*$d$$,$l$$.y-=$l$$.height*$d$$,$l$$.width+=2*$l$$.width*$d$$,$l$$.height+=2*$l$$.height*$d$$),null==$k$$?$k$$=$l$$:($k$$=mxRectangle.fromRectangle($k$$),$k$$.intersect($l$$)))),null!=$k$$&&(this.unscaledBounds.x<$k$$.x&&(this.unscaledBounds.width-=$k$$.x-this.unscaledBounds.x,this.unscaledBounds.x=$k$$.x),this.unscaledBounds.y<$k$$.y&&(this.unscaledBounds.height-=$k$$.y-this.unscaledBounds.y,
this.unscaledBounds.y=$k$$.y),this.unscaledBounds.x+this.unscaledBounds.width>$k$$.x+$k$$.width&&(this.unscaledBounds.width-=this.unscaledBounds.x+this.unscaledBounds.width-$k$$.x-$k$$.width),this.unscaledBounds.y+this.unscaledBounds.height>$k$$.y+$k$$.height&&(this.unscaledBounds.height-=this.unscaledBounds.y+this.unscaledBounds.height-$k$$.y-$k$$.height)));this.bounds=new mxRectangle((null!=this.parentState?this.parentState.x:$e$$.x*$f$$)+this.unscaledBounds.x*$f$$,(null!=this.parentState?this.parentState.y:
$e$$.y*$f$$)+this.unscaledBounds.y*$f$$,this.unscaledBounds.width*$f$$,this.unscaledBounds.height*$f$$);$g$$.relative&&null!=this.parentState&&(this.bounds.x+=this.state.x-this.parentState.x,this.bounds.y+=this.state.y-this.parentState.y);$g$$=Math.cos($c$$);$k$$=Math.sin($c$$);$c$$=new mxPoint(this.bounds.getCenterX(),this.bounds.getCenterY());$l$$=$c$$.x-$b$$.x;$d$$=$c$$.y-$b$$.y;$b$$=$g$$*$l$$-$k$$*$d$$-$l$$;$c$$=$k$$*$l$$+$g$$*$d$$-$d$$;$l$$=this.bounds.x-this.state.x;$d$$=this.bounds.y-this.state.y;
$e$$=$g$$*$l$$-$k$$*$d$$;$g$$=$k$$*$l$$+$g$$*$d$$;this.bounds.x+=$b$$;this.bounds.y+=$c$$;this.unscaledBounds.x=this.roundLength(this.unscaledBounds.x+$b$$/$f$$);this.unscaledBounds.y=this.roundLength(this.unscaledBounds.y+$c$$/$f$$);this.unscaledBounds.width=this.roundLength(this.unscaledBounds.width);this.unscaledBounds.height=this.roundLength(this.unscaledBounds.height);this.graph.isCellCollapsed(this.state.cell)||0==$b$$&&0==$c$$?this.childOffsetY=this.childOffsetX=0:(this.childOffsetX=this.state.x-
this.bounds.x+$e$$,this.childOffsetY=this.state.y-this.bounds.y+$g$$);this.livePreview&&this.updateLivePreview($a$$);null!=this.preview&&this.drawPreview()};
mxVertexHandler.prototype.updateLivePreview=function $mxVertexHandler$$updateLivePreview$($a$$){var $b$$=this.graph.view.scale,$c$$=this.graph.view.translate;$a$$=this.state.clone();this.state.x=this.bounds.x;this.state.y=this.bounds.y;this.state.origin=new mxPoint(this.state.x/$b$$-$c$$.x,this.state.y/$b$$-$c$$.y);this.state.width=this.bounds.width;this.state.height=this.bounds.height;this.state.unscaledWidth=null;$b$$=this.state.absoluteOffset;new mxPoint($b$$.x,$b$$.y);this.state.absoluteOffset.x=
0;this.state.absoluteOffset.y=0;$b$$=this.graph.getCellGeometry(this.state.cell);null!=$b$$&&($c$$=$b$$.offset||this.EMPTY_POINT,null==$c$$||$b$$.relative||(this.state.absoluteOffset.x=this.state.view.scale*$c$$.x,this.state.absoluteOffset.y=this.state.view.scale*$c$$.y),this.state.view.updateVertexLabelOffset(this.state));this.state.view.graph.cellRenderer.redraw(this.state,!0);this.state.view.invalidate(this.state.cell);this.state.invalid=!1;this.state.view.validate();this.redrawHandles();this.state.setState($a$$)};
mxVertexHandler.prototype.mouseUp=function $mxVertexHandler$$mouseUp$($a$$,$b$$){if(null!=this.index&&null!=this.state){var $c$$=new mxPoint($b$$.getGraphX(),$b$$.getGraphY());this.graph.getModel().beginUpdate();try{if(this.index<=mxEvent.CUSTOM_HANDLE)null!=this.customHandles&&(this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].active=!1,this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].execute());else if(this.index==mxEvent.ROTATION_HANDLE)if(null!=this.currentAlpha){var $d$$=this.currentAlpha-
(this.state.style[mxConstants.STYLE_ROTATION]||0);0!=$d$$&&this.rotateCell(this.state.cell,$d$$)}else this.rotateClick();else{var $e$$=this.graph.isGridEnabledEvent($b$$.getEvent()),$f$$=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),$g$$=Math.cos(-$f$$),$k$$=Math.sin(-$f$$),$l$$=$c$$.x-this.startX,$m$$=$c$$.y-this.startY,$c$$=$k$$*$l$$+$g$$*$m$$,$l$$=$g$$*$l$$-$k$$*$m$$,$m$$=$c$$,$n$$=this.graph.view.scale,$p$$=this.isRecursiveResize(this.state,$b$$);this.resizeCell(this.state.cell,
this.roundLength($l$$/$n$$),this.roundLength($m$$/$n$$),this.index,$e$$,this.isConstrainedEvent($b$$),$p$$)}}finally{this.graph.getModel().endUpdate()}$b$$.consume();this.reset()}};mxVertexHandler.prototype.isRecursiveResize=function $mxVertexHandler$$isRecursiveResize$($a$$,$b$$){return this.graph.isRecursiveResize(this.state)};mxVertexHandler.prototype.rotateClick=function $mxVertexHandler$$rotateClick$(){};
mxVertexHandler.prototype.rotateCell=function $mxVertexHandler$$rotateCell$($a$$,$b$$,$c$$){if(0!=$b$$){var $d$$=this.graph.getModel();if($d$$.isVertex($a$$)||$d$$.isEdge($a$$)){if(!$d$$.isEdge($a$$)){var $e$$=this.graph.view.getState($a$$),$e$$=null!=$e$$?$e$$.style:this.graph.getCellStyle($a$$);null!=$e$$&&this.graph.setCellStyles(mxConstants.STYLE_ROTATION,($e$$[mxConstants.STYLE_ROTATION]||0)+$b$$,[$a$$])}$e$$=this.graph.getCellGeometry($a$$);if(null!=$e$$){var $f$$=this.graph.getCellGeometry($c$$);
null==$f$$||$d$$.isEdge($c$$)||($e$$=$e$$.clone(),$e$$.rotate($b$$,new mxPoint($f$$.width/2,$f$$.height/2)),$d$$.setGeometry($a$$,$e$$));if($d$$.isVertex($a$$)&&!$e$$.relative||$d$$.isEdge($a$$))for($c$$=$d$$.getChildCount($a$$),$e$$=0;$e$$<$c$$;$e$$++)this.rotateCell($d$$.getChildAt($a$$,$e$$),$b$$,$a$$)}}}};
mxVertexHandler.prototype.reset=function $mxVertexHandler$$reset$(){null!=this.sizers&&null!=this.index&&null!=this.sizers[this.index]&&"none"==this.sizers[this.index].node.style.display&&(this.sizers[this.index].node.style.display="");this.index=this.inTolerance=this.currentAlpha=null;null!=this.preview&&(this.preview.destroy(),this.preview=null);if(this.livePreview&&null!=this.sizers)for(var $a$$=0;$a$$<this.sizers.length;$a$$++)null!=this.sizers[$a$$]&&(this.sizers[$a$$].node.style.display="");
if(null!=this.customHandles)for($a$$=0;$a$$<this.customHandles.length;$a$$++)this.customHandles[$a$$].active?(this.customHandles[$a$$].active=!1,this.customHandles[$a$$].reset()):this.customHandles[$a$$].setVisible(!0);null!=this.selectionBorder&&(this.selectionBorder.node.style.display="inline",this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview());
this.removeHint();this.redrawHandles();this.unscaledBounds=this.edgeHandlers=null};
mxVertexHandler.prototype.resizeCell=function $mxVertexHandler$$resizeCell$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){$e$$=this.graph.model.getGeometry($a$$);null!=$e$$&&($d$$==mxEvent.LABEL_HANDLE?($c$$=this.graph.view.scale,$b$$=Math.round((this.labelShape.bounds.getCenterX()-this.startX)/$c$$),$c$$=Math.round((this.labelShape.bounds.getCenterY()-this.startY)/$c$$),$e$$=$e$$.clone(),null==$e$$.offset?$e$$.offset=new mxPoint($b$$,$c$$):($e$$.offset.x+=$b$$,$e$$.offset.y+=$c$$),this.graph.model.setGeometry($a$$,
$e$$)):null!=this.unscaledBounds&&($c$$=this.graph.view.scale,0==this.childOffsetX&&0==this.childOffsetY||this.moveChildren($a$$,Math.round(this.childOffsetX/$c$$),Math.round(this.childOffsetY/$c$$)),this.graph.resizeCell($a$$,this.unscaledBounds,$g$$)))};
mxVertexHandler.prototype.moveChildren=function $mxVertexHandler$$moveChildren$($a$$,$b$$,$c$$){for(var $d$$=this.graph.getModel(),$e$$=$d$$.getChildCount($a$$),$f$$=0;$f$$<$e$$;$f$$++){var $g$$=$d$$.getChildAt($a$$,$f$$),$k$$=this.graph.getCellGeometry($g$$);null!=$k$$&&($k$$=$k$$.clone(),$k$$.translate($b$$,$c$$),$d$$.setGeometry($g$$,$k$$))}};
mxVertexHandler.prototype.union=function $mxVertexHandler$$union$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$){if(this.singleSizer)return $d$$=$a$$.x+$a$$.width+$b$$,$g$$=$a$$.y+$a$$.height+$c$$,$e$$&&($d$$=this.graph.snap($d$$/$f$$)*$f$$,$g$$=this.graph.snap($g$$/$f$$)*$f$$),$f$$=new mxRectangle($a$$.x,$a$$.y,0,0),$f$$.add(new mxRectangle($d$$,$g$$,0,0)),$f$$;var $m$$=$a$$.width,$n$$=$a$$.height,$p$$=$a$$.x-$g$$.x*$f$$,$q$$=$p$$+$m$$;$a$$=$a$$.y-$g$$.y*$f$$;var $r$$=$a$$+$n$$,$t$$=$p$$+$m$$/2,$u$$=
$a$$+$n$$/2;4<$d$$?($r$$+=$c$$,$e$$&&($r$$=this.graph.snap($r$$/$f$$)*$f$$)):3>$d$$&&($a$$+=$c$$,$e$$&&($a$$=this.graph.snap($a$$/$f$$)*$f$$));if(0==$d$$||3==$d$$||5==$d$$)$p$$+=$b$$,$e$$&&($p$$=this.graph.snap($p$$/$f$$)*$f$$);else if(2==$d$$||4==$d$$||7==$d$$)$q$$+=$b$$,$e$$&&($q$$=this.graph.snap($q$$/$f$$)*$f$$);$e$$=$q$$-$p$$;$c$$=$r$$-$a$$;$k$$&&($k$$=this.graph.getCellGeometry(this.state.cell),null!=$k$$&&($k$$=$k$$.width/$k$$.height,1==$d$$||2==$d$$||7==$d$$||6==$d$$?$e$$=$c$$*$k$$:$c$$=$e$$/
$k$$,0==$d$$&&($p$$=$q$$-$e$$,$a$$=$r$$-$c$$)));$l$$&&($e$$+=$e$$-$m$$,$c$$+=$c$$-$n$$,$p$$+=$t$$-($p$$+$e$$/2),$a$$+=$u$$-($a$$+$c$$/2));0>$e$$&&($p$$+=$e$$,$e$$=Math.abs($e$$));0>$c$$&&($a$$+=$c$$,$c$$=Math.abs($c$$));$d$$=new mxRectangle($p$$+$g$$.x*$f$$,$a$$+$g$$.y*$f$$,$e$$,$c$$);null!=this.minBounds&&($d$$.width=Math.max($d$$.width,this.minBounds.x*$f$$+this.minBounds.width*$f$$+Math.max(0,this.x0*$f$$-$d$$.x)),$d$$.height=Math.max($d$$.height,this.minBounds.y*$f$$+this.minBounds.height*$f$$+
Math.max(0,this.y0*$f$$-$d$$.y)));return $d$$};mxVertexHandler.prototype.redraw=function $mxVertexHandler$$redraw$(){this.selectionBounds=this.getSelectionBounds(this.state);this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height);this.redrawHandles();this.drawPreview()};
mxVertexHandler.prototype.getHandlePadding=function $mxVertexHandler$$getHandlePadding$(){var $a$$=new mxPoint(0,0),$b$$=this.tolerance;null!=this.sizers&&0<this.sizers.length&&null!=this.sizers[0]&&(this.bounds.width<2*this.sizers[0].bounds.width+2*$b$$||this.bounds.height<2*this.sizers[0].bounds.height+2*$b$$)&&($b$$/=2,$a$$.x=this.sizers[0].bounds.width+$b$$,$a$$.y=this.sizers[0].bounds.height+$b$$);return $a$$};
mxVertexHandler.prototype.redrawHandles=function $mxVertexHandler$$redrawHandles$(){var $a$$=this.tolerance;this.verticalOffset=this.horizontalOffset=0;var $b$$=this.bounds;if(null!=this.sizers&&0<this.sizers.length&&null!=this.sizers[0]){if(null==this.index&&this.manageSizers&&8<=this.sizers.length){var $c$$=this.getHandlePadding();this.horizontalOffset=$c$$.x;this.verticalOffset=$c$$.y;if(0!=this.horizontalOffset||0!=this.verticalOffset)$b$$=new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height),
$b$$.x-=this.horizontalOffset/2,$b$$.width+=this.horizontalOffset,$b$$.y-=this.verticalOffset/2,$b$$.height+=this.verticalOffset;8<=this.sizers.length&&($b$$.width<2*this.sizers[0].bounds.width+2*$a$$||$b$$.height<2*this.sizers[0].bounds.height+2*$a$$?(this.sizers[0].node.style.display="none",this.sizers[2].node.style.display="none",this.sizers[5].node.style.display="none",this.sizers[7].node.style.display="none"):(this.sizers[0].node.style.display="",this.sizers[2].node.style.display="",this.sizers[5].node.style.display=
"",this.sizers[7].node.style.display=""))}$a$$=$b$$.x+$b$$.width;$c$$=$b$$.y+$b$$.height;if(this.singleSizer)this.moveSizerTo(this.sizers[0],$a$$,$c$$);else{var $d$$=$b$$.x+$b$$.width/2,$e$$=$b$$.y+$b$$.height/2;if(8<=this.sizers.length){var $f$$="nw-resize n-resize ne-resize e-resize se-resize s-resize sw-resize w-resize".split(" "),$g$$=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),$k$$=Math.cos($g$$),$l$$=Math.sin($g$$),$g$$=Math.round(4*$g$$/Math.PI),$m$$=new mxPoint($b$$.getCenterX(),
$b$$.getCenterY()),$n$$=mxUtils.getRotatedPoint(new mxPoint($b$$.x,$b$$.y),$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[0],$n$$.x,$n$$.y);this.sizers[0].setCursor($f$$[mxUtils.mod(0+$g$$,$f$$.length)]);$n$$.x=$d$$;$n$$.y=$b$$.y;$n$$=mxUtils.getRotatedPoint($n$$,$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[1],$n$$.x,$n$$.y);this.sizers[1].setCursor($f$$[mxUtils.mod(1+$g$$,$f$$.length)]);$n$$.x=$a$$;$n$$.y=$b$$.y;$n$$=mxUtils.getRotatedPoint($n$$,$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[2],$n$$.x,
$n$$.y);this.sizers[2].setCursor($f$$[mxUtils.mod(2+$g$$,$f$$.length)]);$n$$.x=$b$$.x;$n$$.y=$e$$;$n$$=mxUtils.getRotatedPoint($n$$,$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[3],$n$$.x,$n$$.y);this.sizers[3].setCursor($f$$[mxUtils.mod(7+$g$$,$f$$.length)]);$n$$.x=$a$$;$n$$.y=$e$$;$n$$=mxUtils.getRotatedPoint($n$$,$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[4],$n$$.x,$n$$.y);this.sizers[4].setCursor($f$$[mxUtils.mod(3+$g$$,$f$$.length)]);$n$$.x=$b$$.x;$n$$.y=$c$$;$n$$=mxUtils.getRotatedPoint($n$$,
$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[5],$n$$.x,$n$$.y);this.sizers[5].setCursor($f$$[mxUtils.mod(6+$g$$,$f$$.length)]);$n$$.x=$d$$;$n$$.y=$c$$;$n$$=mxUtils.getRotatedPoint($n$$,$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[6],$n$$.x,$n$$.y);this.sizers[6].setCursor($f$$[mxUtils.mod(5+$g$$,$f$$.length)]);$n$$.x=$a$$;$n$$.y=$c$$;$n$$=mxUtils.getRotatedPoint($n$$,$k$$,$l$$,$m$$);this.moveSizerTo(this.sizers[7],$n$$.x,$n$$.y);this.sizers[7].setCursor($f$$[mxUtils.mod(4+$g$$,$f$$.length)]);this.moveSizerTo(this.sizers[8],
$d$$+this.state.absoluteOffset.x,$e$$+this.state.absoluteOffset.y)}else 2<=this.state.width&&2<=this.state.height?this.moveSizerTo(this.sizers[0],$d$$+this.state.absoluteOffset.x,$e$$+this.state.absoluteOffset.y):this.moveSizerTo(this.sizers[0],this.state.x,this.state.y)}}null!=this.rotationShape&&($g$$=mxUtils.toRadians(null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0"),$k$$=Math.cos($g$$),$l$$=Math.sin($g$$),$m$$=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),
$n$$=mxUtils.getRotatedPoint(this.getRotationHandlePosition(),$k$$,$l$$,$m$$),null!=this.rotationShape.node&&(this.moveSizerTo(this.rotationShape,$n$$.x,$n$$.y),this.rotationShape.node.style.visibility=this.state.view.graph.isEditing()?"hidden":""));null!=this.selectionBorder&&(this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"));if(null!=this.edgeHandlers)for($b$$=0;$b$$<this.edgeHandlers.length;$b$$++)this.edgeHandlers[$b$$].redraw();if(null!=this.customHandles)for($b$$=
0;$b$$<this.customHandles.length;$b$$++)$a$$=this.customHandles[$b$$].shape.node.style.display,this.customHandles[$b$$].redraw(),this.customHandles[$b$$].shape.node.style.display=$a$$,this.customHandles[$b$$].shape.node.style.visibility=this.graph.isEditing()?"hidden":"";this.updateParentHighlight()};mxVertexHandler.prototype.getRotationHandlePosition=function $mxVertexHandler$$getRotationHandlePosition$(){return new mxPoint(this.bounds.x+this.bounds.width/2,this.bounds.y+this.rotationHandleVSpacing)};
mxVertexHandler.prototype.updateParentHighlight=function $mxVertexHandler$$updateParentHighlight$(){if(null!=this.selectionBorder)if(null!=this.parentHighlight){var $a$$=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex($a$$)){var $a$$=this.graph.view.getState($a$$),$b$$=this.parentHighlight.bounds;null==$a$$||$b$$.x==$a$$.x&&$b$$.y==$a$$.y&&$b$$.width==$a$$.width&&$b$$.height==$a$$.height||(this.parentHighlight.bounds=$a$$,this.parentHighlight.redraw())}else this.parentHighlight.destroy(),
this.parentHighlight=null}else this.parentHighlightEnabled&&($a$$=this.graph.model.getParent(this.state.cell),this.graph.model.isVertex($a$$)&&($a$$=this.graph.view.getState($a$$),null!=$a$$&&(this.parentHighlight=this.createParentHighlightShape($a$$),this.parentHighlight.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number($a$$.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))))};
mxVertexHandler.prototype.drawPreview=function $mxVertexHandler$$drawPreview$(){null!=this.preview&&(this.preview.bounds=this.bounds,this.preview.node.parentNode==this.graph.container&&(this.preview.bounds.width=Math.max(0,this.preview.bounds.width-1),this.preview.bounds.height=Math.max(0,this.preview.bounds.height-1)),this.preview.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.preview.redraw());this.selectionBorder.bounds=this.bounds;this.selectionBorder.redraw();null!=this.parentHighlight&&
this.parentHighlight.redraw()};
mxVertexHandler.prototype.destroy=function $mxVertexHandler$$destroy$(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null);null!=this.preview&&(this.preview.destroy(),this.preview=null);null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null);null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null);this.labelShape=null;this.removeHint();if(null!=this.sizers){for(var $a$$=0;$a$$<this.sizers.length;$a$$++)this.sizers[$a$$].destroy();
this.sizers=null}if(null!=this.customHandles){for($a$$=0;$a$$<this.customHandles.length;$a$$++)this.customHandles[$a$$].destroy();this.customHandles=null}};function mxEdgeHandler($a$$){null!=$a$$&&(this.state=$a$$,this.init(),this.escapeHandler=mxUtils.bind(this,function($b$$,$c$$){var $d$$=null!=this.index;this.reset();$d$$&&this.graph.cellRenderer.redraw(this.state,!1,$a$$.view.isRendering())}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}mxEdgeHandler.prototype.graph=null;
mxEdgeHandler.prototype.state=null;mxEdgeHandler.prototype.marker=null;mxEdgeHandler.prototype.constraintHandler=null;mxEdgeHandler.prototype.error=null;mxEdgeHandler.prototype.shape=null;mxEdgeHandler.prototype.bends=null;mxEdgeHandler.prototype.labelShape=null;mxEdgeHandler.prototype.cloneEnabled=!0;mxEdgeHandler.prototype.addEnabled=!1;mxEdgeHandler.prototype.removeEnabled=!1;mxEdgeHandler.prototype.dblClickRemoveEnabled=!1;mxEdgeHandler.prototype.mergeRemoveEnabled=!1;
mxEdgeHandler.prototype.straightRemoveEnabled=!1;mxEdgeHandler.prototype.virtualBendsEnabled=!1;mxEdgeHandler.prototype.virtualBendOpacity=20;mxEdgeHandler.prototype.parentHighlightEnabled=!1;mxEdgeHandler.prototype.preferHtml=!1;mxEdgeHandler.prototype.allowHandleBoundsCheck=!0;mxEdgeHandler.prototype.snapToTerminals=!1;mxEdgeHandler.prototype.handleImage=null;mxEdgeHandler.prototype.tolerance=0;mxEdgeHandler.prototype.outlineConnect=!1;mxEdgeHandler.prototype.manageLabelHandle=!1;
mxEdgeHandler.prototype.init=function $mxEdgeHandler$$init$(){this.graph=this.state.view.graph;this.marker=this.createMarker();this.constraintHandler=new mxConstraintHandler(this.graph);this.points=[];this.abspoints=this.getSelectionPoints(this.state);this.shape=this.createSelectionShape(this.abspoints);this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG;this.shape.init(this.graph.getView().getOverlayPane());this.shape.pointerEvents=
!1;this.shape.setCursor(mxConstants.CURSOR_MOVABLE_EDGE);mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state);this.preferHtml=null!=this.state.text&&this.state.text.node.parentNode==this.graph.container;if(!this.preferHtml){var $a$$=this.state.getVisibleTerminalState(!0);null!=$a$$&&(this.preferHtml=null!=$a$$.text&&$a$$.text.node.parentNode==this.graph.container);this.preferHtml||($a$$=this.state.getVisibleTerminalState(!1),null!=$a$$&&(this.preferHtml=null!=$a$$.text&&$a$$.text.node.parentNode==
this.graph.container))}this.parentHighlightEnabled&&($a$$=this.graph.model.getParent(this.state.cell),this.graph.model.isVertex($a$$)&&($a$$=this.graph.view.getState($a$$),null!=$a$$&&(this.parentHighlight=this.createParentHighlightShape($a$$),this.parentHighlight.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number($a$$.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))));
if(this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells||0>=mxGraphHandler.prototype.maxCells)this.bends=this.createBends(),this.isVirtualBendsEnabled()&&(this.virtualBends=this.createVirtualBends());this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y);this.labelShape=this.createLabelHandleShape();this.initBend(this.labelShape);this.labelShape.setCursor(mxConstants.CURSOR_LABEL_HANDLE);this.customHandles=this.createCustomHandles();this.redraw()};
mxEdgeHandler.prototype.createCustomHandles=function $mxEdgeHandler$$createCustomHandles$(){return null};mxEdgeHandler.prototype.isVirtualBendsEnabled=function $mxEdgeHandler$$isVirtualBendsEnabled$($a$$){return this.virtualBendsEnabled&&(null==this.state.style[mxConstants.STYLE_EDGE]||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.NONE||1==this.state.style[mxConstants.STYLE_NOEDGESTYLE])&&"arrow"!=mxUtils.getValue(this.state.style,mxConstants.STYLE_SHAPE,null)};
mxEdgeHandler.prototype.isAddPointEvent=function $mxEdgeHandler$$isAddPointEvent$($a$$){return mxEvent.isShiftDown($a$$)};mxEdgeHandler.prototype.isRemovePointEvent=function $mxEdgeHandler$$isRemovePointEvent$($a$$){return mxEvent.isShiftDown($a$$)};mxEdgeHandler.prototype.getSelectionPoints=function $mxEdgeHandler$$getSelectionPoints$($a$$){return $a$$.absolutePoints};
mxEdgeHandler.prototype.createParentHighlightShape=function $mxEdgeHandler$$createParentHighlightShape$($a$$){$a$$=new mxRectangleShape($a$$,null,this.getSelectionColor());$a$$.strokewidth=this.getSelectionStrokeWidth();$a$$.isDashed=this.isSelectionDashed();return $a$$};
mxEdgeHandler.prototype.createSelectionShape=function $mxEdgeHandler$$createSelectionShape$($a$$){$a$$=new this.state.shape.constructor;$a$$.outline=!0;$a$$.apply(this.state);$a$$.isDashed=this.isSelectionDashed();$a$$.stroke=this.getSelectionColor();$a$$.isShadow=!1;return $a$$};mxEdgeHandler.prototype.getSelectionColor=function $mxEdgeHandler$$getSelectionColor$(){return mxConstants.EDGE_SELECTION_COLOR};mxEdgeHandler.prototype.getSelectionStrokeWidth=function $mxEdgeHandler$$getSelectionStrokeWidth$(){return mxConstants.EDGE_SELECTION_STROKEWIDTH};
mxEdgeHandler.prototype.isSelectionDashed=function $mxEdgeHandler$$isSelectionDashed$(){return mxConstants.EDGE_SELECTION_DASHED};mxEdgeHandler.prototype.isConnectableCell=function $mxEdgeHandler$$isConnectableCell$($a$$){return!0};mxEdgeHandler.prototype.getCellAt=function $mxEdgeHandler$$getCellAt$($a$$,$b$$){return this.outlineConnect?null:this.graph.getCellAt($a$$,$b$$)};
mxEdgeHandler.prototype.createMarker=function $mxEdgeHandler$$createMarker$(){var $a$jscomp$0$$=new mxCellMarker(this.graph),$b$$=this;$a$jscomp$0$$.getCell=function $$a$jscomp$0$$$getCell$($a$$){var $c$$=mxCellMarker.prototype.getCell.apply(this,arguments);$c$$!=$b$$.state.cell&&null!=$c$$||null==$b$$.currentPoint||($c$$=$b$$.graph.getCellAt($b$$.currentPoint.x,$b$$.currentPoint.y));if(null!=$c$$&&!this.graph.isCellConnectable($c$$)){var $e$$=this.graph.getModel().getParent($c$$);this.graph.getModel().isVertex($e$$)&&
this.graph.isCellConnectable($e$$)&&($c$$=$e$$)}$e$$=$b$$.graph.getModel();if(this.graph.isSwimlane($c$$)&&null!=$b$$.currentPoint&&this.graph.hitsSwimlaneContent($c$$,$b$$.currentPoint.x,$b$$.currentPoint.y)||!$b$$.isConnectableCell($c$$)||$c$$==$b$$.state.cell||null!=$c$$&&!$b$$.graph.connectableEdges&&$e$$.isEdge($c$$)||$e$$.isAncestor($b$$.state.cell,$c$$))$c$$=null;this.graph.isCellConnectable($c$$)||($c$$=null);return $c$$};$a$jscomp$0$$.isValidState=function $$a$jscomp$0$$$isValidState$($a$$){var $c$$=
$b$$.graph.getModel(),$c$$=$b$$.graph.view.getTerminalPort($a$$,$b$$.graph.view.getState($c$$.getTerminal($b$$.state.cell,!$b$$.isSource)),!$b$$.isSource),$c$$=null!=$c$$?$c$$.cell:null;$b$$.error=$b$$.validateConnection($b$$.isSource?$a$$.cell:$c$$,$b$$.isSource?$c$$:$a$$.cell);return null==$b$$.error};return $a$jscomp$0$$};mxEdgeHandler.prototype.validateConnection=function $mxEdgeHandler$$validateConnection$($a$$,$b$$){return this.graph.getEdgeValidationError(this.state.cell,$a$$,$b$$)};
mxEdgeHandler.prototype.createBends=function $mxEdgeHandler$$createBends$(){for(var $a$jscomp$0$$=this.state.cell,$b$$=[],$c$$=0;$c$$<this.abspoints.length;$c$$++)if(this.isHandleVisible($c$$)){var $d$jscomp$0$$=$c$$==this.abspoints.length-1,$e$$=0==$c$$||$d$jscomp$0$$;($e$$||this.graph.isCellBendable($a$jscomp$0$$))&&mxUtils.bind(this,function($a$$){var $d$$=this.createHandleShape($a$$);this.initBend($d$$,mxUtils.bind(this,mxUtils.bind(this,function(){this.dblClickRemoveEnabled&&this.removePoint(this.state,
$a$$)})));this.isHandleEnabled($c$$)&&$d$$.setCursor($e$$?mxConstants.CURSOR_TERMINAL_HANDLE:mxConstants.CURSOR_BEND_HANDLE);$b$$.push($d$$);$e$$||(this.points.push(new mxPoint(0,0)),$d$$.node.style.visibility="hidden")})($c$$)}return $b$$};
mxEdgeHandler.prototype.createVirtualBends=function $mxEdgeHandler$$createVirtualBends$(){var $a$$=[];if(this.graph.isCellBendable(this.state.cell))for(var $b$jscomp$0$$=1;$b$jscomp$0$$<this.abspoints.length;$b$jscomp$0$$++)mxUtils.bind(this,function($b$$){this.initBend($b$$);$b$$.setCursor(mxConstants.CURSOR_VIRTUAL_BEND_HANDLE);$a$$.push($b$$)})(this.createHandleShape());return $a$$};mxEdgeHandler.prototype.isHandleEnabled=function $mxEdgeHandler$$isHandleEnabled$($a$$){return!0};
mxEdgeHandler.prototype.isHandleVisible=function $mxEdgeHandler$$isHandleVisible$($a$$){var $b$$=this.state.getVisibleTerminalState(!0),$c$$=this.state.getVisibleTerminalState(!1),$d$$=this.graph.getCellGeometry(this.state.cell);return(null!=$d$$?this.graph.view.getEdgeStyle(this.state,$d$$.points,$b$$,$c$$):null)!=mxEdgeStyle.EntityRelation||0==$a$$||$a$$==this.abspoints.length-1};
mxEdgeHandler.prototype.createHandleShape=function $mxEdgeHandler$$createHandleShape$($a$$){if(null!=this.handleImage)return $a$$=new mxImageShape(new mxRectangle(0,0,this.handleImage.width,this.handleImage.height),this.handleImage.src),$a$$.preserveImageAspect=!1,$a$$;$a$$=mxConstants.HANDLE_SIZE;this.preferHtml&&--$a$$;return new mxRectangleShape(new mxRectangle(0,0,$a$$,$a$$),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxEdgeHandler.prototype.createLabelHandleShape=function $mxEdgeHandler$$createLabelHandleShape$(){if(null!=this.labelHandleImage){var $a$$=new mxImageShape(new mxRectangle(0,0,this.labelHandleImage.width,this.labelHandleImage.height),this.labelHandleImage.src);$a$$.preserveImageAspect=!1;return $a$$}$a$$=mxConstants.LABEL_HANDLE_SIZE;return new mxRectangleShape(new mxRectangle(0,0,$a$$,$a$$),mxConstants.LABEL_HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};
mxEdgeHandler.prototype.initBend=function $mxEdgeHandler$$initBend$($a$jscomp$0$$,$b$$){this.preferHtml?($a$jscomp$0$$.dialect=mxConstants.DIALECT_STRICTHTML,$a$jscomp$0$$.init(this.graph.container)):($a$jscomp$0$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,$a$jscomp$0$$.init(this.graph.getView().getOverlayPane()));mxEvent.redirectMouseEvents($a$jscomp$0$$.node,this.graph,this.state,null,null,null,$b$$);(mxClient.IS_QUIRKS||8==document.documentMode)&&
mxEvent.addListener($a$jscomp$0$$.node,"dragstart",function($a$$){mxEvent.consume($a$$);return!1});mxClient.IS_TOUCH&&$a$jscomp$0$$.node.setAttribute("pointer-events","none")};
mxEdgeHandler.prototype.getHandleForEvent=function $mxEdgeHandler$$getHandleForEvent$($a$$){function $b$jscomp$0$$($b$$){if(null!=$b$$&&"none"!=$b$$.node.style.display&&"hidden"!=$b$$.node.style.visibility&&($a$$.isSource($b$$)||null!=$d$$&&mxUtils.intersects($b$$.bounds,$d$$))){var $c$$=$a$$.getGraphX()-$b$$.bounds.getCenterX();$b$$=$a$$.getGraphY()-$b$$.bounds.getCenterY();$c$$=$c$$*$c$$+$b$$*$b$$;if(null==$e$$||$c$$<=$e$$)return $e$$=$c$$,!0}return!1}var $c$jscomp$0$$=mxEvent.isMouseEvent($a$$.getEvent())?
1:this.tolerance,$d$$=this.allowHandleBoundsCheck&&(mxClient.IS_IE||0<$c$jscomp$0$$)?new mxRectangle($a$$.getGraphX()-$c$jscomp$0$$,$a$$.getGraphY()-$c$jscomp$0$$,2*$c$jscomp$0$$,2*$c$jscomp$0$$):null,$e$$=null,$c$jscomp$0$$=null;if(null!=this.customHandles&&this.isCustomHandleEvent($a$$))for(var $f$$=this.customHandles.length-1;0<=$f$$;$f$$--)if($b$jscomp$0$$(this.customHandles[$f$$].shape))return mxEvent.CUSTOM_HANDLE-$f$$;if($a$$.isSource(this.state.text)||$b$jscomp$0$$(this.labelShape))$c$jscomp$0$$=
mxEvent.LABEL_HANDLE;if(null!=this.bends)for($f$$=0;$f$$<this.bends.length;$f$$++)$b$jscomp$0$$(this.bends[$f$$])&&($c$jscomp$0$$=$f$$);if(null!=this.virtualBends&&this.isAddVirtualBendEvent($a$$))for($f$$=0;$f$$<this.virtualBends.length;$f$$++)$b$jscomp$0$$(this.virtualBends[$f$$])&&($c$jscomp$0$$=mxEvent.VIRTUAL_HANDLE-$f$$);return $c$jscomp$0$$};mxEdgeHandler.prototype.isAddVirtualBendEvent=function $mxEdgeHandler$$isAddVirtualBendEvent$($a$$){return!0};
mxEdgeHandler.prototype.isCustomHandleEvent=function $mxEdgeHandler$$isCustomHandleEvent$($a$$){return!0};
mxEdgeHandler.prototype.mouseDown=function $mxEdgeHandler$$mouseDown$($a$$,$b$$){var $c$$=this.getHandleForEvent($b$$);if(null!=this.bends&&null!=this.bends[$c$$]){var $d$$=this.bends[$c$$].bounds;this.snapPoint=new mxPoint($d$$.getCenterX(),$d$$.getCenterY())}if(this.addEnabled&&null==$c$$&&this.isAddPointEvent($b$$.getEvent()))this.addPoint(this.state,$b$$.getEvent()),$b$$.consume();else if(null!=$c$$&&!$b$$.isConsumed()&&this.graph.isEnabled()){if(this.removeEnabled&&this.isRemovePointEvent($b$$.getEvent()))this.removePoint(this.state,
$c$$);else if($c$$!=mxEvent.LABEL_HANDLE||this.graph.isLabelMovable($b$$.getCell()))$c$$<=mxEvent.VIRTUAL_HANDLE&&mxUtils.setOpacity(this.virtualBends[mxEvent.VIRTUAL_HANDLE-$c$$].node,100),this.start($b$$.getX(),$b$$.getY(),$c$$);$b$$.consume()}};
mxEdgeHandler.prototype.start=function $mxEdgeHandler$$start$($a$$,$b$$,$c$$){this.startX=$a$$;this.startY=$b$$;this.isSource=null==this.bends?!1:0==$c$$;this.isTarget=null==this.bends?!1:$c$$==this.bends.length-1;this.isLabel=$c$$==mxEvent.LABEL_HANDLE;if(this.isSource||this.isTarget){if($a$$=this.state.cell,$b$$=this.graph.model.getTerminal($a$$,this.isSource),null==$b$$&&this.graph.isTerminalPointMovable($a$$,this.isSource)||null!=$b$$&&this.graph.isCellDisconnectable($a$$,$b$$,this.isSource))this.index=
$c$$}else this.index=$c$$;if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE&&null!=this.customHandles)for($c$$=0;$c$$<this.customHandles.length;$c$$++)$c$$!=mxEvent.CUSTOM_HANDLE-this.index&&this.customHandles[$c$$].setVisible(!1)};mxEdgeHandler.prototype.clonePreviewState=function $mxEdgeHandler$$clonePreviewState$($a$$,$b$$){return this.state.clone()};
mxEdgeHandler.prototype.getSnapToTerminalTolerance=function $mxEdgeHandler$$getSnapToTerminalTolerance$(){return this.graph.gridSize*this.graph.view.scale/2};mxEdgeHandler.prototype.updateHint=function $mxEdgeHandler$$updateHint$($a$$,$b$$){};mxEdgeHandler.prototype.removeHint=function $mxEdgeHandler$$removeHint$(){};mxEdgeHandler.prototype.roundLength=function $mxEdgeHandler$$roundLength$($a$$){return Math.round($a$$)};
mxEdgeHandler.prototype.isSnapToTerminalsEvent=function $mxEdgeHandler$$isSnapToTerminalsEvent$($a$$){return this.snapToTerminals&&!mxEvent.isAltDown($a$$.getEvent())};
mxEdgeHandler.prototype.getPointForEvent=function $mxEdgeHandler$$getPointForEvent$($a$jscomp$0$$){var $b$jscomp$0$$=this.graph.getView(),$c$$=$b$jscomp$0$$.scale,$d$$=new mxPoint(this.roundLength($a$jscomp$0$$.getGraphX()/$c$$)*$c$$,this.roundLength($a$jscomp$0$$.getGraphY()/$c$$)*$c$$),$e$$=this.getSnapToTerminalTolerance(),$f$$=!1,$g$$=!1;if(0<$e$$&&this.isSnapToTerminalsEvent($a$jscomp$0$$)){var $k$$=function $$k$$$($a$$){null!=$a$$&&$l$$.call(this,new mxPoint($b$jscomp$0$$.getRoutingCenterX($a$$),
$b$jscomp$0$$.getRoutingCenterY($a$$)))},$l$$=function $$l$$$($a$$){if(null!=$a$$){var $b$$=$a$$.x;Math.abs($d$$.x-$b$$)<$e$$&&($d$$.x=$b$$,$f$$=!0);$a$$=$a$$.y;Math.abs($d$$.y-$a$$)<$e$$&&($d$$.y=$a$$,$g$$=!0)}};$k$$.call(this,this.state.getVisibleTerminalState(!0));$k$$.call(this,this.state.getVisibleTerminalState(!1));if(null!=this.state.absolutePoints)for($k$$=0;$k$$<this.state.absolutePoints.length;$k$$++)$l$$.call(this,this.state.absolutePoints[$k$$])}this.graph.isGridEnabledEvent($a$jscomp$0$$.getEvent())&&
($a$jscomp$0$$=$b$jscomp$0$$.translate,$f$$||($d$$.x=(this.graph.snap($d$$.x/$c$$-$a$jscomp$0$$.x)+$a$jscomp$0$$.x)*$c$$),$g$$||($d$$.y=(this.graph.snap($d$$.y/$c$$-$a$jscomp$0$$.y)+$a$jscomp$0$$.y)*$c$$));return $d$$};
mxEdgeHandler.prototype.getPreviewTerminalState=function $mxEdgeHandler$$getPreviewTerminalState$($a$$){this.constraintHandler.update($a$$,this.isSource,!0,$a$$.isSource(this.marker.highlight.shape)?null:this.currentPoint);if(null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint)return null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&
(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),$a$$=this.graph.getModel(),$a$$=this.graph.view.getTerminalPort(this.state,this.graph.view.getState($a$$.getTerminal(this.state.cell,!this.isSource)),!this.isSource),$a$$=null!=$a$$?$a$$.cell:null,this.error=this.validateConnection(this.isSource?this.constraintHandler.currentFocus.cell:$a$$,this.isSource?$a$$:this.constraintHandler.currentFocus.cell),
$a$$=null,null==this.error?$a$$=this.constraintHandler.currentFocus:this.constraintHandler.reset(),$a$$;if(this.graph.isIgnoreTerminalEvent($a$$.getEvent()))return this.marker.reset(),null;this.marker.process($a$$);$a$$=this.marker.getValidState();null!=$a$$&&this.graph.isCellLocked($a$$.cell)&&this.marker.reset();return this.marker.getValidState()};
mxEdgeHandler.prototype.getPreviewPoints=function $mxEdgeHandler$$getPreviewPoints$($a$$,$b$$){var $c$$=this.graph.getCellGeometry(this.state.cell),$c$$=null!=$c$$.points?$c$$.points.slice():null,$d$$=new mxPoint($a$$.x,$a$$.y),$e$$=null;if(this.isSource||this.isTarget)this.graph.resetEdgesOnConnect&&($c$$=null);else if(this.convertPoint($d$$,!1),null==$c$$)$c$$=[$d$$];else{this.index<=mxEvent.VIRTUAL_HANDLE&&$c$$.splice(mxEvent.VIRTUAL_HANDLE-this.index,0,$d$$);if(!this.isSource&&!this.isTarget){for(var $f$$=
0;$f$$<this.bends.length;$f$$++)if($f$$!=this.index){var $g$$=this.bends[$f$$];null!=$g$$&&mxUtils.contains($g$$.bounds,$a$$.x,$a$$.y)&&(this.index<=mxEvent.VIRTUAL_HANDLE?$c$$.splice(mxEvent.VIRTUAL_HANDLE-this.index,1):$c$$.splice(this.index-1,1),$e$$=$c$$)}if(null==$e$$&&this.straightRemoveEnabled&&(null==$b$$||!mxEvent.isAltDown($b$$.getEvent()))){$f$$=this.graph.tolerance*this.graph.tolerance;$g$$=this.state.absolutePoints.slice();$g$$[this.index]=$a$$;var $k$$=this.state.getVisibleTerminalState(!0);
if(null!=$k$$){var $l$$=this.graph.getConnectionConstraint(this.state,$k$$,!0);if(null==$l$$||null==this.graph.getConnectionPoint($k$$,$l$$))$g$$[0]=new mxPoint($k$$.view.getRoutingCenterX($k$$),$k$$.view.getRoutingCenterY($k$$))}$k$$=this.state.getVisibleTerminalState(!1);null!=$k$$&&($l$$=this.graph.getConnectionConstraint(this.state,$k$$,!1),null==$l$$||null==this.graph.getConnectionPoint($k$$,$l$$))&&($g$$[$g$$.length-1]=new mxPoint($k$$.view.getRoutingCenterX($k$$),$k$$.view.getRoutingCenterY($k$$)));
$l$$=this.index;0<$l$$&&$l$$<$g$$.length-1&&mxUtils.ptSegDistSq($g$$[$l$$-1].x,$g$$[$l$$-1].y,$g$$[$l$$+1].x,$g$$[$l$$+1].y,$a$$.x,$a$$.y)<$f$$&&($c$$.splice($l$$-1,1),$e$$=$c$$)}}null==$e$$&&this.index>mxEvent.VIRTUAL_HANDLE&&($c$$[this.index-1]=$d$$)}return null!=$e$$?$e$$:$c$$};
mxEdgeHandler.prototype.isOutlineConnectEvent=function $mxEdgeHandler$$isOutlineConnectEvent$($a$$){var $b$$=mxUtils.getOffset(this.graph.container),$c$$=$a$$.getEvent(),$d$$=mxEvent.getClientX($c$$),$c$$=mxEvent.getClientY($c$$),$e$$=document.documentElement,$f$$=this.currentPoint.x-this.graph.container.scrollLeft+$b$$.x-((window.pageXOffset||$e$$.scrollLeft)-($e$$.clientLeft||0)),$b$$=this.currentPoint.y-this.graph.container.scrollTop+$b$$.y-((window.pageYOffset||$e$$.scrollTop)-($e$$.clientTop||
0));return this.outlineConnect&&!mxEvent.isShiftDown($a$$.getEvent())&&($a$$.isSource(this.marker.highlight.shape)||mxEvent.isAltDown($a$$.getEvent())&&null!=$a$$.getState()||this.marker.highlight.isHighlightAt($d$$,$c$$)||($f$$!=$d$$||$b$$!=$c$$)&&null==$a$$.getState()&&this.marker.highlight.isHighlightAt($f$$,$b$$))};
mxEdgeHandler.prototype.updatePreviewState=function $mxEdgeHandler$$updatePreviewState$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.isSource?$c$$:this.state.getVisibleTerminalState(!0),$g$$=this.isTarget?$c$$:this.state.getVisibleTerminalState(!1),$k$$=this.graph.getConnectionConstraint($a$$,$f$$,!0),$l$$=this.graph.getConnectionConstraint($a$$,$g$$,!1),$m$$=this.constraintHandler.currentConstraint;null==$m$$&&$e$$&&(null!=$c$$?($d$$.isSource(this.marker.highlight.shape)&&($b$$=new mxPoint($d$$.getGraphX(),
$d$$.getGraphY())),$m$$=this.graph.getOutlineConstraint($b$$,$c$$,$d$$),this.constraintHandler.setFocus($d$$,$c$$,this.isSource),this.constraintHandler.currentConstraint=$m$$,this.constraintHandler.currentPoint=$b$$):$m$$=new mxConnectionConstraint);if(this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var $n$$=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=$e$$?mxConstants.OUTLINE_HIGHLIGHT_COLOR:
"transparent",this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/$n$$/$n$$,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.highlight.shape.stroke=this.marker.getValidState()==$d$$.getState()?mxConstants.DEFAULT_VALID_COLOR:"transparent",this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/$n$$/$n$$,this.marker.highlight.repaint())}this.isSource?$k$$=$m$$:this.isTarget&&($l$$=$m$$);if(this.isSource||this.isTarget)null!=
$m$$&&null!=$m$$.point?($a$$.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X]=$m$$.point.x,$a$$.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y]=$m$$.point.y):(delete $a$$.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X],delete $a$$.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y]);$a$$.setVisibleTerminalState($f$$,!0);$a$$.setVisibleTerminalState($g$$,!1);this.isSource&&null==$f$$||$a$$.view.updateFixedTerminalPoint($a$$,
$f$$,!0,$k$$);this.isTarget&&null==$g$$||$a$$.view.updateFixedTerminalPoint($a$$,$g$$,!1,$l$$);(this.isSource||this.isTarget)&&null==$c$$&&($a$$.setAbsoluteTerminalPoint($b$$,this.isSource),null==this.marker.getMarkedState()&&(this.error=this.graph.allowDanglingEdges?null:""));$a$$.view.updatePoints($a$$,this.points,$f$$,$g$$);$a$$.view.updateFloatingTerminalPoints($a$$,$f$$,$g$$)};
mxEdgeHandler.prototype.mouseMove=function $mxEdgeHandler$$mouseMove$($a$$,$b$$){if(null!=this.index&&null!=this.marker){this.currentPoint=this.getPointForEvent($b$$);this.error=null;!this.graph.isIgnoreTerminalEvent($b$$.getEvent())&&mxEvent.isShiftDown($b$$.getEvent())&&null!=this.snapPoint&&(Math.abs(this.snapPoint.x-this.currentPoint.x)<Math.abs(this.snapPoint.y-this.currentPoint.y)?this.currentPoint.x=this.snapPoint.x:this.currentPoint.y=this.snapPoint.y);if(this.index<=mxEvent.CUSTOM_HANDLE&&
this.index>mxEvent.VIRTUAL_HANDLE)null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent($b$$);else if(this.isLabel)this.label.x=this.currentPoint.x,this.label.y=this.currentPoint.y;else{this.points=this.getPreviewPoints(this.currentPoint,$b$$);var $c$$=this.isSource||this.isTarget?this.getPreviewTerminalState($b$$):null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint)this.currentPoint=
this.constraintHandler.currentPoint.clone();else if(this.outlineConnect){var $d$$=this.isSource||this.isTarget?this.isOutlineConnectEvent($b$$):!1;$d$$?$c$$=this.marker.highlight.state:null!=$c$$&&$c$$!=$b$$.getState()&&null!=this.marker.highlight.shape&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint(),$c$$=null)}null!=$c$$&&this.graph.isCellLocked($c$$.cell)&&($c$$=null,this.marker.reset());var $e$$=this.clonePreviewState(this.currentPoint,null!=$c$$?$c$$.cell:null);
this.updatePreviewState($e$$,this.currentPoint,$c$$,$b$$,$d$$);this.setPreviewColor(null==this.error?this.marker.validColor:this.marker.invalidColor);this.abspoints=$e$$.absolutePoints;this.active=!0}this.updateHint($b$$,this.currentPoint);this.drawPreview();mxEvent.consume($b$$.getEvent());$b$$.consume()}else mxClient.IS_IE&&null!=this.getHandleForEvent($b$$)&&$b$$.consume(!1)};
mxEdgeHandler.prototype.mouseUp=function $mxEdgeHandler$$mouseUp$($a$$,$b$$){if(null!=this.index&&null!=this.marker){var $c$$=this.state.cell;if($b$$.getX()!=this.startX||$b$$.getY()!=this.startY){var $d$$=!this.graph.isIgnoreTerminalEvent($b$$.getEvent())&&this.graph.isCloneEvent($b$$.getEvent())&&this.cloneEnabled&&this.graph.isCellsCloneable();if(null!=this.error)0<this.error.length&&this.graph.validationAlert(this.error);else if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE){if(null!=
this.customHandles){var $e$$=this.graph.getModel();$e$$.beginUpdate();try{this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].execute()}finally{$e$$.endUpdate()}}}else if(this.isLabel)this.moveLabel(this.state,this.label.x,this.label.y);else if(this.isSource||this.isTarget){var $f$$=null;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&($f$$=this.constraintHandler.currentFocus.cell);null==$f$$&&this.marker.hasValidState()&&null!=this.marker.highlight&&null!=
this.marker.highlight.shape&&"transparent"!=this.marker.highlight.shape.stroke&&"white"!=this.marker.highlight.shape.stroke&&($f$$=this.marker.validState.cell);if(null!=$f$$){var $e$$=this.graph.getModel(),$g$$=$e$$.getParent($c$$);$e$$.beginUpdate();try{if($d$$){var $k$$=$e$$.getGeometry($c$$),$d$$=this.graph.cloneCell($c$$);$e$$.add($g$$,$d$$,$e$$.getChildCount($g$$));null!=$k$$&&($k$$=$k$$.clone(),$e$$.setGeometry($d$$,$k$$));var $l$$=$e$$.getTerminal($c$$,!this.isSource);this.graph.connectCell($d$$,
$l$$,!this.isSource);$c$$=$d$$}$c$$=this.connect($c$$,$f$$,this.isSource,$d$$,$b$$)}finally{$e$$.endUpdate()}}else this.graph.isAllowDanglingEdges()&&($e$$=this.abspoints[this.isSource?0:this.abspoints.length-1],$e$$.x=this.roundLength($e$$.x/this.graph.view.scale-this.graph.view.translate.x),$e$$.y=this.roundLength($e$$.y/this.graph.view.scale-this.graph.view.translate.y),$f$$=this.graph.getView().getState(this.graph.getModel().getParent($c$$)),null!=$f$$&&($e$$.x-=$f$$.origin.x,$e$$.y-=$f$$.origin.y),
$e$$.x-=this.graph.panDx/this.graph.view.scale,$e$$.y-=this.graph.panDy/this.graph.view.scale,$c$$=this.changeTerminalPoint($c$$,$e$$,this.isSource,$d$$))}else this.active?$c$$=this.changePoints($c$$,this.points,$d$$):(this.graph.getView().invalidate(this.state.cell),this.graph.getView().validate(this.state.cell))}null!=this.marker&&(this.reset(),$c$$!=this.state.cell&&this.graph.setSelectionCell($c$$));$b$$.consume()}};
mxEdgeHandler.prototype.reset=function $mxEdgeHandler$$reset$(){this.active&&this.refresh();this.snapPoint=this.points=this.label=this.index=this.error=null;this.active=this.isTarget=this.isSource=this.isLabel=!1;if(this.livePreview&&null!=this.sizers)for(var $a$$=0;$a$$<this.sizers.length;$a$$++)null!=this.sizers[$a$$]&&(this.sizers[$a$$].node.style.display="");null!=this.marker&&this.marker.reset();null!=this.constraintHandler&&this.constraintHandler.reset();if(null!=this.customHandles)for($a$$=
0;$a$$<this.customHandles.length;$a$$++)this.customHandles[$a$$].reset();this.setPreviewColor(mxConstants.EDGE_SELECTION_COLOR);this.removeHint();this.redraw()};mxEdgeHandler.prototype.setPreviewColor=function $mxEdgeHandler$$setPreviewColor$($a$$){null!=this.shape&&(this.shape.stroke=$a$$)};
mxEdgeHandler.prototype.convertPoint=function $mxEdgeHandler$$convertPoint$($a$$,$b$$){var $c$$=this.graph.getView().getScale(),$d$$=this.graph.getView().getTranslate();$b$$&&($a$$.x=this.graph.snap($a$$.x),$a$$.y=this.graph.snap($a$$.y));$a$$.x=Math.round($a$$.x/$c$$-$d$$.x);$a$$.y=Math.round($a$$.y/$c$$-$d$$.y);$c$$=this.graph.getView().getState(this.graph.getModel().getParent(this.state.cell));null!=$c$$&&($a$$.x-=$c$$.origin.x,$a$$.y-=$c$$.origin.y);return $a$$};
mxEdgeHandler.prototype.moveLabel=function $mxEdgeHandler$$moveLabel$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel(),$e$$=$d$$.getGeometry($a$$.cell);if(null!=$e$$){var $f$$=this.graph.getView().scale,$e$$=$e$$.clone();if($e$$.relative){var $g$$=this.graph.getView().getRelativePoint($a$$,$b$$,$c$$);$e$$.x=Math.round(1E4*$g$$.x)/1E4;$e$$.y=Math.round($g$$.y);$e$$.offset=new mxPoint(0,0);$g$$=this.graph.view.getPoint($a$$,$e$$);$e$$.offset=new mxPoint(Math.round(($b$$-$g$$.x)/$f$$),Math.round(($c$$-
$g$$.y)/$f$$))}else{var $k$$=$a$$.absolutePoints,$g$$=$k$$[0],$k$$=$k$$[$k$$.length-1];null!=$g$$&&null!=$k$$&&($e$$.offset=new mxPoint(Math.round(($b$$-($g$$.x+($k$$.x-$g$$.x)/2))/$f$$),Math.round(($c$$-($g$$.y+($k$$.y-$g$$.y)/2))/$f$$)),$e$$.x=0,$e$$.y=0)}$d$$.setGeometry($a$$.cell,$e$$)}};
mxEdgeHandler.prototype.connect=function $mxEdgeHandler$$connect$($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=this.graph.getModel();$d$$.getParent($a$$);$d$$.beginUpdate();try{var $f$$=this.constraintHandler.currentConstraint;null==$f$$&&($f$$=new mxConnectionConstraint);this.graph.connectCell($a$$,$b$$,$c$$,$f$$)}finally{$d$$.endUpdate()}return $a$$};
mxEdgeHandler.prototype.changeTerminalPoint=function $mxEdgeHandler$$changeTerminalPoint$($a$$,$b$$,$c$$,$d$$){var $e$$=this.graph.getModel();$e$$.beginUpdate();try{if($d$$){var $f$$=$e$$.getParent($a$$),$g$$=$e$$.getTerminal($a$$,!$c$$);$a$$=this.graph.cloneCell($a$$);$e$$.add($f$$,$a$$,$e$$.getChildCount($f$$));$e$$.setTerminal($a$$,$g$$,!$c$$)}var $k$$=$e$$.getGeometry($a$$);null!=$k$$&&($k$$=$k$$.clone(),$k$$.setTerminalPoint($b$$,$c$$),$e$$.setGeometry($a$$,$k$$),this.graph.connectCell($a$$,
null,$c$$,new mxConnectionConstraint))}finally{$e$$.endUpdate()}return $a$$};
mxEdgeHandler.prototype.changePoints=function $mxEdgeHandler$$changePoints$($a$$,$b$$,$c$$){var $d$$=this.graph.getModel();$d$$.beginUpdate();try{if($c$$){var $e$$=$d$$.getParent($a$$),$f$$=$d$$.getTerminal($a$$,!0),$g$$=$d$$.getTerminal($a$$,!1);$a$$=this.graph.cloneCell($a$$);$d$$.add($e$$,$a$$,$d$$.getChildCount($e$$));$d$$.setTerminal($a$$,$f$$,!0);$d$$.setTerminal($a$$,$g$$,!1)}var $k$$=$d$$.getGeometry($a$$);null!=$k$$&&($k$$=$k$$.clone(),$k$$.points=$b$$,$d$$.setGeometry($a$$,$k$$))}finally{$d$$.endUpdate()}return $a$$};
mxEdgeHandler.prototype.addPoint=function $mxEdgeHandler$$addPoint$($a$$,$b$$){var $c$$=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($b$$),mxEvent.getClientY($b$$)),$d$$=this.graph.isGridEnabledEvent($b$$);this.convertPoint($c$$,$d$$);this.addPointAt($a$$,$c$$.x,$c$$.y);mxEvent.consume($b$$)};
mxEdgeHandler.prototype.addPointAt=function $mxEdgeHandler$$addPointAt$($a$$,$b$$,$c$$){var $d$$=this.graph.getCellGeometry($a$$.cell);$b$$=new mxPoint($b$$,$c$$);if(null!=$d$$){var $d$$=$d$$.clone(),$e$$=this.graph.view.translate;$c$$=this.graph.view.scale;var $e$$=new mxPoint($e$$.x*$c$$,$e$$.y*$c$$),$f$$=this.graph.model.getParent(this.state.cell);this.graph.model.isVertex($f$$)&&($e$$=this.graph.view.getState($f$$),$e$$=new mxPoint($e$$.x,$e$$.y));$c$$=mxUtils.findNearestSegment($a$$,$b$$.x*$c$$+
$e$$.x,$b$$.y*$c$$+$e$$.y);null==$d$$.points?$d$$.points=[$b$$]:$d$$.points.splice($c$$,0,$b$$);this.graph.getModel().setGeometry($a$$.cell,$d$$);this.refresh();this.redraw()}};mxEdgeHandler.prototype.removePoint=function $mxEdgeHandler$$removePoint$($a$$,$b$$){if(0<$b$$&&$b$$<this.abspoints.length-1){var $c$$=this.graph.getCellGeometry(this.state.cell);null!=$c$$&&null!=$c$$.points&&($c$$=$c$$.clone(),$c$$.points.splice($b$$-1,1),this.graph.getModel().setGeometry($a$$.cell,$c$$),this.refresh(),this.redraw())}};
mxEdgeHandler.prototype.getHandleFillColor=function $mxEdgeHandler$$getHandleFillColor$($a$$){$a$$=0==$a$$;var $b$$=this.state.cell,$c$$=this.graph.getModel().getTerminal($b$$,$a$$),$d$$=mxConstants.HANDLE_FILLCOLOR;null!=$c$$&&!this.graph.isCellDisconnectable($b$$,$c$$,$a$$)||null==$c$$&&!this.graph.isTerminalPointMovable($b$$,$a$$)?$d$$=mxConstants.LOCKED_HANDLE_FILLCOLOR:null!=$c$$&&this.graph.isCellDisconnectable($b$$,$c$$,$a$$)&&($d$$=mxConstants.CONNECT_HANDLE_FILLCOLOR);return $d$$};
mxEdgeHandler.prototype.redraw=function $mxEdgeHandler$$redraw$(){this.abspoints=this.state.absolutePoints.slice();this.redrawHandles();var $a$$=this.graph.getModel().getGeometry(this.state.cell).points;if(null!=this.bends&&0<this.bends.length&&null!=$a$$){null==this.points&&(this.points=[]);for(var $b$$=1;$b$$<this.bends.length-1;$b$$++)null!=this.bends[$b$$]&&null!=this.abspoints[$b$$]&&(this.points[$b$$-1]=$a$$[$b$$-1])}this.drawPreview()};
mxEdgeHandler.prototype.redrawHandles=function $mxEdgeHandler$$redrawHandles$(){var $a$$=this.state.cell,$b$$=this.labelShape.bounds;this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y);this.labelShape.bounds=new mxRectangle(Math.round(this.label.x-$b$$.width/2),Math.round(this.label.y-$b$$.height/2),$b$$.width,$b$$.height);$b$$=this.graph.getLabel($a$$);this.labelShape.visible=null!=$b$$&&0<$b$$.length&&this.graph.isLabelMovable($a$$);if(null!=this.bends&&0<this.bends.length){var $c$$=
this.abspoints.length-1,$a$$=this.abspoints[0],$d$$=$a$$.x,$e$$=$a$$.y,$b$$=this.bends[0].bounds;this.bends[0].bounds=new mxRectangle(Math.floor($d$$-$b$$.width/2),Math.floor($e$$-$b$$.height/2),$b$$.width,$b$$.height);this.bends[0].fill=this.getHandleFillColor(0);this.bends[0].redraw();this.manageLabelHandle&&this.checkLabelHandle(this.bends[0].bounds);var $c$$=this.abspoints[$c$$],$d$$=$c$$.x,$e$$=$c$$.y,$f$$=this.bends.length-1,$b$$=this.bends[$f$$].bounds;this.bends[$f$$].bounds=new mxRectangle(Math.floor($d$$-
$b$$.width/2),Math.floor($e$$-$b$$.height/2),$b$$.width,$b$$.height);this.bends[$f$$].fill=this.getHandleFillColor($f$$);this.bends[$f$$].redraw();this.manageLabelHandle&&this.checkLabelHandle(this.bends[$f$$].bounds);this.redrawInnerBends($a$$,$c$$)}if(null!=this.abspoints&&null!=this.virtualBends&&0<this.virtualBends.length)for($a$$=this.abspoints[0],$c$$=0;$c$$<this.virtualBends.length;$c$$++)null!=this.virtualBends[$c$$]&&null!=this.abspoints[$c$$+1]&&($d$$=this.abspoints[$c$$+1],$b$$=this.virtualBends[$c$$],
$b$$.bounds=new mxRectangle(Math.floor($a$$.x+($d$$.x-$a$$.x)/2-$b$$.bounds.width/2),Math.floor($a$$.y+($d$$.y-$a$$.y)/2-$b$$.bounds.height/2),$b$$.bounds.width,$b$$.bounds.height),$b$$.redraw(),mxUtils.setOpacity($b$$.node,this.virtualBendOpacity),$a$$=$d$$,this.manageLabelHandle&&this.checkLabelHandle($b$$.bounds));null!=this.labelShape&&this.labelShape.redraw();if(null!=this.customHandles)for($c$$=0;$c$$<this.customHandles.length;$c$$++)this.customHandles[$c$$].redraw()};
mxEdgeHandler.prototype.setHandlesVisible=function $mxEdgeHandler$$setHandlesVisible$($a$$){if(null!=this.bends)for(var $b$$=0;$b$$<this.bends.length;$b$$++)this.bends[$b$$].node.style.display=$a$$?"":"none";if(null!=this.virtualBends)for($b$$=0;$b$$<this.virtualBends.length;$b$$++)this.virtualBends[$b$$].node.style.display=$a$$?"":"none";null!=this.labelShape&&(this.labelShape.node.style.display=$a$$?"":"none");if(null!=this.customHandles)for($b$$=0;$b$$<this.customHandles.length;$b$$++)this.customHandles[$b$$].setVisible($a$$)};
mxEdgeHandler.prototype.redrawInnerBends=function $mxEdgeHandler$$redrawInnerBends$($a$$,$b$$){for(var $c$$=1;$c$$<this.bends.length-1;$c$$++)if(null!=this.bends[$c$$])if(null!=this.abspoints[$c$$]){var $d$$=this.abspoints[$c$$].x,$e$$=this.abspoints[$c$$].y,$f$$=this.bends[$c$$].bounds;this.bends[$c$$].node.style.visibility="visible";this.bends[$c$$].bounds=new mxRectangle(Math.round($d$$-$f$$.width/2),Math.round($e$$-$f$$.height/2),$f$$.width,$f$$.height);this.manageLabelHandle?this.checkLabelHandle(this.bends[$c$$].bounds):
null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects(this.bends[$c$$].bounds,this.labelShape.bounds)&&(w=mxConstants.HANDLE_SIZE+3,h=mxConstants.HANDLE_SIZE+3,this.bends[$c$$].bounds=new mxRectangle(Math.round($d$$-w/2),Math.round($e$$-h/2),w,h));this.bends[$c$$].redraw()}else this.bends[$c$$].destroy(),this.bends[$c$$]=null};
mxEdgeHandler.prototype.checkLabelHandle=function $mxEdgeHandler$$checkLabelHandle$($a$$){if(null!=this.labelShape){var $b$$=this.labelShape.bounds;mxUtils.intersects($a$$,$b$$)&&($a$$.getCenterY()<$b$$.getCenterY()?$b$$.y=$a$$.y+$a$$.height:$b$$.y=$a$$.y-$b$$.height)}};
mxEdgeHandler.prototype.drawPreview=function $mxEdgeHandler$$drawPreview$(){if(this.isLabel){var $a$$=this.labelShape.bounds,$a$$=new mxRectangle(Math.round(this.label.x-$a$$.width/2),Math.round(this.label.y-$a$$.height/2),$a$$.width,$a$$.height);this.labelShape.bounds=$a$$;this.labelShape.redraw()}else null!=this.shape&&(this.shape.apply(this.state),this.shape.points=this.abspoints,this.shape.scale=this.state.view.scale,this.shape.isDashed=this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),
this.shape.strokewidth=this.getSelectionStrokeWidth()/this.shape.scale/this.shape.scale,this.shape.isShadow=!1,this.shape.redraw());null!=this.parentHighlight&&this.parentHighlight.redraw()};
mxEdgeHandler.prototype.refresh=function $mxEdgeHandler$$refresh$(){this.abspoints=this.getSelectionPoints(this.state);this.points=[];null!=this.shape&&(this.shape.points=this.abspoints);null!=this.bends&&(this.destroyBends(this.bends),this.bends=this.createBends());null!=this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=this.createVirtualBends());null!=this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=this.createCustomHandles());null!=this.labelShape&&
null!=this.labelShape.node&&null!=this.labelShape.node.parentNode&&this.labelShape.node.parentNode.appendChild(this.labelShape.node)};mxEdgeHandler.prototype.destroyBends=function $mxEdgeHandler$$destroyBends$($a$$){if(null!=$a$$)for(var $b$$=0;$b$$<$a$$.length;$b$$++)null!=$a$$[$b$$]&&$a$$[$b$$].destroy()};
mxEdgeHandler.prototype.destroy=function $mxEdgeHandler$$destroy$(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null);null!=this.marker&&(this.marker.destroy(),this.marker=null);null!=this.shape&&(this.shape.destroy(),this.shape=null);null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null);null!=this.labelShape&&(this.labelShape.destroy(),this.labelShape=null);null!=this.constraintHandler&&(this.constraintHandler.destroy(),
this.constraintHandler=null);this.destroyBends(this.virtualBends);this.virtualBends=null;this.destroyBends(this.customHandles);this.customHandles=null;this.destroyBends(this.bends);this.bends=null;this.removeHint()};function mxElbowEdgeHandler($a$$){mxEdgeHandler.call(this,$a$$)}mxUtils.extend(mxElbowEdgeHandler,mxEdgeHandler);mxElbowEdgeHandler.prototype.flipEnabled=!0;mxElbowEdgeHandler.prototype.doubleClickOrientationResource="none"!=mxClient.language?"doubleClickOrientation":"";
mxElbowEdgeHandler.prototype.createBends=function $mxElbowEdgeHandler$$createBends$(){var $a$jscomp$0$$=[],$b$$=this.createHandleShape(0);this.initBend($b$$);$b$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$jscomp$0$$.push($b$$);$a$jscomp$0$$.push(this.createVirtualBend(mxUtils.bind(this,function($a$$){!mxEvent.isConsumed($a$$)&&this.flipEnabled&&(this.graph.flipEdge(this.state.cell,$a$$),mxEvent.consume($a$$))})));this.points.push(new mxPoint(0,0));$b$$=this.createHandleShape(2);this.initBend($b$$);
$b$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$jscomp$0$$.push($b$$);return $a$jscomp$0$$};mxElbowEdgeHandler.prototype.createVirtualBend=function $mxElbowEdgeHandler$$createVirtualBend$($a$$){var $b$$=this.createHandleShape();this.initBend($b$$,$a$$);$b$$.setCursor(this.getCursorForBend());this.graph.isCellBendable(this.state.cell)||($b$$.node.style.display="none");return $b$$};
mxElbowEdgeHandler.prototype.getCursorForBend=function $mxElbowEdgeHandler$$getCursorForBend$(){return this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.TopToBottom||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_TOPTOBOTTOM||(this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.ElbowConnector||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_ELBOW)&&this.state.style[mxConstants.STYLE_ELBOW]==mxConstants.ELBOW_VERTICAL?"row-resize":"col-resize"};
mxElbowEdgeHandler.prototype.getTooltipForNode=function $mxElbowEdgeHandler$$getTooltipForNode$($a$$){var $b$$=null;null==this.bends||null==this.bends[1]||$a$$!=this.bends[1].node&&$a$$.parentNode!=this.bends[1].node||($b$$=this.doubleClickOrientationResource,$b$$=mxResources.get($b$$)||$b$$);return $b$$};
mxElbowEdgeHandler.prototype.convertPoint=function $mxElbowEdgeHandler$$convertPoint$($a$$,$b$$){var $c$$=this.graph.getView().getScale(),$d$$=this.graph.getView().getTranslate(),$e$$=this.state.origin;$b$$&&($a$$.x=this.graph.snap($a$$.x),$a$$.y=this.graph.snap($a$$.y));$a$$.x=Math.round($a$$.x/$c$$-$d$$.x-$e$$.x);$a$$.y=Math.round($a$$.y/$c$$-$d$$.y-$e$$.y);return $a$$};
mxElbowEdgeHandler.prototype.redrawInnerBends=function $mxElbowEdgeHandler$$redrawInnerBends$($a$$,$b$$){var $c$$=this.graph.getModel().getGeometry(this.state.cell),$d$$=this.state.absolutePoints,$e$$=null;1<$d$$.length?($a$$=$d$$[1],$b$$=$d$$[$d$$.length-2]):null!=$c$$.points&&0<$c$$.points.length&&($e$$=$d$$[0]);$e$$=null==$e$$?new mxPoint($a$$.x+($b$$.x-$a$$.x)/2,$a$$.y+($b$$.y-$a$$.y)/2):new mxPoint(this.graph.getView().scale*($e$$.x+this.graph.getView().translate.x+this.state.origin.x),this.graph.getView().scale*
($e$$.y+this.graph.getView().translate.y+this.state.origin.y));$d$$=this.bends[1].bounds;$c$$=$d$$.width;$d$$=$d$$.height;$c$$=new mxRectangle(Math.round($e$$.x-$c$$/2),Math.round($e$$.y-$d$$/2),$c$$,$d$$);this.manageLabelHandle?this.checkLabelHandle($c$$):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects($c$$,this.labelShape.bounds)&&($c$$=mxConstants.HANDLE_SIZE+3,$d$$=mxConstants.HANDLE_SIZE+3,$c$$=new mxRectangle(Math.floor($e$$.x-$c$$/2),Math.floor($e$$.y-$d$$/2),$c$$,$d$$));
this.bends[1].bounds=$c$$;this.bends[1].redraw();this.manageLabelHandle&&this.checkLabelHandle(this.bends[1].bounds)};function mxEdgeSegmentHandler($a$$){mxEdgeHandler.call(this,$a$$)}mxUtils.extend(mxEdgeSegmentHandler,mxElbowEdgeHandler);
mxEdgeSegmentHandler.prototype.getCurrentPoints=function $mxEdgeSegmentHandler$$getCurrentPoints$(){var $a$$=this.state.absolutePoints;if(null!=$a$$){var $b$$=Math.max(1,this.graph.view.scale);if(2==$a$$.length||3==$a$$.length&&(Math.abs($a$$[0].x-$a$$[1].x)<$b$$&&Math.abs($a$$[1].x-$a$$[2].x)<$b$$||Math.abs($a$$[0].y-$a$$[1].y)<$b$$&&Math.abs($a$$[1].y-$a$$[2].y)<$b$$))var $b$$=$a$$[0].x+($a$$[$a$$.length-1].x-$a$$[0].x)/2,$c$$=$a$$[0].y+($a$$[$a$$.length-1].y-$a$$[0].y)/2,$a$$=[$a$$[0],new mxPoint($b$$,
$c$$),new mxPoint($b$$,$c$$),$a$$[$a$$.length-1]]}return $a$$};
mxEdgeSegmentHandler.prototype.getPreviewPoints=function $mxEdgeSegmentHandler$$getPreviewPoints$($a$$){if(this.isSource||this.isTarget)return mxElbowEdgeHandler.prototype.getPreviewPoints.apply(this,arguments);var $b$$=this.getCurrentPoints(),$c$$=this.convertPoint($b$$[0].clone(),!1);$a$$=this.convertPoint($a$$.clone(),!1);for(var $d$$=[],$e$$=1;$e$$<$b$$.length;$e$$++){var $f$$=this.convertPoint($b$$[$e$$].clone(),!1);$e$$==this.index&&(0==Math.round($c$$.x-$f$$.x)&&($c$$.x=$a$$.x,$f$$.x=$a$$.x),
0==Math.round($c$$.y-$f$$.y)&&($c$$.y=$a$$.y,$f$$.y=$a$$.y));$e$$<$b$$.length-1&&$d$$.push($f$$);$c$$=$f$$}if(1==$d$$.length){var $b$$=this.state.getVisibleTerminalState(!0),$c$$=this.state.getVisibleTerminalState(!1),$f$$=this.state.view.getScale(),$g$$=this.state.view.getTranslate(),$e$$=$d$$[0].x*$f$$+$g$$.x,$f$$=$d$$[0].y*$f$$+$g$$.y;if(null!=$b$$&&mxUtils.contains($b$$,$e$$,$f$$)||null!=$c$$&&mxUtils.contains($c$$,$e$$,$f$$))$d$$=[$a$$,$a$$]}return $d$$};
mxEdgeSegmentHandler.prototype.updatePreviewState=function $mxEdgeSegmentHandler$$updatePreviewState$($a$$,$b$$,$c$$,$d$$){mxEdgeHandler.prototype.updatePreviewState.apply(this,arguments);if(!this.isSource&&!this.isTarget){$b$$=this.convertPoint($b$$.clone(),!1);for(var $e$$=$a$$.absolutePoints,$f$$=$e$$[0],$g$$=$e$$[1],$k$$=[],$l$$=2;$l$$<$e$$.length;$l$$++){var $m$$=$e$$[$l$$];0==Math.round($f$$.x-$g$$.x)&&0==Math.round($g$$.x-$m$$.x)||0==Math.round($f$$.y-$g$$.y)&&0==Math.round($g$$.y-$m$$.y)||
$k$$.push(this.convertPoint($g$$.clone(),!1));$f$$=$g$$;$g$$=$m$$}$f$$=this.state.getVisibleTerminalState(!0);$g$$=this.state.getVisibleTerminalState(!1);$l$$=this.state.absolutePoints;if(0==$k$$.length&&(0==Math.round($e$$[0].x-$e$$[$e$$.length-1].x)||0==Math.round($e$$[0].y-$e$$[$e$$.length-1].y)))$k$$=[$b$$,$b$$];else if(5==$e$$.length&&2==$k$$.length&&null!=$f$$&&null!=$g$$&&null!=$l$$&&0==Math.round($l$$[0].x-$l$$[$l$$.length-1].x)){var $k$$=this.graph.getView(),$l$$=$k$$.getScale(),$m$$=$k$$.getTranslate(),
$e$$=$k$$.getRoutingCenterY($f$$)/$l$$-$m$$.y,$n$$=this.graph.getConnectionConstraint($a$$,$f$$,!0);null!=$n$$&&($n$$=this.graph.getConnectionPoint($f$$,$n$$),null!=$n$$&&(this.convertPoint($n$$,!1),$e$$=$n$$.y));$k$$=$k$$.getRoutingCenterY($g$$)/$l$$-$m$$.y;if($l$$=this.graph.getConnectionConstraint($a$$,$g$$,!1))$n$$=this.graph.getConnectionPoint($g$$,$l$$),null!=$n$$&&(this.convertPoint($n$$,!1),$k$$=$n$$.y);$k$$=[new mxPoint($b$$.x,$e$$),new mxPoint($b$$.x,$k$$)]}this.points=$k$$;$a$$.view.updateFixedTerminalPoints($a$$,
$f$$,$g$$);$a$$.view.updatePoints($a$$,this.points,$f$$,$g$$);$a$$.view.updateFloatingTerminalPoints($a$$,$f$$,$g$$)}};
mxEdgeSegmentHandler.prototype.connect=function $mxEdgeSegmentHandler$$connect$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=this.graph.getModel(),$g$$=$f$$.getGeometry($a$$),$k$$=null;if(null!=$g$$&&null!=$g$$.points&&0<$g$$.points.length)for(var $l$$=this.abspoints,$m$$=$l$$[0],$n$$=$l$$[1],$k$$=[],$p$$=2;$p$$<$l$$.length;$p$$++){var $q$$=$l$$[$p$$];0==Math.round($m$$.x-$n$$.x)&&0==Math.round($n$$.x-$q$$.x)||0==Math.round($m$$.y-$n$$.y)&&0==Math.round($n$$.y-$q$$.y)||$k$$.push(this.convertPoint($n$$.clone(),
!1));$m$$=$n$$;$n$$=$q$$}$f$$.beginUpdate();try{null!=$k$$&&($g$$=$f$$.getGeometry($a$$),null!=$g$$&&($g$$=$g$$.clone(),$g$$.points=$k$$,$f$$.setGeometry($a$$,$g$$))),$a$$=mxEdgeHandler.prototype.connect.apply(this,arguments)}finally{$f$$.endUpdate()}return $a$$};mxEdgeSegmentHandler.prototype.getTooltipForNode=function $mxEdgeSegmentHandler$$getTooltipForNode$($a$$){return null};
mxEdgeSegmentHandler.prototype.start=function $mxEdgeSegmentHandler$$start$($a$$,$b$$,$c$$){mxEdgeHandler.prototype.start.apply(this,arguments);null==this.bends||null==this.bends[$c$$]||this.isSource||this.isTarget||mxUtils.setOpacity(this.bends[$c$$].node,100)};
mxEdgeSegmentHandler.prototype.createBends=function $mxEdgeSegmentHandler$$createBends$(){var $a$$=[],$b$$=this.createHandleShape(0);this.initBend($b$$);$b$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$$.push($b$$);var $c$$=this.getCurrentPoints();if(this.graph.isCellBendable(this.state.cell)){null==this.points&&(this.points=[]);for(var $d$$=0;$d$$<$c$$.length-1;$d$$++){$b$$=this.createVirtualBend();$a$$.push($b$$);var $e$$=0==Math.round($c$$[$d$$].x-$c$$[$d$$+1].x);0==Math.round($c$$[$d$$].y-
$c$$[$d$$+1].y)&&$d$$<$c$$.length-2&&($e$$=0==Math.round($c$$[$d$$].x-$c$$[$d$$+2].x));$b$$.setCursor($e$$?"col-resize":"row-resize");this.points.push(new mxPoint(0,0))}}$b$$=this.createHandleShape($c$$.length);this.initBend($b$$);$b$$.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE);$a$$.push($b$$);return $a$$};mxEdgeSegmentHandler.prototype.redraw=function $mxEdgeSegmentHandler$$redraw$(){this.refresh();mxEdgeHandler.prototype.redraw.apply(this,arguments)};
mxEdgeSegmentHandler.prototype.redrawInnerBends=function $mxEdgeSegmentHandler$$redrawInnerBends$($a$$,$b$$){if(this.graph.isCellBendable(this.state.cell)){var $c$$=this.getCurrentPoints();if(null!=$c$$&&1<$c$$.length){var $d$$=!1;if(4==$c$$.length&&0==Math.round($c$$[1].x-$c$$[2].x)&&0==Math.round($c$$[1].y-$c$$[2].y))if($d$$=!0,0==Math.round($c$$[0].y-$c$$[$c$$.length-1].y)){var $e$$=$c$$[0].x+($c$$[$c$$.length-1].x-$c$$[0].x)/2;$c$$[1]=new mxPoint($e$$,$c$$[1].y);$c$$[2]=new mxPoint($e$$,$c$$[2].y)}else $e$$=
$c$$[0].y+($c$$[$c$$.length-1].y-$c$$[0].y)/2,$c$$[1]=new mxPoint($c$$[1].x,$e$$),$c$$[2]=new mxPoint($c$$[2].x,$e$$);for($e$$=0;$e$$<$c$$.length-1;$e$$++)if(null!=this.bends[$e$$+1]){$a$$=$c$$[$e$$];$b$$=$c$$[$e$$+1];var $f$$=new mxPoint($a$$.x+($b$$.x-$a$$.x)/2,$a$$.y+($b$$.y-$a$$.y)/2),$g$$=this.bends[$e$$+1].bounds;this.bends[$e$$+1].bounds=new mxRectangle(Math.floor($f$$.x-$g$$.width/2),Math.floor($f$$.y-$g$$.height/2),$g$$.width,$g$$.height);this.bends[$e$$+1].redraw();this.manageLabelHandle&&
this.checkLabelHandle(this.bends[$e$$+1].bounds)}$d$$&&(mxUtils.setOpacity(this.bends[1].node,this.virtualBendOpacity),mxUtils.setOpacity(this.bends[3].node,this.virtualBendOpacity))}}};
function mxKeyHandler($a$jscomp$0$$,$b$$){null!=$a$jscomp$0$$&&(this.graph=$a$jscomp$0$$,this.target=$b$$||document.documentElement,this.normalKeys=[],this.shiftKeys=[],this.controlKeys=[],this.controlShiftKeys=[],this.keydownHandler=mxUtils.bind(this,function($a$$){this.keyDown($a$$)}),mxEvent.addListener(this.target,"keydown",this.keydownHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}mxKeyHandler.prototype.graph=null;
mxKeyHandler.prototype.target=null;mxKeyHandler.prototype.normalKeys=null;mxKeyHandler.prototype.shiftKeys=null;mxKeyHandler.prototype.controlKeys=null;mxKeyHandler.prototype.controlShiftKeys=null;mxKeyHandler.prototype.enabled=!0;mxKeyHandler.prototype.isEnabled=function $mxKeyHandler$$isEnabled$(){return this.enabled};mxKeyHandler.prototype.setEnabled=function $mxKeyHandler$$setEnabled$($a$$){this.enabled=$a$$};
mxKeyHandler.prototype.bindKey=function $mxKeyHandler$$bindKey$($a$$,$b$$){this.normalKeys[$a$$]=$b$$};mxKeyHandler.prototype.bindShiftKey=function $mxKeyHandler$$bindShiftKey$($a$$,$b$$){this.shiftKeys[$a$$]=$b$$};mxKeyHandler.prototype.bindControlKey=function $mxKeyHandler$$bindControlKey$($a$$,$b$$){this.controlKeys[$a$$]=$b$$};mxKeyHandler.prototype.bindControlShiftKey=function $mxKeyHandler$$bindControlShiftKey$($a$$,$b$$){this.controlShiftKeys[$a$$]=$b$$};
mxKeyHandler.prototype.isControlDown=function $mxKeyHandler$$isControlDown$($a$$){return mxEvent.isControlDown($a$$)};mxKeyHandler.prototype.getFunction=function $mxKeyHandler$$getFunction$($a$$){return null==$a$$||mxEvent.isAltDown($a$$)?null:this.isControlDown($a$$)?mxEvent.isShiftDown($a$$)?this.controlShiftKeys[$a$$.keyCode]:this.controlKeys[$a$$.keyCode]:mxEvent.isShiftDown($a$$)?this.shiftKeys[$a$$.keyCode]:this.normalKeys[$a$$.keyCode]};
mxKeyHandler.prototype.isGraphEvent=function $mxKeyHandler$$isGraphEvent$($a$$){var $b$$=mxEvent.getSource($a$$);return $b$$==this.target||$b$$.parentNode==this.target||null!=this.graph.cellEditor&&this.graph.cellEditor.isEventSource($a$$)?!0:mxUtils.isAncestorNode(this.graph.container,$b$$)};
mxKeyHandler.prototype.keyDown=function $mxKeyHandler$$keyDown$($a$$){if(this.isEnabledForEvent($a$$))if(27==$a$$.keyCode)this.escape($a$$);else if(!this.isEventIgnored($a$$)){var $b$$=this.getFunction($a$$);null!=$b$$&&($b$$($a$$),mxEvent.consume($a$$))}};mxKeyHandler.prototype.isEnabledForEvent=function $mxKeyHandler$$isEnabledForEvent$($a$$){return this.graph.isEnabled()&&!mxEvent.isConsumed($a$$)&&this.isGraphEvent($a$$)&&this.isEnabled()};mxKeyHandler.prototype.isEventIgnored=function $mxKeyHandler$$isEventIgnored$($a$$){return this.graph.isEditing()};
mxKeyHandler.prototype.escape=function $mxKeyHandler$$escape$($a$$){this.graph.isEscapeEnabled()&&this.graph.escape($a$$)};mxKeyHandler.prototype.destroy=function $mxKeyHandler$$destroy$(){null!=this.target&&null!=this.keydownHandler&&(mxEvent.removeListener(this.target,"keydown",this.keydownHandler),this.keydownHandler=null);this.target=null};function mxTooltipHandler($a$$,$b$$){null!=$a$$&&(this.graph=$a$$,this.delay=$b$$||500,this.graph.addMouseListener(this))}
mxTooltipHandler.prototype.zIndex=10005;mxTooltipHandler.prototype.graph=null;mxTooltipHandler.prototype.delay=null;mxTooltipHandler.prototype.ignoreTouchEvents=!0;mxTooltipHandler.prototype.hideOnHover=!1;mxTooltipHandler.prototype.destroyed=!1;mxTooltipHandler.prototype.enabled=!0;mxTooltipHandler.prototype.isEnabled=function $mxTooltipHandler$$isEnabled$(){return this.enabled};mxTooltipHandler.prototype.setEnabled=function $mxTooltipHandler$$setEnabled$($a$$){this.enabled=$a$$};
mxTooltipHandler.prototype.isHideOnHover=function $mxTooltipHandler$$isHideOnHover$(){return this.hideOnHover};mxTooltipHandler.prototype.setHideOnHover=function $mxTooltipHandler$$setHideOnHover$($a$$){this.hideOnHover=$a$$};
mxTooltipHandler.prototype.init=function $mxTooltipHandler$$init$(){null!=document.body&&(this.div=document.createElement("div"),this.div.className="mxTooltip",this.div.style.visibility="hidden",document.body.appendChild(this.div),mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function($a$$){this.hideTooltip()})))};mxTooltipHandler.prototype.getStateForEvent=function $mxTooltipHandler$$getStateForEvent$($a$$){return $a$$.getState()};
mxTooltipHandler.prototype.mouseDown=function $mxTooltipHandler$$mouseDown$($a$$,$b$$){this.reset($b$$,!1);this.hideTooltip()};
mxTooltipHandler.prototype.mouseMove=function $mxTooltipHandler$$mouseMove$($a$$,$b$$){if($b$$.getX()!=this.lastX||$b$$.getY()!=this.lastY){this.reset($b$$,!0);var $c$$=this.getStateForEvent($b$$);(this.isHideOnHover()||$c$$!=this.state||$b$$.getSource()!=this.node&&(!this.stateSource||null!=$c$$&&this.stateSource==($b$$.isSource($c$$.shape)||!$b$$.isSource($c$$.text))))&&this.hideTooltip()}this.lastX=$b$$.getX();this.lastY=$b$$.getY()};
mxTooltipHandler.prototype.mouseUp=function $mxTooltipHandler$$mouseUp$($a$$,$b$$){this.reset($b$$,!0);this.hideTooltip()};mxTooltipHandler.prototype.resetTimer=function $mxTooltipHandler$$resetTimer$(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null)};
mxTooltipHandler.prototype.reset=function $mxTooltipHandler$$reset$($a$jscomp$0$$,$b$$,$c$$){if(!this.ignoreTouchEvents||mxEvent.isMouseEvent($a$jscomp$0$$.getEvent()))if(this.resetTimer(),$c$$=null!=$c$$?$c$$:this.getStateForEvent($a$jscomp$0$$),$b$$&&this.isEnabled()&&null!=$c$$&&(null==this.div||"hidden"==this.div.style.visibility)){var $d$$=$a$jscomp$0$$.getSource(),$e$$=$a$jscomp$0$$.getX(),$f$$=$a$jscomp$0$$.getY(),$g$$=$a$jscomp$0$$.isSource($c$$.shape)||$a$jscomp$0$$.isSource($c$$.text);this.thread=
window.setTimeout(mxUtils.bind(this,function(){if(!this.graph.isEditing()&&!this.graph.popupMenuHandler.isMenuShowing()&&!this.graph.isMouseDown){var $a$$=this.graph.getTooltip($c$$,$d$$,$e$$,$f$$);this.show($a$$,$e$$,$f$$);this.state=$c$$;this.node=$d$$;this.stateSource=$g$$}}),this.delay)}};mxTooltipHandler.prototype.hide=function $mxTooltipHandler$$hide$(){this.resetTimer();this.hideTooltip()};
mxTooltipHandler.prototype.hideTooltip=function $mxTooltipHandler$$hideTooltip$(){null!=this.div&&(this.div.style.visibility="hidden",this.div.innerHTML="")};
mxTooltipHandler.prototype.show=function $mxTooltipHandler$$show$($a$$,$b$$,$c$$){if(!this.destroyed&&null!=$a$$&&0<$a$$.length){null==this.div&&this.init();var $d$$=mxUtils.getScrollOrigin();this.div.style.zIndex=this.zIndex;this.div.style.left=$b$$+$d$$.x+"px";this.div.style.top=$c$$+mxConstants.TOOLTIP_VERTICAL_OFFSET+$d$$.y+"px";mxUtils.isNode($a$$)?(this.div.innerHTML="",this.div.appendChild($a$$)):this.div.innerHTML=$a$$.replace(/\n/g,"<br>");this.div.style.visibility="";mxUtils.fit(this.div)}};
mxTooltipHandler.prototype.destroy=function $mxTooltipHandler$$destroy$(){this.destroyed||(this.graph.removeMouseListener(this),mxEvent.release(this.div),null!=this.div&&null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.destroyed=!0,this.div=null)};
function mxCellTracker($a$$,$b$$,$c$$){mxCellMarker.call(this,$a$$,$b$$);this.graph.addMouseListener(this);null!=$c$$&&(this.getCell=$c$$);mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()}))}mxUtils.extend(mxCellTracker,mxCellMarker);mxCellTracker.prototype.mouseDown=function $mxCellTracker$$mouseDown$($a$$,$b$$){};mxCellTracker.prototype.mouseMove=function $mxCellTracker$$mouseMove$($a$$,$b$$){this.isEnabled()&&this.process($b$$)};
mxCellTracker.prototype.mouseUp=function $mxCellTracker$$mouseUp$($a$$,$b$$){};mxCellTracker.prototype.destroy=function $mxCellTracker$$destroy$(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),mxCellMarker.prototype.destroy.apply(this))};
function mxCellHighlight($a$jscomp$0$$,$b$$,$c$$,$d$$){null!=$a$jscomp$0$$&&(this.graph=$a$jscomp$0$$,this.highlightColor=null!=$b$$?$b$$:mxConstants.DEFAULT_VALID_COLOR,this.strokeWidth=null!=$c$$?$c$$:mxConstants.HIGHLIGHT_STROKEWIDTH,this.dashed=null!=$d$$?$d$$:!1,this.opacity=mxConstants.HIGHLIGHT_OPACITY,this.repaintHandler=mxUtils.bind(this,function(){if(null!=this.state){var $a$$=this.graph.view.getState(this.state.cell);null==$a$$?this.hide():(this.state=$a$$,this.repaint())}}),this.graph.getView().addListener(mxEvent.SCALE,
this.repaintHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.repaintHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.getModel().addListener(mxEvent.CHANGE,this.repaintHandler),this.resetHandler=mxUtils.bind(this,function(){this.hide()}),this.graph.getView().addListener(mxEvent.DOWN,this.resetHandler),this.graph.getView().addListener(mxEvent.UP,this.resetHandler))}mxCellHighlight.prototype.keepOnTop=!1;
mxCellHighlight.prototype.graph=!0;mxCellHighlight.prototype.state=null;mxCellHighlight.prototype.spacing=2;mxCellHighlight.prototype.resetHandler=null;mxCellHighlight.prototype.setHighlightColor=function $mxCellHighlight$$setHighlightColor$($a$$){this.highlightColor=$a$$;null!=this.shape&&(this.shape.stroke=$a$$)};
mxCellHighlight.prototype.drawHighlight=function $mxCellHighlight$$drawHighlight$(){this.shape=this.createShape();this.repaint();this.keepOnTop||this.shape.node.parentNode.firstChild==this.shape.node||this.shape.node.parentNode.insertBefore(this.shape.node,this.shape.node.parentNode.firstChild)};
mxCellHighlight.prototype.createShape=function $mxCellHighlight$$createShape$(){var $a$$=this.graph.cellRenderer.createShape(this.state);$a$$.svgStrokeTolerance=this.graph.tolerance;$a$$.points=this.state.absolutePoints;$a$$.apply(this.state);$a$$.stroke=this.highlightColor;$a$$.opacity=this.opacity;$a$$.isDashed=this.dashed;$a$$.isShadow=!1;$a$$.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG;$a$$.init(this.graph.getView().getOverlayPane());mxEvent.redirectMouseEvents($a$$.node,
this.graph,this.state);this.graph.dialect!=mxConstants.DIALECT_SVG?$a$$.pointerEvents=!1:$a$$.svgPointerEvents="stroke";return $a$$};mxCellHighlight.prototype.getStrokeWidth=function $mxCellHighlight$$getStrokeWidth$($a$$){return this.strokeWidth};
mxCellHighlight.prototype.repaint=function $mxCellHighlight$$repaint$(){if(null!=this.state&&null!=this.shape){this.shape.scale=this.state.view.scale;this.graph.model.isEdge(this.state.cell)?(this.shape.strokewidth=this.getStrokeWidth(),this.shape.points=this.state.absolutePoints,this.shape.outline=!1):(this.shape.bounds=new mxRectangle(this.state.x-this.spacing,this.state.y-this.spacing,this.state.width+2*this.spacing,this.state.height+2*this.spacing),this.shape.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||
"0"),this.shape.strokewidth=this.getStrokeWidth()/this.state.view.scale,this.shape.outline=!0);null!=this.state.shape&&this.shape.setCursor(this.state.shape.getCursor());if(mxClient.IS_QUIRKS||8==document.documentMode)"transparent"==this.shape.stroke?(this.shape.stroke="white",this.shape.opacity=1):this.shape.opacity=this.opacity;this.shape.redraw()}};mxCellHighlight.prototype.hide=function $mxCellHighlight$$hide$(){this.highlight(null)};
mxCellHighlight.prototype.highlight=function $mxCellHighlight$$highlight$($a$$){this.state!=$a$$&&(null!=this.shape&&(this.shape.destroy(),this.shape=null),this.state=$a$$,null!=this.state&&this.drawHighlight())};mxCellHighlight.prototype.isHighlightAt=function $mxCellHighlight$$isHighlightAt$($a$$,$b$$){var $c$$=!1;if(null!=this.shape&&null!=document.elementFromPoint&&!mxClient.IS_QUIRKS)for(var $d$$=document.elementFromPoint($a$$,$b$$);null!=$d$$;){if($d$$==this.shape.node){$c$$=!0;break}$d$$=$d$$.parentNode}return $c$$};
mxCellHighlight.prototype.destroy=function $mxCellHighlight$$destroy$(){this.graph.getView().removeListener(this.resetHandler);this.graph.getView().removeListener(this.repaintHandler);this.graph.getModel().removeListener(this.repaintHandler);null!=this.shape&&(this.shape.destroy(),this.shape=null)};
function mxDefaultKeyHandler($a$$){if(null!=$a$$){this.editor=$a$$;this.handler=new mxKeyHandler($a$$.graph);var $b$$=this.handler.escape;this.handler.escape=function $this$handler$escape$($c$$){$b$$.apply(this,arguments);$a$$.hideProperties();$a$$.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",$c$$))}}}mxDefaultKeyHandler.prototype.editor=null;mxDefaultKeyHandler.prototype.handler=null;
mxDefaultKeyHandler.prototype.bindAction=function $mxDefaultKeyHandler$$bindAction$($a$$,$b$$,$c$$){var $d$$=mxUtils.bind(this,function(){this.editor.execute($b$$)});$c$$?this.handler.bindControlKey($a$$,$d$$):this.handler.bindKey($a$$,$d$$)};mxDefaultKeyHandler.prototype.destroy=function $mxDefaultKeyHandler$$destroy$(){this.handler.destroy();this.handler=null};function mxDefaultPopupMenu($a$$){this.config=$a$$}mxDefaultPopupMenu.prototype.imageBasePath=null;mxDefaultPopupMenu.prototype.config=null;
mxDefaultPopupMenu.prototype.createMenu=function $mxDefaultPopupMenu$$createMenu$($a$$,$b$$,$c$$,$d$$){if(null!=this.config){var $e$$=this.createConditions($a$$,$c$$,$d$$);this.addItems($a$$,$b$$,$c$$,$d$$,$e$$,this.config.firstChild,null)}};
mxDefaultPopupMenu.prototype.addItems=function $mxDefaultPopupMenu$$addItems$($a$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$){for(var $k$$=!1;null!=$f$$;){if("add"==$f$$.nodeName){var $l$$=$f$$.getAttribute("if");if(null==$l$$||$e$$[$l$$]){var $l$$=$f$$.getAttribute("as"),$l$$=mxResources.get($l$$)||$l$$,$m$$=mxUtils.eval(mxUtils.getTextContent($f$$)),$n$$=$f$$.getAttribute("action"),$p$$=$f$$.getAttribute("icon"),$q$$=$f$$.getAttribute("iconCls"),$r$$=$f$$.getAttribute("enabled-if"),$r$$=null==$r$$||$e$$[$r$$];
$k$$&&($b$$.addSeparator($g$$),$k$$=!1);null!=$p$$&&this.imageBasePath&&($p$$=this.imageBasePath+$p$$);$l$$=this.addAction($b$$,$a$$,$l$$,$p$$,$m$$,$n$$,$c$$,$g$$,$q$$,$r$$);this.addItems($a$$,$b$$,$c$$,$d$$,$e$$,$f$$.firstChild,$l$$)}}else"separator"==$f$$.nodeName&&($k$$=!0);$f$$=$f$$.nextSibling}};
mxDefaultPopupMenu.prototype.addAction=function $mxDefaultPopupMenu$$addAction$($a$jscomp$0$$,$b$$,$c$$,$d$$,$e$$,$f$$,$g$$,$k$$,$l$$,$m$$){return $a$jscomp$0$$.addItem($c$$,$d$$,function($a$$){"function"==typeof $e$$&&$e$$.call($b$$,$b$$,$g$$,$a$$);null!=$f$$&&$b$$.execute($f$$,$g$$,$a$$)},$k$$,$l$$,$m$$)};
mxDefaultPopupMenu.prototype.createConditions=function $mxDefaultPopupMenu$$createConditions$($a$$,$b$$,$c$$){var $d$$=$a$$.graph.getModel(),$e$$=$d$$.getChildCount($b$$),$f$$=[];$f$$.nocell=null==$b$$;$f$$.ncells=1<$a$$.graph.getSelectionCount();$f$$.notRoot=$d$$.getRoot()!=$d$$.getParent($a$$.graph.getDefaultParent());$f$$.cell=null!=$b$$;$d$$=null!=$b$$&&1==$a$$.graph.getSelectionCount();$f$$.nonEmpty=$d$$&&0<$e$$;$f$$.expandable=$d$$&&$a$$.graph.isCellFoldable($b$$,!1);$f$$.collapsable=$d$$&&
$a$$.graph.isCellFoldable($b$$,!0);$f$$.validRoot=$d$$&&$a$$.graph.isValidRoot($b$$);$f$$.emptyValidRoot=$f$$.validRoot&&0==$e$$;$f$$.swimlane=$d$$&&$a$$.graph.isSwimlane($b$$);$e$$=this.config.getElementsByTagName("condition");for($d$$=0;$d$$<$e$$.length;$d$$++){var $g$$=mxUtils.eval(mxUtils.getTextContent($e$$[$d$$])),$k$$=$e$$[$d$$].getAttribute("name");null!=$k$$&&"function"==typeof $g$$&&($f$$[$k$$]=$g$$($a$$,$b$$,$c$$))}return $f$$};
function mxDefaultToolbar($a$$,$b$$){this.editor=$b$$;null!=$a$$&&null!=$b$$&&this.init($a$$)}mxDefaultToolbar.prototype.editor=null;mxDefaultToolbar.prototype.toolbar=null;mxDefaultToolbar.prototype.resetHandler=null;mxDefaultToolbar.prototype.spacing=4;mxDefaultToolbar.prototype.connectOnDrop=!1;
mxDefaultToolbar.prototype.init=function $mxDefaultToolbar$$init$($a$jscomp$0$$){null!=$a$jscomp$0$$&&(this.toolbar=new mxToolbar($a$jscomp$0$$),this.toolbar.addListener(mxEvent.SELECT,mxUtils.bind(this,function($a$$,$c$$){var $b$$=$c$$.getProperty("function");this.editor.insertFunction=null!=$b$$?mxUtils.bind(this,function(){$b$$.apply(this,arguments);this.toolbar.resetMode()}):null})),this.resetHandler=mxUtils.bind(this,function(){null!=this.toolbar&&this.toolbar.resetMode(!0)}),this.editor.graph.addListener(mxEvent.DOUBLE_CLICK,
this.resetHandler),this.editor.addListener(mxEvent.ESCAPE,this.resetHandler))};mxDefaultToolbar.prototype.addItem=function $mxDefaultToolbar$$addItem$($a$$,$b$$,$c$$,$d$$){var $e$$=mxUtils.bind(this,function(){null!=$c$$&&0<$c$$.length&&this.editor.execute($c$$)});return this.toolbar.addItem($a$$,$b$$,$e$$,$d$$)};mxDefaultToolbar.prototype.addSeparator=function $mxDefaultToolbar$$addSeparator$($a$$){$a$$=$a$$||mxClient.imageBasePath+"/separator.gif";this.toolbar.addSeparator($a$$)};
mxDefaultToolbar.prototype.addCombo=function $mxDefaultToolbar$$addCombo$(){return this.toolbar.addCombo()};mxDefaultToolbar.prototype.addActionCombo=function $mxDefaultToolbar$$addActionCombo$($a$$){return this.toolbar.addActionCombo($a$$)};mxDefaultToolbar.prototype.addActionOption=function $mxDefaultToolbar$$addActionOption$($a$$,$b$$,$c$$){var $d$$=mxUtils.bind(this,function(){this.editor.execute($c$$)});this.addOption($a$$,$b$$,$d$$)};
mxDefaultToolbar.prototype.addOption=function $mxDefaultToolbar$$addOption$($a$$,$b$$,$c$$){return this.toolbar.addOption($a$$,$b$$,$c$$)};mxDefaultToolbar.prototype.addMode=function $mxDefaultToolbar$$addMode$($a$$,$b$$,$c$$,$d$$,$e$$){var $f$$=mxUtils.bind(this,function(){this.editor.setMode($c$$);null!=$e$$&&$e$$(this.editor)});return this.toolbar.addSwitchMode($a$$,$b$$,$f$$,$d$$)};
mxDefaultToolbar.prototype.addPrototype=function $mxDefaultToolbar$$addPrototype$($a$jscomp$0$$,$b$jscomp$0$$,$c$jscomp$0$$,$d$$,$e$$,$f$$){var $g$$=mxUtils.bind(this,function(){return"function"==typeof $c$jscomp$0$$?$c$jscomp$0$$():null!=$c$jscomp$0$$?this.editor.graph.cloneCell($c$jscomp$0$$):null}),$k$$=mxUtils.bind(this,function($a$$,$b$$){"function"==typeof $e$$?$e$$(this.editor,$g$$(),$a$$,$b$$):this.drop($g$$(),$a$$,$b$$);this.toolbar.resetMode();mxEvent.consume($a$$)});$a$jscomp$0$$=this.toolbar.addMode($a$jscomp$0$$,
$b$jscomp$0$$,$k$$,$d$$,null,$f$$);this.installDropHandler($a$jscomp$0$$,function($a$$,$b$$,$c$$){$k$$($b$$,$c$$)});return $a$jscomp$0$$};mxDefaultToolbar.prototype.drop=function $mxDefaultToolbar$$drop$($a$$,$b$$,$c$$){var $d$$=this.editor.graph,$e$$=$d$$.getModel();if(null!=$c$$&&!$e$$.isEdge($c$$)&&this.connectOnDrop&&$d$$.isCellConnectable($c$$))this.connect($a$$,$b$$,$c$$);else{for(;null!=$c$$&&!$d$$.isValidDropTarget($c$$,[$a$$],$b$$);)$c$$=$e$$.getParent($c$$);this.insert($a$$,$b$$,$c$$)}};
mxDefaultToolbar.prototype.insert=function $mxDefaultToolbar$$insert$($a$$,$b$$,$c$$){var $d$$=this.editor.graph;if($d$$.canImportCell($a$$)){var $e$$=mxEvent.getClientX($b$$),$f$$=mxEvent.getClientY($b$$),$e$$=mxUtils.convertPoint($d$$.container,$e$$,$f$$);return $d$$.isSplitEnabled()&&$d$$.isSplitTarget($c$$,[$a$$],$b$$)?$d$$.splitEdge($c$$,[$a$$],null,$e$$.x,$e$$.y):this.editor.addVertex($c$$,$a$$,$e$$.x,$e$$.y)}return null};
mxDefaultToolbar.prototype.connect=function $mxDefaultToolbar$$connect$($a$$,$b$$,$c$$){$b$$=this.editor.graph;var $d$$=$b$$.getModel();if(null!=$c$$&&$b$$.isCellConnectable($a$$)&&$b$$.isEdgeValid(null,$c$$,$a$$)){var $e$$=null;$d$$.beginUpdate();try{var $f$$=$d$$.getGeometry($c$$),$g$$=$d$$.getGeometry($a$$).clone();$g$$.x=$f$$.x+($f$$.width-$g$$.width)/2;$g$$.y=$f$$.y+($f$$.height-$g$$.height)/2;var $k$$=this.spacing*$b$$.gridSize,$l$$=20*$d$$.getDirectedEdgeCount($c$$,!0);this.editor.horizontalFlow?
$g$$.x+=($g$$.width+$f$$.width)/2+$k$$+$l$$:$g$$.y+=($g$$.height+$f$$.height)/2+$k$$+$l$$;$a$$.setGeometry($g$$);var $m$$=$d$$.getParent($c$$);$b$$.addCell($a$$,$m$$);$b$$.constrainChild($a$$);$e$$=this.editor.createEdge($c$$,$a$$);if(null==$d$$.getGeometry($e$$)){var $n$$=new mxGeometry;$n$$.relative=!0;$d$$.setGeometry($e$$,$n$$)}$b$$.addEdge($e$$,$m$$,$c$$,$a$$)}finally{$d$$.endUpdate()}$b$$.setSelectionCells([$a$$,$e$$]);$b$$.scrollCellToVisible($a$$)}};
mxDefaultToolbar.prototype.installDropHandler=function $mxDefaultToolbar$$installDropHandler$($a$$,$b$$){var $c$$=document.createElement("img");$c$$.setAttribute("src",$a$$.getAttribute("src"));var $d$$=mxUtils.bind(this,function($e$$){$c$$.style.width=2*$a$$.offsetWidth+"px";$c$$.style.height=2*$a$$.offsetHeight+"px";mxUtils.makeDraggable($a$$,this.editor.graph,$b$$,$c$$);mxEvent.removeListener($c$$,"load",$d$$)});mxClient.IS_IE?$d$$():mxEvent.addListener($c$$,"load",$d$$)};
mxDefaultToolbar.prototype.destroy=function $mxDefaultToolbar$$destroy$(){null!=this.resetHandler&&(this.editor.graph.removeListener("dblclick",this.resetHandler),this.editor.removeListener("escape",this.resetHandler),this.resetHandler=null);null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null)};
function mxEditor($a$$){this.actions=[];this.addActions();if(null!=document.body){this.cycleAttributeValues=[];this.popupHandler=new mxDefaultPopupMenu;this.undoManager=new mxUndoManager;this.graph=this.createGraph();this.toolbar=this.createToolbar();this.keyHandler=new mxDefaultKeyHandler(this);this.configure($a$$);this.graph.swimlaneIndicatorColorAttribute=this.cycleAttributeName;if(null!=this.onInit)this.onInit();mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()}))}}
mxLoadResources?mxResources.add(mxClient.basePath+"/resources/editor"):mxClient.defaultBundles.push(mxClient.basePath+"/resources/editor");mxEditor.prototype=new mxEventSource;mxEditor.prototype.constructor=mxEditor;mxEditor.prototype.askZoomResource="none"!=mxClient.language?"askZoom":"";mxEditor.prototype.lastSavedResource="none"!=mxClient.language?"lastSaved":"";mxEditor.prototype.currentFileResource="none"!=mxClient.language?"currentFile":"";
mxEditor.prototype.propertiesResource="none"!=mxClient.language?"properties":"";mxEditor.prototype.tasksResource="none"!=mxClient.language?"tasks":"";mxEditor.prototype.helpResource="none"!=mxClient.language?"help":"";mxEditor.prototype.outlineResource="none"!=mxClient.language?"outline":"";mxEditor.prototype.outline=null;mxEditor.prototype.graph=null;mxEditor.prototype.graphRenderHint=null;mxEditor.prototype.toolbar=null;mxEditor.prototype.status=null;mxEditor.prototype.popupHandler=null;
mxEditor.prototype.undoManager=null;mxEditor.prototype.keyHandler=null;mxEditor.prototype.actions=null;mxEditor.prototype.dblClickAction="edit";mxEditor.prototype.swimlaneRequired=!1;mxEditor.prototype.disableContextMenu=!0;mxEditor.prototype.insertFunction=null;mxEditor.prototype.forcedInserting=!1;mxEditor.prototype.templates=null;mxEditor.prototype.defaultEdge=null;mxEditor.prototype.defaultEdgeStyle=null;mxEditor.prototype.defaultGroup=null;mxEditor.prototype.groupBorderSize=null;
mxEditor.prototype.filename=null;mxEditor.prototype.linefeed="&#xa;";mxEditor.prototype.postParameterName="xml";mxEditor.prototype.escapePostData=!0;mxEditor.prototype.urlPost=null;mxEditor.prototype.urlImage=null;mxEditor.prototype.horizontalFlow=!1;mxEditor.prototype.layoutDiagram=!1;mxEditor.prototype.swimlaneSpacing=0;mxEditor.prototype.maintainSwimlanes=!1;mxEditor.prototype.layoutSwimlanes=!1;mxEditor.prototype.cycleAttributeValues=null;mxEditor.prototype.cycleAttributeIndex=0;
mxEditor.prototype.cycleAttributeName="fillColor";mxEditor.prototype.tasks=null;mxEditor.prototype.tasksWindowImage=null;mxEditor.prototype.tasksTop=20;mxEditor.prototype.help=null;mxEditor.prototype.helpWindowImage=null;mxEditor.prototype.urlHelp=null;mxEditor.prototype.helpWidth=300;mxEditor.prototype.helpHeight=260;mxEditor.prototype.propertiesWidth=240;mxEditor.prototype.propertiesHeight=null;mxEditor.prototype.movePropertiesDialog=!1;mxEditor.prototype.validating=!1;
mxEditor.prototype.modified=!1;mxEditor.prototype.isModified=function $mxEditor$$isModified$(){return this.modified};mxEditor.prototype.setModified=function $mxEditor$$setModified$($a$$){this.modified=$a$$};
mxEditor.prototype.addActions=function $mxEditor$$addActions$(){this.addAction("save",function($a$$){$a$$.save()});this.addAction("print",function($a$$){(new mxPrintPreview($a$$.graph,1)).open()});this.addAction("show",function($a$$){mxUtils.show($a$$.graph,null,10,10)});this.addAction("exportImage",function($a$$){var $b$$=$a$$.getUrlImage();if(null==$b$$||mxClient.IS_LOCAL)$a$$.execute("show");else{var $c$$=mxUtils.getViewXml($a$$.graph,1),$c$$=mxUtils.getXml($c$$,"\n");mxUtils.submit($b$$,$a$$.postParameterName+
"="+encodeURIComponent($c$$),document,"_blank")}});this.addAction("refresh",function($a$$){$a$$.graph.refresh()});this.addAction("cut",function($a$$){$a$$.graph.isEnabled()&&mxClipboard.cut($a$$.graph)});this.addAction("copy",function($a$$){$a$$.graph.isEnabled()&&mxClipboard.copy($a$$.graph)});this.addAction("paste",function($a$$){$a$$.graph.isEnabled()&&mxClipboard.paste($a$$.graph)});this.addAction("delete",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.removeCells()});this.addAction("group",
function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setSelectionCell($a$$.groupCells())});this.addAction("ungroup",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setSelectionCells($a$$.graph.ungroupCells())});this.addAction("removeFromParent",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.removeCellsFromParent()});this.addAction("undo",function($a$$){$a$$.graph.isEnabled()&&$a$$.undo()});this.addAction("redo",function($a$$){$a$$.graph.isEnabled()&&$a$$.redo()});this.addAction("zoomIn",function($a$$){$a$$.graph.zoomIn()});
this.addAction("zoomOut",function($a$$){$a$$.graph.zoomOut()});this.addAction("actualSize",function($a$$){$a$$.graph.zoomActual()});this.addAction("fit",function($a$$){$a$$.graph.fit()});this.addAction("showProperties",function($a$$,$b$$){$a$$.showProperties($b$$)});this.addAction("selectAll",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.selectAll()});this.addAction("selectNone",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.clearSelection()});this.addAction("selectVertices",function($a$$){$a$$.graph.isEnabled()&&
$a$$.graph.selectVertices()});this.addAction("selectEdges",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.selectEdges()});this.addAction("edit",function($a$$,$b$$){$a$$.graph.isEnabled()&&$a$$.graph.isCellEditable($b$$)&&$a$$.graph.startEditingAtCell($b$$)});this.addAction("toBack",function($a$$,$b$$){$a$$.graph.isEnabled()&&$a$$.graph.orderCells(!0)});this.addAction("toFront",function($a$$,$b$$){$a$$.graph.isEnabled()&&$a$$.graph.orderCells(!1)});this.addAction("enterGroup",function($a$$,$b$$){$a$$.graph.enterGroup($b$$)});
this.addAction("exitGroup",function($a$$){$a$$.graph.exitGroup()});this.addAction("home",function($a$$){$a$$.graph.home()});this.addAction("selectPrevious",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.selectPreviousCell()});this.addAction("selectNext",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.selectNextCell()});this.addAction("selectParent",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.selectParentCell()});this.addAction("selectChild",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.selectChildCell()});
this.addAction("collapse",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.foldCells(!0)});this.addAction("collapseAll",function($a$$){if($a$$.graph.isEnabled()){var $b$$=$a$$.graph.getChildVertices();$a$$.graph.foldCells(!0,!1,$b$$)}});this.addAction("expand",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.foldCells(!1)});this.addAction("expandAll",function($a$$){if($a$$.graph.isEnabled()){var $b$$=$a$$.graph.getChildVertices();$a$$.graph.foldCells(!1,!1,$b$$)}});this.addAction("bold",function($a$$){$a$$.graph.isEnabled()&&
$a$$.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_BOLD)});this.addAction("italic",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_ITALIC)});this.addAction("underline",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_UNDERLINE)});this.addAction("alignCellsLeft",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.alignCells(mxConstants.ALIGN_LEFT)});
this.addAction("alignCellsCenter",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.alignCells(mxConstants.ALIGN_CENTER)});this.addAction("alignCellsRight",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.alignCells(mxConstants.ALIGN_RIGHT)});this.addAction("alignCellsTop",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.alignCells(mxConstants.ALIGN_TOP)});this.addAction("alignCellsMiddle",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.alignCells(mxConstants.ALIGN_MIDDLE)});this.addAction("alignCellsBottom",
function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.alignCells(mxConstants.ALIGN_BOTTOM)});this.addAction("alignFontLeft",function($a$$){$a$$.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT)});this.addAction("alignFontCenter",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER)});this.addAction("alignFontRight",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_RIGHT)});
this.addAction("alignFontTop",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_TOP)});this.addAction("alignFontMiddle",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE)});this.addAction("alignFontBottom",function($a$$){$a$$.graph.isEnabled()&&$a$$.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_BOTTOM)});this.addAction("zoom",function($a$$){var $b$$=
100*$a$$.graph.getView().scale,$b$$=parseFloat(mxUtils.prompt(mxResources.get($a$$.askZoomResource)||$a$$.askZoomResource,$b$$))/100;isNaN($b$$)||$a$$.graph.getView().setScale($b$$)});this.addAction("toggleTasks",function($a$$){null!=$a$$.tasks?$a$$.tasks.setVisible(!$a$$.tasks.isVisible()):$a$$.showTasks()});this.addAction("toggleHelp",function($a$$){null!=$a$$.help?$a$$.help.setVisible(!$a$$.help.isVisible()):$a$$.showHelp()});this.addAction("toggleOutline",function($a$$){null==$a$$.outline?$a$$.showOutline():
$a$$.outline.setVisible(!$a$$.outline.isVisible())});this.addAction("toggleConsole",function($a$$){mxLog.setVisible(!mxLog.isVisible())})};mxEditor.prototype.configure=function $mxEditor$$configure$($a$$){null!=$a$$&&((new mxCodec($a$$.ownerDocument)).decode($a$$,this),this.resetHistory())};mxEditor.prototype.resetFirstTime=function $mxEditor$$resetFirstTime$(){document.cookie="mxgraph=seen; expires=Fri, 27 Jul 2001 02:47:11 UTC; path=/"};
mxEditor.prototype.resetHistory=function $mxEditor$$resetHistory$(){this.lastSnapshot=(new Date).getTime();this.undoManager.clear();this.ignoredChanges=0;this.setModified(!1)};mxEditor.prototype.addAction=function $mxEditor$$addAction$($a$$,$b$$){this.actions[$a$$]=$b$$};
mxEditor.prototype.execute=function $mxEditor$$execute$($a$$,$b$$,$c$$){var $d$$=this.actions[$a$$];if(null!=$d$$)try{var $e$$=arguments;$e$$[0]=this;$d$$.apply(this,$e$$)}catch($f$$){throw mxUtils.error("Cannot execute "+$a$$+": "+$f$$.message,280,!0),$f$$;}else mxUtils.error("Cannot find action "+$a$$,280,!0)};mxEditor.prototype.addTemplate=function $mxEditor$$addTemplate$($a$$,$b$$){this.templates[$a$$]=$b$$};mxEditor.prototype.getTemplate=function $mxEditor$$getTemplate$($a$$){return this.templates[$a$$]};
mxEditor.prototype.createGraph=function $mxEditor$$createGraph$(){var $a$jscomp$0$$=new mxGraph(null,null,this.graphRenderHint);$a$jscomp$0$$.setTooltips(!0);$a$jscomp$0$$.setPanning(!0);this.installDblClickHandler($a$jscomp$0$$);this.installUndoHandler($a$jscomp$0$$);this.installDrillHandler($a$jscomp$0$$);this.installChangeHandler($a$jscomp$0$$);this.installInsertHandler($a$jscomp$0$$);$a$jscomp$0$$.popupMenuHandler.factoryMethod=mxUtils.bind(this,function($a$$,$c$$,$d$$){return this.createPopupMenu($a$$,
$c$$,$d$$)});$a$jscomp$0$$.connectionHandler.factoryMethod=mxUtils.bind(this,function($a$$,$c$$){return this.createEdge($a$$,$c$$)});this.createSwimlaneManager($a$jscomp$0$$);this.createLayoutManager($a$jscomp$0$$);return $a$jscomp$0$$};
mxEditor.prototype.createSwimlaneManager=function $mxEditor$$createSwimlaneManager$($a$$){$a$$=new mxSwimlaneManager($a$$,!1);$a$$.isHorizontal=mxUtils.bind(this,function(){return this.horizontalFlow});$a$$.isEnabled=mxUtils.bind(this,function(){return this.maintainSwimlanes});return $a$$};
mxEditor.prototype.createLayoutManager=function $mxEditor$$createLayoutManager$($a$$){var $b$jscomp$0$$=new mxLayoutManager($a$$),$c$$=this;$b$jscomp$0$$.getLayout=function $$b$jscomp$0$$$getLayout$($b$$){var $d$$=null,$f$$=$c$$.graph.getModel();null!=$f$$.getParent($b$$)&&($c$$.layoutSwimlanes&&$a$$.isSwimlane($b$$)?(null==$c$$.swimlaneLayout&&($c$$.swimlaneLayout=$c$$.createSwimlaneLayout()),$d$$=$c$$.swimlaneLayout):$c$$.layoutDiagram&&($a$$.isValidRoot($b$$)||null==$f$$.getParent($f$$.getParent($b$$)))&&
(null==$c$$.diagramLayout&&($c$$.diagramLayout=$c$$.createDiagramLayout()),$d$$=$c$$.diagramLayout));return $d$$};return $b$jscomp$0$$};mxEditor.prototype.setGraphContainer=function $mxEditor$$setGraphContainer$($a$$){null==this.graph.container&&(this.graph.init($a$$),this.rubberband=new mxRubberband(this.graph),this.disableContextMenu&&mxEvent.disableContextMenu($a$$),mxClient.IS_QUIRKS&&new mxDivResizer($a$$))};
mxEditor.prototype.installDblClickHandler=function $mxEditor$$installDblClickHandler$($a$$){$a$$.addListener(mxEvent.DOUBLE_CLICK,mxUtils.bind(this,function($b$$,$c$$){var $d$$=$c$$.getProperty("cell");null!=$d$$&&$a$$.isEnabled()&&null!=this.dblClickAction&&(this.execute(this.dblClickAction,$d$$),$c$$.consume())}))};
mxEditor.prototype.installUndoHandler=function $mxEditor$$installUndoHandler$($a$jscomp$0$$){var $b$jscomp$0$$=mxUtils.bind(this,function($a$$,$b$$){var $c$$=$b$$.getProperty("edit");this.undoManager.undoableEditHappened($c$$)});$a$jscomp$0$$.getModel().addListener(mxEvent.UNDO,$b$jscomp$0$$);$a$jscomp$0$$.getView().addListener(mxEvent.UNDO,$b$jscomp$0$$);$b$jscomp$0$$=function $$b$jscomp$0$$$($b$$,$d$$){var $c$$=$d$$.getProperty("edit").changes;$a$jscomp$0$$.setSelectionCells($a$jscomp$0$$.getSelectionCellsForChanges($c$$))};
this.undoManager.addListener(mxEvent.UNDO,$b$jscomp$0$$);this.undoManager.addListener(mxEvent.REDO,$b$jscomp$0$$)};mxEditor.prototype.installDrillHandler=function $mxEditor$$installDrillHandler$($a$jscomp$0$$){var $b$$=mxUtils.bind(this,function($a$$){this.fireEvent(new mxEventObject(mxEvent.ROOT))});$a$jscomp$0$$.getView().addListener(mxEvent.DOWN,$b$$);$a$jscomp$0$$.getView().addListener(mxEvent.UP,$b$$)};
mxEditor.prototype.installChangeHandler=function $mxEditor$$installChangeHandler$($a$$){var $b$jscomp$0$$=mxUtils.bind(this,function($b$$,$d$$){this.setModified(!0);1==this.validating&&$a$$.validateGraph();for(var $c$$=$d$$.getProperty("edit").changes,$f$$=0;$f$$<$c$$.length;$f$$++){var $g$$=$c$$[$f$$];if($g$$ instanceof mxRootChange||$g$$ instanceof mxValueChange&&$g$$.cell==this.graph.model.root||$g$$ instanceof mxCellAttributeChange&&$g$$.cell==this.graph.model.root){this.fireEvent(new mxEventObject(mxEvent.ROOT));
break}}});$a$$.getModel().addListener(mxEvent.CHANGE,$b$jscomp$0$$)};
mxEditor.prototype.installInsertHandler=function $mxEditor$$installInsertHandler$($a$jscomp$0$$){var $b$jscomp$0$$=this;$a$jscomp$0$$.addMouseListener({mouseDown:function($a$$,$d$$){null==$b$jscomp$0$$.insertFunction||$d$$.isPopupTrigger()||!$b$jscomp$0$$.forcedInserting&&null!=$d$$.getState()||($b$jscomp$0$$.graph.clearSelection(),$b$jscomp$0$$.insertFunction($d$$.getEvent(),$d$$.getCell()),this.isActive=!0,$d$$.consume())},mouseMove:function($a$$,$b$$){this.isActive&&$b$$.consume()},mouseUp:function($a$$,
$b$$){this.isActive&&(this.isActive=!1,$b$$.consume())}})};mxEditor.prototype.createDiagramLayout=function $mxEditor$$createDiagramLayout$(){var $a$jscomp$0$$=this.graph.gridSize,$b$$=new mxStackLayout(this.graph,!this.horizontalFlow,this.swimlaneSpacing,2*$a$jscomp$0$$,2*$a$jscomp$0$$);$b$$.isVertexIgnored=function $$b$$$isVertexIgnored$($a$$){return!$b$$.graph.isSwimlane($a$$)};return $b$$};
mxEditor.prototype.createSwimlaneLayout=function $mxEditor$$createSwimlaneLayout$(){return new mxCompactTreeLayout(this.graph,this.horizontalFlow)};mxEditor.prototype.createToolbar=function $mxEditor$$createToolbar$(){return new mxDefaultToolbar(null,this)};mxEditor.prototype.setToolbarContainer=function $mxEditor$$setToolbarContainer$($a$$){this.toolbar.init($a$$);mxClient.IS_QUIRKS&&new mxDivResizer($a$$)};
mxEditor.prototype.setStatusContainer=function $mxEditor$$setStatusContainer$($a$jscomp$0$$){null==this.status&&(this.status=$a$jscomp$0$$,this.addListener(mxEvent.SAVE,mxUtils.bind(this,function(){var $a$$=(new Date).toLocaleString();this.setStatus((mxResources.get(this.lastSavedResource)||this.lastSavedResource)+": "+$a$$)})),this.addListener(mxEvent.OPEN,mxUtils.bind(this,function(){this.setStatus((mxResources.get(this.currentFileResource)||this.currentFileResource)+": "+this.filename)})),mxClient.IS_QUIRKS&&
new mxDivResizer($a$jscomp$0$$))};mxEditor.prototype.setStatus=function $mxEditor$$setStatus$($a$$){null!=this.status&&null!=$a$$&&(this.status.innerHTML=$a$$)};mxEditor.prototype.setTitleContainer=function $mxEditor$$setTitleContainer$($a$$){this.addListener(mxEvent.ROOT,mxUtils.bind(this,function($b$$){$a$$.innerHTML=this.getTitle()}));mxClient.IS_QUIRKS&&new mxDivResizer($a$$)};
mxEditor.prototype.treeLayout=function $mxEditor$$treeLayout$($a$$,$b$$){null!=$a$$&&(new mxCompactTreeLayout(this.graph,$b$$)).execute($a$$)};mxEditor.prototype.getTitle=function $mxEditor$$getTitle$(){for(var $a$$="",$b$$=this.graph,$c$$=$b$$.getCurrentRoot();null!=$c$$&&null!=$b$$.getModel().getParent($b$$.getModel().getParent($c$$));)$b$$.isValidRoot($c$$)&&($a$$=" > "+$b$$.convertValueToString($c$$)+$a$$),$c$$=$b$$.getModel().getParent($c$$);return this.getRootTitle()+$a$$};
mxEditor.prototype.getRootTitle=function $mxEditor$$getRootTitle$(){var $a$$=this.graph.getModel().getRoot();return this.graph.convertValueToString($a$$)};mxEditor.prototype.undo=function $mxEditor$$undo$(){this.undoManager.undo()};mxEditor.prototype.redo=function $mxEditor$$redo$(){this.undoManager.redo()};mxEditor.prototype.groupCells=function $mxEditor$$groupCells$(){var $a$$=null!=this.groupBorderSize?this.groupBorderSize:this.graph.gridSize;return this.graph.groupCells(this.createGroup(),$a$$)};
mxEditor.prototype.createGroup=function $mxEditor$$createGroup$(){return this.graph.getModel().cloneCell(this.defaultGroup)};mxEditor.prototype.open=function $mxEditor$$open$($a$$){if(null!=$a$$){var $b$$=mxUtils.load($a$$).getXml();this.readGraphModel($b$$.documentElement);this.filename=$a$$;this.fireEvent(new mxEventObject(mxEvent.OPEN,"filename",$a$$))}};
mxEditor.prototype.readGraphModel=function $mxEditor$$readGraphModel$($a$$){(new mxCodec($a$$.ownerDocument)).decode($a$$,this.graph.getModel());this.resetHistory()};mxEditor.prototype.save=function $mxEditor$$save$($a$$,$b$$){$a$$=$a$$||this.getUrlPost();if(null!=$a$$&&0<$a$$.length){var $c$$=this.writeGraphModel($b$$);this.postDiagram($a$$,$c$$);this.setModified(!1)}this.fireEvent(new mxEventObject(mxEvent.SAVE,"url",$a$$))};
mxEditor.prototype.postDiagram=function $mxEditor$$postDiagram$($a$$,$b$$){this.escapePostData&&($b$$=encodeURIComponent($b$$));mxUtils.post($a$$,this.postParameterName+"="+$b$$,mxUtils.bind(this,function($c$$){this.fireEvent(new mxEventObject(mxEvent.POST,"request",$c$$,"url",$a$$,"data",$b$$))}))};mxEditor.prototype.writeGraphModel=function $mxEditor$$writeGraphModel$($a$$){$a$$=null!=$a$$?$a$$:this.linefeed;var $b$$=(new mxCodec).encode(this.graph.getModel());return mxUtils.getXml($b$$,$a$$)};
mxEditor.prototype.getUrlPost=function $mxEditor$$getUrlPost$(){return this.urlPost};mxEditor.prototype.getUrlImage=function $mxEditor$$getUrlImage$(){return this.urlImage};mxEditor.prototype.swapStyles=function $mxEditor$$swapStyles$($a$$,$b$$){var $c$$=this.graph.getStylesheet().styles[$b$$];this.graph.getView().getStylesheet().putCellStyle($b$$,this.graph.getStylesheet().styles[$a$$]);this.graph.getStylesheet().putCellStyle($a$$,$c$$);this.graph.refresh()};
mxEditor.prototype.showProperties=function $mxEditor$$showProperties$($a$$){$a$$=$a$$||this.graph.getSelectionCell();null==$a$$&&($a$$=this.graph.getCurrentRoot(),null==$a$$&&($a$$=this.graph.getModel().getRoot()));if(null!=$a$$){this.graph.stopEditing(!0);var $b$$=mxUtils.getOffset(this.graph.container),$c$$=$b$$.x+10,$b$$=$b$$.y;if(null==this.properties||this.movePropertiesDialog){var $d$$=this.graph.getCellBounds($a$$);null!=$d$$&&($c$$+=$d$$.x+Math.min(200,$d$$.width),$b$$+=$d$$.y)}else $c$$=
this.properties.getX(),$b$$=this.properties.getY();this.hideProperties();$a$$=this.createProperties($a$$);null!=$a$$&&(this.properties=new mxWindow(mxResources.get(this.propertiesResource)||this.propertiesResource,$a$$,$c$$,$b$$,this.propertiesWidth,this.propertiesHeight,!1),this.properties.setVisible(!0))}};mxEditor.prototype.isPropertiesVisible=function $mxEditor$$isPropertiesVisible$(){return null!=this.properties};
mxEditor.prototype.createProperties=function $mxEditor$$createProperties$($a$$){var $b$$=this.graph.getModel(),$c$jscomp$0$$=$b$$.getValue($a$$);if(mxUtils.isNode($c$jscomp$0$$)){var $d$jscomp$0$$=new mxForm("properties");$d$jscomp$0$$.addText("ID",$a$$.getId()).setAttribute("readonly","true");var $e$$=null,$f$$=null,$g$$=null,$k$$=null,$l$$=null;$b$$.isVertex($a$$)&&($e$$=$b$$.getGeometry($a$$),null!=$e$$&&($f$$=$d$jscomp$0$$.addText("top",$e$$.y),$g$$=$d$jscomp$0$$.addText("left",$e$$.x),$k$$=$d$jscomp$0$$.addText("width",
$e$$.width),$l$$=$d$jscomp$0$$.addText("height",$e$$.height)));for(var $m$$=$b$$.getStyle($a$$),$n$$=$d$jscomp$0$$.addText("Style",$m$$||""),$p$$=$c$jscomp$0$$.attributes,$q$$=[],$c$jscomp$0$$=0;$c$jscomp$0$$<$p$$.length;$c$jscomp$0$$++)$q$$[$c$jscomp$0$$]=$d$jscomp$0$$.addTextarea($p$$[$c$jscomp$0$$].nodeName,$p$$[$c$jscomp$0$$].value,"label"==$p$$[$c$jscomp$0$$].nodeName?4:2);$c$jscomp$0$$=mxUtils.bind(this,function(){this.hideProperties();$b$$.beginUpdate();try{null!=$e$$&&($e$$=$e$$.clone(),$e$$.x=
parseFloat($g$$.value),$e$$.y=parseFloat($f$$.value),$e$$.width=parseFloat($k$$.value),$e$$.height=parseFloat($l$$.value),$b$$.setGeometry($a$$,$e$$));0<$n$$.value.length?$b$$.setStyle($a$$,$n$$.value):$b$$.setStyle($a$$,null);for(var $c$$=0;$c$$<$p$$.length;$c$$++){var $d$$=new mxCellAttributeChange($a$$,$p$$[$c$$].nodeName,$q$$[$c$$].value);$b$$.execute($d$$)}this.graph.isAutoSizeCell($a$$)&&this.graph.updateCellSize($a$$)}finally{$b$$.endUpdate()}});$m$$=mxUtils.bind(this,function(){this.hideProperties()});
$d$jscomp$0$$.addButtons($c$jscomp$0$$,$m$$);return $d$jscomp$0$$.table}return null};mxEditor.prototype.hideProperties=function $mxEditor$$hideProperties$(){null!=this.properties&&(this.properties.destroy(),this.properties=null)};
mxEditor.prototype.showTasks=function $mxEditor$$showTasks$(){if(null==this.tasks){var $a$$=document.createElement("div");$a$$.style.padding="4px";$a$$.style.paddingLeft="20px";var $b$jscomp$0$$=document.body.clientWidth,$b$jscomp$0$$=new mxWindow(mxResources.get(this.tasksResource)||this.tasksResource,$a$$,$b$jscomp$0$$-220,this.tasksTop,200);$b$jscomp$0$$.setClosable(!0);$b$jscomp$0$$.destroyOnClose=!1;var $c$$=mxUtils.bind(this,function($b$$){mxEvent.release($a$$);$a$$.innerHTML="";this.createTasks($a$$)});
this.graph.getModel().addListener(mxEvent.CHANGE,$c$$);this.graph.getSelectionModel().addListener(mxEvent.CHANGE,$c$$);this.graph.addListener(mxEvent.ROOT,$c$$);null!=this.tasksWindowImage&&$b$jscomp$0$$.setImage(this.tasksWindowImage);this.tasks=$b$jscomp$0$$;this.createTasks($a$$)}this.tasks.setVisible(!0)};mxEditor.prototype.refreshTasks=function $mxEditor$$refreshTasks$($a$$){null!=this.tasks&&($a$$=this.tasks.content,mxEvent.release($a$$),$a$$.innerHTML="",this.createTasks($a$$))};
mxEditor.prototype.createTasks=function $mxEditor$$createTasks$($a$$){};
mxEditor.prototype.showHelp=function $mxEditor$$showHelp$($a$jscomp$0$$){if(null==this.help){var $b$$=document.createElement("iframe");$b$$.setAttribute("src",mxResources.get("urlHelp")||this.urlHelp);$b$$.setAttribute("height","100%");$b$$.setAttribute("width","100%");$b$$.setAttribute("frameBorder","0");$b$$.style.backgroundColor="white";$a$jscomp$0$$=document.body.clientWidth;var $c$$=document.body.clientHeight||document.documentElement.clientHeight,$d$$=new mxWindow(mxResources.get(this.helpResource)||
this.helpResource,$b$$,($a$jscomp$0$$-this.helpWidth)/2,($c$$-this.helpHeight)/3,this.helpWidth,this.helpHeight);$d$$.setMaximizable(!0);$d$$.setClosable(!0);$d$$.destroyOnClose=!1;$d$$.setResizable(!0);null!=this.helpWindowImage&&$d$$.setImage(this.helpWindowImage);mxClient.IS_NS&&($a$jscomp$0$$=function $$a$jscomp$0$$$($a$$){$b$$.setAttribute("height",$d$$.div.offsetHeight-26+"px")},$d$$.addListener(mxEvent.RESIZE_END,$a$jscomp$0$$),$d$$.addListener(mxEvent.MAXIMIZE,$a$jscomp$0$$),$d$$.addListener(mxEvent.NORMALIZE,
$a$jscomp$0$$),$d$$.addListener(mxEvent.SHOW,$a$jscomp$0$$));this.help=$d$$}this.help.setVisible(!0)};
mxEditor.prototype.showOutline=function $mxEditor$$showOutline$(){if(null==this.outline){var $a$$=document.createElement("div");$a$$.style.overflow="hidden";$a$$.style.position="relative";$a$$.style.width="100%";$a$$.style.height="100%";$a$$.style.background="white";$a$$.style.cursor="move";8==document.documentMode&&($a$$.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=100)");var $b$$=new mxWindow(mxResources.get(this.outlineResource)||this.outlineResource,$a$$,600,480,200,200,!1),$c$$=
new mxOutline(this.graph,$a$$);$b$$.setClosable(!0);$b$$.setResizable(!0);$b$$.destroyOnClose=!1;$b$$.addListener(mxEvent.RESIZE_END,function(){$c$$.update()});this.outline=$b$$;this.outline.outline=$c$$}this.outline.setVisible(!0);this.outline.outline.update(!0)};
mxEditor.prototype.setMode=function $mxEditor$$setMode$($a$$){"select"==$a$$?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!1)):"connect"==$a$$?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!0)):"pan"==$a$$&&(this.graph.panningHandler.useLeftButtonForPanning=!0,this.graph.setConnectable(!1))};mxEditor.prototype.createPopupMenu=function $mxEditor$$createPopupMenu$($a$$,$b$$,$c$$){this.popupHandler.createMenu(this,$a$$,$b$$,$c$$)};
mxEditor.prototype.createEdge=function $mxEditor$$createEdge$($a$$,$b$$){var $c$$;if(null!=this.defaultEdge)$c$$=this.graph.getModel().cloneCell(this.defaultEdge);else{$c$$=new mxCell("");$c$$.setEdge(!0);var $d$$=new mxGeometry;$d$$.relative=!0;$c$$.setGeometry($d$$)}$d$$=this.getEdgeStyle();null!=$d$$&&$c$$.setStyle($d$$);return $c$$};mxEditor.prototype.getEdgeStyle=function $mxEditor$$getEdgeStyle$(){return this.defaultEdgeStyle};
mxEditor.prototype.consumeCycleAttribute=function $mxEditor$$consumeCycleAttribute$($a$$){return null!=this.cycleAttributeValues&&0<this.cycleAttributeValues.length&&this.graph.isSwimlane($a$$)?this.cycleAttributeValues[this.cycleAttributeIndex++%this.cycleAttributeValues.length]:null};
mxEditor.prototype.cycleAttribute=function $mxEditor$$cycleAttribute$($a$$){if(null!=this.cycleAttributeName){var $b$$=this.consumeCycleAttribute($a$$);null!=$b$$&&$a$$.setStyle($a$$.getStyle()+";"+this.cycleAttributeName+"="+$b$$)}};
mxEditor.prototype.addVertex=function $mxEditor$$addVertex$($a$$,$b$$,$c$$,$d$$){for(var $e$$=this.graph.getModel();null!=$a$$&&!this.graph.isValidDropTarget($a$$);)$a$$=$e$$.getParent($a$$);$a$$=null!=$a$$?$a$$:this.graph.getSwimlaneAt($c$$,$d$$);var $f$$=this.graph.getView().scale,$g$$=$e$$.getGeometry($b$$),$k$$=$e$$.getGeometry($a$$);if(this.graph.isSwimlane($b$$)&&!this.graph.swimlaneNesting)$a$$=null;else{if(null==$a$$&&this.swimlaneRequired)return null;if(null!=$a$$&&null!=$k$$){var $l$$=this.graph.getView().getState($a$$);
if(null!=$l$$){if($c$$-=$l$$.origin.x*$f$$,$d$$-=$l$$.origin.y*$f$$,this.graph.isConstrainedMoving){var $k$$=$g$$.width,$m$$=$g$$.height,$n$$=$l$$.x+$l$$.width;$c$$+$k$$>$n$$&&($c$$-=$c$$+$k$$-$n$$);$n$$=$l$$.y+$l$$.height;$d$$+$m$$>$n$$&&($d$$-=$d$$+$m$$-$n$$)}}else null!=$k$$&&($c$$-=$k$$.x*$f$$,$d$$-=$k$$.y*$f$$)}}$g$$=$g$$.clone();$g$$.x=this.graph.snap($c$$/$f$$-this.graph.getView().translate.x-this.graph.gridSize/2);$g$$.y=this.graph.snap($d$$/$f$$-this.graph.getView().translate.y-this.graph.gridSize/
2);$b$$.setGeometry($g$$);null==$a$$&&($a$$=this.graph.getDefaultParent());this.cycleAttribute($b$$);this.fireEvent(new mxEventObject(mxEvent.BEFORE_ADD_VERTEX,"vertex",$b$$,"parent",$a$$));$e$$.beginUpdate();try{$b$$=this.graph.addCell($b$$,$a$$),null!=$b$$&&(this.graph.constrainChild($b$$),this.fireEvent(new mxEventObject(mxEvent.ADD_VERTEX,"vertex",$b$$)))}finally{$e$$.endUpdate()}null!=$b$$&&(this.graph.setSelectionCell($b$$),this.graph.scrollCellToVisible($b$$),this.fireEvent(new mxEventObject(mxEvent.AFTER_ADD_VERTEX,
"vertex",$b$$)));return $b$$};mxEditor.prototype.destroy=function $mxEditor$$destroy$(){this.destroyed||(this.destroyed=!0,null!=this.tasks&&this.tasks.destroy(),null!=this.outline&&this.outline.destroy(),null!=this.properties&&this.properties.destroy(),null!=this.keyHandler&&this.keyHandler.destroy(),null!=this.rubberband&&this.rubberband.destroy(),null!=this.toolbar&&this.toolbar.destroy(),null!=this.graph&&this.graph.destroy(),this.templates=this.status=null)};
var mxCodecRegistry={codecs:[],aliases:[],register:function($a$$){if(null!=$a$$){var $b$$=$a$$.getName();mxCodecRegistry.codecs[$b$$]=$a$$;var $c$$=mxUtils.getFunctionName($a$$.template.constructor);$c$$!=$b$$&&mxCodecRegistry.addAlias($c$$,$b$$)}return $a$$},addAlias:function($a$$,$b$$){mxCodecRegistry.aliases[$a$$]=$b$$},getCodec:function($a$$){var $b$$=null;if(null!=$a$$){var $b$$=mxUtils.getFunctionName($a$$),$c$$=mxCodecRegistry.aliases[$b$$];null!=$c$$&&($b$$=$c$$);$b$$=mxCodecRegistry.codecs[$b$$];
if(null==$b$$)try{$b$$=new mxObjectCodec(new $a$$),mxCodecRegistry.register($b$$)}catch($d$$){}}return $b$$}};function mxCodec($a$$){this.document=$a$$||mxUtils.createXmlDocument();this.objects=[]}mxCodec.prototype.document=null;mxCodec.prototype.objects=null;mxCodec.prototype.elements=null;mxCodec.prototype.encodeDefaults=!1;mxCodec.prototype.putObject=function $mxCodec$$putObject$($a$$,$b$$){return this.objects[$a$$]=$b$$};
mxCodec.prototype.getObject=function $mxCodec$$getObject$($a$$){var $b$$=null;null!=$a$$&&($b$$=this.objects[$a$$],null==$b$$&&($b$$=this.lookup($a$$),null==$b$$&&($a$$=this.getElementById($a$$),null!=$a$$&&($b$$=this.decode($a$$)))));return $b$$};mxCodec.prototype.lookup=function $mxCodec$$lookup$($a$$){return null};mxCodec.prototype.getElementById=function $mxCodec$$getElementById$($a$$){this.updateElements();return this.elements[$a$$]};
mxCodec.prototype.updateElements=function $mxCodec$$updateElements$(){null==this.elements&&(this.elements={},null!=this.document.documentElement&&this.addElement(this.document.documentElement))};
mxCodec.prototype.addElement=function $mxCodec$$addElement$($a$$){if($a$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $b$$=$a$$.getAttribute("id");if(null!=$b$$)if(null==this.elements[$b$$])this.elements[$b$$]=$a$$;else if(this.elements[$b$$]!=$a$$)throw Error($b$$+": Duplicate ID");}for($a$$=$a$$.firstChild;null!=$a$$;)this.addElement($a$$),$a$$=$a$$.nextSibling};
mxCodec.prototype.getId=function $mxCodec$$getId$($a$$){var $b$$=null;null!=$a$$&&($b$$=this.reference($a$$),null==$b$$&&$a$$ instanceof mxCell&&($b$$=$a$$.getId(),null==$b$$&&($b$$=mxCellPath.create($a$$),0==$b$$.length&&($b$$="root"))));return $b$$};mxCodec.prototype.reference=function $mxCodec$$reference$($a$$){return null};
mxCodec.prototype.encode=function $mxCodec$$encode$($a$$){var $b$$=null;if(null!=$a$$&&null!=$a$$.constructor){var $c$$=mxCodecRegistry.getCodec($a$$.constructor);null!=$c$$?$b$$=$c$$.encode(this,$a$$):mxUtils.isNode($a$$)?$b$$=mxUtils.importNode(this.document,$a$$,!0):mxLog.warn("mxCodec.encode: No codec for "+mxUtils.getFunctionName($a$$.constructor))}return $b$$};
mxCodec.prototype.decode=function $mxCodec$$decode$($a$$,$b$$){this.updateElements();var $c$$=null;if(null!=$a$$&&$a$$.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=null;try{$c$$=window[$a$$.nodeName]}catch($d$$){}$c$$=mxCodecRegistry.getCodec($c$$);null!=$c$$?$c$$=$c$$.decode(this,$a$$,$b$$):($c$$=$a$$.cloneNode(!0),$c$$.removeAttribute("as"))}return $c$$};
mxCodec.prototype.encodeCell=function $mxCodec$$encodeCell$($a$$,$b$$,$c$$){$b$$.appendChild(this.encode($a$$));if(null==$c$$||$c$$){$c$$=$a$$.getChildCount();for(var $d$$=0;$d$$<$c$$;$d$$++)this.encodeCell($a$$.getChildAt($d$$),$b$$)}};mxCodec.prototype.isCellCodec=function $mxCodec$$isCellCodec$($a$$){return null!=$a$$&&"function"==typeof $a$$.isCellCodec?$a$$.isCellCodec():!1};
mxCodec.prototype.decodeCell=function $mxCodec$$decodeCell$($a$$,$b$$){$b$$=null!=$b$$?$b$$:!0;var $c$$=null;if(null!=$a$$&&$a$$.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=mxCodecRegistry.getCodec($a$$.nodeName);if(!this.isCellCodec($c$$))for(var $d$$=$a$$.firstChild;null!=$d$$&&!this.isCellCodec($c$$);)$c$$=mxCodecRegistry.getCodec($d$$.nodeName),$d$$=$d$$.nextSibling;this.isCellCodec($c$$)||($c$$=mxCodecRegistry.getCodec(mxCell));$c$$=$c$$.decode(this,$a$$);$b$$&&this.insertIntoGraph($c$$)}return $c$$};
mxCodec.prototype.insertIntoGraph=function $mxCodec$$insertIntoGraph$($a$$){var $b$$=$a$$.parent,$c$$=$a$$.getTerminal(!0),$d$$=$a$$.getTerminal(!1);$a$$.setTerminal(null,!1);$a$$.setTerminal(null,!0);$a$$.parent=null;if(null!=$b$$){if($b$$==$a$$)throw Error($b$$.id+": Self Reference");$b$$.insert($a$$)}null!=$c$$&&$c$$.insertEdge($a$$,!0);null!=$d$$&&$d$$.insertEdge($a$$,!1)};
mxCodec.prototype.setAttribute=function $mxCodec$$setAttribute$($a$$,$b$$,$c$$){null!=$b$$&&null!=$c$$&&$a$$.setAttribute($b$$,$c$$)};function mxObjectCodec($a$$,$b$$,$c$$,$d$$){this.template=$a$$;this.exclude=null!=$b$$?$b$$:[];this.idrefs=null!=$c$$?$c$$:[];this.mapping=null!=$d$$?$d$$:[];this.reverse={};for(var $e$$ in this.mapping)this.reverse[this.mapping[$e$$]]=$e$$}mxObjectCodec.allowEval=!1;mxObjectCodec.prototype.template=null;mxObjectCodec.prototype.exclude=null;
mxObjectCodec.prototype.idrefs=null;mxObjectCodec.prototype.mapping=null;mxObjectCodec.prototype.reverse=null;mxObjectCodec.prototype.getName=function $mxObjectCodec$$getName$(){return mxUtils.getFunctionName(this.template.constructor)};mxObjectCodec.prototype.cloneTemplate=function $mxObjectCodec$$cloneTemplate$(){return new this.template.constructor};mxObjectCodec.prototype.getFieldName=function $mxObjectCodec$$getFieldName$($a$$){if(null!=$a$$){var $b$$=this.reverse[$a$$];null!=$b$$&&($a$$=$b$$)}return $a$$};
mxObjectCodec.prototype.getAttributeName=function $mxObjectCodec$$getAttributeName$($a$$){if(null!=$a$$){var $b$$=this.mapping[$a$$];null!=$b$$&&($a$$=$b$$)}return $a$$};mxObjectCodec.prototype.isExcluded=function $mxObjectCodec$$isExcluded$($a$$,$b$$,$c$$,$d$$){return $b$$==mxObjectIdentity.FIELD_NAME||0<=mxUtils.indexOf(this.exclude,$b$$)};mxObjectCodec.prototype.isReference=function $mxObjectCodec$$isReference$($a$$,$b$$,$c$$,$d$$){return 0<=mxUtils.indexOf(this.idrefs,$b$$)};
mxObjectCodec.prototype.encode=function $mxObjectCodec$$encode$($a$$,$b$$){var $c$$=$a$$.document.createElement(this.getName());$b$$=this.beforeEncode($a$$,$b$$,$c$$);this.encodeObject($a$$,$b$$,$c$$);return this.afterEncode($a$$,$b$$,$c$$)};
mxObjectCodec.prototype.encodeObject=function $mxObjectCodec$$encodeObject$($a$$,$b$$,$c$$){$a$$.setAttribute($c$$,"id",$a$$.getId($b$$));for(var $d$$ in $b$$){var $e$$=$d$$,$f$$=$b$$[$e$$];null==$f$$||this.isExcluded($b$$,$e$$,$f$$,!0)||(mxUtils.isInteger($e$$)&&($e$$=null),this.encodeValue($a$$,$b$$,$e$$,$f$$,$c$$))}};
mxObjectCodec.prototype.encodeValue=function $mxObjectCodec$$encodeValue$($a$$,$b$$,$c$$,$d$$,$e$$){if(null!=$d$$){if(this.isReference($b$$,$c$$,$d$$,!0)){var $f$$=$a$$.getId($d$$);if(null==$f$$){mxLog.warn("mxObjectCodec.encode: No ID for "+this.getName()+"."+$c$$+"="+$d$$);return}$d$$=$f$$}$f$$=this.template[$c$$];if(null==$c$$||$a$$.encodeDefaults||$f$$!=$d$$)$c$$=this.getAttributeName($c$$),this.writeAttribute($a$$,$b$$,$c$$,$d$$,$e$$)}};
mxObjectCodec.prototype.writeAttribute=function $mxObjectCodec$$writeAttribute$($a$$,$b$$,$c$$,$d$$,$e$$){"object"!=typeof $d$$?this.writePrimitiveAttribute($a$$,$b$$,$c$$,$d$$,$e$$):this.writeComplexAttribute($a$$,$b$$,$c$$,$d$$,$e$$)};
mxObjectCodec.prototype.writePrimitiveAttribute=function $mxObjectCodec$$writePrimitiveAttribute$($a$$,$b$$,$c$$,$d$$,$e$$){$d$$=this.convertAttributeToXml($a$$,$b$$,$c$$,$d$$,$e$$);null==$c$$?($b$$=$a$$.document.createElement("add"),"function"==typeof $d$$?$b$$.appendChild($a$$.document.createTextNode($d$$)):$a$$.setAttribute($b$$,"value",$d$$),$e$$.appendChild($b$$)):"function"!=typeof $d$$&&$a$$.setAttribute($e$$,$c$$,$d$$)};
mxObjectCodec.prototype.writeComplexAttribute=function $mxObjectCodec$$writeComplexAttribute$($a$$,$b$$,$c$$,$d$$,$e$$){$a$$=$a$$.encode($d$$);null!=$a$$?(null!=$c$$&&$a$$.setAttribute("as",$c$$),$e$$.appendChild($a$$)):mxLog.warn("mxObjectCodec.encode: No node for "+this.getName()+"."+$c$$+": "+$d$$)};mxObjectCodec.prototype.convertAttributeToXml=function $mxObjectCodec$$convertAttributeToXml$($a$$,$b$$,$c$$,$d$$){this.isBooleanAttribute($a$$,$b$$,$c$$,$d$$)&&($d$$=1==$d$$?"1":"0");return $d$$};
mxObjectCodec.prototype.isBooleanAttribute=function $mxObjectCodec$$isBooleanAttribute$($a$$,$b$$,$c$$,$d$$){return"undefined"==typeof $d$$.length&&(1==$d$$||0==$d$$)};mxObjectCodec.prototype.convertAttributeFromXml=function $mxObjectCodec$$convertAttributeFromXml$($a$$,$b$$,$c$$){var $d$$=$b$$.value;this.isNumericAttribute($a$$,$b$$,$c$$)&&($d$$=parseFloat($d$$),isNaN($d$$)||!isFinite($d$$))&&($d$$=0);return $d$$};
mxObjectCodec.prototype.isNumericAttribute=function $mxObjectCodec$$isNumericAttribute$($a$$,$b$$,$c$$){return $c$$.constructor==mxGeometry&&("x"==$b$$.name||"y"==$b$$.name||"width"==$b$$.name||"height"==$b$$.name)||$c$$.constructor==mxPoint&&("x"==$b$$.name||"y"==$b$$.name)||mxUtils.isNumeric($b$$.value)};mxObjectCodec.prototype.beforeEncode=function $mxObjectCodec$$beforeEncode$($a$$,$b$$,$c$$){return $b$$};mxObjectCodec.prototype.afterEncode=function $mxObjectCodec$$afterEncode$($a$$,$b$$,$c$$){return $c$$};
mxObjectCodec.prototype.decode=function $mxObjectCodec$$decode$($a$$,$b$$,$c$$){var $d$$=$b$$.getAttribute("id"),$e$$=$a$$.objects[$d$$];null==$e$$&&($e$$=$c$$||this.cloneTemplate(),null!=$d$$&&$a$$.putObject($d$$,$e$$));$b$$=this.beforeDecode($a$$,$b$$,$e$$);this.decodeNode($a$$,$b$$,$e$$);return this.afterDecode($a$$,$b$$,$e$$)};
mxObjectCodec.prototype.decodeNode=function $mxObjectCodec$$decodeNode$($a$$,$b$$,$c$$){null!=$b$$&&(this.decodeAttributes($a$$,$b$$,$c$$),this.decodeChildren($a$$,$b$$,$c$$))};mxObjectCodec.prototype.decodeAttributes=function $mxObjectCodec$$decodeAttributes$($a$$,$b$$,$c$$){$b$$=$b$$.attributes;if(null!=$b$$)for(var $d$$=0;$d$$<$b$$.length;$d$$++)this.decodeAttribute($a$$,$b$$[$d$$],$c$$)};
mxObjectCodec.prototype.isIgnoredAttribute=function $mxObjectCodec$$isIgnoredAttribute$($a$$,$b$$,$c$$){return"as"==$b$$.nodeName||"id"==$b$$.nodeName};
mxObjectCodec.prototype.decodeAttribute=function $mxObjectCodec$$decodeAttribute$($a$$,$b$$,$c$$){if(!this.isIgnoredAttribute($a$$,$b$$,$c$$)){var $d$$=$b$$.nodeName;$b$$=this.convertAttributeFromXml($a$$,$b$$,$c$$);var $e$$=this.getFieldName($d$$);if(this.isReference($c$$,$e$$,$b$$,!1)){$a$$=$a$$.getObject($b$$);if(null==$a$$){mxLog.warn("mxObjectCodec.decode: No object for "+this.getName()+"."+$d$$+"="+$b$$);return}$b$$=$a$$}this.isExcluded($c$$,$d$$,$b$$,!1)||($c$$[$d$$]=$b$$)}};
mxObjectCodec.prototype.decodeChildren=function $mxObjectCodec$$decodeChildren$($a$$,$b$$,$c$$){for($b$$=$b$$.firstChild;null!=$b$$;){var $d$$=$b$$.nextSibling;$b$$.nodeType!=mxConstants.NODETYPE_ELEMENT||this.processInclude($a$$,$b$$,$c$$)||this.decodeChild($a$$,$b$$,$c$$);$b$$=$d$$}};
mxObjectCodec.prototype.decodeChild=function $mxObjectCodec$$decodeChild$($a$$,$b$$,$c$$){var $d$$=this.getFieldName($b$$.getAttribute("as"));if(null==$d$$||!this.isExcluded($c$$,$d$$,$b$$,!1)){var $e$$=this.getFieldTemplate($c$$,$d$$,$b$$);"add"==$b$$.nodeName?($a$$=$b$$.getAttribute("value"),null==$a$$&&mxObjectCodec.allowEval&&($a$$=mxUtils.eval(mxUtils.getTextContent($b$$)))):$a$$=$a$$.decode($b$$,$e$$);try{this.addObjectValue($c$$,$d$$,$a$$,$e$$)}catch($f$$){throw Error($f$$.message+" for "+
$b$$.nodeName);}}};mxObjectCodec.prototype.getFieldTemplate=function $mxObjectCodec$$getFieldTemplate$($a$$,$b$$,$c$$){$a$$=$a$$[$b$$];$a$$ instanceof Array&&0<$a$$.length&&($a$$=null);return $a$$};mxObjectCodec.prototype.addObjectValue=function $mxObjectCodec$$addObjectValue$($a$$,$b$$,$c$$,$d$$){null!=$c$$&&$c$$!=$d$$&&(null!=$b$$&&0<$b$$.length?$a$$[$b$$]=$c$$:$a$$.push&&$a$$.push($c$$))};
mxObjectCodec.prototype.processInclude=function $mxObjectCodec$$processInclude$($a$$,$b$$,$c$$){if("include"==$b$$.nodeName){$b$$=$b$$.getAttribute("name");if(null!=$b$$)try{var $d$$=mxUtils.load($b$$).getDocumentElement();null!=$d$$&&$a$$.decode($d$$,$c$$)}catch($e$$){}return!0}return!1};mxObjectCodec.prototype.beforeDecode=function $mxObjectCodec$$beforeDecode$($a$$,$b$$,$c$$){return $b$$};mxObjectCodec.prototype.afterDecode=function $mxObjectCodec$$afterDecode$($a$$,$b$$,$c$$){return $c$$};
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxCell,["children","edges","overlays","mxTransient"],["parent","source","target"]);$a$jscomp$0$$.isCellCodec=function $$a$jscomp$0$$$isCellCodec$(){return!0};$a$jscomp$0$$.isNumericAttribute=function $$a$jscomp$0$$$isNumericAttribute$($a$$,$c$$,$d$$){return"value"!==$c$$.nodeName&&mxObjectCodec.prototype.isNumericAttribute.apply(this,arguments)};$a$jscomp$0$$.isExcluded=function $$a$jscomp$0$$$isExcluded$($a$$,$c$$,$d$$,$e$$){return mxObjectCodec.prototype.isExcluded.apply(this,
arguments)||$e$$&&"value"==$c$$&&$d$$.nodeType==mxConstants.NODETYPE_ELEMENT};$a$jscomp$0$$.afterEncode=function $$a$jscomp$0$$$afterEncode$($a$$,$c$$,$d$$){if(null!=$c$$.value&&$c$$.value.nodeType==mxConstants.NODETYPE_ELEMENT){var $b$$=$d$$;$d$$=mxUtils.importNode($a$$.document,$c$$.value,!0);$d$$.appendChild($b$$);$a$$=$b$$.getAttribute("id");$d$$.setAttribute("id",$a$$);$b$$.removeAttribute("id")}return $d$$};$a$jscomp$0$$.beforeDecode=function $$a$jscomp$0$$$beforeDecode$($a$$,$c$$,$d$$){var $b$$=
$c$$.cloneNode(!0),$f$$=this.getName();$c$$.nodeName!=$f$$?($b$$=$c$$.getElementsByTagName($f$$)[0],null!=$b$$&&$b$$.parentNode==$c$$?(mxUtils.removeWhitespace($b$$,!0),mxUtils.removeWhitespace($b$$,!1),$b$$.parentNode.removeChild($b$$)):$b$$=null,$d$$.value=$c$$.cloneNode(!0),$c$$=$d$$.value.getAttribute("id"),null!=$c$$&&($d$$.setId($c$$),$d$$.value.removeAttribute("id"))):$d$$.setId($c$$.getAttribute("id"));if(null!=$b$$)for($c$$=0;$c$$<this.idrefs.length;$c$$++){var $f$$=this.idrefs[$c$$],$g$$=
$b$$.getAttribute($f$$);if(null!=$g$$){$b$$.removeAttribute($f$$);var $k$$=$a$$.objects[$g$$]||$a$$.lookup($g$$);null==$k$$&&($g$$=$a$$.getElementById($g$$),null!=$g$$&&($k$$=(mxCodecRegistry.codecs[$g$$.nodeName]||this).decode($a$$,$g$$)));$d$$[$f$$]=$k$$}}return $b$$};return $a$jscomp$0$$}());
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxGraphModel);$a$jscomp$0$$.encodeObject=function $$a$jscomp$0$$$encodeObject$($a$$,$c$$,$d$$){var $b$$=$a$$.document.createElement("root");$a$$.encodeCell($c$$.getRoot(),$b$$);$d$$.appendChild($b$$)};$a$jscomp$0$$.decodeChild=function $$a$jscomp$0$$$decodeChild$($a$$,$c$$,$d$$){"root"==$c$$.nodeName?this.decodeRoot($a$$,$c$$,$d$$):mxObjectCodec.prototype.decodeChild.apply(this,arguments)};$a$jscomp$0$$.decodeRoot=function $$a$jscomp$0$$$decodeRoot$($a$$,
$c$$,$d$$){var $b$$=null;for($c$$=$c$$.firstChild;null!=$c$$;){var $f$$=$a$$.decodeCell($c$$);null!=$f$$&&null==$f$$.getParent()&&($b$$=$f$$);$c$$=$c$$.nextSibling}null!=$b$$&&$d$$.setRoot($b$$)};return $a$jscomp$0$$}());
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxRootChange,["model","previous","root"]);$a$jscomp$0$$.afterEncode=function $$a$jscomp$0$$$afterEncode$($a$$,$c$$,$d$$){$a$$.encodeCell($c$$.root,$d$$);return $d$$};$a$jscomp$0$$.beforeDecode=function $$a$jscomp$0$$$beforeDecode$($a$$,$c$$,$d$$){if(null!=$c$$.firstChild&&$c$$.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=$c$$.cloneNode(!0);var $b$$=$c$$.firstChild;$d$$.root=$a$$.decodeCell($b$$,!1);$d$$=$b$$.nextSibling;
$b$$.parentNode.removeChild($b$$);for($b$$=$d$$;null!=$b$$;)$d$$=$b$$.nextSibling,$a$$.decodeCell($b$$),$b$$.parentNode.removeChild($b$$),$b$$=$d$$}return $c$$};$a$jscomp$0$$.afterDecode=function $$a$jscomp$0$$$afterDecode$($a$$,$c$$,$d$$){$d$$.previous=$d$$.root;return $d$$};return $a$jscomp$0$$}());
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxChildChange,["model","child","previousIndex"],["parent","previous"]);$a$jscomp$0$$.isReference=function $$a$jscomp$0$$$isReference$($a$$,$c$$,$d$$,$e$$){return"child"!=$c$$||$e$$&&!$a$$.model.contains($a$$.previous)?0<=mxUtils.indexOf(this.idrefs,$c$$):!0};$a$jscomp$0$$.isExcluded=function $$a$jscomp$0$$$isExcluded$($a$$,$c$$,$d$$,$e$$){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||$e$$&&null!=$d$$&&("previous"==
$c$$||"parent"==$c$$)&&!$a$$.model.contains($d$$)};$a$jscomp$0$$.afterEncode=function $$a$jscomp$0$$$afterEncode$($a$$,$c$$,$d$$){this.isReference($c$$,"child",$c$$.child,!0)?$d$$.setAttribute("child",$a$$.getId($c$$.child)):$a$$.encodeCell($c$$.child,$d$$);return $d$$};$a$jscomp$0$$.beforeDecode=function $$a$jscomp$0$$$beforeDecode$($a$$,$c$$,$d$$){if(null!=$c$$.firstChild&&$c$$.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){$c$$=$c$$.cloneNode(!0);var $b$$=$c$$.firstChild;$d$$.child=$a$$.decodeCell($b$$,
!1);$d$$=$b$$.nextSibling;$b$$.parentNode.removeChild($b$$);for($b$$=$d$$;null!=$b$$;){$d$$=$b$$.nextSibling;if($b$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $f$$=$b$$.getAttribute("id");null==$a$$.lookup($f$$)&&$a$$.decodeCell($b$$)}$b$$.parentNode.removeChild($b$$);$b$$=$d$$}}else $b$$=$c$$.getAttribute("child"),$d$$.child=$a$$.getObject($b$$);return $c$$};$a$jscomp$0$$.afterDecode=function $$a$jscomp$0$$$afterDecode$($a$$,$c$$,$d$$){null!=$d$$.child&&(null!=$d$$.child.parent&&null!=$d$$.previous&&
$d$$.child.parent!=$d$$.previous&&($d$$.previous=$d$$.child.parent),$d$$.child.parent=$d$$.previous,$d$$.previous=$d$$.parent,$d$$.previousIndex=$d$$.index);return $d$$};return $a$jscomp$0$$}());mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxTerminalChange,["model","previous"],["cell","terminal"]);$a$jscomp$0$$.afterDecode=function $$a$jscomp$0$$$afterDecode$($a$$,$c$$,$d$$){$d$$.previous=$d$$.terminal;return $d$$};return $a$jscomp$0$$}());
var mxGenericChangeCodec=function $mxGenericChangeCodec$($a$jscomp$0$$,$b$$){var $c$jscomp$0$$=new mxObjectCodec($a$jscomp$0$$,["model","previous"],["cell"]);$c$jscomp$0$$.afterDecode=function $$c$jscomp$0$$$afterDecode$($a$$,$c$$,$f$$){mxUtils.isNode($f$$.cell)&&($f$$.cell=$a$$.decodeCell($f$$.cell,!1));$f$$.previous=$f$$[$b$$];return $f$$};return $c$jscomp$0$$};mxCodecRegistry.register(mxGenericChangeCodec(new mxValueChange,"value"));
mxCodecRegistry.register(mxGenericChangeCodec(new mxStyleChange,"style"));mxCodecRegistry.register(mxGenericChangeCodec(new mxGeometryChange,"geometry"));mxCodecRegistry.register(mxGenericChangeCodec(new mxCollapseChange,"collapsed"));mxCodecRegistry.register(mxGenericChangeCodec(new mxVisibleChange,"visible"));mxCodecRegistry.register(mxGenericChangeCodec(new mxCellAttributeChange,"value"));mxCodecRegistry.register(function(){return new mxObjectCodec(new mxGraph,"graphListeners eventListeners view container cellRenderer editor selection".split(" "))}());
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxGraphView);$a$jscomp$0$$.encode=function $$a$jscomp$0$$$encode$($a$$,$c$$){return this.encodeCell($a$$,$c$$,$c$$.graph.getModel().getRoot())};$a$jscomp$0$$.encodeCell=function $$a$jscomp$0$$$encodeCell$($a$$,$c$$,$d$$){var $b$$=$c$$.graph.getModel(),$f$$=$c$$.getState($d$$),$g$$=$b$$.getParent($d$$);if(null==$g$$||null!=$f$$){var $k$$=$b$$.getChildCount($d$$),$l$$=$c$$.graph.getCellGeometry($d$$),$m$$=null;$g$$==$b$$.getRoot()?
$m$$="layer":null==$g$$?$m$$="graph":$b$$.isEdge($d$$)?$m$$="edge":0<$k$$&&null!=$l$$?$m$$="group":$b$$.isVertex($d$$)&&($m$$="vertex");if(null!=$m$$){var $n$$=$a$$.document.createElement($m$$);null!=$c$$.graph.getLabel($d$$)&&($n$$.setAttribute("label",$c$$.graph.getLabel($d$$)),$c$$.graph.isHtmlLabel($d$$)&&$n$$.setAttribute("html",!0));if(null==$g$$){var $p$$=$c$$.getGraphBounds();null!=$p$$&&($n$$.setAttribute("x",Math.round($p$$.x)),$n$$.setAttribute("y",Math.round($p$$.y)),$n$$.setAttribute("width",
Math.round($p$$.width)),$n$$.setAttribute("height",Math.round($p$$.height)));$n$$.setAttribute("scale",$c$$.scale)}else if(null!=$f$$&&null!=$l$$){for($p$$ in $f$$.style)$g$$=$f$$.style[$p$$],"function"==typeof $g$$&&"object"==typeof $g$$&&($g$$=mxStyleRegistry.getName($g$$)),null!=$g$$&&"function"!=typeof $g$$&&"object"!=typeof $g$$&&$n$$.setAttribute($p$$,$g$$);$g$$=$f$$.absolutePoints;if(null!=$g$$&&0<$g$$.length){$l$$=Math.round($g$$[0].x)+","+Math.round($g$$[0].y);for($p$$=1;$p$$<$g$$.length;$p$$++)$l$$+=
" "+Math.round($g$$[$p$$].x)+","+Math.round($g$$[$p$$].y);$n$$.setAttribute("points",$l$$)}else $n$$.setAttribute("x",Math.round($f$$.x)),$n$$.setAttribute("y",Math.round($f$$.y)),$n$$.setAttribute("width",Math.round($f$$.width)),$n$$.setAttribute("height",Math.round($f$$.height));$p$$=$f$$.absoluteOffset;null!=$p$$&&(0!=$p$$.x&&$n$$.setAttribute("dx",Math.round($p$$.x)),0!=$p$$.y&&$n$$.setAttribute("dy",Math.round($p$$.y)))}for($p$$=0;$p$$<$k$$;$p$$++)$f$$=this.encodeCell($a$$,$c$$,$b$$.getChildAt($d$$,
$p$$)),null!=$f$$&&$n$$.appendChild($f$$)}}return $n$$};return $a$jscomp$0$$}());
var mxStylesheetCodec=mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxStylesheet);$a$jscomp$0$$.encode=function $$a$jscomp$0$$$encode$($a$$,$c$$){var $b$$=$a$$.document.createElement(this.getName()),$e$$;for($e$$ in $c$$.styles){var $f$$=$c$$.styles[$e$$],$g$$=$a$$.document.createElement("add");if(null!=$e$$){$g$$.setAttribute("as",$e$$);for(var $k$$ in $f$$){var $l$$=this.getStringValue($k$$,$f$$[$k$$]);if(null!=$l$$){var $m$$=$a$$.document.createElement("add");$m$$.setAttribute("value",
$l$$);$m$$.setAttribute("as",$k$$);$g$$.appendChild($m$$)}}0<$g$$.childNodes.length&&$b$$.appendChild($g$$)}}return $b$$};$a$jscomp$0$$.getStringValue=function $$a$jscomp$0$$$getStringValue$($a$$,$c$$){var $b$$=typeof $c$$;"function"==$b$$?$c$$=mxStyleRegistry.getName(style[j]):"object"==$b$$&&($c$$=null);return $c$$};$a$jscomp$0$$.decode=function $$a$jscomp$0$$$decode$($a$$,$c$$,$d$$){$d$$=$d$$||new this.template.constructor;var $b$$=$c$$.getAttribute("id");null!=$b$$&&($a$$.objects[$b$$]=$d$$);
for($c$$=$c$$.firstChild;null!=$c$$;){if(!this.processInclude($a$$,$c$$,$d$$)&&"add"==$c$$.nodeName&&($b$$=$c$$.getAttribute("as"),null!=$b$$)){var $f$$=$c$$.getAttribute("extend"),$g$$=null!=$f$$?mxUtils.clone($d$$.styles[$f$$]):null;null==$g$$&&(null!=$f$$&&mxLog.warn("mxStylesheetCodec.decode: stylesheet "+$f$$+" not found to extend"),$g$$={});for($f$$=$c$$.firstChild;null!=$f$$;){if($f$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $k$$=$f$$.getAttribute("as");if("add"==$f$$.nodeName){var $l$$=
mxUtils.getTextContent($f$$);null!=$l$$&&0<$l$$.length&&mxStylesheetCodec.allowEval?$l$$=mxUtils.eval($l$$):($l$$=$f$$.getAttribute("value"),mxUtils.isNumeric($l$$)&&($l$$=parseFloat($l$$)));null!=$l$$&&($g$$[$k$$]=$l$$)}else"remove"==$f$$.nodeName&&delete $g$$[$k$$]}$f$$=$f$$.nextSibling}$d$$.putCellStyle($b$$,$g$$)}$c$$=$c$$.nextSibling}return $d$$};return $a$jscomp$0$$}());mxStylesheetCodec.allowEval=!0;
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxDefaultKeyHandler);$a$jscomp$0$$.encode=function $$a$jscomp$0$$$encode$($a$$,$c$$){return null};$a$jscomp$0$$.decode=function $$a$jscomp$0$$$decode$($a$$,$c$$,$d$$){if(null!=$d$$)for($c$$=$c$$.firstChild;null!=$c$$;){if(!this.processInclude($a$$,$c$$,$d$$)&&"add"==$c$$.nodeName){var $b$$=$c$$.getAttribute("as"),$f$$=$c$$.getAttribute("action"),$g$$=$c$$.getAttribute("control");$d$$.bindAction($b$$,$f$$,$g$$)}$c$$=$c$$.nextSibling}return $d$$};
return $a$jscomp$0$$}());
var mxDefaultToolbarCodec=mxCodecRegistry.register(function(){var $a$jscomp$1$$=new mxObjectCodec(new mxDefaultToolbar);$a$jscomp$1$$.encode=function $$a$jscomp$1$$$encode$($a$$,$c$$){return null};$a$jscomp$1$$.decode=function $$a$jscomp$1$$$decode$($a$jscomp$0$$,$c$jscomp$0$$,$d$$){if(null!=$d$$){var $b$$=$d$$.editor;for($c$jscomp$0$$=$c$jscomp$0$$.firstChild;null!=$c$jscomp$0$$;){if($c$jscomp$0$$.nodeType==mxConstants.NODETYPE_ELEMENT&&!this.processInclude($a$jscomp$0$$,$c$jscomp$0$$,$d$$))if("separator"==
$c$jscomp$0$$.nodeName)$d$$.addSeparator();else if("br"==$c$jscomp$0$$.nodeName)$d$$.toolbar.addBreak();else if("hr"==$c$jscomp$0$$.nodeName)$d$$.toolbar.addLine();else if("add"==$c$jscomp$0$$.nodeName){var $f$$=$c$jscomp$0$$.getAttribute("as"),$f$$=mxResources.get($f$$)||$f$$,$g$$=$c$jscomp$0$$.getAttribute("icon"),$k$$=$c$jscomp$0$$.getAttribute("pressedIcon"),$l$$=$c$jscomp$0$$.getAttribute("action"),$m$$=$c$jscomp$0$$.getAttribute("mode"),$n$$=$c$jscomp$0$$.getAttribute("template"),$p$$="0"!=
$c$jscomp$0$$.getAttribute("toggle"),$q$$=mxUtils.getTextContent($c$jscomp$0$$),$r$$=null;if(null!=$l$$)$r$$=$d$$.addItem($f$$,$g$$,$l$$,$k$$);else if(null!=$m$$)var $t$$=mxDefaultToolbarCodec.allowEval?mxUtils.eval($q$$):null,$r$$=$d$$.addMode($f$$,$g$$,$m$$,$k$$,$t$$);else if(null!=$n$$||null!=$q$$&&0<$q$$.length)$r$$=$b$$.templates[$n$$],$n$$=$c$jscomp$0$$.getAttribute("style"),null!=$r$$&&null!=$n$$&&($r$$=$b$$.graph.cloneCell($r$$),$r$$.setStyle($n$$)),$n$$=null,null!=$q$$&&0<$q$$.length&&mxDefaultToolbarCodec.allowEval&&
($n$$=mxUtils.eval($q$$)),$r$$=$d$$.addPrototype($f$$,$g$$,$r$$,$k$$,$n$$,$p$$);else if($k$$=mxUtils.getChildNodes($c$jscomp$0$$),0<$k$$.length)if(null==$g$$)for($n$$=$d$$.addActionCombo($f$$),$f$$=0;$f$$<$k$$.length;$f$$++)$p$$=$k$$[$f$$],"separator"==$p$$.nodeName?$d$$.addOption($n$$,"---"):"add"==$p$$.nodeName&&($g$$=$p$$.getAttribute("as"),$p$$=$p$$.getAttribute("action"),$d$$.addActionOption($n$$,$g$$,$p$$));else{var $u$$=null,$y$$=$d$$.addPrototype($f$$,$g$$,function(){var $a$$=$b$$.templates[$u$$.value];
if(null!=$a$$){var $a$$=$a$$.clone(),$c$$=$u$$.options[$u$$.selectedIndex].cellStyle;null!=$c$$&&$a$$.setStyle($c$$);return $a$$}mxLog.warn("Template "+$a$$+" not found");return null},null,null,$p$$),$u$$=$d$$.addCombo();mxEvent.addListener($u$$,"change",function(){$d$$.toolbar.selectMode($y$$,function($a$$){$a$$=mxUtils.convertPoint($b$$.graph.container,mxEvent.getClientX($a$$),mxEvent.getClientY($a$$));return $b$$.addVertex(null,$t$$(),$a$$.x,$a$$.y)});$d$$.toolbar.noReset=!1});for($f$$=0;$f$$<
$k$$.length;$f$$++)$p$$=$k$$[$f$$],"separator"==$p$$.nodeName?$d$$.addOption($u$$,"---"):"add"==$p$$.nodeName&&($g$$=$p$$.getAttribute("as"),$q$$=$p$$.getAttribute("template"),$d$$.addOption($u$$,$g$$,$q$$||$n$$).cellStyle=$p$$.getAttribute("style"))}null!=$r$$&&($n$$=$c$jscomp$0$$.getAttribute("id"),null!=$n$$&&0<$n$$.length&&$r$$.setAttribute("id",$n$$))}$c$jscomp$0$$=$c$jscomp$0$$.nextSibling}}return $d$$};return $a$jscomp$1$$}());mxDefaultToolbarCodec.allowEval=!0;
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxDefaultPopupMenu);$a$jscomp$0$$.encode=function $$a$jscomp$0$$$encode$($a$$,$c$$){return null};$a$jscomp$0$$.decode=function $$a$jscomp$0$$$decode$($a$$,$c$$,$d$$){var $b$$=$c$$.getElementsByTagName("include")[0];null!=$b$$?this.processInclude($a$$,$b$$,$d$$):null!=$d$$&&($d$$.config=$c$$);return $d$$};return $a$jscomp$0$$}());
mxCodecRegistry.register(function(){var $a$jscomp$0$$=new mxObjectCodec(new mxEditor,"modified lastSnapshot ignoredChanges undoManager graphContainer toolbarContainer".split(" "));$a$jscomp$0$$.afterDecode=function $$a$jscomp$0$$$afterDecode$($a$$,$c$$,$d$$){$a$$=$c$$.getAttribute("defaultEdge");null!=$a$$&&($c$$.removeAttribute("defaultEdge"),$d$$.defaultEdge=$d$$.templates[$a$$]);$a$$=$c$$.getAttribute("defaultGroup");null!=$a$$&&($c$$.removeAttribute("defaultGroup"),$d$$.defaultGroup=$d$$.templates[$a$$]);
return $d$$};$a$jscomp$0$$.decodeChild=function $$a$jscomp$0$$$decodeChild$($a$$,$c$$,$d$$){if("Array"==$c$$.nodeName){if("templates"==$c$$.getAttribute("as")){this.decodeTemplates($a$$,$c$$,$d$$);return}}else if("ui"==$c$$.nodeName){this.decodeUi($a$$,$c$$,$d$$);return}mxObjectCodec.prototype.decodeChild.apply(this,arguments)};$a$jscomp$0$$.decodeUi=function $$a$jscomp$0$$$decodeUi$($a$$,$c$$,$d$$){for($a$$=$c$$.firstChild;null!=$a$$;){if("add"==$a$$.nodeName){$c$$=$a$$.getAttribute("as");var $b$$=
$a$$.getAttribute("element"),$f$$=$a$$.getAttribute("style");if(null!=$b$$)$b$$=document.getElementById($b$$),null!=$b$$&&null!=$f$$&&($b$$.style.cssText+=";"+$f$$);else{var $g$$=parseInt($a$$.getAttribute("x")),$k$$=parseInt($a$$.getAttribute("y")),$l$$=$a$$.getAttribute("width"),$m$$=$a$$.getAttribute("height"),$b$$=document.createElement("div");$b$$.style.cssText=$f$$;(new mxWindow(mxResources.get($c$$)||$c$$,$b$$,$g$$,$k$$,$l$$,$m$$,!1,!0)).setVisible(!0)}"graph"==$c$$?$d$$.setGraphContainer($b$$):
"toolbar"==$c$$?$d$$.setToolbarContainer($b$$):"title"==$c$$?$d$$.setTitleContainer($b$$):"status"==$c$$?$d$$.setStatusContainer($b$$):"map"==$c$$&&$d$$.setMapContainer($b$$)}else"resource"==$a$$.nodeName?mxResources.add($a$$.getAttribute("basename")):"stylesheet"==$a$$.nodeName&&mxClient.link("stylesheet",$a$$.getAttribute("name"));$a$$=$a$$.nextSibling}};$a$jscomp$0$$.decodeTemplates=function $$a$jscomp$0$$$decodeTemplates$($a$$,$c$$,$d$$){null==$d$$.templates&&($d$$.templates=[]);$c$$=mxUtils.getChildNodes($c$$);
for(var $b$$=0;$b$$<$c$$.length;$b$$++){for(var $f$$=$c$$[$b$$].getAttribute("as"),$g$$=$c$$[$b$$].firstChild;null!=$g$$&&1!=$g$$.nodeType;)$g$$=$g$$.nextSibling;null!=$g$$&&($d$$.templates[$f$$]=$a$$.decodeCell($g$$))}};return $a$jscomp$0$$}());/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2012-01-19
 @link    http://jscolor.com
*/
var jscolor={bindClass:"color",binding:!0,preloading:!0,install:function(){},init:function(){jscolor.preloading&&jscolor.preload()},getDir:function(){return IMAGE_PATH+"/"},detectDir:function(){for(var $base$$=location.href,$e$$=document.getElementsByTagName("base"),$i$$=0;$i$$<$e$$.length;$i$$+=1)$e$$[$i$$].href&&($base$$=$e$$[$i$$].href);$e$$=document.getElementsByTagName("script");for($i$$=0;$i$$<$e$$.length;$i$$+=1)if($e$$[$i$$].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test($e$$[$i$$].src))return $base$$=
(new jscolor.URI($e$$[$i$$].src)).toAbsolute($base$$),$base$$.path=$base$$.path.replace(/[^\/]+$/,""),$base$$.query=null,$base$$.fragment=null,$base$$.toString();return!1},preload:function(){for(var $fn$$ in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty($fn$$)&&jscolor.loadImage($fn$$)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function($filename$$){jscolor.imgRequire[$filename$$]=!0},loadImage:function($filename$$){jscolor.imgLoaded[$filename$$]||
(jscolor.imgLoaded[$filename$$]=new Image,jscolor.imgLoaded[$filename$$].src=jscolor.getDir()+$filename$$)},fetchElement:function($mixed$$){return"string"===typeof $mixed$$?document.getElementById($mixed$$):$mixed$$},addEvent:function($el$$,$evnt$$,$func$$){$el$$.addEventListener?$el$$.addEventListener($evnt$$,$func$$,!1):$el$$.attachEvent&&$el$$.attachEvent("on"+$evnt$$,$func$$)},fireEvent:function($el$$,$evnt$$){if($el$$)if(document.createEvent){var $ev$$=document.createEvent("HTMLEvents");$ev$$.initEvent($evnt$$,
!0,!0);$el$$.dispatchEvent($ev$$)}else if(document.createEventObject)$ev$$=document.createEventObject(),$el$$.fireEvent("on"+$evnt$$,$ev$$);else if($el$$["on"+$evnt$$])$el$$["on"+$evnt$$]()},getElementPos:function($e$$){var $e1$$=$e$$,$x$$=0,$y$$=0;if($e1$$.offsetParent){do $x$$+=$e1$$.offsetLeft,$y$$+=$e1$$.offsetTop;while($e1$$=$e1$$.offsetParent)}for(;($e$$=$e$$.parentNode)&&"BODY"!==$e$$.nodeName.toUpperCase();)$x$$-=$e$$.scrollLeft,$y$$-=$e$$.scrollTop;return[$x$$,$y$$]},getElementSize:function($e$$){return[$e$$.offsetWidth,
$e$$.offsetHeight]},getRelMousePos:function($e$$){var $x$$=0,$y$$=0;$e$$||($e$$=window.event);"number"===typeof $e$$.offsetX?($x$$=$e$$.offsetX,$y$$=$e$$.offsetY):"number"===typeof $e$$.layerX&&($x$$=$e$$.layerX,$y$$=$e$$.layerY);return{x:$x$$,y:$y$$}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&
(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,
document.documentElement.clientHeight]:[0,0]},URI:function($uri$$){function $removeDotSegments$$($path$$){for(var $out$$="";$path$$;)if("../"===$path$$.substr(0,3)||"./"===$path$$.substr(0,2))$path$$=$path$$.replace(/^\.+/,"").substr(1);else if("/./"===$path$$.substr(0,3)||"/."===$path$$)$path$$="/"+$path$$.substr(3);else if("/../"===$path$$.substr(0,4)||"/.."===$path$$)$path$$="/"+$path$$.substr(4),$out$$=$out$$.replace(/\/?[^\/]*$/,"");else if("."===$path$$||".."===$path$$)$path$$="";else{var $rm$$=
$path$$.match(/^\/?[^\/]*/)[0];$path$$=$path$$.substr($rm$$.length);$out$$+=$rm$$}return $out$$}this.authority=this.scheme=null;this.path="";this.fragment=this.query=null;this.parse=function $this$parse$($m$jscomp$124_uri$$){$m$jscomp$124_uri$$=$m$jscomp$124_uri$$.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=$m$jscomp$124_uri$$[3]?$m$jscomp$124_uri$$[2]:null;this.authority=$m$jscomp$124_uri$$[5]?$m$jscomp$124_uri$$[6]:null;this.path=$m$jscomp$124_uri$$[7];
this.query=$m$jscomp$124_uri$$[9]?$m$jscomp$124_uri$$[10]:null;this.fragment=$m$jscomp$124_uri$$[12]?$m$jscomp$124_uri$$[13]:null;return this};this.toString=function $this$toString$(){var $result$$="";null!==this.scheme&&($result$$=$result$$+this.scheme+":");null!==this.authority&&($result$$=$result$$+"//"+this.authority);null!==this.path&&($result$$+=this.path);null!==this.query&&($result$$=$result$$+"?"+this.query);null!==this.fragment&&($result$$=$result$$+"#"+this.fragment);return $result$$};
this.toAbsolute=function $this$toAbsolute$($base$$){$base$$=new jscolor.URI($base$$);var $t$$=new jscolor.URI;if(null===$base$$.scheme)return!1;null!==this.scheme&&this.scheme.toLowerCase()===$base$$.scheme.toLowerCase()&&(this.scheme=null);null!==this.scheme?($t$$.scheme=this.scheme,$t$$.authority=this.authority,$t$$.path=$removeDotSegments$$(this.path),$t$$.query=this.query):(null!==this.authority?($t$$.authority=this.authority,$t$$.path=$removeDotSegments$$(this.path),$t$$.query=this.query):(""===
this.path?($t$$.path=$base$$.path,$t$$.query=null!==this.query?this.query:$base$$.query):("/"===this.path.substr(0,1)?$t$$.path=$removeDotSegments$$(this.path):($t$$.path=null!==$base$$.authority&&""===$base$$.path?"/"+this.path:$base$$.path.replace(/[^\/]+$/,"")+this.path,$t$$.path=$removeDotSegments$$($t$$.path)),$t$$.query=this.query),$t$$.authority=$base$$.authority),$t$$.scheme=$base$$.scheme);$t$$.fragment=this.fragment;return $t$$};$uri$$&&this.parse($uri$$)},color:function($target$$,$prop$$){function $HSV_RGB$$($h$jscomp$7_n$$,
$s$$,$v$$){if(null===$h$jscomp$7_n$$)return[$v$$,$v$$,$v$$];var $i$$=Math.floor($h$jscomp$7_n$$),$m$$=$v$$*(1-$s$$);$h$jscomp$7_n$$=$v$$*(1-$s$$*($i$$%2?$h$jscomp$7_n$$-$i$$:1-($h$jscomp$7_n$$-$i$$)));switch($i$$){case 6:case 0:return[$v$$,$h$jscomp$7_n$$,$m$$];case 1:return[$h$jscomp$7_n$$,$v$$,$m$$];case 2:return[$m$$,$v$$,$h$jscomp$7_n$$];case 3:return[$m$$,$h$jscomp$7_n$$,$v$$];case 4:return[$h$jscomp$7_n$$,$m$$,$v$$];case 5:return[$v$$,$m$$,$h$jscomp$7_n$$]}}function $drawPicker$$($x$$,$y$$){if(!jscolor.picker){jscolor.picker=
{box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode($THIS$$.pickerCloseText)};for(var $dims_i$$=0;$dims_i$$<jscolor.images.sld[1];$dims_i$$+=4){var $seg$$=document.createElement("div");
$seg$$.style.height="4px";$seg$$.style.fontSize="1px";$seg$$.style.lineHeight="0";jscolor.picker.sld.appendChild($seg$$)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);
jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var $p$$=jscolor.picker;$p$$.box.onmouseup=$p$$.box.onmouseout=function $$p$$$box$onmouseout$(){mxClient.IS_TOUCH||$target$$.focus()};$p$$.box.onmousedown=function $$p$$$box$onmousedown$(){};$p$$.box.onmousemove=function $$p$$$box$onmousemove$($e$$){if($holdPad$$||$holdSld$$)$holdPad$$&&$setPad$$($e$$),$holdSld$$&&$setSld$$($e$$),document.selection?document.selection.empty():window.getSelection&&
window.getSelection().removeAllRanges(),$dispatchImmediateChange$$()};$p$$.padM.onmouseup=$p$$.padM.onmouseout=function $$p$$$padM$onmouseout$(){$holdPad$$&&($holdPad$$=!1,jscolor.fireEvent($valueElement$$,"change"))};$p$$.padM.onmousedown=function $$p$$$padM$onmousedown$($e$$){switch($modeID$$){case 0:0===$THIS$$.hsv[2]&&$THIS$$.fromHSV(null,null,1);break;case 1:0===$THIS$$.hsv[1]&&$THIS$$.fromHSV(null,1,null)}$holdPad$$=!0;$setPad$$($e$$);$dispatchImmediateChange$$()};$p$$.sldM.onmouseup=$p$$.sldM.onmouseout=
function $$p$$$sldM$onmouseout$(){$holdSld$$&&($holdSld$$=!1,jscolor.fireEvent($valueElement$$,"change"))};$p$$.sldM.onmousedown=function $$p$$$sldM$onmousedown$($e$$){$holdSld$$=!0;$setSld$$($e$$);$dispatchImmediateChange$$()};$dims_i$$=$getPickerDims$$($THIS$$);$p$$.box.style.width=$dims_i$$[0]+"px";$p$$.box.style.height=$dims_i$$[1]+"px";$p$$.boxB.style.position="absolute";$p$$.boxB.style.clear="both";$p$$.boxB.style.left=$x$$+"px";$p$$.boxB.style.top=$y$$+"px";$p$$.boxB.style.zIndex=$THIS$$.pickerZIndex;
$p$$.boxB.style.border=$THIS$$.pickerBorder+"px solid";$p$$.boxB.style.borderColor=$THIS$$.pickerBorderColor;$p$$.boxB.style.background=$THIS$$.pickerFaceColor;$p$$.pad.style.width=jscolor.images.pad[0]+"px";$p$$.pad.style.height=jscolor.images.pad[1]+"px";$p$$.padB.style.position="absolute";$p$$.padB.style.left=$THIS$$.pickerFace+"px";$p$$.padB.style.top=$THIS$$.pickerFace+"px";$p$$.padB.style.border=$THIS$$.pickerInset+"px solid";$p$$.padB.style.borderColor=$THIS$$.pickerInsetColor;$p$$.padM.style.position=
"absolute";$p$$.padM.style.left="0";$p$$.padM.style.top="0";$p$$.padM.style.width=$THIS$$.pickerFace+2*$THIS$$.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";$p$$.padM.style.height=$p$$.box.style.height;$p$$.padM.style.cursor="crosshair";$p$$.sld.style.overflow="hidden";$p$$.sld.style.width=jscolor.images.sld[0]+"px";$p$$.sld.style.height=jscolor.images.sld[1]+"px";$p$$.sldB.style.display=$THIS$$.slider?"block":"none";$p$$.sldB.style.position="absolute";$p$$.sldB.style.right=$THIS$$.pickerFace+
"px";$p$$.sldB.style.top=$THIS$$.pickerFace+"px";$p$$.sldB.style.border=$THIS$$.pickerInset+"px solid";$p$$.sldB.style.borderColor=$THIS$$.pickerInsetColor;$p$$.sldM.style.display=$THIS$$.slider?"block":"none";$p$$.sldM.style.position="absolute";$p$$.sldM.style.right="0";$p$$.sldM.style.top="0";$p$$.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+$THIS$$.pickerFace+2*$THIS$$.pickerInset+"px";$p$$.sldM.style.height=$p$$.box.style.height;try{$p$$.sldM.style.cursor="pointer"}catch($eOldIE$$){$p$$.sldM.style.cursor=
"hand"}$p$$.btn.style.display=$THIS$$.pickerClosable?"block":"none";$p$$.btn.style.position="absolute";$p$$.btn.style.left=$THIS$$.pickerFace+"px";$p$$.btn.style.bottom=$THIS$$.pickerFace+"px";$p$$.btn.style.padding="0 15px";$p$$.btn.style.height="18px";$p$$.btn.style.border=$THIS$$.pickerInset+"px solid";(function setBtnBorder(){var $insetColors$$=$THIS$$.pickerInsetColor.split(/\s+/);$p$$.btn.style.borderColor=2>$insetColors$$.length?$insetColors$$[0]:$insetColors$$[1]+" "+$insetColors$$[0]+" "+
$insetColors$$[0]+" "+$insetColors$$[1]})();$p$$.btn.style.color=$THIS$$.pickerButtonColor;$p$$.btn.style.font="12px sans-serif";$p$$.btn.style.textAlign="center";try{$p$$.btn.style.cursor="pointer"}catch($eOldIE$2$$){$p$$.btn.style.cursor="hand"}$p$$.btn.onmousedown=function $$p$$$btn$onmousedown$(){$THIS$$.hidePicker()};$p$$.btnS.style.lineHeight=$p$$.btn.style.height;switch($modeID$$){case 0:var $padImg$$="hs.png";break;case 1:$padImg$$="hv.png"}$p$$.padM.style.backgroundImage="url(data:image/gif;base64,R0lGODlhDwAPAKEBAAAAAP///////////yH5BAEKAAIALAAAAAAPAA8AAAIklB8Qx53b4otSUWcvyiz4/4AeQJbmKY4p1HHapBlwPL/uVRsFADs=)";
$p$$.padM.style.backgroundRepeat="no-repeat";$p$$.sldM.style.backgroundImage="url(data:image/gif;base64,R0lGODlhBwALAKECAAAAAP///6g8eKg8eCH5BAEKAAIALAAAAAAHAAsAAAITTIQYcLnsgGxvijrxqdQq6DRJAQA7)";$p$$.sldM.style.backgroundRepeat="no-repeat";$p$$.pad.style.backgroundImage="url('"+jscolor.getDir()+$padImg$$+"')";$p$$.pad.style.backgroundRepeat="no-repeat";$p$$.pad.style.backgroundPosition="0 0";$redrawPad$$();$redrawSld$$();jscolor.picker.owner=$THIS$$;document.getElementsByTagName("body")[0].appendChild($p$$.boxB)}
function $getPickerDims$$($o$$){return[2*$o$$.pickerInset+2*$o$$.pickerFace+jscolor.images.pad[0]+($o$$.slider?2*$o$$.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),$o$$.pickerClosable?4*$o$$.pickerInset+3*$o$$.pickerFace+jscolor.images.pad[1]+$o$$.pickerButtonHeight:2*$o$$.pickerInset+2*$o$$.pickerFace+jscolor.images.pad[1]]}function $redrawPad$$(){switch($modeID$$){case 0:var $seg$$=1;break;case 1:$seg$$=2}jscolor.picker.padM.style.backgroundPosition=$THIS$$.pickerFace+$THIS$$.pickerInset+
Math.round($THIS$$.hsv[0]/6*(jscolor.images.pad[0]-1))-Math.floor(jscolor.images.cross[0]/2)+"px "+($THIS$$.pickerFace+$THIS$$.pickerInset+Math.round((1-$THIS$$.hsv[$seg$$])*(jscolor.images.pad[1]-1))-Math.floor(jscolor.images.cross[1]/2))+"px";$seg$$=jscolor.picker.sld.childNodes;switch($modeID$$){case 0:for(var $rgb$$=$HSV_RGB$$($THIS$$.hsv[0],$THIS$$.hsv[1],1),$i$$=0;$i$$<$seg$$.length;$i$$+=1)$seg$$[$i$$].style.backgroundColor="rgb("+$rgb$$[0]*(1-$i$$/$seg$$.length)*100+"%,"+$rgb$$[1]*(1-$i$$/
$seg$$.length)*100+"%,"+$rgb$$[2]*(1-$i$$/$seg$$.length)*100+"%)";break;case 1:var $s$$,$c$$=[$THIS$$.hsv[2],0,0],$i$$=Math.floor($THIS$$.hsv[0]),$f$$=$i$$%2?$THIS$$.hsv[0]-$i$$:1-($THIS$$.hsv[0]-$i$$);switch($i$$){case 6:case 0:$rgb$$=[0,1,2];break;case 1:$rgb$$=[1,0,2];break;case 2:$rgb$$=[2,0,1];break;case 3:$rgb$$=[2,1,0];break;case 4:$rgb$$=[1,2,0];break;case 5:$rgb$$=[0,2,1]}for($i$$=0;$i$$<$seg$$.length;$i$$+=1)$s$$=1-1/($seg$$.length-1)*$i$$,$c$$[1]=$c$$[0]*(1-$s$$*$f$$),$c$$[2]=$c$$[0]*(1-
$s$$),$seg$$[$i$$].style.backgroundColor="rgb("+100*$c$$[$rgb$$[0]]+"%,"+100*$c$$[$rgb$$[1]]+"%,"+100*$c$$[$rgb$$[2]]+"%)"}}function $redrawSld$$(){switch($modeID$$){case 0:var $yComponent$$=2;break;case 1:$yComponent$$=1}jscolor.picker.sldM.style.backgroundPosition="0 "+($THIS$$.pickerFace+$THIS$$.pickerInset+Math.round((1-$THIS$$.hsv[$yComponent$$])*(jscolor.images.sld[1]-1))-Math.floor(jscolor.images.arrow[1]/2))+"px"}function $isPickerOwner$$(){return jscolor.picker&&jscolor.picker.owner===$THIS$$}
function $blurValue$$(){$valueElement$$!==$target$$&&$THIS$$.importColor()}function $setPad$$($e$jscomp$548_x$$){var $mpos_y$$=jscolor.getRelMousePos($e$jscomp$548_x$$);$e$jscomp$548_x$$=$mpos_y$$.x-$THIS$$.pickerFace-$THIS$$.pickerInset;$mpos_y$$=$mpos_y$$.y-$THIS$$.pickerFace-$THIS$$.pickerInset;switch($modeID$$){case 0:$THIS$$.fromHSV(6/(jscolor.images.pad[0]-1)*$e$jscomp$548_x$$,1-$mpos_y$$/(jscolor.images.pad[1]-1),null,$leaveSld$$);break;case 1:$THIS$$.fromHSV(6/(jscolor.images.pad[0]-1)*$e$jscomp$548_x$$,
null,1-$mpos_y$$/(jscolor.images.pad[1]-1),$leaveSld$$)}}function $setSld$$($e$jscomp$549_y$$){$e$jscomp$549_y$$=jscolor.getRelMousePos($e$jscomp$549_y$$).y-$THIS$$.pickerFace-$THIS$$.pickerInset;switch($modeID$$){case 0:$THIS$$.fromHSV(null,null,1-$e$jscomp$549_y$$/(jscolor.images.sld[1]-1),$leavePad$$);break;case 1:$THIS$$.fromHSV(null,1-$e$jscomp$549_y$$/(jscolor.images.sld[1]-1),null,$leavePad$$)}}function $dispatchImmediateChange$$(){if($THIS$$.onImmediateChange)if("string"===typeof $THIS$$.onImmediateChange)eval($THIS$$.onImmediateChange);
else $THIS$$.onImmediateChange($THIS$$)}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=$target$$;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=!0;this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=0;this.pickerFaceColor="ThreeDFace";this.pickerBorder=
1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var $p$jscomp$0$$ in $prop$$)$prop$$.hasOwnProperty($p$jscomp$0$$)&&(this[$p$jscomp$0$$]=$prop$$[$p$jscomp$0$$]);this.hidePicker=function $this$hidePicker$(){$isPickerOwner$$()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};this.showPicker=
function $this$showPicker$(){$isPickerOwner$$()||(jscolor.getElementPos($target$$),jscolor.getElementSize($target$$),jscolor.getViewPos(),jscolor.getViewSize(),$getPickerDims$$(this),this.pickerPosition.toLowerCase(),$drawPicker$$(0,0))};this.importColor=function $this$importColor$(){$valueElement$$?this.adjust?!this.required&&/^\s*$/.test($valueElement$$.value)?($valueElement$$.value="",$styleElement$$.style.backgroundImage=$styleElement$$.jscStyle.backgroundImage,$styleElement$$.style.backgroundColor=
$styleElement$$.jscStyle.backgroundColor,$styleElement$$.style.color=$styleElement$$.jscStyle.color,this.exportColor($leaveValue$$|$leaveStyle$$)):this.fromString($valueElement$$.value)||this.exportColor():this.fromString($valueElement$$.value,$leaveValue$$)||($styleElement$$.style.backgroundImage=$styleElement$$.jscStyle.backgroundImage,$styleElement$$.style.backgroundColor=$styleElement$$.jscStyle.backgroundColor,$styleElement$$.style.color=$styleElement$$.jscStyle.color,this.exportColor($leaveValue$$|
$leaveStyle$$)):this.exportColor()};this.exportColor=function $this$exportColor$($flags$$){if(!($flags$$&$leaveValue$$)&&$valueElement$$){var $value$$=this.toString();this.caps&&($value$$=$value$$.toUpperCase());this.hash&&($value$$="#"+$value$$);$valueElement$$.value=$value$$}$flags$$&$leaveStyle$$||!$styleElement$$||($styleElement$$.style.backgroundImage="none",$styleElement$$.style.backgroundColor="#"+this.toString(),$styleElement$$.style.color=.5>.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]?
"#FFF":"#000");$flags$$&$leavePad$$||!$isPickerOwner$$()||$redrawPad$$();$flags$$&$leaveSld$$||!$isPickerOwner$$()||$redrawSld$$()};this.fromHSV=function $this$fromHSV$($h$$,$s$$,$v$$,$flags$$){0>$h$$&&($h$$=0);6<$h$$&&($h$$=6);0>$s$$&&($s$$=0);1<$s$$&&($s$$=1);0>$v$$&&($v$$=0);1<$v$$&&($v$$=1);this.rgb=$HSV_RGB$$(null===$h$$?this.hsv[0]:this.hsv[0]=$h$$,null===$s$$?this.hsv[1]:this.hsv[1]=$s$$,null===$v$$?this.hsv[2]:this.hsv[2]=$v$$);this.exportColor($flags$$)};this.fromRGB=function $this$fromRGB$($h$jscomp$inline_10_hsv_r$jscomp$42_r$$,
$g$jscomp$288_g$$,$b$jscomp$1335_v$$,$flags$$){0>$h$jscomp$inline_10_hsv_r$jscomp$42_r$$&&($h$jscomp$inline_10_hsv_r$jscomp$42_r$$=0);1<$h$jscomp$inline_10_hsv_r$jscomp$42_r$$&&($h$jscomp$inline_10_hsv_r$jscomp$42_r$$=1);0>$g$jscomp$288_g$$&&($g$jscomp$288_g$$=0);1<$g$jscomp$288_g$$&&($g$jscomp$288_g$$=1);0>$b$jscomp$1335_v$$&&($b$jscomp$1335_v$$=0);1<$b$jscomp$1335_v$$&&($b$jscomp$1335_v$$=1);$h$jscomp$inline_10_hsv_r$jscomp$42_r$$=null===$h$jscomp$inline_10_hsv_r$jscomp$42_r$$?this.rgb[0]:this.rgb[0]=
$h$jscomp$inline_10_hsv_r$jscomp$42_r$$;$g$jscomp$288_g$$=null===$g$jscomp$288_g$$?this.rgb[1]:this.rgb[1]=$g$jscomp$288_g$$;var $b$$=null===$b$jscomp$1335_v$$?this.rgb[2]:this.rgb[2]=$b$jscomp$1335_v$$,$n$$=Math.min(Math.min($h$jscomp$inline_10_hsv_r$jscomp$42_r$$,$g$jscomp$288_g$$),$b$$);$b$jscomp$1335_v$$=Math.max(Math.max($h$jscomp$inline_10_hsv_r$jscomp$42_r$$,$g$jscomp$288_g$$),$b$$);var $m$$=$b$jscomp$1335_v$$-$n$$;0===$m$$?$h$jscomp$inline_10_hsv_r$jscomp$42_r$$=[null,0,$b$jscomp$1335_v$$]:
($h$jscomp$inline_10_hsv_r$jscomp$42_r$$=$h$jscomp$inline_10_hsv_r$jscomp$42_r$$===$n$$?3+($b$$-$g$jscomp$288_g$$)/$m$$:$g$jscomp$288_g$$===$n$$?5+($h$jscomp$inline_10_hsv_r$jscomp$42_r$$-$b$$)/$m$$:1+($g$jscomp$288_g$$-$h$jscomp$inline_10_hsv_r$jscomp$42_r$$)/$m$$,$h$jscomp$inline_10_hsv_r$jscomp$42_r$$=[6===$h$jscomp$inline_10_hsv_r$jscomp$42_r$$?0:$h$jscomp$inline_10_hsv_r$jscomp$42_r$$,$m$$/$b$jscomp$1335_v$$,$b$jscomp$1335_v$$]);null!==$h$jscomp$inline_10_hsv_r$jscomp$42_r$$[0]&&(this.hsv[0]=
$h$jscomp$inline_10_hsv_r$jscomp$42_r$$[0]);0!==$h$jscomp$inline_10_hsv_r$jscomp$42_r$$[2]&&(this.hsv[1]=$h$jscomp$inline_10_hsv_r$jscomp$42_r$$[1]);this.hsv[2]=$h$jscomp$inline_10_hsv_r$jscomp$42_r$$[2];this.exportColor($flags$$)};this.fromString=function $this$fromString$($hex$$,$flags$$){var $m$$=$hex$$.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return $m$$?(6===$m$$[1].length?this.fromRGB(parseInt($m$$[1].substr(0,2),16)/255,parseInt($m$$[1].substr(2,2),16)/255,parseInt($m$$[1].substr(4,2),
16)/255,$flags$$):this.fromRGB(parseInt($m$$[1].charAt(0)+$m$$[1].charAt(0),16)/255,parseInt($m$$[1].charAt(1)+$m$$[1].charAt(1),16)/255,parseInt($m$$[1].charAt(2)+$m$$[1].charAt(2),16)/255,$flags$$),!0):!1};this.toString=function $this$toString$(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var $THIS$$=this,$modeID$$="hvs"===this.pickerMode.toLowerCase()?1:0,$valueElement$$=
jscolor.fetchElement(this.valueElement),$styleElement$$=jscolor.fetchElement(this.styleElement),$holdPad$$=!1,$holdSld$$=!1,$leaveValue$$=1,$leaveStyle$$=2,$leavePad$$=4,$leaveSld$$=8;$valueElement$$&&($p$jscomp$0$$=function $$p$jscomp$0$$$(){$THIS$$.fromString($valueElement$$.value,$leaveValue$$);$dispatchImmediateChange$$()},jscolor.addEvent($valueElement$$,"keyup",$p$jscomp$0$$),jscolor.addEvent($valueElement$$,"input",$p$jscomp$0$$),jscolor.addEvent($valueElement$$,"blur",$blurValue$$),$valueElement$$.setAttribute("autocomplete",
"off"));$styleElement$$&&($styleElement$$.jscStyle={backgroundImage:$styleElement$$.style.backgroundImage,backgroundColor:$styleElement$$.style.backgroundColor,color:$styleElement$$.style.color});switch($modeID$$){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}this.importColor()}};jscolor.install();
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function($target$$,$property$$,$descriptor$$){if($descriptor$$.get||$descriptor$$.set)throw new TypeError("ES3 does not support getters and setters.");$target$$!=Array.prototype&&$target$$!=Object.prototype&&($target$$[$property$$]=$descriptor$$.value)};
$jscomp.getGlobal=function $$jscomp$getGlobal$($maybeGlobal$$){return"undefined"!=typeof window&&window===$maybeGlobal$$?$maybeGlobal$$:"undefined"!=typeof global&&null!=global?global:$maybeGlobal$$};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function $$jscomp$initSymbol$(){$jscomp.initSymbol=function $$jscomp$initSymbol$(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function $$jscomp$Symbol$($opt_description$$){return $jscomp.SYMBOL_PREFIX+($opt_description$$||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function $$jscomp$initSymbolIterator$(){$jscomp.initSymbol();var $symbolIterator$$=$jscomp.global.Symbol.iterator;$symbolIterator$$||($symbolIterator$$=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[$symbolIterator$$]&&$jscomp.defineProperty(Array.prototype,$symbolIterator$$,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function $$jscomp$initSymbolIterator$(){}};
$jscomp.arrayIterator=function $$jscomp$arrayIterator$($array$$){var $index$$=0;return $jscomp.iteratorPrototype(function(){return $index$$<$array$$.length?{done:!1,value:$array$$[$index$$++]}:{done:!0}})};$jscomp.iteratorPrototype=function $$jscomp$iteratorPrototype$($iterator$$){$jscomp.initSymbolIterator();$iterator$$={next:$iterator$$};$iterator$$[$jscomp.global.Symbol.iterator]=function $$iterator$$$$jscomp$global$Symbol$iterator$(){return this};return $iterator$$};
$jscomp.makeIterator=function $$jscomp$makeIterator$($iterable$$){$jscomp.initSymbolIterator();var $iteratorFunction$$=$iterable$$[Symbol.iterator];return $iteratorFunction$$?$iteratorFunction$$.call($iterable$$):$jscomp.arrayIterator($iterable$$)};
Editor=function $Editor$($chromeless$$,$themes$$,$model$$,$graph$$,$editable$$){mxEventSource.call(this);this.chromeless=$chromeless$$||this.chromeless;this.initStencilRegistry();this.graph=$graph$$||this.createGraph($themes$$,$model$$);this.editable=$editable$$||!$chromeless$$;this.undoManager=this.createUndoManager();this.status="";this.getOrCreateFilename=function $this$getOrCreateFilename$(){return this.filename||mxResources.get("drawing",[Editor.pageCounter])+".xml"};this.getFilename=function $this$getFilename$(){return this.filename};
this.setStatus=function $this$setStatus$($value$$){this.status=$value$$;this.fireEvent(new mxEventObject("statusChanged"))};this.getStatus=function $this$getStatus$(){return this.status};this.graphChangeListener=function $this$graphChangeListener$($sender$$,$eventObject$$){var $edit$$=$eventObject$$&&$eventObject$$.getProperty("edit"),$$jscomp$iter$0_changes$$=$edit$$&&$edit$$.changes||[];$edit$$&&$edit$$.ignoreEdit||this.setModified(!0);for(var $haschanges$$,$$jscomp$iter$0_changes$$=$jscomp.makeIterator($$jscomp$iter$0_changes$$),
$$jscomp$key$change_isrootchange$$=$$jscomp$iter$0_changes$$.next();!$$jscomp$key$change_isrootchange$$.done;$$jscomp$key$change_isrootchange$$=$$jscomp$iter$0_changes$$.next())$$jscomp$key$change_isrootchange$$=$$jscomp$key$change_isrootchange$$.value instanceof mxRootChange,$haschanges$$=$haschanges$$||!$$jscomp$key$change_isrootchange$$;$haschanges$$&&(CsetUtils.adjustConnectability($edit$$),CsetUtils.edgesToTop(this.graph,$edit$$),CsetUtils.handleZoneChanges($edit$$),this.graph.refresh(),CsetUtils.PersistGraphToCSET(this))};
this.graph.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.graphChangeListener.apply(this,arguments)}));this.graph.resetViewOnRootChange=!1;this.init()};Editor.pageCounter=0;(function(){try{for(var $op$$=window;null!=$op$$.opener&&"undefined"!==typeof $op$$.opener.Editor&&!isNaN($op$$.opener.Editor.pageCounter)&&$op$$.opener!=$op$$;)$op$$=$op$$.opener;null!=$op$$&&($op$$.Editor.pageCounter++,Editor.pageCounter=$op$$.Editor.pageCounter)}catch($e$$){}})();
Editor.useLocalStorage="undefined"!=typeof Storage&&mxClient.IS_IOS;
Editor.helpImage=mxClient.IS_SVG?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTExIDE4aDJ2LTJoLTJ2MnptMS0xNkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LThzMy41OS04IDgtOCA4IDMuNTkgOCA4LTMuNTkgOC04IDh6bTAtMTRjLTIuMjEgMC00IDEuNzktNCA0aDJjMC0xLjEuOS0yIDItMnMyIC45IDIgMmMwIDItMyAxLjc1LTMgNWgyYzAtMi4yNSAzLTIuNSAzLTUgMC0yLjIxLTEuNzktNC00LTR6Ii8+PC9zdmc+":IMAGE_PATH+
"/help.png";
Editor.checkmarkImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhFQAVAMQfAGxsbHx8fIqKioaGhvb29nJycvr6+sDAwJqamltbW5OTk+np6YGBgeTk5Ly8vJiYmP39/fLy8qWlpa6ursjIyOLi4vj4+N/f3+3t7fT09LCwsHZ2dubm5r6+vmZmZv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY4NTZERTQ5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY4NTZERTU5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Rjg1NkRFMjlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Rjg1NkRFMzlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAB8ALAAAAAAVABUAAAVI4CeOZGmeaKqubKtylktSgCOLRyLd3+QJEJnh4VHcMoOfYQXQLBcBD4PA6ngGlIInEHEhPOANRkaIFhq8SuHCE1Hb8Lh8LgsBADs=":IMAGE_PATH+
"/checkmark.gif";Editor.maximizeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABXRSTlMA758vX1Pw3BoAAABJSURBVAjXY8AJQkODGBhUQ0MhbAUGBiYY24CBgRnGFmZgMISwgwwDGRhEhVVBbAVmEQYGRwMmBjIAQi/CTIRd6G5AuA3dzYQBAHj0EFdHkvV4AAAAAElFTkSuQmCC";Editor.zoomOutImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCxxcXEhISFgYGChjTUxAAAAAXRSTlMAQObYZgAAAEdJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITgLJZXFxgbIQ4Qj3CHIT5ggoIe5kgNkM1KSDYKBKqxPkDAPo5BAZBE54hAAAAAElFTkSuQmCC";
Editor.zoomInImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCwhISFxcXFgYGBavKaoAAAAAXRSTlMAQObYZgAAAElJREFUCNdjIAMwCQrB2YKCggJQJqMIA4sglK3owMzgqABVwsDMwCgAZTMbG8PYCHGEeoQ5CPMFFRD2MkFshmpSQLBRJFSJ8wcAEqcEM2uhl2MAAAAASUVORK5CYII=";Editor.zoomFitImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAD1BMVEUAAAAAAAAwMDBwcHBgYGC1xl09AAAAAXRSTlMAQObYZgAAAEFJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITwMdGqEeYgzBfUAFhLxPEZqgmBQQbRUKFOH8AAK5OA3lA+FFOAAAAAElFTkSuQmCC";
Editor.layersImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAAaVBMVEUAAAAgICAICAgdHR0PDw8WFhYICAgLCwsXFxcvLy8ODg4uLi4iIiIqKiokJCQYGBgKCgonJycFBQUCAgIqKiocHBwcHBwODg4eHh4cHBwnJycJCQkUFBQqKiojIyMuLi4ZGRkgICAEBATOWYXAAAAAGnRSTlMAD7+fnz8/H7/ff18/77+vr5+fn39/b28fH2xSoKsAAACQSURBVBjTrYxJEsMgDARZZMAY73sgCcn/HxnhKtnk7j6oRq0psfuoyndZ/SuODkHPLzfVT6KeyPePnJ7KrnkRjWMXTn4SMnN8mXe2SSM3ts8L/ZUxxrbAULSYJJULE0Iw9pjpenoICcgcX61mGgTgtCv9Be99pzCoDhNQWQnchD1mup5++CYGcoQexajZbfwAj/0MD8ZOaUgAAAAASUVORK5CYII=";
Editor.previousImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAAh0lEQVQ4je3UsQnCUBCA4U8hpa1NsoEjpHQJS0dxADdwEMuMIJkgA1hYChbGQgMi+JC8q4L/AB/vDu7x74cWWEZhJU44RmA1zujR5GIbXF9YNrjD/Q0bDRY4fEBZ4P4LlgTnCbAf84pUM8/9hY08tMUtEoQ1LpEgrNBFglChFXR6Q6GfwwR6AGKJMF74Vtt3AAAAAElFTkSuQmCC";Editor.nextImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAAi0lEQVQ4jeXUIQ7CUAwA0MeGxWI2yylwnALJUdBcgYvM7QYLmjOQIAkIPmJZghiIvypoUtX0tfnJL38X5ZfaEgUeUcManFBHgS0SLlhHggk3bCPBhCf2keCQR8wjwYTDp6YiZxJmOU1jGw7vGALescuBxsArNlOwd/CM1VSM/ut1qCIw+uOwiMJ+OF4CQzBCXm3hyAAAAABJRU5ErkJggg==";
Editor.editImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhCwALAIABAFdXV////yH5BAEAAAEALAAAAAALAAsAAAIZjB8AiKuc4jvLOGqzrjX6zmkWyChXaUJBAQA7":IMAGE_PATH+"/edit.gif";Editor.zoomOutLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABJklEQVQ4y4WT2XaDMAxEvWD2nSSUNEnTJN3r//+9Sj7ILAY6L0ijC4ONYVZRpo6cByrz2YKSUGorGTpz71lPVHvT+avoB5wIkU/mxk8veceSuNoLg44IzziXjvpih72wKQnm8yc2UoiP/LAd8jQfe2Xf4Pq+2EyYIvv9wbzHHCgwxDdlBtWZOdqDfTCVgqpygQpsZaojVAVc9UjQxnAJDIBhiQv84tq3gMQCAVTxVoSibXJf8tMuc7e1TB/DCmejBNg/w1Y3c+AM5vv4w7xM59/oXamrHaLVqPQ+OTCnmMZxgz0SdL5zji0/ld6j88qGa5KIiBB6WeJGKfUKwSMKLuXgvl1TW0tm5R9UQL/efSDYsnzxD8CinhBsTTdugJatKpJwf8v+ADb8QmvW7AeAAAAAAElFTkSuQmCC";
Editor.zoomInLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABKElEQVQ4y4WT6WKCMBCENwkBwn2oFKvWqr3L+79es4EkQIDOH2d3Pxk2ABiJlB8JCXjqw4LikHVGLHTm3nM3UeVN5690GBBN0GwyV/3kkrUQR+WeKnREeKpzaXWd77CmJiXGfPIEI4V4yQ9TIW/ntlcMBe731Vts9w5TWG8F5j3mQI4hvrKpdGeYA7CX9qAcl650gVJartxRuhyHVghF8idQAIbFLvCLu28BsQEC6aKtCK6Pyb3JT7PmbmtNH8Ny56CotD/2qOs5cJbuffxgXmCib+xddVU5RNOhkvvkhTlFehzVWCOh3++MYElOhfdovaImnRYVmqDdsuhNp1QrBBE6uGC2+3ZNjGdg5B94oD+9uyVgWT79BwAxEBTWdOu3bWBVgsn/N/AHUD9IC01Oe40AAAAASUVORK5CYII=";
Editor.actualSizeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABIUlEQVQ4y4WT2XqDIBCFBxDc9yTWNEnTJN3r+79eGT4BEbXnaubMr8dBBaM450dCQp4LWFAascGIRd48eB4cNYE7f6XjgGiCFs5c+dml6CFN6j1V6IQIlHPpdV/usKcmJcV88gQTRXjLD9Mhb+fWq8YG9/uCmTCFjeeDeY85UGKIUGUuqzN42kv7oCouq9oHamlzVR1lVfpAIu1QVRiW+sAv7r4FpAYIZZVsRXB9TP5Dfpo1d1trCgzz1iiptH/sUbdz4CzN9+mLeXHn3+hdddd4RDegsrvzwZwSs2GLPRJidAqCLTlVwaMPqpYMWjTWBB2WRW86pVkhSKyDK2bdt2tmagZG4sBD/evdLQHLEvQfAOKRoLCmG1FAB6uKmby+gz+REDn7O5+EwQAAAABJRU5ErkJggg==";
Editor.printLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAXVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9RKvvlAAAAHnRSTlMAydnl77qbMLT093H7K4Nd4Ktn082+lYt5bkklEgP44nQSAAAApUlEQVQ4y73P2Q6DIBRF0cOgbRHHzhP//5m9mBAQKjG1cT0Yc7ITAMu1LNQgUZiQ2DYoNQ0sCQb6qgHAfRx48opq3J9AZ6xuF7uOew8Ik1OsCZRS2UAC9V+D9a+QZYxNA45YFQftPtSkATOhw7dAc0vPBwKWiIOjP0JZ0yMuQJ27g36DipOUsqRAM0dR8KD1/ILHaHSE/w8DIx09E3g/BTce6rHUB5sAPKvfF+JdAAAAAElFTkSuQmCC";
Editor.layersLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///+bnZkkAAAAMnRSTlMABPr8ByiD88KsTi/rvJb272mjeUA1CuPe1M/KjVxYHxMP6KZ0S9nYzGRGGRaznpGIbzaGUf0AAAHESURBVDjLbZLZYoIwEEVDgLCjbKIgAlqXqt3m/z+uNwu1rcyDhjl3ktnYL7OY254C0VX3yWFZfzDrOClbbgKxi0YDHjwl4jbnRkXxJS/C1YP3DbBhD1n7Ex4uaAqdVDb3yJ/4J/3nJD2to/ngQz/DfUvzMp4JJ5sSCaF5oXmemgQDfDxzbi+Kq4sU+vNcuAmx94JtyOP2DD4Epz2asWSCz4Z/4fECxyNj9zC9xNLHcdPEO+awDKeSaUu0W4twZQiO2hYVisTR3RCtK/c1X6t4xMEpiGqXqVntEBLolkZZsKY4QtwH6jzq67dEHlJysB1aNOD3XT7n1UkasQN59L4yC2RELMDSeCRtz3yV22Ub3ozIUTknYx8JWqDdQxbUes98cR2kZtUSveF/bAhcedwEWmlxIkpZUy4XOCb6VBjjxHvbwo/1lBAHHi2JCr0NI570QhyHq/DhJoE2lLgyA4RVe6KmZ47O/3b86MCP0HWa73A8/C3SUc5Qc1ajt6fgpXJ+RGpMvDSchepZDOOQRcZVIKcK90x2D7etqtI+56+u6n3sPriO6nfphitR4+O2m3EbM7lh3me1FM1o+LMI887rN+s3/wZdTFlpNVJiOAAAAABJRU5ErkJggg==";
Editor.closeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAUVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////8IN+deAAAAGnRSTlMAuvAIg/dDM/QlOeuFhj0S5s4vKgzjxJRQNiLSey0AAADNSURBVDjLfZLbEoMgDEQjRRRs1XqX///QNmOHJSnjPkHOGR7IEmeoGtJZstnwjqbRfIsmgEdtPCqe9Ynz7ZSc07rE2QiSc+qv8TvjRXA2PDUm3dpe82iJhOEUfxJJo3aCv+jKmRmH4lcCjCjeh9GWOdL/GZZkXH3PYYDrHBnfc4D/RVZf5sjoC1was+Y6HQxwaUxFvq/a0Pv343VCTxfBSRiB+ab3M3eiQZXmMNBJ3Y8pGRZtYQ7DgHMXJEdPLTaN/qBjzJOBc3nmNcbsA16bMR0oLqf+AAAAAElFTkSuQmCC";
Editor.editLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAKnRSTlMA+hzi3nRQWyXzkm0h2j3u54gzEgSXjlYoTBgJxL2loGpAOS3Jt7Wxm35Ga7gRAAAA6UlEQVQ4y63Q2XaCMBSF4Q0JBasoQ5DJqbXjfv8HbCK2BZNwo/8FXHx7rcMC7lQu0iX8qU/qtvAWCpoqH8dYzS0SwaV5eK/UAf8X9pd2CWKzuF5Jrftp1owXwnIGLUaL3PYndOHf4kNNXWrXK/m7CHunk7K8LE6YtBpcknwG9GKxnroY+ylBXcx4xKyx/u/EuXi509cP9V7OO1oyHnzrdFTcqLG/4ibBA5pIMr/4xvKzuQDkVy9wW8SgBFD6HDvuzMvrZcC9QlkfMzI7w64m+b4PqBMNHB05lH21PVxJo2/fBXxV4hB38PcD+5AkI4FuETsAAAAASUVORK5CYII=";
Editor.previousLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMA7fci493c0MW8uJ6CZks4MxQHEZL6ewAAAFZJREFUOMvdkskRgDAMA4lDwg2B7b9XOlge/KKvdsa25KFb5XlRvxXC/DNBEv8IFNjBgGdDgXtFgTyhwDXiQAUHCvwa4Uv6mR6UR+1led2mVonvl+tML45qCQNQLIx7AAAAAElFTkSuQmCC";Editor.nextLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMA7fci493c0MW8uJ6CZks4MxQHEZL6ewAAAFRJREFUOMvd0skRgCAQBVEFwQ0V7fxzNQP6wI05v6pZ/kyj1b7FNgik2gQzzLcAwiUAigHOTwDHK4A1CmB5BJANJG1hQ9qafYcqFlZP3IFc9eVGrR+iIgkDQRUXIAAAAABJRU5ErkJggg==";
Editor.refreshLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAolBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8ELnaCAAAANXRSTlMABfyE2QKU+dfNyyDyoVYKwnTv7N+6rntsYlFNQjEqEw316uSzf2c1JB3GvqebiVw6GAjQB4DQr10AAAE7SURBVDjLvZLXcoMwEABPIgRCx3TT3A3udqL//7UgAdGRcR4yk8k+idsdmgS/QyWEqD/axS2JDV33zlnzLHIzQ2MDq9OeJ3m8l76KKENYlxrmM/b65Ys1+8YxnTEZFIEY0vVhszFWfUGZDJpQTDznTgAe5k4XhQxILB7ruzBQn+kkyDXuHfRtjoYDEvH7J9Lz98dBZXXL94X0Ofco2PFlChKbjVzEdakoSlKjoNoqPYkJ/wUZAYwc+PpLj1Ei7+jdoBWlwQZoJv2H1w3CWgRvo7dd9DP5btgwCWz0M02+oVoxCcIWeY9PNmR6B++m9prMxYEISpCBYBlfy9bc745is7UUULAem1Ww7FfalsiA2uaJsgmWP3pQI9q9/yMLkaaHAp2fxhHff/cNq7dBdHXhGW7l+Mo2zU0Cf8knJ2xA0oJ8enwAAAAASUVORK5CYII=";
Editor.backLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAclBMVEUAAAD////////////////+/v7////////////////////////////////////////////+/v7///////////////////////////////////////////////////////////////////////////////8vKLfTAAAAJXRSTlMACh7h9gby3NLIwzwZ55uVJgH57b+8tbCljYV1RRMQ46FrTzQw+vtxOQAAAJ5JREFUOMuF00cWgzAQA1DRDQFCbwFSdf8rZpdVrNH2z3tuMv7mldZQ2WN2yi8x+TT8JvyTkqvwpiKvwsOIrA1fWr+XGTklfj8dOQR+D3KyUF6QufBkJN0hfCazEv6sZBRCJDUcPasGKpu1RLtYE8lkHAPBQLoTsK/SfAyRw5FjAuhCzC2MSj0gJ+66lHatgXdKboD9tfREB5m9/+3iC9jHDYvsGNcUAAAAAElFTkSuQmCC";
Editor.fullscreenLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAllBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AJcWoAAAAMXRSTlMA+wIFxPWPCIb446tnUxmsoIykgxTe29jQnpKBe2MNsZhVTR/KyLuWbFhEPjUq7L9z+bQj+gAAAWxJREFUOMttk4l2gkAMRTODCO4FtQgIbnWpS9v8/881iZFh8R51NO8GJ+gAjMN8zuTRFSw04cIOHQcqFHH6oaQFGxf0jeBjEgB8Y52TpW9Ag4zB5QICWOtHrgwGuFZBcw+gPP0MFS7+iiD5inOmDIQS9sZgTwUzwEzyxhxHVEEU7NdDUXsqUPtqjIgR2IZSCT4upzSeIeOdcMHnfDsx3giPoezfU6MrQGB5//SckLEG2xYscK4GfnUFqaix39zrwooaOD/cXoYuvHKQIc7pzd3HVPusp6t2FAW/RmjMonbl8vwHDeZo/GkleJC7e+p5XA/rAq1X/V10wKag04rBpa2/d0LL4OYYceOEtsG5jyMntI1wS+N1BGcQBl/CoLoPOl9ABrW/BP53e1bwSJHHlkIVchJwmHwyyfJ4kIvEnKtwkxNSEct83KSChT7WiWgDZ3ccZ0BM4tloJow2YUAtifNT3njnyD+y/pMsnP4DN3Y4yl1Gyk0AAAAASUVORK5CYII=";
Editor.ctrlKey=mxClient.IS_MAC?"Cmd":"Ctrl";Editor.popupsAllowed=!0;mxUtils.extend(Editor,mxEventSource);Editor.prototype.originalNoForeignObject=mxClient.NO_FO;Editor.prototype.transparentImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhMAAwAIAAAP///wAAACH5BAEAAAAALAAAAAAwADAAAAIxhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8egpAAA7":IMAGE_PATH+"/transparent.gif";Editor.prototype.extendCanvas=!0;Editor.prototype.chromeless=!1;Editor.prototype.cancelFirst=!0;
Editor.prototype.enabled=!0;Editor.prototype.filename=null;Editor.prototype.modified=!1;Editor.prototype.autosave=!0;Editor.prototype.initialTopSpacing=0;Editor.prototype.appName=document.title;Editor.prototype.editBlankUrl=window.location.protocol+"//"+window.location.host+"/";Editor.prototype.defaultGraphOverflow="hidden";Editor.prototype.componentSymbols=null;Editor.prototype.overallSAL=null;Editor.prototype.init=function $Editor$$init$(){Editor.getComponentSymbols();Editor.getOverallSAL()};
Editor.getComponentSymbols=function $Editor$getComponentSymbols$(){return new Promise(function($resolve$$,$reject$$){Editor.componentSymbols&&$resolve$$(Editor.componentSymbols);var $url$$=localStorage.getItem("cset.host")+"diagram/symbols/get";mxUtils.get($url$$,function($req$$){Editor.componentSymbols=JSON.parse($req$$.request.responseText);console.log(Editor.componentSymbols);$resolve$$(Editor.componentSymbols)},function(){$reject$$("ERROR:  Could not reach diagram/symbols/get")})})};
Editor.getOverallSAL=function $Editor$getOverallSAL$(){return new Promise(function($resolve$$,$reject$$){makeRequest({method:"GET",url:localStorage.getItem("cset.host")+"SAL",onreadystatechange:function($e$$){if(4===$e$$.readyState)switch($e$$.status){case 200:case 204:$e$$=JSON.parse($e$$.responseText);Editor.overallSAL=$e$$.Selected_Sal_Level;$resolve$$(Editor.overallSAL);break;case 401:window.location.replace(localStorage.getItem("cset.client"))}}})})};Editor.prototype.isChromelessView=function $Editor$$isChromelessView$(){return this.chromeless};
Editor.prototype.setAutosave=function $Editor$$setAutosave$($value$$){this.autosave=$value$$;this.fireEvent(new mxEventObject("autosaveChanged"))};Editor.prototype.getEditBlankUrl=function $Editor$$getEditBlankUrl$($params$$){return this.editBlankUrl+$params$$};
Editor.prototype.editAsNew=function $Editor$$editAsNew$($xml$$,$title$$){var $p$$=null!=$title$$?"?title="+encodeURIComponent($title$$):"";null!=urlParams.ui&&($p$$+=(0<$p$$.length?"&":"?")+"ui="+urlParams.ui);null==this.editorWindow||this.editorWindow.closed?"undefined"!==typeof window.postMessage&&(null==document.documentMode||10<=document.documentMode)?(null==this.editorWindow&&mxEvent.addListener(window,"message",mxUtils.bind(this,function($evt$$){"ready"==$evt$$.data&&$evt$$.source==this.editorWindow&&
this.editorWindow.postMessage($xml$$,"*")})),this.editorWindow=this.graph.openLink(this.getEditBlankUrl($p$$+(0<$p$$.length?"&":"?")+"client=1"),null,!0)):this.editorWindow=this.graph.openLink(this.getEditBlankUrl($p$$)+"#R"+encodeURIComponent($xml$$)):this.editorWindow.focus()};
Editor.prototype.createGraph=function $Editor$$createGraph$($themes$$,$model$$){var $graph$$=new Graph(null,$model$$,null,null,$themes$$);$graph$$.transparentBackground=!1;this.chromeless||($graph$$.isBlankLink=function $$graph$$$isBlankLink$($href$$){return!this.isExternalProtocol($href$$)});return $graph$$};
Editor.prototype.resetGraph=function $Editor$$resetGraph$(){this.graph.gridEnabled=!this.isChromelessView()||"1"==urlParams.grid;this.graph.graphHandler.guidesEnabled=!0;this.graph.setTooltips(!0);this.graph.setConnectable(!0);this.graph.foldingEnabled=!0;this.graph.scrollbars=this.graph.defaultScrollbars;this.graph.pageVisible=this.graph.defaultPageVisible;this.graph.pageBreaksVisible=this.graph.pageVisible;this.graph.preferPageSize=this.graph.pageBreaksVisible;this.graph.background=null;this.graph.pageScale=
mxGraph.prototype.pageScale;this.graph.pageFormat=mxGraph.prototype.pageFormat;this.graph.currentScale=1;this.graph.currentTranslate.x=0;this.graph.currentTranslate.y=0;this.updateGraphComponents();this.graph.view.setScale(1)};
Editor.prototype.readGraphState=function $Editor$$readGraphState$($bg_node$$){this.graph.gridEnabled="0"!=$bg_node$$.getAttribute("grid")&&(!this.isChromelessView()||"1"==urlParams.grid);this.graph.gridSize=parseFloat($bg_node$$.getAttribute("gridSize"))||mxGraph.prototype.gridSize;this.graph.graphHandler.guidesEnabled="0"!=$bg_node$$.getAttribute("guides");this.graph.setTooltips("0"!=$bg_node$$.getAttribute("tooltips"));this.graph.setConnectable("0"!=$bg_node$$.getAttribute("connect"));this.graph.connectionArrowsEnabled=
"0"!=$bg_node$$.getAttribute("arrows");this.graph.foldingEnabled="0"!=$bg_node$$.getAttribute("fold");this.isChromelessView()&&this.graph.foldingEnabled&&(this.graph.foldingEnabled="1"==urlParams.nav,this.graph.cellRenderer.forceControlClickHandler=this.graph.foldingEnabled);var $ps_pv_pw$$=parseFloat($bg_node$$.getAttribute("pageScale"));!isNaN($ps_pv_pw$$)&&0<$ps_pv_pw$$?this.graph.pageScale=$ps_pv_pw$$:this.graph.pageScale=mxGraph.prototype.pageScale;this.graph.isLightboxView()?this.graph.pageVisible=
!1:($ps_pv_pw$$=$bg_node$$.getAttribute("page"),this.graph.pageVisible=null!=$ps_pv_pw$$?"0"!=$ps_pv_pw$$:this.graph.defaultPageVisible);this.graph.pageBreaksVisible=this.graph.pageVisible;this.graph.preferPageSize=this.graph.pageBreaksVisible;var $ps_pv_pw$$=parseFloat($bg_node$$.getAttribute("pageWidth")),$ph$$=parseFloat($bg_node$$.getAttribute("pageHeight"));isNaN($ps_pv_pw$$)||isNaN($ph$$)||(this.graph.pageFormat=new mxRectangle(0,0,$ps_pv_pw$$,$ph$$));$bg_node$$=$bg_node$$.getAttribute("background");
this.graph.background=null!=$bg_node$$&&0<$bg_node$$.length?$bg_node$$:null};
Editor.prototype.setGraphXml=function $Editor$$setGraphXml$($node$$){if($node$$){var $dec$$=new mxCodec($node$$.ownerDocument);if("mxGraphModel"===$node$$.nodeName){this.graph.model.beginUpdate();try{this.graph.model.clear(),this.graph.view.scale=1,this.readGraphState($node$$),this.updateGraphComponents(),$dec$$.decode($node$$,this.graph.getModel())}finally{this.graph.model.endUpdate()}this.fireEvent(new mxEventObject("resetGraphView"))}else if("root"===$node$$.nodeName){this.resetGraph();var $wrapper$$=
$dec$$.document.createElement("mxGraphModel");$wrapper$$.appendChild($node$$);$dec$$.decode($wrapper$$,this.graph.getModel());this.updateGraphComponents();this.fireEvent(new mxEventObject("resetGraphView"))}else throw{message:mxResources.get("cannotOpenFile"),node:$node$$,toString:function(){return this.message}};}else this.resetGraph(),this.graph.model.clear(),this.fireEvent(new mxEventObject("resetGraphView"))};
Editor.prototype.getGraphXml=function $Editor$$getGraphXml$($ignoreSelection_node$$){$ignoreSelection_node$$=(null!=$ignoreSelection_node$$?$ignoreSelection_node$$:1)?(new mxCodec(mxUtils.createXmlDocument())).encode(this.graph.getModel()):this.graph.encodeCells(mxUtils.sortCells(this.graph.model.getTopmostCells(this.graph.getSelectionCells())));if(0!=this.graph.view.translate.x||0!=this.graph.view.translate.y)$ignoreSelection_node$$.setAttribute("dx",Math.round(100*this.graph.view.translate.x)/100),
$ignoreSelection_node$$.setAttribute("dy",Math.round(100*this.graph.view.translate.y)/100);$ignoreSelection_node$$.setAttribute("grid",this.graph.isGridEnabled()?"1":"0");$ignoreSelection_node$$.setAttribute("gridSize",this.graph.gridSize);$ignoreSelection_node$$.setAttribute("guides",this.graph.graphHandler.guidesEnabled?"1":"0");$ignoreSelection_node$$.setAttribute("tooltips",this.graph.tooltipHandler.isEnabled()?"1":"0");$ignoreSelection_node$$.setAttribute("connect",this.graph.connectionHandler.isEnabled()?
"1":"0");$ignoreSelection_node$$.setAttribute("arrows",this.graph.connectionArrowsEnabled?"1":"0");$ignoreSelection_node$$.setAttribute("fold",this.graph.foldingEnabled?"1":"0");$ignoreSelection_node$$.setAttribute("page",this.graph.pageVisible?"1":"0");$ignoreSelection_node$$.setAttribute("pageScale",this.graph.pageScale);$ignoreSelection_node$$.setAttribute("pageWidth",this.graph.pageFormat.width);$ignoreSelection_node$$.setAttribute("pageHeight",this.graph.pageFormat.height);null!=this.graph.background&&
$ignoreSelection_node$$.setAttribute("background",this.graph.background);return $ignoreSelection_node$$};Editor.prototype.updateGraphComponents=function $Editor$$updateGraphComponents$(){var $graph$$=this.graph;null!=$graph$$.container&&($graph$$.view.validateBackground(),$graph$$.container.style.overflow=$graph$$.scrollbars?"auto":this.defaultGraphOverflow,this.fireEvent(new mxEventObject("updateGraphComponents")))};
Editor.prototype.setModified=function $Editor$$setModified$($value$$){this.modified=$value$$};Editor.prototype.setFilename=function $Editor$$setFilename$($value$$){this.filename=$value$$};
Editor.prototype.createUndoManager=function $Editor$$createUndoManager$(){var $graph$$=this.graph,$undoMgr$$=new mxUndoManager;this.undoListener=function $this$undoListener$($sender$$,$evt$$){$undoMgr$$.undoableEditHappened($evt$$.getProperty("edit"))};var $listener$$=mxUtils.bind(this,function($sender$$,$evt$$){this.undoListener.apply(this,arguments)});$graph$$.getModel().addListener(mxEvent.UNDO,$listener$$);$graph$$.getView().addListener(mxEvent.UNDO,$listener$$);$listener$$=function $$listener$$$($sender$$,
$evt$$){var $cand$$=$graph$$.getSelectionCellsForChanges($evt$$.getProperty("edit").changes);$graph$$.getModel();for(var $cells$$=[],$i$$=0;$i$$<$cand$$.length;$i$$++)null!=$graph$$.view.getState($cand$$[$i$$])&&$cells$$.push($cand$$[$i$$]);$graph$$.setSelectionCells($cells$$)};$undoMgr$$.addListener(mxEvent.UNDO,$listener$$);$undoMgr$$.addListener(mxEvent.REDO,$listener$$);return $undoMgr$$};Editor.prototype.initStencilRegistry=function $Editor$$initStencilRegistry$(){};
Editor.prototype.destroy=function $Editor$$destroy$(){null!=this.graph&&(this.graph.destroy(),this.graph=null)};OpenFile=function $OpenFile$($done$$){this.consumer=this.producer=null;this.done=$done$$;this.args=null};OpenFile.prototype.setConsumer=function $OpenFile$$setConsumer$($value$$){this.consumer=$value$$;this.execute()};OpenFile.prototype.setData=function $OpenFile$$setData$(){console.log("OpenFile.prototype.setData");console.trace();this.args=arguments;this.execute()};
OpenFile.prototype.error=function $OpenFile$$error$($msg$$){this.cancel(!0);mxUtils.alert($msg$$)};OpenFile.prototype.execute=function $OpenFile$$execute$(){null!=this.consumer&&null!=this.args&&(this.cancel(!1),this.consumer.apply(this,this.args))};OpenFile.prototype.cancel=function $OpenFile$$cancel$($cancel$$){null!=this.done&&this.done(null!=$cancel$$?$cancel$$:!0)};
function Dialog($editorUi$$,$elt$$,$w$$,$h$$,$modal_pos$$,$closable_img$$,$onClose$$,$noScroll$$,$transparent$$,$onResize$$){var $dx$$=0;mxClient.IS_VML&&(null==document.documentMode||8>document.documentMode)&&($dx$$=80);$w$$+=$dx$$;$h$$+=$dx$$;var $w0$$=$w$$,$h0$$=$h$$,$ds_origin$$=mxUtils.getDocumentSize(),$dh$$=$ds_origin$$.height,$left$$=Math.max(1,Math.round(($ds_origin$$.width-$w$$-64)/2)),$top$$=Math.max(1,Math.round(($dh$$-$h$$-$editorUi$$.footerHeight)/3));mxClient.IS_QUIRKS||($elt$$.style.maxHeight=
"100%");$w$$=null!=document.body?Math.min($w$$,document.body.scrollWidth-64):$w$$;$h$$=Math.min($h$$,$dh$$-64);0<$editorUi$$.dialogs.length&&(this.zIndex+=2*$editorUi$$.dialogs.length);null==this.bg&&(this.bg=$editorUi$$.createDiv("background"),this.bg.style.position="absolute",this.bg.style.background=Dialog.backdropColor,this.bg.style.height=$dh$$+"px",this.bg.style.right="0px",this.bg.style.zIndex=this.zIndex-2,mxUtils.setOpacity(this.bg,this.bgOpacity),mxClient.IS_QUIRKS&&new mxDivResizer(this.bg));
$ds_origin$$=mxUtils.getDocumentScrollOrigin(document);this.bg.style.left=$ds_origin$$.x+"px";this.bg.style.top=$ds_origin$$.y+"px";$left$$+=$ds_origin$$.x;$top$$+=$ds_origin$$.y;$modal_pos$$&&document.body.appendChild(this.bg);var $div$$=$editorUi$$.createDiv($transparent$$?"geTransDialog":"geDialog");$modal_pos$$=this.getPosition($left$$,$top$$,$w$$,$h$$);$left$$=$modal_pos$$.x;$top$$=$modal_pos$$.y;$div$$.style.width=$w$$+"px";$div$$.style.height=$h$$+"px";$div$$.style.left=$left$$+"px";$div$$.style.top=
$top$$+"px";$div$$.style.zIndex=this.zIndex;$div$$.appendChild($elt$$);document.body.appendChild($div$$);!$noScroll$$&&$elt$$.clientHeight>$div$$.clientHeight-64&&($elt$$.style.overflowY="auto");$closable_img$$&&($closable_img$$=document.createElement("img"),$closable_img$$.setAttribute("src",Dialog.prototype.closeImage),$closable_img$$.setAttribute("title",mxResources.get("close")),$closable_img$$.className="geDialogClose",$closable_img$$.style.top=$top$$+14+"px",$closable_img$$.style.left=$left$$+
$w$$+38-$dx$$+"px",$closable_img$$.style.zIndex=this.zIndex,mxEvent.addListener($closable_img$$,"click",mxUtils.bind(this,function(){$editorUi$$.hideDialog(!0)})),document.body.appendChild($closable_img$$),this.dialogImg=$closable_img$$,mxEvent.addGestureListeners(this.bg,null,null,mxUtils.bind(this,function($evt$$){$editorUi$$.hideDialog(!0)})));this.resizeListener=mxUtils.bind(this,function(){if(null!=$onResize$$){var $ds$jscomp$1_newWH_pos$$=$onResize$$();null!=$ds$jscomp$1_newWH_pos$$&&($w0$$=
$w$$=$ds$jscomp$1_newWH_pos$$.w,$h0$$=$h$$=$ds$jscomp$1_newWH_pos$$.h)}$ds$jscomp$1_newWH_pos$$=mxUtils.getDocumentSize();$dh$$=$ds$jscomp$1_newWH_pos$$.height;this.bg.style.height=$dh$$+"px";$left$$=Math.max(1,Math.round(($ds$jscomp$1_newWH_pos$$.width-$w$$-64)/2));$top$$=Math.max(1,Math.round(($dh$$-$h$$-$editorUi$$.footerHeight)/3));$w$$=null!=document.body?Math.min($w0$$,document.body.scrollWidth-64):$w0$$;$h$$=Math.min($h0$$,$dh$$-64);$ds$jscomp$1_newWH_pos$$=this.getPosition($left$$,$top$$,
$w$$,$h$$);$left$$=$ds$jscomp$1_newWH_pos$$.x;$top$$=$ds$jscomp$1_newWH_pos$$.y;$div$$.style.left=$left$$+"px";$div$$.style.top=$top$$+"px";$div$$.style.width=$w$$+"px";$div$$.style.height=$h$$+"px";!$noScroll$$&&$elt$$.clientHeight>$div$$.clientHeight-64&&($elt$$.style.overflowY="auto");null!=this.dialogImg&&(this.dialogImg.style.top=$top$$+14+"px",this.dialogImg.style.left=$left$$+$w$$+38-$dx$$+"px")});mxEvent.addListener(window,"resize",this.resizeListener);this.onDialogClose=$onClose$$;this.container=
$div$$;$editorUi$$.editor.fireEvent(new mxEventObject("showDialog"))}Dialog.backdropColor="white";Dialog.prototype.zIndex=mxPopupMenu.prototype.zIndex-1;
Dialog.prototype.noColorImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEzRDlBMUUwODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEzRDlBMUUxODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTNEOUExREU4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTNEOUExREY4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xh3fmAAAABlBMVEX////MzMw46qqDAAAAGElEQVR42mJggAJGKGAYIIGBth8KAAIMAEUQAIElnLuQAAAAAElFTkSuQmCC":IMAGE_PATH+
"/nocolor.png";Dialog.prototype.closeImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAQMAAADaX5RTAAAABlBMVEV7mr3///+wksspAAAAAnRSTlP/AOW3MEoAAAAdSURBVAgdY9jXwCDDwNDRwHCwgeExmASygSL7GgB12QiqNHZZIwAAAABJRU5ErkJggg==":IMAGE_PATH+"/close.png";
Dialog.prototype.clearImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQAKAIABAMDAwP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUIzOEM1NzI4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUIzOEM1NzM4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QjM4QzU3MDg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QjM4QzU3MTg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAEALAAAAAANAAoAAAIXTGCJebD9jEOTqRlttXdrB32PJ2ncyRQAOw==":IMAGE_PATH+
"/clear.gif";
Dialog.prototype.lockedImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCODExNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCODIxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3RjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI4MDE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvqMCFYAAAAVUExURZmZmb+/v7KysqysrMzMzLGxsf///4g8N1cAAAAHdFJOU////////wAaSwNGAAAAPElEQVR42lTMQQ4AIQgEwUa0//9kTQirOweYOgDqAMbZUr10AGlAwx4/BJ2QJ4U0L5brYjovvpv32xZgAHZaATFtMbu4AAAAAElFTkSuQmCC":IMAGE_PATH+
"/locked.png";
Dialog.prototype.unlockedImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCN0QxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCN0UxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3QjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI3QzE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkKMpVwAAAAYUExURZmZmbKysr+/v6ysrOXl5czMzLGxsf///zHN5lwAAAAIdFJOU/////////8A3oO9WQAAADxJREFUeNpUzFESACAEBNBVsfe/cZJU+8Mzs8CIABCidtfGOndnYsT40HDSiCcbPdoJo10o9aI677cpwACRoAF3dFNlswAAAABJRU5ErkJggg==":IMAGE_PATH+
"/unlocked.png";Dialog.prototype.bgOpacity=80;Dialog.prototype.getPosition=function $Dialog$$getPosition$($left$$,$top$$){return new mxPoint($left$$,$top$$)};
Dialog.prototype.close=function $Dialog$$close$($cancel$$,$isEsc$$){if(null!=this.onDialogClose){if(0==this.onDialogClose($cancel$$,$isEsc$$))return!1;this.onDialogClose=null}null!=this.dialogImg&&(this.dialogImg.parentNode.removeChild(this.dialogImg),this.dialogImg=null);null!=this.bg&&null!=this.bg.parentNode&&this.bg.parentNode.removeChild(this.bg);mxEvent.removeListener(window,"resize",this.resizeListener);this.container.parentNode.removeChild(this.container)};
var PrintDialog=function $PrintDialog$($editorUi$$,$title$$){this.create($editorUi$$,$title$$)};
PrintDialog.prototype.create=function $PrintDialog$$create$($editorUi$$){function $preview$$($print$$){var $autoOrigin_preview$$=$onePageCheckBox$$.checked||$pageCountCheckBox$$.checked,$layout_printScale$$=parseInt($pageScaleInput$$.value)/100;isNaN($layout_printScale$$)&&($layout_printScale$$=1,$pageScaleInput$$.value="100%");var $layout_printScale$$=.75*$layout_printScale$$,$pf$$=$graph$$.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT,$scale$$=1/$graph$$.pageScale;if($autoOrigin_preview$$){var $pageCount_x0$$=
$onePageCheckBox$$.checked?1:parseInt($pageCountInput$$.value);isNaN($pageCount_x0$$)||($scale$$=mxUtils.getScaleForPageCount($pageCount_x0$$,$graph$$,$pf$$))}$graph$$.getGraphBounds();var $y0$$=$pageCount_x0$$=0,$pf$$=mxRectangle.fromRectangle($pf$$);$pf$$.width=Math.ceil($pf$$.width*$layout_printScale$$);$pf$$.height=Math.ceil($pf$$.height*$layout_printScale$$);$scale$$*=$layout_printScale$$;!$autoOrigin_preview$$&&$graph$$.pageVisible?($layout_printScale$$=$graph$$.getPageLayout(),$pageCount_x0$$-=
$layout_printScale$$.x*$pf$$.width,$y0$$-=$layout_printScale$$.y*$pf$$.height):$autoOrigin_preview$$=!0;$autoOrigin_preview$$=PrintDialog.createPrintPreview($graph$$,$scale$$,$pf$$,0,$pageCount_x0$$,$y0$$,$autoOrigin_preview$$);$autoOrigin_preview$$.open();$print$$&&PrintDialog.printPreview($autoOrigin_preview$$)}var $graph$$=$editorUi$$.editor.graph,$row$$,$td$$,$table$$=document.createElement("table");$table$$.style.width="100%";$table$$.style.height="100%";var $tbody$$=document.createElement("tbody");
$row$$=document.createElement("tr");var $onePageCheckBox$$=document.createElement("input");$onePageCheckBox$$.setAttribute("type","checkbox");$td$$=document.createElement("td");$td$$.setAttribute("colspan","2");$td$$.style.fontSize="10pt";$td$$.appendChild($onePageCheckBox$$);var $cancelBtn_span$$=document.createElement("span");mxUtils.write($cancelBtn_span$$," "+mxResources.get("fitPage"));$td$$.appendChild($cancelBtn_span$$);mxEvent.addListener($cancelBtn_span$$,"click",function($evt$$){$onePageCheckBox$$.checked=
!$onePageCheckBox$$.checked;$pageCountCheckBox$$.checked=!$onePageCheckBox$$.checked;mxEvent.consume($evt$$)});mxEvent.addListener($onePageCheckBox$$,"change",function(){$pageCountCheckBox$$.checked=!$onePageCheckBox$$.checked});$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=$row$$.cloneNode(!1);var $pageCountCheckBox$$=document.createElement("input");$pageCountCheckBox$$.setAttribute("type","checkbox");$td$$=document.createElement("td");$td$$.style.fontSize="10pt";$td$$.appendChild($pageCountCheckBox$$);
$cancelBtn_span$$=document.createElement("span");mxUtils.write($cancelBtn_span$$," "+mxResources.get("posterPrint")+":");$td$$.appendChild($cancelBtn_span$$);mxEvent.addListener($cancelBtn_span$$,"click",function($evt$$){$pageCountCheckBox$$.checked=!$pageCountCheckBox$$.checked;$onePageCheckBox$$.checked=!$pageCountCheckBox$$.checked;mxEvent.consume($evt$$)});$row$$.appendChild($td$$);var $pageCountInput$$=document.createElement("input");$pageCountInput$$.setAttribute("value","1");$pageCountInput$$.setAttribute("type",
"number");$pageCountInput$$.setAttribute("min","1");$pageCountInput$$.setAttribute("size","4");$pageCountInput$$.setAttribute("disabled","disabled");$pageCountInput$$.style.width="50px";$td$$=document.createElement("td");$td$$.style.fontSize="10pt";$td$$.appendChild($pageCountInput$$);mxUtils.write($td$$," "+mxResources.get("pages")+" (max)");$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);mxEvent.addListener($pageCountCheckBox$$,"change",function(){$pageCountCheckBox$$.checked?$pageCountInput$$.removeAttribute("disabled"):
$pageCountInput$$.setAttribute("disabled","disabled");$onePageCheckBox$$.checked=!$pageCountCheckBox$$.checked});$row$$=$row$$.cloneNode(!1);$td$$=document.createElement("td");mxUtils.write($td$$,mxResources.get("pageScale")+":");$row$$.appendChild($td$$);$td$$=document.createElement("td");var $pageScaleInput$$=document.createElement("input");$pageScaleInput$$.setAttribute("value","100 %");$pageScaleInput$$.setAttribute("size","5");$pageScaleInput$$.style.width="50px";$td$$.appendChild($pageScaleInput$$);
$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");$td$$=document.createElement("td");$td$$.colSpan=2;$td$$.style.paddingTop="20px";$td$$.setAttribute("align","right");$cancelBtn_span$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog()});$cancelBtn_span$$.className="geBtn";$editorUi$$.editor.cancelFirst&&$td$$.appendChild($cancelBtn_span$$);if(PrintDialog.previewEnabled){var $previewBtn_printBtn$$=mxUtils.button(mxResources.get("preview"),
function(){$editorUi$$.hideDialog();$preview$$(!1)});$previewBtn_printBtn$$.className="geBtn";$td$$.appendChild($previewBtn_printBtn$$)}$previewBtn_printBtn$$=mxUtils.button(mxResources.get(PrintDialog.previewEnabled?"print":"ok"),function(){$editorUi$$.hideDialog();$preview$$(!0)});$previewBtn_printBtn$$.className="geBtn gePrimaryBtn";$td$$.appendChild($previewBtn_printBtn$$);$editorUi$$.editor.cancelFirst||$td$$.appendChild($cancelBtn_span$$);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);
$table$$.appendChild($tbody$$);this.container=$table$$};PrintDialog.printPreview=function $PrintDialog$printPreview$($preview$$){try{if(null!=$preview$$.wnd){var $printFn$$=function $$printFn$$$(){$preview$$.wnd.focus();$preview$$.wnd.print();$preview$$.wnd.close()};mxClient.IS_GC?window.setTimeout($printFn$$,500):$printFn$$()}}catch($e$$){}};
PrintDialog.createPrintPreview=function $PrintDialog$createPrintPreview$($bg$jscomp$1_graph$$,$preview$jscomp$3_scale$$,$pf$$,$border$$,$x0$$,$y0$$,$autoOrigin$$){$preview$jscomp$3_scale$$=new mxPrintPreview($bg$jscomp$1_graph$$,$preview$jscomp$3_scale$$,$pf$$,$border$$,$x0$$,$y0$$);$preview$jscomp$3_scale$$.title=mxResources.get("preview");$preview$jscomp$3_scale$$.printBackgroundImage=!0;$preview$jscomp$3_scale$$.autoOrigin=$autoOrigin$$;$bg$jscomp$1_graph$$=$bg$jscomp$1_graph$$.background;if(null==
$bg$jscomp$1_graph$$||""==$bg$jscomp$1_graph$$||$bg$jscomp$1_graph$$==mxConstants.NONE)$bg$jscomp$1_graph$$="#ffffff";$preview$jscomp$3_scale$$.backgroundColor=$bg$jscomp$1_graph$$;var $writeHead$$=$preview$jscomp$3_scale$$.writeHead;$preview$jscomp$3_scale$$.writeHead=function $$preview$jscomp$3_scale$$$writeHead$($doc$$){$writeHead$$.apply(this,arguments);$doc$$.writeln('<style type="text/css">');$doc$$.writeln("@media screen {");$doc$$.writeln("  body > div { padding:30px;box-sizing:content-box; }");
$doc$$.writeln("}");$doc$$.writeln("</style>")};return $preview$jscomp$3_scale$$};PrintDialog.previewEnabled=!0;
var PageSetupDialog=function $PageSetupDialog$($editorUi$$){function $updateBackgroundColor$$(){null==$newBackgroundColor$$||$newBackgroundColor$$==mxConstants.NONE?($backgroundButton$$.style.backgroundColor="",$backgroundButton$$.style.backgroundImage="url('"+Dialog.prototype.noColorImage+"')"):($backgroundButton$$.style.backgroundColor=$newBackgroundColor$$,$backgroundButton$$.style.backgroundImage="")}function $updateBackgroundImage$$(){null==$newBackgroundImage$$?($changeImageLink$$.removeAttribute("title"),
$changeImageLink$$.style.fontSize="",$changeImageLink$$.innerHTML=mxResources.get("change")+"..."):($changeImageLink$$.setAttribute("title",$newBackgroundImage$$.src),$changeImageLink$$.style.fontSize="11px",$changeImageLink$$.innerHTML=$newBackgroundImage$$.src.substring(0,42)+"...")}var $graph$$=$editorUi$$.editor.graph,$row$$,$td$$,$table$$=document.createElement("table");$table$$.style.width="100%";$table$$.style.height="100%";var $tbody$$=document.createElement("tbody");$row$$=document.createElement("tr");
$td$$=document.createElement("td");$td$$.style.verticalAlign="top";$td$$.style.fontSize="10pt";mxUtils.write($td$$,mxResources.get("paperSize")+":");$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.style.verticalAlign="top";$td$$.style.fontSize="10pt";var $accessor$$=PageSetupDialog.addPageFormatPanel($td$$,"pagesetupdialog",$graph$$.pageFormat);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");$td$$=document.createElement("td");mxUtils.write($td$$,
mxResources.get("background")+":");$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.style.whiteSpace="nowrap";document.createElement("input").setAttribute("type","text");var $backgroundButton$$=document.createElement("button");$backgroundButton$$.style.width="18px";$backgroundButton$$.style.height="18px";$backgroundButton$$.style.marginRight="20px";$backgroundButton$$.style.backgroundPosition="center center";$backgroundButton$$.style.backgroundRepeat="no-repeat";var $newBackgroundColor$$=
$graph$$.background;$updateBackgroundColor$$();mxEvent.addListener($backgroundButton$$,"click",function($evt$$){$editorUi$$.pickColor($newBackgroundColor$$||"none",function($color$$){$newBackgroundColor$$=$color$$;$updateBackgroundColor$$()});mxEvent.consume($evt$$)});$td$$.appendChild($backgroundButton$$);mxUtils.write($td$$,mxResources.get("gridSize")+":");var $gridSizeInput$$=document.createElement("input");$gridSizeInput$$.setAttribute("type","number");$gridSizeInput$$.setAttribute("min","0");
$gridSizeInput$$.style.width="40px";$gridSizeInput$$.style.marginLeft="6px";$gridSizeInput$$.value=$graph$$.getGridSize();$td$$.appendChild($gridSizeInput$$);mxEvent.addListener($gridSizeInput$$,"change",function(){var $value$$=parseInt($gridSizeInput$$.value);$gridSizeInput$$.value=Math.max(1,isNaN($value$$)?$graph$$.getGridSize():$value$$)});$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");$td$$=document.createElement("td");mxUtils.write($td$$,mxResources.get("image")+
":");$row$$.appendChild($td$$);$td$$=document.createElement("td");var $changeImageLink$$=document.createElement("a");$changeImageLink$$.style.textDecoration="underline";$changeImageLink$$.style.cursor="pointer";$changeImageLink$$.style.color="#a0a0a0";var $newBackgroundImage$$=$graph$$.backgroundImage;mxEvent.addListener($changeImageLink$$,"click",function($evt$$){$editorUi$$.showBackgroundImageDialog(function($image$$){$newBackgroundImage$$=$image$$;$updateBackgroundImage$$()});mxEvent.consume($evt$$)});
$updateBackgroundImage$$();$td$$.appendChild($changeImageLink$$);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$row$$=document.createElement("tr");$td$$=document.createElement("td");$td$$.colSpan=2;$td$$.style.paddingTop="16px";$td$$.setAttribute("align","right");var $cancelBtn$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog()});$cancelBtn$$.className="geBtn";$editorUi$$.editor.cancelFirst&&$td$$.appendChild($cancelBtn$$);var $applyBtn$$=mxUtils.button(mxResources.get("apply"),
function(){$editorUi$$.hideDialog();$graph$$.gridSize!==$gridSizeInput$$.value&&$graph$$.setGridSize(parseInt($gridSizeInput$$.value));var $change$$=new ChangePageSetup($editorUi$$,$newBackgroundColor$$,$newBackgroundImage$$,$accessor$$.get());$change$$.ignoreColor=$graph$$.background==$newBackgroundColor$$;$change$$.ignoreImage=(null!=$graph$$.backgroundImage?$graph$$.backgroundImage.src:null)===(null!=$newBackgroundImage$$?$newBackgroundImage$$.src:null);$graph$$.pageFormat.width==$change$$.previousFormat.width&&
$graph$$.pageFormat.height==$change$$.previousFormat.height&&$change$$.ignoreColor&&$change$$.ignoreImage||$graph$$.model.execute($change$$)});$applyBtn$$.className="geBtn gePrimaryBtn";$td$$.appendChild($applyBtn$$);$editorUi$$.editor.cancelFirst||$td$$.appendChild($cancelBtn$$);$row$$.appendChild($td$$);$tbody$$.appendChild($row$$);$table$$.appendChild($tbody$$);this.container=$table$$};
PageSetupDialog.addPageFormatPanel=function $PageSetupDialog$addPageFormatPanel$($div$$,$formatName_namePostfix_portraitSpan$$,$pageFormat$$,$pageFormatListener$$){function $listener$$($detected_sender$$,$evt$jscomp$32_i$$,$f$$){if($f$$||$widthInput$$!=document.activeElement&&$heightInput$$!=document.activeElement){$detected_sender$$=!1;for($evt$jscomp$32_i$$=0;$evt$jscomp$32_i$$<$formats$$.length;$evt$jscomp$32_i$$++)$f$$=$formats$$[$evt$jscomp$32_i$$],$customSize$$?"custom"==$f$$.key&&($paperSizeSelect$$.value=
$f$$.key,$customSize$$=!1):null!=$f$$.format&&("a4"==$f$$.key?826==$pageFormat$$.width?($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.width=827):826==$pageFormat$$.height&&($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.height=827):"a5"==$f$$.key&&(584==$pageFormat$$.width?($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.width=583):584==$pageFormat$$.height&&($pageFormat$$=mxRectangle.fromRectangle($pageFormat$$),$pageFormat$$.height=
583)),$pageFormat$$.width==$f$$.format.width&&$pageFormat$$.height==$f$$.format.height?($paperSizeSelect$$.value=$f$$.key,$portraitCheckBox$$.setAttribute("checked","checked"),$portraitCheckBox$$.defaultChecked=!0,$portraitCheckBox$$.checked=!0,$landscapeCheckBox$$.removeAttribute("checked"),$landscapeCheckBox$$.defaultChecked=!1,$landscapeCheckBox$$.checked=!1,$detected_sender$$=!0):$pageFormat$$.width==$f$$.format.height&&$pageFormat$$.height==$f$$.format.width&&($paperSizeSelect$$.value=$f$$.key,
$portraitCheckBox$$.removeAttribute("checked"),$portraitCheckBox$$.defaultChecked=!1,$portraitCheckBox$$.checked=!1,$landscapeCheckBox$$.setAttribute("checked","checked"),$landscapeCheckBox$$.defaultChecked=!0,$detected_sender$$=$landscapeCheckBox$$.checked=!0));$detected_sender$$?($formatDiv$$.style.display="",$customDiv$$.style.display="none"):($widthInput$$.value=$pageFormat$$.width/100,$heightInput$$.value=$pageFormat$$.height/100,$portraitCheckBox$$.setAttribute("checked","checked"),$paperSizeSelect$$.value=
"custom",$formatDiv$$.style.display="none",$customDiv$$.style.display="")}}$formatName_namePostfix_portraitSpan$$="format-"+$formatName_namePostfix_portraitSpan$$;var $portraitCheckBox$$=document.createElement("input");$portraitCheckBox$$.setAttribute("name",$formatName_namePostfix_portraitSpan$$);$portraitCheckBox$$.setAttribute("type","radio");$portraitCheckBox$$.setAttribute("value","portrait");var $landscapeCheckBox$$=document.createElement("input");$landscapeCheckBox$$.setAttribute("name",$formatName_namePostfix_portraitSpan$$);
$landscapeCheckBox$$.setAttribute("type","radio");$landscapeCheckBox$$.setAttribute("value","landscape");var $paperSizeSelect$$=document.createElement("select");$paperSizeSelect$$.style.marginBottom="8px";$paperSizeSelect$$.style.width="202px";var $formatDiv$$=document.createElement("div");$formatDiv$$.style.marginLeft="4px";$formatDiv$$.style.width="210px";$formatDiv$$.style.height="24px";$portraitCheckBox$$.style.marginRight="6px";$formatDiv$$.appendChild($portraitCheckBox$$);$formatName_namePostfix_portraitSpan$$=
document.createElement("span");$formatName_namePostfix_portraitSpan$$.style.maxWidth="100px";mxUtils.write($formatName_namePostfix_portraitSpan$$,mxResources.get("portrait"));$formatDiv$$.appendChild($formatName_namePostfix_portraitSpan$$);$landscapeCheckBox$$.style.marginLeft="10px";$landscapeCheckBox$$.style.marginRight="6px";$formatDiv$$.appendChild($landscapeCheckBox$$);var $landscapeSpan$$=document.createElement("span");$landscapeSpan$$.style.width="100px";mxUtils.write($landscapeSpan$$,mxResources.get("landscape"));
$formatDiv$$.appendChild($landscapeSpan$$);var $customDiv$$=document.createElement("div");$customDiv$$.style.marginLeft="4px";$customDiv$$.style.width="210px";$customDiv$$.style.height="24px";var $widthInput$$=document.createElement("input");$widthInput$$.setAttribute("size","7");$widthInput$$.style.textAlign="right";$customDiv$$.appendChild($widthInput$$);mxUtils.write($customDiv$$," in x ");var $heightInput$$=document.createElement("input");$heightInput$$.setAttribute("size","7");$heightInput$$.style.textAlign=
"right";$customDiv$$.appendChild($heightInput$$);mxUtils.write($customDiv$$," in");$formatDiv$$.style.display="none";$customDiv$$.style.display="none";for(var $pf$$={},$formats$$=PageSetupDialog.getFormats(),$i$$=0;$i$$<$formats$$.length;$i$$++){var $f$jscomp$0$$=$formats$$[$i$$];$pf$$[$f$jscomp$0$$.key]=$f$jscomp$0$$;var $paperSizeOption$$=document.createElement("option");$paperSizeOption$$.setAttribute("value",$f$jscomp$0$$.key);mxUtils.write($paperSizeOption$$,$f$jscomp$0$$.title);$paperSizeSelect$$.appendChild($paperSizeOption$$)}var $customSize$$=
!1;$listener$$();$div$$.appendChild($paperSizeSelect$$);mxUtils.br($div$$);$div$$.appendChild($formatDiv$$);$div$$.appendChild($customDiv$$);var $currentPageFormat$$=$pageFormat$$,$update$$=function $$update$$$($evt$$,$selectChanged$$){var $f$$=$pf$$[$paperSizeSelect$$.value];null!=$f$$.format?($widthInput$$.value=$f$$.format.width/100,$heightInput$$.value=$f$$.format.height/100,$customDiv$$.style.display="none",$formatDiv$$.style.display=""):($formatDiv$$.style.display="none",$customDiv$$.style.display=
"");$f$$=parseFloat($widthInput$$.value);if(isNaN($f$$)||0>=$f$$)$widthInput$$.value=$pageFormat$$.width/100;$f$$=parseFloat($heightInput$$.value);if(isNaN($f$$)||0>=$f$$)$heightInput$$.value=$pageFormat$$.height/100;$f$$=new mxRectangle(0,0,Math.floor(100*parseFloat($widthInput$$.value)),Math.floor(100*parseFloat($heightInput$$.value)));"custom"!=$paperSizeSelect$$.value&&$landscapeCheckBox$$.checked&&($f$$=new mxRectangle(0,0,$f$$.height,$f$$.width));$selectChanged$$&&$customSize$$||$f$$.width==
$currentPageFormat$$.width&&$f$$.height==$currentPageFormat$$.height||($currentPageFormat$$=$f$$,null!=$pageFormatListener$$&&$pageFormatListener$$($currentPageFormat$$))};mxEvent.addListener($formatName_namePostfix_portraitSpan$$,"click",function($evt$$){$portraitCheckBox$$.checked=!0;$update$$($evt$$);mxEvent.consume($evt$$)});mxEvent.addListener($landscapeSpan$$,"click",function($evt$$){$landscapeCheckBox$$.checked=!0;$update$$($evt$$);mxEvent.consume($evt$$)});mxEvent.addListener($widthInput$$,
"blur",$update$$);mxEvent.addListener($widthInput$$,"click",$update$$);mxEvent.addListener($heightInput$$,"blur",$update$$);mxEvent.addListener($heightInput$$,"click",$update$$);mxEvent.addListener($landscapeCheckBox$$,"change",$update$$);mxEvent.addListener($portraitCheckBox$$,"change",$update$$);mxEvent.addListener($paperSizeSelect$$,"change",function($evt$$){$customSize$$="custom"==$paperSizeSelect$$.value;$update$$($evt$$,!0)});$update$$();return{set:function($value$$){$pageFormat$$=$value$$;
$listener$$(null,null,!0)},get:function(){return $currentPageFormat$$},widthInput:$widthInput$$,heightInput:$heightInput$$}};
PageSetupDialog.getFormats=function $PageSetupDialog$getFormats$(){return[{key:"letter",title:'US-Letter (8,5" x 11")',format:mxConstants.PAGE_FORMAT_LETTER_PORTRAIT},{key:"legal",title:'US-Legal (8,5" x 14")',format:new mxRectangle(0,0,850,1400)},{key:"tabloid",title:"US-Tabloid (279 mm x 432 mm)",format:new mxRectangle(0,0,1100,1700)},{key:"a0",title:"A0 (841 mm x 1189 mm)",format:new mxRectangle(0,0,3300,4681)},{key:"a1",title:"A1 (594 mm x 841 mm)",format:new mxRectangle(0,0,2339,3300)},{key:"a2",
title:"A2 (420 mm x 594 mm)",format:new mxRectangle(0,0,1654,2336)},{key:"a3",title:"A3 (297 mm x 420 mm)",format:new mxRectangle(0,0,1169,1654)},{key:"a4",title:"A4 (210 mm x 297 mm)",format:mxConstants.PAGE_FORMAT_A4_PORTRAIT},{key:"a5",title:"A5 (148 mm x 210 mm)",format:new mxRectangle(0,0,583,827)},{key:"a6",title:"A6 (105 mm x 148 mm)",format:new mxRectangle(0,0,413,583)},{key:"a7",title:"A7 (74 mm x 105 mm)",format:new mxRectangle(0,0,291,413)},{key:"custom",title:mxResources.get("custom"),
format:null}]};
(function(){mxGraphView.prototype.validateBackgroundPage=function $mxGraphView$$validateBackgroundPage$(){var $graph$$=this.graph;$graph$$.pageVisible=!1;if(null!=$graph$$.container&&!$graph$$.transparentBackground){if($graph$$.pageVisible){var $bounds$$=this.getBackgroundPageBounds();if(null==this.backgroundPageShape){for(var $firstChild$$=$graph$$.container.firstChild;null!=$firstChild$$&&$firstChild$$.nodeType!=mxConstants.NODETYPE_ELEMENT;)$firstChild$$=$firstChild$$.nextSibling;null!=$firstChild$$&&
(this.backgroundPageShape=this.createBackgroundPageShape($bounds$$),this.backgroundPageShape.scale=1,this.backgroundPageShape.isShadow=!mxClient.IS_QUIRKS,this.backgroundPageShape.dialect=mxConstants.DIALECT_STRICTHTML,this.backgroundPageShape.init($graph$$.container),$firstChild$$.style.position="absolute",$graph$$.container.insertBefore(this.backgroundPageShape.node,$firstChild$$),this.backgroundPageShape.redraw(),this.backgroundPageShape.node.className="geBackgroundPage",mxEvent.addListener(this.backgroundPageShape.node,
"dblclick",mxUtils.bind(this,function($evt$$){$graph$$.dblClick($evt$$)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function($evt$$){$graph$$.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent($evt$$))}),mxUtils.bind(this,function($evt$$){null!=$graph$$.tooltipHandler&&$graph$$.tooltipHandler.isHideOnHover()&&$graph$$.tooltipHandler.hide();$graph$$.isMouseDown&&!mxEvent.isConsumed($evt$$)&&$graph$$.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent($evt$$))}),mxUtils.bind(this,
function($evt$$){$graph$$.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent($evt$$))})))}else this.backgroundPageShape.scale=1,this.backgroundPageShape.bounds=$bounds$$,this.backgroundPageShape.redraw()}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null);this.validateBackgroundStyles()}};mxGraphView.prototype.validateBackgroundStyles=function $mxGraphView$$validateBackgroundStyles$(){var $graph$$=this.graph,$color$$=null==$graph$$.background||$graph$$.background==
mxConstants.NONE?$graph$$.defaultPageBackgroundColor:$graph$$.background,$canvas_gridColor_x0$$=null!=$color$$&&this.gridColor!=$color$$.toLowerCase()?this.gridColor:"#ffffff",$image$$="none",$phase_position$$="";if($graph$$.isGridEnabled()){$phase_position$$=10;mxClient.IS_SVG?($image$$=unescape(encodeURIComponent(this.createSvgGrid($canvas_gridColor_x0$$))),$image$$=window.btoa?btoa($image$$):Base64.encode($image$$,!0),$image$$="url(data:image/svg+xml;base64,"+$image$$+")",$phase_position$$=$graph$$.gridSize*
this.scale*this.gridSteps):$image$$="url("+this.gridImage+")";var $bds_y0$$=$canvas_gridColor_x0$$=0;null!=$graph$$.view.backgroundPageShape&&($bds_y0$$=this.getBackgroundPageBounds(),$canvas_gridColor_x0$$=1+$bds_y0$$.x,$bds_y0$$=1+$bds_y0$$.y);$phase_position$$=-Math.round($phase_position$$-mxUtils.mod(this.translate.x*this.scale-$canvas_gridColor_x0$$,$phase_position$$))+"px "+-Math.round($phase_position$$-mxUtils.mod(this.translate.y*this.scale-$bds_y0$$,$phase_position$$))+"px"}$canvas_gridColor_x0$$=
$graph$$.view.canvas;null!=$canvas_gridColor_x0$$.ownerSVGElement&&($canvas_gridColor_x0$$=$canvas_gridColor_x0$$.ownerSVGElement);null!=$graph$$.view.backgroundPageShape?($graph$$.view.backgroundPageShape.node.style.backgroundPosition=$phase_position$$,$graph$$.view.backgroundPageShape.node.style.backgroundImage=$image$$,$graph$$.view.backgroundPageShape.node.style.backgroundColor=$color$$,$graph$$.container.className="geDiagramContainer geDiagramBackdrop",$canvas_gridColor_x0$$.style.backgroundImage=
"none",$canvas_gridColor_x0$$.style.backgroundColor=""):($graph$$.container.className="geDiagramContainer",$canvas_gridColor_x0$$.style.backgroundPosition=$phase_position$$,$canvas_gridColor_x0$$.style.backgroundColor=$color$$,$canvas_gridColor_x0$$.style.backgroundImage=$image$$)};mxGraphView.prototype.createSvgGrid=function $mxGraphView$$createSvgGrid$($color$$){for(var $tmp$$=this.graph.gridSize*this.scale;$tmp$$<this.minGridSize;)$tmp$$*=2;for(var $tmp2$$=this.gridSteps*$tmp$$,$d$$=[],$i$$=1;$i$$<
this.gridSteps;$i$$++){var $tmp3$$=$i$$*$tmp$$;$d$$.push("M 0 "+$tmp3$$+" L "+$tmp2$$+" "+$tmp3$$+" M "+$tmp3$$+" 0 L "+$tmp3$$+" "+$tmp2$$)}return'<svg width="'+$tmp2$$+'" height="'+$tmp2$$+'" xmlns="'+mxConstants.NS_SVG+'"><defs><pattern id="grid" width="'+$tmp2$$+'" height="'+$tmp2$$+'" patternUnits="userSpaceOnUse"><path d="'+$d$$.join(" ")+'" fill="none" stroke="'+$color$$+'" opacity="0.2" stroke-width="1"/><path d="M '+$tmp2$$+" 0 L 0 0 0 "+$tmp2$$+'" fill="none" stroke="'+$color$$+'" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)"/></svg>'};
var $mxGraphPanGraph$$=mxGraph.prototype.panGraph;mxGraph.prototype.panGraph=function $mxGraph$$panGraph$($dx$$,$dy$$){$mxGraphPanGraph$$.apply(this,arguments);if(null!=this.shiftPreview1){var $canvas$$=this.view.canvas;null!=$canvas$$.ownerSVGElement&&($canvas$$=$canvas$$.ownerSVGElement);var $phase$jscomp$1_position$$=this.gridSize*this.view.scale*this.view.gridSteps,$phase$jscomp$1_position$$=-Math.round($phase$jscomp$1_position$$-mxUtils.mod(this.view.translate.x*this.view.scale+$dx$$,$phase$jscomp$1_position$$))+
"px "+-Math.round($phase$jscomp$1_position$$-mxUtils.mod(this.view.translate.y*this.view.scale+$dy$$,$phase$jscomp$1_position$$))+"px";$canvas$$.style.backgroundPosition=$phase$jscomp$1_position$$}};mxGraph.prototype.updatePageBreaks=function $mxGraph$$updatePageBreaks$($drawPageBreaks_visible$$,$width$$,$height$$){var $scale$$=this.view.scale,$tr$$=this.view.translate,$fmt$$=this.pageFormat,$ps$$=$scale$$*this.pageScale,$bounds2$$=this.view.getBackgroundPageBounds();$width$$=$bounds2$$.width;$height$$=
$bounds2$$.height;var $bounds$$=new mxRectangle($scale$$*$tr$$.x,$scale$$*$tr$$.y,$fmt$$.width*$ps$$,$fmt$$.height*$ps$$),$horizontalCount$$=($drawPageBreaks_visible$$=$drawPageBreaks_visible$$&&Math.min($bounds$$.width,$bounds$$.height)>this.minPageBreakDist)?Math.ceil($height$$/$bounds$$.height)-1:0,$verticalCount$$=$drawPageBreaks_visible$$?Math.ceil($width$$/$bounds$$.width)-1:0,$right$$=$bounds2$$.x+$width$$,$bottom$$=$bounds2$$.y+$height$$;null==this.horizontalPageBreaks&&0<$horizontalCount$$&&
(this.horizontalPageBreaks=[]);null==this.verticalPageBreaks&&0<$verticalCount$$&&(this.verticalPageBreaks=[]);$drawPageBreaks_visible$$=mxUtils.bind(this,function($breaks$$){if(null!=$breaks$$){for(var $count$$=$breaks$$==this.horizontalPageBreaks?$horizontalCount$$:$verticalCount$$,$i$$=0;$i$$<=$count$$;$i$$++){var $pageBreak_pts$$=$breaks$$==this.horizontalPageBreaks?[new mxPoint(Math.round($bounds2$$.x),Math.round($bounds2$$.y+($i$$+1)*$bounds$$.height)),new mxPoint(Math.round($right$$),Math.round($bounds2$$.y+
($i$$+1)*$bounds$$.height))]:[new mxPoint(Math.round($bounds2$$.x+($i$$+1)*$bounds$$.width),Math.round($bounds2$$.y)),new mxPoint(Math.round($bounds2$$.x+($i$$+1)*$bounds$$.width),Math.round($bottom$$))];null!=$breaks$$[$i$$]?($breaks$$[$i$$].points=$pageBreak_pts$$,$breaks$$[$i$$].redraw()):($pageBreak_pts$$=new mxPolyline($pageBreak_pts$$,this.pageBreakColor),$pageBreak_pts$$.dialect=this.dialect,$pageBreak_pts$$.isDashed=this.pageBreakDashed,$pageBreak_pts$$.pointerEvents=!1,$pageBreak_pts$$.init(this.view.backgroundPane),
$pageBreak_pts$$.redraw(),$breaks$$[$i$$]=$pageBreak_pts$$)}for($i$$=$count$$;$i$$<$breaks$$.length;$i$$++)$breaks$$[$i$$].destroy();$breaks$$.splice($count$$,$breaks$$.length-$count$$)}});$drawPageBreaks_visible$$(this.horizontalPageBreaks);$drawPageBreaks_visible$$(this.verticalPageBreaks)};var $mxGraphHandlerShouldRemoveCellsFromParent$$=mxGraphHandler.prototype.shouldRemoveCellsFromParent;mxGraphHandler.prototype.shouldRemoveCellsFromParent=function $mxGraphHandler$$shouldRemoveCellsFromParent$($parent$$,
$cells$$,$evt$$){for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if(this.graph.getModel().isVertex($cells$$[$i$$])){var $geo$$=this.graph.getCellGeometry($cells$$[$i$$]);if(null!=$geo$$&&$geo$$.relative)return!1}return $mxGraphHandlerShouldRemoveCellsFromParent$$.apply(this,arguments)};var $mxConnectionHandlerCreateMarker$$=mxConnectionHandler.prototype.createMarker;mxConnectionHandler.prototype.createMarker=function $mxConnectionHandler$$createMarker$(){var $marker$$=$mxConnectionHandlerCreateMarker$$.apply(this,
arguments);$marker$$.intersects=mxUtils.bind(this,function($state$$,$evt$$){return this.isConnecting()?!0:mxCellMarker.prototype.intersects.apply($marker$$,arguments)});return $marker$$};mxGraphView.prototype.createBackgroundPageShape=function $mxGraphView$$createBackgroundPageShape$($bounds$$){return new mxRectangleShape($bounds$$,"#ffffff",this.graph.defaultPageBorderColor)};mxGraphView.prototype.getBackgroundPageBounds=function $mxGraphView$$getBackgroundPageBounds$(){var $gb$$=this.getGraphBounds(),
$x$$=0<$gb$$.width?$gb$$.x/this.scale-this.translate.x:0,$y$$=0<$gb$$.height?$gb$$.y/this.scale-this.translate.y:0,$fmt$jscomp$1_ph$$=this.graph.pageFormat,$ps$jscomp$2_x0$$=this.graph.pageScale,$pw$$=$fmt$jscomp$1_ph$$.width*$ps$jscomp$2_x0$$,$fmt$jscomp$1_ph$$=$fmt$jscomp$1_ph$$.height*$ps$jscomp$2_x0$$,$ps$jscomp$2_x0$$=Math.floor(Math.min(0,$x$$)/$pw$$),$y0$$=Math.floor(Math.min(0,$y$$)/$fmt$jscomp$1_ph$$);return new mxRectangle(this.scale*(this.translate.x+$ps$jscomp$2_x0$$*$pw$$),this.scale*
(this.translate.y+$y0$$*$fmt$jscomp$1_ph$$),this.scale*(Math.ceil(Math.max(1,$x$$+$gb$$.width/this.scale)/$pw$$)-$ps$jscomp$2_x0$$)*$pw$$,this.scale*(Math.ceil(Math.max(1,$y$$+$gb$$.height/this.scale)/$fmt$jscomp$1_ph$$)-$y0$$)*$fmt$jscomp$1_ph$$)};var $graphPanGraph$$=mxGraph.prototype.panGraph;mxGraph.prototype.panGraph=function $mxGraph$$panGraph$($dx$$,$dy$$){$graphPanGraph$$.apply(this,arguments);this.dialect==mxConstants.DIALECT_SVG||null==this.view.backgroundPageShape||this.useScrollbarsForPanning&&
mxUtils.hasScrollbars(this.container)||(this.view.backgroundPageShape.node.style.marginLeft=$dx$$+"px",this.view.backgroundPageShape.node.style.marginTop=$dy$$+"px")};var $mxPopupMenuAddItem$$=mxPopupMenu.prototype.addItem;mxPopupMenu.prototype.addItem=function $mxPopupMenu$$addItem$($title$$,$image$$,$funct$$,$parent$$,$iconCls$$,$enabled$$){var $result$$=$mxPopupMenuAddItem$$.apply(this,arguments);null==$enabled$$||$enabled$$||mxEvent.addListener($result$$,"mousedown",function($evt$$){mxEvent.consume($evt$$)});
return $result$$};var $graphHandlerGetInitialCellForEvent$$=mxGraphHandler.prototype.getInitialCellForEvent;mxGraphHandler.prototype.getInitialCellForEvent=function $mxGraphHandler$$getInitialCellForEvent$($me$$){var $model$$=this.graph.getModel(),$psel$$=$model$$.getParent(this.graph.getSelectionCell()),$cell$$=$graphHandlerGetInitialCellForEvent$$.apply(this,arguments),$parent$$=$model$$.getParent($cell$$);if(null==$psel$$||$psel$$!=$cell$$&&$psel$$!=$parent$$)for(;!this.graph.isCellSelected($cell$$)&&
!this.graph.isCellSelected($parent$$)&&$model$$.isVertex($parent$$)&&!this.graph.isContainer($parent$$);)$cell$$=$parent$$,$parent$$=this.graph.getModel().getParent($cell$$);return $cell$$};var $graphHandlerIsDelayedSelection$$=mxGraphHandler.prototype.isDelayedSelection;mxGraphHandler.prototype.isDelayedSelection=function $mxGraphHandler$$isDelayedSelection$($cell$$,$me$$){var $result$$=$graphHandlerIsDelayedSelection$$.apply(this,arguments);if(!$result$$)for(var $model$$=this.graph.getModel(),$parent$$=
$model$$.getParent($cell$$);null!=$parent$$;){if(this.graph.isCellSelected($parent$$)&&$model$$.isVertex($parent$$)){$result$$=!0;break}$parent$$=$model$$.getParent($parent$$)}return $result$$};mxGraphHandler.prototype.selectDelayed=function $mxGraphHandler$$selectDelayed$($me$$){if(!this.graph.popupMenuHandler.isPopupTrigger($me$$)){var $cell$$=$me$$.getCell();null==$cell$$&&($cell$$=this.cell);var $model$jscomp$5_state$$=this.graph.view.getState($cell$$);if(null==$model$jscomp$5_state$$||!$me$$.isSource($model$jscomp$5_state$$.control))for(var $model$jscomp$5_state$$=
this.graph.getModel(),$parent$$=$model$jscomp$5_state$$.getParent($cell$$);!this.graph.isCellSelected($parent$$)&&$model$jscomp$5_state$$.isVertex($parent$$);)$cell$$=$parent$$,$parent$$=$model$jscomp$5_state$$.getParent($cell$$);this.graph.selectCellForEvent($cell$$,$me$$.getEvent())}};mxPopupMenuHandler.prototype.getCellForPopupEvent=function $mxPopupMenuHandler$$getCellForPopupEvent$($cell$jscomp$3_me$$){$cell$jscomp$3_me$$=$cell$jscomp$3_me$$.getCell();for(var $model$$=this.graph.getModel(),$parent$$=
$model$$.getParent($cell$jscomp$3_me$$);$model$$.isVertex($parent$$)&&!this.graph.isContainer($parent$$);)this.graph.isCellSelected($parent$$)&&($cell$jscomp$3_me$$=$parent$$),$parent$$=$model$$.getParent($parent$$);return $cell$jscomp$3_me$$}})();EditorUi=function $EditorUi$($editor_i$jscomp$9_update$$,$container_j_linkHandler_root$$,$lightbox$$){mxEventSource.call(this);this.destroyFunctions=[];this.editor=$editor_i$jscomp$9_update$$||new Editor;this.container=$container_j_linkHandler_root$$||document.body;var $graph$$=this.editor.graph;$graph$$.lightbox=$lightbox$$;$graph$$.useCssTransforms&&(this.lazyZoomDelay=0);mxClient.IS_SVG?mxPopupMenu.prototype.submenuImage="data:image/gif;base64,R0lGODlhCQAJAIAAAP///zMzMyH5BAEAAAAALAAAAAAJAAkAAAIPhI8WebHsHopSOVgb26AAADs=":
(new Image).src=mxPopupMenu.prototype.submenuImage;!mxClient.IS_SVG&&mxConnectionHandler.prototype.connectImage&&((new Image).src=mxConnectionHandler.prototype.connectImage.src);this.editor.chromeless&&!this.editor.editable&&(this.footerHeight=0,$graph$$.isEnabled=function $$graph$$$isEnabled$(){return!1},$graph$$.panningHandler.isForcePanningEvent=function $$graph$$$panningHandler$isForcePanningEvent$($me$$){return!mxEvent.isPopupTrigger($me$$.getEvent())});this.actions=new Actions(this);this.menus=
this.createMenus();this.createDivs();this.createUi();this.refresh();var $textEditing$$=mxUtils.bind(this,function($evt$$){$evt$$=$evt$$||window.event;return $graph$$.isEditing()||$evt$$&&this.isSelectionAllowed($evt$$)});this.container==document.body&&(this.menubarContainer.onselectstart=$textEditing$$,this.menubarContainer.onmousedown=$textEditing$$,this.toolbarContainer.onselectstart=$textEditing$$,this.toolbarContainer.onmousedown=$textEditing$$,this.diagramContainer.onselectstart=$textEditing$$,
this.diagramContainer.onmousedown=$textEditing$$,this.sidebarContainer.onselectstart=$textEditing$$,this.sidebarContainer.onmousedown=$textEditing$$,this.formatContainer.onselectstart=$textEditing$$,this.formatContainer.onmousedown=$textEditing$$,this.footerContainer.onselectstart=$textEditing$$,this.footerContainer.onmousedown=$textEditing$$,this.tabContainer&&(this.tabContainer.onselectstart=$textEditing$$));!this.editor.chromeless||this.editor.editable?($container_j_linkHandler_root$$=function $$container_j_linkHandler_root$$$($evt$$){if($evt$$){var $source$$=
mxEvent.getSource($evt$$);if("A"==$source$$.nodeName)for(;null!=$source$$;){if("geHint"==$source$$.className)return!0;$source$$=$source$$.parentNode}}return $textEditing$$($evt$$)},mxClient.IS_IE&&("undefined"===typeof document.documentMode||9>document.documentMode)?mxEvent.addListener(this.diagramContainer,"contextmenu",$container_j_linkHandler_root$$):this.diagramContainer.oncontextmenu=$container_j_linkHandler_root$$):$graph$$.panningHandler.usePopupTrigger=!1;$graph$$.init(this.diagramContainer);
mxClient.IS_SVG&&$graph$$.view.getDrawPane()&&($container_j_linkHandler_root$$=$graph$$.view.getDrawPane().ownerSVGElement)&&($container_j_linkHandler_root$$.style.position="absolute");this.hoverIcons=this.createHoverIcons();mxEvent.addListener(this.diagramContainer,"mousemove",mxUtils.bind(this,function($evt$$){var $off$$=mxUtils.getOffset(this.diagramContainer);0<mxEvent.getClientX($evt$$)-$off$$.x-this.diagramContainer.clientWidth||0<mxEvent.getClientY($evt$$)-$off$$.y-this.diagramContainer.clientHeight?
this.diagramContainer.setAttribute("title",mxResources.get("panTooltip")):this.diagramContainer.removeAttribute("title")}));var $spaceKeyPressed$$=!1,$hoverIconsIsResetEvent$$=this.hoverIcons.isResetEvent;this.hoverIcons.isResetEvent=function $this$hoverIcons$isResetEvent$($evt$$,$allowShift$$){return $spaceKeyPressed$$||$hoverIconsIsResetEvent$$.apply(this,arguments)};this.keydownHandler=mxUtils.bind(this,function($evt$$){32==$evt$$.which?($spaceKeyPressed$$=!0,this.hoverIcons.reset(),$graph$$.container.style.cursor=
"move",$graph$$.isEditing()||mxEvent.getSource($evt$$)!=$graph$$.container||mxEvent.consume($evt$$)):mxEvent.isConsumed($evt$$)||27!==$evt$$.keyCode||this.hideDialog(null,!0)});mxEvent.addListener(document,"keydown",this.keydownHandler);this.keyupHandler=mxUtils.bind(this,function($evt$$){$graph$$.container.style.cursor="";$spaceKeyPressed$$=!1});mxEvent.addListener(document,"keyup",this.keyupHandler);var $panningHandlerIsForcePanningEvent$$=$graph$$.panningHandler.isForcePanningEvent;$graph$$.panningHandler.isForcePanningEvent=
function $$graph$$$panningHandler$isForcePanningEvent$($me$$){return $panningHandlerIsForcePanningEvent$$.apply(this,arguments)||$spaceKeyPressed$$||mxEvent.isMouseEvent($me$$.getEvent())&&(this.usePopupTrigger||!mxEvent.isPopupTrigger($me$$.getEvent()))&&(!mxEvent.isControlDown($me$$.getEvent())&&mxEvent.isRightMouseButton($me$$.getEvent())||mxEvent.isMiddleMouseButton($me$$.getEvent()))};var $cellEditorIsStopEditingEvent$$=$graph$$.cellEditor.isStopEditingEvent;$graph$$.cellEditor.isStopEditingEvent=
function $$graph$$$cellEditor$isStopEditingEvent$($evt$$){return $cellEditorIsStopEditingEvent$$.apply(this,arguments)||13==$evt$$.keyCode&&(!mxClient.IS_SF&&mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$)||mxClient.IS_SF&&mxEvent.isShiftDown($evt$$))};var $textMode$$=!1,$fontMenu$$=null,$sizeMenu$$=null,$nodes$$=null,$updateToolbar$$=mxUtils.bind(this,function(){if(null!=this.toolbar&&$textMode$$!=$graph$$.cellEditor.isContentEditing()){for(var $node$$=this.toolbar.container.firstChild,
$newNodes$$=[];null!=$node$$;){var $tmp$jscomp$1_tmp2$$=$node$$.nextSibling;0>mxUtils.indexOf(this.toolbar.staticElements,$node$$)&&($node$$.parentNode.removeChild($node$$),$newNodes$$.push($node$$));$node$$=$tmp$jscomp$1_tmp2$$}$node$$=this.toolbar.fontMenu;$tmp$jscomp$1_tmp2$$=this.toolbar.sizeMenu;if(null==$nodes$$)this.toolbar.createTextToolbar();else{for(var $i$$=0;$i$$<$nodes$$.length;$i$$++)this.toolbar.container.appendChild($nodes$$[$i$$]);this.toolbar.fontMenu=$fontMenu$$;this.toolbar.sizeMenu=
$sizeMenu$$}$textMode$$=$graph$$.cellEditor.isContentEditing();$fontMenu$$=$node$$;$sizeMenu$$=$tmp$jscomp$1_tmp2$$;$nodes$$=$newNodes$$}}),$ui$$=this,$cellEditorStartEditing$$=$graph$$.cellEditor.startEditing;$graph$$.cellEditor.startEditing=function $$graph$$$cellEditor$startEditing$(){$cellEditorStartEditing$$.apply(this,arguments);$updateToolbar$$();if($graph$$.cellEditor.isContentEditing()){var $updating$$=!1,$updateCssHandler$$=function $$updateCssHandler$$$(){$updating$$||($updating$$=!0,window.setTimeout(function(){for(var $css_node$$=
$graph$$.getSelectedElement();null!=$css_node$$&&$css_node$$.nodeType!=mxConstants.NODETYPE_ELEMENT;)$css_node$$=$css_node$$.parentNode;if(null!=$css_node$$&&($css_node$$=mxUtils.getCurrentStyle($css_node$$),null!=$css_node$$&&null!=$ui$$.toolbar)){var $ff$$=$css_node$$.fontFamily;"'"==$ff$$.charAt(0)&&($ff$$=$ff$$.substring(1));"'"==$ff$$.charAt($ff$$.length-1)&&($ff$$=$ff$$.substring(0,$ff$$.length-1));$ui$$.toolbar.setFontName($ff$$);$ui$$.toolbar.setFontSize(parseInt($css_node$$.fontSize))}$updating$$=
!1},0))};mxEvent.addListener($graph$$.cellEditor.textarea,"input",$updateCssHandler$$);mxEvent.addListener($graph$$.cellEditor.textarea,"touchend",$updateCssHandler$$);mxEvent.addListener($graph$$.cellEditor.textarea,"mouseup",$updateCssHandler$$);mxEvent.addListener($graph$$.cellEditor.textarea,"keyup",$updateCssHandler$$);$updateCssHandler$$()}};var $cellEditorStopEditing$$=$graph$$.cellEditor.stopEditing;$graph$$.cellEditor.stopEditing=function $$graph$$$cellEditor$stopEditing$($cell$$,$trigger$$){$cellEditorStopEditing$$.apply(this,
arguments);$updateToolbar$$()};$graph$$.container.setAttribute("tabindex","0");$graph$$.container.style.cursor="default";if(window.self===window.top&&null!=$graph$$.container.parentNode)try{$graph$$.container.focus()}catch($e$$){}var $graphFireMouseEvent$$=$graph$$.fireMouseEvent;$graph$$.fireMouseEvent=function $$graph$$$fireMouseEvent$($evtName$$,$me$$,$sender$$){$evtName$$==mxEvent.MOUSE_DOWN&&this.container.focus();$graphFireMouseEvent$$.apply(this,arguments)};$graph$$.popupMenuHandler.autoExpand=
!0;null!=this.menus&&($graph$$.popupMenuHandler.factoryMethod=mxUtils.bind(this,function($menu$$,$cell$$,$evt$$){this.menus.createPopupMenu($menu$$,$cell$$,$evt$$)}));mxEvent.addGestureListeners(document,mxUtils.bind(this,function($evt$$){$graph$$.popupMenuHandler.hideMenu()}));this.keyHandler=this.createKeyHandler($editor_i$jscomp$9_update$$);this.getKeyHandler=function $this$getKeyHandler$(){return keyHandler};var $styles$$="rounded shadow glass dashed dashPattern comic labelBackgroundColor".split(" "),
$connectStyles$$="shape edgeStyle curved rounded elbow comic jumpStyle jumpSize".split(" ");this.setDefaultStyle=function $this$setDefaultStyle$($cell$jscomp$6_values$$){try{var $state$$=$graph$$.view.getState($cell$jscomp$6_values$$);if(null!=$state$$){var $clone_keys$$=$cell$jscomp$6_values$$.clone();$clone_keys$$.style="";var $defaultStyle$$=$graph$$.getCellStyle($clone_keys$$);$cell$jscomp$6_values$$=[];var $clone_keys$$=[],$key$$;for($key$$ in $state$$.style)$defaultStyle$$[$key$$]!=$state$$.style[$key$$]&&
($cell$jscomp$6_values$$.push($state$$.style[$key$$]),$clone_keys$$.push($key$$));for(var $cellStyle_i$$=$graph$$.getModel().getStyle($state$$.cell),$tokens$$=null!=$cellStyle_i$$?$cellStyle_i$$.split(";"):[],$cellStyle_i$$=0;$cellStyle_i$$<$tokens$$.length;$cellStyle_i$$++){var $tmp$$=$tokens$$[$cellStyle_i$$],$pos$$=$tmp$$.indexOf("=");if(0<=$pos$$){$key$$=$tmp$$.substring(0,$pos$$);var $value$$=$tmp$$.substring($pos$$+1);null!=$defaultStyle$$[$key$$]&&"none"==$value$$&&($cell$jscomp$6_values$$.push($value$$),
$clone_keys$$.push($key$$))}}$graph$$.getModel().isEdge($state$$.cell)?$graph$$.currentEdgeStyle={}:$graph$$.currentVertexStyle={};this.fireEvent(new mxEventObject("styleChanged","keys",$clone_keys$$,"values",$cell$jscomp$6_values$$,"cells",[$state$$.cell]))}}catch($e$3$$){this.handleError($e$3$$)}};this.clearDefaultStyle=function $this$clearDefaultStyle$(){$graph$$.currentEdgeStyle=mxUtils.clone($graph$$.defaultEdgeStyle);$graph$$.currentVertexStyle=mxUtils.clone($graph$$.defaultVertexStyle);this.fireEvent(new mxEventObject("styleChanged",
"keys",[],"values",[],"cells",[]))};var $valueStyles$$=["fontFamily","fontSize","fontColor"],$alwaysEdgeStyles$$="edgeStyle startArrow startFill startSize endArrow endFill endSize".split(" "),$keyGroups$$=["startArrow startFill startSize sourcePerimeterSpacing endArrow endFill endSize targetPerimeterSpacing".split(" "),["strokeColor","strokeWidth"],["fillColor","gradientColor"],$valueStyles$$,["opacity"],["align"],["html"]];for($editor_i$jscomp$9_update$$=0;$editor_i$jscomp$9_update$$<$keyGroups$$.length;$editor_i$jscomp$9_update$$++)for($container_j_linkHandler_root$$=
0;$container_j_linkHandler_root$$<$keyGroups$$[$editor_i$jscomp$9_update$$].length;$container_j_linkHandler_root$$++)$styles$$.push($keyGroups$$[$editor_i$jscomp$9_update$$][$container_j_linkHandler_root$$]);for($editor_i$jscomp$9_update$$=0;$editor_i$jscomp$9_update$$<$connectStyles$$.length;$editor_i$jscomp$9_update$$++)0>mxUtils.indexOf($styles$$,$connectStyles$$[$editor_i$jscomp$9_update$$])&&$styles$$.push($connectStyles$$[$editor_i$jscomp$9_update$$]);var $insertHandler$$=function $$insertHandler$$$($cells$$,
$asText$$){var $model$$=$graph$$.getModel();$model$$.beginUpdate();try{if($asText$$)for(var $edge_textStyles$$=$model$$.isEdge($cell$$),$current$$=$edge_textStyles$$?$graph$$.currentEdgeStyle:$graph$$.currentVertexStyle,$edge_textStyles$$=["fontSize","fontFamily","fontColor"],$j$$=0;$j$$<$edge_textStyles$$.length;$j$$++){var $i$jscomp$12_value$$=$current$$[$edge_textStyles$$[$j$$]];null!=$i$jscomp$12_value$$&&$graph$$.setCellStyles($edge_textStyles$$[$j$$],$i$jscomp$12_value$$,$cells$$)}else for($i$jscomp$12_value$$=
0;$i$jscomp$12_value$$<$cells$$.length;$i$jscomp$12_value$$++){for(var $cell$$=$cells$$[$i$jscomp$12_value$$],$cellStyle$$=$model$$.getStyle($cell$$),$tokens$$=null!=$cellStyle$$?$cellStyle$$.split(";"):[],$appliedStyles$$=$styles$$.slice(),$j$$=0;$j$$<$tokens$$.length;$j$$++){var $tmp$$=$tokens$$[$j$$],$pos$$=$tmp$$.indexOf("=");if(0<=$pos$$){var $key$$=$tmp$$.substring(0,$pos$$),$index$$=mxUtils.indexOf($appliedStyles$$,$key$$);0<=$index$$&&$appliedStyles$$.splice($index$$,1);for(var $k$$=0;$k$$<
$keyGroups$$.length;$k$$++){var $group$$=$keyGroups$$[$k$$];if(0<=mxUtils.indexOf($group$$,$key$$))for(var $l$$=0;$l$$<$group$$.length;$l$$++){var $index2$$=mxUtils.indexOf($appliedStyles$$,$group$$[$l$$]);0<=$index2$$&&$appliedStyles$$.splice($index2$$,1)}}}}for(var $current$$=($edge_textStyles$$=$model$$.isEdge($cell$$))?$graph$$.currentEdgeStyle:$graph$$.currentVertexStyle,$newStyle$$=$model$$.getStyle($cell$$),$j$$=0;$j$$<$appliedStyles$$.length;$j$$++){var $key$$=$appliedStyles$$[$j$$],$styleValue$$=
$current$$[$key$$];null==$styleValue$$||"shape"==$key$$&&!$edge_textStyles$$||$edge_textStyles$$&&!(0>mxUtils.indexOf($connectStyles$$,$key$$))||($newStyle$$=mxUtils.setStyle($newStyle$$,$key$$,$styleValue$$))}$model$$.setStyle($cell$$,$newStyle$$)}}finally{$model$$.endUpdate()}};$graph$$.addListener("cellsInserted",function($sender$$,$evt$$){$insertHandler$$($evt$$.getProperty("cells"))});$graph$$.addListener("textInserted",function($sender$$,$evt$$){$insertHandler$$($evt$$.getProperty("cells"),
!0)});$graph$$.connectionHandler.addListener(mxEvent.CONNECT,function($sender$$,$evt$$){var $cells$$=[$evt$$.getProperty("cell")];$evt$$.getProperty("terminalInserted")&&$cells$$.push($evt$$.getProperty("terminal"));$insertHandler$$($cells$$)});this.addListener("styleChanged",mxUtils.bind(this,function($sender$$,$evt$$){var $cells$jscomp$4_keys$$=$evt$$.getProperty("cells"),$vertex$$=!1,$edge$$=!1;if(0<$cells$jscomp$4_keys$$.length)for(var $i$$=0;$i$$<$cells$jscomp$4_keys$$.length&&($vertex$$=$graph$$.getModel().isVertex($cells$jscomp$4_keys$$[$i$$])||
$vertex$$,!($edge$$=$graph$$.getModel().isEdge($cells$jscomp$4_keys$$[$i$$])||$edge$$)||!$vertex$$);$i$$++);else $edge$$=$vertex$$=!0;for(var $cells$jscomp$4_keys$$=$evt$$.getProperty("keys"),$values$$=$evt$$.getProperty("values"),$i$$=0;$i$$<$cells$jscomp$4_keys$$.length;$i$$++){var $common$$=0<=mxUtils.indexOf($valueStyles$$,$cells$jscomp$4_keys$$[$i$$]);if("strokeColor"!=$cells$jscomp$4_keys$$[$i$$]||null!=$values$$[$i$$]&&"none"!=$values$$[$i$$])if(0<=mxUtils.indexOf($connectStyles$$,$cells$jscomp$4_keys$$[$i$$]))$edge$$||
0<=mxUtils.indexOf($alwaysEdgeStyles$$,$cells$jscomp$4_keys$$[$i$$])?null==$values$$[$i$$]?delete $graph$$.currentEdgeStyle[$cells$jscomp$4_keys$$[$i$$]]:$graph$$.currentEdgeStyle[$cells$jscomp$4_keys$$[$i$$]]=$values$$[$i$$]:$vertex$$&&0<=mxUtils.indexOf($styles$$,$cells$jscomp$4_keys$$[$i$$])&&(null==$values$$[$i$$]?delete $graph$$.currentVertexStyle[$cells$jscomp$4_keys$$[$i$$]]:$graph$$.currentVertexStyle[$cells$jscomp$4_keys$$[$i$$]]=$values$$[$i$$]);else if(0<=mxUtils.indexOf($styles$$,$cells$jscomp$4_keys$$[$i$$])){if($vertex$$||
$common$$)null==$values$$[$i$$]?delete $graph$$.currentVertexStyle[$cells$jscomp$4_keys$$[$i$$]]:$graph$$.currentVertexStyle[$cells$jscomp$4_keys$$[$i$$]]=$values$$[$i$$];if($edge$$||$common$$||0<=mxUtils.indexOf($alwaysEdgeStyles$$,$cells$jscomp$4_keys$$[$i$$]))null==$values$$[$i$$]?delete $graph$$.currentEdgeStyle[$cells$jscomp$4_keys$$[$i$$]]:$graph$$.currentEdgeStyle[$cells$jscomp$4_keys$$[$i$$]]=$values$$[$i$$]}}null!=this.toolbar&&(this.toolbar.setFontName($graph$$.currentVertexStyle.fontFamily||
Menus.prototype.defaultFont),this.toolbar.setFontSize($graph$$.currentVertexStyle.fontSize||Menus.prototype.defaultFontSize),null!=this.toolbar.edgeStyleMenu&&(this.toolbar.edgeStyleMenu.getElementsByTagName("div")[0].className="orthogonalEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle&&"1"==$graph$$.currentEdgeStyle.curved?"geSprite geSprite-curved":"straight"==$graph$$.currentEdgeStyle.edgeStyle||"none"==$graph$$.currentEdgeStyle.edgeStyle||null==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-straight":
"entityRelationEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-entity":"elbowEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-"+("vertical"==$graph$$.currentEdgeStyle.elbow?"verticalelbow":"horizontalelbow"):"isometricEdgeStyle"==$graph$$.currentEdgeStyle.edgeStyle?"geSprite geSprite-"+("vertical"==$graph$$.currentEdgeStyle.elbow?"verticalisometric":"horizontalisometric"):"geSprite geSprite-orthogonal"),null!=this.toolbar.edgeShapeMenu&&(this.toolbar.edgeShapeMenu.getElementsByTagName("div")[0].className=
"link"==$graph$$.currentEdgeStyle.shape?"geSprite geSprite-linkedge":"flexArrow"==$graph$$.currentEdgeStyle.shape?"geSprite geSprite-arrow":"arrow"==$graph$$.currentEdgeStyle.shape?"geSprite geSprite-simplearrow":"geSprite geSprite-connection"),null!=this.toolbar.lineStartMenu&&(this.toolbar.lineStartMenu.getElementsByTagName("div")[0].className=this.getCssClassForMarker("start",$graph$$.currentEdgeStyle.shape,$graph$$.currentEdgeStyle[mxConstants.STYLE_STARTARROW],mxUtils.getValue($graph$$.currentEdgeStyle,
"startFill","1"))),null!=this.toolbar.lineEndMenu&&(this.toolbar.lineEndMenu.getElementsByTagName("div")[0].className=this.getCssClassForMarker("end",$graph$$.currentEdgeStyle.shape,$graph$$.currentEdgeStyle[mxConstants.STYLE_ENDARROW],mxUtils.getValue($graph$$.currentEdgeStyle,"endFill","1"))))}));null!=this.toolbar&&($editor_i$jscomp$9_update$$=mxUtils.bind(this,function(){var $ff$$=$graph$$.currentVertexStyle.fontFamily||"Helvetica",$fs$$=String($graph$$.currentVertexStyle.fontSize||"12"),$state$$=
$graph$$.getView().getState($graph$$.getSelectionCell());null!=$state$$&&($ff$$=$state$$.style[mxConstants.STYLE_FONTFAMILY]||$ff$$,$fs$$=$state$$.style[mxConstants.STYLE_FONTSIZE]||$fs$$,10<$ff$$.length&&($ff$$=$ff$$.substring(0,8)+"..."));this.toolbar.setFontName($ff$$);this.toolbar.setFontSize($fs$$)}),$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,$editor_i$jscomp$9_update$$),$graph$$.getModel().addListener(mxEvent.CHANGE,$editor_i$jscomp$9_update$$));$graph$$.addListener(mxEvent.CELLS_ADDED,
function($sender$$,$evt$$){var $cells$$=$evt$$.getProperty("cells"),$parent$$=$evt$$.getProperty("parent");$graph$$.getModel().isLayer($parent$$)&&!$graph$$.isCellVisible($parent$$)&&null!=$cells$$&&0<$cells$$.length&&$graph$$.getModel().setVisible($parent$$,!0)});this.gestureHandler=mxUtils.bind(this,function($evt$$){null!=this.currentMenu&&mxEvent.getSource($evt$$)!=this.currentMenu.div&&this.hideCurrentMenu()});mxEvent.addGestureListeners(document,this.gestureHandler);this.resizeHandler=mxUtils.bind(this,
function(){window.setTimeout(mxUtils.bind(this,function(){null!=this.editor.graph&&this.refresh()}),0)});mxEvent.addListener(window,"resize",this.resizeHandler);this.orientationChangeHandler=mxUtils.bind(this,function(){this.refresh()});mxEvent.addListener(window,"orientationchange",this.orientationChangeHandler);mxClient.IS_IOS&&!window.navigator.standalone&&(this.scrollHandler=mxUtils.bind(this,function(){window.scrollTo(0,0)}),mxEvent.addListener(window,"scroll",this.scrollHandler));this.editor.addListener("resetGraphView",
mxUtils.bind(this,function(){this.resetScrollbars()}));this.addListener("gridEnabledChanged",mxUtils.bind(this,function(){$graph$$.view.validateBackground()}));this.addListener("backgroundColorChanged",mxUtils.bind(this,function(){$graph$$.view.validateBackground()}));$graph$$.addListener("gridSizeChanged",mxUtils.bind(this,function(){$graph$$.isGridEnabled()&&$graph$$.view.validateBackground()}));this.editor.resetGraph();this.init();this.open()};mxUtils.extend(EditorUi,mxEventSource);
EditorUi.compactUi=!0;EditorUi.prototype.splitSize=mxClient.IS_TOUCH||mxClient.IS_POINTER?12:8;EditorUi.prototype.ribbonHeight=17;EditorUi.prototype.menubarHeight=30;EditorUi.prototype.formatEnabled=!0;EditorUi.prototype.formatWidth=240;EditorUi.prototype.toolbarHeight=40;EditorUi.prototype.footerHeight=28;EditorUi.prototype.sidebarFooterHeight=34;EditorUi.prototype.hsplitPosition=640>=screen.width?118:240;EditorUi.prototype.allowAnimation=!0;EditorUi.prototype.lightboxMaxFitScale=2;
EditorUi.prototype.lightboxVerticalDivider=4;EditorUi.prototype.hsplitClickEnabled=!1;
EditorUi.prototype.init=function $EditorUi$$init$(){var $graph$$=this.editor.graph;mxEvent.addListener($graph$$.container,"keydown",mxUtils.bind(this,function($evt$$){this.onKeyDown($evt$$)}));mxEvent.addListener($graph$$.container,"keypress",mxUtils.bind(this,function($evt$$){this.onKeyPress($evt$$)}));this.addUndoListener();$graph$$.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){this.updateActionStates()}));$graph$$.getModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,
function(){this.updateActionStates()}));var $graphSetDefaultParent$$=$graph$$.setDefaultParent,$ui$$=this;this.editor.graph.setDefaultParent=function $this$editor$graph$setDefaultParent$(){$graphSetDefaultParent$$.apply(this,arguments);$ui$$.updateActionStates()};$graph$$.editLink=$ui$$.actions.get("editLink").funct;this.updateActionStates();this.initClipboard();this.initCanvas();null!=this.format&&this.format.init()};
EditorUi.prototype.onKeyDown=function $EditorUi$$onKeyDown$($evt$$){var $graph$$=this.editor.graph;9==$evt$$.which&&$graph$$.isEnabled()&&!mxEvent.isAltDown($evt$$)&&($graph$$.isEditing()?$graph$$.stopEditing(!1):$graph$$.selectCell(!mxEvent.isShiftDown($evt$$)),mxEvent.consume($evt$$))};
EditorUi.prototype.onKeyPress=function $EditorUi$$onKeyPress$($evt$jscomp$62_range$$){var $ce_graph$jscomp$12_sel$$=this.editor.graph;!this.isImmediateEditingEvent($evt$jscomp$62_range$$)||$ce_graph$jscomp$12_sel$$.isEditing()||$ce_graph$jscomp$12_sel$$.isSelectionEmpty()||0===$evt$jscomp$62_range$$.which||mxEvent.isAltDown($evt$jscomp$62_range$$)||mxEvent.isControlDown($evt$jscomp$62_range$$)||mxEvent.isMetaDown($evt$jscomp$62_range$$)||($ce_graph$jscomp$12_sel$$.escape(),$ce_graph$jscomp$12_sel$$.startEditing(),
mxClient.IS_FF&&($ce_graph$jscomp$12_sel$$=$ce_graph$jscomp$12_sel$$.cellEditor,$ce_graph$jscomp$12_sel$$.textarea.innerHTML=String.fromCharCode($evt$jscomp$62_range$$.which),$evt$jscomp$62_range$$=document.createRange(),$evt$jscomp$62_range$$.selectNodeContents($ce_graph$jscomp$12_sel$$.textarea),$evt$jscomp$62_range$$.collapse(!1),$ce_graph$jscomp$12_sel$$=window.getSelection(),$ce_graph$jscomp$12_sel$$.removeAllRanges(),$ce_graph$jscomp$12_sel$$.addRange($evt$jscomp$62_range$$)))};
EditorUi.prototype.isImmediateEditingEvent=function $EditorUi$$isImmediateEditingEvent$($evt$$){return!0};
EditorUi.prototype.getCssClassForMarker=function $EditorUi$$getCssClassForMarker$($prefix$$,$shape$$,$marker$$,$fill$$){return"flexArrow"==$shape$$?null!=$marker$$&&$marker$$!=mxConstants.NONE?"geSprite geSprite-"+$prefix$$+"blocktrans":"geSprite geSprite-noarrow":$marker$$==mxConstants.ARROW_CLASSIC?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"classic":"geSprite geSprite-"+$prefix$$+"classictrans":$marker$$==mxConstants.ARROW_CLASSIC_THIN?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"classicthin":
"geSprite geSprite-"+$prefix$$+"classicthintrans":$marker$$==mxConstants.ARROW_OPEN?"geSprite geSprite-"+$prefix$$+"open":$marker$$==mxConstants.ARROW_OPEN_THIN?"geSprite geSprite-"+$prefix$$+"openthin":$marker$$==mxConstants.ARROW_BLOCK?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"block":"geSprite geSprite-"+$prefix$$+"blocktrans":$marker$$==mxConstants.ARROW_BLOCK_THIN?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"blockthin":"geSprite geSprite-"+$prefix$$+"blockthintrans":$marker$$==mxConstants.ARROW_OVAL?
"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"oval":"geSprite geSprite-"+$prefix$$+"ovaltrans":$marker$$==mxConstants.ARROW_DIAMOND?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"diamond":"geSprite geSprite-"+$prefix$$+"diamondtrans":$marker$$==mxConstants.ARROW_DIAMOND_THIN?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"thindiamond":"geSprite geSprite-"+$prefix$$+"thindiamondtrans":"openAsync"==$marker$$?"geSprite geSprite-"+$prefix$$+"openasync":"dash"==$marker$$?"geSprite geSprite-"+$prefix$$+"dash":
"cross"==$marker$$?"geSprite geSprite-"+$prefix$$+"cross":"async"==$marker$$?"1"==$fill$$?"geSprite geSprite-"+$prefix$$+"async":"geSprite geSprite-"+$prefix$$+"asynctrans":"circle"==$marker$$||"circlePlus"==$marker$$?"1"==$fill$$||"circle"==$marker$$?"geSprite geSprite-"+$prefix$$+"circle":"geSprite geSprite-"+$prefix$$+"circleplus":"ERone"==$marker$$?"geSprite geSprite-"+$prefix$$+"erone":"ERmandOne"==$marker$$?"geSprite geSprite-"+$prefix$$+"eronetoone":"ERmany"==$marker$$?"geSprite geSprite-"+
$prefix$$+"ermany":"ERoneToMany"==$marker$$?"geSprite geSprite-"+$prefix$$+"eronetomany":"ERzeroToOne"==$marker$$?"geSprite geSprite-"+$prefix$$+"eroneopt":"ERzeroToMany"==$marker$$?"geSprite geSprite-"+$prefix$$+"ermanyopt":"geSprite geSprite-noarrow"};EditorUi.prototype.createMenus=function $EditorUi$$createMenus$(){return null};
EditorUi.prototype.updatePasteActionStates=function $EditorUi$$updatePasteActionStates$(){var $graph$$=this.editor.graph,$paste$$=this.actions.get("paste"),$pasteHere$$=this.actions.get("pasteHere");$paste$$.setEnabled(this.editor.graph.cellEditor.isContentEditing()||!mxClipboard.isEmpty()&&$graph$$.isEnabled()&&!$graph$$.isCellLocked($graph$$.getDefaultParent()));$pasteHere$$.setEnabled($paste$$.isEnabled())};
EditorUi.prototype.initClipboard=function $EditorUi$$initClipboard$(){var $ui$$=this,$mxClipboardCut$$=mxClipboard.cut;mxClipboard.cut=function $mxClipboard$cut$($graph$$){$graph$$.cellEditor.isContentEditing()?document.execCommand("cut",!1,null):$mxClipboardCut$$.apply(this,arguments);$ui$$.updatePasteActionStates()};var $mxClipboardCopy$$=mxClipboard.copy;mxClipboard.copy=function $mxClipboard$copy$($graph$$){$graph$$.cellEditor.isContentEditing()?document.execCommand("copy",!1,null):$mxClipboardCopy$$.apply(this,
arguments);$ui$$.updatePasteActionStates()};var $mxClipboardPaste$$=mxClipboard.paste;mxClipboard.paste=function $mxClipboard$paste$($graph$$){var $result$$=null;$graph$$.cellEditor.isContentEditing()?document.execCommand("paste",!1,null):$result$$=$mxClipboardPaste$$.apply(this,arguments);$ui$$.updatePasteActionStates();return $result$$};var $cellEditorStartEditing$$=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function $this$editor$graph$cellEditor$startEditing$(){$cellEditorStartEditing$$.apply(this,
arguments);$ui$$.updatePasteActionStates()};var $cellEditorStopEditing$$=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function $this$editor$graph$cellEditor$stopEditing$($cell$$,$trigger$$){$cellEditorStopEditing$$.apply(this,arguments);$ui$$.updatePasteActionStates()};this.updatePasteActionStates()};EditorUi.prototype.lazyZoomDelay=20;
EditorUi.prototype.initCanvas=function $EditorUi$$initCanvas$(){var $graph$$=this.editor.graph;$graph$$.timerAutoScroll=!0;$graph$$.getPagePadding=function $$graph$$$getPagePadding$(){return new mxPoint(Math.max(0,Math.round(($graph$$.container.offsetWidth-34)/$graph$$.view.scale)),Math.max(0,Math.round(($graph$$.container.offsetHeight-34)/$graph$$.view.scale)))};$graph$$.view.getBackgroundPageBounds=function $$graph$$$view$getBackgroundPageBounds$(){var $layout$$=this.graph.getPageLayout(),$page$$=
this.graph.getPageSize();return new mxRectangle(this.scale*(this.translate.x+$layout$$.x*$page$$.width),this.scale*(this.translate.y+$layout$$.y*$page$$.height),this.scale*$layout$$.width*$page$$.width,this.scale*$layout$$.height*$page$$.height)};$graph$$.getPreferredPageSize=function $$graph$$$getPreferredPageSize$($bounds$$,$size$jscomp$12_width$$,$height$$){$bounds$$=this.getPageLayout();$size$jscomp$12_width$$=this.getPageSize();return new mxRectangle(0,0,$bounds$$.width*$size$jscomp$12_width$$.width,
$bounds$$.height*$size$jscomp$12_width$$.height)};var $resize$$=null,$ui$$=this;if(this.editor.isChromelessView()){this.chromelessResize=$resize$$=mxUtils.bind(this,function($autoscale_ns$$,$dx$$,$cx$$,$cy$$){if(null!=$graph$$.container){$cx$$=null!=$cx$$?$cx$$:0;$cy$$=null!=$cy$$?$cy$$:0;var $bds$$=$graph$$.pageVisible?$graph$$.view.getBackgroundPageBounds():$graph$$.getGraphBounds(),$scroll$$=mxUtils.hasScrollbars($graph$$.container),$st_tr$$=$graph$$.view.translate,$s$$=$graph$$.view.scale,$b$$=
mxRectangle.fromRectangle($bds$$);$b$$.x=$b$$.x/$s$$-$st_tr$$.x;$b$$.y=$b$$.y/$s$$-$st_tr$$.y;$b$$.width/=$s$$;$b$$.height/=$s$$;var $st_tr$$=$graph$$.container.scrollTop,$sl$$=$graph$$.container.scrollLeft,$ch_sb$$=mxClient.IS_QUIRKS||8<=document.documentMode?20:14;if(8==document.documentMode||9==document.documentMode)$ch_sb$$+=3;var $cw$$=$graph$$.container.offsetWidth-$ch_sb$$,$ch_sb$$=$graph$$.container.offsetHeight-$ch_sb$$;$autoscale_ns$$=$autoscale_ns$$?Math.max(.3,Math.min($dx$$||1,$cw$$/
$b$$.width)):$s$$;$dx$$=($cw$$-$autoscale_ns$$*$b$$.width)/2/$autoscale_ns$$;var $dy$$=0==this.lightboxVerticalDivider?0:($ch_sb$$-$autoscale_ns$$*$b$$.height)/this.lightboxVerticalDivider/$autoscale_ns$$;$scroll$$&&($dx$$=Math.max($dx$$,0),$dy$$=Math.max($dy$$,0));if($scroll$$||$bds$$.width<$cw$$||$bds$$.height<$ch_sb$$)$graph$$.view.scaleAndTranslate($autoscale_ns$$,Math.floor($dx$$-$b$$.x),Math.floor($dy$$-$b$$.y)),$graph$$.container.scrollTop=$st_tr$$*$autoscale_ns$$/$s$$,$graph$$.container.scrollLeft=
$sl$$*$autoscale_ns$$/$s$$;else if(0!=$cx$$||0!=$cy$$)$bds$$=$graph$$.view.translate,$graph$$.view.setTranslate(Math.floor($bds$$.x+$cx$$/$s$$),Math.floor($bds$$.y+$cy$$/$s$$))}});this.chromelessWindowResize=mxUtils.bind(this,function(){this.chromelessResize(!1)});var $autoscaleResize$$=mxUtils.bind(this,function(){this.chromelessWindowResize(!1)});mxEvent.addListener(window,"resize",$autoscaleResize$$);this.destroyFunctions.push(function(){mxEvent.removeListener(window,"resize",$autoscaleResize$$)});
this.editor.addListener("resetGraphView",mxUtils.bind(this,function(){this.chromelessResize(!0)}));this.actions.get("zoomIn").funct=mxUtils.bind(this,function($evt$$){$graph$$.zoomIn();this.chromelessResize(!1)});this.actions.get("zoomOut").funct=mxUtils.bind(this,function($evt$$){$graph$$.zoomOut();this.chromelessResize(!1)});if("0"!=urlParams.toolbar){var $toolbarConfig$$=JSON.parse(decodeURIComponent(urlParams["toolbar-config"]||"{}"));this.chromelessToolbar=document.createElement("div");this.chromelessToolbar.style.position=
"fixed";this.chromelessToolbar.style.overflow="hidden";this.chromelessToolbar.style.boxSizing="border-box";this.chromelessToolbar.style.whiteSpace="nowrap";this.chromelessToolbar.style.backgroundColor="#000000";this.chromelessToolbar.style.padding="10px 10px 8px 10px";this.chromelessToolbar.style.left="50%";mxClient.IS_VML||(mxUtils.setPrefixedStyle(this.chromelessToolbar.style,"borderRadius","20px"),mxUtils.setPrefixedStyle(this.chromelessToolbar.style,"transition","opacity 600ms ease-in-out"));
var $addButton_updateChromelessToolbarPosition$$=mxUtils.bind(this,function(){var $css$$=mxUtils.getCurrentStyle($graph$$.container);this.chromelessToolbar.style.bottom=(null!=$css$$?parseInt($css$$["margin-bottom"]||0):0)+(null!=this.tabContainer?20+parseInt(this.tabContainer.style.height):20)+"px"});this.editor.addListener("resetGraphView",$addButton_updateChromelessToolbarPosition$$);$addButton_updateChromelessToolbarPosition$$();var $btnCount$$=0,$addButton_updateChromelessToolbarPosition$$=mxUtils.bind(this,
function($fn_img$$,$imgSrc$$,$tip$$){$btnCount$$++;var $a$$=document.createElement("span");$a$$.style.paddingLeft="8px";$a$$.style.paddingRight="8px";$a$$.style.cursor="pointer";mxEvent.addListener($a$$,"click",$fn_img$$);null!=$tip$$&&$a$$.setAttribute("title",$tip$$);$fn_img$$=document.createElement("img");$fn_img$$.setAttribute("border","0");$fn_img$$.setAttribute("src",$imgSrc$$);$a$$.appendChild($fn_img$$);this.chromelessToolbar.appendChild($a$$);return $a$$});null!=$toolbarConfig$$.backBtn&&
$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){window.location.href=$toolbarConfig$$.backBtn.url;mxEvent.consume($evt$$)}),Editor.backLargeImage,mxResources.get("back",null,"Back"));var $prevButton$$=$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("previousPage").funct();mxEvent.consume($evt$$)}),Editor.previousLargeImage,mxResources.get("previousPage")),$pageInfo$$=document.createElement("div");$pageInfo$$.style.display=
"inline-block";$pageInfo$$.style.verticalAlign="top";$pageInfo$$.style.fontFamily="Helvetica,Arial";$pageInfo$$.style.marginTop="8px";$pageInfo$$.style.fontSize="14px";$pageInfo$$.style.color="#ffffff";this.chromelessToolbar.appendChild($pageInfo$$);var $nextButton$$=$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("nextPage").funct();mxEvent.consume($evt$$)}),Editor.nextLargeImage,mxResources.get("nextPage")),$updatePageInfo$$=mxUtils.bind(this,function(){null!=
this.pages&&1<this.pages.length&&null!=this.currentPage&&($pageInfo$$.innerHTML="",mxUtils.write($pageInfo$$,mxUtils.indexOf(this.pages,this.currentPage)+1+" / "+this.pages.length))});$prevButton$$.style.paddingLeft="0px";$prevButton$$.style.paddingRight="4px";$nextButton$$.style.paddingLeft="4px";$nextButton$$.style.paddingRight="0px";var $i$$=mxUtils.bind(this,function(){null!=this.pages&&1<this.pages.length&&null!=this.currentPage?($nextButton$$.style.display="",$prevButton$$.style.display="",
$pageInfo$$.style.display="inline-block"):($nextButton$$.style.display="none",$prevButton$$.style.display="none",$pageInfo$$.style.display="none");$updatePageInfo$$()});this.editor.addListener("resetGraphView",$i$$);this.editor.addListener("pageSelected",$updatePageInfo$$);$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){this.actions.get("zoomOut").funct();mxEvent.consume($evt$$)}),Editor.zoomOutLargeImage,mxResources.get("zoomOut")+" (Alt+Mousewheel)");$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,
function($evt$$){this.actions.get("zoomIn").funct();mxEvent.consume($evt$$)}),Editor.zoomInLargeImage,mxResources.get("zoomIn")+" (Alt+Mousewheel)");$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){$graph$$.isLightboxView()?(1==$graph$$.view.scale?this.lightboxFit():$graph$$.zoomTo(1),this.chromelessResize(!1)):this.chromelessResize(!0);mxEvent.consume($evt$$)}),Editor.actualSizeLargeImage,mxResources.get("fit"));var $fadeThread$$=null,$fadeThread2$$=null,$fadeOut$$=
mxUtils.bind(this,function($delay$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),fadeThead=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),fadeThead2=null);$fadeThread$$=window.setTimeout(mxUtils.bind(this,function(){mxUtils.setOpacity(this.chromelessToolbar,0);$fadeThread$$=null;$fadeThread2$$=window.setTimeout(mxUtils.bind(this,function(){this.chromelessToolbar.style.display="none";$fadeThread2$$=null}),600)}),$delay$$||200)}),$fadeIn$$=mxUtils.bind(this,function($opacity$$){null!=
$fadeThread$$&&(window.clearTimeout($fadeThread$$),fadeThead=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),fadeThead2=null);this.chromelessToolbar.style.display="";mxUtils.setOpacity(this.chromelessToolbar,$opacity$$||30)});if("1"==urlParams.layers){this.layersDialog=null;var $layersButton$$=$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){if(null!=this.layersDialog)this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null;
else{this.layersDialog=$graph$$.createLayersDialog();mxEvent.addListener(this.layersDialog,"mouseleave",mxUtils.bind(this,function(){this.layersDialog.parentNode.removeChild(this.layersDialog);this.layersDialog=null}));var $r$$=$layersButton$$.getBoundingClientRect();mxUtils.setPrefixedStyle(this.layersDialog.style,"borderRadius","5px");this.layersDialog.style.position="fixed";this.layersDialog.style.fontFamily="Helvetica,Arial";this.layersDialog.style.backgroundColor="#000000";this.layersDialog.style.width=
"160px";this.layersDialog.style.padding="4px 2px 4px 2px";this.layersDialog.style.color="#ffffff";mxUtils.setOpacity(this.layersDialog,70);this.layersDialog.style.left=$r$$.left+"px";this.layersDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";$r$$=mxUtils.getCurrentStyle(this.editor.graph.container);this.layersDialog.style.zIndex=$r$$.zIndex;document.body.appendChild(this.layersDialog)}mxEvent.consume($evt$$)}),Editor.layersLargeImage,mxResources.get("layers")),
$model$$=$graph$$.getModel();$model$$.addListener(mxEvent.CHANGE,function(){$layersButton$$.style.display=1<$model$$.getChildCount($model$$.root)?"":"none"})}this.addChromelessToolbarItems($addButton_updateChromelessToolbarPosition$$);null==this.editor.editButtonLink&&null==this.editor.editButtonFunc||$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){null!=this.editor.editButtonFunc?this.editor.editButtonFunc():"_blank"==this.editor.editButtonLink?this.editor.editAsNew(this.getEditBlankXml()):
$graph$$.openLink(this.editor.editButtonLink,"editWindow");mxEvent.consume($evt$$)}),Editor.editLargeImage,mxResources.get("edit"));if(null!=this.lightboxToolbarActions)for($i$$=0;$i$$<this.lightboxToolbarActions.length;$i$$++){var $lbAction$$=this.lightboxToolbarActions[$i$$];$addButton_updateChromelessToolbarPosition$$($lbAction$$.fn,$lbAction$$.icon,$lbAction$$.tooltip)}null!=$toolbarConfig$$.refreshBtn&&$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){$toolbarConfig$$.refreshBtn.url?
window.location.href=$toolbarConfig$$.refreshBtn.url:window.location.reload();mxEvent.consume($evt$$)}),Editor.refreshLargeImage,mxResources.get("refresh",null,"Refresh"));null!=$toolbarConfig$$.fullscreenBtn&&window.self!==window.top&&$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){$toolbarConfig$$.fullscreenBtn.url?$graph$$.openLink($toolbarConfig$$.fullscreenBtn.url):$graph$$.openLink(window.location.href);mxEvent.consume($evt$$)}),Editor.fullscreenLargeImage,mxResources.get("openInNewWindow",
null,"Open in New Window"));($toolbarConfig$$.closeBtn&&window.self===window.top||$graph$$.lightbox&&("1"==urlParams.close||this.container!=document.body))&&$addButton_updateChromelessToolbarPosition$$(mxUtils.bind(this,function($evt$$){"1"==urlParams.close||$toolbarConfig$$.closeBtn?window.close():(this.destroy(),mxEvent.consume($evt$$))}),Editor.closeLargeImage,mxResources.get("close")+" (Escape)");this.chromelessToolbar.style.display="none";mxUtils.setPrefixedStyle(this.chromelessToolbar.style,
"transform","translate(-50%,0)");$graph$$.container.appendChild(this.chromelessToolbar);mxEvent.addListener($graph$$.container,mxClient.IS_POINTER?"pointermove":"mousemove",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||(mxEvent.isShiftDown($evt$$)||$fadeIn$$(30),$fadeOut$$())}));mxEvent.addListener(this.chromelessToolbar,mxClient.IS_POINTER?"pointermove":"mousemove",function($evt$$){mxEvent.consume($evt$$)});mxEvent.addListener(this.chromelessToolbar,"mouseenter",mxUtils.bind(this,
function($evt$$){mxEvent.isShiftDown($evt$$)?$fadeOut$$():$fadeIn$$(100)}));mxEvent.addListener(this.chromelessToolbar,"mousemove",mxUtils.bind(this,function($evt$$){mxEvent.isShiftDown($evt$$)?$fadeOut$$():$fadeIn$$(100);mxEvent.consume($evt$$)}));mxEvent.addListener(this.chromelessToolbar,"mouseleave",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||$fadeIn$$(30)}));var $tol$$=$graph$$.getTolerance();$graph$$.addMouseListener({startX:0,startY:0,scrollLeft:0,scrollTop:0,mouseDown:function($sender$$,
$me$$){this.startX=$me$$.getGraphX();this.startY=$me$$.getGraphY();this.scrollLeft=$graph$$.container.scrollLeft;this.scrollTop=$graph$$.container.scrollTop},mouseMove:function($sender$$,$me$$){},mouseUp:function($sender$$,$me$$){mxEvent.isTouchEvent($me$$.getEvent())&&Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&Math.abs(this.startX-$me$$.getGraphX())<$tol$$&&Math.abs(this.startY-$me$$.getGraphY())<$tol$$&&(0<parseFloat($ui$$.chromelessToolbar.style.opacity||
0)?$fadeOut$$():$fadeIn$$(30))}})}this.editor.editable||this.addChromelessClickHandler()}else if(this.editor.extendCanvas){var $graphViewValidate$$=$graph$$.view.validate;$graph$$.view.validate=function $$graph$$$view$validate$(){if(null!=this.graph.container&&mxUtils.hasScrollbars(this.graph.container)){var $pad$$=this.graph.getPagePadding(),$size$$=this.graph.getPageSize();this.translate.x=$pad$$.x-(this.x0||0)*$size$$.width;this.translate.y=$pad$$.y-(this.y0||0)*$size$$.height}$graphViewValidate$$.apply(this,
arguments)};var $graphSizeDidChange$$=$graph$$.sizeDidChange;$graph$$.sizeDidChange=function $$graph$$$sizeDidChange$(){if(null!=this.container&&mxUtils.hasScrollbars(this.container)){var $pages$jscomp$1_tx$$=this.getPageLayout(),$dy$jscomp$7_pad$$=this.getPagePadding(),$size$jscomp$14_ty$$=this.getPageSize(),$dx$$=Math.ceil(2*$dy$jscomp$7_pad$$.x+$pages$jscomp$1_tx$$.width*$size$jscomp$14_ty$$.width),$minh$$=Math.ceil(2*$dy$jscomp$7_pad$$.y+$pages$jscomp$1_tx$$.height*$size$jscomp$14_ty$$.height),
$min$$=$graph$$.minimumGraphSize;if(null==$min$$||$min$$.width!=$dx$$||$min$$.height!=$minh$$)$graph$$.minimumGraphSize=new mxRectangle(0,0,$dx$$,$minh$$);$dx$$=$dy$jscomp$7_pad$$.x-$pages$jscomp$1_tx$$.x*$size$jscomp$14_ty$$.width;$dy$jscomp$7_pad$$=$dy$jscomp$7_pad$$.y-$pages$jscomp$1_tx$$.y*$size$jscomp$14_ty$$.height;this.autoTranslate||this.view.translate.x==$dx$$&&this.view.translate.y==$dy$jscomp$7_pad$$?$graphSizeDidChange$$.apply(this,arguments):(this.autoTranslate=!0,this.view.x0=$pages$jscomp$1_tx$$.x,
this.view.y0=$pages$jscomp$1_tx$$.y,$pages$jscomp$1_tx$$=$graph$$.view.translate.x,$size$jscomp$14_ty$$=$graph$$.view.translate.y,$graph$$.view.setTranslate($dx$$,$dy$jscomp$7_pad$$),$graph$$.container.scrollLeft+=Math.round(($dx$$-$pages$jscomp$1_tx$$)*$graph$$.view.scale),$graph$$.container.scrollTop+=Math.round(($dy$jscomp$7_pad$$-$size$jscomp$14_ty$$)*$graph$$.view.scale),this.autoTranslate=!1)}else this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",this.getGraphBounds()))}}$graph$$.updateZoomTimeout=
null;$graph$$.cumulativeZoomFactor=1;var $cursorPosition$$=null;$graph$$.lazyZoom=function $$graph$$$lazyZoom$($zoomIn$$){null!=this.updateZoomTimeout&&window.clearTimeout(this.updateZoomTimeout);$zoomIn$$?.15>this.view.scale*this.cumulativeZoomFactor?this.cumulativeZoomFactor=(this.view.scale+.01)/this.view.scale:(this.cumulativeZoomFactor*=this.zoomFactor,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*20)/20/this.view.scale):.15>=this.view.scale*this.cumulativeZoomFactor?
this.cumulativeZoomFactor=(this.view.scale-.01)/this.view.scale:(this.cumulativeZoomFactor/=this.zoomFactor,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*20)/20/this.view.scale);this.cumulativeZoomFactor=Math.max(.01,Math.min(this.view.scale*this.cumulativeZoomFactor,160)/this.view.scale);this.updateZoomTimeout=window.setTimeout(mxUtils.bind(this,function(){var $offset$$=mxUtils.getOffset($graph$$.container),$dx$$=0,$dy$$=0;null!=$cursorPosition$$&&($dx$$=$graph$$.container.offsetWidth/
2-$cursorPosition$$.x+$offset$$.x,$dy$$=$graph$$.container.offsetHeight/2-$cursorPosition$$.y+$offset$$.y);$offset$$=this.view.scale;this.zoom(this.cumulativeZoomFactor);this.view.scale!=$offset$$&&(null!=$resize$$&&$ui$$.chromelessResize(!1,null,$dx$$*(this.cumulativeZoomFactor-1),$dy$$*(this.cumulativeZoomFactor-1)),!mxUtils.hasScrollbars($graph$$.container)||0==$dx$$&&0==$dy$$||($graph$$.container.scrollLeft-=$dx$$*(this.cumulativeZoomFactor-1),$graph$$.container.scrollTop-=$dy$$*(this.cumulativeZoomFactor-
1)));this.cumulativeZoomFactor=1;this.updateZoomTimeout=null}),this.lazyZoomDelay)};mxEvent.addMouseWheelListener(mxUtils.bind(this,function($evt$$,$up$$){if((null==this.dialogs||0==this.dialogs.length)&&$graph$$.isZoomWheelEvent($evt$$))for(var $source$$=mxEvent.getSource($evt$$);null!=$source$$;){if($source$$==$graph$$.container)return $cursorPosition$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),$graph$$.lazyZoom($up$$),mxEvent.consume($evt$$),!1;$source$$=$source$$.parentNode}}),
$graph$$.container)};EditorUi.prototype.addChromelessToolbarItems=function $EditorUi$$addChromelessToolbarItems$($addButton$$){$addButton$$(mxUtils.bind(this,function($evt$$){this.actions.get("print").funct();mxEvent.consume($evt$$)}),Editor.printLargeImage,mxResources.get("print"))};
EditorUi.prototype.createTemporaryGraph=function $EditorUi$$createTemporaryGraph$($graph$jscomp$18_stylesheet$$){$graph$jscomp$18_stylesheet$$=new Graph(document.createElement("div"),null,null,$graph$jscomp$18_stylesheet$$);$graph$jscomp$18_stylesheet$$.resetViewOnRootChange=!1;$graph$jscomp$18_stylesheet$$.setConnectable(!1);$graph$jscomp$18_stylesheet$$.gridEnabled=!1;$graph$jscomp$18_stylesheet$$.autoScroll=!1;$graph$jscomp$18_stylesheet$$.setTooltips(!1);$graph$jscomp$18_stylesheet$$.setEnabled(!1);
$graph$jscomp$18_stylesheet$$.container.style.visibility="hidden";$graph$jscomp$18_stylesheet$$.container.style.position="absolute";$graph$jscomp$18_stylesheet$$.container.style.overflow="hidden";$graph$jscomp$18_stylesheet$$.container.style.height="1px";$graph$jscomp$18_stylesheet$$.container.style.width="1px";return $graph$jscomp$18_stylesheet$$};
EditorUi.prototype.addChromelessClickHandler=function $EditorUi$$addChromelessClickHandler$(){var $hl$$=urlParams.highlight;null!=$hl$$&&0<$hl$$.length&&($hl$$="#"+$hl$$);this.editor.graph.addClickHandler($hl$$)};EditorUi.prototype.toggleFormatPanel=function $EditorUi$$toggleFormatPanel$($forceHide$$){null!=this.format&&(this.formatWidth=$forceHide$$||0<this.formatWidth?0:240,this.formatContainer.style.display=$forceHide$$||0<this.formatWidth?"":"none",this.refresh(),this.format.refresh(),this.fireEvent(new mxEventObject("formatWidthChanged")))};
EditorUi.prototype.lightboxFit=function $EditorUi$$lightboxFit$($maxHeight$$){if(this.isDiagramEmpty())this.editor.graph.view.setScale(1);else{var $p$$=urlParams.border,$border$$=60;null!=$p$$&&($border$$=parseInt($p$$));this.editor.graph.maxFitScale=this.lightboxMaxFitScale;this.editor.graph.fit($border$$,null,null,null,null,null,$maxHeight$$);this.editor.graph.maxFitScale=null}};
EditorUi.prototype.isDiagramEmpty=function $EditorUi$$isDiagramEmpty$(){var $model$$=this.editor.graph.getModel();return 1===$model$$.getChildCount($model$$.root)&&0===$model$$.getChildCount($model$$.getChildAt($model$$.root,0))};EditorUi.prototype.isSelectionAllowed=function $EditorUi$$isSelectionAllowed$($evt$$){return"SELECT"==mxEvent.getSource($evt$$).nodeName||"INPUT"==mxEvent.getSource($evt$$).nodeName&&mxUtils.isAncestorNode(this.formatContainer,mxEvent.getSource($evt$$))};
EditorUi.prototype.addBeforeUnloadListener=function $EditorUi$$addBeforeUnloadListener$(){window.onbeforeunload=mxUtils.bind(this,function(){if(!this.editor.isChromelessView())return this.onBeforeUnload()})};EditorUi.prototype.onBeforeUnload=function $EditorUi$$onBeforeUnload$(){};
EditorUi.prototype.open=function $EditorUi$$open$(){console.log("EditorUi.prototype.open");if(!App.CSET){try{null!=window.opener&&null!=window.opener.openFile&&window.opener.openFile.setConsumer(mxUtils.bind(this,function($xml$$,$filename$$){try{var $doc$$=mxUtils.parseXml($xml$$);this.editor.setGraphXml($doc$$.documentElement);this.editor.setModified(!1);this.editor.undoManager.clear();null!=$filename$$&&(this.editor.setFilename($filename$$),this.updateDocumentTitle())}catch($e$$){mxUtils.alert(mxResources.get("invalidOrMissingFile")+
": "+$e$$.message)}}))}catch($e$$){}this.editor.graph.view.validate();this.editor.graph.sizeDidChange();this.editor.fireEvent(new mxEventObject("resetGraphView"))}};EditorUi.prototype.setCurrentMenu=function $EditorUi$$setCurrentMenu$($menu$$,$elt$$){this.currentMenuElt=$elt$$;this.currentMenu=$menu$$};EditorUi.prototype.resetCurrentMenu=function $EditorUi$$resetCurrentMenu$(){this.currentMenu=this.currentMenuElt=null};
EditorUi.prototype.hideCurrentMenu=function $EditorUi$$hideCurrentMenu$(){null!=this.currentMenu&&(this.currentMenu.hideMenu(),this.resetCurrentMenu())};EditorUi.prototype.updateDocumentTitle=function $EditorUi$$updateDocumentTitle$(){var $title$$=this.editor.getOrCreateFilename();null!=this.editor.appName&&($title$$+=" - "+this.editor.appName);document.title=$title$$;document.title="CSET Diagram"};EditorUi.prototype.createHoverIcons=function $EditorUi$$createHoverIcons$(){return new HoverIcons(this.editor.graph)};
EditorUi.prototype.redo=function $EditorUi$$redo$(){try{this.editor.graph.isEditing()?document.execCommand("redo",!1,null):this.editor.undoManager.redo()}catch($e$$){}};EditorUi.prototype.undo=function $EditorUi$$undo$(){try{var $graph$$=this.editor.graph;if($graph$$.isEditing()){var $value$$=$graph$$.cellEditor.textarea.innerHTML;document.execCommand("undo",!1,null);$value$$==$graph$$.cellEditor.textarea.innerHTML&&($graph$$.stopEditing(!0),this.editor.undoManager.undo())}else this.editor.undoManager.undo()}catch($e$$){}};
EditorUi.prototype.canRedo=function $EditorUi$$canRedo$(){return this.editor.graph.isEditing()||this.editor.undoManager.canRedo()};EditorUi.prototype.canUndo=function $EditorUi$$canUndo$(){return this.editor.graph.isEditing()||this.editor.undoManager.canUndo()};EditorUi.prototype.getEditBlankXml=function $EditorUi$$getEditBlankXml$(){return mxUtils.getXml(this.editor.getGraphXml())};
EditorUi.prototype.getUrl=function $EditorUi$$getUrl$($href$$){$href$$=null!=$href$$?$href$$:window.location.pathname;var $parms$$=0<$href$$.indexOf("?")?1:0,$key$$;for($key$$ in urlParams)$href$$=0==$parms$$?$href$$+"?":$href$$+"&",$href$$+=$key$$+"="+urlParams[$key$$],$parms$$++;return $href$$};
EditorUi.prototype.setScrollbars=function $EditorUi$$setScrollbars$($dx$jscomp$10_t$jscomp$1_value$$){var $graph$$=this.editor.graph,$dy$jscomp$9_prev$$=$graph$$.container.style.overflow;$graph$$.scrollbars=$dx$jscomp$10_t$jscomp$1_value$$;this.editor.updateGraphComponents();$dy$jscomp$9_prev$$!=$graph$$.container.style.overflow&&("hidden"==$graph$$.container.style.overflow?($dx$jscomp$10_t$jscomp$1_value$$=$graph$$.view.translate,$graph$$.view.setTranslate($dx$jscomp$10_t$jscomp$1_value$$.x-$graph$$.container.scrollLeft/
$graph$$.view.scale,$dx$jscomp$10_t$jscomp$1_value$$.y-$graph$$.container.scrollTop/$graph$$.view.scale),$graph$$.container.scrollLeft=0,$graph$$.container.scrollTop=0,$graph$$.minimumGraphSize=null,$graph$$.sizeDidChange()):($dx$jscomp$10_t$jscomp$1_value$$=$graph$$.view.translate.x,$dy$jscomp$9_prev$$=$graph$$.view.translate.y,$graph$$.view.translate.x=0,$graph$$.view.translate.y=0,$graph$$.sizeDidChange(),$graph$$.container.scrollLeft-=Math.round($dx$jscomp$10_t$jscomp$1_value$$*$graph$$.view.scale),
$graph$$.container.scrollTop-=Math.round($dy$jscomp$9_prev$$*$graph$$.view.scale)));this.fireEvent(new mxEventObject("scrollbarsChanged"))};EditorUi.prototype.hasScrollbars=function $EditorUi$$hasScrollbars$(){return this.editor.graph.scrollbars};
EditorUi.prototype.resetScrollbars=function $EditorUi$$resetScrollbars$(){var $graph$$=this.editor.graph;if(!this.editor.extendCanvas)$graph$$.container.scrollTop=0,$graph$$.container.scrollLeft=0,mxUtils.hasScrollbars($graph$$.container)||$graph$$.view.setTranslate(0,0);else if(!this.editor.isChromelessView())if(mxUtils.hasScrollbars($graph$$.container))if($graph$$.pageVisible){var $b$jscomp$1_bounds$jscomp$5_pad$$=$graph$$.getPagePadding();$graph$$.container.scrollTop=Math.floor($b$jscomp$1_bounds$jscomp$5_pad$$.y-
this.editor.initialTopSpacing)-1;$graph$$.container.scrollLeft=Math.floor(Math.min($b$jscomp$1_bounds$jscomp$5_pad$$.x,($graph$$.container.scrollWidth-$graph$$.container.clientWidth)/2))-1;$b$jscomp$1_bounds$jscomp$5_pad$$=$graph$$.getGraphBounds();0<$b$jscomp$1_bounds$jscomp$5_pad$$.width&&0<$b$jscomp$1_bounds$jscomp$5_pad$$.height&&($b$jscomp$1_bounds$jscomp$5_pad$$.x>$graph$$.container.scrollLeft+.9*$graph$$.container.clientWidth&&($graph$$.container.scrollLeft=Math.min($b$jscomp$1_bounds$jscomp$5_pad$$.x+
$b$jscomp$1_bounds$jscomp$5_pad$$.width-$graph$$.container.clientWidth,$b$jscomp$1_bounds$jscomp$5_pad$$.x-10)),$b$jscomp$1_bounds$jscomp$5_pad$$.y>$graph$$.container.scrollTop+.9*$graph$$.container.clientHeight&&($graph$$.container.scrollTop=Math.min($b$jscomp$1_bounds$jscomp$5_pad$$.y+$b$jscomp$1_bounds$jscomp$5_pad$$.height-$graph$$.container.clientHeight,$b$jscomp$1_bounds$jscomp$5_pad$$.y-10)))}else{var $b$jscomp$1_bounds$jscomp$5_pad$$=$graph$$.getGraphBounds(),$width$$=Math.max($b$jscomp$1_bounds$jscomp$5_pad$$.width,
$graph$$.scrollTileSize.width*$graph$$.view.scale);$graph$$.container.scrollTop=Math.floor(Math.max(0,$b$jscomp$1_bounds$jscomp$5_pad$$.y-Math.max(20,($graph$$.container.clientHeight-Math.max($b$jscomp$1_bounds$jscomp$5_pad$$.height,$graph$$.scrollTileSize.height*$graph$$.view.scale))/4)));$graph$$.container.scrollLeft=Math.floor(Math.max(0,$b$jscomp$1_bounds$jscomp$5_pad$$.x-Math.max(0,($graph$$.container.clientWidth-$width$$)/2)))}else $graph$$.pageVisible?($b$jscomp$1_bounds$jscomp$5_pad$$=$graph$$.view.getBackgroundPageBounds(),
$graph$$.view.setTranslate(Math.floor(Math.max(0,($graph$$.container.clientWidth-$b$jscomp$1_bounds$jscomp$5_pad$$.width)/2)-$b$jscomp$1_bounds$jscomp$5_pad$$.x),Math.floor(Math.max(0,($graph$$.container.clientHeight-$b$jscomp$1_bounds$jscomp$5_pad$$.height)/2)-$b$jscomp$1_bounds$jscomp$5_pad$$.y))):($b$jscomp$1_bounds$jscomp$5_pad$$=$graph$$.getGraphBounds(),$graph$$.view.setTranslate(Math.floor(Math.max(0,Math.max(0,($graph$$.container.clientWidth-$b$jscomp$1_bounds$jscomp$5_pad$$.width)/2)-$b$jscomp$1_bounds$jscomp$5_pad$$.x)),
Math.floor(Math.max(0,Math.max(20,($graph$$.container.clientHeight-$b$jscomp$1_bounds$jscomp$5_pad$$.height)/4))-$b$jscomp$1_bounds$jscomp$5_pad$$.y)))};
EditorUi.prototype.setPageVisible=function $EditorUi$$setPageVisible$($cells$jscomp$6_value$$){var $graph$$=this.editor.graph,$hasScrollbars$$=mxUtils.hasScrollbars($graph$$.container),$tx$$=0,$ty$$=0;$hasScrollbars$$&&($tx$$=$graph$$.view.translate.x*$graph$$.view.scale-$graph$$.container.scrollLeft,$ty$$=$graph$$.view.translate.y*$graph$$.view.scale-$graph$$.container.scrollTop);$graph$$.pageVisible=$cells$jscomp$6_value$$;$graph$$.pageBreaksVisible=$cells$jscomp$6_value$$;$graph$$.preferPageSize=
$cells$jscomp$6_value$$;$graph$$.view.validateBackground();$hasScrollbars$$&&($cells$jscomp$6_value$$=$graph$$.getSelectionCells(),$graph$$.clearSelection(),$graph$$.setSelectionCells($cells$jscomp$6_value$$));$graph$$.sizeDidChange();$hasScrollbars$$&&($graph$$.container.scrollLeft=$graph$$.view.translate.x*$graph$$.view.scale-$tx$$,$graph$$.container.scrollTop=$graph$$.view.translate.y*$graph$$.view.scale-$ty$$);this.fireEvent(new mxEventObject("pageViewChanged"))};
function ChangePageSetup($ui$$,$color$$,$image$$,$format$$){this.ui=$ui$$;this.previousColor=this.color=$color$$;this.previousImage=this.image=$image$$;this.previousFormat=this.format=$format$$;this.ignoreImage=this.ignoreColor=!1}
ChangePageSetup.prototype.execute=function $ChangePageSetup$$execute$(){var $graph$$=this.ui.editor.graph;if(!this.ignoreColor){this.color=this.previousColor;var $tmp$$=$graph$$.background;this.ui.setBackgroundColor(this.previousColor);this.previousColor=$tmp$$}this.ignoreImage||(this.image=this.previousImage,$tmp$$=$graph$$.backgroundImage,this.ui.setBackgroundImage(this.previousImage),this.previousImage=$tmp$$);null!=this.previousFormat&&(this.format=this.previousFormat,$tmp$$=$graph$$.pageFormat,
this.previousFormat.width!=$tmp$$.width||this.previousFormat.height!=$tmp$$.height)&&(this.ui.setPageFormat(this.previousFormat),this.previousFormat=$tmp$$);null!=this.foldingEnabled&&this.foldingEnabled!=this.ui.editor.graph.foldingEnabled&&(this.ui.setFoldingEnabled(this.foldingEnabled),this.foldingEnabled=!this.foldingEnabled)};
(function(){var $codec$$=new mxObjectCodec(new ChangePageSetup,["ui","previousColor","previousImage","previousFormat"]);$codec$$.afterDecode=function $$codec$$$afterDecode$($dec$$,$node$$,$obj$$){$obj$$.previousColor=$obj$$.color;$obj$$.previousImage=$obj$$.image;$obj$$.previousFormat=$obj$$.format;null!=$obj$$.foldingEnabled&&($obj$$.foldingEnabled=!$obj$$.foldingEnabled);return $obj$$};mxCodecRegistry.register($codec$$)})();
EditorUi.prototype.setBackgroundColor=function $EditorUi$$setBackgroundColor$($value$$){this.editor.graph.background=$value$$;this.editor.graph.view.validateBackground();this.fireEvent(new mxEventObject("backgroundColorChanged"))};EditorUi.prototype.setFoldingEnabled=function $EditorUi$$setFoldingEnabled$($value$$){this.editor.graph.foldingEnabled=$value$$;this.editor.graph.view.revalidate();this.fireEvent(new mxEventObject("foldingEnabledChanged"))};
EditorUi.prototype.setPageFormat=function $EditorUi$$setPageFormat$($value$$){this.editor.graph.pageFormat=$value$$;this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct();this.fireEvent(new mxEventObject("pageFormatChanged"))};
EditorUi.prototype.setPageScale=function $EditorUi$$setPageScale$($value$$){this.editor.graph.pageScale=$value$$;this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct();this.fireEvent(new mxEventObject("pageScaleChanged"))};EditorUi.prototype.setGridColor=function $EditorUi$$setGridColor$($value$$){this.editor.graph.view.gridColor=$value$$;this.editor.graph.view.validateBackground();this.fireEvent(new mxEventObject("gridColorChanged"))};
EditorUi.prototype.addUndoListener=function $EditorUi$$addUndoListener$(){var $undo$$=this.actions.get("undo"),$redo$$=this.actions.get("redo"),$undoMgr$$=this.editor.undoManager,$undoListener$$=mxUtils.bind(this,function(){$undo$$.setEnabled(this.canUndo());$redo$$.setEnabled(this.canRedo())});$undoMgr$$.addListener(mxEvent.ADD,$undoListener$$);$undoMgr$$.addListener(mxEvent.UNDO,$undoListener$$);$undoMgr$$.addListener(mxEvent.REDO,$undoListener$$);$undoMgr$$.addListener(mxEvent.CLEAR,$undoListener$$);
var $cellEditorStartEditing$$=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function $this$editor$graph$cellEditor$startEditing$(){$cellEditorStartEditing$$.apply(this,arguments);$undoListener$$()};var $cellEditorStopEditing$$=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function $this$editor$graph$cellEditor$stopEditing$($cell$$,$trigger$$){$cellEditorStopEditing$$.apply(this,arguments);$undoListener$$()};$undoListener$$()};
EditorUi.prototype.updateActionStates=function $EditorUi$$updateActionStates$(){var $graph$$=this.editor.graph,$foldable_selected_unlocked$$=!$graph$$.isSelectionEmpty(),$vertexSelected$$=!1,$edgeSelected_oneVertexSelected$$=!1,$actions_cells$$=$graph$$.getSelectionCells();if(null!=$actions_cells$$)for(var $i$$=0;$i$$<$actions_cells$$.length;$i$$++){var $cell$$=$actions_cells$$[$i$$];$graph$$.getModel().isEdge($cell$$)&&($edgeSelected_oneVertexSelected$$=!0);$graph$$.getModel().isVertex($cell$$)&&
($vertexSelected$$=!0);if($edgeSelected_oneVertexSelected$$&&$vertexSelected$$)break}$actions_cells$$="cut copy bold italic underline delete duplicate editStyle editTooltip editLink backgroundColor borderColor edit toFront toBack lockUnlock solid dashed pasteSize dotted fillColor gradientColor shadow fontColor formattedText rounded toggleRounded sharp strokeColor".split(" ");for($i$$=0;$i$$<$actions_cells$$.length;$i$$++)this.actions.get($actions_cells$$[$i$$]).setEnabled($foldable_selected_unlocked$$);
this.actions.get("setAsDefaultStyle").setEnabled(1==$graph$$.getSelectionCount());this.actions.get("clearWaypoints").setEnabled(!$graph$$.isSelectionEmpty());this.actions.get("copySize").setEnabled(1==$graph$$.getSelectionCount());this.actions.get("turn").setEnabled(!$graph$$.isSelectionEmpty());this.actions.get("curved").setEnabled($edgeSelected_oneVertexSelected$$);this.actions.get("rotation").setEnabled($vertexSelected$$);this.actions.get("wordWrap").setEnabled($vertexSelected$$);this.actions.get("autosize").setEnabled($vertexSelected$$);
$edgeSelected_oneVertexSelected$$=$vertexSelected$$&&1==$graph$$.getSelectionCount();this.actions.get("group").setEnabled(1<$graph$$.getSelectionCount()||$edgeSelected_oneVertexSelected$$&&!$graph$$.isContainer($graph$$.getSelectionCell()));this.actions.get("ungroup").setEnabled(1==$graph$$.getSelectionCount()&&(0<$graph$$.getModel().getChildCount($graph$$.getSelectionCell())||$edgeSelected_oneVertexSelected$$&&$graph$$.isContainer($graph$$.getSelectionCell())));this.actions.get("removeFromGroup").setEnabled($edgeSelected_oneVertexSelected$$&&
$graph$$.getModel().isVertex($graph$$.getModel().getParent($graph$$.getSelectionCell())));$graph$$.view.getState($graph$$.getSelectionCell());this.menus.get("navigation").setEnabled($foldable_selected_unlocked$$||null!=$graph$$.view.currentRoot);this.actions.get("collapsible").setEnabled($vertexSelected$$&&($graph$$.isContainer($graph$$.getSelectionCell())||0<$graph$$.model.getChildCount($graph$$.getSelectionCell())));this.actions.get("home").setEnabled(null!=$graph$$.view.currentRoot);this.actions.get("exitGroup").setEnabled(null!=
$graph$$.view.currentRoot);this.actions.get("enterGroup").setEnabled(1==$graph$$.getSelectionCount()&&$graph$$.isValidRoot($graph$$.getSelectionCell()));$foldable_selected_unlocked$$=1==$graph$$.getSelectionCount()&&$graph$$.isCellFoldable($graph$$.getSelectionCell());this.actions.get("expand").setEnabled($foldable_selected_unlocked$$);this.actions.get("collapse").setEnabled($foldable_selected_unlocked$$);this.actions.get("editLink").setEnabled(1==$graph$$.getSelectionCount());this.actions.get("openLink").setEnabled(1==
$graph$$.getSelectionCount()&&null!=$graph$$.getLinkForCell($graph$$.getSelectionCell()));this.actions.get("guides").setEnabled($graph$$.isEnabled());this.actions.get("grid").setEnabled(!this.editor.chromeless||this.editor.editable);$foldable_selected_unlocked$$=$graph$$.isEnabled()&&!$graph$$.isCellLocked($graph$$.getDefaultParent());this.menus.get("layout").setEnabled($foldable_selected_unlocked$$);this.menus.get("insert").setEnabled($foldable_selected_unlocked$$);this.menus.get("direction").setEnabled($foldable_selected_unlocked$$&&
$vertexSelected$$);this.menus.get("align").setEnabled($foldable_selected_unlocked$$&&$vertexSelected$$&&1<$graph$$.getSelectionCount());this.menus.get("distribute").setEnabled($foldable_selected_unlocked$$&&$vertexSelected$$&&1<$graph$$.getSelectionCount());this.actions.get("selectVertices").setEnabled($foldable_selected_unlocked$$);this.actions.get("selectEdges").setEnabled($foldable_selected_unlocked$$);this.actions.get("selectAll").setEnabled($foldable_selected_unlocked$$);this.actions.get("selectNone").setEnabled($foldable_selected_unlocked$$);
this.updatePasteActionStates()};
EditorUi.prototype.refresh=function $EditorUi$$refresh$($sizeDidChange$$){$sizeDidChange$$=null!=$sizeDidChange$$?$sizeDidChange$$:!0;var $quirks_sidebarHeight$$=mxClient.IS_IE&&(null==document.documentMode||5==document.documentMode),$th_w$$=this.container.clientWidth,$h$$=this.container.clientHeight;this.container==document.body&&($th_w$$=document.body.clientWidth||document.documentElement.clientWidth,$h$$=$quirks_sidebarHeight$$?document.body.clientHeight||document.documentElement.clientHeight:document.documentElement.clientHeight);
var $off$$=0;mxClient.IS_IOS&&!window.navigator.standalone&&window.innerHeight!=document.documentElement.clientHeight&&($off$$=document.documentElement.clientHeight-window.innerHeight,window.scrollTo(0,0));var $effHsplitPosition$$=Math.max(0,Math.min(this.hsplitPosition,$th_w$$-this.splitSize-20)),$tmp$$=0;null!=this.menubar&&(this.menubarContainer.style.height=this.menubarHeight+"px",$tmp$$+=this.menubarHeight);null!=this.toolbar&&(this.toolbarContainer.style.top=this.menubarHeight+this.ribbonHeight+
"px",this.toolbarContainer.style.height=this.toolbarHeight+"px",$tmp$$+=this.toolbarHeight);0<$tmp$$&&!mxClient.IS_QUIRKS&&($tmp$$+=1);var $diagramHeight_sidebarFooterHeight$$=0;if(null!=this.sidebarFooterContainer){var $bottom$$=this.footerHeight+$off$$,$diagramHeight_sidebarFooterHeight$$=Math.max(0,Math.min($h$$-$tmp$$-$bottom$$,this.sidebarFooterHeight));this.sidebarFooterContainer.style.width=$effHsplitPosition$$+"px";this.sidebarFooterContainer.style.height=$diagramHeight_sidebarFooterHeight$$+
"px";this.sidebarFooterContainer.style.bottom=$bottom$$+"px"}$bottom$$=this.format?this.formatWidth:0;this.sidebarContainer.style.top=$tmp$$+this.ribbonHeight+"px";this.sidebarContainer.style.width=$effHsplitPosition$$+"px";this.formatContainer.style.top=$tmp$$+this.ribbonHeight+"px";this.formatContainer.style.width=$bottom$$+"px";this.formatContainer.style.display=null!=this.format?"":"none";this.diagramContainer.style.left=null!=this.hsplit.parentNode?$effHsplitPosition$$+this.splitSize+"px":"0px";
this.diagramContainer.style.top=this.sidebarContainer.style.top;this.footerContainer.style.height=this.footerHeight+"px";this.hsplit.style.top=this.sidebarContainer.style.top;this.hsplit.style.bottom=this.footerHeight+$off$$+"px";this.hsplit.style.left=$effHsplitPosition$$+"px";this.footerContainer.style.display=0==this.footerHeight?"none":"";null!=this.tabContainer&&(this.tabContainer.style.left=this.diagramContainer.style.left);$quirks_sidebarHeight$$?(this.menubarContainer.style.width=$th_w$$+
"px",this.toolbarContainer.style.width=this.menubarContainer.style.width,$quirks_sidebarHeight$$=Math.max(0,$h$$-this.footerHeight-this.menubarHeight-this.toolbarHeight),this.sidebarContainer.style.height=$quirks_sidebarHeight$$-$diagramHeight_sidebarFooterHeight$$+"px",this.formatContainer.style.height=$quirks_sidebarHeight$$+"px",this.diagramContainer.style.width=null!=this.hsplit.parentNode?Math.max(0,$th_w$$-$effHsplitPosition$$-this.splitSize-$bottom$$)+"px":$th_w$$+"px",this.footerContainer.style.width=
this.menubarContainer.style.width,$diagramHeight_sidebarFooterHeight$$=Math.max(0,$h$$-this.footerHeight-this.menubarHeight-this.toolbarHeight),null!=this.tabContainer&&(this.tabContainer.style.width=this.diagramContainer.style.width,this.tabContainer.style.bottom=this.footerHeight+$off$$+"px",$diagramHeight_sidebarFooterHeight$$-=this.tabContainer.clientHeight),this.diagramContainer.style.height=$diagramHeight_sidebarFooterHeight$$+"px",this.hsplit.style.height=$diagramHeight_sidebarFooterHeight$$+
"px"):(0<this.footerHeight&&(this.footerContainer.style.bottom=$off$$+"px"),this.diagramContainer.style.right=$bottom$$+"px",$th_w$$=0,null!=this.tabContainer&&(this.tabContainer.style.bottom=this.footerHeight+$off$$+"px",this.tabContainer.style.right=this.diagramContainer.style.right,$th_w$$=this.tabContainer.clientHeight),this.sidebarContainer.style.bottom=this.footerHeight+$diagramHeight_sidebarFooterHeight$$+$off$$+"px",this.formatContainer.style.bottom=this.footerHeight+$off$$+"px",this.diagramContainer.style.bottom=
this.footerHeight+$off$$+$th_w$$+"px");$sizeDidChange$$&&this.editor.graph.sizeDidChange()};EditorUi.prototype.createTabContainer=function $EditorUi$$createTabContainer$(){return null};
EditorUi.prototype.createDivs=function $EditorUi$$createDivs$(){this.localInstallRibbon=this.createDiv("local-install");this.menubarContainer=this.createDiv("geMenubarContainer");this.toolbarContainer=this.createDiv("geToolbarContainer");this.sidebarContainer=this.createDiv("geSidebarContainer");this.formatContainer=this.createDiv("geSidebarContainer geFormatContainer");this.diagramContainer=this.createDiv("geDiagramContainer");this.footerContainer=this.createDiv("geFooterContainer");this.hsplit=
this.createDiv("geHsplit");this.hsplit.setAttribute("title",mxResources.get("collapseExpand"));"true"!=localStorage.getItem("cset.isLocal")&&(this.ribbonHeight=0);this.menubarContainer.style.top=this.ribbonHeight;this.menubarContainer.style.left="0px";this.menubarContainer.style.right="0px";this.toolbarContainer.style.left="0px";this.toolbarContainer.style.right="0px";this.sidebarContainer.style.left="0px";this.formatContainer.style.right="0px";this.formatContainer.style.zIndex="1";this.diagramContainer.style.right=
(null!=this.format?this.formatWidth:0)+"px";this.footerContainer.style.left="0px";this.footerContainer.style.right="0px";this.footerContainer.style.bottom="0px";this.footerContainer.style.zIndex=mxPopupMenu.prototype.zIndex-2;this.hsplit.style.width=this.splitSize+"px";if(this.sidebarFooterContainer=this.createSidebarFooterContainer())this.sidebarFooterContainer.style.left="0px";this.editor.chromeless?this.diagramContainer.style.border="none":this.tabContainer=this.createTabContainer()};
EditorUi.prototype.createSidebarFooterContainer=function $EditorUi$$createSidebarFooterContainer$(){return null};
EditorUi.prototype.createUi=function $EditorUi$$createUi$(){if(!this.container)throw Error("EditorUi.container cannot be null or undefined.");if(this.menubar=this.editor.chromeless?null:this.menus.createMenubar(this.createDiv("geMenubar")))this.menubarContainer.appendChild(this.menubar.container),this.navbackContainer||(this.navbackContainer=this.createNavBackContainer(),this.menubar.container.appendChild(this.navbackContainer)),this.statusContainer||(this.statusContainer=this.createStatusContainer(),
this.editor.addListener("statusChanged",mxUtils.bind(this,function(){this.setStatusText(this.editor.getStatus())})),this.setStatusText(this.editor.getStatus()),this.menubar.container.appendChild(this.statusContainer)),this.localInstallRibbon.innerHTML="Local Installation",this.container.appendChild(this.localInstallRibbon),this.container.appendChild(this.menubarContainer);(this.sidebar=this.editor.chromeless?null:this.createSidebar(this.sidebarContainer))&&this.container.appendChild(this.sidebarContainer);
(this.format=this.editor.chromeless||!this.formatEnabled?null:this.createFormat(this.formatContainer))&&this.container.appendChild(this.formatContainer);var $footer$$=this.editor.chromeless?null:this.createFooter();$footer$$&&(this.footerContainer.appendChild($footer$$),this.container.appendChild(this.footerContainer));this.sidebar&&this.sidebarFooterContainer&&this.container.appendChild(this.sidebarFooterContainer);this.diagramContainer&&this.container.appendChild(this.diagramContainer);this.tabContainer&&
this.container.appendChild(this.tabContainer);if(this.toolbar=this.editor.chromeless?null:this.createToolbar(this.createDiv("geToolbar")))this.toolbarContainer.appendChild(this.toolbar.container),this.container.appendChild(this.toolbarContainer);this.sidebar&&(this.container.appendChild(this.hsplit),this.addSplitHandler(this.hsplit,!0,0,mxUtils.bind(this,function($value$$){this.hsplitPosition=$value$$;this.refresh()})))};
EditorUi.prototype.createNavBackContainer=function $EditorUi$$createNavBackContainer$(){var $container$$=document.createElement("a");$container$$.className="geItem geNavBack";$container$$.style["float"]="right";$container$$.innerHTML="Return to CSET";$container$$.onclick=function $$container$$$onclick$(){window.history.back()};return $container$$};
EditorUi.prototype.createStatusContainer=function $EditorUi$$createStatusContainer$(){var $container$$=document.createElement("a");$container$$.className="geItem geStatus";420>screen.width&&($container$$.style.maxWidth=Math.max(20,screen.width-320)+"px",$container$$.style.overflow="hidden");return $container$$};EditorUi.prototype.setStatusText=function $EditorUi$$setStatusText$($value$$){this.statusContainer.innerHTML=$value$$};
EditorUi.prototype.createToolbar=function $EditorUi$$createToolbar$($container$$){return new Toolbar(this,$container$$)};EditorUi.prototype.createSidebar=function $EditorUi$$createSidebar$($container$$){return new Sidebar(this,$container$$)};EditorUi.prototype.createFormat=function $EditorUi$$createFormat$($container$$){return new Format(this,$container$$)};EditorUi.prototype.createFooter=function $EditorUi$$createFooter$(){return this.createDiv("geFooter")};
EditorUi.prototype.createDiv=function $EditorUi$$createDiv$($classname$$){var $elt$$=document.createElement("div");$elt$$.className=$classname$$;return $elt$$};
EditorUi.prototype.addSplitHandler=function $EditorUi$$addSplitHandler$($elt$$,$horizontal$$,$dx$$,$onChange$$){function $moveHandler$$($evt$$){if(null!=$start$$){var $pt$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));$onChange$$(Math.max(0,$initial$$+($horizontal$$?$pt$$.x-$start$$.x:$start$$.y-$pt$$.y)-$dx$$));mxEvent.consume($evt$$);$initial$$!=$getValue$$()&&($ignoreClick$$=!0,$last$$=null)}}function $dropHandler$$($evt$$){$moveHandler$$($evt$$);$start$$=$initial$$=null}
var $start$$=null,$initial$$=null,$ignoreClick$$=!0,$last$$=null;mxClient.IS_POINTER&&($elt$$.style.touchAction="none");var $getValue$$=mxUtils.bind(this,function(){var $result$$=parseInt($horizontal$$?$elt$$.style.left:$elt$$.style.bottom);$horizontal$$||($result$$=$result$$+$dx$$-this.footerHeight);return $result$$});mxEvent.addGestureListeners($elt$$,function($evt$$){$start$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));$initial$$=$getValue$$();$ignoreClick$$=!1;mxEvent.consume($evt$$)});
mxEvent.addListener($elt$$,"click",mxUtils.bind(this,function($evt$$){if(!$ignoreClick$$&&this.hsplitClickEnabled){var $next$$=null!=$last$$?$last$$-$dx$$:0;$last$$=$getValue$$();$onChange$$($next$$);mxEvent.consume($evt$$)}}));mxEvent.addGestureListeners(document,null,$moveHandler$$,$dropHandler$$);this.destroyFunctions.push(function(){mxEvent.removeGestureListeners(document,null,$moveHandler$$,$dropHandler$$)})};
EditorUi.prototype.showDialog=function $EditorUi$$showDialog$($elt$$,$w$$,$h$$,$modal$$,$closable$$,$onClose$$,$noScroll$$,$trasparent$$,$onResize$$){this.dialogs=this.dialogs||[];this.editor.graph.tooltipHandler.hideTooltip();this.dialog=new Dialog(this,$elt$$,$w$$,$h$$,$modal$$,$closable$$,$onClose$$,$noScroll$$,$trasparent$$,$onResize$$);this.dialogs.push(this.dialog)};
EditorUi.prototype.hideDialog=function $EditorUi$$hideDialog$($cancel$$,$isEsc$$){if(null!=this.dialogs&&0<this.dialogs.length){var $dlg$$=this.dialogs.pop();0==$dlg$$.close($cancel$$,$isEsc$$)?this.dialogs.push($dlg$$):(this.dialog=0<this.dialogs.length?this.dialogs[this.dialogs.length-1]:null,null==this.dialog&&"hidden"!=this.editor.graph.container.style.visibility&&this.editor.graph.container.focus(),mxUtils.clearSelection(),this.editor.fireEvent(new mxEventObject("hideDialog")))}};
EditorUi.prototype.pickColor=function $EditorUi$$pickColor$($color$jscomp$0$$,$apply$$){var $graph$$=this.editor.graph,$selState$$=$graph$$.cellEditor.saveSelection(),$h$$=226+17*(Math.ceil(ColorDialog.prototype.presetColors.length/12)+Math.ceil(ColorDialog.prototype.defaultColors.length/12)),$dlg$$=new ColorDialog(this,$color$jscomp$0$$||"none",function($color$$){$graph$$.cellEditor.restoreSelection($selState$$);$apply$$($color$$)},function(){$graph$$.cellEditor.restoreSelection($selState$$)});this.showDialog($dlg$$.container,
230,$h$$,!0,!1);$dlg$$.init()};EditorUi.prototype.openFile=function $EditorUi$$openFile$(){window.openFile=new OpenFile(mxUtils.bind(this,function($cancel$$){this.hideDialog($cancel$$)}));this.showDialog((new OpenDialog(this)).container,Editor.useLocalStorage?640:320,Editor.useLocalStorage?480:220,!0,!0,function(){window.openFile=null})};
EditorUi.prototype.extractGraphModelFromHtml=function $EditorUi$$extractGraphModelFromHtml$($data$$){var $result$$=null;try{var $idx$$=$data$$.indexOf("&lt;mxGraphModel ");if(0<=$idx$$){var $idx2$$=$data$$.lastIndexOf("&lt;/mxGraphModel&gt;");$idx2$$>$idx$$&&($result$$=$data$$.substring($idx$$,$idx2$$+21).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\\&quot;/g,'"').replace(/\n/g,""))}}catch($e$$){}return $result$$};
EditorUi.prototype.extractGraphModelFromEvent=function $EditorUi$$extractGraphModelFromEvent$($evt$jscomp$89_provider_xml$$){var $result$$=null,$data$$=null;null!=$evt$jscomp$89_provider_xml$$&&($evt$jscomp$89_provider_xml$$=null!=$evt$jscomp$89_provider_xml$$.dataTransfer?$evt$jscomp$89_provider_xml$$.dataTransfer:$evt$jscomp$89_provider_xml$$.clipboardData,null!=$evt$jscomp$89_provider_xml$$&&(10==document.documentMode||11==document.documentMode?$data$$=$evt$jscomp$89_provider_xml$$.getData("Text"):
($data$$=0<=mxUtils.indexOf($evt$jscomp$89_provider_xml$$.types,"text/html")?$evt$jscomp$89_provider_xml$$.getData("text/html"):null,mxUtils.indexOf($evt$jscomp$89_provider_xml$$.types,null==$data$$||0==$data$$.length)&&($data$$=$evt$jscomp$89_provider_xml$$.getData("text/plain"))),null!=$data$$&&($data$$=Graph.zapGremlins(mxUtils.trim($data$$)),$evt$jscomp$89_provider_xml$$=this.extractGraphModelFromHtml($data$$),null!=$evt$jscomp$89_provider_xml$$&&($data$$=$evt$jscomp$89_provider_xml$$))));null!=
$data$$&&this.isCompatibleString($data$$)&&($result$$=$data$$);return $result$$};EditorUi.prototype.isCompatibleString=function $EditorUi$$isCompatibleString$($data$$){return!1};
EditorUi.prototype.saveFile=function $EditorUi$$saveFile$($dlg$$){$dlg$$||null==this.editor.filename?($dlg$$=new FilenameDialog(this,this.editor.getOrCreateFilename(),mxResources.get("save"),mxUtils.bind(this,function($name$$){this.save($name$$)}),null,mxUtils.bind(this,function($name$$){if(null!=$name$$&&0<$name$$.length)return!0;mxUtils.confirm(mxResources.get("invalidName"));return!1})),this.showDialog($dlg$$.container,300,100,!0,!0),$dlg$$.init()):this.save(this.editor.getOrCreateFilename())};
EditorUi.prototype.save=function $EditorUi$$save$($name$$){if(null!=$name$$){this.editor.graph.isEditing()&&this.editor.graph.stopEditing();var $xml$$=mxUtils.getXml(this.editor.getGraphXml());try{if(Editor.useLocalStorage){if(null!=localStorage.getItem($name$$)&&!mxUtils.confirm(mxResources.get("replaceIt",[$name$$])))return;localStorage.setItem($name$$,$xml$$);this.editor.setStatus(mxUtils.htmlEntities(mxResources.get("saved"))+" "+new Date)}else if($xml$$.length<MAX_REQUEST_SIZE)(new mxXmlRequest(SAVE_URL,
"filename="+encodeURIComponent($name$$)+"&xml="+encodeURIComponent($xml$$))).simulate(document,"_blank");else{mxUtils.alert(mxResources.get("drawingTooLarge"));mxUtils.popup($xml$$);return}this.editor.setModified(!1);this.editor.setFilename($name$$);this.updateDocumentTitle()}catch($e$$){this.editor.setStatus(mxUtils.htmlEntities(mxResources.get("errorSavingFile")))}}};
EditorUi.prototype.executeLayout=function $EditorUi$$executeLayout$($exec_morph$$,$animate$$,$post$$){var $graph$$=this.editor.graph;if($graph$$.isEnabled()){$graph$$.getModel().beginUpdate();try{$exec_morph$$()}catch($e$$){throw $e$$;}finally{this.allowAnimation&&$animate$$&&0>navigator.userAgent.indexOf("Camino")?($exec_morph$$=new mxMorphing($graph$$),$exec_morph$$.addListener(mxEvent.DONE,mxUtils.bind(this,function(){$graph$$.getModel().endUpdate();null!=$post$$&&$post$$()})),$exec_morph$$.startAnimation()):
($graph$$.getModel().endUpdate(),null!=$post$$&&$post$$())}}};
EditorUi.prototype.showImageDialog=function $EditorUi$$showImageDialog$($title$$,$value$$,$fn$$,$cellEditor_ignoreExisting$$){$cellEditor_ignoreExisting$$=this.editor.graph.cellEditor;var $selState$$=$cellEditor_ignoreExisting$$.saveSelection(),$newValue$$=mxUtils.prompt($title$$,$value$$);$cellEditor_ignoreExisting$$.restoreSelection($selState$$);if(null!=$newValue$$&&0<$newValue$$.length){var $img$$=new Image;$img$$.onload=function $$img$$$onload$(){$fn$$($newValue$$,$img$$.width,$img$$.height)};
$img$$.onerror=function $$img$$$onerror$(){$fn$$(null);mxUtils.alert(mxResources.get("fileNotFound"))};$img$$.src=$newValue$$}else $fn$$(null)};EditorUi.prototype.showLinkDialog=function $EditorUi$$showLinkDialog$($dlg$jscomp$3_value$$,$btnLabel$$,$fn$$){$dlg$jscomp$3_value$$=new LinkDialog(this,$dlg$jscomp$3_value$$,$btnLabel$$,$fn$$);this.showDialog($dlg$jscomp$3_value$$.container,420,90,!0,!0);$dlg$jscomp$3_value$$.init()};
EditorUi.prototype.showDataDialog=function $EditorUi$$showDataDialog$($cell$jscomp$11_dlg$$){null!=$cell$jscomp$11_dlg$$&&($cell$jscomp$11_dlg$$=new EditDataDialog(this,$cell$jscomp$11_dlg$$),this.showDialog($cell$jscomp$11_dlg$$.container,480,420,!0,!1,null,!1),$cell$jscomp$11_dlg$$.init())};
EditorUi.prototype.showBackgroundImageDialog=function $EditorUi$$showBackgroundImageDialog$($apply$$){$apply$$=null!=$apply$$?$apply$$:mxUtils.bind(this,function($change$jscomp$2_image$$){$change$jscomp$2_image$$=new ChangePageSetup(this,null,$change$jscomp$2_image$$);$change$jscomp$2_image$$.ignoreColor=!0;this.editor.graph.model.execute($change$jscomp$2_image$$)});var $newValue$$=mxUtils.prompt(mxResources.get("backgroundImage"),"");if(null!=$newValue$$&&0<$newValue$$.length){var $img$$=new Image;
$img$$.onload=function $$img$$$onload$(){$apply$$(new mxImage($newValue$$,$img$$.width,$img$$.height))};$img$$.onerror=function $$img$$$onerror$(){$apply$$(null);mxUtils.alert(mxResources.get("fileNotFound"))};$img$$.src=$newValue$$}else $apply$$(null)};EditorUi.prototype.setBackgroundImage=function $EditorUi$$setBackgroundImage$($image$$){this.editor.graph.setBackgroundImage($image$$);this.editor.graph.view.validateBackgroundImage();this.fireEvent(new mxEventObject("backgroundImageChanged"))};
EditorUi.prototype.confirm=function $EditorUi$$confirm$($msg$$,$okFn$$,$cancelFn$$){mxUtils.confirm($msg$$)?null!=$okFn$$&&$okFn$$():null!=$cancelFn$$&&$cancelFn$$()};EditorUi.prototype.createOutline=function $EditorUi$$createOutline$($wnd$$){var $outline$$=new mxOutline(this.editor.graph);$outline$$.border=20;mxEvent.addListener(window,"resize",function(){$outline$$.update()});this.addListener("pageFormatChanged",function(){$outline$$.update()});return $outline$$};
EditorUi.prototype.altShiftActions={67:"clearWaypoints",65:"connectionArrows",76:"editLink",80:"connectionPoints",84:"editTooltip",86:"pasteSize",88:"copySize"};
EditorUi.prototype.createKeyHandler=function $EditorUi$$createKeyHandler$($editor$$){function $nudge$$($keyCode$$,$stepSize$$,$resize$$){$queue$$.push(function(){if(!$graph$$.isSelectionEmpty()&&$graph$$.isEnabled())if($stepSize$$=null!=$stepSize$$?$stepSize$$:1,$resize$$){$graph$$.getModel().beginUpdate();try{for(var $cell$jscomp$12_cells$jscomp$8_dx$$=$graph$$.getSelectionCells(),$dy$jscomp$10_i$jscomp$16_parent$$=0;$dy$jscomp$10_i$jscomp$16_parent$$<$cell$jscomp$12_cells$jscomp$8_dx$$.length;$dy$jscomp$10_i$jscomp$16_parent$$++)if($graph$$.getModel().isVertex($cell$jscomp$12_cells$jscomp$8_dx$$[$dy$jscomp$10_i$jscomp$16_parent$$])&&
$graph$$.isCellResizable($cell$jscomp$12_cells$jscomp$8_dx$$[$dy$jscomp$10_i$jscomp$16_parent$$])){var $geo$jscomp$1_index$jscomp$46_layout$$=$graph$$.getCellGeometry($cell$jscomp$12_cells$jscomp$8_dx$$[$dy$jscomp$10_i$jscomp$16_parent$$]);null!=$geo$jscomp$1_index$jscomp$46_layout$$&&($geo$jscomp$1_index$jscomp$46_layout$$=$geo$jscomp$1_index$jscomp$46_layout$$.clone(),37==$keyCode$$?$geo$jscomp$1_index$jscomp$46_layout$$.width=Math.max(0,$geo$jscomp$1_index$jscomp$46_layout$$.width-$stepSize$$):
38==$keyCode$$?$geo$jscomp$1_index$jscomp$46_layout$$.height=Math.max(0,$geo$jscomp$1_index$jscomp$46_layout$$.height-$stepSize$$):39==$keyCode$$?$geo$jscomp$1_index$jscomp$46_layout$$.width+=$stepSize$$:40==$keyCode$$&&($geo$jscomp$1_index$jscomp$46_layout$$.height+=$stepSize$$),$graph$$.getModel().setGeometry($cell$jscomp$12_cells$jscomp$8_dx$$[$dy$jscomp$10_i$jscomp$16_parent$$],$geo$jscomp$1_index$jscomp$46_layout$$))}}finally{$graph$$.getModel().endUpdate()}}else $cell$jscomp$12_cells$jscomp$8_dx$$=
$graph$$.getSelectionCell(),$dy$jscomp$10_i$jscomp$16_parent$$=$graph$$.model.getParent($cell$jscomp$12_cells$jscomp$8_dx$$),$geo$jscomp$1_index$jscomp$46_layout$$=null,1==$graph$$.getSelectionCount()&&$graph$$.model.isVertex($cell$jscomp$12_cells$jscomp$8_dx$$)&&null!=$graph$$.layoutManager&&!$graph$$.isCellLocked($cell$jscomp$12_cells$jscomp$8_dx$$)&&($geo$jscomp$1_index$jscomp$46_layout$$=$graph$$.layoutManager.getLayout($dy$jscomp$10_i$jscomp$16_parent$$)),null!=$geo$jscomp$1_index$jscomp$46_layout$$&&
$geo$jscomp$1_index$jscomp$46_layout$$.constructor==mxStackLayout?($geo$jscomp$1_index$jscomp$46_layout$$=$dy$jscomp$10_i$jscomp$16_parent$$.getIndex($cell$jscomp$12_cells$jscomp$8_dx$$),37==$keyCode$$||38==$keyCode$$?$graph$$.model.add($dy$jscomp$10_i$jscomp$16_parent$$,$cell$jscomp$12_cells$jscomp$8_dx$$,Math.max(0,$geo$jscomp$1_index$jscomp$46_layout$$-1)):39!=$keyCode$$&&40!=$keyCode$$||$graph$$.model.add($dy$jscomp$10_i$jscomp$16_parent$$,$cell$jscomp$12_cells$jscomp$8_dx$$,Math.min($graph$$.model.getChildCount($dy$jscomp$10_i$jscomp$16_parent$$),
$geo$jscomp$1_index$jscomp$46_layout$$+1))):($dy$jscomp$10_i$jscomp$16_parent$$=$cell$jscomp$12_cells$jscomp$8_dx$$=0,37==$keyCode$$?$cell$jscomp$12_cells$jscomp$8_dx$$=-$stepSize$$:38==$keyCode$$?$dy$jscomp$10_i$jscomp$16_parent$$=-$stepSize$$:39==$keyCode$$?$cell$jscomp$12_cells$jscomp$8_dx$$=$stepSize$$:40==$keyCode$$&&($dy$jscomp$10_i$jscomp$16_parent$$=$stepSize$$),$graph$$.moveCells($graph$$.getMovableCells($graph$$.getSelectionCells()),$cell$jscomp$12_cells$jscomp$8_dx$$,$dy$jscomp$10_i$jscomp$16_parent$$))});
null!=$thread$$&&window.clearTimeout($thread$$);$thread$$=window.setTimeout(function(){if(0<$queue$$.length){$graph$$.getModel().beginUpdate();try{for(var $i$$=0;$i$$<$queue$$.length;$i$$++)$queue$$[$i$$]();$queue$$=[]}finally{$graph$$.getModel().endUpdate()}$graph$$.scrollCellToVisible($graph$$.getSelectionCell())}},200)}var $editorUi$$=this,$graph$$=this.editor.graph,$keyHandler$$=new mxKeyHandler($graph$$),$isEventIgnored$$=$keyHandler$$.isEventIgnored;$keyHandler$$.isEventIgnored=function $$keyHandler$$$isEventIgnored$($evt$$){return(!this.isControlDown($evt$$)||
mxEvent.isShiftDown($evt$$)||90!=$evt$$.keyCode&&89!=$evt$$.keyCode&&188!=$evt$$.keyCode&&190!=$evt$$.keyCode&&85!=$evt$$.keyCode)&&(66!=$evt$$.keyCode&&73!=$evt$$.keyCode||!this.isControlDown($evt$$)||this.graph.cellEditor.isContentEditing()&&!mxClient.IS_FF&&!mxClient.IS_SF)&&$isEventIgnored$$.apply(this,arguments)};$keyHandler$$.isEnabledForEvent=function $$keyHandler$$$isEnabledForEvent$($evt$$){return!mxEvent.isConsumed($evt$$)&&this.isGraphEvent($evt$$)&&this.isEnabled()&&(null==$editorUi$$.dialogs||
0==$editorUi$$.dialogs.length)};$keyHandler$$.isControlDown=function $$keyHandler$$$isControlDown$($evt$$){return mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&$evt$$.metaKey};var $queue$$=[],$thread$$=null,$directions$$={37:mxConstants.DIRECTION_WEST,38:mxConstants.DIRECTION_NORTH,39:mxConstants.DIRECTION_EAST,40:mxConstants.DIRECTION_SOUTH},$keyHandlerGetFunction$$=$keyHandler$$.getFunction;mxKeyHandler.prototype.getFunction=function $mxKeyHandler$$getFunction$($evt$$){if($graph$$.isEnabled()){if(mxEvent.isShiftDown($evt$$)&&
mxEvent.isAltDown($evt$$)){var $action$$=$editorUi$$.actions.get($editorUi$$.altShiftActions[$evt$$.keyCode]);if(null!=$action$$)return $action$$.funct}if(9==$evt$$.keyCode&&mxEvent.isAltDown($evt$$))return mxEvent.isShiftDown($evt$$)?function(){$graph$$.selectParentCell()}:function(){$graph$$.selectChildCell()};if(null!=$directions$$[$evt$$.keyCode]&&!$graph$$.isSelectionEmpty())if(mxEvent.isShiftDown($evt$$)&&mxEvent.isAltDown($evt$$)){if($graph$$.model.isVertex($graph$$.getSelectionCell()))return function(){var $cells$$=
$graph$$.connectVertex($graph$$.getSelectionCell(),$directions$$[$evt$$.keyCode],$graph$$.defaultEdgeLength,$evt$$,!0);null!=$cells$$&&0<$cells$$.length&&(1==$cells$$.length&&$graph$$.model.isEdge($cells$$[0])?$graph$$.setSelectionCell($graph$$.model.getTerminal($cells$$[0],!1)):$graph$$.setSelectionCell($cells$$[$cells$$.length-1]),$graph$$.scrollCellToVisible($graph$$.getSelectionCell()),null!=$editorUi$$.hoverIcons&&$editorUi$$.hoverIcons.update($graph$$.view.getState($graph$$.getSelectionCell())))}}else return this.isControlDown($evt$$)?
function(){$nudge$$($evt$$.keyCode,mxEvent.isShiftDown($evt$$)?$graph$$.gridSize:null,!0)}:function(){$nudge$$($evt$$.keyCode,mxEvent.isShiftDown($evt$$)?$graph$$.gridSize:null)}}return $keyHandlerGetFunction$$.apply(this,arguments)};$keyHandler$$.bindAction=mxUtils.bind(this,function($code$$,$control$$,$f$jscomp$4_key$$,$shift$$){var $action$$=this.actions.get($f$jscomp$4_key$$);null!=$action$$&&($f$jscomp$4_key$$=function $$f$jscomp$4_key$$$(){$action$$.isEnabled()&&$action$$.funct()},$control$$?
$shift$$?$keyHandler$$.bindControlShiftKey($code$$,$f$jscomp$4_key$$):$keyHandler$$.bindControlKey($code$$,$f$jscomp$4_key$$):$shift$$?$keyHandler$$.bindShiftKey($code$$,$f$jscomp$4_key$$):$keyHandler$$.bindKey($code$$,$f$jscomp$4_key$$))});var $keyHandlerEscape$$=$keyHandler$$.escape;$keyHandler$$.escape=function $$keyHandler$$$escape$($evt$$){$keyHandlerEscape$$.apply(this,arguments)};$keyHandler$$.enter=function $$keyHandler$$$enter$(){};$keyHandler$$.bindControlShiftKey(36,function(){$graph$$.exitGroup()});
$keyHandler$$.bindControlShiftKey(35,function(){$graph$$.enterGroup()});$keyHandler$$.bindKey(36,function(){$graph$$.home()});$keyHandler$$.bindKey(35,function(){$graph$$.refresh()});$keyHandler$$.bindAction(107,!0,"zoomIn");$keyHandler$$.bindAction(109,!0,"zoomOut");$keyHandler$$.bindAction(80,!0,"print");$keyHandler$$.bindAction(79,!0,"outline",!0);$keyHandler$$.bindAction(112,!1,"about");if(!this.editor.chromeless||this.editor.editable)$keyHandler$$.bindControlKey(36,function(){$graph$$.isEnabled()&&
$graph$$.foldCells(!0)}),$keyHandler$$.bindControlKey(35,function(){$graph$$.isEnabled()&&$graph$$.foldCells(!1)}),$keyHandler$$.bindControlKey(13,function(){$graph$$.isEnabled()&&$graph$$.setSelectionCells($graph$$.duplicateCells($graph$$.getSelectionCells(),!1))}),$keyHandler$$.bindAction(8,!1,"delete"),$keyHandler$$.bindAction(8,!0,"deleteAll"),$keyHandler$$.bindAction(46,!1,"delete"),$keyHandler$$.bindAction(46,!0,"deleteAll"),$keyHandler$$.bindAction(72,!0,"resetView"),$keyHandler$$.bindAction(72,
!0,"fitWindow",!0),$keyHandler$$.bindAction(74,!0,"fitPage"),$keyHandler$$.bindAction(74,!0,"fitTwoPages",!0),$keyHandler$$.bindAction(48,!0,"customZoom"),$keyHandler$$.bindAction(82,!0,"turn"),$keyHandler$$.bindAction(82,!0,"clearDefaultStyle",!0),$keyHandler$$.bindAction(83,!0,"save"),$keyHandler$$.bindAction(83,!0,"saveAs",!0),$keyHandler$$.bindAction(65,!0,"selectAll"),$keyHandler$$.bindAction(65,!0,"selectNone",!0),$keyHandler$$.bindAction(73,!0,"selectVertices",!0),$keyHandler$$.bindAction(69,
!0,"selectEdges",!0),$keyHandler$$.bindAction(69,!0,"editStyle"),$keyHandler$$.bindAction(66,!0,"bold"),$keyHandler$$.bindAction(66,!0,"toBack",!0),$keyHandler$$.bindAction(70,!0,"toFront",!0),$keyHandler$$.bindAction(68,!0,"duplicate"),$keyHandler$$.bindAction(68,!0,"setAsDefaultStyle",!0),$keyHandler$$.bindAction(90,!0,"undo"),$keyHandler$$.bindAction(89,!0,"autosize",!0),$keyHandler$$.bindAction(88,!0,"cut"),$keyHandler$$.bindAction(67,!0,"copy"),$keyHandler$$.bindAction(86,!0,"paste"),$keyHandler$$.bindAction(71,
!0,"group"),$keyHandler$$.bindAction(71,!0,"grid",!0),$keyHandler$$.bindAction(73,!0,"italic"),$keyHandler$$.bindAction(76,!0,"lockUnlock"),$keyHandler$$.bindAction(76,!0,"layers",!0),$keyHandler$$.bindAction(80,!0,"formatPanel",!0),$keyHandler$$.bindAction(85,!0,"underline"),$keyHandler$$.bindAction(85,!0,"ungroup",!0),$keyHandler$$.bindAction(190,!0,"superscript"),$keyHandler$$.bindAction(188,!0,"subscript"),$keyHandler$$.bindKey(13,function(){$graph$$.isEnabled()&&$graph$$.startEditingAtCell()}),
$keyHandler$$.bindKey(113,function(){$graph$$.isEnabled()&&$graph$$.startEditingAtCell()});mxClient.IS_WIN?$keyHandler$$.bindAction(89,!0,"redo"):$keyHandler$$.bindAction(90,!0,"redo",!0);return $keyHandler$$};
EditorUi.prototype.destroy=function $EditorUi$$destroy$(){null!=this.editor&&(this.editor.destroy(),this.editor=null);null!=this.menubar&&(this.menubar.destroy(),this.menubar=null);null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null);null!=this.sidebar&&(this.sidebar.destroy(),this.sidebar=null);null!=this.keyHandler&&(this.keyHandler.destroy(),this.keyHandler=null);null!=this.keydownHandler&&(mxEvent.removeListener(document,"keydown",this.keydownHandler),this.keydownHandler=null);null!=
this.keyupHandler&&(mxEvent.removeListener(document,"keyup",this.keyupHandler),this.keyupHandler=null);null!=this.resizeHandler&&(mxEvent.removeListener(window,"resize",this.resizeHandler),this.resizeHandler=null);null!=this.gestureHandler&&(mxEvent.removeGestureListeners(document,this.gestureHandler),this.gestureHandler=null);null!=this.orientationChangeHandler&&(mxEvent.removeListener(window,"orientationchange",this.orientationChangeHandler),this.orientationChangeHandler=null);null!=this.scrollHandler&&
(mxEvent.removeListener(window,"scroll",this.scrollHandler),this.scrollHandler=null);if(null!=this.destroyFunctions){for(var $i$$=0;$i$$<this.destroyFunctions.length;$i$$++)this.destroyFunctions[$i$$]();this.destroyFunctions=null}for(var $c$$=[this.menubarContainer,this.toolbarContainer,this.sidebarContainer,this.formatContainer,this.diagramContainer,this.footerContainer,this.chromelessToolbar,this.hsplit,this.sidebarFooterContainer,this.layersDialog],$i$$=0;$i$$<$c$$.length;$i$$++)null!=$c$$[$i$$]&&
null!=$c$$[$i$$].parentNode&&$c$$[$i$$].parentNode.removeChild($c$$[$i$$])};EditorUi.prototype.toggleAnalyzer=function $EditorUi$$toggleAnalyzer$($e$$){$e$$.action.toggleAction&&($e$$.elmt.classList.remove("geSprite-analyze-selected"),$e$$.state&&$e$$.elmt.classList.add("geSprite-analyze-selected"),this.editor&&(this.editor.analyzeDiagram=$e$$.state,CsetUtils.PersistGraphToCSET(this.editor)))};"undefined"!==typeof html4&&(html4.ATTRIBS["a::target"]=0,html4.ATTRIBS["source::src"]=0,html4.ATTRIBS["video::src"]=0);
Date.prototype.toISOString||function(){function $pad$$($number_r$$){$number_r$$=String($number_r$$);1===$number_r$$.length&&($number_r$$="0"+$number_r$$);return $number_r$$}Date.prototype.toISOString=function $Date$$toISOString$(){return this.getUTCFullYear()+"-"+$pad$$(this.getUTCMonth()+1)+"-"+$pad$$(this.getUTCDate())+"T"+$pad$$(this.getUTCHours())+":"+$pad$$(this.getUTCMinutes())+":"+$pad$$(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}}();
mxConstants.SHADOW_OPACITY=.25;mxConstants.SHADOWCOLOR="#000000";mxConstants.VML_SHADOWCOLOR="#d0d0d0";mxGraph.prototype.pageBreakColor="#c0c0c0";mxGraph.prototype.pageScale=1;(function(){try{if(null!=navigator&&null!=navigator.language){var $lang$$=navigator.language.toLowerCase();mxGraph.prototype.pageFormat="en-us"===$lang$$||"en-ca"===$lang$$||"es-mx"===$lang$$?mxConstants.PAGE_FORMAT_LETTER_PORTRAIT:mxConstants.PAGE_FORMAT_A4_PORTRAIT}}catch($e$$){}})();mxText.prototype.baseSpacingTop=5;
mxText.prototype.baseSpacingBottom=1;mxGraphModel.prototype.ignoreRelativeEdgeParent=!1;mxGraphView.prototype.gridImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=":IMAGE_PATH+"/grid.gif";mxGraphView.prototype.gridSteps=4;mxGraphView.prototype.minGridSize=4;mxGraphView.prototype.gridColor="#e0e0e0";mxSvgCanvas2D.prototype.foAltText="[Not supported by viewer]";
mxShape.prototype.getConstraints=function $mxShape$$getConstraints$($style$$,$w$$,$h$$){return null};
Graph=function $Graph$($b$jscomp$2_container$$,$d$jscomp$1_model$jscomp$10_p$$,$renderHint$$,$stylesheet$$,$themes$$){mxGraph.call(this,$b$jscomp$2_container$$,$d$jscomp$1_model$jscomp$10_p$$,$renderHint$$,$stylesheet$$);this.themes=$themes$$||this.defaultThemes;this.currentEdgeStyle=mxUtils.clone(this.defaultEdgeStyle);this.currentVertexStyle=mxUtils.clone(this.defaultVertexStyle);$b$jscomp$2_container$$=this.baseUrl;$d$jscomp$1_model$jscomp$10_p$$=$b$jscomp$2_container$$.indexOf("//");this.domainPathUrl=
this.domainUrl="";0<$d$jscomp$1_model$jscomp$10_p$$&&($d$jscomp$1_model$jscomp$10_p$$=$b$jscomp$2_container$$.indexOf("/",$d$jscomp$1_model$jscomp$10_p$$+2),0<$d$jscomp$1_model$jscomp$10_p$$&&(this.domainUrl=$b$jscomp$2_container$$.substring(0,$d$jscomp$1_model$jscomp$10_p$$)),$d$jscomp$1_model$jscomp$10_p$$=$b$jscomp$2_container$$.lastIndexOf("/"),0<$d$jscomp$1_model$jscomp$10_p$$&&(this.domainPathUrl=$b$jscomp$2_container$$.substring(0,$d$jscomp$1_model$jscomp$10_p$$+1)));this.isHtmlLabel=function $this$isHtmlLabel$($cell$jscomp$13_style$$){var $state$$=
this.view.getState($cell$jscomp$13_style$$);$cell$jscomp$13_style$$=null!=$state$$?$state$$.style:this.getCellStyle($cell$jscomp$13_style$$);return null!=$cell$jscomp$13_style$$?"1"==$cell$jscomp$13_style$$.html||"wrap"==$cell$jscomp$13_style$$[mxConstants.STYLE_WHITE_SPACE]:!1};if(this.edgeMode){var $JSCompiler_object_inline_point_61$$=null,$JSCompiler_object_inline_event_62$$=null,$JSCompiler_object_inline_state_63$$=null,$JSCompiler_object_inline_handle_64$$=null,$JSCompiler_object_inline_selected_65$$=
!1;this.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,function($sender$$,$evt$$){if("mouseDown"==$evt$$.getProperty("eventName")&&this.isEnabled()){var $me$$=$evt$$.getProperty("event");if(!mxEvent.isControlDown($me$$.getEvent())&&!mxEvent.isShiftDown($me$$.getEvent())){var $handler$jscomp$2_state$$=$me$$.getState();null!=$handler$jscomp$2_state$$&&this.model.isEdge($handler$jscomp$2_state$$.cell)&&($JSCompiler_object_inline_point_61$$=new mxPoint($me$$.getGraphX(),$me$$.getGraphY()),$JSCompiler_object_inline_selected_65$$=
this.isCellSelected($handler$jscomp$2_state$$.cell),$JSCompiler_object_inline_state_63$$=$handler$jscomp$2_state$$,$JSCompiler_object_inline_event_62$$=$me$$,null!=$handler$jscomp$2_state$$.text&&null!=$handler$jscomp$2_state$$.text.boundingBox&&mxUtils.contains($handler$jscomp$2_state$$.text.boundingBox,$me$$.getGraphX(),$me$$.getGraphY())?$JSCompiler_object_inline_handle_64$$=mxEvent.LABEL_HANDLE:($handler$jscomp$2_state$$=this.selectionCellsHandler.getHandler($handler$jscomp$2_state$$.cell),null!=
$handler$jscomp$2_state$$&&null!=$handler$jscomp$2_state$$.bends&&0<$handler$jscomp$2_state$$.bends.length&&($JSCompiler_object_inline_handle_64$$=$handler$jscomp$2_state$$.getHandleForEvent($me$$))))}}}));this.addMouseListener({mouseDown:function($sender$$,$me$$){},mouseMove:mxUtils.bind(this,function($sender$$,$me$$){var $handlerMap_state$$=this.selectionCellsHandler.handlers.map,$entity_key$jscomp$30_pts$jscomp$1_tol$$;for($entity_key$jscomp$30_pts$jscomp$1_tol$$ in $handlerMap_state$$)if(null!=
$handlerMap_state$$[$entity_key$jscomp$30_pts$jscomp$1_tol$$].index)return;if(this.isEnabled()&&!this.panningHandler.isActive()&&!mxEvent.isControlDown($me$$.getEvent())&&!mxEvent.isShiftDown($me$$.getEvent())&&!mxEvent.isAltDown($me$$.getEvent()))if($entity_key$jscomp$30_pts$jscomp$1_tol$$=this.tolerance,null!=$JSCompiler_object_inline_point_61$$&&null!=$JSCompiler_object_inline_state_63$$&&null!=$JSCompiler_object_inline_event_62$$){if($handlerMap_state$$=$JSCompiler_object_inline_state_63$$,Math.abs($JSCompiler_object_inline_point_61$$.x-
$me$$.getGraphX())>$entity_key$jscomp$30_pts$jscomp$1_tol$$||Math.abs($JSCompiler_object_inline_point_61$$.y-$me$$.getGraphY())>$entity_key$jscomp$30_pts$jscomp$1_tol$$){this.isCellSelected($handlerMap_state$$.cell)||this.setSelectionCell($handlerMap_state$$.cell);var $cursor_handler$$=this.selectionCellsHandler.getHandler($handlerMap_state$$.cell);if(null!=$cursor_handler$$&&null!=$cursor_handler$$.bends&&0<$cursor_handler$$.bends.length){var $box_handle$$=$cursor_handler$$.getHandleForEvent($JSCompiler_object_inline_event_62$$),
$edgeStyle_idx$jscomp$1_tmp$$=this.view.getEdgeStyle($handlerMap_state$$);$entity_key$jscomp$30_pts$jscomp$1_tol$$=$edgeStyle_idx$jscomp$1_tmp$$==mxEdgeStyle.EntityRelation;$JSCompiler_object_inline_selected_65$$||$JSCompiler_object_inline_handle_64$$!=mxEvent.LABEL_HANDLE||($box_handle$$=$JSCompiler_object_inline_handle_64$$);if($entity_key$jscomp$30_pts$jscomp$1_tol$$&&0!=$box_handle$$&&$box_handle$$!=$cursor_handler$$.bends.length-1&&$box_handle$$!=mxEvent.LABEL_HANDLE)!$entity_key$jscomp$30_pts$jscomp$1_tol$$||
null==$handlerMap_state$$.visibleSourceState&&null==$handlerMap_state$$.visibleTargetState||(this.graphHandler.reset(),$me$$.consume());else if($box_handle$$==mxEvent.LABEL_HANDLE||0==$box_handle$$||null!=$handlerMap_state$$.visibleSourceState||$box_handle$$==$cursor_handler$$.bends.length-1||null!=$handlerMap_state$$.visibleTargetState)$entity_key$jscomp$30_pts$jscomp$1_tol$$||$box_handle$$==mxEvent.LABEL_HANDLE||($entity_key$jscomp$30_pts$jscomp$1_tol$$=$handlerMap_state$$.absolutePoints,null!=
$entity_key$jscomp$30_pts$jscomp$1_tol$$&&(null==$edgeStyle_idx$jscomp$1_tmp$$&&null==$box_handle$$||$edgeStyle_idx$jscomp$1_tmp$$==mxEdgeStyle.OrthConnector)&&($box_handle$$=$JSCompiler_object_inline_handle_64$$,null==$box_handle$$&&($box_handle$$=new mxRectangle($JSCompiler_object_inline_point_61$$.x,$JSCompiler_object_inline_point_61$$.y),$box_handle$$.grow(mxEdgeHandler.prototype.handleImage.width/2),mxUtils.contains($box_handle$$,$entity_key$jscomp$30_pts$jscomp$1_tol$$[0].x,$entity_key$jscomp$30_pts$jscomp$1_tol$$[0].y)?
$box_handle$$=0:mxUtils.contains($box_handle$$,$entity_key$jscomp$30_pts$jscomp$1_tol$$[$entity_key$jscomp$30_pts$jscomp$1_tol$$.length-1].x,$entity_key$jscomp$30_pts$jscomp$1_tol$$[$entity_key$jscomp$30_pts$jscomp$1_tol$$.length-1].y)?$box_handle$$=$cursor_handler$$.bends.length-1:null!=$edgeStyle_idx$jscomp$1_tmp$$&&(2==$entity_key$jscomp$30_pts$jscomp$1_tol$$.length||3==$entity_key$jscomp$30_pts$jscomp$1_tol$$.length&&(0==Math.round($entity_key$jscomp$30_pts$jscomp$1_tol$$[0].x-$entity_key$jscomp$30_pts$jscomp$1_tol$$[1].x)&&
0==Math.round($entity_key$jscomp$30_pts$jscomp$1_tol$$[1].x-$entity_key$jscomp$30_pts$jscomp$1_tol$$[2].x)||0==Math.round($entity_key$jscomp$30_pts$jscomp$1_tol$$[0].y-$entity_key$jscomp$30_pts$jscomp$1_tol$$[1].y)&&0==Math.round($entity_key$jscomp$30_pts$jscomp$1_tol$$[1].y-$entity_key$jscomp$30_pts$jscomp$1_tol$$[2].y)))?$box_handle$$=2:($box_handle$$=mxUtils.findNearestSegment($handlerMap_state$$,$JSCompiler_object_inline_point_61$$.x,$JSCompiler_object_inline_point_61$$.y),$box_handle$$=null==
$edgeStyle_idx$jscomp$1_tmp$$?mxEvent.VIRTUAL_HANDLE-$box_handle$$:$box_handle$$+1))),null==$box_handle$$&&($box_handle$$=mxEvent.VIRTUAL_HANDLE)),$cursor_handler$$.start($me$$.getGraphX(),$me$$.getGraphX(),$box_handle$$),$JSCompiler_object_inline_handle_64$$=$JSCompiler_object_inline_point_61$$=$JSCompiler_object_inline_event_62$$=$JSCompiler_object_inline_state_63$$=null,$JSCompiler_object_inline_selected_65$$=!1,$me$$.consume(),this.graphHandler.reset()}}}else if($handlerMap_state$$=$me$$.getState(),
null!=$handlerMap_state$$&&this.model.isEdge($handlerMap_state$$.cell)){$cursor_handler$$=null;$entity_key$jscomp$30_pts$jscomp$1_tol$$=$handlerMap_state$$.absolutePoints;if(null!=$entity_key$jscomp$30_pts$jscomp$1_tol$$)if($box_handle$$=new mxRectangle($me$$.getGraphX(),$me$$.getGraphY()),$box_handle$$.grow(mxEdgeHandler.prototype.handleImage.width/2),null!=$handlerMap_state$$.text&&null!=$handlerMap_state$$.text.boundingBox&&mxUtils.contains($handlerMap_state$$.text.boundingBox,$me$$.getGraphX(),
$me$$.getGraphY()))$cursor_handler$$="move";else if(mxUtils.contains($box_handle$$,$entity_key$jscomp$30_pts$jscomp$1_tol$$[0].x,$entity_key$jscomp$30_pts$jscomp$1_tol$$[0].y)||mxUtils.contains($box_handle$$,$entity_key$jscomp$30_pts$jscomp$1_tol$$[$entity_key$jscomp$30_pts$jscomp$1_tol$$.length-1].x,$entity_key$jscomp$30_pts$jscomp$1_tol$$[$entity_key$jscomp$30_pts$jscomp$1_tol$$.length-1].y))$cursor_handler$$="pointer";else if(null!=$handlerMap_state$$.visibleSourceState||null!=$handlerMap_state$$.visibleTargetState)$edgeStyle_idx$jscomp$1_tmp$$=
this.view.getEdgeStyle($handlerMap_state$$),$cursor_handler$$="crosshair",$edgeStyle_idx$jscomp$1_tmp$$!=mxEdgeStyle.EntityRelation&&this.isOrthogonal($handlerMap_state$$)&&($edgeStyle_idx$jscomp$1_tmp$$=mxUtils.findNearestSegment($handlerMap_state$$,$me$$.getGraphX(),$me$$.getGraphY()),$edgeStyle_idx$jscomp$1_tmp$$<$entity_key$jscomp$30_pts$jscomp$1_tol$$.length-1&&0<=$edgeStyle_idx$jscomp$1_tmp$$&&($cursor_handler$$=0==Math.round($entity_key$jscomp$30_pts$jscomp$1_tol$$[$edgeStyle_idx$jscomp$1_tmp$$].x-
$entity_key$jscomp$30_pts$jscomp$1_tol$$[$edgeStyle_idx$jscomp$1_tmp$$+1].x)?"col-resize":"row-resize"));null!=$cursor_handler$$&&$handlerMap_state$$.setCursor($cursor_handler$$)}}),mouseUp:mxUtils.bind(this,function($sender$$,$me$$){$JSCompiler_object_inline_handle_64$$=$JSCompiler_object_inline_point_61$$=$JSCompiler_object_inline_event_62$$=$JSCompiler_object_inline_state_63$$=null})})}this.cellRenderer.getLabelValue=function $this$cellRenderer$getLabelValue$($state$$){var $result$$=mxCellRenderer.prototype.getLabelValue.apply(this,
arguments);$state$$.view.graph.isHtmlLabel($state$$.cell)&&($result$$=1!=$state$$.style.html?mxUtils.htmlEntities($result$$,!1):$state$$.view.graph.sanitizeHtml($result$$));return $result$$};if("undefined"!==typeof mxVertexHandler){this.setConnectable(!0);this.setDropEnabled(!0);this.setPanning(!0);this.setTooltips(!0);this.setAllowLoops(!0);this.allowAutoPanning=!0;this.constrainChildren=this.resetEdgesOnConnect=!1;this.constrainRelativeChildren=!0;this.graphHandler.scrollOnMove=!1;this.graphHandler.scaleGrid=
!0;this.connectionHandler.setCreateTarget(!1);this.connectionHandler.insertBeforeSource=!0;this.connectionHandler.isValidSource=function $this$connectionHandler$isValidSource$($cell$$,$me$$){return!1};this.alternateEdgeStyle="vertical";null==$stylesheet$$&&this.loadStylesheet();var $graphHandlerGetGuideStates$$=this.graphHandler.getGuideStates;this.graphHandler.getGuideStates=function $this$graphHandler$getGuideStates$(){var $result$$=$graphHandlerGetGuideStates$$.apply(this,arguments);if(this.graph.pageVisible){for(var $guides$$=
[],$pf$jscomp$3_ph$$=this.graph.pageFormat,$ps$jscomp$3_t$$=this.graph.pageScale,$pw$$=$pf$jscomp$3_ph$$.width*$ps$jscomp$3_t$$,$pf$jscomp$3_ph$$=$pf$jscomp$3_ph$$.height*$ps$jscomp$3_t$$,$ps$jscomp$3_t$$=this.graph.view.translate,$s$$=this.graph.view.scale,$layout$$=this.graph.getPageLayout(),$i$jscomp$19_j$$=0;$i$jscomp$19_j$$<$layout$$.width;$i$jscomp$19_j$$++)$guides$$.push(new mxRectangle((($layout$$.x+$i$jscomp$19_j$$)*$pw$$+$ps$jscomp$3_t$$.x)*$s$$,($layout$$.y*$pf$jscomp$3_ph$$+$ps$jscomp$3_t$$.y)*
$s$$,$pw$$*$s$$,$pf$jscomp$3_ph$$*$s$$));for($i$jscomp$19_j$$=0;$i$jscomp$19_j$$<$layout$$.height;$i$jscomp$19_j$$++)$guides$$.push(new mxRectangle(($layout$$.x*$pw$$+$ps$jscomp$3_t$$.x)*$s$$,(($layout$$.y+$i$jscomp$19_j$$)*$pf$jscomp$3_ph$$+$ps$jscomp$3_t$$.y)*$s$$,$pw$$*$s$$,$pf$jscomp$3_ph$$*$s$$));$result$$=$guides$$.concat($result$$)}return $result$$};mxDragSource.prototype.dragElementZIndex=mxPopupMenu.prototype.zIndex;mxGuide.prototype.getGuideColor=function $mxGuide$$getGuideColor$($state$$,
$horizontal$$){return null==$state$$.cell?"#ffa500":mxConstants.GUIDE_COLOR};this.graphHandler.createPreviewShape=function $this$graphHandler$createPreviewShape$($bounds$$){this.previewColor="#000000"==this.graph.background?"#ffffff":mxGraphHandler.prototype.previewColor;return mxGraphHandler.prototype.createPreviewShape.apply(this,arguments)};this.graphHandler.getCells=function $this$graphHandler$getCells$($initialCell$$){for(var $cells$$=mxGraphHandler.prototype.getCells.apply(this,arguments),$newCells$$=
[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $parent$jscomp$10_state$jscomp$10_style$$=this.graph.view.getState($cells$$[$i$$]),$parent$jscomp$10_state$jscomp$10_style$$=null!=$parent$jscomp$10_state$jscomp$10_style$$?$parent$jscomp$10_state$jscomp$10_style$$.style:this.graph.getCellStyle($cells$$[$i$$]);"1"==mxUtils.getValue($parent$jscomp$10_state$jscomp$10_style$$,"part","0")?($parent$jscomp$10_state$jscomp$10_style$$=this.graph.model.getParent($cells$$[$i$$]),this.graph.model.isVertex($parent$jscomp$10_state$jscomp$10_style$$)&&
0>mxUtils.indexOf($cells$$,$parent$jscomp$10_state$jscomp$10_style$$)&&$newCells$$.push($parent$jscomp$10_state$jscomp$10_style$$)):$newCells$$.push($cells$$[$i$$])}return $newCells$$};this.connectionHandler.createTargetVertex=function $this$connectionHandler$createTargetVertex$($evt$$,$source$$){var $parent$jscomp$11_state$jscomp$11_style$$=this.graph.view.getState($source$$),$parent$jscomp$11_state$jscomp$11_style$$=null!=$parent$jscomp$11_state$jscomp$11_style$$?$parent$jscomp$11_state$jscomp$11_style$$.style:
this.graph.getCellStyle($source$$);mxUtils.getValue($parent$jscomp$11_state$jscomp$11_style$$,"part",!1)&&($parent$jscomp$11_state$jscomp$11_style$$=this.graph.model.getParent($source$$),this.graph.model.isVertex($parent$jscomp$11_state$jscomp$11_style$$)&&($source$$=$parent$jscomp$11_state$jscomp$11_style$$));return mxConnectionHandler.prototype.createTargetVertex.apply(this,arguments)};var $rubberband$$=new mxRubberband(this);this.getRubberband=function $this$getRubberband$(){return $rubberband$$};
var $startTime$$=(new Date).getTime(),$timeOnTarget$$=0,$connectionHandlerMouseMove$$=this.connectionHandler.mouseMove;this.connectionHandler.mouseMove=function $this$connectionHandler$mouseMove$(){var $prev$$=this.currentState;$connectionHandlerMouseMove$$.apply(this,arguments);$prev$$!=this.currentState?($startTime$$=(new Date).getTime(),$timeOnTarget$$=0):$timeOnTarget$$=(new Date).getTime()-$startTime$$};var $connectionHandleIsOutlineConnectEvent$$=this.connectionHandler.isOutlineConnectEvent;
this.connectionHandler.isOutlineConnectEvent=function $this$connectionHandler$isOutlineConnectEvent$($me$$){return null!=this.currentState&&$me$$.getState()==this.currentState&&2E3<$timeOnTarget$$||(null==this.currentState||"0"!=mxUtils.getValue(this.currentState.style,"outlineConnect","1"))&&$connectionHandleIsOutlineConnectEvent$$.apply(this,arguments)};var $isToggleEvent$$=this.isToggleEvent;this.isToggleEvent=function $this$isToggleEvent$($evt$$){return $isToggleEvent$$.apply(this,arguments)||
mxEvent.isShiftDown($evt$$)};var $isForceRubberBandEvent$$=$rubberband$$.isForceRubberbandEvent;$rubberband$$.isForceRubberbandEvent=function $$rubberband$$$isForceRubberbandEvent$($me$$){return $isForceRubberBandEvent$$.apply(this,arguments)||mxUtils.hasScrollbars(this.graph.container)&&mxClient.IS_FF&&mxClient.IS_WIN&&null==$me$$.getState()&&mxEvent.isTouchEvent($me$$.getEvent())};var $prevCursor$$=null;this.panningHandler.addListener(mxEvent.PAN_START,mxUtils.bind(this,function(){this.isEnabled()&&
($prevCursor$$=this.container.style.cursor,this.container.style.cursor="move")}));this.panningHandler.addListener(mxEvent.PAN_END,mxUtils.bind(this,function(){this.isEnabled()&&(this.container.style.cursor=$prevCursor$$)}));this.popupMenuHandler.autoExpand=!0;this.popupMenuHandler.isSelectOnPopup=function $this$popupMenuHandler$isSelectOnPopup$($me$$){return mxEvent.isMouseEvent($me$$.getEvent())};var $click$$=this.click;this.click=function $this$click$($me$$){var $locked$$=null==$me$$.state&&null!=
$me$$.sourceState&&this.isCellLocked($me$$.sourceState.cell);if(this.isEnabled()&&!$locked$$||$me$$.isConsumed())return $click$$.apply(this,arguments);var $cell$$=$locked$$?$me$$.sourceState.cell:$me$$.getCell();null!=$cell$$&&($cell$$=this.getLinkForCell($cell$$),null!=$cell$$&&(this.isCustomLink($cell$$)?this.customLinkClicked($cell$$):this.openLink($cell$$)));this.isEnabled()&&$locked$$&&this.clearSelection()};this.tooltipHandler.getStateForEvent=function $this$tooltipHandler$getStateForEvent$($me$$){return $me$$.sourceState};
this.getCursorForMouseEvent=function $this$getCursorForMouseEvent$($me$$){var $locked$$=null==$me$$.state&&null!=$me$$.sourceState&&this.isCellLocked($me$$.sourceState.cell);return this.getCursorForCell($locked$$?$me$$.sourceState.cell:$me$$.getCell())};var $getCursorForCell$$=this.getCursorForCell;this.getCursorForCell=function $this$getCursorForCell$($cell$$){if(!this.isEnabled()||this.isCellLocked($cell$$)){if(null!=this.getLinkForCell($cell$$))return"pointer";if(this.isCellLocked($cell$$))return"default"}return $getCursorForCell$$.apply(this,
arguments)};this.selectRegion=function $this$selectRegion$($rect$$,$evt$$){var $cells$$=this.getAllCells($rect$$.x,$rect$$.y,$rect$$.width,$rect$$.height);this.selectCellsForEvent($cells$$,$evt$$);return $cells$$};this.getAllCells=function $this$getAllCells$($x$$,$y$$,$width$$,$height$$,$parent$$,$result$$){$result$$=null!=$result$$?$result$$:[];if(0<$width$$||0<$height$$){var $model$$=this.getModel(),$right$$=$x$$+$width$$,$bottom$$=$y$$+$height$$;null==$parent$$&&($parent$$=this.getCurrentRoot(),
null==$parent$$&&($parent$$=$model$$.getRoot()));if(null!=$parent$$)for(var $childCount$$=$model$$.getChildCount($parent$$),$i$$=0;$i$$<$childCount$$;$i$$++){var $cell$$=$model$$.getChildAt($parent$$,$i$$),$box$jscomp$1_state$$=this.view.getState($cell$$);if(null!=$box$jscomp$1_state$$&&this.isCellVisible($cell$$)&&"1"!=mxUtils.getValue($box$jscomp$1_state$$.style,"locked","0")){var $deg$$=mxUtils.getValue($box$jscomp$1_state$$.style,mxConstants.STYLE_ROTATION)||0;0!=$deg$$&&($box$jscomp$1_state$$=
mxUtils.getBoundingBox($box$jscomp$1_state$$,$deg$$));($model$$.isEdge($cell$$)||$model$$.isVertex($cell$$))&&$box$jscomp$1_state$$.x>=$x$$&&$box$jscomp$1_state$$.y+$box$jscomp$1_state$$.height<=$bottom$$&&$box$jscomp$1_state$$.y>=$y$$&&$box$jscomp$1_state$$.x+$box$jscomp$1_state$$.width<=$right$$&&$result$$.push($cell$$);this.getAllCells($x$$,$y$$,$width$$,$height$$,$cell$$,$result$$)}}}return $result$$};var $graphHandlerShouldRemoveCellsFromParent$$=this.graphHandler.shouldRemoveCellsFromParent;
this.graphHandler.shouldRemoveCellsFromParent=function $this$graphHandler$shouldRemoveCellsFromParent$($parent$$,$cells$$,$evt$$){return this.graph.isCellSelected($parent$$)?!1:$graphHandlerShouldRemoveCellsFromParent$$.apply(this,arguments)};this.isCellLocked=function $this$isCellLocked$($cell$$){for($cell$$=this.view.getState($cell$$);null!=$cell$$;){if("1"==mxUtils.getValue($cell$$.style,"locked","0"))return!0;$cell$$=this.view.getState(this.model.getParent($cell$$.cell))}return!1};var $tapAndHoldSelection$$=
null;this.addListener(mxEvent.FIRE_MOUSE_EVENT,mxUtils.bind(this,function($sender$$,$evt$$){if("mouseDown"==$evt$$.getProperty("eventName")){var $state$$=$evt$$.getProperty("event").getState();$tapAndHoldSelection$$=null==$state$$||this.isSelectionEmpty()||this.isCellSelected($state$$.cell)?null:this.getSelectionCells()}}));this.addListener(mxEvent.TAP_AND_HOLD,mxUtils.bind(this,function($sender$$,$evt$$){if(!mxEvent.isMultiTouchEvent($evt$$)){var $me$jscomp$22_pt$$=$evt$$.getProperty("event"),$cell$$=
$evt$$.getProperty("cell");null==$cell$$?($me$jscomp$22_pt$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($me$jscomp$22_pt$$),mxEvent.getClientY($me$jscomp$22_pt$$)),$rubberband$$.start($me$jscomp$22_pt$$.x,$me$jscomp$22_pt$$.y)):null!=$tapAndHoldSelection$$?this.addSelectionCells($tapAndHoldSelection$$):1<this.getSelectionCount()&&this.isCellSelected($cell$$)&&this.removeSelectionCell($cell$$);$tapAndHoldSelection$$=null;$evt$$.consume()}}));this.connectionHandler.selectCells=function $this$connectionHandler$selectCells$($edge$$,
$target$$){this.graph.setSelectionCell($target$$||$edge$$)};this.connectionHandler.constraintHandler.isStateIgnored=function $this$connectionHandler$constraintHandler$isStateIgnored$($state$$,$source$$){return $source$$&&$state$$.view.graph.isCellSelected($state$$.cell)};this.selectionModel.addListener(mxEvent.CHANGE,mxUtils.bind(this,function(){var $ch$$=this.connectionHandler.constraintHandler;null!=$ch$$.currentFocus&&$ch$$.isStateIgnored($ch$$.currentFocus,!0)&&($ch$$.currentFocus=null,$ch$$.constraints=
null,$ch$$.destroyIcons());$ch$$.destroyFocusHighlight()}));Graph.touchStyle&&this.initTouch();var $graphUpdateMouseEvent$$=this.updateMouseEvent;this.updateMouseEvent=function $this$updateMouseEvent$($me$$){$me$$=$graphUpdateMouseEvent$$.apply(this,arguments);null!=$me$$.state&&this.isCellLocked($me$$.getCell())&&($me$$.state=null);return $me$$}}this.currentTranslate=new mxPoint(0,0)};
Graph.touchStyle=mxClient.IS_TOUCH||mxClient.IS_FF&&mxClient.IS_WIN||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints||null==window.urlParams||"1"==urlParams.touch;Graph.fileSupport=null!=window.File&&null!=window.FileReader&&null!=window.FileList&&(null==window.urlParams||"0"!=urlParams.filesupport);Graph.lineJumpsEnabled=!0;Graph.defaultJumpSize=6;
Graph.createSvgImage=function $Graph$createSvgImage$($w$$,$h$$,$data$jscomp$35_tmp$$){$data$jscomp$35_tmp$$=unescape(encodeURIComponent('<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+$w$$+'px" height="'+$h$$+'px" version="1.1">'+$data$jscomp$35_tmp$$+"</svg>"));return new mxImage("data:image/svg+xml;base64,"+(window.btoa?btoa($data$jscomp$35_tmp$$):Base64.encode($data$jscomp$35_tmp$$,
!0)),$w$$,$h$$)};Graph.zapGremlins=function $Graph$zapGremlins$($text$$){for(var $checked$$=[],$i$$=0;$i$$<$text$$.length;$i$$++){var $code$$=$text$$.charCodeAt($i$$);(32<=$code$$||9==$code$$||10==$code$$||13==$code$$)&&65535!=$code$$&&$checked$$.push($text$$.charAt($i$$))}return $checked$$.join("")};Graph.stringToBytes=function $Graph$stringToBytes$($str$$){for(var $arr$$=Array($str$$.length),$i$$=0;$i$$<$str$$.length;$i$$++)$arr$$[$i$$]=$str$$.charCodeAt($i$$);return $arr$$};
Graph.bytesToString=function $Graph$bytesToString$($arr$$){for(var $result$$=Array($arr$$.length),$i$$=0;$i$$<$arr$$.length;$i$$++)$result$$[$i$$]=String.fromCharCode($arr$$[$i$$]);return $result$$.join("")};Graph.compressNode=function $Graph$compressNode$($node$$){return Graph.compress(Graph.zapGremlins(mxUtils.getXml($node$$)))};
Graph.compress=function $Graph$compress$($data$$,$deflate$$){if(null==$data$$||0==$data$$.length||"undefined"===typeof pako)return $data$$;var $tmp$$=Graph.bytesToString($deflate$$?pako.deflate(encodeURIComponent($data$$)):pako.deflateRaw(encodeURIComponent($data$$)));return window.btoa?btoa($tmp$$):Base64.encode($tmp$$,!0)};
Graph.decompress=function $Graph$decompress$($data$$,$inflate$$){if(null==$data$$||0==$data$$.length||"undefined"===typeof pako)return $data$$;var $tmp$$=window.atob?atob($data$$):Base64.decode($data$$,!0);return Graph.zapGremlins(decodeURIComponent(Graph.bytesToString($inflate$$?pako.inflate($tmp$$):pako.inflateRaw($tmp$$))))};mxUtils.extend(Graph,mxGraph);Graph.prototype.minFitScale=null;Graph.prototype.maxFitScale=null;
Graph.prototype.linkPolicy="frame"==urlParams.target?"blank":urlParams.target||"auto";Graph.prototype.linkTarget="frame"==urlParams.target?"_self":"_blank";Graph.prototype.linkRelation="nofollow noopener noreferrer";Graph.prototype.defaultScrollbars=!mxClient.IS_IOS;Graph.prototype.defaultPageVisible=!0;Graph.prototype.lightbox=!1;Graph.prototype.defaultPageBackgroundColor="#ffffff";Graph.prototype.defaultPageBorderColor="#ffffff";Graph.prototype.scrollTileSize=new mxRectangle(0,0,400,400);
Graph.prototype.transparentBackground=!0;Graph.prototype.defaultEdgeLength=80;Graph.prototype.edgeMode=!1;Graph.prototype.connectionArrowsEnabled=!0;Graph.prototype.connectionArrowsEnabled=!1;Graph.prototype.placeholderPattern=RegExp("%(date{.*}|[^%^{^}]+)%","g");Graph.prototype.absoluteUrlPattern=/^(?:[a-z]+:)?\/\//i;Graph.prototype.defaultThemeName="default";Graph.prototype.defaultThemes={};
Graph.prototype.baseUrl=null!=urlParams.base?decodeURIComponent(urlParams.base):(window!=window.top?document.referrer:document.location.toString()).split("#")[0];Graph.prototype.editAfterInsert=!1;Graph.prototype.builtInProperties=["label","tooltip","placeholders","placeholder"];
Graph.prototype.init=function $Graph$$init$($container$$){mxGraph.prototype.init.apply(this,arguments);this.cellRenderer.initializeLabel=function $this$cellRenderer$initializeLabel$($state$$,$shape$$){mxCellRenderer.prototype.initializeLabel.apply(this,arguments);var $tol$$=$state$$.view.graph.tolerance,$handleClick$$=!0,$first$$=null,$down$$=mxUtils.bind(this,function($evt$$){$handleClick$$=!0;$first$$=new mxPoint(mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$))}),$move$$=mxUtils.bind(this,
function($evt$$){$handleClick$$=$handleClick$$&&null!=$first$$&&Math.abs($first$$.x-mxEvent.getClientX($evt$$))<$tol$$&&Math.abs($first$$.y-mxEvent.getClientY($evt$$))<$tol$$}),$up$$=mxUtils.bind(this,function($evt$$){if($handleClick$$)for(var $elt$$=mxEvent.getSource($evt$$);null!=$elt$$&&$elt$$!=$shape$$.node;){if("a"==$elt$$.nodeName.toLowerCase()){$state$$.view.graph.labelLinkClicked($state$$,$elt$$,$evt$$);break}$elt$$=$elt$$.parentNode}});mxEvent.addGestureListeners($shape$$.node,$down$$,$move$$,
$up$$);mxEvent.addListener($shape$$.node,"click",function($evt$$){mxEvent.consume($evt$$)})};this.initLayoutManager()};
(function(){Graph.prototype.useCssTransforms=!1;Graph.prototype.currentScale=1;Graph.prototype.currentTranslate=new mxPoint(0,0);Graph.prototype.isCssTransformsSupported=function $Graph$$isCssTransformsSupported$(){return this.dialect==mxConstants.DIALECT_SVG&&!mxClient.NO_FO};Graph.prototype.getCellAt=function $Graph$$getCellAt$($x$$,$y$$,$parent$$,$vertices$$,$edges$$,$ignoreFn$$){this.useCssTransforms&&($x$$=$x$$/this.currentScale-this.currentTranslate.x,$y$$=$y$$/this.currentScale-this.currentTranslate.y);
return this.getScaledCellAt.apply(this,arguments)};Graph.prototype.getScaledCellAt=function $Graph$$getScaledCellAt$($x$$,$y$$,$parent$$,$vertices$$,$edges$$,$ignoreFn$$){$vertices$$=null!=$vertices$$?$vertices$$:!0;$edges$$=null!=$edges$$?$edges$$:!0;null==$parent$$&&($parent$$=this.getCurrentRoot(),null==$parent$$&&($parent$$=this.getModel().getRoot()));if(null!=$parent$$)for(var $i$$=this.model.getChildCount($parent$$)-1;0<=$i$$;$i$$--){var $cell$$=this.model.getChildAt($parent$$,$i$$),$result$jscomp$11_state$$=
this.getScaledCellAt($x$$,$y$$,$cell$$,$vertices$$,$edges$$,$ignoreFn$$);if(null!=$result$jscomp$11_state$$)return $result$jscomp$11_state$$;if(this.isCellVisible($cell$$)&&($edges$$&&this.model.isEdge($cell$$)||$vertices$$&&this.model.isVertex($cell$$))&&($result$jscomp$11_state$$=this.view.getState($cell$$),null!=$result$jscomp$11_state$$&&(null==$ignoreFn$$||!$ignoreFn$$($result$jscomp$11_state$$,$x$$,$y$$))&&this.intersects($result$jscomp$11_state$$,$x$$,$y$$)))return $cell$$}return null};mxCellHighlight.prototype.getStrokeWidth=
function $mxCellHighlight$$getStrokeWidth$($s$jscomp$5_state$$){$s$jscomp$5_state$$=this.strokeWidth;this.graph.useCssTransforms&&($s$jscomp$5_state$$/=this.graph.currentScale);return $s$jscomp$5_state$$};mxGraphView.prototype.getGraphBounds=function $mxGraphView$$getGraphBounds$(){var $b$$=this.graphBounds;if(this.graph.useCssTransforms)var $t$$=this.graph.currentTranslate,$s$$=this.graph.currentScale,$b$$=new mxRectangle(($b$$.x+$t$$.x)*$s$$,($b$$.y+$t$$.y)*$s$$,$b$$.width*$s$$,$b$$.height*$s$$);
return $b$$};mxGraphView.prototype.viewStateChanged=function $mxGraphView$$viewStateChanged$(){this.graph.useCssTransforms?this.validate():this.revalidate();this.graph.sizeDidChange()};var $graphViewValidate$$=mxGraphView.prototype.validate;mxGraphView.prototype.validate=function $mxGraphView$$validate$($cell$$){this.graph.useCssTransforms&&(this.graph.currentScale=this.scale,this.graph.currentTranslate.x=this.translate.x,this.graph.currentTranslate.y=this.translate.y,this.scale=1,this.translate.x=
0,this.translate.y=0);$graphViewValidate$$.apply(this,arguments);this.graph.useCssTransforms&&(this.graph.updateCssTransform(),this.scale=this.graph.currentScale,this.translate.x=this.graph.currentTranslate.x,this.translate.y=this.graph.currentTranslate.y)};Graph.prototype.updateCssTransform=function $Graph$$updateCssTransform$(){var $g_temp$$=this.view.getDrawPane();if(null!=$g_temp$$)if($g_temp$$=$g_temp$$.parentNode,this.useCssTransforms){var $prev$$=$g_temp$$.getAttribute("transform");$g_temp$$.setAttribute("transformOrigin",
"0 0");$g_temp$$.setAttribute("transform","scale("+this.currentScale+","+this.currentScale+")translate("+this.currentTranslate.x+","+this.currentTranslate.y+")");if($prev$$!=$g_temp$$.getAttribute("transform"))try{if(mxClient.IS_EDGE){var $val$$=$g_temp$$.style.display;$g_temp$$.style.display="none";$g_temp$$.getBBox();$g_temp$$.style.display=$val$$}}catch($e$$){}}else $g_temp$$.removeAttribute("transformOrigin"),$g_temp$$.removeAttribute("transform")};var $graphViewValidateBackgroundPage$$=mxGraphView.prototype.validateBackgroundPage;
mxGraphView.prototype.validateBackgroundPage=function $mxGraphView$$validateBackgroundPage$(){var $useCssTranforms$$=this.graph.useCssTransforms,$scale$$=this.scale,$translate$$=this.translate;$useCssTranforms$$&&(this.scale=this.graph.currentScale,this.translate=this.graph.currentTranslate);$graphViewValidateBackgroundPage$$.apply(this,arguments);$useCssTranforms$$&&(this.scale=$scale$$,this.translate=$translate$$)};var $graphUpdatePageBreaks$$=mxGraph.prototype.updatePageBreaks;mxGraph.prototype.updatePageBreaks=
function $mxGraph$$updatePageBreaks$($visible$$,$width$$,$height$$){var $useCssTranforms$$=this.useCssTransforms,$scale$$=this.view.scale,$translate$$=this.view.translate;$useCssTranforms$$&&(this.view.scale=1,this.view.translate=new mxPoint(0,0),this.useCssTransforms=!1);$graphUpdatePageBreaks$$.apply(this,arguments);$useCssTranforms$$&&(this.view.scale=$scale$$,this.view.translate=$translate$$,this.useCssTransforms=!0)}})();Graph.prototype.isLightboxView=function $Graph$$isLightboxView$(){return this.lightbox};
Graph.prototype.labelLinkClicked=function $Graph$$labelLinkClicked$($state$jscomp$18_target$$,$elt$jscomp$8_href$$,$evt$$){$elt$jscomp$8_href$$=$elt$jscomp$8_href$$.getAttribute("href");if(null!=$elt$jscomp$8_href$$&&!this.isCustomLink($elt$jscomp$8_href$$)&&mxEvent.isLeftMouseButton($evt$$)&&!mxEvent.isPopupTrigger($evt$$)||mxEvent.isTouchEvent($evt$$)){if(!this.isEnabled()||this.isCellLocked($state$jscomp$18_target$$.cell))$state$jscomp$18_target$$=this.isBlankLink($elt$jscomp$8_href$$)?this.linkTarget:
"_top",this.openLink(this.getAbsoluteUrl($elt$jscomp$8_href$$),$state$jscomp$18_target$$);mxEvent.consume($evt$$)}};
Graph.prototype.openLink=function $Graph$$openLink$($href$$,$target$$,$allowOpener$$){var $result$$=window;try{if("_self"==$target$$&&window!=window.top)window.location.href=$href$$;else if($href$$.substring(0,this.baseUrl.length)==this.baseUrl&&"#"==$href$$.charAt(this.baseUrl.length)&&"_top"==$target$$&&window==window.top){var $hash$$=$href$$.split("#")[1];window.location.hash=="#"+$hash$$&&(window.location.hash="");window.location.hash=$hash$$}else $result$$=window.open($href$$,$target$$),null==
$result$$||$allowOpener$$||($result$$.opener=null)}catch($e$$){}return $result$$};Graph.prototype.getLinkTitle=function $Graph$$getLinkTitle$($href$$){return $href$$.substring($href$$.lastIndexOf("/")+1)};Graph.prototype.isCustomLink=function $Graph$$isCustomLink$($href$$){return"data:"==$href$$.substring(0,5)};Graph.prototype.customLinkClicked=function $Graph$$customLinkClicked$($link$$){return!1};
Graph.prototype.isExternalProtocol=function $Graph$$isExternalProtocol$($href$$){return"mailto:"===$href$$.substring(0,7)};Graph.prototype.isBlankLink=function $Graph$$isBlankLink$($href$$){return!this.isExternalProtocol($href$$)&&("blank"===this.linkPolicy||"self"!==this.linkPolicy&&!this.isRelativeUrl($href$$)&&$href$$.substring(0,this.domainUrl.length)!==this.domainUrl)};
Graph.prototype.isRelativeUrl=function $Graph$$isRelativeUrl$($url$$){return null!=$url$$&&!this.absoluteUrlPattern.test($url$$)&&"data:"!==$url$$.substring(0,5)&&!this.isExternalProtocol($url$$)};Graph.prototype.getAbsoluteUrl=function $Graph$$getAbsoluteUrl$($url$$){null!=$url$$&&this.isRelativeUrl($url$$)&&($url$$="#"==$url$$.charAt(0)?this.baseUrl+$url$$:"/"==$url$$.charAt(0)?this.domainUrl+$url$$:this.domainPathUrl+$url$$);return $url$$};
Graph.prototype.initLayoutManager=function $Graph$$initLayoutManager$(){this.layoutManager=new mxLayoutManager(this);this.layoutManager.getLayout=function $this$layoutManager$getLayout$($cell$jscomp$22_style$$){$cell$jscomp$22_style$$=this.graph.getCellStyle($cell$jscomp$22_style$$);if(null!=$cell$jscomp$22_style$$){if("stackLayout"==$cell$jscomp$22_style$$.childLayout){var $flowLayout_stackLayout_treeLayout$$=new mxStackLayout(this.graph,!0);$flowLayout_stackLayout_treeLayout$$.resizeParentMax="1"==
mxUtils.getValue($cell$jscomp$22_style$$,"resizeParentMax","1");$flowLayout_stackLayout_treeLayout$$.horizontal="1"==mxUtils.getValue($cell$jscomp$22_style$$,"horizontalStack","1");$flowLayout_stackLayout_treeLayout$$.resizeParent="1"==mxUtils.getValue($cell$jscomp$22_style$$,"resizeParent","1");$flowLayout_stackLayout_treeLayout$$.resizeLast="1"==mxUtils.getValue($cell$jscomp$22_style$$,"resizeLast","0");$flowLayout_stackLayout_treeLayout$$.spacing=$cell$jscomp$22_style$$.stackSpacing||$flowLayout_stackLayout_treeLayout$$.spacing;
$flowLayout_stackLayout_treeLayout$$.border=$cell$jscomp$22_style$$.stackBorder||$flowLayout_stackLayout_treeLayout$$.border;$flowLayout_stackLayout_treeLayout$$.marginLeft=$cell$jscomp$22_style$$.marginLeft||0;$flowLayout_stackLayout_treeLayout$$.marginRight=$cell$jscomp$22_style$$.marginRight||0;$flowLayout_stackLayout_treeLayout$$.marginTop=$cell$jscomp$22_style$$.marginTop||0;$flowLayout_stackLayout_treeLayout$$.marginBottom=$cell$jscomp$22_style$$.marginBottom||0;$flowLayout_stackLayout_treeLayout$$.fill=
!0;return $flowLayout_stackLayout_treeLayout$$}if("treeLayout"==$cell$jscomp$22_style$$.childLayout)return $flowLayout_stackLayout_treeLayout$$=new mxCompactTreeLayout(this.graph),$flowLayout_stackLayout_treeLayout$$.horizontal="1"==mxUtils.getValue($cell$jscomp$22_style$$,"horizontalTree","1"),$flowLayout_stackLayout_treeLayout$$.resizeParent="1"==mxUtils.getValue($cell$jscomp$22_style$$,"resizeParent","1"),$flowLayout_stackLayout_treeLayout$$.groupPadding=mxUtils.getValue($cell$jscomp$22_style$$,
"parentPadding",20),$flowLayout_stackLayout_treeLayout$$.levelDistance=mxUtils.getValue($cell$jscomp$22_style$$,"treeLevelDistance",30),$flowLayout_stackLayout_treeLayout$$.maintainParentLocation=!0,$flowLayout_stackLayout_treeLayout$$.edgeRouting=!1,$flowLayout_stackLayout_treeLayout$$.resetEdges=!1,$flowLayout_stackLayout_treeLayout$$;if("flowLayout"==$cell$jscomp$22_style$$.childLayout)return $flowLayout_stackLayout_treeLayout$$=new mxHierarchicalLayout(this.graph,mxUtils.getValue($cell$jscomp$22_style$$,
"flowOrientation",mxConstants.DIRECTION_EAST)),$flowLayout_stackLayout_treeLayout$$.resizeParent="1"==mxUtils.getValue($cell$jscomp$22_style$$,"resizeParent","1"),$flowLayout_stackLayout_treeLayout$$.parentBorder=mxUtils.getValue($cell$jscomp$22_style$$,"parentPadding",20),$flowLayout_stackLayout_treeLayout$$.maintainParentLocation=!0,$flowLayout_stackLayout_treeLayout$$.intraCellSpacing=mxUtils.getValue($cell$jscomp$22_style$$,"intraCellSpacing",mxHierarchicalLayout.prototype.intraCellSpacing),$flowLayout_stackLayout_treeLayout$$.interRankCellSpacing=
mxUtils.getValue($cell$jscomp$22_style$$,"interRankCellSpacing",mxHierarchicalLayout.prototype.interRankCellSpacing),$flowLayout_stackLayout_treeLayout$$.interHierarchySpacing=mxUtils.getValue($cell$jscomp$22_style$$,"interHierarchySpacing",mxHierarchicalLayout.prototype.interHierarchySpacing),$flowLayout_stackLayout_treeLayout$$.parallelEdgeSpacing=mxUtils.getValue($cell$jscomp$22_style$$,"parallelEdgeSpacing",mxHierarchicalLayout.prototype.parallelEdgeSpacing),$flowLayout_stackLayout_treeLayout$$}return null}};
Graph.prototype.getPageSize=function $Graph$$getPageSize$(){return this.pageVisible?new mxRectangle(0,0,this.pageFormat.width*this.pageScale,this.pageFormat.height*this.pageScale):this.scrollTileSize};
Graph.prototype.getPageLayout=function $Graph$$getPageLayout$(){var $size$$=this.getPageSize(),$bounds$$=this.getGraphBounds();if(0==$bounds$$.width||0==$bounds$$.height)return new mxRectangle(0,0,1,1);var $x$$=Math.ceil($bounds$$.x/this.view.scale-this.view.translate.x),$y$$=Math.ceil($bounds$$.y/this.view.scale-this.view.translate.y),$x0$$=Math.floor($x$$/$size$$.width),$y0$$=Math.floor($y$$/$size$$.height);return new mxRectangle($x0$$,$y0$$,Math.ceil(($x$$+Math.floor($bounds$$.width/this.view.scale))/
$size$$.width)-$x0$$,Math.ceil(($y$$+Math.floor($bounds$$.height/this.view.scale))/$size$$.height)-$y0$$)};Graph.prototype.sanitizeHtml=function $Graph$$sanitizeHtml$($value$$,$editing$$){return html_sanitize($value$$,function urlX($link$$){return null!=$link$$&&"javascript:"!==$link$$.toString().toLowerCase().substring(0,11)?$link$$:null},function idX($id$$){return $id$$})};
Graph.prototype.updatePlaceholders=function $Graph$$updatePlaceholders$(){var $validate$$=!1,$key$$;for($key$$ in this.model.cells){var $cell$$=this.model.cells[$key$$];this.isReplacePlaceholders($cell$$)&&(this.view.invalidate($cell$$,!1,!1),$validate$$=!0)}$validate$$&&this.view.validate()};Graph.prototype.isReplacePlaceholders=function $Graph$$isReplacePlaceholders$($cell$$){return null!=$cell$$.value&&"object"==typeof $cell$$.value&&"1"==$cell$$.value.getAttribute("placeholders")};
Graph.prototype.isZoomWheelEvent=function $Graph$$isZoomWheelEvent$($evt$$){return mxEvent.isAltDown($evt$$)||mxEvent.isMetaDown($evt$$)&&mxClient.IS_MAC||mxEvent.isControlDown($evt$$)&&!mxClient.IS_MAC};Graph.prototype.isTransparentClickEvent=function $Graph$$isTransparentClickEvent$($evt$$){return mxEvent.isAltDown($evt$$)};Graph.prototype.isIgnoreTerminalEvent=function $Graph$$isIgnoreTerminalEvent$($evt$$){return mxEvent.isShiftDown($evt$$)&&mxEvent.isControlDown($evt$$)};
Graph.prototype.isSplitTarget=function $Graph$$isSplitTarget$($target$$,$cells$$,$evt$$){return!this.model.isEdge($cells$$[0])&&!mxEvent.isAltDown($evt$$)&&!mxEvent.isShiftDown($evt$$)&&mxGraph.prototype.isSplitTarget.apply(this,arguments)};
Graph.prototype.getLabel=function $Graph$$getLabel$($cell$$){var $result$$=mxGraph.prototype.getLabel.apply(this,arguments);null!=$result$$&&this.isReplacePlaceholders($cell$$)&&null==$cell$$.getAttribute("placeholder")&&($result$$=this.replacePlaceholders($cell$$,$result$$));return $result$$};
Graph.prototype.isLabelMovable=function $Graph$$isLabelMovable$($cell$$){var $state$jscomp$19_style$$=this.view.getState($cell$$),$state$jscomp$19_style$$=null!=$state$jscomp$19_style$$?$state$jscomp$19_style$$.style:this.getCellStyle($cell$$);return!this.isCellLocked($cell$$)&&(this.model.isEdge($cell$$)&&this.edgeLabelsMovable||this.model.isVertex($cell$$)&&(this.vertexLabelsMovable||"1"==mxUtils.getValue($state$jscomp$19_style$$,"labelMovable","0")))};
Graph.prototype.setGridSize=function $Graph$$setGridSize$($value$$){this.gridSize=$value$$;this.fireEvent(new mxEventObject("gridSizeChanged"))};
Graph.prototype.getGlobalVariable=function $Graph$$getGlobalVariable$($fmt$jscomp$2_name$$){var $val$$=null;"date"==$fmt$jscomp$2_name$$?$val$$=(new Date).toLocaleDateString():"time"==$fmt$jscomp$2_name$$?$val$$=(new Date).toLocaleTimeString():"timestamp"==$fmt$jscomp$2_name$$?$val$$=(new Date).toLocaleString():"date{"==$fmt$jscomp$2_name$$.substring(0,5)&&($fmt$jscomp$2_name$$=$fmt$jscomp$2_name$$.substring(5,$fmt$jscomp$2_name$$.length-1),$val$$=this.formatDate(new Date,$fmt$jscomp$2_name$$));return $val$$};
Graph.prototype.formatDate=function $Graph$$formatDate$($date$$,$mask$$,$utc$$){null==this.dateFormatCache&&(this.dateFormatCache={i18n:{dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")},masks:{"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",
fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"}});var $dF$$=this.dateFormatCache,$timezone$$=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,$timezoneClip$$=/[^-+\dA-Z]/g,$pad$$=function $$pad$$$($val$$,$len$$){$val$$=String($val$$);for($len$$=
$len$$||2;$val$$.length<$len$$;)$val$$="0"+$val$$;return $val$$};1!=arguments.length||"[object String]"!=Object.prototype.toString.call($date$$)||/\d/.test($date$$)||($mask$$=$date$$,$date$$=void 0);$date$$=$date$$?new Date($date$$):new Date;if(isNaN($date$$))throw SyntaxError("invalid date");$mask$$=String($dF$$.masks[$mask$$]||$mask$$||$dF$$.masks["default"]);"UTC:"==$mask$$.slice(0,4)&&($mask$$=$mask$$.slice(4),$utc$$=!0);var $L__$$=$utc$$?"getUTC":"get",$d$$=$date$$[$L__$$+"Date"](),$D$$=$date$$[$L__$$+
"Day"](),$m$$=$date$$[$L__$$+"Month"](),$y$$=$date$$[$L__$$+"FullYear"](),$H$$=$date$$[$L__$$+"Hours"](),$M$$=$date$$[$L__$$+"Minutes"](),$s$$=$date$$[$L__$$+"Seconds"](),$L__$$=$date$$[$L__$$+"Milliseconds"](),$o$$=$utc$$?0:$date$$.getTimezoneOffset(),$flags$$={d:$d$$,dd:$pad$$($d$$),ddd:$dF$$.i18n.dayNames[$D$$],dddd:$dF$$.i18n.dayNames[$D$$+7],m:$m$$+1,mm:$pad$$($m$$+1),mmm:$dF$$.i18n.monthNames[$m$$],mmmm:$dF$$.i18n.monthNames[$m$$+12],yy:String($y$$).slice(2),yyyy:$y$$,h:$H$$%12||12,hh:$pad$$($H$$%
12||12),H:$H$$,HH:$pad$$($H$$),M:$M$$,MM:$pad$$($M$$),s:$s$$,ss:$pad$$($s$$),l:$pad$$($L__$$,3),L:$pad$$(99<$L__$$?Math.round($L__$$/10):$L__$$),t:12>$H$$?"a":"p",tt:12>$H$$?"am":"pm",T:12>$H$$?"A":"P",TT:12>$H$$?"AM":"PM",Z:$utc$$?"UTC":(String($date$$).match($timezone$$)||[""]).pop().replace($timezoneClip$$,""),o:(0<$o$$?"-":"+")+$pad$$(100*Math.floor(Math.abs($o$$)/60)+Math.abs($o$$)%60,4),S:["th","st","nd","rd"][3<$d$$%10?0:(10!=$d$$%100-$d$$%10)*$d$$%10]};return $mask$$.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
function($$0$$){return $$0$$ in $flags$$?$flags$$[$$0$$]:$$0$$.slice(1,$$0$$.length-1)})};
Graph.prototype.createLayersDialog=function $Graph$$createLayersDialog$(){var $div$$=document.createElement("div");$div$$.style.position="absolute";for(var $model$$=this.getModel(),$childCount$$=$model$$.getChildCount($model$$.root),$i$$=0;$i$$<$childCount$$;$i$$++)mxUtils.bind(this,function($layer$$){var $span$$=document.createElement("div");$span$$.style.overflow="hidden";$span$$.style.textOverflow="ellipsis";$span$$.style.padding="2px";$span$$.style.whiteSpace="nowrap";var $cb$$=document.createElement("input");
$cb$$.style.display="inline-block";$cb$$.setAttribute("type","checkbox");$model$$.isVisible($layer$$)&&($cb$$.setAttribute("checked","checked"),$cb$$.defaultChecked=!0);$span$$.appendChild($cb$$);var $title$$=this.convertValueToString($layer$$)||mxResources.get("background")||"Background";$span$$.setAttribute("title",$title$$);mxUtils.write($span$$,$title$$);$div$$.appendChild($span$$);mxEvent.addListener($cb$$,"click",function(){null!=$cb$$.getAttribute("checked")?$cb$$.removeAttribute("checked"):
$cb$$.setAttribute("checked","checked");$model$$.setVisible($layer$$,$cb$$.checked)})})($model$$.getChildAt($model$$.root,$i$$));return $div$$};
Graph.prototype.replacePlaceholders=function $Graph$$replacePlaceholders$($cell$$,$str$$){var $result$$=[];if(null!=$str$$){for(var $last$$=0;match=this.placeholderPattern.exec($str$$);){var $val$$=match[0];if(2<$val$$.length&&"%label%"!=$val$$&&"%tooltip%"!=$val$$){var $tmp$$=null;if(match.index>$last$$&&"%"==$str$$.charAt(match.index-1))$tmp$$=$val$$.substring(1);else{var $name$$=$val$$.substring(1,$val$$.length-1);if(0>$name$$.indexOf("{"))for(var $current$$=$cell$$;null==$tmp$$&&null!=$current$$;)null!=
$current$$.value&&"object"==typeof $current$$.value&&($tmp$$=$current$$.hasAttribute($name$$)?null!=$current$$.getAttribute($name$$)?$current$$.getAttribute($name$$):"":null),$current$$=this.model.getParent($current$$);null==$tmp$$&&($tmp$$=this.getGlobalVariable($name$$))}$result$$.push($str$$.substring($last$$,match.index)+(null!=$tmp$$?$tmp$$:$val$$));$last$$=match.index+$val$$.length}}$result$$.push($str$$.substring($last$$))}return $result$$.join("")};
Graph.prototype.restoreSelection=function $Graph$$restoreSelection$($cells$$){if(null!=$cells$$&&0<$cells$$.length){for(var $temp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $newCell$$=this.model.getCell($cells$$[$i$$].id);null!=$newCell$$&&$temp$$.push($newCell$$)}this.setSelectionCells($temp$$)}else this.clearSelection()};
Graph.prototype.selectCellsForConnectVertex=function $Graph$$selectCellsForConnectVertex$($cells$$,$evt$$,$hoverIcons$$){2==$cells$$.length&&this.model.isVertex($cells$$[1])?(this.setSelectionCell($cells$$[1]),null!=$hoverIcons$$&&(mxEvent.isTouchEvent($evt$$)?$hoverIcons$$.update($hoverIcons$$.getState(this.view.getState($cells$$[1]))):$hoverIcons$$.reset()),this.scrollCellToVisible($cells$$[1])):this.setSelectionCells($cells$$)};
Graph.prototype.connectVertex=function $Graph$$connectVertex$($source$$,$direction$$,$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$,$evt$jscomp$112_tmp$$,$duplicate_forceClone$$,$ignoreCellAt_target$$){if($source$$.geometry.relative&&this.model.isEdge($source$$.parent))return[];$ignoreCellAt_target$$=$ignoreCellAt_target$$?$ignoreCellAt_target$$:!1;var $pt$$=$source$$.geometry.relative&&null!=$source$$.parent.geometry?new mxPoint($source$$.parent.geometry.width*
$source$$.geometry.x,$source$$.parent.geometry.height*$source$$.geometry.y):new mxPoint($source$$.geometry.x,$source$$.geometry.y);$direction$$==mxConstants.DIRECTION_NORTH?($pt$$.x+=$source$$.geometry.width/2,$pt$$.y-=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$):$direction$$==mxConstants.DIRECTION_SOUTH?($pt$$.x+=$source$$.geometry.width/2,$pt$$.y+=$source$$.geometry.height+$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$):
($pt$$.x=$direction$$==mxConstants.DIRECTION_WEST?$pt$$.x-$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$:$pt$$.x+($source$$.geometry.width+$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$),$pt$$.y+=$source$$.geometry.height/2);$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$=this.view.getState(this.model.getParent($source$$));var $realTarget_s$$=this.view.scale,$dy$jscomp$11_t$$=this.view.translate,
$cellToClone_dx$$=$dy$jscomp$11_t$$.x*$realTarget_s$$,$dy$jscomp$11_t$$=$dy$jscomp$11_t$$.y*$realTarget_s$$;null!=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$&&this.model.isVertex($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$.cell)&&($cellToClone_dx$$=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$.x,$dy$jscomp$11_t$$=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$.y);
this.model.isVertex($source$$.parent)&&$source$$.geometry.relative&&($pt$$.x+=$source$$.parent.geometry.x,$pt$$.y+=$source$$.parent.geometry.y);$ignoreCellAt_target$$=$ignoreCellAt_target$$||mxEvent.isControlDown($evt$jscomp$112_tmp$$)&&!$duplicate_forceClone$$?null:this.getCellAt($cellToClone_dx$$+$pt$$.x*$realTarget_s$$,$dy$jscomp$11_t$$+$pt$$.y*$realTarget_s$$);this.model.isAncestor($ignoreCellAt_target$$,$source$$)&&($ignoreCellAt_target$$=null);for($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$=
$ignoreCellAt_target$$;null!=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$;){if(this.isCellLocked($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$)){$ignoreCellAt_target$$=null;break}$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$=this.model.getParent($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$)}null!=$ignoreCellAt_target$$&&($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$=
this.view.getState($source$$),$realTarget_s$$=this.view.getState($ignoreCellAt_target$$),null!=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$&&null!=$realTarget_s$$&&mxUtils.intersects($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$,$realTarget_s$$)&&($ignoreCellAt_target$$=null));if($duplicate_forceClone$$=!mxEvent.isShiftDown($evt$jscomp$112_tmp$$)||$duplicate_forceClone$$)$direction$$==mxConstants.DIRECTION_NORTH?$pt$$.y-=$source$$.geometry.height/
2:$direction$$==mxConstants.DIRECTION_SOUTH?$pt$$.y+=$source$$.geometry.height/2:$pt$$.x=$direction$$==mxConstants.DIRECTION_WEST?$pt$$.x-$source$$.geometry.width/2:$pt$$.x+$source$$.geometry.width/2;null==$ignoreCellAt_target$$||this.isCellConnectable($ignoreCellAt_target$$)||($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$=this.getModel().getParent($ignoreCellAt_target$$),this.getModel().isVertex($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$)&&
this.isCellConnectable($length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$)&&($ignoreCellAt_target$$=$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$));if($ignoreCellAt_target$$==$source$$||this.model.isEdge($ignoreCellAt_target$$)||!this.isCellConnectable($ignoreCellAt_target$$))$ignoreCellAt_target$$=null;$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$=[];this.model.beginUpdate();try{$realTarget_s$$=
$ignoreCellAt_target$$;if(null==$realTarget_s$$&&$duplicate_forceClone$$){for(var $cellToClone_dx$$=$source$$,$geo$jscomp$2_layout$$=this.getCellGeometry($source$$);null!=$geo$jscomp$2_layout$$&&$geo$jscomp$2_layout$$.relative;)$cellToClone_dx$$=this.getModel().getParent($cellToClone_dx$$),$geo$jscomp$2_layout$$=this.getCellGeometry($cellToClone_dx$$);var $state$$=this.view.getState($cellToClone_dx$$),$style$$=null!=$state$$?$state$$.style:this.getCellStyle($cellToClone_dx$$);if(mxUtils.getValue($style$$,
"part",!1)){var $tmpParent$$=this.model.getParent($cellToClone_dx$$);this.model.isVertex($tmpParent$$)&&($cellToClone_dx$$=$tmpParent$$)}$realTarget_s$$=this.duplicateCells([$cellToClone_dx$$],!1)[0];$geo$jscomp$2_layout$$=this.getCellGeometry($realTarget_s$$);null!=$geo$jscomp$2_layout$$&&($geo$jscomp$2_layout$$.x=$pt$$.x-$geo$jscomp$2_layout$$.width/2,$geo$jscomp$2_layout$$.y=$pt$$.y-$geo$jscomp$2_layout$$.height/2)}$geo$jscomp$2_layout$$=null;null!=this.layoutManager&&($geo$jscomp$2_layout$$=this.layoutManager.getLayout(this.model.getParent($source$$)));
var $edge$$=mxEvent.isControlDown($evt$jscomp$112_tmp$$)&&$duplicate_forceClone$$||null==$ignoreCellAt_target$$&&null!=$geo$jscomp$2_layout$$&&$geo$jscomp$2_layout$$.constructor==mxStackLayout?null:this.insertEdge(this.model.getParent($source$$),null,"",$source$$,$realTarget_s$$,this.createCurrentEdgeStyle());if(null!=$edge$$&&this.connectionHandler.insertBeforeSource){var $index$$=null;for($evt$jscomp$112_tmp$$=$source$$;null!=$evt$jscomp$112_tmp$$.parent&&null!=$evt$jscomp$112_tmp$$.geometry&&$evt$jscomp$112_tmp$$.geometry.relative&&
$evt$jscomp$112_tmp$$.parent!=$edge$$.parent;)$evt$jscomp$112_tmp$$=this.model.getParent($evt$jscomp$112_tmp$$);null!=$evt$jscomp$112_tmp$$&&null!=$evt$jscomp$112_tmp$$.parent&&$evt$jscomp$112_tmp$$.parent==$edge$$.parent&&($index$$=$evt$jscomp$112_tmp$$.parent.getIndex($evt$jscomp$112_tmp$$),this.model.add($evt$jscomp$112_tmp$$.parent,$edge$$,$index$$))}null==$ignoreCellAt_target$$&&null!=$realTarget_s$$&&null!=$geo$jscomp$2_layout$$&&null!=$source$$.parent&&$geo$jscomp$2_layout$$.constructor==mxStackLayout&&
$direction$$==mxConstants.DIRECTION_WEST&&($index$$=$source$$.parent.getIndex($source$$),this.model.add($source$$.parent,$realTarget_s$$,$index$$));null!=$edge$$&&$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$.push($edge$$);null==$ignoreCellAt_target$$&&null!=$realTarget_s$$&&$length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$.push($realTarget_s$$);null==$realTarget_s$$&&null!=$edge$$&&$edge$$.geometry.setTerminalPoint($pt$$,!1);null!=
$edge$$&&this.fireEvent(new mxEventObject("cellsInserted","cells",[$edge$$]))}finally{this.model.endUpdate()}return $length$jscomp$15_parent$jscomp$16_parentState_result$jscomp$15_sourceState_temp$$};
Graph.prototype.getIndexableText=function $Graph$$getIndexableText$(){var $tmp$$=document.createElement("div"),$labels$$=[],$cell$jscomp$28_label$$,$key$$;for($key$$ in this.model.cells)if($cell$jscomp$28_label$$=this.model.cells[$key$$],this.model.isVertex($cell$jscomp$28_label$$)||this.model.isEdge($cell$jscomp$28_label$$))this.isHtmlLabel($cell$jscomp$28_label$$)?($tmp$$.innerHTML=this.getLabel($cell$jscomp$28_label$$),$cell$jscomp$28_label$$=mxUtils.extractTextWithWhitespace([$tmp$$])):$cell$jscomp$28_label$$=
this.getLabel($cell$jscomp$28_label$$),$cell$jscomp$28_label$$=mxUtils.trim($cell$jscomp$28_label$$.replace(/[\x00-\x1F\x7F-\x9F]|\s+/g," ")),0<$cell$jscomp$28_label$$.length&&$labels$$.push($cell$jscomp$28_label$$);return $labels$$.join(" ")};
Graph.prototype.convertValueToString=function $Graph$$convertValueToString$($cell$$){if(null!=$cell$$.value&&"object"==typeof $cell$$.value){if(this.isReplacePlaceholders($cell$$)&&null!=$cell$$.getAttribute("placeholder")){for(var $name$$=$cell$$.getAttribute("placeholder"),$current$$=$cell$$,$result$$=null;null==$result$$&&null!=$current$$;)null!=$current$$.value&&"object"==typeof $current$$.value&&($result$$=$current$$.hasAttribute($name$$)?null!=$current$$.getAttribute($name$$)?$current$$.getAttribute($name$$):
"":null),$current$$=this.model.getParent($current$$);return $result$$||""}return $cell$$.value.getAttribute("label")||""}return mxGraph.prototype.convertValueToString.apply(this,arguments)};Graph.prototype.getLinksForState=function $Graph$$getLinksForState$($state$$){return null!=$state$$&&null!=$state$$.text&&null!=$state$$.text.node?$state$$.text.node.getElementsByTagName("a"):null};
Graph.prototype.getLinkForCell=function $Graph$$getLinkForCell$($cell$jscomp$30_link$$){return null!=$cell$jscomp$30_link$$.value&&"object"==typeof $cell$jscomp$30_link$$.value?($cell$jscomp$30_link$$=$cell$jscomp$30_link$$.value.getAttribute("link"),null!=$cell$jscomp$30_link$$&&"javascript:"===$cell$jscomp$30_link$$.toLowerCase().substring(0,11)&&($cell$jscomp$30_link$$=$cell$jscomp$30_link$$.substring(11)),$cell$jscomp$30_link$$):null};
Graph.prototype.getCellStyle=function $Graph$$getCellStyle$($cell$$){var $style$$=mxGraph.prototype.getCellStyle.apply(this,arguments);if(null!=$cell$$&&null!=this.layoutManager){var $layout$jscomp$5_parent$$=this.model.getParent($cell$$);this.model.isVertex($layout$jscomp$5_parent$$)&&this.isCellCollapsed($cell$$)&&($layout$jscomp$5_parent$$=this.layoutManager.getLayout($layout$jscomp$5_parent$$),null!=$layout$jscomp$5_parent$$&&$layout$jscomp$5_parent$$.constructor==mxStackLayout&&($style$$[mxConstants.STYLE_HORIZONTAL]=
!$layout$jscomp$5_parent$$.horizontal))}return $style$$};
Graph.prototype.updateAlternateBounds=function $Graph$$updateAlternateBounds$($cell$$,$geo$$,$willCollapse$$){if(null!=$cell$$&&null!=$geo$$&&null!=this.layoutManager&&null!=$geo$$.alternateBounds){var $layout$$=this.layoutManager.getLayout(this.model.getParent($cell$$));null!=$layout$$&&$layout$$.constructor==mxStackLayout&&($layout$$.horizontal?$geo$$.alternateBounds.height=0:$geo$$.alternateBounds.width=0)}mxGraph.prototype.updateAlternateBounds.apply(this,arguments)};
Graph.prototype.isMoveCellsEvent=function $Graph$$isMoveCellsEvent$($evt$$){return mxEvent.isShiftDown($evt$$)};
Graph.prototype.foldCells=function $Graph$$foldCells$($collapse$$,$recurse$$,$cells$$,$checkFoldable$$,$evt$$){$recurse$$=null!=$recurse$$?$recurse$$:!1;null==$cells$$&&($cells$$=this.getFoldableCells(this.getSelectionCells(),$collapse$$));if(null!=$cells$$){this.model.beginUpdate();try{if(mxGraph.prototype.foldCells.apply(this,arguments),null!=this.layoutManager)for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $state$$=this.view.getState($cells$$[$i$$]),$geo$$=this.getCellGeometry($cells$$[$i$$]);
if(null!=$state$$&&null!=$geo$$){var $dx$$=Math.round($geo$$.width-$state$$.width/this.view.scale),$dy$$=Math.round($geo$$.height-$state$$.height/this.view.scale);if(0!=$dy$$||0!=$dx$$){var $parent$$=this.model.getParent($cells$$[$i$$]),$layout$$=this.layoutManager.getLayout($parent$$);null==$layout$$?null!=$evt$$&&this.isMoveCellsEvent($evt$$)&&this.moveSiblings($state$$,$parent$$,$dx$$,$dy$$):null!=$evt$$&&mxEvent.isAltDown($evt$$)||$layout$$.constructor!=mxStackLayout||$layout$$.resizeLast||this.resizeParentStacks($parent$$,
$layout$$,$dx$$,$dy$$)}}}}finally{this.model.endUpdate()}this.isEnabled()&&this.setSelectionCells($cells$$)}};
Graph.prototype.moveSiblings=function $Graph$$moveSiblings$($state$$,$i$jscomp$29_parent$$,$dx$$,$dy$$){this.model.beginUpdate();try{var $cells$$=this.getCellsBeyond($state$$.x,$state$$.y,$i$jscomp$29_parent$$,!0,!0);for($i$jscomp$29_parent$$=0;$i$jscomp$29_parent$$<$cells$$.length;$i$jscomp$29_parent$$++)if($cells$$[$i$jscomp$29_parent$$]!=$state$$.cell){var $tmp$$=this.view.getState($cells$$[$i$jscomp$29_parent$$]),$geo$$=this.getCellGeometry($cells$$[$i$jscomp$29_parent$$]);null!=$tmp$$&&null!=
$geo$$&&($geo$$=$geo$$.clone(),$geo$$.translate(Math.round($dx$$*Math.max(0,Math.min(1,($tmp$$.x-$state$$.x)/$state$$.width))),Math.round($dy$$*Math.max(0,Math.min(1,($tmp$$.y-$state$$.y)/$state$$.height)))),this.model.setGeometry($cells$$[$i$jscomp$29_parent$$],$geo$$))}}finally{this.model.endUpdate()}};
Graph.prototype.resizeParentStacks=function $Graph$$resizeParentStacks$($parent$$,$layout$$,$dx$$,$dy$$){if(null!=this.layoutManager&&null!=$layout$$&&$layout$$.constructor==mxStackLayout&&!$layout$$.resizeLast){this.model.beginUpdate();try{for(var $dir$$=$layout$$.horizontal;null!=$parent$$&&null!=$layout$$&&$layout$$.constructor==mxStackLayout&&$layout$$.horizontal==$dir$$&&!$layout$$.resizeLast;){var $pgeo$$=this.getCellGeometry($parent$$),$pstate$$=this.view.getState($parent$$);null!=$pstate$$&&
null!=$pgeo$$&&($pgeo$$=$pgeo$$.clone(),$layout$$.horizontal?$pgeo$$.width+=$dx$$+Math.min(0,$pstate$$.width/this.view.scale-$pgeo$$.width):$pgeo$$.height+=$dy$$+Math.min(0,$pstate$$.height/this.view.scale-$pgeo$$.height),this.model.setGeometry($parent$$,$pgeo$$));$parent$$=this.model.getParent($parent$$);$layout$$=this.layoutManager.getLayout($parent$$)}}finally{this.model.endUpdate()}}};
Graph.prototype.isContainer=function $Graph$$isContainer$($cell$$){var $state$jscomp$24_style$$=this.view.getState($cell$$),$state$jscomp$24_style$$=null!=$state$jscomp$24_style$$?$state$jscomp$24_style$$.style:this.getCellStyle($cell$$);return this.isSwimlane($cell$$)?"0"!=$state$jscomp$24_style$$.container:"1"==$state$jscomp$24_style$$.container};
Graph.prototype.isCellConnectable=function $Graph$$isCellConnectable$($cell$$){var $state$jscomp$25_style$$=this.view.getState($cell$$),$state$jscomp$25_style$$=null!=$state$jscomp$25_style$$?$state$jscomp$25_style$$.style:this.getCellStyle($cell$$);return null!=$state$jscomp$25_style$$&&null!=$state$jscomp$25_style$$.connectable?"0"!=$state$jscomp$25_style$$.connectable:mxGraph.prototype.isCellConnectable.apply(this,arguments)};
Graph.prototype.selectAll=function $Graph$$selectAll$($parent$$){$parent$$=$parent$$||this.getDefaultParent();this.isCellLocked($parent$$)||mxGraph.prototype.selectAll.apply(this,arguments)};Graph.prototype.selectCells=function $Graph$$selectCells$($vertices$$,$edges$$,$parent$$){$parent$$=$parent$$||this.getDefaultParent();this.isCellLocked($parent$$)||mxGraph.prototype.selectCells.apply(this,arguments)};
Graph.prototype.getSwimlaneAt=function $Graph$$getSwimlaneAt$($x$$,$y$$,$parent$$){$parent$$=$parent$$||this.getDefaultParent();return this.isCellLocked($parent$$)?null:mxGraph.prototype.getSwimlaneAt.apply(this,arguments)};
Graph.prototype.isCellFoldable=function $Graph$$isCellFoldable$($cell$$){var $state$jscomp$26_style$$=this.view.getState($cell$$),$state$jscomp$26_style$$=null!=$state$jscomp$26_style$$?$state$jscomp$26_style$$.style:this.getCellStyle($cell$$);return this.foldingEnabled&&!this.isCellLocked($cell$$)&&(this.isContainer($cell$$)&&"0"!=$state$jscomp$26_style$$.collapsible||!this.isContainer($cell$$)&&"1"==$state$jscomp$26_style$$.collapsible)};
Graph.prototype.reset=function $Graph$$reset$(){this.isEditing()&&this.stopEditing(!0);this.escape();this.isSelectionEmpty()||this.clearSelection()};Graph.prototype.zoom=function $Graph$$zoom$($factor$$,$center$$){$factor$$=Math.max(.01,Math.min(this.view.scale*$factor$$,160))/this.view.scale;mxGraph.prototype.zoom.apply(this,arguments)};
Graph.prototype.zoomIn=function $Graph$$zoomIn$(){.15>this.view.scale?this.zoom((this.view.scale+.01)/this.view.scale):this.zoom(Math.round(this.view.scale*this.zoomFactor*20)/20/this.view.scale)};Graph.prototype.zoomOut=function $Graph$$zoomOut$(){.15>=this.view.scale?this.zoom((this.view.scale-.01)/this.view.scale):this.zoom(Math.round(1/this.zoomFactor*this.view.scale*20)/20/this.view.scale)};
Graph.prototype.getTooltipForCell=function $Graph$$getTooltipForCell$($attrs_cell$$){var $tip$$="";if(mxUtils.isNode($attrs_cell$$.value)){var $temp$jscomp$3_tmp$$=$attrs_cell$$.value.getAttribute("tooltip");if(null!=$temp$jscomp$3_tmp$$)null!=$temp$jscomp$3_tmp$$&&this.isReplacePlaceholders($attrs_cell$$)&&($temp$jscomp$3_tmp$$=this.replacePlaceholders($attrs_cell$$,$temp$jscomp$3_tmp$$)),$tip$$=this.sanitizeHtml($temp$jscomp$3_tmp$$);else{var $ignored$$=this.builtInProperties;$attrs_cell$$=$attrs_cell$$.value.attributes;
$temp$jscomp$3_tmp$$=[];this.isEnabled()&&$ignored$$.push("link");CsetUtils.ignoredProperties.forEach(function($i$$){return $ignored$$.push($i$$)});for(var $i$jscomp$0$$=0;$i$jscomp$0$$<$attrs_cell$$.length;$i$jscomp$0$$++)0>mxUtils.indexOf($ignored$$,$attrs_cell$$[$i$jscomp$0$$].nodeName)&&0<$attrs_cell$$[$i$jscomp$0$$].nodeValue.length&&$temp$jscomp$3_tmp$$.push({name:$attrs_cell$$[$i$jscomp$0$$].nodeName,value:$attrs_cell$$[$i$jscomp$0$$].nodeValue});$temp$jscomp$3_tmp$$.sort(function($a$$,$b$$){return $a$$.name<
$b$$.name?-1:$a$$.name>$b$$.name?1:0});for($i$jscomp$0$$=0;$i$jscomp$0$$<$temp$jscomp$3_tmp$$.length;$i$jscomp$0$$++)"link"==$temp$jscomp$3_tmp$$[$i$jscomp$0$$].name&&this.isCustomLink($temp$jscomp$3_tmp$$[$i$jscomp$0$$].value)||($tip$$+=("link"!=$temp$jscomp$3_tmp$$[$i$jscomp$0$$].name?"<b>"+$temp$jscomp$3_tmp$$[$i$jscomp$0$$].name+":</b> ":"")+mxUtils.htmlEntities($temp$jscomp$3_tmp$$[$i$jscomp$0$$].value)+"\n");0<$tip$$.length&&($tip$$=$tip$$.substring(0,$tip$$.length-1),mxClient.IS_SVG&&($tip$$=
'<div style="max-width:360px;">'+$tip$$+"</div>"))}}return $tip$$};Graph.prototype.stringToBytes=function $Graph$$stringToBytes$($str$$){return Graph.stringToBytes($str$$)};Graph.prototype.bytesToString=function $Graph$$bytesToString$($arr$$){return Graph.bytesToString($arr$$)};Graph.prototype.compressNode=function $Graph$$compressNode$($node$$){return Graph.compressNode($node$$)};Graph.prototype.compress=function $Graph$$compress$($data$$,$deflate$$){return Graph.compress($data$$,$deflate$$)};
Graph.prototype.decompress=function $Graph$$decompress$($data$$,$inflate$$){return Graph.decompress($data$$,$inflate$$)};Graph.prototype.zapGremlins=function $Graph$$zapGremlins$($text$$){return Graph.zapGremlins($text$$)};HoverIcons=function $HoverIcons$($graph$$){this.graph=$graph$$;this.init()};HoverIcons.prototype.arrowSpacing=2;HoverIcons.prototype.updateDelay=500;HoverIcons.prototype.activationDelay=140;HoverIcons.prototype.currentState=null;HoverIcons.prototype.activeArrow=null;
HoverIcons.prototype.inactiveOpacity=15;HoverIcons.prototype.cssCursor="copy";HoverIcons.prototype.checkCollisions=!0;HoverIcons.prototype.arrowFill="#29b6f2";HoverIcons.prototype.triangleUp=mxClient.IS_SVG?Graph.createSvgImage(18,28,'<path d="m 6 26 L 12 26 L 12 12 L 18 12 L 9 1 L 1 12 L 6 12 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-up.png",26,14);
HoverIcons.prototype.triangleRight=mxClient.IS_SVG?Graph.createSvgImage(26,18,'<path d="m 1 6 L 14 6 L 14 1 L 26 9 L 14 18 L 14 12 L 1 12 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-right.png",14,26);HoverIcons.prototype.triangleDown=mxClient.IS_SVG?Graph.createSvgImage(18,26,'<path d="m 6 1 L 6 14 L 1 14 L 9 26 L 18 14 L 12 14 L 12 1 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-down.png",26,14);
HoverIcons.prototype.triangleLeft=mxClient.IS_SVG?Graph.createSvgImage(28,18,'<path d="m 1 9 L 12 1 L 12 6 L 26 6 L 26 12 L 12 12 L 12 18 z" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/triangle-left.png",14,26);HoverIcons.prototype.roundDrop=mxClient.IS_SVG?Graph.createSvgImage(26,26,'<circle cx="13" cy="13" r="12" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'"/>'):new mxImage(IMAGE_PATH+"/round-drop.png",26,26);
HoverIcons.prototype.refreshTarget=new mxImage(mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQxNERDRTU1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQxNERDRTY1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NDE0RENFMzVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NDE0RENFNDVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsvuX50AAANaSURBVHja7FjRZ1tRGD9ZJ1NCyIQSwrivI4Q8hCpjlFDyFEoYfSp9Ko1QWnmo0If+BSXkIfo0QirTMUpeGo2EPfWllFYjZMLKLDJn53d3biU337m5J223bPbxk5t7v+/c3/2+73znO8fDOWezKM/YjMpz68Lj8ejY+QTeCCwLxOS9qPxtyN+6wAeBTwJ31CCO0cJDjXBGBN4LfIepSwykTUT1bgpuib0SONIgo8KRHOtRiCFcvUcgZeGrHPNBxLIyFPyRgTGz0xLbegJCdmzpElue5KlAIMDX19d5uVzm5+fnfDAYmMA17uEZdOx2Yvb/sHlu2S0xwymn5ufneTab5b1ej08S6EAXNrDd2dnhiUTim21MvMtwQ6yiIrWwsMDPzs64rsBmf3/fvM7n89TYlUnEllSkQqEQv7q64g+Vk5MTVXosORErU0Zer5f0FEIlw2N6MxwO82QyaXql2+2SxDqdjopYWUUsqEp45IldqtWq6UWVh/1+P7+8vCTJ4QMUJSRIEXuneoH96w8PDyeWAnhSJfCqwm6NIlaklFdXV0cGhRcQ2mlJQXK5nMq2YPEZbnteU1U2lUqN/D84OGD9fl+5fgnSrFarsUwmw0qlEru4uBjTicViTk3Cr27HSnxR+Doyz0ZE1CAWiUTusbu7y9rttlZv5fP5WDQavYfIMba4uEipfhF8XtqJoZXx/uH+sC/4vPg7OljZZQbsCmLtYzc3N6zRaJhotVrmfx0xDINtbm6athYUeXpHdbBNaqZUKpWxWXV7e2vex+xaWVnhc3NzjrPUXgexyCt0m67LBV7uJMITjqRE4o8tZeg8FPpFitgapYxiOC0poFgsji1jKNo6BZZckrAGUtJsNk1vqAihCBcKhTE7hNWhqw2qFnGy5UFOUYJVIJ1OjzSE+BCEilon0URavRmBqnbbQ00AXbm+vnZc9O1tj72OnQoc2+cwygRkb2+P1et17ZoEm3g87lRmjgWZ00kbXkNuse6/Bu2wlegIxfb2tuvWGroO4bO2c4bbzUh60mxDXm1sbJhhxkQYnhS4h2fUZoRAWnf7lv8N27f8P7Xhnekjgpk+VKGOoQbsiY+hhhtF3YO7twIJ+ULvUGv+GQ2fQEvWxI/THNx5/p/BaspPAQYAqStgiSQwCDoAAAAASUVORK5CYII=":
IMAGE_PATH+"/refresh.png",38,38);HoverIcons.prototype.tolerance=mxClient.IS_TOUCH?6:0;
HoverIcons.prototype.init=function $HoverIcons$$init$(){this.arrowUp=this.createArrow(this.triangleUp,mxResources.get("plusTooltip"));this.arrowRight=this.createArrow(this.triangleRight,mxResources.get("plusTooltip"));this.arrowDown=this.createArrow(this.triangleDown,mxResources.get("plusTooltip"));this.arrowLeft=this.createArrow(this.triangleLeft,mxResources.get("plusTooltip"));this.elts=[this.arrowUp,this.arrowRight,this.arrowDown,this.arrowLeft];this.repaintHandler=mxUtils.bind(this,function(){this.repaint()});
this.graph.selectionModel.addListener(mxEvent.CHANGE,this.repaintHandler);this.graph.model.addListener(mxEvent.CHANGE,this.repaintHandler);this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler);this.graph.view.addListener(mxEvent.TRANSLATE,this.repaintHandler);this.graph.view.addListener(mxEvent.SCALE,this.repaintHandler);this.graph.view.addListener(mxEvent.DOWN,this.repaintHandler);this.graph.view.addListener(mxEvent.UP,this.repaintHandler);this.graph.addListener(mxEvent.ROOT,
this.repaintHandler);this.graph.addListener(mxEvent.ESCAPE,mxUtils.bind(this,function(){this.mouseDownPoint=null}));mxEvent.addListener(this.graph.container,"mouseleave",mxUtils.bind(this,function($evt$$){null!=$evt$$.relatedTarget&&mxEvent.getSource($evt$$)==this.graph.container&&this.setDisplay("none")}));this.graph.addListener(mxEvent.START_EDITING,mxUtils.bind(this,function($evt$$){this.reset()}));var $graphClick$$=this.graph.click;this.graph.click=mxUtils.bind(this,function($me$$){$graphClick$$.apply(this.graph,
arguments);null==this.currentState||this.graph.isCellSelected(this.currentState.cell)||!mxEvent.isTouchEvent($me$$.getEvent())||this.graph.model.isVertex($me$$.getCell())||this.reset()});var $connectionHandlerActive$$=!1;this.graph.addMouseListener({mouseDown:mxUtils.bind(this,function($sender$$,$me$$){$connectionHandlerActive$$=!1;var $evt$$=$me$$.getEvent();if(this.isResetEvent($evt$$))this.reset();else if(!this.isActive()){var $state$$=this.getState($me$$.getState());null==$state$$&&mxEvent.isTouchEvent($evt$$)||
this.update($state$$)}this.setDisplay("none")}),mouseMove:mxUtils.bind(this,function($sender$$,$me$$){var $evt$$=$me$$.getEvent();this.isResetEvent($evt$$)?this.reset():this.graph.isMouseDown||mxEvent.isTouchEvent($evt$$)||this.update(this.getState($me$$.getState()),$me$$.getGraphX(),$me$$.getGraphY());null!=this.graph.connectionHandler&&null!=this.graph.connectionHandler.shape&&($connectionHandlerActive$$=!0)}),mouseUp:mxUtils.bind(this,function($sender$$,$me$$){var $evt$$=$me$$.getEvent();mxUtils.convertPoint(this.graph.container,
mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));this.isResetEvent($evt$$)?this.reset():this.isActive()&&!$connectionHandlerActive$$&&null!=this.mouseDownPoint?this.click(this.currentState,this.getDirection(),$me$$):this.isActive()?1==this.graph.getSelectionCount()&&this.graph.model.isEdge(this.graph.getSelectionCell())?this.reset():this.update(this.getState(this.graph.view.getState(this.graph.getCellAt($me$$.getGraphX(),$me$$.getGraphY())))):mxEvent.isTouchEvent($evt$$)||null!=this.bbox&&mxUtils.contains(this.bbox,
$me$$.getGraphX(),$me$$.getGraphY())?(this.setDisplay(""),this.repaint()):mxEvent.isTouchEvent($evt$$)||this.reset();$connectionHandlerActive$$=!1;this.resetActiveArrow()})})};HoverIcons.prototype.isResetEvent=function $HoverIcons$$isResetEvent$($evt$$,$allowShift$$){return mxEvent.isAltDown($evt$$)||null==this.activeArrow&&mxEvent.isShiftDown($evt$$)||mxEvent.isMetaDown($evt$$)||mxEvent.isPopupTrigger($evt$$)&&!mxEvent.isControlDown($evt$$)};
HoverIcons.prototype.createArrow=function $HoverIcons$$createArrow$($img$$,$tooltip$$){var $arrow$$=null;mxClient.IS_IE&&!mxClient.IS_SVG?(mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?($arrow$$=document.createElement(mxClient.VML_PREFIX+":image"),$arrow$$.setAttribute("src",$img$$.src),$arrow$$.style.borderStyle="none"):($arrow$$=document.createElement("div"),$arrow$$.style.backgroundImage="url("+$img$$.src+")",$arrow$$.style.backgroundPosition="center",$arrow$$.style.backgroundRepeat="no-repeat"),
$arrow$$.style.width=$img$$.width+4+"px",$arrow$$.style.height=$img$$.height+4+"px",$arrow$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block"):($arrow$$=mxUtils.createImage($img$$.src),$arrow$$.style.width=$img$$.width+"px",$arrow$$.style.height=$img$$.height+"px",$arrow$$.style.padding=this.tolerance+"px");null!=$tooltip$$&&$arrow$$.setAttribute("title",$tooltip$$);$arrow$$.style.position="absolute";$arrow$$.style.cursor=this.cssCursor;mxEvent.addGestureListeners($arrow$$,mxUtils.bind(this,
function($evt$$){null==this.currentState||this.isResetEvent($evt$$)||(this.mouseDownPoint=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),this.drag($evt$$,this.mouseDownPoint.x,this.mouseDownPoint.y),this.activeArrow=$arrow$$,this.setDisplay("none"),mxEvent.consume($evt$$))}));mxEvent.redirectMouseEvents($arrow$$,this.graph,this.currentState);mxEvent.addListener($arrow$$,"mouseenter",mxUtils.bind(this,function($evt$$){mxEvent.isMouseEvent($evt$$)&&
(null!=this.activeArrow&&this.activeArrow!=$arrow$$&&mxUtils.setOpacity(this.activeArrow,this.inactiveOpacity),this.graph.connectionHandler.constraintHandler.reset(),mxUtils.setOpacity($arrow$$,100),this.activeArrow=$arrow$$)}));mxEvent.addListener($arrow$$,"mouseleave",mxUtils.bind(this,function($evt$$){this.graph.isMouseDown||this.resetActiveArrow()}));return $arrow$$};
HoverIcons.prototype.resetActiveArrow=function $HoverIcons$$resetActiveArrow$(){null!=this.activeArrow&&(mxUtils.setOpacity(this.activeArrow,this.inactiveOpacity),this.activeArrow=null)};
HoverIcons.prototype.getDirection=function $HoverIcons$$getDirection$(){var $dir$$=mxConstants.DIRECTION_EAST;this.activeArrow==this.arrowUp?$dir$$=mxConstants.DIRECTION_NORTH:this.activeArrow==this.arrowDown?$dir$$=mxConstants.DIRECTION_SOUTH:this.activeArrow==this.arrowLeft&&($dir$$=mxConstants.DIRECTION_WEST);return $dir$$};HoverIcons.prototype.visitNodes=function $HoverIcons$$visitNodes$($visitor$$){for(var $i$$=0;$i$$<this.elts.length;$i$$++)null!=this.elts[$i$$]&&$visitor$$(this.elts[$i$$])};
HoverIcons.prototype.removeNodes=function $HoverIcons$$removeNodes$(){this.visitNodes(function($elt$$){null!=$elt$$.parentNode&&$elt$$.parentNode.removeChild($elt$$)})};HoverIcons.prototype.setDisplay=function $HoverIcons$$setDisplay$($display$$){this.visitNodes(function($elt$$){$elt$$.style.display=$display$$})};HoverIcons.prototype.isActive=function $HoverIcons$$isActive$(){return null!=this.activeArrow&&null!=this.currentState};
HoverIcons.prototype.drag=function $HoverIcons$$drag$($direction$jscomp$5_evt$$,$es_handler$jscomp$4_x$$,$y$$){this.graph.popupMenuHandler.hideMenu();this.graph.stopEditing(!1);null!=this.currentState&&(this.graph.connectionHandler.start(this.currentState,$es_handler$jscomp$4_x$$,$y$$),this.graph.isMouseTrigger=mxEvent.isMouseEvent($direction$jscomp$5_evt$$),this.graph.isMouseDown=!0,$es_handler$jscomp$4_x$$=this.graph.selectionCellsHandler.getHandler(this.currentState.cell),null!=$es_handler$jscomp$4_x$$&&
$es_handler$jscomp$4_x$$.setHandlesVisible(!1),$es_handler$jscomp$4_x$$=this.graph.connectionHandler.edgeState,null!=$direction$jscomp$5_evt$$&&mxEvent.isShiftDown($direction$jscomp$5_evt$$)&&mxEvent.isControlDown($direction$jscomp$5_evt$$)&&null!=$es_handler$jscomp$4_x$$&&"orthogonalEdgeStyle"===mxUtils.getValue($es_handler$jscomp$4_x$$.style,mxConstants.STYLE_EDGE,null)&&($direction$jscomp$5_evt$$=this.getDirection(),$es_handler$jscomp$4_x$$.cell.style=mxUtils.setStyle($es_handler$jscomp$4_x$$.cell.style,
"sourcePortConstraint",$direction$jscomp$5_evt$$),$es_handler$jscomp$4_x$$.style.sourcePortConstraint=$direction$jscomp$5_evt$$))};HoverIcons.prototype.getStateAt=function $HoverIcons$$getStateAt$($state$$,$x$$,$y$$){return this.graph.view.getState(this.graph.getCellAt($x$$,$y$$))};
HoverIcons.prototype.click=function $HoverIcons$$click$($cells$jscomp$18_state$$,$dir$$,$me$$){var $evt$$=$me$$.getEvent(),$tmp$jscomp$15_x$$=$me$$.getGraphX(),$y$$=$me$$.getGraphY(),$tmp$jscomp$15_x$$=this.getStateAt($cells$jscomp$18_state$$,$tmp$jscomp$15_x$$,$y$$);null==$tmp$jscomp$15_x$$||!this.graph.model.isEdge($tmp$jscomp$15_x$$.cell)||mxEvent.isControlDown($evt$$)||$tmp$jscomp$15_x$$.getVisibleTerminalState(!0)!=$cells$jscomp$18_state$$&&$tmp$jscomp$15_x$$.getVisibleTerminalState(!1)!=$cells$jscomp$18_state$$?
null!=$cells$jscomp$18_state$$&&($cells$jscomp$18_state$$=this.graph.connectVertex($cells$jscomp$18_state$$.cell,$dir$$,this.graph.defaultEdgeLength,$evt$$),this.graph.selectCellsForConnectVertex($cells$jscomp$18_state$$,$evt$$,this),2==$cells$jscomp$18_state$$.length&&this.graph.model.isVertex($cells$jscomp$18_state$$[1])?(this.graph.setSelectionCell($cells$jscomp$18_state$$[1]),mxEvent.isTouchEvent($evt$$)?this.update(this.getState(this.graph.view.getState($cells$jscomp$18_state$$[1]))):this.reset(),
this.graph.scrollCellToVisible($cells$jscomp$18_state$$[1])):this.graph.setSelectionCells($cells$jscomp$18_state$$)):(this.graph.setSelectionCell($tmp$jscomp$15_x$$.cell),this.reset());$me$$.consume()};HoverIcons.prototype.reset=function $HoverIcons$$reset$($clearTimeout$$){null!=$clearTimeout$$&&!$clearTimeout$$||null==this.updateThread||window.clearTimeout(this.updateThread);this.activeArrow=this.currentState=this.mouseDownPoint=null;this.removeNodes();this.bbox=null};
HoverIcons.prototype.repaint=function $HoverIcons$$repaint$(){this.bbox=null;if(null!=this.currentState){this.currentState=this.getState(this.currentState);if(null!=this.currentState&&this.graph.model.isVertex(this.currentState.cell)&&this.graph.isCellConnectable(this.currentState.cell)){var $bds$jscomp$2_bottom$$=mxRectangle.fromRectangle(this.currentState);null!=this.currentState.shape&&null!=this.currentState.shape.boundingBox&&($bds$jscomp$2_bottom$$=mxRectangle.fromRectangle(this.currentState.shape.boundingBox));
$bds$jscomp$2_bottom$$.grow(this.graph.tolerance);$bds$jscomp$2_bottom$$.grow(this.arrowSpacing);var $handler$jscomp$5_right$$=this.graph.selectionCellsHandler.getHandler(this.currentState.cell);null!=$handler$jscomp$5_right$$&&($bds$jscomp$2_bottom$$.x-=$handler$jscomp$5_right$$.horizontalOffset/2,$bds$jscomp$2_bottom$$.y-=$handler$jscomp$5_right$$.verticalOffset/2,$bds$jscomp$2_bottom$$.width+=$handler$jscomp$5_right$$.horizontalOffset,$bds$jscomp$2_bottom$$.height+=$handler$jscomp$5_right$$.verticalOffset,
null!=$handler$jscomp$5_right$$.rotationShape&&null!=$handler$jscomp$5_right$$.rotationShape.node&&"hidden"!=$handler$jscomp$5_right$$.rotationShape.node.style.visibility&&"none"!=$handler$jscomp$5_right$$.rotationShape.node.style.display&&null!=$handler$jscomp$5_right$$.rotationShape.boundingBox&&$bds$jscomp$2_bottom$$.add($handler$jscomp$5_right$$.rotationShape.boundingBox));this.arrowUp.style.left=Math.round(this.currentState.getCenterX()-this.triangleUp.width/2-this.tolerance)+"px";this.arrowUp.style.top=
Math.round($bds$jscomp$2_bottom$$.y-this.triangleUp.height-this.tolerance)+"px";mxUtils.setOpacity(this.arrowUp,this.inactiveOpacity);this.arrowRight.style.left=Math.round($bds$jscomp$2_bottom$$.x+$bds$jscomp$2_bottom$$.width-this.tolerance)+"px";this.arrowRight.style.top=Math.round(this.currentState.getCenterY()-this.triangleRight.height/2-this.tolerance)+"px";mxUtils.setOpacity(this.arrowRight,this.inactiveOpacity);this.arrowDown.style.left=this.arrowUp.style.left;this.arrowDown.style.top=Math.round($bds$jscomp$2_bottom$$.y+
$bds$jscomp$2_bottom$$.height-this.tolerance)+"px";mxUtils.setOpacity(this.arrowDown,this.inactiveOpacity);this.arrowLeft.style.left=Math.round($bds$jscomp$2_bottom$$.x-this.triangleLeft.width-this.tolerance)+"px";this.arrowLeft.style.top=this.arrowRight.style.top;mxUtils.setOpacity(this.arrowLeft,this.inactiveOpacity);if(this.checkCollisions){var $handler$jscomp$5_right$$=this.graph.getCellAt($bds$jscomp$2_bottom$$.x+$bds$jscomp$2_bottom$$.width+this.triangleRight.width/2,this.currentState.getCenterY()),
$left$$=this.graph.getCellAt($bds$jscomp$2_bottom$$.x-this.triangleLeft.width/2,this.currentState.getCenterY()),$top$$=this.graph.getCellAt(this.currentState.getCenterX(),$bds$jscomp$2_bottom$$.y-this.triangleUp.height/2),$bds$jscomp$2_bottom$$=this.graph.getCellAt(this.currentState.getCenterX(),$bds$jscomp$2_bottom$$.y+$bds$jscomp$2_bottom$$.height+this.triangleDown.height/2);null!=$handler$jscomp$5_right$$&&$handler$jscomp$5_right$$==$left$$&&$left$$==$top$$&&$top$$==$bds$jscomp$2_bottom$$&&($bds$jscomp$2_bottom$$=
$top$$=$left$$=$handler$jscomp$5_right$$=null);var $currentGeo$$=this.graph.getCellGeometry(this.currentState.cell),$checkCollision$$=mxUtils.bind(this,function($cell$$,$arrow$$){var $geo$$=this.graph.model.isVertex($cell$$)&&this.graph.getCellGeometry($cell$$);null!=$cell$$&&!this.graph.model.isAncestor($cell$$,this.currentState.cell)&&(null==$geo$$||null==$currentGeo$$||$geo$$.height<6*$currentGeo$$.height&&$geo$$.width<6*$currentGeo$$.width)?$arrow$$.style.visibility="hidden":$arrow$$.style.visibility=
"visible"});$checkCollision$$($handler$jscomp$5_right$$,this.arrowRight);$checkCollision$$($left$$,this.arrowLeft);$checkCollision$$($top$$,this.arrowUp);$checkCollision$$($bds$jscomp$2_bottom$$,this.arrowDown)}else this.arrowLeft.style.visibility="visible",this.arrowRight.style.visibility="visible",this.arrowUp.style.visibility="visible",this.arrowDown.style.visibility="visible";this.graph.tooltipHandler.isEnabled()?(this.arrowLeft.setAttribute("title",mxResources.get("plusTooltip")),this.arrowRight.setAttribute("title",
mxResources.get("plusTooltip")),this.arrowUp.setAttribute("title",mxResources.get("plusTooltip")),this.arrowDown.setAttribute("title",mxResources.get("plusTooltip"))):(this.arrowLeft.removeAttribute("title"),this.arrowRight.removeAttribute("title"),this.arrowUp.removeAttribute("title"),this.arrowDown.removeAttribute("title"))}else this.reset();null!=this.currentState&&(this.bbox=this.computeBoundingBox(),null!=this.bbox&&this.bbox.grow(10))}};
HoverIcons.prototype.computeBoundingBox=function $HoverIcons$$computeBoundingBox$(){var $bbox$$=this.graph.model.isEdge(this.currentState.cell)?null:mxRectangle.fromRectangle(this.currentState);this.visitNodes(function($elt$jscomp$11_tmp$$){null!=$elt$jscomp$11_tmp$$.parentNode&&($elt$jscomp$11_tmp$$=new mxRectangle($elt$jscomp$11_tmp$$.offsetLeft,$elt$jscomp$11_tmp$$.offsetTop,$elt$jscomp$11_tmp$$.offsetWidth,$elt$jscomp$11_tmp$$.offsetHeight),null==$bbox$$?$bbox$$=$elt$jscomp$11_tmp$$:$bbox$$.add($elt$jscomp$11_tmp$$))});
return $bbox$$};
HoverIcons.prototype.getState=function $HoverIcons$$getState$($cell$jscomp$38_state$$){if(null!=$cell$jscomp$38_state$$)if($cell$jscomp$38_state$$=$cell$jscomp$38_state$$.cell,this.graph.getModel().contains($cell$jscomp$38_state$$)){if(this.graph.getModel().isVertex($cell$jscomp$38_state$$)&&!this.graph.isCellConnectable($cell$jscomp$38_state$$)){var $parent$$=this.graph.getModel().getParent($cell$jscomp$38_state$$);this.graph.getModel().isVertex($parent$$)&&this.graph.isCellConnectable($parent$$)&&($cell$jscomp$38_state$$=
$parent$$)}if(this.graph.isCellLocked($cell$jscomp$38_state$$)||this.graph.model.isEdge($cell$jscomp$38_state$$))$cell$jscomp$38_state$$=null;$cell$jscomp$38_state$$=this.graph.view.getState($cell$jscomp$38_state$$);null!=$cell$jscomp$38_state$$&&null==$cell$jscomp$38_state$$.style&&($cell$jscomp$38_state$$=null)}else $cell$jscomp$38_state$$=null;return $cell$jscomp$38_state$$};
HoverIcons.prototype.update=function $HoverIcons$$update$($state$$,$x$$,$y$$){if(this.graph.connectionArrowsEnabled){null!=$state$$&&null!=$state$$.cell.geometry&&$state$$.cell.geometry.relative&&this.graph.model.isEdge($state$$.cell.parent)&&($state$$=null);var $timeOnTarget$$=null;this.prev!=$state$$||this.isActive()?(this.startTime=(new Date).getTime(),this.prev=$state$$,$timeOnTarget$$=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=$state$$&&(this.updateThread=window.setTimeout(mxUtils.bind(this,
function(){this.isActive()||this.graph.isMouseDown||this.graph.panningHandler.isActive()||(this.prev=$state$$,this.update($state$$,$x$$,$y$$))}),this.updateDelay+10))):null!=this.startTime&&($timeOnTarget$$=(new Date).getTime()-this.startTime);this.setDisplay("");null!=this.currentState&&this.currentState!=$state$$&&$timeOnTarget$$<this.activationDelay&&null!=this.bbox&&!mxUtils.contains(this.bbox,$x$$,$y$$)?this.reset(!1):(null!=this.currentState||$timeOnTarget$$>this.activationDelay)&&this.currentState!=
$state$$&&($timeOnTarget$$>this.updateDelay&&null!=$state$$||null==this.bbox||null==$x$$||null==$y$$||!mxUtils.contains(this.bbox,$x$$,$y$$))&&(null!=$state$$&&this.graph.isEnabled()?(this.removeNodes(),this.setCurrentState($state$$),this.repaint(),this.graph.connectionHandler.constraintHandler.currentFocus!=$state$$&&this.graph.connectionHandler.constraintHandler.reset()):this.reset())}else this.reset()};
HoverIcons.prototype.setCurrentState=function $HoverIcons$$setCurrentState$($state$$){"eastwest"!=$state$$.style.portConstraint&&(this.graph.container.appendChild(this.arrowUp),this.graph.container.appendChild(this.arrowDown));this.graph.container.appendChild(this.arrowRight);this.graph.container.appendChild(this.arrowLeft);this.currentState=$state$$};
(function(){var $mxGraphViewResetValidationState$$=mxGraphView.prototype.resetValidationState;mxGraphView.prototype.resetValidationState=function $mxGraphView$$resetValidationState$(){$mxGraphViewResetValidationState$$.apply(this,arguments);this.validEdges=[]};var $mxGraphViewValidateCellState$$=mxGraphView.prototype.validateCellState;mxGraphView.prototype.validateCellState=function $mxGraphView$$validateCellState$($cell$$,$recurse$$){$recurse$$=null!=$recurse$$?$recurse$$:!0;var $state$$=this.getState($cell$$);
null!=$state$$&&$recurse$$&&this.graph.model.isEdge($state$$.cell)&&null!=$state$$.style&&1!=$state$$.style[mxConstants.STYLE_CURVED]&&!$state$$.invalid&&this.updateLineJumps($state$$)&&this.graph.cellRenderer.redraw($state$$,!1,this.isRendering());$state$$=$mxGraphViewValidateCellState$$.apply(this,arguments);null!=$state$$&&$recurse$$&&this.graph.model.isEdge($state$$.cell)&&null!=$state$$.style&&1!=$state$$.style[mxConstants.STYLE_CURVED]&&this.validEdges.push($state$$);return $state$$};var $mxCellRendererIsShapeInvalid$$=
mxCellRenderer.prototype.isShapeInvalid;mxCellRenderer.prototype.isShapeInvalid=function $mxCellRenderer$$isShapeInvalid$($state$$,$shape$$){return $mxCellRendererIsShapeInvalid$$.apply(this,arguments)||null!=$state$$.routedPoints&&null!=$shape$$.routedPoints&&!mxUtils.equalPoints($shape$$.routedPoints,$state$$.routedPoints)};var $mxGraphViewUpdateCellState$$=mxGraphView.prototype.updateCellState;mxGraphView.prototype.updateCellState=function $mxGraphView$$updateCellState$($state$$){$mxGraphViewUpdateCellState$$.apply(this,
arguments);this.graph.model.isEdge($state$$.cell)&&1!=$state$$.style[mxConstants.STYLE_CURVED]&&this.updateLineJumps($state$$)};mxGraphView.prototype.updateLineJumps=function $mxGraphView$$updateLineJumps$($state$$){var $pts$$=$state$$.absolutePoints;if(Graph.lineJumpsEnabled){var $changed$$=null!=$state$$.routedPoints,$actual$$=null;if(null!=$pts$$&&null!=this.validEdges&&"none"!==mxUtils.getValue($state$$.style,"jumpStyle","none")){for(var $addPoint$$=function $$addPoint$$$($type$$,$x$$,$y$$){var $curr_rpt$$=
new mxPoint($x$$,$y$$);$curr_rpt$$.type=$type$$;$actual$$.push($curr_rpt$$);$curr_rpt$$=null!=$state$$.routedPoints?$state$$.routedPoints[$actual$$.length-1]:null;return null==$curr_rpt$$||$curr_rpt$$.type!=$type$$||$curr_rpt$$.x!=$x$$||$curr_rpt$$.y!=$y$$},$thresh$$=.5*this.scale,$changed$$=!1,$actual$$=[],$i$$=0;$i$$<$pts$$.length-1;$i$$++){for(var $p1$$=$pts$$[$i$$+1],$p0$$=$pts$$[$i$$],$list$$=[],$pn_pt$jscomp$4_temp$$=$pts$$[$i$$+2];$i$$<$pts$$.length-2&&mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$pn_pt$jscomp$4_temp$$.x,
$pn_pt$jscomp$4_temp$$.y,$p1$$.x,$p1$$.y)<1*this.scale*this.scale;)$p1$$=$pn_pt$jscomp$4_temp$$,$i$$++,$pn_pt$jscomp$4_temp$$=$pts$$[$i$$+2];for(var $changed$$=$addPoint$$(0,$p0$$.x,$p0$$.y)||$changed$$,$e$$=0;$e$$<this.validEdges.length;$e$$++){var $j$$=this.validEdges[$e$$],$pts2$$=$j$$.absolutePoints;if(null!=$pts2$$&&mxUtils.intersects($state$$,$j$$)&&"1"!=$j$$.style.noJump)for($j$$=0;$j$$<$pts2$$.length-1;$j$$++){for(var $dx$jscomp$17_p3_t$$=$pts2$$[$j$$+1],$dy$$=$pts2$$[$j$$],$pn_pt$jscomp$4_temp$$=
$pts2$$[$j$$+2];$j$$<$pts2$$.length-2&&mxUtils.ptSegDistSq($dy$$.x,$dy$$.y,$pn_pt$jscomp$4_temp$$.x,$pn_pt$jscomp$4_temp$$.y,$dx$jscomp$17_p3_t$$.x,$dx$jscomp$17_p3_t$$.y)<1*this.scale*this.scale;)$dx$jscomp$17_p3_t$$=$pn_pt$jscomp$4_temp$$,$j$$++,$pn_pt$jscomp$4_temp$$=$pts2$$[$j$$+2];$pn_pt$jscomp$4_temp$$=mxUtils.intersection($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$dy$$.x,$dy$$.y,$dx$jscomp$17_p3_t$$.x,$dx$jscomp$17_p3_t$$.y);if(null!=$pn_pt$jscomp$4_temp$$&&(Math.abs($pn_pt$jscomp$4_temp$$.x-$p0$$.x)>
$thresh$$||Math.abs($pn_pt$jscomp$4_temp$$.y-$p0$$.y)>$thresh$$)&&(Math.abs($pn_pt$jscomp$4_temp$$.x-$p1$$.x)>$thresh$$||Math.abs($pn_pt$jscomp$4_temp$$.y-$p1$$.y)>$thresh$$)&&(Math.abs($pn_pt$jscomp$4_temp$$.x-$dy$$.x)>$thresh$$||Math.abs($pn_pt$jscomp$4_temp$$.y-$dy$$.y)>$thresh$$)&&(Math.abs($pn_pt$jscomp$4_temp$$.x-$dx$jscomp$17_p3_t$$.x)>$thresh$$||Math.abs($pn_pt$jscomp$4_temp$$.y-$dx$jscomp$17_p3_t$$.y)>$thresh$$)){$dx$jscomp$17_p3_t$$=$pn_pt$jscomp$4_temp$$.x-$p0$$.x;$dy$$=$pn_pt$jscomp$4_temp$$.y-
$p0$$.y;$pn_pt$jscomp$4_temp$$={distSq:$dx$jscomp$17_p3_t$$*$dx$jscomp$17_p3_t$$+$dy$$*$dy$$,x:$pn_pt$jscomp$4_temp$$.x,y:$pn_pt$jscomp$4_temp$$.y};for($dx$jscomp$17_p3_t$$=0;$dx$jscomp$17_p3_t$$<$list$$.length;$dx$jscomp$17_p3_t$$++)if($list$$[$dx$jscomp$17_p3_t$$].distSq>$pn_pt$jscomp$4_temp$$.distSq){$list$$.splice($dx$jscomp$17_p3_t$$,0,$pn_pt$jscomp$4_temp$$);$pn_pt$jscomp$4_temp$$=null;break}null==$pn_pt$jscomp$4_temp$$||0!=$list$$.length&&$list$$[$list$$.length-1].x===$pn_pt$jscomp$4_temp$$.x&&
$list$$[$list$$.length-1].y===$pn_pt$jscomp$4_temp$$.y||$list$$.push($pn_pt$jscomp$4_temp$$)}}}for($j$$=0;$j$$<$list$$.length;$j$$++)$changed$$=$addPoint$$(1,$list$$[$j$$].x,$list$$[$j$$].y)||$changed$$}$pn_pt$jscomp$4_temp$$=$pts$$[$pts$$.length-1];$changed$$=$addPoint$$(0,$pn_pt$jscomp$4_temp$$.x,$pn_pt$jscomp$4_temp$$.y)||$changed$$}$state$$.routedPoints=$actual$$;return $changed$$}return!1};var $mxConnectorPaintLine$$=mxConnector.prototype.paintLine;mxConnector.prototype.paintLine=function $mxConnector$$paintLine$($c$$,
$absPts$$,$rounded$$){this.routedPoints=null!=this.state?this.state.routedPoints:null;if(this.outline||null==this.state||null==this.style||null==this.state.routedPoints||0==this.state.routedPoints.length)$mxConnectorPaintLine$$.apply(this,arguments);else{var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2,$size$$=(parseInt(mxUtils.getValue(this.style,"jumpSize",Graph.defaultJumpSize))-2)/2+this.strokewidth,$style$$=mxUtils.getValue(this.style,"jumpStyle",
"none"),$f$jscomp$5_pts$$,$moveTo$$=!0,$last$$=null,$len$$=null;$f$jscomp$5_pts$$=[];var $n$$=null;$c$$.begin();for(var $i$$=0;$i$$<this.state.routedPoints.length;$i$$++){var $dist_dx$jscomp$18_p1$jscomp$1_rpt$$=this.state.routedPoints[$i$$],$pt$$=new mxPoint($dist_dx$jscomp$18_p1$jscomp$1_rpt$$.x/this.scale,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.y/this.scale);0==$i$$?$pt$$=$absPts$$[0]:$i$$==this.state.routedPoints.length-1&&($pt$$=$absPts$$[$absPts$$.length-1]);var $done$jscomp$1_p0$$=!1;if(null!=
$last$$&&1==$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.type){var $dy$jscomp$16_next$$=this.state.routedPoints[$i$$+1],$dist_dx$jscomp$18_p1$jscomp$1_rpt$$=$dy$jscomp$16_next$$.x/this.scale-$pt$$.x,$dy$jscomp$16_next$$=$dy$jscomp$16_next$$.y/this.scale-$pt$$.y,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$=$dist_dx$jscomp$18_p1$jscomp$1_rpt$$*$dist_dx$jscomp$18_p1$jscomp$1_rpt$$+$dy$jscomp$16_next$$*$dy$jscomp$16_next$$;null==$n$$&&($n$$=new mxPoint($pt$$.x-$last$$.x,$pt$$.y-$last$$.y),$len$$=Math.sqrt($n$$.x*$n$$.x+
$n$$.y*$n$$.y),0<$len$$?($n$$.x=$n$$.x*$size$$/$len$$,$n$$.y=$n$$.y*$size$$/$len$$):$n$$=null);$dist_dx$jscomp$18_p1$jscomp$1_rpt$$>$size$$*$size$$&&0<$len$$&&($dist_dx$jscomp$18_p1$jscomp$1_rpt$$=$last$$.x-$pt$$.x,$dy$jscomp$16_next$$=$last$$.y-$pt$$.y,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$=$dist_dx$jscomp$18_p1$jscomp$1_rpt$$*$dist_dx$jscomp$18_p1$jscomp$1_rpt$$+$dy$jscomp$16_next$$*$dy$jscomp$16_next$$,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$>$size$$*$size$$&&($done$jscomp$1_p0$$=new mxPoint($pt$$.x-
$n$$.x,$pt$$.y-$n$$.y),$dist_dx$jscomp$18_p1$jscomp$1_rpt$$=new mxPoint($pt$$.x+$n$$.x,$pt$$.y+$n$$.y),$f$jscomp$5_pts$$.push($done$jscomp$1_p0$$),this.addPoints($c$$,$f$jscomp$5_pts$$,$rounded$$,$arcSize$$,!1,null,$moveTo$$),$f$jscomp$5_pts$$=0>Math.round($n$$.x)||0==Math.round($n$$.x)&&0>=Math.round($n$$.y)?1:-1,$moveTo$$=!1,"sharp"==$style$$?($c$$.lineTo($done$jscomp$1_p0$$.x-$n$$.y*$f$jscomp$5_pts$$,$done$jscomp$1_p0$$.y+$n$$.x*$f$jscomp$5_pts$$),$c$$.lineTo($dist_dx$jscomp$18_p1$jscomp$1_rpt$$.x-
$n$$.y*$f$jscomp$5_pts$$,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.y+$n$$.x*$f$jscomp$5_pts$$),$c$$.lineTo($dist_dx$jscomp$18_p1$jscomp$1_rpt$$.x,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.y)):"arc"==$style$$?($f$jscomp$5_pts$$*=1.3,$c$$.curveTo($done$jscomp$1_p0$$.x-$n$$.y*$f$jscomp$5_pts$$,$done$jscomp$1_p0$$.y+$n$$.x*$f$jscomp$5_pts$$,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.x-$n$$.y*$f$jscomp$5_pts$$,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.y+$n$$.x*$f$jscomp$5_pts$$,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.x,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.y)):
($c$$.moveTo($dist_dx$jscomp$18_p1$jscomp$1_rpt$$.x,$dist_dx$jscomp$18_p1$jscomp$1_rpt$$.y),$moveTo$$=!0),$f$jscomp$5_pts$$=[$dist_dx$jscomp$18_p1$jscomp$1_rpt$$],$done$jscomp$1_p0$$=!0))}else $n$$=null;$done$jscomp$1_p0$$||($f$jscomp$5_pts$$.push($pt$$),$last$$=$pt$$)}this.addPoints($c$$,$f$jscomp$5_pts$$,$rounded$$,$arcSize$$,!1,null,$moveTo$$);$c$$.stroke()}};var $mxGraphViewUpdateFloatingTerminalPoint$$=mxGraphView.prototype.updateFloatingTerminalPoint;mxGraphView.prototype.updateFloatingTerminalPoint=
function $mxGraphView$$updateFloatingTerminalPoint$($edge$$,$start$$,$end$$,$source$$){if(null==$start$$||null==$edge$$||"1"!=$start$$.style.snapToPoint&&"1"!=$edge$$.style.snapToPoint)$mxGraphViewUpdateFloatingTerminalPoint$$.apply(this,arguments);else{$start$$=this.getTerminalPort($edge$$,$start$$,$source$$);var $next$jscomp$3_pt$$=this.getNextPoint($edge$$,$end$$,$source$$),$orth$$=this.graph.isOrthogonal($edge$$),$alpha$$=mxUtils.toRadians(Number($start$$.style[mxConstants.STYLE_ROTATION]||"0")),
$center$$=new mxPoint($start$$.getCenterX(),$start$$.getCenterY());if(0!=$alpha$$)var $border$$=Math.cos(-$alpha$$),$sin$$=Math.sin(-$alpha$$),$next$jscomp$3_pt$$=mxUtils.getRotatedPoint($next$jscomp$3_pt$$,$border$$,$sin$$,$center$$);$border$$=parseFloat($edge$$.style[mxConstants.STYLE_PERIMETER_SPACING]||0);$border$$+=parseFloat($edge$$.style[$source$$?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);$next$jscomp$3_pt$$=this.getPerimeterPoint($start$$,$next$jscomp$3_pt$$,
0==$alpha$$&&$orth$$,$border$$);0!=$alpha$$&&($border$$=Math.cos($alpha$$),$sin$$=Math.sin($alpha$$),$next$jscomp$3_pt$$=mxUtils.getRotatedPoint($next$jscomp$3_pt$$,$border$$,$sin$$,$center$$));$edge$$.setAbsoluteTerminalPoint(this.snapToAnchorPoint($edge$$,$start$$,$end$$,$source$$,$next$jscomp$3_pt$$),$source$$)}};mxGraphView.prototype.snapToAnchorPoint=function $mxGraphView$$snapToAnchorPoint$($constraints$jscomp$7_edge$$,$start$$,$end$$,$dist$jscomp$1_source$$,$pt$$){if(null!=$start$$&&null!=
$constraints$jscomp$7_edge$$){$constraints$jscomp$7_edge$$=this.graph.getAllConnectionConstraints($start$$);$dist$jscomp$1_source$$=$end$$=null;if(null!=$constraints$jscomp$7_edge$$)for(var $i$$=0;$i$$<$constraints$jscomp$7_edge$$.length;$i$$++){var $cp$$=this.graph.getConnectionPoint($start$$,$constraints$jscomp$7_edge$$[$i$$]);if(null!=$cp$$){var $tmp$$=($cp$$.x-$pt$$.x)*($cp$$.x-$pt$$.x)+($cp$$.y-$pt$$.y)*($cp$$.y-$pt$$.y);if(null==$dist$jscomp$1_source$$||$tmp$$<$dist$jscomp$1_source$$)$end$$=
$cp$$,$dist$jscomp$1_source$$=$tmp$$}}null!=$end$$&&($pt$$=$end$$)}return $pt$$};var $mxStencilEvaluateTextAttribute$$=mxStencil.prototype.evaluateTextAttribute;mxStencil.prototype.evaluateTextAttribute=function $mxStencil$$evaluateTextAttribute$($node$$,$attribute$$,$shape$$){var $result$$=$mxStencilEvaluateTextAttribute$$.apply(this,arguments);"1"==$node$$.getAttribute("placeholders")&&null!=$shape$$.state&&($result$$=$shape$$.state.view.graph.replacePlaceholders($shape$$.state.cell,$result$$));
return $result$$};var $mxCellRendererCreateShape$$=mxCellRenderer.prototype.createShape;mxCellRenderer.prototype.createShape=function $mxCellRenderer$$createShape$($state$$){if(null!=$state$$.style&&"undefined"!==typeof pako){var $shape$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_SHAPE,null);if(null!=$shape$$&&"stencil("==$shape$$.substring(0,8))try{var $stencil$$=$shape$$.substring(8,$shape$$.length-1),$doc$$=mxUtils.parseXml(Graph.decompress($stencil$$));return new mxShape(new mxStencil($doc$$.documentElement))}catch($e$$){null!=
window.console&&console.log("Error in shape: "+$e$$)}}return $mxCellRendererCreateShape$$.apply(this,arguments)}})();mxStencilRegistry.libraries={};mxStencilRegistry.dynamicLoading=!0;mxStencilRegistry.allowEval=!0;mxStencilRegistry.packages=[];
mxStencilRegistry.getStencil=function $mxStencilRegistry$getStencil$($name$$){var $libs_result$$=mxStencilRegistry.stencils[$name$$];if(null==$libs_result$$&&null==mxCellRenderer.defaultShapes[$name$$]&&mxStencilRegistry.dynamicLoading){var $basename$$=mxStencilRegistry.getBasenameForStencil($name$$);if(null!=$basename$$){$libs_result$$=mxStencilRegistry.libraries[$basename$$];if(null!=$libs_result$$){if(null==mxStencilRegistry.packages[$basename$$]){for(var $i$$=0;$i$$<$libs_result$$.length;$i$$++){var $fname$$=
$libs_result$$[$i$$];if(".xml"==$fname$$.toLowerCase().substring($fname$$.length-4,$fname$$.length))mxStencilRegistry.loadStencilSet($fname$$,null);else if(".js"==$fname$$.toLowerCase().substring($fname$$.length-3,$fname$$.length))try{if(mxStencilRegistry.allowEval){var $req$$=mxUtils.load($fname$$);null!=$req$$&&200<=$req$$.getStatus()&&299>=$req$$.getStatus()&&eval.call(window,$req$$.getText())}}catch($e$$){null!=window.console&&console.log("error in getStencil:",$fname$$,$e$$)}}mxStencilRegistry.packages[$basename$$]=
1}}else $basename$$=$basename$$.replace("_-_","_"),mxStencilRegistry.loadStencilSet(STENCIL_PATH+"/"+$basename$$+".xml",null);$libs_result$$=mxStencilRegistry.stencils[$name$$]}}return $libs_result$$};mxStencilRegistry.getBasenameForStencil=function $mxStencilRegistry$getBasenameForStencil$($name$$){var $tmp$$=null;if(null!=$name$$&&($name$$=$name$$.split("."),0<$name$$.length&&"mxgraph"==$name$$[0]))for(var $tmp$$=$name$$[1],$i$$=2;$i$$<$name$$.length-1;$i$$++)$tmp$$+="/"+$name$$[$i$$];return $tmp$$};
mxStencilRegistry.loadStencilSet=function $mxStencilRegistry$loadStencilSet$($stencilFile$$,$postStencilLoad$$,$force$$,$async$$){var $xmlDoc$$=mxStencilRegistry.packages[$stencilFile$$];if(null!=$force$$&&$force$$||null==$xmlDoc$$){var $install$$=!1;if(null==$xmlDoc$$)try{if($async$$){mxStencilRegistry.loadStencil($stencilFile$$,mxUtils.bind(this,function($xmlDoc2$$){null!=$xmlDoc2$$&&null!=$xmlDoc2$$.documentElement&&(mxStencilRegistry.packages[$stencilFile$$]=$xmlDoc2$$,$install$$=!0,mxStencilRegistry.parseStencilSet($xmlDoc2$$.documentElement,
$postStencilLoad$$,$install$$))}));return}$xmlDoc$$=mxStencilRegistry.loadStencil($stencilFile$$);mxStencilRegistry.packages[$stencilFile$$]=$xmlDoc$$;$install$$=!0}catch($e$$){null!=window.console&&console.log("error in loadStencilSet:",$stencilFile$$,$e$$)}null!=$xmlDoc$$&&null!=$xmlDoc$$.documentElement&&mxStencilRegistry.parseStencilSet($xmlDoc$$.documentElement,$postStencilLoad$$,$install$$)}};
mxStencilRegistry.loadStencil=function $mxStencilRegistry$loadStencil$($filename$$,$fn$$){if(null!=$fn$$)mxUtils.get($filename$$,mxUtils.bind(this,function($req$$){$fn$$(200<=$req$$.getStatus()&&299>=$req$$.getStatus()?$req$$.getXml():null)}));else return mxUtils.load($filename$$).getXml()};mxStencilRegistry.parseStencilSets=function $mxStencilRegistry$parseStencilSets$($stencils$$){for(var $i$$=0;$i$$<$stencils$$.length;$i$$++)mxStencilRegistry.parseStencilSet(mxUtils.parseXml($stencils$$[$i$$]).documentElement)};
mxStencilRegistry.parseStencilSet=function $mxStencilRegistry$parseStencilSet$($name$jscomp$67_root$$,$postStencilLoad$$,$install$$){if("stencils"==$name$jscomp$67_root$$.nodeName)for(var $shape$$=$name$jscomp$67_root$$.firstChild;null!=$shape$$;)"shapes"==$shape$$.nodeName&&mxStencilRegistry.parseStencilSet($shape$$,$postStencilLoad$$,$install$$),$shape$$=$shape$$.nextSibling;else{$install$$=null!=$install$$?$install$$:!0;var $shape$$=$name$jscomp$67_root$$.firstChild,$packageName$$="";$name$jscomp$67_root$$=
$name$jscomp$67_root$$.getAttribute("name");for(null!=$name$jscomp$67_root$$&&($packageName$$=$name$jscomp$67_root$$+".");null!=$shape$$;){if($shape$$.nodeType==mxConstants.NODETYPE_ELEMENT&&($name$jscomp$67_root$$=$shape$$.getAttribute("name"),null!=$name$jscomp$67_root$$)){var $packageName$$=$packageName$$.toLowerCase(),$stencilName$$=$name$jscomp$67_root$$.replace(/ /g,"_");$install$$&&mxStencilRegistry.addStencil($packageName$$+$stencilName$$.toLowerCase(),new mxStencil($shape$$));if(null!=$postStencilLoad$$){var $w$$=
$shape$$.getAttribute("w"),$h$$=$shape$$.getAttribute("h"),$w$$=null==$w$$?80:parseInt($w$$,10),$h$$=null==$h$$?80:parseInt($h$$,10);$postStencilLoad$$($packageName$$,$stencilName$$,$name$jscomp$67_root$$,$w$$,$h$$)}}$shape$$=$shape$$.nextSibling}}};
"undefined"!=typeof mxVertexHandler&&function(){function $createHint$$(){var $hint$$=document.createElement("div");$hint$$.className="geHint";$hint$$.style.whiteSpace="nowrap";$hint$$.style.position="absolute";return $hint$$}mxConstants.HANDLE_FILLCOLOR="#29b6f2";mxConstants.HANDLE_STROKECOLOR="#0088cf";mxConstants.VERTEX_SELECTION_COLOR="#00a8ff";mxConstants.OUTLINE_COLOR="#00a8ff";mxConstants.OUTLINE_HANDLE_FILLCOLOR="#99ccff";mxConstants.OUTLINE_HANDLE_STROKECOLOR="#00a8ff";mxConstants.CONNECT_HANDLE_FILLCOLOR=
"#cee7ff";mxConstants.EDGE_SELECTION_COLOR="#00a8ff";mxConstants.DEFAULT_VALID_COLOR="#00a8ff";mxConstants.LABEL_HANDLE_FILLCOLOR="#cee7ff";mxConstants.GUIDE_COLOR="#0088cf";mxConstants.HIGHLIGHT_OPACITY=30;mxConstants.HIGHLIGHT_SIZE=5;mxEdgeHandler.prototype.snapToTerminals=!0;mxGraphHandler.prototype.guidesEnabled=!0;mxRubberband.prototype.fadeOut=!0;mxGuide.prototype.isEnabledForEvent=function $mxGuide$$isEnabledForEvent$($evt$$){return!mxEvent.isAltDown($evt$$)};var $mxConnectionHandlerCreateTarget$$=
mxConnectionHandler.prototype.isCreateTarget;mxConnectionHandler.prototype.isCreateTarget=function $mxConnectionHandler$$isCreateTarget$($evt$$){return mxEvent.isControlDown($evt$$)||$mxConnectionHandlerCreateTarget$$.apply(this,arguments)};mxConstraintHandler.prototype.createHighlightShape=function $mxConstraintHandler$$createHighlightShape$(){var $hl$$=new mxEllipse(null,this.highlightColor,this.highlightColor,0);$hl$$.opacity=mxConstants.HIGHLIGHT_OPACITY;return $hl$$};mxConnectionHandler.prototype.livePreview=
!0;mxConnectionHandler.prototype.cursor="crosshair";mxConnectionHandler.prototype.createEdgeState=function $mxConnectionHandler$$createEdgeState$($edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$){$edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$=this.graph.createCurrentEdgeStyle();$edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$=this.graph.createEdge(null,null,null,null,null,$edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$);$edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$=new mxCellState(this.graph.view,
$edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$,this.graph.getCellStyle($edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$));for(var $key$$ in this.graph.currentEdgeStyle)$edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$.style[$key$$]=this.graph.currentEdgeStyle[$key$$];return $edge$jscomp$6_me$jscomp$29_state$jscomp$38_style$$};var $connectionHandlerCreateShape$$=mxConnectionHandler.prototype.createShape;mxConnectionHandler.prototype.createShape=function $mxConnectionHandler$$createShape$(){var $shape$$=
$connectionHandlerCreateShape$$.apply(this,arguments);$shape$$.isDashed="1"==this.graph.currentEdgeStyle[mxConstants.STYLE_DASHED];return $shape$$};mxConnectionHandler.prototype.updatePreview=function $mxConnectionHandler$$updatePreview$($valid$$){};var $mxConnectionHandlerCreateMarker$$=mxConnectionHandler.prototype.createMarker;mxConnectionHandler.prototype.createMarker=function $mxConnectionHandler$$createMarker$(){var $marker$$=$mxConnectionHandlerCreateMarker$$.apply(this,arguments),$markerGetCell$$=
$marker$$.getCell;$marker$$.getCell=mxUtils.bind(this,function($me$$){var $result$$=$markerGetCell$$.apply(this,arguments);this.error=null;return $result$$});return $marker$$};mxConnectionHandler.prototype.isCellEnabled=function $mxConnectionHandler$$isCellEnabled$($cell$$){return!this.graph.isCellLocked($cell$$)};Graph.prototype.defaultVertexStyle={};Graph.prototype.defaultEdgeStyle={edgeStyle:"",strokeColor:"#808080",endArrow:"none",rounded:"0",jettySize:"auto",orthogonalLoop:"1"};Graph.prototype.createCurrentEdgeStyle=
function $Graph$$createCurrentEdgeStyle$(){var $style$$="edgeStyle="+(this.currentEdgeStyle.edgeStyle||"none")+";";null!=this.currentEdgeStyle.shape&&($style$$+="shape="+this.currentEdgeStyle.shape+";");null!=this.currentEdgeStyle.curved&&($style$$+="curved="+this.currentEdgeStyle.curved+";");null!=this.currentEdgeStyle.rounded&&($style$$+="rounded="+this.currentEdgeStyle.rounded+";");null!=this.currentEdgeStyle.comic&&($style$$+="comic="+this.currentEdgeStyle.comic+";");null!=this.currentEdgeStyle.jumpStyle&&
($style$$+="jumpStyle="+this.currentEdgeStyle.jumpStyle+";");null!=this.currentEdgeStyle.jumpSize&&($style$$+="jumpSize="+this.currentEdgeStyle.jumpSize+";");null!=this.currentEdgeStyle.orthogonalLoop?$style$$+="orthogonalLoop="+this.currentEdgeStyle.orthogonalLoop+";":null!=Graph.prototype.defaultEdgeStyle.orthogonalLoop&&($style$$+="orthogonalLoop="+Graph.prototype.defaultEdgeStyle.orthogonalLoop+";");null!=this.currentEdgeStyle.jettySize?$style$$+="jettySize="+this.currentEdgeStyle.jettySize+";":
null!=Graph.prototype.defaultEdgeStyle.jettySize&&($style$$+="jettySize="+Graph.prototype.defaultEdgeStyle.jettySize+";");"elbowEdgeStyle"==this.currentEdgeStyle.edgeStyle&&null!=this.currentEdgeStyle.elbow&&($style$$+="elbow="+this.currentEdgeStyle.elbow+";");return $style$$=null!=this.currentEdgeStyle.html?$style$$+("html="+this.currentEdgeStyle.html+";"):$style$$+"html=1;"};Graph.prototype.getPagePadding=function $Graph$$getPagePadding$(){return new mxPoint(0,0)};Graph.prototype.loadStylesheet=
function $Graph$$loadStylesheet$(){var $node$$=null!=this.themes?this.themes[this.defaultThemeName]:mxStyleRegistry.dynamicLoading?mxUtils.load(STYLE_PATH+"/default.xml").getDocumentElement():null;null!=$node$$&&(new mxCodec($node$$.ownerDocument)).decode($node$$,this.getStylesheet())};Graph.prototype.importGraphModel=function $Graph$$importGraphModel$($cells$jscomp$19_node$$,$dx$$,$dy$$,$crop$$){$dx$$=null!=$dx$$?$dx$$:0;$dy$$=null!=$dy$$?$dy$$:0;var $codec$$=new mxCodec($cells$jscomp$19_node$$.ownerDocument),
$i$$=new mxGraphModel;$codec$$.decode($cells$jscomp$19_node$$,$i$$);$cells$jscomp$19_node$$=[];$codec$$=$i$$.getChildren(this.cloneCell($i$$.root,this.isCloneInvalidEdges()));if(null!=$codec$$){$codec$$=$codec$$.slice();this.model.beginUpdate();try{if(1!=$codec$$.length||this.isCellLocked(this.getDefaultParent()))for($i$$=0;$i$$<$codec$$.length;$i$$++)$cells$jscomp$19_node$$=$cells$jscomp$19_node$$.concat(this.model.getChildren(this.moveCells([$codec$$[$i$$]],$dx$$,$dy$$,!1,this.model.getRoot())[0]));
else $cells$jscomp$19_node$$=this.moveCells($i$$.getChildren($codec$$[0]),$dx$$,$dy$$,!1,this.getDefaultParent());if($crop$$){this.isGridEnabled()&&($dx$$=this.snap($dx$$),$dy$$=this.snap($dy$$));var $bounds$$=this.getBoundingBoxFromGeometry($cells$jscomp$19_node$$,!0);null!=$bounds$$&&this.moveCells($cells$jscomp$19_node$$,$dx$$-$bounds$$.x,$dy$$-$bounds$$.y)}}finally{this.model.endUpdate()}}return $cells$jscomp$19_node$$};Graph.prototype.getAllConnectionConstraints=function $Graph$$getAllConnectionConstraints$($terminal$$,
$source$$){if(null!=$terminal$$){var $constraints$jscomp$8_i$jscomp$40_scale$$=mxUtils.getValue($terminal$$.style,"points",null);if(null!=$constraints$jscomp$8_i$jscomp$40_scale$$){var $result$jscomp$20_w$$=[];try{for(var $bounds$jscomp$9_c$jscomp$2_h$$=JSON.parse($constraints$jscomp$8_i$jscomp$40_scale$$),$constraints$jscomp$8_i$jscomp$40_scale$$=0;$constraints$jscomp$8_i$jscomp$40_scale$$<$bounds$jscomp$9_c$jscomp$2_h$$.length;$constraints$jscomp$8_i$jscomp$40_scale$$++){var $dir$jscomp$3_tmp$$=
$bounds$jscomp$9_c$jscomp$2_h$$[$constraints$jscomp$8_i$jscomp$40_scale$$];$result$jscomp$20_w$$.push(new mxConnectionConstraint(new mxPoint($dir$jscomp$3_tmp$$[0],$dir$jscomp$3_tmp$$[1]),2<$dir$jscomp$3_tmp$$.length?"0"!=$dir$jscomp$3_tmp$$[2]:!0,null,3<$dir$jscomp$3_tmp$$.length?$dir$jscomp$3_tmp$$[3]:0,4<$dir$jscomp$3_tmp$$.length?$dir$jscomp$3_tmp$$[4]:0))}}catch($e$$){}return $result$jscomp$20_w$$}if(null!=$terminal$$.shape&&null!=$terminal$$.shape.bounds){$dir$jscomp$3_tmp$$=$terminal$$.shape.direction;
$bounds$jscomp$9_c$jscomp$2_h$$=$terminal$$.shape.bounds;$constraints$jscomp$8_i$jscomp$40_scale$$=$terminal$$.shape.scale;$result$jscomp$20_w$$=$bounds$jscomp$9_c$jscomp$2_h$$.width/$constraints$jscomp$8_i$jscomp$40_scale$$;$bounds$jscomp$9_c$jscomp$2_h$$=$bounds$jscomp$9_c$jscomp$2_h$$.height/$constraints$jscomp$8_i$jscomp$40_scale$$;if($dir$jscomp$3_tmp$$==mxConstants.DIRECTION_NORTH||$dir$jscomp$3_tmp$$==mxConstants.DIRECTION_SOUTH)$dir$jscomp$3_tmp$$=$result$jscomp$20_w$$,$result$jscomp$20_w$$=
$bounds$jscomp$9_c$jscomp$2_h$$,$bounds$jscomp$9_c$jscomp$2_h$$=$dir$jscomp$3_tmp$$;$constraints$jscomp$8_i$jscomp$40_scale$$=$terminal$$.shape.getConstraints($terminal$$.style,$result$jscomp$20_w$$,$bounds$jscomp$9_c$jscomp$2_h$$);if(null!=$constraints$jscomp$8_i$jscomp$40_scale$$)return $constraints$jscomp$8_i$jscomp$40_scale$$;if(null!=$terminal$$.shape.stencil&&null!=$terminal$$.shape.stencil.constraints)return $terminal$$.shape.stencil.constraints;if(null!=$terminal$$.shape.constraints)return $terminal$$.shape.constraints}}return null};
Graph.prototype.flipEdge=function $Graph$$flipEdge$($edge$$){if(null!=$edge$$){var $state$jscomp$39_style$jscomp$15_value$$=this.view.getState($edge$$),$state$jscomp$39_style$jscomp$15_value$$=null!=$state$jscomp$39_style$jscomp$15_value$$?$state$jscomp$39_style$jscomp$15_value$$.style:this.getCellStyle($edge$$);null!=$state$jscomp$39_style$jscomp$15_value$$&&($state$jscomp$39_style$jscomp$15_value$$=mxUtils.getValue($state$jscomp$39_style$jscomp$15_value$$,mxConstants.STYLE_ELBOW,mxConstants.ELBOW_HORIZONTAL)==
mxConstants.ELBOW_HORIZONTAL?mxConstants.ELBOW_VERTICAL:mxConstants.ELBOW_HORIZONTAL,this.setCellStyles(mxConstants.STYLE_ELBOW,$state$jscomp$39_style$jscomp$15_value$$,[$edge$$]))}};Graph.prototype.isValidRoot=function $Graph$$isValidRoot$($cell$$){for(var $childCount$$=this.model.getChildCount($cell$$),$realChildCount$$=0,$i$$=0;$i$$<$childCount$$;$i$$++){var $child_geometry$$=this.model.getChildAt($cell$$,$i$$);this.model.isVertex($child_geometry$$)&&($child_geometry$$=this.getCellGeometry($child_geometry$$),
null==$child_geometry$$||$child_geometry$$.relative||$realChildCount$$++)}return 0<$realChildCount$$||this.isContainer($cell$$)};Graph.prototype.isValidDropTarget=function $Graph$$isValidDropTarget$($cell$$){var $state$jscomp$40_style$$=this.view.getState($cell$$),$state$jscomp$40_style$$=null!=$state$jscomp$40_style$$?$state$jscomp$40_style$$.style:this.getCellStyle($cell$$);return"1"!=mxUtils.getValue($state$jscomp$40_style$$,"part","0")&&(this.isContainer($cell$$)||mxGraph.prototype.isValidDropTarget.apply(this,
arguments)&&"0"!=mxUtils.getValue($state$jscomp$40_style$$,"dropTarget","1"))};Graph.prototype.createGroupCell=function $Graph$$createGroupCell$(){var $group$$=mxGraph.prototype.createGroupCell.apply(this,arguments);$group$$.setStyle("group");return $group$$};Graph.prototype.isExtendParentsOnAdd=function $Graph$$isExtendParentsOnAdd$($cell$$){var $result$$=mxGraph.prototype.isExtendParentsOnAdd.apply(this,arguments);if($result$$&&null!=$cell$$&&null!=this.layoutManager){var $layout$jscomp$9_parent$$=
this.model.getParent($cell$$);null!=$layout$jscomp$9_parent$$&&($layout$jscomp$9_parent$$=this.layoutManager.getLayout($layout$jscomp$9_parent$$),null!=$layout$jscomp$9_parent$$&&$layout$jscomp$9_parent$$.constructor==mxStackLayout&&($result$$=!1))}return $result$$};Graph.prototype.getPreferredSizeForCell=function $Graph$$getPreferredSizeForCell$($cell$$){var $result$$=mxGraph.prototype.getPreferredSizeForCell.apply(this,arguments);null!=$result$$&&($result$$.width+=10,$result$$.height+=4,this.gridEnabled&&
($result$$.width=this.snap($result$$.width),$result$$.height=this.snap($result$$.height)));return $result$$};Graph.prototype.turnShapes=function $Graph$$turnShapes$($cells$$){var $model$$=this.getModel(),$select$$=[];$model$$.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];if($model$$.isEdge($cell$$)){var $src$$=$model$$.getTerminal($cell$$,!0),$trg$$=$model$$.getTerminal($cell$$,!1);$model$$.setTerminal($cell$$,$trg$$,!0);$model$$.setTerminal($cell$$,$src$$,
!1);var $geo$$=$model$$.getGeometry($cell$$);if(null!=$geo$$){$geo$$=$geo$$.clone();null!=$geo$$.points&&$geo$$.points.reverse();var $sp$$=$geo$$.getTerminalPoint(!0),$tp$$=$geo$$.getTerminalPoint(!1);$geo$$.setTerminalPoint($sp$$,!1);$geo$$.setTerminalPoint($tp$$,!0);$model$$.setGeometry($cell$$,$geo$$);var $edgeState$$=this.view.getState($cell$$),$sourceState$$=this.view.getState($src$$),$targetState$$=this.view.getState($trg$$);if(null!=$edgeState$$){var $sc$$=null!=$sourceState$$?this.getConnectionConstraint($edgeState$$,
$sourceState$$,!0):null,$tc$$=null!=$targetState$$?this.getConnectionConstraint($edgeState$$,$targetState$$,!1):null;this.setConnectionConstraint($cell$$,$src$$,!0,$tc$$);this.setConnectionConstraint($cell$$,$trg$$,!1,$sc$$)}$select$$.push($cell$$)}}else if($model$$.isVertex($cell$$)&&($geo$$=this.getCellGeometry($cell$$),null!=$geo$$)){$geo$$=$geo$$.clone();$geo$$.x+=$geo$$.width/2-$geo$$.height/2;$geo$$.y+=$geo$$.height/2-$geo$$.width/2;var $tmp$$=$geo$$.width;$geo$$.width=$geo$$.height;$geo$$.height=
$tmp$$;$model$$.setGeometry($cell$$,$geo$$);var $state$$=this.view.getState($cell$$);if(null!=$state$$){var $dir$$=$state$$.style[mxConstants.STYLE_DIRECTION]||"east";"east"==$dir$$?$dir$$="south":"south"==$dir$$?$dir$$="west":"west"==$dir$$?$dir$$="north":"north"==$dir$$&&($dir$$="east");this.setCellStyles(mxConstants.STYLE_DIRECTION,$dir$$,[$cell$$])}$select$$.push($cell$$)}}}finally{$model$$.endUpdate()}return $select$$};Graph.prototype.stencilHasPlaceholders=function $Graph$$stencilHasPlaceholders$($node$jscomp$13_stencil$$){if(null!=
$node$jscomp$13_stencil$$&&null!=$node$jscomp$13_stencil$$.fgNode)for($node$jscomp$13_stencil$$=$node$jscomp$13_stencil$$.fgNode.firstChild;null!=$node$jscomp$13_stencil$$;){if("text"==$node$jscomp$13_stencil$$.nodeName&&"1"==$node$jscomp$13_stencil$$.getAttribute("placeholders"))return!0;$node$jscomp$13_stencil$$=$node$jscomp$13_stencil$$.nextSibling}return!1};Graph.prototype.processChange=function $Graph$$processChange$($change$$){mxGraph.prototype.processChange.apply(this,arguments);if($change$$ instanceof
mxValueChange&&null!=$change$$.cell&&null!=$change$$.cell.value&&"object"==typeof $change$$.cell.value){var $desc$$=this.model.getDescendants($change$$.cell);if(0<$desc$$.length)for(var $i$$=0;$i$$<$desc$$.length;$i$$++){var $state$$=this.view.getState($desc$$[$i$$]);null!=$state$$&&null!=$state$$.shape&&null!=$state$$.shape.stencil&&this.stencilHasPlaceholders($state$$.shape.stencil)?this.removeStateForCell($desc$$[$i$$]):this.isReplacePlaceholders($desc$$[$i$$])&&this.view.invalidate($desc$$[$i$$],
!1,!1)}}};Graph.prototype.replaceElement=function $Graph$$replaceElement$($elt$$,$tagName$$){for(var $span$$=$elt$$.ownerDocument.createElement(null!=$tagName$$?$tagName$$:"span"),$attributes$$=Array.prototype.slice.call($elt$$.attributes);attr=$attributes$$.pop();)$span$$.setAttribute(attr.nodeName,attr.nodeValue);$span$$.innerHTML=$elt$$.innerHTML;$elt$$.parentNode.replaceChild($span$$,$elt$$)};Graph.prototype.updateLabelElements=function $Graph$$updateLabelElements$($cells$$,$fn$$,$tagName$$){$cells$$=
null!=$cells$$?$cells$$:this.getSelectionCells();for(var $div$$=document.createElement("div"),$i$$=0;$i$$<$cells$$.length;$i$$++)if(this.isHtmlLabel($cells$$[$i$$])){var $label$$=this.convertValueToString($cells$$[$i$$]);if(null!=$label$$&&0<$label$$.length){$div$$.innerHTML=$label$$;for(var $elts$$=$div$$.getElementsByTagName(null!=$tagName$$?$tagName$$:"*"),$j$$=0;$j$$<$elts$$.length;$j$$++)$fn$$($elts$$[$j$$]);$div$$.innerHTML!=$label$$&&this.cellLabelChanged($cells$$[$i$$],$div$$.innerHTML)}}};
Graph.prototype.cellLabelChanged=function $Graph$$cellLabelChanged$($cell$$,$value$$,$autoSize$$){$value$$=Graph.zapGremlins($value$$);this.model.beginUpdate();try{if(null!=$cell$$.value&&"object"==typeof $cell$$.value){if(this.isReplacePlaceholders($cell$$)&&null!=$cell$$.getAttribute("placeholder"))for(var $name$$=$cell$$.getAttribute("placeholder"),$current$$=$cell$$;null!=$current$$;){if($current$$==this.model.getRoot()||null!=$current$$.value&&"object"==typeof $current$$.value&&$current$$.hasAttribute($name$$)){this.setAttributeForCell($current$$,
$name$$,$value$$);break}$current$$=this.model.getParent($current$$)}var $tmp$$=$cell$$.value.cloneNode(!0);$tmp$$.setAttribute("label",$value$$);$value$$=$tmp$$}mxGraph.prototype.cellLabelChanged.apply(this,arguments)}finally{this.model.endUpdate()}};Graph.prototype.cellsRemoved=function $Graph$$cellsRemoved$($cells$$){if(null!=$cells$$){for(var $dict$$=new mxDictionary,$i$$=0;$i$$<$cells$$.length;$i$$++)$dict$$.put($cells$$[$i$$],!0);for(var $parents$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $parent$jscomp$26_state$$=
this.model.getParent($cells$$[$i$$]);null==$parent$jscomp$26_state$$||$dict$$.get($parent$jscomp$26_state$$)||($dict$$.put($parent$jscomp$26_state$$,!0),$parents$$.push($parent$jscomp$26_state$$))}for($i$$=0;$i$$<$parents$$.length;$i$$++)if($parent$jscomp$26_state$$=this.view.getState($parents$$[$i$$]),null!=$parent$jscomp$26_state$$&&(this.model.isEdge($parent$jscomp$26_state$$.cell)||this.model.isVertex($parent$jscomp$26_state$$.cell))&&this.isCellDeletable($parent$jscomp$26_state$$.cell)){var $allChildren_stroke$$=
mxUtils.getValue($parent$jscomp$26_state$$.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),$fill$jscomp$1_j$$=mxUtils.getValue($parent$jscomp$26_state$$.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);if($allChildren_stroke$$==mxConstants.NONE&&$fill$jscomp$1_j$$==mxConstants.NONE){$allChildren_stroke$$=!0;for($fill$jscomp$1_j$$=0;$fill$jscomp$1_j$$<this.model.getChildCount($parent$jscomp$26_state$$.cell)&&$allChildren_stroke$$;$fill$jscomp$1_j$$++)$dict$$.get(this.model.getChildAt($parent$jscomp$26_state$$.cell,
$fill$jscomp$1_j$$))||($allChildren_stroke$$=!1);$allChildren_stroke$$&&$cells$$.push($parent$jscomp$26_state$$.cell)}}}mxGraph.prototype.cellsRemoved.apply(this,arguments)};Graph.prototype.removeCellsAfterUngroup=function $Graph$$removeCellsAfterUngroup$($cells$$){for(var $cellsToRemove$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++)if(this.isCellDeletable($cells$$[$i$$])){var $fill$jscomp$2_state$$=this.view.getState($cells$$[$i$$]);if(null!=$fill$jscomp$2_state$$){var $stroke$$=mxUtils.getValue($fill$jscomp$2_state$$.style,
mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),$fill$jscomp$2_state$$=mxUtils.getValue($fill$jscomp$2_state$$.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);$stroke$$==mxConstants.NONE&&$fill$jscomp$2_state$$==mxConstants.NONE&&$cellsToRemove$$.push($cells$$[$i$$])}}$cells$$=$cellsToRemove$$;mxGraph.prototype.removeCellsAfterUngroup.apply(this,arguments)};Graph.prototype.setLinkForCell=function $Graph$$setLinkForCell$($cell$$,$link$$){this.setAttributeForCell($cell$$,"link",$link$$)};Graph.prototype.setTooltipForCell=
function $Graph$$setTooltipForCell$($cell$$,$link$$){this.setAttributeForCell($cell$$,"tooltip",$link$$)};Graph.prototype.setAttributeForCell=function $Graph$$setAttributeForCell$($cell$$,$attributeName$$,$attributeValue$$){var $value$$;null!=$cell$$.value&&"object"==typeof $cell$$.value?$value$$=$cell$$.value.cloneNode(!0):($value$$=mxUtils.createXmlDocument().createElement("UserObject"),$value$$.setAttribute("label",$cell$$.value||""));null!=$attributeValue$$&&0<$attributeValue$$.length?$value$$.setAttribute($attributeName$$,
$attributeValue$$):$value$$.removeAttribute($attributeName$$);this.model.setValue($cell$$,$value$$)};Graph.prototype.getDropTarget=function $Graph$$getDropTarget$($cells$$,$evt$$,$cell$$,$clone$$){this.getModel();if(mxEvent.isAltDown($evt$$))return null;for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if(this.model.isEdge(this.model.getParent($cells$$[$i$$])))return null;return mxGraph.prototype.getDropTarget.apply(this,arguments)};Graph.prototype.click=function $Graph$$click$($me$$){mxGraph.prototype.click.call(this,
$me$$);this.firstClickState=$me$$.getState();this.firstClickSource=$me$$.getSource()};Graph.prototype.dblClick=function $Graph$$dblClick$($evt$$,$cell$$){if(this.isEnabled()){var $pt$$=mxUtils.convertPoint(this.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$));if(null!=$evt$$&&!this.model.isVertex($cell$$)){var $state$$=this.model.isEdge($cell$$)?this.view.getState($cell$$):null,$src$$=mxEvent.getSource($evt$$);this.firstClickState!=$state$$||this.firstClickSource!=$src$$||null!=$state$$&&
null!=$state$$.text&&null!=$state$$.text.node&&null!=$state$$.text.boundingBox&&(mxUtils.contains($state$$.text.boundingBox,$pt$$.x,$pt$$.y)||mxUtils.isAncestorNode($state$$.text.node,mxEvent.getSource($evt$$)))||(null!=$state$$||this.isCellLocked(this.getDefaultParent()))&&(null==$state$$||this.isCellLocked($state$$.cell))||!(null!=$state$$||mxClient.IS_VML&&$src$$==this.view.getCanvas()||mxClient.IS_SVG&&$src$$==this.view.getCanvas().ownerSVGElement)||($cell$$=this.addText($pt$$.x,$pt$$.y,$state$$))}mxGraph.prototype.dblClick.call(this,
$evt$$,$cell$$)}};Graph.prototype.getInsertPoint=function $Graph$$getInsertPoint$(){var $gs$$=this.getGridSize(),$dx$$=this.container.scrollLeft/this.view.scale-this.view.translate.x,$dy$$=this.container.scrollTop/this.view.scale-this.view.translate.y;if(this.pageVisible)var $layout$$=this.getPageLayout(),$page$$=this.getPageSize(),$dx$$=Math.max($dx$$,$layout$$.x*$page$$.width),$dy$$=Math.max($dy$$,$layout$$.y*$page$$.height);return new mxPoint(this.snap($dx$$+$gs$$),this.snap($dy$$+$gs$$))};Graph.prototype.getFreeInsertPoint=
function $Graph$$getFreeInsertPoint$(){var $view$jscomp$5_y$$=this.view,$bds$$=this.getGraphBounds(),$pt$$=this.getInsertPoint(),$x$$=this.snap(Math.round(Math.max($pt$$.x,$bds$$.x/$view$jscomp$5_y$$.scale-$view$jscomp$5_y$$.translate.x+(0==$bds$$.width?2*this.gridSize:0)))),$view$jscomp$5_y$$=this.snap(Math.round(Math.max($pt$$.y,($bds$$.y+$bds$$.height)/$view$jscomp$5_y$$.scale-$view$jscomp$5_y$$.translate.y+2*this.gridSize)));return new mxPoint($x$$,$view$jscomp$5_y$$)};Graph.prototype.isMouseInsertPoint=
function $Graph$$isMouseInsertPoint$(){return!1};Graph.prototype.addText=function $Graph$$addText$($x$$,$y$$,$state$$){var $label$$=new mxCell;$label$$.value="Text";$label$$.style="text;html=1;resizable=0;points=[];";$label$$.geometry=new mxGeometry(0,0,0,0);$label$$.vertex=!0;if(null!=$state$$){$label$$.style+="align=center;verticalAlign=middle;labelBackgroundColor=#ffffff;";$label$$.geometry.relative=!0;$label$$.connectable=!1;var $pt2_tr$$=this.view.getRelativePoint($state$$,$x$$,$y$$);$label$$.geometry.x=
Math.round(1E4*$pt2_tr$$.x)/1E4;$label$$.geometry.y=Math.round($pt2_tr$$.y);$label$$.geometry.offset=new mxPoint(0,0);var $pt2_tr$$=this.view.getPoint($state$$,$label$$.geometry),$scale$$=this.view.scale;$label$$.geometry.offset=new mxPoint(Math.round(($x$$-$pt2_tr$$.x)/$scale$$),Math.round(($y$$-$pt2_tr$$.y)/$scale$$))}else $label$$.style+="autosize=1;align=left;verticalAlign=top;spacingTop=-4;",$pt2_tr$$=this.view.translate,$label$$.geometry.width=40,$label$$.geometry.height=20,$label$$.geometry.x=
Math.round($x$$/this.view.scale)-$pt2_tr$$.x,$label$$.geometry.y=Math.round($y$$/this.view.scale)-$pt2_tr$$.y;this.getModel().beginUpdate();try{this.addCells([$label$$],null!=$state$$?$state$$.cell:null),this.fireEvent(new mxEventObject("textInserted","cells",[$label$$])),this.autoSizeCell($label$$)}finally{this.getModel().endUpdate()}return $label$$};Graph.prototype.addClickHandler=function $Graph$$addClickHandler$($highlight$$,$beforeClick$$,$onClick$$){var $checkLinks$$=mxUtils.bind(this,function(){var $links$$=
this.container.getElementsByTagName("a");if(null!=$links$$)for(var $i$$=0;$i$$<$links$$.length;$i$$++){var $href$$=this.getAbsoluteUrl($links$$[$i$$].getAttribute("href"));null!=$href$$&&($links$$[$i$$].setAttribute("rel",this.linkRelation),$links$$[$i$$].setAttribute("href",$href$$),null!=$beforeClick$$&&mxEvent.addGestureListeners($links$$[$i$$],null,null,$beforeClick$$))}});this.model.addListener(mxEvent.CHANGE,$checkLinks$$);$checkLinks$$();var $cursor$$=this.container.style.cursor,$tol$$=this.getTolerance(),
$graph$$=this,$mouseListener$$={currentState:null,currentLink:null,highlight:null!=$highlight$$&&""!=$highlight$$&&$highlight$$!=mxConstants.NONE?new mxCellHighlight($graph$$,$highlight$$,4):null,startX:0,startY:0,scrollLeft:0,scrollTop:0,updateCurrentState:function($cell$jscomp$52_me$$){var $tmp$$=$cell$jscomp$52_me$$.sourceState;if(null==$tmp$$||null==$graph$$.getLinkForCell($tmp$$.cell))$cell$jscomp$52_me$$=$graph$$.getCellAt($cell$jscomp$52_me$$.getGraphX(),$cell$jscomp$52_me$$.getGraphY(),null,
null,null,function($state$$,$x$$,$y$$){return null==$graph$$.getLinkForCell($state$$.cell)}),$tmp$$=$graph$$.view.getState($cell$jscomp$52_me$$);$tmp$$!=this.currentState&&(null!=this.currentState&&this.clear(),this.currentState=$tmp$$,null!=this.currentState&&this.activate(this.currentState))},mouseDown:function($sender$$,$me$$){this.startX=$me$$.getGraphX();this.startY=$me$$.getGraphY();this.scrollLeft=$graph$$.container.scrollLeft;this.scrollTop=$graph$$.container.scrollTop;null==this.currentLink&&
"auto"==$graph$$.container.style.overflow&&($graph$$.container.style.cursor="move");this.updateCurrentState($me$$)},mouseMove:function($sender$$,$me$$){if($graph$$.isMouseDown){if(null!=this.currentLink){var $dx$$=Math.abs(this.startX-$me$$.getGraphX()),$dy$$=Math.abs(this.startY-$me$$.getGraphY());($dx$$>$tol$$||$dy$$>$tol$$)&&this.clear()}}else{for($dx$$=$me$$.getSource();null!=$dx$$&&"a"!=$dx$$.nodeName.toLowerCase();)$dx$$=$dx$$.parentNode;null!=$dx$$?this.clear():(null!=$graph$$.tooltipHandler&&
null!=this.currentLink&&null!=this.currentState&&$graph$$.tooltipHandler.reset($me$$,!0,this.currentState),(null==this.currentState||$me$$.getState()!=this.currentState&&null!=$me$$.sourceState||!$graph$$.intersects(this.currentState,$me$$.getGraphX(),$me$$.getGraphY()))&&this.updateCurrentState($me$$))}},mouseUp:function($sender$$,$me$$){for(var $blank_linkNode$jscomp$1_source$$=$me$$.getSource(),$evt$jscomp$130_target$$=$me$$.getEvent();null!=$blank_linkNode$jscomp$1_source$$&&"a"!=$blank_linkNode$jscomp$1_source$$.nodeName.toLowerCase();)$blank_linkNode$jscomp$1_source$$=
$blank_linkNode$jscomp$1_source$$.parentNode;null==$blank_linkNode$jscomp$1_source$$&&Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&(null==$me$$.sourceState||!$me$$.isSource($me$$.sourceState.control))&&((mxEvent.isLeftMouseButton($evt$jscomp$130_target$$)||mxEvent.isMiddleMouseButton($evt$jscomp$130_target$$))&&!mxEvent.isPopupTrigger($evt$jscomp$130_target$$)||mxEvent.isTouchEvent($evt$jscomp$130_target$$))&&(null!=
this.currentLink?($blank_linkNode$jscomp$1_source$$=$graph$$.isBlankLink(this.currentLink),"data:"!==this.currentLink.substring(0,5)&&$blank_linkNode$jscomp$1_source$$||null==$beforeClick$$||$beforeClick$$($evt$jscomp$130_target$$,this.currentLink),mxEvent.isConsumed($evt$jscomp$130_target$$)||($evt$jscomp$130_target$$=mxEvent.isMiddleMouseButton($evt$jscomp$130_target$$)?"_blank":$blank_linkNode$jscomp$1_source$$?$graph$$.linkTarget:"_top",$graph$$.openLink(this.currentLink,$evt$jscomp$130_target$$),
$me$$.consume())):null!=$onClick$$&&!$me$$.isConsumed()&&Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&Math.abs(this.startX-$me$$.getGraphX())<$tol$$&&Math.abs(this.startY-$me$$.getGraphY())<$tol$$&&$onClick$$($me$$.getEvent()));this.clear()},activate:function($state$$){this.currentLink=$graph$$.getAbsoluteUrl($graph$$.getLinkForCell($state$$.cell));null!=this.currentLink&&($graph$$.container.style.cursor="pointer",null!=
this.highlight&&this.highlight.highlight($state$$))},clear:function(){null!=$graph$$.container&&($graph$$.container.style.cursor=$cursor$$);this.currentLink=this.currentState=null;null!=this.highlight&&this.highlight.hide();null!=$graph$$.tooltipHandler&&$graph$$.tooltipHandler.hide()}};$graph$$.click=function $$graph$$$click$($me$$){};$graph$$.addMouseListener($mouseListener$$);mxEvent.addListener(document,"mouseleave",function($evt$$){$mouseListener$$.clear()})};Graph.prototype.duplicateCells=function $Graph$$duplicateCells$($cells$$,
$append$$){$cells$$=null!=$cells$$?$cells$$:this.getSelectionCells();$append$$=null!=$append$$?$append$$:!0;$cells$$=this.model.getTopmostCells($cells$$);var $model$$=this.getModel(),$s$$=this.gridSize,$select$$=[];$model$$.beginUpdate();try{for(var $clones$$=this.cloneCells($cells$$,!1,null,!0),$i$$=0;$i$$<$cells$$.length;$i$$++){var $parent$$=$model$$.getParent($cells$$[$i$$]),$child$$=this.moveCells([$clones$$[$i$$]],$s$$,$s$$,!1)[0];$select$$.push($child$$);if($append$$)$model$$.add($parent$$,
$clones$$[$i$$]);else{var $index$$=$parent$$.getIndex($cells$$[$i$$]);$model$$.add($parent$$,$clones$$[$i$$],$index$$+1)}}}finally{$model$$.endUpdate()}return $select$$};Graph.prototype.insertImage=function $Graph$$insertImage$($newImages_newValue$$,$w$$,$h$$){if(null!=$newImages_newValue$$&&null!=this.cellEditor.textarea){for(var $tmp$$=this.cellEditor.textarea.getElementsByTagName("img"),$oldImages$$=[],$i$$=0;$i$$<$tmp$$.length;$i$$++)$oldImages$$.push($tmp$$[$i$$]);document.execCommand("insertimage",
!1,$newImages_newValue$$);$newImages_newValue$$=this.cellEditor.textarea.getElementsByTagName("img");if($newImages_newValue$$.length==$oldImages$$.length+1)for($i$$=$newImages_newValue$$.length-1;0<=$i$$;$i$$--)if(0==$i$$||$newImages_newValue$$[$i$$]!=$oldImages$$[$i$$-1]){$newImages_newValue$$[$i$$].setAttribute("width",$w$$);$newImages_newValue$$[$i$$].setAttribute("height",$h$$);break}}};Graph.prototype.insertLink=function $Graph$$insertLink$($value$$){if(null!=this.cellEditor.textarea)if(0==$value$$.length)document.execCommand("unlink",
!1);else if(mxClient.IS_FF){for(var $newLinks_tmp$$=this.cellEditor.textarea.getElementsByTagName("a"),$oldLinks_parent$$=[],$i$$=0;$i$$<$newLinks_tmp$$.length;$i$$++)$oldLinks_parent$$.push($newLinks_tmp$$[$i$$]);document.execCommand("createlink",!1,mxUtils.trim($value$$));$newLinks_tmp$$=this.cellEditor.textarea.getElementsByTagName("a");if($newLinks_tmp$$.length==$oldLinks_parent$$.length+1)for($i$$=$newLinks_tmp$$.length-1;0<=$i$$;$i$$--)if($newLinks_tmp$$[$i$$]!=$oldLinks_parent$$[$i$$-1]){for($newLinks_tmp$$=
$newLinks_tmp$$[$i$$].getElementsByTagName("a");0<$newLinks_tmp$$.length;){for($oldLinks_parent$$=$newLinks_tmp$$[0].parentNode;null!=$newLinks_tmp$$[0].firstChild;)$oldLinks_parent$$.insertBefore($newLinks_tmp$$[0].firstChild,$newLinks_tmp$$[0]);$oldLinks_parent$$.removeChild($newLinks_tmp$$[0])}break}}else document.execCommand("createlink",!1,mxUtils.trim($value$$))};Graph.prototype.isCellResizable=function $Graph$$isCellResizable$($cell$$){var $result$$=mxGraph.prototype.isCellResizable.apply(this,
arguments),$state$jscomp$49_style$$=this.view.getState($cell$$),$state$jscomp$49_style$$=null!=$state$jscomp$49_style$$?$state$jscomp$49_style$$.style:this.getCellStyle($cell$$);return $result$$||"0"!=mxUtils.getValue($state$jscomp$49_style$$,mxConstants.STYLE_RESIZABLE,"1")&&"wrap"==$state$jscomp$49_style$$[mxConstants.STYLE_WHITE_SPACE]};Graph.prototype.distributeCells=function $Graph$$distributeCells$($horizontal$$,$cells$$){null==$cells$$&&($cells$$=this.getSelectionCells());if(null!=$cells$$&&
1<$cells$$.length){for(var $vertices$$=[],$max_t0$$=null,$min$$=null,$i$$=0;$i$$<$cells$$.length;$i$$++)if(this.getModel().isVertex($cells$$[$i$$])){var $state$jscomp$50_t$$=this.view.getState($cells$$[$i$$]);if(null!=$state$jscomp$50_t$$){var $s$jscomp$10_tmp$$=$horizontal$$?$state$jscomp$50_t$$.getCenterX():$state$jscomp$50_t$$.getCenterY(),$max_t0$$=null!=$max_t0$$?Math.max($max_t0$$,$s$jscomp$10_tmp$$):$s$jscomp$10_tmp$$,$min$$=null!=$min$$?Math.min($min$$,$s$jscomp$10_tmp$$):$s$jscomp$10_tmp$$;
$vertices$$.push($state$jscomp$50_t$$)}}if(2<$vertices$$.length){$vertices$$.sort(function($a$$,$b$$){return $horizontal$$?$a$$.x-$b$$.x:$a$$.y-$b$$.y});$state$jscomp$50_t$$=this.view.translate;$s$jscomp$10_tmp$$=this.view.scale;$min$$=$min$$/$s$jscomp$10_tmp$$-($horizontal$$?$state$jscomp$50_t$$.x:$state$jscomp$50_t$$.y);$max_t0$$=$max_t0$$/$s$jscomp$10_tmp$$-($horizontal$$?$state$jscomp$50_t$$.x:$state$jscomp$50_t$$.y);this.getModel().beginUpdate();try{for(var $dt$$=($max_t0$$-$min$$)/($vertices$$.length-
1),$max_t0$$=$min$$,$i$$=1;$i$$<$vertices$$.length-1;$i$$++){var $pstate$$=this.view.getState(this.model.getParent($vertices$$[$i$$].cell)),$geo$$=this.getCellGeometry($vertices$$[$i$$].cell),$max_t0$$=$max_t0$$+$dt$$;null!=$geo$$&&null!=$pstate$$&&($geo$$=$geo$$.clone(),$horizontal$$?$geo$$.x=Math.round($max_t0$$-$geo$$.width/2)-$pstate$$.origin.x:$geo$$.y=Math.round($max_t0$$-$geo$$.height/2)-$pstate$$.origin.y,this.getModel().setGeometry($vertices$$[$i$$].cell,$geo$$))}}finally{this.getModel().endUpdate()}}}return $cells$$};
Graph.prototype.isCloneEvent=function $Graph$$isCloneEvent$($evt$$){return mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$)||mxEvent.isControlDown($evt$$)};Graph.prototype.encodeCells=function $Graph$$encodeCells$($cells$$){for(var $clones$$=this.cloneCells($cells$$),$codec$jscomp$2_dict$$=new mxDictionary,$i$$=0;$i$$<$cells$$.length;$i$$++)$codec$jscomp$2_dict$$.put($cells$$[$i$$],!0);for($i$$=0;$i$$<$clones$$.length;$i$$++){var $model$jscomp$17_state$$=this.view.getState($cells$$[$i$$]);if(null!=$model$jscomp$17_state$$){var $geo$jscomp$9_parent$$=
this.getCellGeometry($clones$$[$i$$]);null==$geo$jscomp$9_parent$$||!$geo$jscomp$9_parent$$.relative||this.model.isEdge($cells$$[$i$$])||$codec$jscomp$2_dict$$.get(this.model.getParent($cells$$[$i$$]))||($geo$jscomp$9_parent$$.relative=!1,$geo$jscomp$9_parent$$.x=$model$jscomp$17_state$$.x/$model$jscomp$17_state$$.view.scale-$model$jscomp$17_state$$.view.translate.x,$geo$jscomp$9_parent$$.y=$model$jscomp$17_state$$.y/$model$jscomp$17_state$$.view.scale-$model$jscomp$17_state$$.view.translate.y)}}$codec$jscomp$2_dict$$=
new mxCodec;$model$jscomp$17_state$$=new mxGraphModel;$geo$jscomp$9_parent$$=$model$jscomp$17_state$$.getChildAt($model$jscomp$17_state$$.getRoot(),0);for($i$$=0;$i$$<$cells$$.length;$i$$++)$model$jscomp$17_state$$.add($geo$jscomp$9_parent$$,$clones$$[$i$$]);return $codec$jscomp$2_dict$$.encode($model$jscomp$17_state$$)};Graph.prototype.createSvgImageExport=function $Graph$$createSvgImageExport$(){var $exp$$=new mxImageExport;$exp$$.getLinkForCellState=mxUtils.bind(this,function($state$$,$canvas$$){return this.getLinkForCell($state$$.cell)});
return $exp$$};Graph.prototype.getSvg=function $Graph$$getSvg$($background_s$$,$s2_scale$$,$border$$,$nocrop$$,$crisp$$,$ignoreSelection$$,$showText$$,$imgExport$$,$linkTarget$$,$hasShadow$$){var $origUseCssTrans$$=this.useCssTransforms;$origUseCssTrans$$&&(this.useCssTransforms=!1,this.view.revalidate(),this.sizeDidChange());try{$s2_scale$$=null!=$s2_scale$$?$s2_scale$$:1;$border$$=null!=$border$$?$border$$:0;$crisp$$=null!=$crisp$$?$crisp$$:!0;$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:
!0;$showText$$=null!=$showText$$?$showText$$:!0;var $bounds$$=$ignoreSelection$$||$nocrop$$?this.getGraphBounds():this.getBoundingBox(this.getSelectionCells());if(null==$bounds$$)throw Error(mxResources.get("drawingEmpty"));var $vs$$=this.view.scale,$svgDoc$$=mxUtils.createXmlDocument(),$root$$=null!=$svgDoc$$.createElementNS?$svgDoc$$.createElementNS(mxConstants.NS_SVG,"svg"):$svgDoc$$.createElement("svg");null!=$background_s$$&&(null!=$root$$.style?$root$$.style.backgroundColor=$background_s$$:
$root$$.setAttribute("style","background-color:"+$background_s$$));null==$svgDoc$$.createElementNS?($root$$.setAttribute("xmlns",mxConstants.NS_SVG),$root$$.setAttribute("xmlns:xlink",mxConstants.NS_XLINK)):$root$$.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",mxConstants.NS_XLINK);$background_s$$=$s2_scale$$/$vs$$;var $w$jscomp$0$$=Math.max(1,Math.ceil($bounds$$.width*$background_s$$)+2*$border$$)+($hasShadow$$?5:0),$h$jscomp$0$$=Math.max(1,Math.ceil($bounds$$.height*$background_s$$)+
2*$border$$)+($hasShadow$$?5:0);$root$$.setAttribute("version","1.1");$root$$.setAttribute("width",$w$jscomp$0$$+"px");$root$$.setAttribute("height",$h$jscomp$0$$+"px");$root$$.setAttribute("viewBox",($crisp$$?"-0.5 -0.5":"0 0")+" "+$w$jscomp$0$$+" "+$h$jscomp$0$$);$svgDoc$$.appendChild($root$$);var $group$$=null!=$svgDoc$$.createElementNS?$svgDoc$$.createElementNS(mxConstants.NS_SVG,"g"):$svgDoc$$.createElement("g");$root$$.appendChild($group$$);var $svgCanvas$$=this.createSvgCanvas($group$$);$svgCanvas$$.foOffset=
$crisp$$?-.5:0;$svgCanvas$$.textOffset=$crisp$$?-.5:0;$svgCanvas$$.imageOffset=$crisp$$?-.5:0;$svgCanvas$$.translate(Math.floor(($border$$/$s2_scale$$-$bounds$$.x)/$vs$$),Math.floor(($border$$/$s2_scale$$-$bounds$$.y)/$vs$$));var $htmlConverter$$=document.createElement("textarea"),$createAlternateContent$$=$svgCanvas$$.createAlternateContent;$svgCanvas$$.createAlternateContent=function $$svgCanvas$$$createAlternateContent$($fo$$,$x$$,$y$$,$w$$,$h$$,$str$$,$align$$,$valign$$,$wrap$$,$format$$,$overflow$$,
$clip$$,$rotation$$){var $s$$=this.state;if(null!=this.foAltText&&(0==$w$$||0!=$s$$.fontSize&&$str$$.length<5*$w$$/$s$$.fontSize)){var $alt$$=this.createElement("text");$alt$$.setAttribute("x",Math.round($w$$/2));$alt$$.setAttribute("y",Math.round(($h$$+$s$$.fontSize)/2));$alt$$.setAttribute("fill",$s$$.fontColor||"black");$alt$$.setAttribute("text-anchor","middle");$alt$$.setAttribute("font-size",Math.round($s$$.fontSize)+"px");$alt$$.setAttribute("font-family",$s$$.fontFamily);($s$$.fontStyle&mxConstants.FONT_BOLD)==
mxConstants.FONT_BOLD&&$alt$$.setAttribute("font-weight","bold");($s$$.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&$alt$$.setAttribute("font-style","italic");($s$$.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$alt$$.setAttribute("text-decoration","underline");try{return $htmlConverter$$.innerHTML=$str$$,$alt$$.textContent=$htmlConverter$$.value,$alt$$}catch($e$$){return $createAlternateContent$$.apply(this,arguments)}}else return $createAlternateContent$$.apply(this,
arguments)};var $bgImg$$=this.backgroundImage;if(null!=$bgImg$$){$s2_scale$$=$vs$$/$s2_scale$$;var $tr$$=this.view.translate,$tmp$$=new mxRectangle($tr$$.x*$s2_scale$$,$tr$$.y*$s2_scale$$,$bgImg$$.width*$s2_scale$$,$bgImg$$.height*$s2_scale$$);mxUtils.intersects($bounds$$,$tmp$$)&&$svgCanvas$$.image($tr$$.x,$tr$$.y,$bgImg$$.width,$bgImg$$.height,$bgImg$$.src,!0)}$svgCanvas$$.scale($background_s$$);$svgCanvas$$.textEnabled=$showText$$;$imgExport$$=null!=$imgExport$$?$imgExport$$:this.createSvgImageExport();
var $imgExportDrawCellState$$=$imgExport$$.drawCellState;$imgExport$$.drawCellState=function $$imgExport$$$drawCellState$($state$$,$canvas$$){for(var $graph$$=$state$$.view.graph,$selected$$=$graph$$.isCellSelected($state$$.cell),$parent$$=$graph$$.model.getParent($state$$.cell);!$ignoreSelection$$&&!$selected$$&&null!=$parent$$;)$selected$$=$graph$$.isCellSelected($parent$$),$parent$$=$graph$$.model.getParent($parent$$);($ignoreSelection$$||$selected$$)&&$imgExportDrawCellState$$.apply(this,arguments)};
$imgExport$$.drawState(this.getView().getState(this.model.root),$svgCanvas$$);this.updateSvgLinks($root$$,$linkTarget$$,!0);return $root$$}finally{$origUseCssTrans$$&&(this.useCssTransforms=!0,this.view.revalidate(),this.sizeDidChange())}};Graph.prototype.updateSvgLinks=function $Graph$$updateSvgLinks$($links$jscomp$1_node$$,$target$$,$removeCustom$$){$links$jscomp$1_node$$=$links$jscomp$1_node$$.getElementsByTagName("a");for(var $i$$=0;$i$$<$links$jscomp$1_node$$.length;$i$$++){var $href$$=$links$jscomp$1_node$$[$i$$].getAttribute("href");
null==$href$$&&($href$$=$links$jscomp$1_node$$[$i$$].getAttribute("xlink:href"));null!=$href$$&&(null!=$target$$&&/^https?:\/\//.test($href$$)?$links$jscomp$1_node$$[$i$$].setAttribute("target",$target$$):$removeCustom$$&&this.isCustomLink($href$$)&&$links$jscomp$1_node$$[$i$$].setAttribute("href","javascript:void(0);"))}};Graph.prototype.createSvgCanvas=function $Graph$$createSvgCanvas$($node$$){return new mxSvgCanvas2D($node$$)};Graph.prototype.getSelectedElement=function $Graph$$getSelectedElement$(){var $node$$=
null;if(window.getSelection){var $sel$$=window.getSelection();$sel$$.getRangeAt&&$sel$$.rangeCount&&($node$$=$sel$$.getRangeAt(0).commonAncestorContainer)}else document.selection&&($node$$=document.selection.createRange().parentElement());return $node$$};Graph.prototype.getParentByName=function $Graph$$getParentByName$($node$$,$name$$,$stopAt$$){for(;null!=$node$$&&$node$$.nodeName!=$name$$;){if($node$$==$stopAt$$)return null;$node$$=$node$$.parentNode}return $node$$};Graph.prototype.selectNode=function $Graph$$selectNode$($node$$){var $sel$$=
null;if(window.getSelection){if($sel$$=window.getSelection(),$sel$$.getRangeAt&&$sel$$.rangeCount){var $range$$=document.createRange();$range$$.selectNode($node$$);$sel$$.removeAllRanges();$sel$$.addRange($range$$)}}else($sel$$=document.selection)&&"Control"!=$sel$$.type&&($node$$=$sel$$.createRange(),$node$$.collapse(!0),$range$$=$sel$$.createRange(),$range$$.setEndPoint("StartToStart",$node$$),$range$$.select())};Graph.prototype.insertRow=function $Graph$$insertRow$($table$$,$index$$){for(var $bd_row$$=
$table$$.tBodies[0],$cells$$=$bd_row$$.rows[0].cells,$cols$$=0,$i$$=0;$i$$<$cells$$.length;$i$$++)var $colspan$$=$cells$$[$i$$].getAttribute("colspan"),$cols$$=$cols$$+(null!=$colspan$$?parseInt($colspan$$):1);$bd_row$$=$bd_row$$.insertRow($index$$);for($i$$=0;$i$$<$cols$$;$i$$++)mxUtils.br($bd_row$$.insertCell(-1));return $bd_row$$.cells[0]};Graph.prototype.deleteRow=function $Graph$$deleteRow$($table$$,$index$$){$table$$.tBodies[0].deleteRow($index$$)};Graph.prototype.insertColumn=function $Graph$$insertColumn$($table$$,
$index$$){var $bd$$=$table$$.tHead;if(null!=$bd$$)for(var $h$jscomp$19_i$$=0;$h$jscomp$19_i$$<$bd$$.rows.length;$h$jscomp$19_i$$++){var $cell$jscomp$54_th$$=document.createElement("th");$bd$$.rows[$h$jscomp$19_i$$].appendChild($cell$jscomp$54_th$$);mxUtils.br($cell$jscomp$54_th$$)}$bd$$=$table$$.tBodies[0];for($h$jscomp$19_i$$=0;$h$jscomp$19_i$$<$bd$$.rows.length;$h$jscomp$19_i$$++)$cell$jscomp$54_th$$=$bd$$.rows[$h$jscomp$19_i$$].insertCell($index$$),mxUtils.br($cell$jscomp$54_th$$);return $bd$$.rows[0].cells[0<=
$index$$?$index$$:$bd$$.rows[0].cells.length-1]};Graph.prototype.deleteColumn=function $Graph$$deleteColumn$($table$$,$index$$){if(0<=$index$$)for(var $rows$$=$table$$.tBodies[0].rows,$i$$=0;$i$$<$rows$$.length;$i$$++)$rows$$[$i$$].cells.length>$index$$&&$rows$$[$i$$].deleteCell($index$$)};Graph.prototype.pasteHtmlAtCaret=function $Graph$$pasteHtmlAtCaret$($frag_html$$){var $range$jscomp$8_sel$$;if(window.getSelection){if($range$jscomp$8_sel$$=window.getSelection(),$range$jscomp$8_sel$$.getRangeAt&&
$range$jscomp$8_sel$$.rangeCount){$range$jscomp$8_sel$$=$range$jscomp$8_sel$$.getRangeAt(0);$range$jscomp$8_sel$$.deleteContents();var $el$$=document.createElement("div");$el$$.innerHTML=$frag_html$$;$frag_html$$=document.createDocumentFragment();for(var $node$$;$node$$=$el$$.firstChild;)lastNode=$frag_html$$.appendChild($node$$);$range$jscomp$8_sel$$.insertNode($frag_html$$)}}else($range$jscomp$8_sel$$=document.selection)&&"Control"!=$range$jscomp$8_sel$$.type&&$range$jscomp$8_sel$$.createRange().pasteHTML($frag_html$$)};
Graph.prototype.createLinkForHint=function $Graph$$createLinkForHint$($link$$,$label$$){function $short$$($str$$,$max$$){$str$$.length>$max$$&&($str$$=$str$$.substring(0,Math.round($max$$/2))+"..."+$str$$.substring($str$$.length-Math.round($max$$/4)));return $str$$}$link$$=null!=$link$$?$link$$:"javascript:void(0);";if(null==$label$$||0==$label$$.length)$label$$=this.isCustomLink($link$$)?this.getLinkTitle($link$$):$link$$;var $a$$=document.createElement("a");$a$$.setAttribute("rel",this.linkRelation);
$a$$.setAttribute("href",this.getAbsoluteUrl($link$$));$a$$.setAttribute("title",$short$$(this.isCustomLink($link$$)?this.getLinkTitle($link$$):$link$$,80));null!=this.linkTarget&&$a$$.setAttribute("target",this.linkTarget);mxUtils.write($a$$,$short$$($label$$,40));this.isCustomLink($link$$)&&mxEvent.addListener($a$$,"click",mxUtils.bind(this,function($evt$$){this.customLinkClicked($link$$);mxEvent.consume($evt$$)}));return $a$$};Graph.prototype.initTouch=function $Graph$$initTouch$(){this.connectionHandler.marker.isEnabled=
function $this$connectionHandler$marker$isEnabled$(){return null!=this.graph.connectionHandler.first};this.addListener(mxEvent.START_EDITING,function($sender$$,$evt$$){this.popupMenuHandler.hideMenu()});var $graphUpdateMouseEvent$$=this.updateMouseEvent;this.updateMouseEvent=function $this$updateMouseEvent$($me$$){$me$$=$graphUpdateMouseEvent$$.apply(this,arguments);if(mxEvent.isTouchEvent($me$$.getEvent())&&null==$me$$.getState()){var $cell$$=this.getCellAt($me$$.graphX,$me$$.graphY);null!=$cell$$&&
this.isSwimlane($cell$$)&&this.hitsSwimlaneContent($cell$$,$me$$.graphX,$me$$.graphY)||($me$$.state=this.view.getState($cell$$),null!=$me$$.state&&null!=$me$$.state.shape&&(this.container.style.cursor=$me$$.state.shape.node.style.cursor))}null==$me$$.getState()&&this.isEnabled()&&(this.container.style.cursor="default");return $me$$};var $cellSelected$$=!1,$selectionEmpty$$=!1,$menuShowing$$=!1,$oldFireMouseEvent$$=this.fireMouseEvent;this.fireMouseEvent=function $this$fireMouseEvent$($evtName$$,$me$$,
$sender$$){$evtName$$==mxEvent.MOUSE_DOWN&&($me$$=this.updateMouseEvent($me$$),$cellSelected$$=this.isCellSelected($me$$.getCell()),$selectionEmpty$$=this.isSelectionEmpty(),$menuShowing$$=this.popupMenuHandler.isMenuShowing());$oldFireMouseEvent$$.apply(this,arguments)};this.popupMenuHandler.mouseUp=mxUtils.bind(this,function($sender$$,$me$$){this.popupMenuHandler.popupTrigger=!this.isEditing()&&this.isEnabled()&&(null==$me$$.getState()||!$me$$.isSource($me$$.getState().control))&&(this.popupMenuHandler.popupTrigger||
!$menuShowing$$&&!mxEvent.isMouseEvent($me$$.getEvent())&&($selectionEmpty$$&&null==$me$$.getCell()&&this.isSelectionEmpty()||$cellSelected$$&&this.isCellSelected($me$$.getCell())));mxPopupMenuHandler.prototype.mouseUp.apply(this.popupMenuHandler,arguments)})};mxCellEditor.prototype.isContentEditing=function $mxCellEditor$$isContentEditing$(){var $state$$=this.graph.view.getState(this.editingCell);return null!=$state$$&&1==$state$$.style.html};mxCellEditor.prototype.saveSelection=function $mxCellEditor$$saveSelection$(){if(window.getSelection){var $sel$$=
window.getSelection();if($sel$$.getRangeAt&&$sel$$.rangeCount){for(var $ranges$$=[],$i$$=0,$len$$=$sel$$.rangeCount;$i$$<$len$$;++$i$$)$ranges$$.push($sel$$.getRangeAt($i$$));return $ranges$$}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null};mxCellEditor.prototype.restoreSelection=function $mxCellEditor$$restoreSelection$($savedSel$$){try{if($savedSel$$)if(window.getSelection){sel=window.getSelection();sel.removeAllRanges();for(var $i$$=
0,$len$$=$savedSel$$.length;$i$$<$len$$;++$i$$)sel.addRange($savedSel$$[$i$$])}else document.selection&&$savedSel$$.select&&$savedSel$$.select()}catch($e$$){}};var $mxCellRendererInitializeLabel$$=mxCellRenderer.prototype.initializeLabel;mxCellRenderer.prototype.initializeLabel=function $mxCellRenderer$$initializeLabel$($state$$){null!=$state$$.text&&($state$$.text.replaceLinefeeds="0"!=mxUtils.getValue($state$$.style,"nl2Br","1"));$mxCellRendererInitializeLabel$$.apply(this,arguments)};var $mxConstraintHandlerUpdate$$=
mxConstraintHandler.prototype.update;mxConstraintHandler.prototype.update=function $mxConstraintHandler$$update$($me$$,$source$$){this.isKeepFocusEvent($me$$)||!mxEvent.isAltDown($me$$.getEvent())?$mxConstraintHandlerUpdate$$.apply(this,arguments):this.reset()};mxGuide.prototype.createGuideShape=function $mxGuide$$createGuideShape$($horizontal$$){return new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH)};mxCellEditor.prototype.escapeCancelsEditing=!1;var $mxCellEditorStartEditing$$=
mxCellEditor.prototype.startEditing;mxCellEditor.prototype.startEditing=function $mxCellEditor$$startEditing$($cell$$,$trigger$$){$mxCellEditorStartEditing$$.apply(this,arguments);var $parent$jscomp$31_state$$=this.graph.view.getState($cell$$);this.textarea.className=null!=$parent$jscomp$31_state$$&&1==$parent$jscomp$31_state$$.style.html?"mxCellEditor geContentEditable":"mxCellEditor mxPlainTextEditor";this.codeViewMode=!1;this.switchSelectionState=null;this.graph.setSelectionCell($cell$$);var $parent$jscomp$31_state$$=
this.graph.getModel().getParent($cell$$),$geo$$=this.graph.getCellGeometry($cell$$);this.graph.getModel().isEdge($parent$jscomp$31_state$$)&&null!=$geo$$&&$geo$$.relative||this.graph.getModel().isEdge($cell$$)?mxClient.IS_QUIRKS?this.textarea.style.border="gray dotted 1px":this.textarea.style.outline=mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_FF&&mxClient.IS_WIN?"gray dotted 1px":"":mxClient.IS_QUIRKS&&(this.textarea.style.outline="none",this.textarea.style.border="")};var $cellEditorInstallListeners$$=
mxCellEditor.prototype.installListeners;mxCellEditor.prototype.installListeners=function $mxCellEditor$$installListeners$($elt$$){function $reference$$($node$$,$clone$$){$clone$$.originalNode=$node$$;$node$$=$node$$.firstChild;for(var $child$$=$clone$$.firstChild;null!=$node$$&&null!=$child$$;)$reference$$($node$$,$child$$),$node$$=$node$$.nextSibling,$child$$=$child$$.nextSibling;return $clone$$}function $checkNode$$($node$$,$clone$$){if(null!=$node$$)if($clone$$.originalNode!=$node$$)$cleanNode$$($node$$);
else for($node$$=$node$$.firstChild,$clone$$=$clone$$.firstChild;null!=$node$$;){var $nextNode$$=$node$$.nextSibling;null==$clone$$?$cleanNode$$($node$$):($checkNode$$($node$$,$clone$$),$clone$$=$clone$$.nextSibling);$node$$=$nextNode$$}}function $cleanNode$$($node$$){for(var $child$$=$node$$.firstChild;null!=$child$$;){var $next$$=$child$$.nextSibling;$cleanNode$$($child$$);$child$$=$next$$}1==$node$$.nodeType&&("BR"===$node$$.nodeName||null!=$node$$.firstChild)||3==$node$$.nodeType&&0!=mxUtils.trim(mxUtils.getTextContent($node$$)).length?
(3==$node$$.nodeType&&mxUtils.setTextContent($node$$,mxUtils.getTextContent($node$$).replace(/\n|\r/g,"")),1==$node$$.nodeType&&($node$$.removeAttribute("style"),$node$$.removeAttribute("class"),$node$$.removeAttribute("width"),$node$$.removeAttribute("cellpadding"),$node$$.removeAttribute("cellspacing"),$node$$.removeAttribute("border"))):$node$$.parentNode.removeChild($node$$)}$cellEditorInstallListeners$$.apply(this,arguments);mxClient.IS_QUIRKS||7===document.documentMode||8===document.documentMode||
mxEvent.addListener(this.textarea,"paste",mxUtils.bind(this,function($evt$$){var $clone$$=$reference$$(this.textarea,this.textarea.cloneNode(!0));window.setTimeout(mxUtils.bind(this,function(){$checkNode$$(this.textarea,$clone$$)}),0)}))};mxCellEditor.prototype.toggleViewMode=function $mxCellEditor$$toggleViewMode$(){var $state$$=this.graph.view.getState(this.editingCell);if(null!=$state$$){var $family_nl2Br$$=null!=$state$$&&"0"!=mxUtils.getValue($state$$.style,"nl2Br","1"),$tmp$$=this.saveSelection();
if(this.codeViewMode){$content$$=mxUtils.extractTextWithWhitespace(this.textarea.childNodes);0<$content$$.length&&"\n"==$content$$.charAt($content$$.length-1)&&($content$$=$content$$.substring(0,$content$$.length-1));$content$$=this.graph.sanitizeHtml($family_nl2Br$$?$content$$.replace(/\n/g,"<br/>"):$content$$,!0);this.textarea.className="mxCellEditor geContentEditable";var $size$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE),$family_nl2Br$$=mxUtils.getValue($state$$.style,
mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY),$align$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT),$bold$$=(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,$italic$$=(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC,$state$$=(mxUtils.getValue($state$$.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE;
this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round($size$$*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT;this.textarea.style.fontSize=Math.round($size$$)+"px";this.textarea.style.textDecoration=$state$$?"underline":"";this.textarea.style.fontWeight=$bold$$?"bold":"normal";this.textarea.style.fontStyle=$italic$$?"italic":"";this.textarea.style.fontFamily=$family_nl2Br$$;this.textarea.style.textAlign=$align$$;this.textarea.style.padding="0px";this.textarea.innerHTML!=
$content$$&&(this.textarea.innerHTML=$content$$,0==this.textarea.innerHTML.length&&(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=0<this.textarea.innerHTML.length));this.codeViewMode=!1}else{this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.clearOnChange=!1,this.textarea.innerHTML="");var $content$$=mxUtils.htmlEntities(this.textarea.innerHTML);mxClient.IS_QUIRKS||8==document.documentMode||($content$$=mxUtils.replaceTrailingNewlines($content$$,"<div><br></div>"));
$content$$=this.graph.sanitizeHtml($family_nl2Br$$?$content$$.replace(/\n/g,"").replace(/&lt;br\s*.?&gt;/g,"<br>"):$content$$,!0);this.textarea.className="mxCellEditor mxPlainTextEditor";var $size$$=mxConstants.DEFAULT_FONTSIZE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round($size$$*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT;this.textarea.style.fontSize=Math.round($size$$)+"px";this.textarea.style.textDecoration="";this.textarea.style.fontWeight="normal";this.textarea.style.fontStyle=
"";this.textarea.style.fontFamily=mxConstants.DEFAULT_FONTFAMILY;this.textarea.style.textAlign="left";this.textarea.style.padding="2px";this.textarea.innerHTML!=$content$$&&(this.textarea.innerHTML=$content$$);this.codeViewMode=!0}this.textarea.focus();null!=this.switchSelectionState&&this.restoreSelection(this.switchSelectionState);this.switchSelectionState=$tmp$$;this.resize()}};var $mxCellEditorResize$$=mxCellEditor.prototype.resize;mxCellEditor.prototype.resize=function $mxCellEditor$$resize$($state$$,
$trigger$$){if(null!=this.textarea)if($state$$=this.graph.getView().getState(this.editingCell),this.codeViewMode&&null!=$state$$){var $scale$$=$state$$.view.scale;this.bounds=mxRectangle.fromRectangle($state$$);if(0==this.bounds.width&&0==this.bounds.height){this.bounds.width=160*$scale$$;this.bounds.height=60*$scale$$;var $m$$=null!=$state$$.text?$state$$.text.margin:null;null==$m$$&&($m$$=mxUtils.getAlignmentAsPoint(mxUtils.getValue($state$$.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),
mxUtils.getValue($state$$.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE)));this.bounds.x+=$m$$.x*this.bounds.width;this.bounds.y+=$m$$.y*this.bounds.height}this.textarea.style.width=Math.round((this.bounds.width-4)/$scale$$)+"px";this.textarea.style.height=Math.round((this.bounds.height-4)/$scale$$)+"px";this.textarea.style.overflow="auto";this.textarea.clientHeight<this.textarea.offsetHeight&&(this.textarea.style.height=Math.round(this.bounds.height/$scale$$)+(this.textarea.offsetHeight-
this.textarea.clientHeight)+"px",this.bounds.height=parseInt(this.textarea.style.height)*$scale$$);this.textarea.clientWidth<this.textarea.offsetWidth&&(this.textarea.style.width=Math.round(this.bounds.width/$scale$$)+(this.textarea.offsetWidth-this.textarea.clientWidth)+"px",this.bounds.width=parseInt(this.textarea.style.width)*$scale$$);this.textarea.style.left=Math.round(this.bounds.x)+"px";this.textarea.style.top=Math.round(this.bounds.y)+"px";mxClient.IS_VML?this.textarea.style.zoom=$scale$$:
mxUtils.setPrefixedStyle(this.textarea.style,"transform","scale("+$scale$$+","+$scale$$+")")}else this.textarea.style.height="",this.textarea.style.overflow="",$mxCellEditorResize$$.apply(this,arguments)};mxCellEditorGetInitialValue=mxCellEditor.prototype.getInitialValue;mxCellEditor.prototype.getInitialValue=function $mxCellEditor$$getInitialValue$($state$$,$trigger$$){if("0"==mxUtils.getValue($state$$.style,"html","0"))return mxCellEditorGetInitialValue.apply(this,arguments);var $result$$=this.graph.getEditingValue($state$$.cell,
$trigger$$);"1"==mxUtils.getValue($state$$.style,"nl2Br","1")&&($result$$=$result$$.replace(/\n/g,"<br/>"));return $result$$=this.graph.sanitizeHtml($result$$,!0)};mxCellEditorGetCurrentValue=mxCellEditor.prototype.getCurrentValue;mxCellEditor.prototype.getCurrentValue=function $mxCellEditor$$getCurrentValue$($state$$){if("0"==mxUtils.getValue($state$$.style,"html","0"))return mxCellEditorGetCurrentValue.apply(this,arguments);var $result$$=this.graph.sanitizeHtml(this.textarea.innerHTML,!0);return $result$$=
"1"==mxUtils.getValue($state$$.style,"nl2Br","1")?$result$$.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>"):$result$$.replace(/\r\n/g,"").replace(/\n/g,"")};var $mxCellEditorStopEditing$$=mxCellEditor.prototype.stopEditing;mxCellEditor.prototype.stopEditing=function $mxCellEditor$$stopEditing$($cancel$$){this.codeViewMode&&this.toggleViewMode();$mxCellEditorStopEditing$$.apply(this,arguments);this.focusContainer()};mxCellEditor.prototype.focusContainer=function $mxCellEditor$$focusContainer$(){try{this.graph.container.focus()}catch($e$$){}};
var $mxCellEditorApplyValue$$=mxCellEditor.prototype.applyValue;mxCellEditor.prototype.applyValue=function $mxCellEditor$$applyValue$($state$$,$value$$){this.graph.getModel().beginUpdate();try{if($mxCellEditorApplyValue$$.apply(this,arguments),this.graph.isCellDeletable($state$$.cell)&&0==this.graph.model.getChildCount($state$$.cell)){var $stroke$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),$fill$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);
""==$value$$&&$stroke$$==mxConstants.NONE&&$fill$$==mxConstants.NONE&&this.graph.removeCells([$state$$.cell],!1)}}finally{this.graph.getModel().endUpdate()}};mxCellEditor.prototype.getBackgroundColor=function $mxCellEditor$$getBackgroundColor$($state$$){var $color$$=null;if(this.graph.getModel().isEdge($state$$.cell)||this.graph.getModel().isEdge(this.graph.getModel().getParent($state$$.cell)))$color$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,null),$color$$==mxConstants.NONE&&
($color$$=null);return $color$$};mxCellEditor.prototype.getMinimumSize=function $mxCellEditor$$getMinimumSize$($state$$){var $scale$$=this.graph.getView().scale;return new mxRectangle(0,0,null==$state$$.text?30:$state$$.text.size*$scale$$+20,30)};var $mxGraphHandlerMoveCells$$=mxGraphHandler.prototype.moveCells;mxGraphHandler.prototype.moveCells=function $mxGraphHandler$$moveCells$($cells$$,$dx$$,$dy$$,$clone$$,$target$$,$evt$$){mxEvent.isAltDown($evt$$)&&($target$$=null);$mxGraphHandlerMoveCells$$.apply(this,
arguments)};mxGraphHandler.prototype.updateHint=function $mxGraphHandler$$updateHint$($me$jscomp$41_x$$){if(null!=this.shape){null==this.hint&&(this.hint=$createHint$$(),this.graph.container.appendChild(this.hint));var $t$jscomp$7_y$$=this.graph.view.translate,$s$$=this.graph.view.scale;$me$jscomp$41_x$$=this.roundLength((this.bounds.x+this.currentDx)/$s$$-$t$jscomp$7_y$$.x);$t$jscomp$7_y$$=this.roundLength((this.bounds.y+this.currentDy)/$s$$-$t$jscomp$7_y$$.y);this.hint.innerHTML=$me$jscomp$41_x$$+
", "+$t$jscomp$7_y$$;this.hint.style.left=this.shape.bounds.x+Math.round((this.shape.bounds.width-this.hint.clientWidth)/2)+"px";this.hint.style.top=this.shape.bounds.y+this.shape.bounds.height+12+"px"}};mxGraphHandler.prototype.removeHint=function $mxGraphHandler$$removeHint$(){null!=this.hint&&(this.hint.parentNode.removeChild(this.hint),this.hint=null)};mxVertexHandler.prototype.isRecursiveResize=function $mxVertexHandler$$isRecursiveResize$($state$$,$me$$){return!this.graph.isSwimlane($state$$.cell)&&
0<this.graph.model.getChildCount($state$$.cell)&&!mxEvent.isControlDown($me$$.getEvent())&&!this.graph.isCellCollapsed($state$$.cell)&&"1"==mxUtils.getValue($state$$.style,"recursiveResize","1")&&null==mxUtils.getValue($state$$.style,"childLayout",null)};mxVertexHandler.prototype.isCenteredEvent=function $mxVertexHandler$$isCenteredEvent$($state$$,$me$$){return!(!this.graph.isSwimlane($state$$.cell)&&0<this.graph.model.getChildCount($state$$.cell)&&!this.graph.isCellCollapsed($state$$.cell)&&"1"==
mxUtils.getValue($state$$.style,"recursiveResize","1")&&null==mxUtils.getValue($state$$.style,"childLayout",null))&&mxEvent.isControlDown($me$$.getEvent())||mxEvent.isMetaDown($me$$.getEvent())};var $vertexHandlerGetHandlePadding$$=mxVertexHandler.prototype.getHandlePadding;mxVertexHandler.prototype.getHandlePadding=function $mxVertexHandler$$getHandlePadding$(){var $result$$=new mxPoint(0,0),$tol$$=this.tolerance;this.graph.cellEditor.getEditingCell()==this.state.cell&&null!=this.sizers&&0<this.sizers.length&&
null!=this.sizers[0]?($tol$$/=2,$result$$.x=this.sizers[0].bounds.width+$tol$$,$result$$.y=this.sizers[0].bounds.height+$tol$$):$result$$=$vertexHandlerGetHandlePadding$$.apply(this,arguments);return $result$$};mxVertexHandler.prototype.updateHint=function $mxVertexHandler$$updateHint$($bb_me$jscomp$44_s$$){this.index!=mxEvent.LABEL_HANDLE&&(null==this.hint&&(this.hint=$createHint$$(),this.state.view.graph.container.appendChild(this.hint)),this.index==mxEvent.ROTATION_HANDLE?this.hint.innerHTML=this.currentAlpha+
"&deg;":($bb_me$jscomp$44_s$$=this.state.view.scale,this.hint.innerHTML=this.roundLength(this.bounds.width/$bb_me$jscomp$44_s$$)+" x "+this.roundLength(this.bounds.height/$bb_me$jscomp$44_s$$)),$bb_me$jscomp$44_s$$=mxUtils.getBoundingBox(this.bounds,null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0"),null==$bb_me$jscomp$44_s$$&&($bb_me$jscomp$44_s$$=this.bounds),this.hint.style.left=$bb_me$jscomp$44_s$$.x+Math.round(($bb_me$jscomp$44_s$$.width-this.hint.clientWidth)/
2)+"px",this.hint.style.top=$bb_me$jscomp$44_s$$.y+$bb_me$jscomp$44_s$$.height+12+"px",null!=this.linkHint&&(this.linkHint.style.display="none"))};mxVertexHandler.prototype.removeHint=function $mxVertexHandler$$removeHint$(){mxGraphHandler.prototype.removeHint.apply(this,arguments);null!=this.linkHint&&(this.linkHint.style.display="")};mxEdgeHandler.prototype.updateHint=function $mxEdgeHandler$$updateHint$($me$$,$point$$){null==this.hint&&(this.hint=$createHint$$(),this.state.view.graph.container.appendChild(this.hint));
var $t$jscomp$8_y$$=this.graph.view.translate,$s$$=this.graph.view.scale,$pt$jscomp$10_x$$=this.roundLength($point$$.x/$s$$-$t$jscomp$8_y$$.x),$t$jscomp$8_y$$=this.roundLength($point$$.y/$s$$-$t$jscomp$8_y$$.y);this.hint.innerHTML=$pt$jscomp$10_x$$+", "+$t$jscomp$8_y$$;this.hint.style.visibility="visible";if(this.isSource||this.isTarget)null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?($pt$jscomp$10_x$$=this.constraintHandler.currentConstraint.point,this.hint.innerHTML=
"["+Math.round(100*$pt$jscomp$10_x$$.x)+"%, "+Math.round(100*$pt$jscomp$10_x$$.y)+"%]"):this.marker.hasValidState()&&(this.hint.style.visibility="hidden");this.hint.style.left=Math.round($me$$.getGraphX()-this.hint.clientWidth/2)+"px";this.hint.style.top=Math.max($me$$.getGraphY(),$point$$.y)+this.state.view.graph.gridSize+"px";null!=this.linkHint&&(this.linkHint.style.display="none")};mxEdgeHandler.prototype.removeHint=mxVertexHandler.prototype.removeHint;HoverIcons.prototype.mainHandle=mxClient.IS_SVG?
Graph.createSvgImage(18,18,'<circle cx="9" cy="9" r="5" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'" stroke-width="1"/>'):new mxImage(IMAGE_PATH+"/handle-main.png",17,17);HoverIcons.prototype.secondaryHandle=mxClient.IS_SVG?Graph.createSvgImage(16,16,'<path d="m 8 3 L 13 8 L 8 13 L 3 8 z" stroke="#fff" fill="#fca000"/>'):new mxImage(IMAGE_PATH+"/handle-secondary.png",17,17);HoverIcons.prototype.fixedHandle=mxClient.IS_SVG?Graph.createSvgImage(18,18,'<circle cx="9" cy="9" r="5" stroke="#fff" fill="'+
HoverIcons.prototype.arrowFill+'" stroke-width="1"/><path d="m 7 7 L 11 11 M 7 11 L 11 7" stroke="#fff"/>'):new mxImage(IMAGE_PATH+"/handle-fixed.png",17,17);HoverIcons.prototype.terminalHandle=mxClient.IS_SVG?Graph.createSvgImage(18,18,'<circle cx="9" cy="9" r="5" stroke="#fff" fill="'+HoverIcons.prototype.arrowFill+'" stroke-width="1"/><circle cx="9" cy="9" r="2" stroke="#fff" fill="transparent"/>'):new mxImage(IMAGE_PATH+"/handle-terminal.png",17,17);HoverIcons.prototype.rotationHandle=new mxImage(mxClient.IS_SVG?
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA6ZJREFUeNqM001IY1cUB/D/fYmm2sbR2lC1zYlgoRG6MpEyBlpxM9iFIGKFIm3s0lCKjOByhCLZCFqLBF1YFVJdSRbdFHRhBbULtRuFVBTzYRpJgo2mY5OX5N9Fo2TG+eiFA/dd3vvd8+65ByTxshARTdf1JySp6/oTEdFe9T5eg5lIcnBwkCSZyWS+exX40oyur68/KxaLf5Okw+H4X+A9JBaLfUySZ2dnnJqaosPhIAACeC34DJRKpb7IZrMcHx+nwWCgUopGo/EOKwf9fn/1CzERUevr6+9ls1mOjIwQAH0+H4PBIKPR6D2ofAQCgToRUeVYJUkuLy8TANfW1kiS8/PzCy84Mw4MDBAAZ2dnmc/nub+/X0MSEBF1cHDwMJVKsaGhgV6vl+l0mqOjo1+KyKfl1dze3l4NBoM/PZ+diFSLiIKIGBOJxA9bW1sEwNXVVSaTyQMRaRaRxrOzs+9J8ujoaE5EPhQRq67rcZ/PRwD0+/3Udf03EdEgIqZisZibnJykwWDg4eEhd3Z2xkXELCJvPpdBrYjUiEhL+Xo4HH4sIhUaAKNSqiIcDsNkMqG+vh6RSOQQQM7tdhsAQCkFAHC73UUATxcWFqypVApmsxnDw8OwWq2TADQNgAYAFosF+XweyWQSdru9BUBxcXFRB/4rEgDcPouIIx6P4+bmBi0tLSCpAzBqAIqnp6c/dnZ2IpfLYXNzE62traMADACKNputpr+/v8lms9UAKAAwiMjXe3t7KBQKqKurQy6Xi6K0i2l6evpROp1mbW0t29vbGY/Hb8/IVIqq2zlJXl1dsaOjg2azmefn5wwEAl+JSBVExCgi75PkzMwMlVJsbGxkIpFgPp8PX15ePopEIs3JZPITXdf/iEajbGpqolKKExMT1HWdHo/nIxGpgIgoEXnQ3d39kCTHxsYIgC6Xi3NzcwyHw8xkMozFYlxaWmJbWxuVUuzt7WUul6PX6/1cRN4WEe2uA0SkaWVl5XGpRVhdXU0A1DSNlZWVdz3qdDrZ09PDWCzG4+Pjn0XEWvp9KJKw2WwKwBsA3gHQHAqFfr24uMDGxgZ2d3cRiUQAAHa7HU6nE319fTg5Ofmlq6vrGwB/AngaCoWK6rbsNptNA1AJoA7Aux6Pp3NoaMhjsVg+QNmIRqO/u1yubwFEASRKUAEA7rASqABUAKgC8KAUb5XWCOAfAFcA/gJwDSB7C93DylCtdM8qABhLc5TumV6KQigUeubjfwcAHkQJ94ndWeYAAAAASUVORK5CYII=":
IMAGE_PATH+"/handle-rotate.png",19,21);mxClient.IS_SVG&&(mxConstraintHandler.prototype.pointImage=Graph.createSvgImage(5,5,'<path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke="'+HoverIcons.prototype.arrowFill+'"/>'));mxVertexHandler.prototype.handleImage=HoverIcons.prototype.mainHandle;mxVertexHandler.prototype.secondaryHandleImage=HoverIcons.prototype.secondaryHandle;mxEdgeHandler.prototype.handleImage=HoverIcons.prototype.mainHandle;mxEdgeHandler.prototype.terminalHandleImage=HoverIcons.prototype.terminalHandle;
mxEdgeHandler.prototype.fixedHandleImage=HoverIcons.prototype.fixedHandle;mxEdgeHandler.prototype.labelHandleImage=HoverIcons.prototype.secondaryHandle;mxOutline.prototype.sizerImage=HoverIcons.prototype.mainHandle;null!=window.Sidebar&&(Sidebar.prototype.triangleUp=HoverIcons.prototype.triangleUp,Sidebar.prototype.triangleRight=HoverIcons.prototype.triangleRight,Sidebar.prototype.triangleDown=HoverIcons.prototype.triangleDown,Sidebar.prototype.triangleLeft=HoverIcons.prototype.triangleLeft,Sidebar.prototype.refreshTarget=
HoverIcons.prototype.refreshTarget,Sidebar.prototype.roundDrop=HoverIcons.prototype.roundDrop);mxClient.IS_SVG||((new Image).src=HoverIcons.prototype.mainHandle.src,(new Image).src=HoverIcons.prototype.fixedHandle.src,(new Image).src=HoverIcons.prototype.terminalHandle.src,(new Image).src=HoverIcons.prototype.secondaryHandle.src,(new Image).src=HoverIcons.prototype.rotationHandle.src,(new Image).src=HoverIcons.prototype.triangleUp.src,(new Image).src=HoverIcons.prototype.triangleRight.src,(new Image).src=
HoverIcons.prototype.triangleDown.src,(new Image).src=HoverIcons.prototype.triangleLeft.src,(new Image).src=HoverIcons.prototype.refreshTarget.src,(new Image).src=HoverIcons.prototype.roundDrop.src);mxVertexHandler.prototype.rotationEnabled=!0;mxVertexHandler.prototype.manageSizers=!0;mxVertexHandler.prototype.livePreview=!0;mxRubberband.prototype.defaultOpacity=30;mxConnectionHandler.prototype.outlineConnect=!0;mxCellHighlight.prototype.keepOnTop=!0;mxVertexHandler.prototype.parentHighlightEnabled=
!0;mxVertexHandler.prototype.rotationHandleVSpacing=-20;mxEdgeHandler.prototype.parentHighlightEnabled=!0;mxEdgeHandler.prototype.dblClickRemoveEnabled=!0;mxEdgeHandler.prototype.straightRemoveEnabled=!0;mxEdgeHandler.prototype.virtualBendsEnabled=!0;mxEdgeHandler.prototype.mergeRemoveEnabled=!0;mxEdgeHandler.prototype.manageLabelHandle=!0;mxEdgeHandler.prototype.outlineConnect=!0;mxEdgeHandler.prototype.isAddVirtualBendEvent=function $mxEdgeHandler$$isAddVirtualBendEvent$($me$$){return!mxEvent.isShiftDown($me$$.getEvent())};
mxEdgeHandler.prototype.isCustomHandleEvent=function $mxEdgeHandler$$isCustomHandleEvent$($me$$){return!mxEvent.isShiftDown($me$$.getEvent())};if(Graph.touchStyle){if(mxClient.IS_TOUCH||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)mxShape.prototype.svgStrokeTolerance=18,mxVertexHandler.prototype.tolerance=12,mxEdgeHandler.prototype.tolerance=12,Graph.prototype.tolerance=12,mxVertexHandler.prototype.rotationHandleVSpacing=-24,mxConstraintHandler.prototype.getTolerance=function $mxConstraintHandler$$getTolerance$($me$$){return mxEvent.isMouseEvent($me$$.getEvent())?
4:this.graph.getTolerance()};mxPanningHandler.prototype.isPanningTrigger=function $mxPanningHandler$$isPanningTrigger$($me$$){var $evt$$=$me$$.getEvent();return null==$me$$.getState()&&!mxEvent.isMouseEvent($evt$$)||mxEvent.isPopupTrigger($evt$$)&&(null==$me$$.getState()||mxEvent.isControlDown($evt$$)||mxEvent.isShiftDown($evt$$))};var $graphHandlerMouseDown$$=mxGraphHandler.prototype.mouseDown;mxGraphHandler.prototype.mouseDown=function $mxGraphHandler$$mouseDown$($sender$$,$me$$){$graphHandlerMouseDown$$.apply(this,
arguments);mxEvent.isTouchEvent($me$$.getEvent())&&this.graph.isCellSelected($me$$.getCell())&&1<this.graph.getSelectionCount()&&(this.delayedSelection=!1)}}else mxPanningHandler.prototype.isPanningTrigger=function $mxPanningHandler$$isPanningTrigger$($me$$){var $evt$$=$me$$.getEvent();return mxEvent.isLeftMouseButton($evt$$)&&(this.useLeftButtonForPanning&&null==$me$$.getState()||mxEvent.isControlDown($evt$$)&&!mxEvent.isShiftDown($evt$$))||this.usePopupTrigger&&mxEvent.isPopupTrigger($evt$$)};mxRubberband.prototype.isSpaceEvent=
function $mxRubberband$$isSpaceEvent$($me$$){return this.graph.isEnabled()&&!this.graph.isCellLocked(this.graph.getDefaultParent())&&mxEvent.isControlDown($me$$.getEvent())&&mxEvent.isShiftDown($me$$.getEvent())};mxRubberband.prototype.mouseUp=function $mxRubberband$$mouseUp$($sender$$,$me$$){var $execute_i$$=null!=this.div&&"none"!=this.div.style.display,$x0$$=null,$y0$$=null,$dx$jscomp$23_rect$$=null,$dy$$=null;null!=this.first&&null!=this.currentX&&null!=this.currentY&&($x0$$=this.first.x,$y0$$=
this.first.y,$dx$jscomp$23_rect$$=(this.currentX-$x0$$)/this.graph.view.scale,$dy$$=(this.currentY-$y0$$)/this.graph.view.scale,mxEvent.isAltDown($me$$.getEvent())||($dx$jscomp$23_rect$$=this.graph.snap($dx$jscomp$23_rect$$),$dy$$=this.graph.snap($dy$$),this.graph.isGridEnabled()||(Math.abs($dx$jscomp$23_rect$$)<this.graph.tolerance&&($dx$jscomp$23_rect$$=0),Math.abs($dy$$)<this.graph.tolerance&&($dy$$=0))));this.reset();if($execute_i$$){if(mxEvent.isAltDown($me$$.getEvent())&&this.graph.isToggleEvent($me$$.getEvent())){var $dx$jscomp$23_rect$$=
new mxRectangle(this.x,this.y,this.width,this.height),$cells$$=this.graph.getCells($dx$jscomp$23_rect$$.x,$dx$jscomp$23_rect$$.y,$dx$jscomp$23_rect$$.width,$dx$jscomp$23_rect$$.height);this.graph.removeSelectionCells($cells$$)}else if(this.isSpaceEvent($me$$)){this.graph.model.beginUpdate();try{for($cells$$=this.graph.getCellsBeyond($x0$$,$y0$$,this.graph.getDefaultParent(),!0,!0),$execute_i$$=0;$execute_i$$<$cells$$.length;$execute_i$$++)if(this.graph.isCellMovable($cells$$[$execute_i$$])){var $tmp$$=
this.graph.view.getState($cells$$[$execute_i$$]),$geo$$=this.graph.getCellGeometry($cells$$[$execute_i$$]);null!=$tmp$$&&null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.translate($dx$jscomp$23_rect$$,$dy$$),this.graph.model.setGeometry($cells$$[$execute_i$$],$geo$$))}}finally{this.graph.model.endUpdate()}}else $dx$jscomp$23_rect$$=new mxRectangle(this.x,this.y,this.width,this.height),this.graph.selectRegion($dx$jscomp$23_rect$$,$me$$.getEvent());$me$$.consume()}};mxRubberband.prototype.mouseMove=function $mxRubberband$$mouseMove$($sender$$,
$me$$){if(!$me$$.isConsumed()&&null!=this.first){var $bottom$jscomp$5_origin$jscomp$1_y$$=mxUtils.getScrollOrigin(this.graph.container),$offset$jscomp$15_right$jscomp$6_x$$=mxUtils.getOffset(this.graph.container);$bottom$jscomp$5_origin$jscomp$1_y$$.x-=$offset$jscomp$15_right$jscomp$6_x$$.x;$bottom$jscomp$5_origin$jscomp$1_y$$.y-=$offset$jscomp$15_right$jscomp$6_x$$.y;var $offset$jscomp$15_right$jscomp$6_x$$=$me$$.getX()+$bottom$jscomp$5_origin$jscomp$1_y$$.x,$bottom$jscomp$5_origin$jscomp$1_y$$=
$me$$.getY()+$bottom$jscomp$5_origin$jscomp$1_y$$.y,$dx$jscomp$24_scale$$=this.first.x-$offset$jscomp$15_right$jscomp$6_x$$,$dy$$=this.first.y-$bottom$jscomp$5_origin$jscomp$1_y$$,$tol$$=this.graph.tolerance;if(null!=this.div||Math.abs($dx$jscomp$24_scale$$)>$tol$$||Math.abs($dy$$)>$tol$$)null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),this.update($offset$jscomp$15_right$jscomp$6_x$$,$bottom$jscomp$5_origin$jscomp$1_y$$),this.isSpaceEvent($me$$)?($offset$jscomp$15_right$jscomp$6_x$$=
this.x+this.width,$bottom$jscomp$5_origin$jscomp$1_y$$=this.y+this.height,$dx$jscomp$24_scale$$=this.graph.view.scale,mxEvent.isAltDown($me$$.getEvent())||(this.width=this.graph.snap(this.width/$dx$jscomp$24_scale$$)*$dx$jscomp$24_scale$$,this.height=this.graph.snap(this.height/$dx$jscomp$24_scale$$)*$dx$jscomp$24_scale$$,this.graph.isGridEnabled()||(this.width<this.graph.tolerance&&(this.width=0),this.height<this.graph.tolerance&&(this.height=0)),this.x<this.first.x&&(this.x=$offset$jscomp$15_right$jscomp$6_x$$-
this.width),this.y<this.first.y&&(this.y=$bottom$jscomp$5_origin$jscomp$1_y$$-this.height)),this.div.style.borderStyle="dashed",this.div.style.backgroundColor="white",this.div.style.left=this.x+"px",this.div.style.top=this.y+"px",this.div.style.width=Math.max(0,this.width)+"px",this.div.style.height=this.graph.container.clientHeight+"px",this.div.style.borderWidth=0>=this.width?"0px 1px 0px 0px":"0px 1px 0px 1px",null==this.secondDiv&&(this.secondDiv=this.div.cloneNode(!0),this.div.parentNode.appendChild(this.secondDiv)),
this.secondDiv.style.left=this.x+"px",this.secondDiv.style.top=this.y+"px",this.secondDiv.style.width=this.graph.container.clientWidth+"px",this.secondDiv.style.height=Math.max(0,this.height)+"px",this.secondDiv.style.borderWidth=0>=this.height?"1px 0px 0px 0px":"1px 0px 1px 0px"):(this.div.style.backgroundColor="",this.div.style.borderWidth="",this.div.style.borderStyle="",null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null)),$me$$.consume()}};var $mxRubberbandReset$$=
mxRubberband.prototype.reset;mxRubberband.prototype.reset=function $mxRubberband$$reset$(){null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null);$mxRubberbandReset$$.apply(this,arguments)};var $startTime$$=(new Date).getTime(),$timeOnTarget$$=0,$mxEdgeHandlerUpdatePreviewState$$=mxEdgeHandler.prototype.updatePreviewState;mxEdgeHandler.prototype.updatePreviewState=function $mxEdgeHandler$$updatePreviewState$($edge$$,$point$$,$terminalState$$,$me$$){$mxEdgeHandlerUpdatePreviewState$$.apply(this,
arguments);$terminalState$$!=this.currentTerminalState?($startTime$$=(new Date).getTime(),$timeOnTarget$$=0):$timeOnTarget$$=(new Date).getTime()-$startTime$$;this.currentTerminalState=$terminalState$$};var $mxEdgeHandlerIsOutlineConnectEvent$$=mxEdgeHandler.prototype.isOutlineConnectEvent;mxEdgeHandler.prototype.isOutlineConnectEvent=function $mxEdgeHandler$$isOutlineConnectEvent$($me$$){return null!=this.currentTerminalState&&$me$$.getState()==this.currentTerminalState&&2E3<$timeOnTarget$$||(null==
this.currentTerminalState||"0"!=mxUtils.getValue(this.currentTerminalState.style,"outlineConnect","1"))&&$mxEdgeHandlerIsOutlineConnectEvent$$.apply(this,arguments)};mxVertexHandler.prototype.isCustomHandleEvent=function $mxVertexHandler$$isCustomHandleEvent$($me$$){return!mxEvent.isShiftDown($me$$.getEvent())};mxEdgeHandler.prototype.createHandleShape=function $mxEdgeHandler$$createHandleShape$($index$$,$virtual$$){var $img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$=null!=$index$$&&0==$index$$,
$terminalState$$=this.state.getVisibleTerminalState($img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$),$c$$=null!=$index$$&&(0==$index$$||$index$$>=this.state.absolutePoints.length-1||this.constructor==mxElbowEdgeHandler&&2==$index$$)?this.graph.getConnectionConstraint(this.state,$terminalState$$,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$):null,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$=null!=(null!=$c$$?this.graph.getConnectionPoint(this.state.getVisibleTerminalState($img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$),
$c$$):null)?this.fixedHandleImage:null!=$c$$&&null!=$terminalState$$?this.terminalHandleImage:this.handleImage;if(null!=$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$)return $img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$=new mxImageShape(new mxRectangle(0,0,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$.width,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$.height),$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$.src),$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$.preserveImageAspect=
!1,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$;$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$=mxConstants.HANDLE_SIZE;this.preferHtml&&--$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$;return new mxRectangleShape(new mxRectangle(0,0,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$,$img$jscomp$7_s$jscomp$16_shape$jscomp$7_source$$),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)};var $vertexHandlerCreateSizerShape$$=mxVertexHandler.prototype.createSizerShape;mxVertexHandler.prototype.createSizerShape=
function $mxVertexHandler$$createSizerShape$($bounds$$,$index$$,$fillColor$$){this.handleImage=$index$$==mxEvent.ROTATION_HANDLE?HoverIcons.prototype.rotationHandle:$index$$==mxEvent.LABEL_HANDLE?this.secondaryHandleImage:this.handleImage;return $vertexHandlerCreateSizerShape$$.apply(this,arguments)};var $mxGraphHandlerGetBoundingBox$$=mxGraphHandler.prototype.getBoundingBox;mxGraphHandler.prototype.getBoundingBox=function $mxGraphHandler$$getBoundingBox$($cells$$){if(null!=$cells$$&&1==$cells$$.length){var $model$jscomp$18_state$$=
this.graph.getModel(),$parent$$=$model$jscomp$18_state$$.getParent($cells$$[0]),$geo$$=this.graph.getCellGeometry($cells$$[0]);if($model$jscomp$18_state$$.isEdge($parent$$)&&null!=$geo$$&&$geo$$.relative&&($model$jscomp$18_state$$=this.graph.view.getState($cells$$[0]),null!=$model$jscomp$18_state$$&&2>$model$jscomp$18_state$$.width&&2>$model$jscomp$18_state$$.height&&null!=$model$jscomp$18_state$$.text&&null!=$model$jscomp$18_state$$.text.boundingBox))return mxRectangle.fromRectangle($model$jscomp$18_state$$.text.boundingBox)}return $mxGraphHandlerGetBoundingBox$$.apply(this,
arguments)};var $mxVertexHandlerGetSelectionBounds$$=mxVertexHandler.prototype.getSelectionBounds;mxVertexHandler.prototype.getSelectionBounds=function $mxVertexHandler$$getSelectionBounds$($state$$){var $bbox$jscomp$1_model$$=this.graph.getModel(),$parent$$=$bbox$jscomp$1_model$$.getParent($state$$.cell),$geo$$=this.graph.getCellGeometry($state$$.cell);return $bbox$jscomp$1_model$$.isEdge($parent$$)&&null!=$geo$$&&$geo$$.relative&&2>$state$$.width&&2>$state$$.height&&null!=$state$$.text&&null!=$state$$.text.boundingBox?
($bbox$jscomp$1_model$$=$state$$.text.unrotatedBoundingBox||$state$$.text.boundingBox,new mxRectangle(Math.round($bbox$jscomp$1_model$$.x),Math.round($bbox$jscomp$1_model$$.y),Math.round($bbox$jscomp$1_model$$.width),Math.round($bbox$jscomp$1_model$$.height))):$mxVertexHandlerGetSelectionBounds$$.apply(this,arguments)};var $mxVertexHandlerMouseDown$$=mxVertexHandler.prototype.mouseDown;mxVertexHandler.prototype.mouseDown=function $mxVertexHandler$$mouseDown$($sender$$,$me$$){var $model$$=this.graph.getModel(),
$parent$$=$model$$.getParent(this.state.cell),$geo$$=this.graph.getCellGeometry(this.state.cell);(this.getHandleForEvent($me$$)==mxEvent.ROTATION_HANDLE||!$model$$.isEdge($parent$$)||null==$geo$$||!$geo$$.relative||null==this.state||2<=this.state.width||2<=this.state.height)&&$mxVertexHandlerMouseDown$$.apply(this,arguments)};mxVertexHandler.prototype.isRotationHandleVisible=function $mxVertexHandler$$isRotationHandleVisible$(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&
(0>=mxGraphHandler.prototype.maxCells||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells)};mxVertexHandler.prototype.rotateClick=function $mxVertexHandler$$rotateClick$(){this.state.view.graph.turnShapes([this.state.cell])};var $vertexHandlerMouseMove$$=mxVertexHandler.prototype.mouseMove;mxVertexHandler.prototype.mouseMove=function $mxVertexHandler$$mouseMove$($sender$$,$me$$){$vertexHandlerMouseMove$$.apply(this,arguments);null!=this.graph.graphHandler.first&&null!=this.rotationShape&&
null!=this.rotationShape.node&&(this.rotationShape.node.style.display="none")};var $vertexHandlerMouseUp$$=mxVertexHandler.prototype.mouseUp;mxVertexHandler.prototype.mouseUp=function $mxVertexHandler$$mouseUp$($sender$$,$me$$){$vertexHandlerMouseUp$$.apply(this,arguments);null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none")};var $vertexHandlerInit$$=mxVertexHandler.prototype.init;mxVertexHandler.prototype.init=
function $mxVertexHandler$$init$(){$vertexHandlerInit$$.apply(this,arguments);var $redraw$$=!1;null!=this.rotationShape&&this.rotationShape.node.setAttribute("title",mxResources.get("rotateTooltip"));var $update$$=mxUtils.bind(this,function(){null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none");null!=this.specialHandle&&(this.specialHandle.node.style.display=this.graph.isEnabled()&&this.graph.getSelectionCount()<
this.graph.graphHandler.maxCells?"":"none");this.redrawHandles()});this.selectionHandler=mxUtils.bind(this,function($sender$$,$evt$$){$update$$()});this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.selectionHandler);this.changeHandler=mxUtils.bind(this,function($sender$$,$evt$$){this.updateLinkHint(this.graph.getLinkForCell(this.state.cell),this.graph.getLinksForState(this.state));$update$$()});this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler);this.editingHandler=mxUtils.bind(this,
function($sender$$,$evt$$){this.redrawHandles()});this.graph.addListener(mxEvent.EDITING_STOPPED,this.editingHandler);var $link$$=this.graph.getLinkForCell(this.state.cell),$links$$=this.graph.getLinksForState(this.state);this.updateLinkHint($link$$,$links$$);if(null!=$link$$||null!=$links$$&&0<$links$$.length)$redraw$$=!0;$redraw$$&&this.redrawHandles()};mxVertexHandler.prototype.updateLinkHint=function $mxVertexHandler$$updateLinkHint$($link$$,$links$$){if(null==$link$$&&(null==$links$$||0==$links$$.length)||
1<this.graph.getSelectionCount())null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);else if(null!=$link$$||null!=$links$$&&0<$links$$.length){null==this.linkHint&&(this.linkHint=$createHint$$(),this.linkHint.style.padding="6px 8px 6px 8px",this.linkHint.style.opacity="1",this.linkHint.style.filter="",this.graph.container.appendChild(this.linkHint));this.linkHint.innerHTML="";if(null!=$link$$&&(this.linkHint.appendChild(this.graph.createLinkForHint($link$$)),
this.graph.isEnabled()&&"function"===typeof this.graph.editLink)){var $changeLink_i$$=document.createElement("img");$changeLink_i$$.setAttribute("src",Editor.editImage);$changeLink_i$$.setAttribute("title",mxResources.get("editLink"));$changeLink_i$$.setAttribute("width","11");$changeLink_i$$.setAttribute("height","11");$changeLink_i$$.style.marginLeft="10px";$changeLink_i$$.style.marginBottom="-1px";$changeLink_i$$.style.cursor="pointer";this.linkHint.appendChild($changeLink_i$$);mxEvent.addListener($changeLink_i$$,
"click",mxUtils.bind(this,function($evt$$){this.graph.setSelectionCell(this.state.cell);this.graph.editLink();mxEvent.consume($evt$$)}));$changeLink_i$$=document.createElement("img");$changeLink_i$$.setAttribute("src",Dialog.prototype.clearImage);$changeLink_i$$.setAttribute("title",mxResources.get("removeIt",[mxResources.get("link")]));$changeLink_i$$.setAttribute("width","13");$changeLink_i$$.setAttribute("height","10");$changeLink_i$$.style.marginLeft="4px";$changeLink_i$$.style.marginBottom="-1px";
$changeLink_i$$.style.cursor="pointer";this.linkHint.appendChild($changeLink_i$$);mxEvent.addListener($changeLink_i$$,"click",mxUtils.bind(this,function($evt$$){this.graph.setLinkForCell(this.state.cell,null);mxEvent.consume($evt$$)}))}if(null!=$links$$)for($changeLink_i$$=0;$changeLink_i$$<$links$$.length;$changeLink_i$$++){var $div$$=document.createElement("div");$div$$.style.marginTop=null!=$link$$||0<$changeLink_i$$?"6px":"0px";$div$$.appendChild(this.graph.createLinkForHint($links$$[$changeLink_i$$].getAttribute("href"),
mxUtils.getTextContent($links$$[$changeLink_i$$])));this.linkHint.appendChild($div$$)}}};mxEdgeHandler.prototype.updateLinkHint=mxVertexHandler.prototype.updateLinkHint;var $edgeHandlerInit$$=mxEdgeHandler.prototype.init;mxEdgeHandler.prototype.init=function $mxEdgeHandler$$init$(){$edgeHandlerInit$$.apply(this,arguments);this.constraintHandler.isEnabled=mxUtils.bind(this,function(){return this.state.view.graph.connectionHandler.isEnabled()});var $update$$=mxUtils.bind(this,function(){null!=this.linkHint&&
(this.linkHint.style.display=1==this.graph.getSelectionCount()?"":"none");null!=this.labelShape&&(this.labelShape.node.style.display=this.graph.isEnabled()&&this.graph.getSelectionCount()<this.graph.graphHandler.maxCells?"":"none")});this.selectionHandler=mxUtils.bind(this,function($sender$$,$evt$$){$update$$()});this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.selectionHandler);this.changeHandler=mxUtils.bind(this,function($sender$$,$evt$$){this.updateLinkHint(this.graph.getLinkForCell(this.state.cell),
this.graph.getLinksForState(this.state));$update$$();this.redrawHandles()});this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler);var $link$$=this.graph.getLinkForCell(this.state.cell),$links$$=this.graph.getLinksForState(this.state);if(null!=$link$$||null!=$links$$&&0<$links$$.length)this.updateLinkHint($link$$,$links$$),this.redrawHandles()};var $connectionHandlerInit$$=mxConnectionHandler.prototype.init;mxConnectionHandler.prototype.init=function $mxConnectionHandler$$init$(){$connectionHandlerInit$$.apply(this,
arguments);this.constraintHandler.isEnabled=mxUtils.bind(this,function(){return this.graph.connectionHandler.isEnabled()})};var $vertexHandlerRedrawHandles$$=mxVertexHandler.prototype.redrawHandles;mxVertexHandler.prototype.redrawHandles=function $mxVertexHandler$$redrawHandles$(){$vertexHandlerRedrawHandles$$.apply(this);if(null!=this.state&&null!=this.linkHint){var $c$$=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),$tb_tmp$$=new mxRectangle(this.state.x,this.state.y-22,this.state.width+
24,this.state.height+22),$b$jscomp$6_bb$$=mxUtils.getBoundingBox($tb_tmp$$,this.state.style[mxConstants.STYLE_ROTATION]||"0",$c$$),$c$$=null!=$b$jscomp$6_bb$$?mxUtils.getBoundingBox(this.state,this.state.style[mxConstants.STYLE_ROTATION]||"0"):this.state,$tb_tmp$$=null!=this.state.text?this.state.text.boundingBox:null;null==$b$jscomp$6_bb$$&&($b$jscomp$6_bb$$=this.state);$b$jscomp$6_bb$$=$b$jscomp$6_bb$$.y+$b$jscomp$6_bb$$.height;null!=$tb_tmp$$&&($b$jscomp$6_bb$$=Math.max($b$jscomp$6_bb$$,$tb_tmp$$.y+
$tb_tmp$$.height));this.linkHint.style.left=Math.max(0,Math.round($c$$.x+($c$$.width-this.linkHint.clientWidth)/2))+"px";this.linkHint.style.top=Math.round($b$jscomp$6_bb$$+this.verticalOffset/2+6+this.state.view.graph.tolerance)+"px"}};var $vertexHandlerReset$$=mxVertexHandler.prototype.reset;mxVertexHandler.prototype.reset=function $mxVertexHandler$$reset$(){$vertexHandlerReset$$.apply(this,arguments);null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=
1==this.graph.getSelectionCount()?"":"none")};var $vertexHandlerDestroy$$=mxVertexHandler.prototype.destroy;mxVertexHandler.prototype.destroy=function $mxVertexHandler$$destroy$(){$vertexHandlerDestroy$$.apply(this,arguments);null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);null!=this.selectionHandler&&(this.graph.getSelectionModel().removeListener(this.selectionHandler),this.selectionHandler=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),
this.changeHandler=null);null!=this.editingHandler&&(this.graph.removeListener(this.editingHandler),this.editingHandler=null)};var $edgeHandlerRedrawHandles$$=mxEdgeHandler.prototype.redrawHandles;mxEdgeHandler.prototype.redrawHandles=function $mxEdgeHandler$$redrawHandles$(){if(null!=this.marker&&($edgeHandlerRedrawHandles$$.apply(this),null!=this.state&&null!=this.linkHint)){var $b$$=this.state;null!=this.state.text&&null!=this.state.text.bounds&&($b$$=new mxRectangle($b$$.x,$b$$.y,$b$$.width,$b$$.height),
$b$$.add(this.state.text.bounds));this.linkHint.style.left=Math.max(0,Math.round($b$$.x+($b$$.width-this.linkHint.clientWidth)/2))+"px";this.linkHint.style.top=Math.round($b$$.y+$b$$.height+6+this.state.view.graph.tolerance)+"px"}};var $edgeHandlerReset$$=mxEdgeHandler.prototype.reset;mxEdgeHandler.prototype.reset=function $mxEdgeHandler$$reset$(){$edgeHandlerReset$$.apply(this,arguments);null!=this.linkHint&&(this.linkHint.style.visibility="")};var $edgeHandlerDestroy$$=mxEdgeHandler.prototype.destroy;
mxEdgeHandler.prototype.destroy=function $mxEdgeHandler$$destroy$(){$edgeHandlerDestroy$$.apply(this,arguments);null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);null!=this.selectionHandler&&(this.graph.getSelectionModel().removeListener(this.selectionHandler),this.selectionHandler=null);null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null)}}();(function(){function $CubeShape$$(){mxCylinder.call(this)}function $IsoRectangleShape$$(){mxActor.call(this)}function $IsoCubeShape$$(){mxCylinder.call(this)}function $DataStoreShape$$(){mxCylinder.call(this)}function $NoteShape$$(){mxCylinder.call(this)}function $SwitchShape$$(){mxActor.call(this)}function $FolderShape$$(){mxCylinder.call(this)}function $CardShape$$(){mxActor.call(this)}function $TapeShape$$(){mxActor.call(this)}function $DocumentShape$$(){mxActor.call(this)}function $ParallelogramShape$$(){mxActor.call(this)}
function $TrapezoidShape$$(){mxActor.call(this)}function $CurlyBracketShape$$(){mxActor.call(this)}function $ParallelMarkerShape$$(){mxActor.call(this)}function $HandJiggle$$($canvas$$,$defaultVariation$$){this.canvas=$canvas$$;this.canvas.setLineJoin("round");this.canvas.setLineCap("round");this.defaultVariation=$defaultVariation$$;this.originalLineTo=this.canvas.lineTo;this.canvas.lineTo=mxUtils.bind(this,$HandJiggle$$.prototype.lineTo);this.originalMoveTo=this.canvas.moveTo;this.canvas.moveTo=
mxUtils.bind(this,$HandJiggle$$.prototype.moveTo);this.originalClose=this.canvas.close;this.canvas.close=mxUtils.bind(this,$HandJiggle$$.prototype.close);this.originalQuadTo=this.canvas.quadTo;this.canvas.quadTo=mxUtils.bind(this,$HandJiggle$$.prototype.quadTo);this.originalCurveTo=this.canvas.curveTo;this.canvas.curveTo=mxUtils.bind(this,$HandJiggle$$.prototype.curveTo);this.originalArcTo=this.canvas.arcTo;this.canvas.arcTo=mxUtils.bind(this,$HandJiggle$$.prototype.arcTo)}function $ProcessShape$$(){mxRectangleShape.call(this)}
function $TransparentShape$$(){mxRectangleShape.call(this)}function $CalloutShape$$(){mxActor.call(this)}function $StepShape$$(){mxActor.call(this)}function $HexagonShape$$(){mxActor.call(this)}function $PlusShape$$(){mxRectangleShape.call(this)}function $ExtendedShape$$(){mxRectangleShape.call(this)}function $MessageShape$$(){mxCylinder.call(this)}function $UmlActorShape$$(){mxShape.call(this)}function $UmlBoundaryShape$$(){mxShape.call(this)}function $UmlEntityShape$$(){mxEllipse.call(this)}function $UmlDestroyShape$$(){mxShape.call(this)}
function $UmlControlShape$$(){mxShape.call(this)}function $UmlLifeline$$(){mxRectangleShape.call(this)}function $UmlFrame$$(){mxShape.call(this)}function $LollipopShape$$(){mxShape.call(this)}function $RequiresShape$$(){mxShape.call(this)}function $RequiredInterfaceShape$$(){mxShape.call(this)}function $ProvidedRequiredInterfaceShape$$(){mxShape.call(this)}function $ComponentShape$$(){mxCylinder.call(this)}function $StateShape$$(){mxDoubleEllipse.call(this)}function $StartStateShape$$(){mxDoubleEllipse.call(this)}
function $LinkShape$$(){mxArrowConnector.call(this);this.spacing=0}function $FlexArrowShape$$(){mxArrowConnector.call(this);this.spacing=0}function $ManualInputShape$$(){mxActor.call(this)}function $InternalStorageShape$$(){mxRectangleShape.call(this)}function $CornerShape$$(){mxActor.call(this)}function $CrossbarShape$$(){mxActor.call(this)}function $TeeShape$$(){mxActor.call(this)}function $SingleArrowShape$$(){mxActor.call(this)}function $DoubleArrowShape$$(){mxActor.call(this)}function $DataStorageShape$$(){mxActor.call(this)}
function $OrShape$$(){mxActor.call(this)}function $XorShape$$(){mxActor.call(this)}function $LoopLimitShape$$(){mxActor.call(this)}function $OffPageConnectorShape$$(){mxActor.call(this)}function $TapeDataShape$$(){mxEllipse.call(this)}function $OrEllipseShape$$(){mxEllipse.call(this)}function $SumEllipseShape$$(){mxEllipse.call(this)}function $SortShape$$(){mxRhombus.call(this)}function $CollateShape$$(){mxEllipse.call(this)}function $DimensionShape$$(){mxEllipse.call(this)}function $PartialRectangleShape$$(){mxEllipse.call(this)}
function $LineEllipseShape$$(){mxEllipse.call(this)}function $DelayShape$$(){mxActor.call(this)}function $CrossShape$$(){mxActor.call(this)}function $DisplayShape$$(){mxActor.call(this)}function $FilledEdge$$(){mxConnector.call(this)}function $circleMarker$$($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){$size$$+=$sw$$;var $pt$$=$pe$$.clone();$pe$$.x-=$unitX$$*(2*$size$$+$sw$$);$pe$$.y-=$unitY$$*(2*$size$$+$sw$$);$unitX$$*=$size$$+$sw$$;$unitY$$*=$size$$+$sw$$;return function(){$c$$.ellipse($pt$$.x-
$unitX$$-$size$$,$pt$$.y-$unitY$$-$size$$,2*$size$$,2*$size$$);$filled$$?$c$$.fillAndStroke():$c$$.stroke()}}mxUtils.extend($CubeShape$$,mxCylinder);$CubeShape$$.prototype.size=20;$CubeShape$$.prototype.darkOpacity=0;$CubeShape$$.prototype.darkOpacity2=0;$CubeShape$$.prototype.paintVertexShape=function $$CubeShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),$op$$=Math.max(-1,Math.min(1,
parseFloat(mxUtils.getValue(this.style,"darkOpacity",this.darkOpacity)))),$op2$$=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity2",this.darkOpacity2))));$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(0,0);$c$$.lineTo($w$$-$s$$,0);$c$$.lineTo($w$$,$s$$);$c$$.lineTo($w$$,$h$$);$c$$.lineTo($s$$,$h$$);$c$$.lineTo(0,$h$$-$s$$);$c$$.lineTo(0,0);$c$$.close();$c$$.end();$c$$.fillAndStroke();this.outline||($c$$.setShadow(!1),0!=$op$$&&($c$$.setFillAlpha(Math.abs($op$$)),$c$$.setFillColor(0>
$op$$?"#FFFFFF":"#000000"),$c$$.begin(),$c$$.moveTo(0,0),$c$$.lineTo($w$$-$s$$,0),$c$$.lineTo($w$$,$s$$),$c$$.lineTo($s$$,$s$$),$c$$.close(),$c$$.fill()),0!=$op2$$&&($c$$.setFillAlpha(Math.abs($op2$$)),$c$$.setFillColor(0>$op2$$?"#FFFFFF":"#000000"),$c$$.begin(),$c$$.moveTo(0,0),$c$$.lineTo($s$$,$s$$),$c$$.lineTo($s$$,$h$$),$c$$.lineTo(0,$h$$-$s$$),$c$$.close(),$c$$.fill()),$c$$.begin(),$c$$.moveTo($s$$,$h$$),$c$$.lineTo($s$$,$s$$),$c$$.lineTo(0,0),$c$$.moveTo($s$$,$s$$),$c$$.lineTo($w$$,$s$$),$c$$.end(),
$c$$.stroke())};$CubeShape$$.prototype.getLabelMargins=function $$CubeShape$$$$getLabelMargins$($rect$jscomp$2_s$$){return mxUtils.getValue(this.style,"boundedLbl",!1)?($rect$jscomp$2_s$$=parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale,new mxRectangle($rect$jscomp$2_s$$,$rect$jscomp$2_s$$,0,0)):null};mxCellRenderer.registerShape("cube",$CubeShape$$);var $tan30$$=Math.tan(mxUtils.toRadians(30)),$tan30Dx$$=(.5-$tan30$$)/2;mxUtils.extend($IsoRectangleShape$$,mxActor);$IsoRectangleShape$$.prototype.size=
20;$IsoRectangleShape$$.prototype.redrawPath=function $$IsoRectangleShape$$$$redrawPath$($path$$,$m$jscomp$2_x$$,$y$$,$w$$,$h$$){$m$jscomp$2_x$$=Math.min($w$$,$h$$/$tan30$$);$path$$.translate(($w$$-$m$jscomp$2_x$$)/2,($h$$-$m$jscomp$2_x$$)/2+$m$jscomp$2_x$$/4);$path$$.moveTo(0,.25*$m$jscomp$2_x$$);$path$$.lineTo(.5*$m$jscomp$2_x$$,$m$jscomp$2_x$$*$tan30Dx$$);$path$$.lineTo($m$jscomp$2_x$$,.25*$m$jscomp$2_x$$);$path$$.lineTo(.5*$m$jscomp$2_x$$,(.5-$tan30Dx$$)*$m$jscomp$2_x$$);$path$$.lineTo(0,.25*
$m$jscomp$2_x$$);$path$$.close();$path$$.end()};mxCellRenderer.registerShape("isoRectangle",$IsoRectangleShape$$);mxUtils.extend($IsoCubeShape$$,mxCylinder);$IsoCubeShape$$.prototype.size=20;$IsoCubeShape$$.prototype.redrawPath=function $$IsoCubeShape$$$$redrawPath$($path$$,$m$jscomp$3_x$$,$y$$,$w$$,$h$$,$isForeground$$){$m$jscomp$3_x$$=Math.min($w$$,$h$$/(.5+$tan30$$));$isForeground$$?($path$$.moveTo(0,.25*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,(.5-$tan30Dx$$)*$m$jscomp$3_x$$),$path$$.lineTo($m$jscomp$3_x$$,
.25*$m$jscomp$3_x$$),$path$$.moveTo(.5*$m$jscomp$3_x$$,(.5-$tan30Dx$$)*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,(1-$tan30Dx$$)*$m$jscomp$3_x$$)):($path$$.translate(($w$$-$m$jscomp$3_x$$)/2,($h$$-$m$jscomp$3_x$$)/2),$path$$.moveTo(0,.25*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,$m$jscomp$3_x$$*$tan30Dx$$),$path$$.lineTo($m$jscomp$3_x$$,.25*$m$jscomp$3_x$$),$path$$.lineTo($m$jscomp$3_x$$,.75*$m$jscomp$3_x$$),$path$$.lineTo(.5*$m$jscomp$3_x$$,(1-$tan30Dx$$)*$m$jscomp$3_x$$),$path$$.lineTo(0,
.75*$m$jscomp$3_x$$),$path$$.close());$path$$.end()};mxCellRenderer.registerShape("isoCube",$IsoCubeShape$$);mxUtils.extend($DataStoreShape$$,mxCylinder);$DataStoreShape$$.prototype.redrawPath=function $$DataStoreShape$$$$redrawPath$($c$$,$dy$jscomp$23_x$$,$y$$,$w$$,$h$$,$isForeground$$){$dy$jscomp$23_x$$=Math.min($h$$/2,Math.round($h$$/8)+this.strokewidth-1);if($isForeground$$&&null!=this.fill||!$isForeground$$&&null==this.fill)$c$$.moveTo(0,$dy$jscomp$23_x$$),$c$$.curveTo(0,2*$dy$jscomp$23_x$$,
$w$$,2*$dy$jscomp$23_x$$,$w$$,$dy$jscomp$23_x$$),$isForeground$$||($c$$.stroke(),$c$$.begin()),$c$$.translate(0,$dy$jscomp$23_x$$/2),$c$$.moveTo(0,$dy$jscomp$23_x$$),$c$$.curveTo(0,2*$dy$jscomp$23_x$$,$w$$,2*$dy$jscomp$23_x$$,$w$$,$dy$jscomp$23_x$$),$isForeground$$||($c$$.stroke(),$c$$.begin()),$c$$.translate(0,$dy$jscomp$23_x$$/2),$c$$.moveTo(0,$dy$jscomp$23_x$$),$c$$.curveTo(0,2*$dy$jscomp$23_x$$,$w$$,2*$dy$jscomp$23_x$$,$w$$,$dy$jscomp$23_x$$),$isForeground$$||($c$$.stroke(),$c$$.begin()),$c$$.translate(0,
-$dy$jscomp$23_x$$);$isForeground$$||($c$$.moveTo(0,$dy$jscomp$23_x$$),$c$$.curveTo(0,-$dy$jscomp$23_x$$/3,$w$$,-$dy$jscomp$23_x$$/3,$w$$,$dy$jscomp$23_x$$),$c$$.lineTo($w$$,$h$$-$dy$jscomp$23_x$$),$c$$.curveTo($w$$,$h$$+$dy$jscomp$23_x$$/3,0,$h$$+$dy$jscomp$23_x$$/3,0,$h$$-$dy$jscomp$23_x$$),$c$$.close())};$DataStoreShape$$.prototype.getLabelMargins=function $$DataStoreShape$$$$getLabelMargins$($rect$$){return new mxRectangle(0,2.5*Math.min($rect$$.height/2,Math.round($rect$$.height/8)+this.strokewidth-
1),0,0)};mxCellRenderer.registerShape("datastore",$DataStoreShape$$);mxUtils.extend($NoteShape$$,mxCylinder);$NoteShape$$.prototype.size=30;$NoteShape$$.prototype.darkOpacity=0;$NoteShape$$.prototype.paintVertexShape=function $$NoteShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))))),$op$$=Math.max(-1,Math.min(1,parseFloat(mxUtils.getValue(this.style,"darkOpacity",this.darkOpacity))));$c$$.translate($x$$,
$y$$);$c$$.begin();$c$$.moveTo(0,0);$c$$.lineTo($w$$-$s$$,0);$c$$.lineTo($w$$,$s$$);$c$$.lineTo($w$$,$h$$);$c$$.lineTo(0,$h$$);$c$$.lineTo(0,0);$c$$.close();$c$$.end();$c$$.fillAndStroke();this.outline||($c$$.setShadow(!1),0!=$op$$&&($c$$.setFillAlpha(Math.abs($op$$)),$c$$.setFillColor(0>$op$$?"#FFFFFF":"#000000"),$c$$.begin(),$c$$.moveTo($w$$-$s$$,0),$c$$.lineTo($w$$-$s$$,$s$$),$c$$.lineTo($w$$,$s$$),$c$$.close(),$c$$.fill()),$c$$.begin(),$c$$.moveTo($w$$-$s$$,0),$c$$.lineTo($w$$-$s$$,$s$$),$c$$.lineTo($w$$,
$s$$),$c$$.end(),$c$$.stroke())};mxCellRenderer.registerShape("note",$NoteShape$$);mxUtils.extend($SwitchShape$$,mxActor);$SwitchShape$$.prototype.redrawPath=function $$SwitchShape$$$$redrawPath$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.quadTo($w$$/2,.5*$h$$,$w$$,0);$c$$.quadTo(.5*$w$$,$h$$/2,$w$$,$h$$);$c$$.quadTo($w$$/2,.5*$h$$,0,$h$$);$c$$.quadTo(.5*$w$$,$h$$/2,0,0);$c$$.end()};mxCellRenderer.registerShape("switch",$SwitchShape$$);mxUtils.extend($FolderShape$$,mxCylinder);$FolderShape$$.prototype.tabWidth=
60;$FolderShape$$.prototype.tabHeight=20;$FolderShape$$.prototype.tabPosition="right";$FolderShape$$.prototype.redrawPath=function $$FolderShape$$$$redrawPath$($path$$,$dx$jscomp$25_x$$,$dy$jscomp$24_y$$,$w$$,$h$$,$isForeground$$){$dx$jscomp$25_x$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth))));$dy$jscomp$24_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight))));var $tp$$=mxUtils.getValue(this.style,"tabPosition",
this.tabPosition);$isForeground$$?"left"==$tp$$?($path$$.moveTo(0,$dy$jscomp$24_y$$),$path$$.lineTo($dx$jscomp$25_x$$,$dy$jscomp$24_y$$)):($path$$.moveTo($w$$-$dx$jscomp$25_x$$,$dy$jscomp$24_y$$),$path$$.lineTo($w$$,$dy$jscomp$24_y$$)):("left"==$tp$$?($path$$.moveTo(0,0),$path$$.lineTo($dx$jscomp$25_x$$,0),$path$$.lineTo($dx$jscomp$25_x$$,$dy$jscomp$24_y$$),$path$$.lineTo($w$$,$dy$jscomp$24_y$$)):($path$$.moveTo(0,$dy$jscomp$24_y$$),$path$$.lineTo($w$$-$dx$jscomp$25_x$$,$dy$jscomp$24_y$$),$path$$.lineTo($w$$-
$dx$jscomp$25_x$$,0),$path$$.lineTo($w$$,0)),$path$$.lineTo($w$$,$h$$),$path$$.lineTo(0,$h$$),$path$$.lineTo(0,$dy$jscomp$24_y$$),$path$$.close());$path$$.end()};mxCellRenderer.registerShape("folder",$FolderShape$$);mxUtils.extend($CardShape$$,mxActor);$CardShape$$.prototype.size=30;$CardShape$$.prototype.isRoundable=function $$CardShape$$$$isRoundable$(){return!0};$CardShape$$.prototype.redrawPath=function $$CardShape$$$$redrawPath$($c$$,$s$jscomp$20_x$$,$arcSize$jscomp$1_y$$,$w$$,$h$$){$s$jscomp$20_x$$=
Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$arcSize$jscomp$1_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($s$jscomp$20_x$$,0),new mxPoint($w$$,0),new mxPoint($w$$,$h$$),new mxPoint(0,$h$$),new mxPoint(0,$s$jscomp$20_x$$)],this.isRounded,$arcSize$jscomp$1_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("card",$CardShape$$);mxUtils.extend($TapeShape$$,mxActor);$TapeShape$$.prototype.size=
.4;$TapeShape$$.prototype.redrawPath=function $$TapeShape$$$$redrawPath$($c$$,$dy$jscomp$25_x$$,$y$$,$w$$,$h$$){$dy$jscomp$25_x$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$c$$.moveTo(0,$dy$jscomp$25_x$$/2);$c$$.quadTo($w$$/4,1.4*$dy$jscomp$25_x$$,$w$$/2,$dy$jscomp$25_x$$/2);$c$$.quadTo(3*$w$$/4,$dy$jscomp$25_x$$*(1-1.4),$w$$,$dy$jscomp$25_x$$/2);$c$$.lineTo($w$$,$h$$-$dy$jscomp$25_x$$/2);$c$$.quadTo(3*$w$$/4,$h$$-1.4*$dy$jscomp$25_x$$,$w$$/2,$h$$-$dy$jscomp$25_x$$/
2);$c$$.quadTo($w$$/4,$h$$-$dy$jscomp$25_x$$*(1-1.4),0,$h$$-$dy$jscomp$25_x$$/2);$c$$.lineTo(0,$dy$jscomp$25_x$$/2);$c$$.close();$c$$.end()};$TapeShape$$.prototype.getLabelBounds=function $$TapeShape$$$$getLabelBounds$($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $dx$jscomp$26_dy$jscomp$26_size$$=mxUtils.getValue(this.style,"size",this.size),$w$$=$rect$$.width,$h$$=$rect$$.height;if(null==this.direction||this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST)return $dx$jscomp$26_dy$jscomp$26_size$$*=
$h$$,new mxRectangle($rect$$.x,$rect$$.y+$dx$jscomp$26_dy$jscomp$26_size$$,$w$$,$h$$-2*$dx$jscomp$26_dy$jscomp$26_size$$);$dx$jscomp$26_dy$jscomp$26_size$$*=$w$$;return new mxRectangle($rect$$.x+$dx$jscomp$26_dy$jscomp$26_size$$,$rect$$.y,$w$$-2*$dx$jscomp$26_dy$jscomp$26_size$$,$h$$)}return $rect$$};mxCellRenderer.registerShape("tape",$TapeShape$$);mxUtils.extend($DocumentShape$$,mxActor);$DocumentShape$$.prototype.size=.3;$DocumentShape$$.prototype.getLabelMargins=function $$DocumentShape$$$$getLabelMargins$($rect$$){return mxUtils.getValue(this.style,
"boundedLbl",!1)?new mxRectangle(0,0,0,parseFloat(mxUtils.getValue(this.style,"size",this.size))*$rect$$.height):null};$DocumentShape$$.prototype.redrawPath=function $$DocumentShape$$$$redrawPath$($c$$,$dy$jscomp$27_x$$,$y$$,$w$$,$h$$){$dy$jscomp$27_x$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$c$$.moveTo(0,0);$c$$.lineTo($w$$,0);$c$$.lineTo($w$$,$h$$-$dy$jscomp$27_x$$/2);$c$$.quadTo(3*$w$$/4,$h$$-1.4*$dy$jscomp$27_x$$,$w$$/2,$h$$-$dy$jscomp$27_x$$/2);
$c$$.quadTo($w$$/4,$h$$-$dy$jscomp$27_x$$*(1-1.4),0,$h$$-$dy$jscomp$27_x$$/2);$c$$.lineTo(0,$dy$jscomp$27_x$$/2);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("document",$DocumentShape$$);var $cylinderGetCylinderSize$$=mxCylinder.prototype.getCylinderSize;mxCylinder.prototype.getCylinderSize=function $mxCylinder$$getCylinderSize$($x$$,$y$$,$w$$,$h$$){var $size$$=mxUtils.getValue(this.style,"size");return null!=$size$$?$h$$*Math.max(0,Math.min(1,$size$$)):$cylinderGetCylinderSize$$.apply(this,
arguments)};mxCylinder.prototype.getLabelMargins=function $mxCylinder$$getLabelMargins$($rect$$){if(mxUtils.getValue(this.style,"boundedLbl",!1)){var $size$$=2*mxUtils.getValue(this.style,"size",.15);return new mxRectangle(0,Math.min(this.maxHeight*this.scale,$rect$$.height*$size$$),0,0)}return null};mxUtils.extend($ParallelogramShape$$,mxActor);$ParallelogramShape$$.prototype.size=.2;$ParallelogramShape$$.prototype.isRoundable=function $$ParallelogramShape$$$$isRoundable$(){return!0};$ParallelogramShape$$.prototype.redrawPath=
function $$ParallelogramShape$$$$redrawPath$($c$$,$dx$jscomp$27_x$$,$arcSize$jscomp$2_y$$,$w$$,$h$$){$dx$jscomp$27_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$2_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,$h$$),new mxPoint($dx$jscomp$27_x$$,0),new mxPoint($w$$,0),new mxPoint($w$$-$dx$jscomp$27_x$$,$h$$)],this.isRounded,$arcSize$jscomp$2_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("parallelogram",
$ParallelogramShape$$);mxUtils.extend($TrapezoidShape$$,mxActor);$TrapezoidShape$$.prototype.size=.2;$TrapezoidShape$$.prototype.isRoundable=function $$TrapezoidShape$$$$isRoundable$(){return!0};$TrapezoidShape$$.prototype.redrawPath=function $$TrapezoidShape$$$$redrawPath$($c$$,$dx$jscomp$28_x$$,$arcSize$jscomp$3_y$$,$w$$,$h$$){$dx$jscomp$28_x$$=$w$$*Math.max(0,Math.min(.5,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$3_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,
mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,$h$$),new mxPoint($dx$jscomp$28_x$$,0),new mxPoint($w$$-$dx$jscomp$28_x$$,0),new mxPoint($w$$,$h$$)],this.isRounded,$arcSize$jscomp$3_y$$,!0)};mxCellRenderer.registerShape("trapezoid",$TrapezoidShape$$);mxUtils.extend($CurlyBracketShape$$,mxActor);$CurlyBracketShape$$.prototype.size=.5;$CurlyBracketShape$$.prototype.redrawPath=function $$CurlyBracketShape$$$$redrawPath$($c$$,$s$jscomp$21_x$$,$arcSize$jscomp$4_y$$,$w$$,$h$$){$c$$.setFillColor(null);
$s$jscomp$21_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$4_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($w$$,0),new mxPoint($s$jscomp$21_x$$,0),new mxPoint($s$jscomp$21_x$$,$h$$/2),new mxPoint(0,$h$$/2),new mxPoint($s$jscomp$21_x$$,$h$$/2),new mxPoint($s$jscomp$21_x$$,$h$$),new mxPoint($w$$,$h$$)],this.isRounded,$arcSize$jscomp$4_y$$,!1);$c$$.end()};mxCellRenderer.registerShape("curlyBracket",
$CurlyBracketShape$$);mxUtils.extend($ParallelMarkerShape$$,mxActor);$ParallelMarkerShape$$.prototype.redrawPath=function $$ParallelMarkerShape$$$$redrawPath$($c$$,$w2_x$$,$y$$,$w$$,$h$$){$c$$.setStrokeWidth(1);$c$$.setFillColor(this.stroke);$w2_x$$=$w$$/5;$c$$.rect(0,0,$w2_x$$,$h$$);$c$$.fillAndStroke();$c$$.rect(2*$w2_x$$,0,$w2_x$$,$h$$);$c$$.fillAndStroke();$c$$.rect(4*$w2_x$$,0,$w2_x$$,$h$$);$c$$.fillAndStroke()};mxCellRenderer.registerShape("parallelMarker",$ParallelMarkerShape$$);$HandJiggle$$.prototype.moveTo=
function $$HandJiggle$$$$moveTo$($endX$$,$endY$$){this.originalMoveTo.apply(this.canvas,arguments);this.lastX=$endX$$;this.lastY=$endY$$;this.firstX=$endX$$;this.firstY=$endY$$};$HandJiggle$$.prototype.close=function $$HandJiggle$$$$close$(){null!=this.firstX&&null!=this.firstY&&(this.lineTo(this.firstX,this.firstY),this.originalClose.apply(this.canvas,arguments));this.originalClose.apply(this.canvas,arguments)};$HandJiggle$$.prototype.quadTo=function $$HandJiggle$$$$quadTo$($x1$$,$y1$$,$x2$$,$y2$$){this.originalQuadTo.apply(this.canvas,
arguments);this.lastX=$x2$$;this.lastY=$y2$$};$HandJiggle$$.prototype.curveTo=function $$HandJiggle$$$$curveTo$($x1$$,$y1$$,$x2$$,$y2$$,$x3$$,$y3$$){this.originalCurveTo.apply(this.canvas,arguments);this.lastX=$x3$$;this.lastY=$y3$$};$HandJiggle$$.prototype.arcTo=function $$HandJiggle$$$$arcTo$($rx$$,$ry$$,$angle$$,$largeArcFlag$$,$sweepFlag$$,$x$$,$y$$){this.originalArcTo.apply(this.canvas,arguments);this.lastX=$x$$;this.lastY=$y$$};$HandJiggle$$.prototype.lineTo=function $$HandJiggle$$$$lineTo$($endX$$,
$endY$$){if(null!=this.lastX&&null!=this.lastY){var $sign_stepY$$=function $$sign_stepY$$$($x$$){return"number"===typeof $x$$?$x$$?0>$x$$?-1:1:$x$$===$x$$?0:NaN:NaN},$dx$$=Math.abs($endX$$-this.lastX),$dy$jscomp$28_fy$$=Math.abs($endY$$-this.lastY),$dist$jscomp$2_s$$=Math.sqrt($dx$$*$dx$$+$dy$jscomp$28_fy$$*$dy$jscomp$28_fy$$);if(2>$dist$jscomp$2_s$$){this.originalLineTo.apply(this.canvas,arguments);this.lastX=$endX$$;this.lastY=$endY$$;return}var $segs$$=Math.round($dist$jscomp$2_s$$/10),$variation$$=
this.defaultVariation;5>$segs$$&&($segs$$=5,$variation$$/=3);for(var $stepX$$=$sign_stepY$$($endX$$-this.lastX)*$dx$$/$segs$$,$sign_stepY$$=$sign_stepY$$($endY$$-this.lastY)*$dy$jscomp$28_fy$$/$segs$$,$dx$$=$dx$$/$dist$jscomp$2_s$$,$dy$jscomp$28_fy$$=$dy$jscomp$28_fy$$/$dist$jscomp$2_s$$,$dist$jscomp$2_s$$=0;$dist$jscomp$2_s$$<$segs$$;$dist$jscomp$2_s$$++){var $offset$$=(Math.random()-.5)*$variation$$;this.originalLineTo.call(this.canvas,$stepX$$*$dist$jscomp$2_s$$+this.lastX-$offset$$*$dy$jscomp$28_fy$$,
$sign_stepY$$*$dist$jscomp$2_s$$+this.lastY-$offset$$*$dx$$)}this.originalLineTo.call(this.canvas,$endX$$,$endY$$)}else this.originalLineTo.apply(this.canvas,arguments);this.lastX=$endX$$;this.lastY=$endY$$};$HandJiggle$$.prototype.destroy=function $$HandJiggle$$$$destroy$(){this.canvas.lineTo=this.originalLineTo;this.canvas.moveTo=this.originalMoveTo;this.canvas.close=this.originalClose;this.canvas.quadTo=this.originalQuadTo;this.canvas.curveTo=this.originalCurveTo;this.canvas.arcTo=this.originalArcTo};
var $mxShapePaint0$$=mxShape.prototype.paint;mxShape.prototype.defaultJiggle=1.5;mxShape.prototype.paint=function $mxShape$$paint$($c$$){null!=this.style&&"0"!=mxUtils.getValue(this.style,"comic","0")&&null==$c$$.handHiggle&&($c$$.handJiggle=new $HandJiggle$$($c$$,mxUtils.getValue(this.style,"jiggle",this.defaultJiggle)));$mxShapePaint0$$.apply(this,arguments);null!=$c$$.handJiggle&&($c$$.handJiggle.destroy(),delete $c$$.handJiggle)};mxRhombus.prototype.defaultJiggle=2;var $mxRectangleShapeIsHtmlAllowed0$$=
mxRectangleShape.prototype.isHtmlAllowed;mxRectangleShape.prototype.isHtmlAllowed=function $mxRectangleShape$$isHtmlAllowed$(){return(null==this.style||"0"==mxUtils.getValue(this.style,"comic","0"))&&$mxRectangleShapeIsHtmlAllowed0$$.apply(this,arguments)};var $mxRectangleShapePaintBackground0$$=mxRectangleShape.prototype.paintBackground;mxRectangleShape.prototype.paintBackground=function $mxRectangleShape$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){if(null==$c$$.handJiggle)$mxRectangleShapePaintBackground0$$.apply(this,
arguments);else{var $events_f$jscomp$7_r$$=!0;null!=this.style&&($events_f$jscomp$7_r$$="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1"));if($events_f$jscomp$7_r$$||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE)$events_f$jscomp$7_r$$||null!=this.fill&&this.fill!=mxConstants.NONE||($c$$.pointerEvents=!1),$c$$.begin(),this.isRounded?("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)?$events_f$jscomp$7_r$$=Math.min($w$$/
2,Math.min($h$$/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2)):($events_f$jscomp$7_r$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$events_f$jscomp$7_r$$=Math.min($w$$*$events_f$jscomp$7_r$$,$h$$*$events_f$jscomp$7_r$$)),$c$$.moveTo($x$$+$events_f$jscomp$7_r$$,$y$$),$c$$.lineTo($x$$+$w$$-$events_f$jscomp$7_r$$,$y$$),$c$$.quadTo($x$$+$w$$,$y$$,$x$$+$w$$,$y$$+$events_f$jscomp$7_r$$),$c$$.lineTo($x$$+$w$$,
$y$$+$h$$-$events_f$jscomp$7_r$$),$c$$.quadTo($x$$+$w$$,$y$$+$h$$,$x$$+$w$$-$events_f$jscomp$7_r$$,$y$$+$h$$),$c$$.lineTo($x$$+$events_f$jscomp$7_r$$,$y$$+$h$$),$c$$.quadTo($x$$,$y$$+$h$$,$x$$,$y$$+$h$$-$events_f$jscomp$7_r$$),$c$$.lineTo($x$$,$y$$+$events_f$jscomp$7_r$$),$c$$.quadTo($x$$,$y$$,$x$$+$events_f$jscomp$7_r$$,$y$$)):($c$$.moveTo($x$$,$y$$),$c$$.lineTo($x$$+$w$$,$y$$),$c$$.lineTo($x$$+$w$$,$y$$+$h$$),$c$$.lineTo($x$$,$y$$+$h$$),$c$$.lineTo($x$$,$y$$)),$c$$.close(),$c$$.end(),$c$$.fillAndStroke()}};
var $mxRectangleShapePaintForeground0$$=mxRectangleShape.prototype.paintForeground;mxRectangleShape.prototype.paintForeground=function $mxRectangleShape$$paintForeground$($c$$,$x$$,$y$$,$w$$,$h$$){null==$c$$.handJiggle&&$mxRectangleShapePaintForeground0$$.apply(this,arguments)};mxUtils.extend($ProcessShape$$,mxRectangleShape);$ProcessShape$$.prototype.size=.1;$ProcessShape$$.prototype.isHtmlAllowed=function $$ProcessShape$$$$isHtmlAllowed$(){return!1};$ProcessShape$$.prototype.getLabelBounds=function $$ProcessShape$$$$getLabelBounds$($r$jscomp$4_rect$$){if(mxUtils.getValue(this.state.style,
mxConstants.STYLE_HORIZONTAL,!0)==(null==this.direction||this.direction==mxConstants.DIRECTION_EAST||this.direction==mxConstants.DIRECTION_WEST)){var $w$$=$r$jscomp$4_rect$$.width,$h$$=$r$jscomp$4_rect$$.height;$r$jscomp$4_rect$$=new mxRectangle($r$jscomp$4_rect$$.x,$r$jscomp$4_rect$$.y,$w$$,$h$$);var $inset$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));if(this.isRounded)var $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/
100,$inset$$=Math.max($inset$$,Math.min($w$$*$f$$,$h$$*$f$$));$r$jscomp$4_rect$$.x+=Math.round($inset$$);$r$jscomp$4_rect$$.width-=Math.round(2*$inset$$)}return $r$jscomp$4_rect$$};$ProcessShape$$.prototype.paintForeground=function $$ProcessShape$$$$paintForeground$($c$$,$x$$,$y$$,$w$$,$h$$){var $inset$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));if(this.isRounded)var $f$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/
100,$inset$$=Math.max($inset$$,Math.min($w$$*$f$$,$h$$*$f$$));$inset$$=Math.round($inset$$);$c$$.begin();$c$$.moveTo($x$$+$inset$$,$y$$);$c$$.lineTo($x$$+$inset$$,$y$$+$h$$);$c$$.moveTo($x$$+$w$$-$inset$$,$y$$);$c$$.lineTo($x$$+$w$$-$inset$$,$y$$+$h$$);$c$$.end();$c$$.stroke();mxRectangleShape.prototype.paintForeground.apply(this,arguments)};mxCellRenderer.registerShape("process",$ProcessShape$$);mxUtils.extend($TransparentShape$$,mxRectangleShape);$TransparentShape$$.prototype.paintBackground=function $$TransparentShape$$$$paintBackground$($c$$,
$x$$,$y$$,$w$$,$h$$){$c$$.setFillColor(mxConstants.NONE);$c$$.rect($x$$,$y$$,$w$$,$h$$);$c$$.fill()};$TransparentShape$$.prototype.paintForeground=function $$TransparentShape$$$$paintForeground$($c$$,$x$$,$y$$,$w$$,$h$$){};mxCellRenderer.registerShape("transparent",$TransparentShape$$);mxUtils.extend($CalloutShape$$,mxHexagon);$CalloutShape$$.prototype.size=30;$CalloutShape$$.prototype.position=.5;$CalloutShape$$.prototype.position2=.5;$CalloutShape$$.prototype.base=20;$CalloutShape$$.prototype.getLabelMargins=
function $$CalloutShape$$$$getLabelMargins$(){return new mxRectangle(0,0,0,parseFloat(mxUtils.getValue(this.style,"size",this.size))*this.scale)};$CalloutShape$$.prototype.isRoundable=function $$CalloutShape$$$$isRoundable$(){return!0};$CalloutShape$$.prototype.redrawPath=function $$CalloutShape$$$$redrawPath$($c$$,$arcSize$jscomp$5_x$$,$s$jscomp$23_y$$,$w$$,$h$$){$arcSize$jscomp$5_x$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;$s$jscomp$23_y$$=Math.max(0,Math.min($h$$,
parseFloat(mxUtils.getValue(this.style,"size",this.size))));var $dx$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position",this.position)))),$dx2$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"position2",this.position2)))),$base$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"base",this.base))));this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$h$$-$s$jscomp$23_y$$),new mxPoint(Math.min($w$$,$dx$$+$base$$),
$h$$-$s$jscomp$23_y$$),new mxPoint($dx2$$,$h$$),new mxPoint(Math.max(0,$dx$$),$h$$-$s$jscomp$23_y$$),new mxPoint(0,$h$$-$s$jscomp$23_y$$)],this.isRounded,$arcSize$jscomp$5_x$$,!0,[4])};mxCellRenderer.registerShape("callout",$CalloutShape$$);mxUtils.extend($StepShape$$,mxActor);$StepShape$$.prototype.size=.2;$StepShape$$.prototype.fixedSize=20;$StepShape$$.prototype.isRoundable=function $$StepShape$$$$isRoundable$(){return!0};$StepShape$$.prototype.redrawPath=function $$StepShape$$$$redrawPath$($c$$,
$s$jscomp$24_x$$,$arcSize$jscomp$6_y$$,$w$$,$h$$){$s$jscomp$24_x$$="0"!=mxUtils.getValue(this.style,"fixedSize","0")?Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"size",this.fixedSize)))):$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$6_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$-$s$jscomp$24_x$$,0),new mxPoint($w$$,$h$$/2),new mxPoint($w$$-
$s$jscomp$24_x$$,$h$$),new mxPoint(0,$h$$),new mxPoint($s$jscomp$24_x$$,$h$$/2)],this.isRounded,$arcSize$jscomp$6_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("step",$StepShape$$);mxUtils.extend($HexagonShape$$,mxHexagon);$HexagonShape$$.prototype.size=.25;$HexagonShape$$.prototype.isRoundable=function $$HexagonShape$$$$isRoundable$(){return!0};$HexagonShape$$.prototype.redrawPath=function $$HexagonShape$$$$redrawPath$($c$$,$s$jscomp$25_x$$,$arcSize$jscomp$7_y$$,$w$$,$h$$){$s$jscomp$25_x$$=$w$$*
Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$7_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($s$jscomp$25_x$$,0),new mxPoint($w$$-$s$jscomp$25_x$$,0),new mxPoint($w$$,.5*$h$$),new mxPoint($w$$-$s$jscomp$25_x$$,$h$$),new mxPoint($s$jscomp$25_x$$,$h$$),new mxPoint(0,.5*$h$$)],this.isRounded,$arcSize$jscomp$7_y$$,!0)};mxCellRenderer.registerShape("hexagon",$HexagonShape$$);mxUtils.extend($PlusShape$$,
mxRectangleShape);$PlusShape$$.prototype.isHtmlAllowed=function $$PlusShape$$$$isHtmlAllowed$(){return!1};$PlusShape$$.prototype.paintForeground=function $$PlusShape$$$$paintForeground$($c$$,$x$$,$y$$,$w$$,$h$$){var $border$$=Math.min($w$$/5,$h$$/5)+1;$c$$.begin();$c$$.moveTo($x$$+$w$$/2,$y$$+$border$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$-$border$$);$c$$.moveTo($x$$+$border$$,$y$$+$h$$/2);$c$$.lineTo($x$$+$w$$-$border$$,$y$$+$h$$/2);$c$$.end();$c$$.stroke();mxRectangleShape.prototype.paintForeground.apply(this,
arguments)};mxCellRenderer.registerShape("plus",$PlusShape$$);var $mxRhombusPaintVertexShape$$=mxRhombus.prototype.paintVertexShape;mxRhombus.prototype.getLabelBounds=function $mxRhombus$$getLabelBounds$($rect$$){if(1==this.style["double"]){var $margin$$=(2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle($rect$$.x+$margin$$,$rect$$.y+$margin$$,$rect$$.width-2*$margin$$,$rect$$.height-2*$margin$$)}return $rect$$};mxRhombus.prototype.paintVertexShape=
function $mxRhombus$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){$mxRhombusPaintVertexShape$$.apply(this,arguments);if(!this.outline&&1==this.style["double"]){var $margin$$=2*Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);$x$$+=$margin$$;$y$$+=$margin$$;$w$$-=2*$margin$$;$h$$-=2*$margin$$;0<$w$$&&0<$h$$&&($c$$.setShadow(!1),$mxRhombusPaintVertexShape$$.apply(this,[$c$$,$x$$,$y$$,$w$$,$h$$]))}};mxUtils.extend($ExtendedShape$$,mxRectangleShape);$ExtendedShape$$.prototype.isHtmlAllowed=
function $$ExtendedShape$$$$isHtmlAllowed$(){return!1};$ExtendedShape$$.prototype.getLabelBounds=function $$ExtendedShape$$$$getLabelBounds$($rect$$){if(1==this.style["double"]){var $margin$$=(Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0))*this.scale;return new mxRectangle($rect$$.x+$margin$$,$rect$$.y+$margin$$,$rect$$.width-2*$margin$$,$rect$$.height-2*$margin$$)}return $rect$$};$ExtendedShape$$.prototype.paintForeground=function $$ExtendedShape$$$$paintForeground$($c$$,
$x$$,$y$$,$w$$,$h$$){if(null!=this.style){if(!this.outline&&1==this.style["double"]){var $counter_margin$$=Math.max(2,this.strokewidth+1)+parseFloat(this.style[mxConstants.STYLE_MARGIN]||0);$x$$+=$counter_margin$$;$y$$+=$counter_margin$$;$w$$-=2*$counter_margin$$;$h$$-=2*$counter_margin$$;0<$w$$&&0<$h$$&&mxRectangleShape.prototype.paintBackground.apply(this,arguments)}$c$$.setDashed(!1);var $counter_margin$$=0,$shape$$;do{$shape$$=mxCellRenderer.defaultShapes[this.style["symbol"+$counter_margin$$]];
if(null!=$shape$$){var $align$jscomp$2_tmp$$=this.style["symbol"+$counter_margin$$+"Align"],$valign$$=this.style["symbol"+$counter_margin$$+"VerticalAlign"],$width$$=this.style["symbol"+$counter_margin$$+"Width"],$height$$=this.style["symbol"+$counter_margin$$+"Height"],$spacing$$=this.style["symbol"+$counter_margin$$+"Spacing"]||0,$vspacing$$=this.style["symbol"+$counter_margin$$+"VSpacing"]||$spacing$$,$arcSize$jscomp$8_arcspacing_x2$$=this.style["symbol"+$counter_margin$$+"ArcSpacing"];null!=$arcSize$jscomp$8_arcspacing_x2$$&&
($arcSize$jscomp$8_arcspacing_x2$$*=this.getArcSize($w$$+this.strokewidth,$h$$+this.strokewidth),$spacing$$+=$arcSize$jscomp$8_arcspacing_x2$$,$vspacing$$+=$arcSize$jscomp$8_arcspacing_x2$$);var $arcSize$jscomp$8_arcspacing_x2$$=$x$$,$y2$$=$y$$,$arcSize$jscomp$8_arcspacing_x2$$=$align$jscomp$2_tmp$$==mxConstants.ALIGN_CENTER?$arcSize$jscomp$8_arcspacing_x2$$+($w$$-$width$$)/2:$align$jscomp$2_tmp$$==mxConstants.ALIGN_RIGHT?$arcSize$jscomp$8_arcspacing_x2$$+($w$$-$width$$-$spacing$$):$arcSize$jscomp$8_arcspacing_x2$$+
$spacing$$,$y2$$=$valign$$==mxConstants.ALIGN_MIDDLE?$y2$$+($h$$-$height$$)/2:$valign$$==mxConstants.ALIGN_BOTTOM?$y2$$+($h$$-$height$$-$vspacing$$):$y2$$+$vspacing$$;$c$$.save();$align$jscomp$2_tmp$$=new $shape$$;$align$jscomp$2_tmp$$.style=this.style;$shape$$.prototype.paintVertexShape.call($align$jscomp$2_tmp$$,$c$$,$arcSize$jscomp$8_arcspacing_x2$$,$y2$$,$width$$,$height$$);$c$$.restore()}$counter_margin$$++}while(null!=$shape$$)}mxRectangleShape.prototype.paintForeground.apply(this,arguments)};
mxCellRenderer.registerShape("ext",$ExtendedShape$$);mxUtils.extend($MessageShape$$,mxCylinder);$MessageShape$$.prototype.redrawPath=function $$MessageShape$$$$redrawPath$($path$$,$x$$,$y$$,$w$$,$h$$,$isForeground$$){$isForeground$$?($path$$.moveTo(0,0),$path$$.lineTo($w$$/2,$h$$/2),$path$$.lineTo($w$$,0),$path$$.end()):($path$$.moveTo(0,0),$path$$.lineTo($w$$,0),$path$$.lineTo($w$$,$h$$),$path$$.lineTo(0,$h$$),$path$$.close())};mxCellRenderer.registerShape("message",$MessageShape$$);mxUtils.extend($UmlActorShape$$,
mxShape);$UmlActorShape$$.prototype.paintBackground=function $$UmlActorShape$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.ellipse($w$$/4,0,$w$$/2,$h$$/4);$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($w$$/2,$h$$/4);$c$$.lineTo($w$$/2,2*$h$$/3);$c$$.moveTo($w$$/2,$h$$/3);$c$$.lineTo(0,$h$$/3);$c$$.moveTo($w$$/2,$h$$/3);$c$$.lineTo($w$$,$h$$/3);$c$$.moveTo($w$$/2,2*$h$$/3);$c$$.lineTo(0,$h$$);$c$$.moveTo($w$$/2,2*$h$$/3);$c$$.lineTo($w$$,$h$$);$c$$.end();$c$$.stroke()};
mxCellRenderer.registerShape("umlActor",$UmlActorShape$$);mxUtils.extend($UmlBoundaryShape$$,mxShape);$UmlBoundaryShape$$.prototype.getLabelMargins=function $$UmlBoundaryShape$$$$getLabelMargins$($rect$$){return new mxRectangle($rect$$.width/6,0,0,0)};$UmlBoundaryShape$$.prototype.paintBackground=function $$UmlBoundaryShape$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(0,$h$$/4);$c$$.lineTo(0,3*$h$$/4);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo(0,
$h$$/2);$c$$.lineTo($w$$/6,$h$$/2);$c$$.end();$c$$.stroke();$c$$.ellipse($w$$/6,0,5*$w$$/6,$h$$);$c$$.fillAndStroke()};mxCellRenderer.registerShape("umlBoundary",$UmlBoundaryShape$$);mxUtils.extend($UmlEntityShape$$,mxEllipse);$UmlEntityShape$$.prototype.paintVertexShape=function $$UmlEntityShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.begin();$c$$.moveTo($x$$+$w$$/8,$y$$+$h$$);$c$$.lineTo($x$$+7*$w$$/8,$y$$+$h$$);$c$$.end();$c$$.stroke()};
mxCellRenderer.registerShape("umlEntity",$UmlEntityShape$$);mxUtils.extend($UmlDestroyShape$$,mxShape);$UmlDestroyShape$$.prototype.paintVertexShape=function $$UmlDestroyShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo($w$$,0);$c$$.lineTo(0,$h$$);$c$$.moveTo(0,0);$c$$.lineTo($w$$,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("umlDestroy",$UmlDestroyShape$$);mxUtils.extend($UmlControlShape$$,mxShape);$UmlControlShape$$.prototype.getLabelBounds=
function $$UmlControlShape$$$$getLabelBounds$($rect$$){return new mxRectangle($rect$$.x,$rect$$.y+$rect$$.height/8,$rect$$.width,7*$rect$$.height/8)};$UmlControlShape$$.prototype.paintBackground=function $$UmlControlShape$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(3*$w$$/8,$h$$/8*1.1);$c$$.lineTo(5*$w$$/8,0);$c$$.end();$c$$.stroke();$c$$.ellipse(0,$h$$/8,$w$$,7*$h$$/8);$c$$.fillAndStroke()};$UmlControlShape$$.prototype.paintForeground=function $$UmlControlShape$$$$paintForeground$($c$$,
$x$$,$y$$,$w$$,$h$$){$c$$.begin();$c$$.moveTo(3*$w$$/8,$h$$/8*1.1);$c$$.lineTo(5*$w$$/8,$h$$/4);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("umlControl",$UmlControlShape$$);mxUtils.extend($UmlLifeline$$,mxRectangleShape);$UmlLifeline$$.prototype.size=40;$UmlLifeline$$.prototype.isHtmlAllowed=function $$UmlLifeline$$$$isHtmlAllowed$(){return!1};$UmlLifeline$$.prototype.getLabelBounds=function $$UmlLifeline$$$$getLabelBounds$($rect$$){var $size$$=Math.max(0,Math.min($rect$$.height,parseFloat(mxUtils.getValue(this.style,
"size",this.size))*this.scale));return new mxRectangle($rect$$.x,$rect$$.y,$rect$$.width,$size$$)};$UmlLifeline$$.prototype.paintBackground=function $$UmlLifeline$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){var $size$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))),$ctor_participant_shape$$=mxUtils.getValue(this.style,"participant");null==$ctor_participant_shape$$||null==this.state?mxRectangleShape.prototype.paintBackground.call(this,$c$$,$x$$,$y$$,$w$$,$size$$):
($ctor_participant_shape$$=this.state.view.graph.cellRenderer.getShape($ctor_participant_shape$$),null!=$ctor_participant_shape$$&&$ctor_participant_shape$$!=$UmlLifeline$$&&($ctor_participant_shape$$=new $ctor_participant_shape$$,$ctor_participant_shape$$.apply(this.state),$c$$.save(),$ctor_participant_shape$$.paintVertexShape($c$$,$x$$,$y$$,$w$$,$size$$),$c$$.restore()));$size$$<$h$$&&($c$$.setDashed(!0),$c$$.begin(),$c$$.moveTo($x$$+$w$$/2,$y$$+$size$$),$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$),$c$$.end(),
$c$$.stroke())};$UmlLifeline$$.prototype.paintForeground=function $$UmlLifeline$$$$paintForeground$($c$$,$x$$,$y$$,$w$$,$h$$){var $size$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))));mxRectangleShape.prototype.paintForeground.call(this,$c$$,$x$$,$y$$,$w$$,Math.min($h$$,$size$$))};mxCellRenderer.registerShape("umlLifeline",$UmlLifeline$$);mxUtils.extend($UmlFrame$$,mxShape);$UmlFrame$$.prototype.width=60;$UmlFrame$$.prototype.height=30;$UmlFrame$$.prototype.corner=
10;$UmlFrame$$.prototype.getLabelMargins=function $$UmlFrame$$$$getLabelMargins$($rect$$){return new mxRectangle(0,0,$rect$$.width-parseFloat(mxUtils.getValue(this.style,"width",this.width)*this.scale),$rect$$.height-parseFloat(mxUtils.getValue(this.style,"height",this.height)*this.scale))};$UmlFrame$$.prototype.paintBackground=function $$UmlFrame$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){var $co$$=this.corner,$w0$$=Math.min($w$$,Math.max($co$$,parseFloat(mxUtils.getValue(this.style,"width",this.width)))),
$h0$$=Math.min($h$$,Math.max(1.5*$co$$,parseFloat(mxUtils.getValue(this.style,"height",this.height)))),$bg$$=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE);$bg$$!=mxConstants.NONE&&($c$$.setFillColor($bg$$),$c$$.rect($x$$,$y$$,$w$$,$h$$),$c$$.fill());null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE?(this.getGradientBounds($c$$,$x$$,$y$$,$w$$,$h$$),$c$$.setGradient(this.fill,this.gradient,$x$$,$y$$,$w$$,$h$$,this.gradientDirection)):
$c$$.setFillColor(this.fill);$c$$.begin();$c$$.moveTo($x$$,$y$$);$c$$.lineTo($x$$+$w0$$,$y$$);$c$$.lineTo($x$$+$w0$$,$y$$+Math.max(0,$h0$$-1.5*$co$$));$c$$.lineTo($x$$+Math.max(0,$w0$$-$co$$),$y$$+$h0$$);$c$$.lineTo($x$$,$y$$+$h0$$);$c$$.close();$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($x$$+$w0$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.lineTo($x$$,$y$$+$h$$);$c$$.lineTo($x$$,$y$$+$h0$$);$c$$.stroke()};mxCellRenderer.registerShape("umlFrame",$UmlFrame$$);mxPerimeter.LifelinePerimeter=
function $mxPerimeter$LifelinePerimeter$($bounds$$,$sw$jscomp$5_vertex$$,$next$$,$orthogonal_size$$){$orthogonal_size$$=$UmlLifeline$$.prototype.size;null!=$sw$jscomp$5_vertex$$&&($orthogonal_size$$=mxUtils.getValue($sw$jscomp$5_vertex$$.style,"size",$orthogonal_size$$)*$sw$jscomp$5_vertex$$.view.scale);$sw$jscomp$5_vertex$$=parseFloat($sw$jscomp$5_vertex$$.style[mxConstants.STYLE_STROKEWIDTH]||1)*$sw$jscomp$5_vertex$$.view.scale/2-1;$next$$.x<$bounds$$.getCenterX()&&($sw$jscomp$5_vertex$$=-1*($sw$jscomp$5_vertex$$+
1));return new mxPoint($bounds$$.getCenterX()+$sw$jscomp$5_vertex$$,Math.min($bounds$$.y+$bounds$$.height,Math.max($bounds$$.y+$orthogonal_size$$,$next$$.y)))};mxStyleRegistry.putValue("lifelinePerimeter",mxPerimeter.LifelinePerimeter);mxPerimeter.OrthogonalPerimeter=function $mxPerimeter$OrthogonalPerimeter$($bounds$$,$vertex$$,$next$$,$orthogonal$$){$orthogonal$$=!0;return mxPerimeter.RectanglePerimeter.apply(this,arguments)};mxStyleRegistry.putValue("orthogonalPerimeter",mxPerimeter.OrthogonalPerimeter);
mxPerimeter.BackbonePerimeter=function $mxPerimeter$BackbonePerimeter$($bounds$$,$vertex$$,$next$$,$orthogonal$jscomp$2_sw$$){$orthogonal$jscomp$2_sw$$=parseFloat($vertex$$.style[mxConstants.STYLE_STROKEWIDTH]||1)*$vertex$$.view.scale/2-1;null!=$vertex$$.style.backboneSize&&($orthogonal$jscomp$2_sw$$+=parseFloat($vertex$$.style.backboneSize)*$vertex$$.view.scale/2-1);if("south"==$vertex$$.style[mxConstants.STYLE_DIRECTION]||"north"==$vertex$$.style[mxConstants.STYLE_DIRECTION])return $next$$.x<$bounds$$.getCenterX()&&
($orthogonal$jscomp$2_sw$$=-1*($orthogonal$jscomp$2_sw$$+1)),new mxPoint($bounds$$.getCenterX()+$orthogonal$jscomp$2_sw$$,Math.min($bounds$$.y+$bounds$$.height,Math.max($bounds$$.y,$next$$.y)));$next$$.y<$bounds$$.getCenterY()&&($orthogonal$jscomp$2_sw$$=-1*($orthogonal$jscomp$2_sw$$+1));return new mxPoint(Math.min($bounds$$.x+$bounds$$.width,Math.max($bounds$$.x,$next$$.x)),$bounds$$.getCenterY()+$orthogonal$jscomp$2_sw$$)};mxStyleRegistry.putValue("backbonePerimeter",mxPerimeter.BackbonePerimeter);
mxPerimeter.CalloutPerimeter=function $mxPerimeter$CalloutPerimeter$($bounds$$,$vertex$$,$next$$,$orthogonal$$){return mxPerimeter.RectanglePerimeter(mxUtils.getDirectedBounds($bounds$$,new mxRectangle(0,0,0,Math.max(0,Math.min($bounds$$.height,parseFloat(mxUtils.getValue($vertex$$.style,"size",$CalloutShape$$.prototype.size))*$vertex$$.view.scale))),$vertex$$.style),$vertex$$,$next$$,$orthogonal$$)};mxStyleRegistry.putValue("calloutPerimeter",mxPerimeter.CalloutPerimeter);mxPerimeter.ParallelogramPerimeter=
function $mxPerimeter$ParallelogramPerimeter$($bounds$jscomp$16_cy$jscomp$1_p1$$,$direction$jscomp$6_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$31_dy$jscomp$29_size$$=$ParallelogramShape$$.prototype.size;null!=$direction$jscomp$6_vertex$$&&($dx$jscomp$31_dy$jscomp$29_size$$=mxUtils.getValue($direction$jscomp$6_vertex$$.style,"size",$dx$jscomp$31_dy$jscomp$29_size$$));var $x$$=$bounds$jscomp$16_cy$jscomp$1_p1$$.x,$points_y$$=$bounds$jscomp$16_cy$jscomp$1_p1$$.y,$w$$=$bounds$jscomp$16_cy$jscomp$1_p1$$.width,
$cx$jscomp$1_h$$=$bounds$jscomp$16_cy$jscomp$1_p1$$.height;$direction$jscomp$6_vertex$$=null!=$direction$jscomp$6_vertex$$?mxUtils.getValue($direction$jscomp$6_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$6_vertex$$==mxConstants.DIRECTION_NORTH||$direction$jscomp$6_vertex$$==mxConstants.DIRECTION_SOUTH?($dx$jscomp$31_dy$jscomp$29_size$$=$cx$jscomp$1_h$$*Math.max(0,Math.min(1,$dx$jscomp$31_dy$jscomp$29_size$$)),$points_y$$=[new mxPoint($x$$,
$points_y$$),new mxPoint($x$$+$w$$,$points_y$$+$dx$jscomp$31_dy$jscomp$29_size$$),new mxPoint($x$$+$w$$,$points_y$$+$cx$jscomp$1_h$$),new mxPoint($x$$,$points_y$$+$cx$jscomp$1_h$$-$dx$jscomp$31_dy$jscomp$29_size$$),new mxPoint($x$$,$points_y$$)]):($dx$jscomp$31_dy$jscomp$29_size$$=$w$$*Math.max(0,Math.min(1,$dx$jscomp$31_dy$jscomp$29_size$$)),$points_y$$=[new mxPoint($x$$+$dx$jscomp$31_dy$jscomp$29_size$$,$points_y$$),new mxPoint($x$$+$w$$,$points_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$31_dy$jscomp$29_size$$,
$points_y$$+$cx$jscomp$1_h$$),new mxPoint($x$$,$points_y$$+$cx$jscomp$1_h$$),new mxPoint($x$$+$dx$jscomp$31_dy$jscomp$29_size$$,$points_y$$)]);$cx$jscomp$1_h$$=$bounds$jscomp$16_cy$jscomp$1_p1$$.getCenterX();$bounds$jscomp$16_cy$jscomp$1_p1$$=$bounds$jscomp$16_cy$jscomp$1_p1$$.getCenterY();$bounds$jscomp$16_cy$jscomp$1_p1$$=new mxPoint($cx$jscomp$1_h$$,$bounds$jscomp$16_cy$jscomp$1_p1$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$bounds$jscomp$16_cy$jscomp$1_p1$$.y=$next$$.y:$bounds$jscomp$16_cy$jscomp$1_p1$$.x=
$next$$.x);return mxUtils.getPerimeterPoint($points_y$$,$bounds$jscomp$16_cy$jscomp$1_p1$$,$next$$)};mxStyleRegistry.putValue("parallelogramPerimeter",mxPerimeter.ParallelogramPerimeter);mxPerimeter.TrapezoidPerimeter=function $mxPerimeter$TrapezoidPerimeter$($bounds$jscomp$17_cy$jscomp$2_p1$$,$direction$jscomp$7_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$32_dy$jscomp$30_size$$=$TrapezoidShape$$.prototype.size;null!=$direction$jscomp$7_vertex$$&&($dx$jscomp$32_dy$jscomp$30_size$$=mxUtils.getValue($direction$jscomp$7_vertex$$.style,
"size",$dx$jscomp$32_dy$jscomp$30_size$$));var $x$$=$bounds$jscomp$17_cy$jscomp$2_p1$$.x,$points$jscomp$1_y$$=$bounds$jscomp$17_cy$jscomp$2_p1$$.y,$w$$=$bounds$jscomp$17_cy$jscomp$2_p1$$.width,$cx$jscomp$2_h$$=$bounds$jscomp$17_cy$jscomp$2_p1$$.height;$direction$jscomp$7_vertex$$=null!=$direction$jscomp$7_vertex$$?mxUtils.getValue($direction$jscomp$7_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$7_vertex$$==mxConstants.DIRECTION_EAST?
($dx$jscomp$32_dy$jscomp$30_size$$=$w$$*Math.max(0,Math.min(1,$dx$jscomp$32_dy$jscomp$30_size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$+$dx$jscomp$32_dy$jscomp$30_size$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$32_dy$jscomp$30_size$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$),new mxPoint($x$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$),new mxPoint($x$$+$dx$jscomp$32_dy$jscomp$30_size$$,$points$jscomp$1_y$$)]):$direction$jscomp$7_vertex$$==mxConstants.DIRECTION_WEST?
($dx$jscomp$32_dy$jscomp$30_size$$=$w$$*Math.max(0,Math.min(1,$dx$jscomp$32_dy$jscomp$30_size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$32_dy$jscomp$30_size$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$),new mxPoint($x$$+$dx$jscomp$32_dy$jscomp$30_size$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$),new mxPoint($x$$,$points$jscomp$1_y$$)]):$direction$jscomp$7_vertex$$==mxConstants.DIRECTION_NORTH?($dx$jscomp$32_dy$jscomp$30_size$$=
$cx$jscomp$2_h$$*Math.max(0,Math.min(1,$dx$jscomp$32_dy$jscomp$30_size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$,$points$jscomp$1_y$$+$dx$jscomp$32_dy$jscomp$30_size$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$),new mxPoint($x$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$-$dx$jscomp$32_dy$jscomp$30_size$$),new mxPoint($x$$,$points$jscomp$1_y$$+$dx$jscomp$32_dy$jscomp$30_size$$)]):($dx$jscomp$32_dy$jscomp$30_size$$=$cx$jscomp$2_h$$*Math.max(0,
Math.min(1,$dx$jscomp$32_dy$jscomp$30_size$$)),$points$jscomp$1_y$$=[new mxPoint($x$$,$points$jscomp$1_y$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$dx$jscomp$32_dy$jscomp$30_size$$),new mxPoint($x$$+$w$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$-$dx$jscomp$32_dy$jscomp$30_size$$),new mxPoint($x$$,$points$jscomp$1_y$$+$cx$jscomp$2_h$$),new mxPoint($x$$,$points$jscomp$1_y$$)]);$cx$jscomp$2_h$$=$bounds$jscomp$17_cy$jscomp$2_p1$$.getCenterX();$bounds$jscomp$17_cy$jscomp$2_p1$$=$bounds$jscomp$17_cy$jscomp$2_p1$$.getCenterY();
$bounds$jscomp$17_cy$jscomp$2_p1$$=new mxPoint($cx$jscomp$2_h$$,$bounds$jscomp$17_cy$jscomp$2_p1$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$bounds$jscomp$17_cy$jscomp$2_p1$$.y=$next$$.y:$bounds$jscomp$17_cy$jscomp$2_p1$$.x=$next$$.x);return mxUtils.getPerimeterPoint($points$jscomp$1_y$$,$bounds$jscomp$17_cy$jscomp$2_p1$$,$next$$)};mxStyleRegistry.putValue("trapezoidPerimeter",mxPerimeter.TrapezoidPerimeter);mxPerimeter.StepPerimeter=function $mxPerimeter$StepPerimeter$($bounds$jscomp$18_cy$$,
$direction$jscomp$8_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$33_dy$jscomp$31_fixed$$="0"!=mxUtils.getValue($direction$jscomp$8_vertex$$.style,"fixedSize","0"),$size$$=$dx$jscomp$33_dy$jscomp$31_fixed$$?$StepShape$$.prototype.fixedSize:$StepShape$$.prototype.size;null!=$direction$jscomp$8_vertex$$&&($size$$=mxUtils.getValue($direction$jscomp$8_vertex$$.style,"size",$size$$));var $x$$=$bounds$jscomp$18_cy$$.x,$points$jscomp$2_y$$=$bounds$jscomp$18_cy$$.y,$w$$=$bounds$jscomp$18_cy$$.width,$h$$=
$bounds$jscomp$18_cy$$.height,$cx$jscomp$3_p1$$=$bounds$jscomp$18_cy$$.getCenterX();$bounds$jscomp$18_cy$$=$bounds$jscomp$18_cy$$.getCenterY();$direction$jscomp$8_vertex$$=null!=$direction$jscomp$8_vertex$$?mxUtils.getValue($direction$jscomp$8_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$8_vertex$$==mxConstants.DIRECTION_EAST?($dx$jscomp$33_dy$jscomp$31_fixed$$=$dx$jscomp$33_dy$jscomp$31_fixed$$?Math.max(0,Math.min($w$$,$size$$)):
$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$33_dy$jscomp$31_fixed$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$bounds$jscomp$18_cy$$),new mxPoint($x$$+$w$$-$dx$jscomp$33_dy$jscomp$31_fixed$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$+$dx$jscomp$33_dy$jscomp$31_fixed$$,$bounds$jscomp$18_cy$$),new mxPoint($x$$,$points$jscomp$2_y$$)]):$direction$jscomp$8_vertex$$==mxConstants.DIRECTION_WEST?
($dx$jscomp$33_dy$jscomp$31_fixed$$=$dx$jscomp$33_dy$jscomp$31_fixed$$?Math.max(0,Math.min($w$$,$size$$)):$w$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$+$dx$jscomp$33_dy$jscomp$31_fixed$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$33_dy$jscomp$31_fixed$$,$bounds$jscomp$18_cy$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$+$dx$jscomp$33_dy$jscomp$31_fixed$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,
$bounds$jscomp$18_cy$$),new mxPoint($x$$+$dx$jscomp$33_dy$jscomp$31_fixed$$,$points$jscomp$2_y$$)]):$direction$jscomp$8_vertex$$==mxConstants.DIRECTION_NORTH?($dx$jscomp$33_dy$jscomp$31_fixed$$=$dx$jscomp$33_dy$jscomp$31_fixed$$?Math.max(0,Math.min($h$$,$size$$)):$h$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$,$points$jscomp$2_y$$+$dx$jscomp$33_dy$jscomp$31_fixed$$),new mxPoint($cx$jscomp$3_p1$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$dx$jscomp$33_dy$jscomp$31_fixed$$),
new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$h$$),new mxPoint($cx$jscomp$3_p1$$,$points$jscomp$2_y$$+$h$$-$dx$jscomp$33_dy$jscomp$31_fixed$$),new mxPoint($x$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$points$jscomp$2_y$$+$dx$jscomp$33_dy$jscomp$31_fixed$$)]):($dx$jscomp$33_dy$jscomp$31_fixed$$=$dx$jscomp$33_dy$jscomp$31_fixed$$?Math.max(0,Math.min($h$$,$size$$)):$h$$*Math.max(0,Math.min(1,$size$$)),$points$jscomp$2_y$$=[new mxPoint($x$$,$points$jscomp$2_y$$),new mxPoint($cx$jscomp$3_p1$$,$points$jscomp$2_y$$+
$dx$jscomp$33_dy$jscomp$31_fixed$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$),new mxPoint($x$$+$w$$,$points$jscomp$2_y$$+$h$$-$dx$jscomp$33_dy$jscomp$31_fixed$$),new mxPoint($cx$jscomp$3_p1$$,$points$jscomp$2_y$$+$h$$),new mxPoint($x$$,$points$jscomp$2_y$$+$h$$-$dx$jscomp$33_dy$jscomp$31_fixed$$),new mxPoint($x$$,$points$jscomp$2_y$$)]);$cx$jscomp$3_p1$$=new mxPoint($cx$jscomp$3_p1$$,$bounds$jscomp$18_cy$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$cx$jscomp$3_p1$$.y=$next$$.y:$cx$jscomp$3_p1$$.x=
$next$$.x);return mxUtils.getPerimeterPoint($points$jscomp$2_y$$,$cx$jscomp$3_p1$$,$next$$)};mxStyleRegistry.putValue("stepPerimeter",mxPerimeter.StepPerimeter);mxPerimeter.HexagonPerimeter2=function $mxPerimeter$HexagonPerimeter2$($bounds$jscomp$19_cy$$,$direction$jscomp$9_vertex$$,$next$$,$orthogonal$$){var $dx$jscomp$34_dy$jscomp$32_size$$=$HexagonShape$$.prototype.size;null!=$direction$jscomp$9_vertex$$&&($dx$jscomp$34_dy$jscomp$32_size$$=mxUtils.getValue($direction$jscomp$9_vertex$$.style,"size",
$dx$jscomp$34_dy$jscomp$32_size$$));var $x$$=$bounds$jscomp$19_cy$$.x,$points$jscomp$3_y$$=$bounds$jscomp$19_cy$$.y,$w$$=$bounds$jscomp$19_cy$$.width,$h$$=$bounds$jscomp$19_cy$$.height,$cx$jscomp$4_p1$$=$bounds$jscomp$19_cy$$.getCenterX();$bounds$jscomp$19_cy$$=$bounds$jscomp$19_cy$$.getCenterY();$direction$jscomp$9_vertex$$=null!=$direction$jscomp$9_vertex$$?mxUtils.getValue($direction$jscomp$9_vertex$$.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST;$direction$jscomp$9_vertex$$==
mxConstants.DIRECTION_NORTH||$direction$jscomp$9_vertex$$==mxConstants.DIRECTION_SOUTH?($dx$jscomp$34_dy$jscomp$32_size$$=$h$$*Math.max(0,Math.min(1,$dx$jscomp$34_dy$jscomp$32_size$$)),$points$jscomp$3_y$$=[new mxPoint($cx$jscomp$4_p1$$,$points$jscomp$3_y$$),new mxPoint($x$$+$w$$,$points$jscomp$3_y$$+$dx$jscomp$34_dy$jscomp$32_size$$),new mxPoint($x$$+$w$$,$points$jscomp$3_y$$+$h$$-$dx$jscomp$34_dy$jscomp$32_size$$),new mxPoint($cx$jscomp$4_p1$$,$points$jscomp$3_y$$+$h$$),new mxPoint($x$$,$points$jscomp$3_y$$+
$h$$-$dx$jscomp$34_dy$jscomp$32_size$$),new mxPoint($x$$,$points$jscomp$3_y$$+$dx$jscomp$34_dy$jscomp$32_size$$),new mxPoint($cx$jscomp$4_p1$$,$points$jscomp$3_y$$)]):($dx$jscomp$34_dy$jscomp$32_size$$=$w$$*Math.max(0,Math.min(1,$dx$jscomp$34_dy$jscomp$32_size$$)),$points$jscomp$3_y$$=[new mxPoint($x$$+$dx$jscomp$34_dy$jscomp$32_size$$,$points$jscomp$3_y$$),new mxPoint($x$$+$w$$-$dx$jscomp$34_dy$jscomp$32_size$$,$points$jscomp$3_y$$),new mxPoint($x$$+$w$$,$bounds$jscomp$19_cy$$),new mxPoint($x$$+
$w$$-$dx$jscomp$34_dy$jscomp$32_size$$,$points$jscomp$3_y$$+$h$$),new mxPoint($x$$+$dx$jscomp$34_dy$jscomp$32_size$$,$points$jscomp$3_y$$+$h$$),new mxPoint($x$$,$bounds$jscomp$19_cy$$),new mxPoint($x$$+$dx$jscomp$34_dy$jscomp$32_size$$,$points$jscomp$3_y$$)]);$cx$jscomp$4_p1$$=new mxPoint($cx$jscomp$4_p1$$,$bounds$jscomp$19_cy$$);$orthogonal$$&&($next$$.x<$x$$||$next$$.x>$x$$+$w$$?$cx$jscomp$4_p1$$.y=$next$$.y:$cx$jscomp$4_p1$$.x=$next$$.x);return mxUtils.getPerimeterPoint($points$jscomp$3_y$$,$cx$jscomp$4_p1$$,
$next$$)};mxStyleRegistry.putValue("hexagonPerimeter2",mxPerimeter.HexagonPerimeter2);mxUtils.extend($LollipopShape$$,mxShape);$LollipopShape$$.prototype.size=10;$LollipopShape$$.prototype.paintBackground=function $$LollipopShape$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){var $sz$$=parseFloat(mxUtils.getValue(this.style,"size",this.size));$c$$.translate($x$$,$y$$);$c$$.ellipse(($w$$-$sz$$)/2,0,$sz$$,$sz$$);$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($w$$/2,$sz$$);$c$$.lineTo($w$$/2,$h$$);$c$$.end();
$c$$.stroke()};mxCellRenderer.registerShape("lollipop",$LollipopShape$$);mxUtils.extend($RequiresShape$$,mxShape);$RequiresShape$$.prototype.size=10;$RequiresShape$$.prototype.inset=2;$RequiresShape$$.prototype.paintBackground=function $$RequiresShape$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){var $sz$$=parseFloat(mxUtils.getValue(this.style,"size",this.size)),$inset$$=parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo($w$$/
2,$sz$$+$inset$$);$c$$.lineTo($w$$/2,$h$$);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo(($w$$-$sz$$)/2-$inset$$,$sz$$/2);$c$$.quadTo(($w$$-$sz$$)/2-$inset$$,$sz$$+$inset$$,$w$$/2,$sz$$+$inset$$);$c$$.quadTo(($w$$+$sz$$)/2+$inset$$,$sz$$+$inset$$,($w$$+$sz$$)/2+$inset$$,$sz$$/2);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("requires",$RequiresShape$$);mxUtils.extend($RequiredInterfaceShape$$,mxShape);$RequiredInterfaceShape$$.prototype.paintBackground=function $$RequiredInterfaceShape$$$$paintBackground$($c$$,
$x$$,$y$$,$w$$,$h$$){$c$$.translate($x$$,$y$$);$c$$.begin();$c$$.moveTo(0,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,0,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("requiredInterface",$RequiredInterfaceShape$$);mxUtils.extend($ProvidedRequiredInterfaceShape$$,mxShape);$ProvidedRequiredInterfaceShape$$.prototype.inset=2;$ProvidedRequiredInterfaceShape$$.prototype.paintBackground=function $$ProvidedRequiredInterfaceShape$$$$paintBackground$($c$$,$x$$,$y$$,$w$$,$h$$){var $inset$$=
parseFloat(mxUtils.getValue(this.style,"inset",this.inset))+this.strokewidth;$c$$.translate($x$$,$y$$);$c$$.ellipse(0,$inset$$,$w$$-2*$inset$$,$h$$-2*$inset$$);$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($w$$/2,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,$w$$/2,$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("providedRequiredInterface",$ProvidedRequiredInterfaceShape$$);mxUtils.extend($ComponentShape$$,mxCylinder);$ComponentShape$$.prototype.jettyWidth=32;$ComponentShape$$.prototype.jettyHeight=
12;$ComponentShape$$.prototype.redrawPath=function $$ComponentShape$$$$redrawPath$($path$$,$dy$jscomp$33_x$$,$x0$jscomp$8_y$$,$w$$,$h$$,$isForeground$$){var $dx$jscomp$35_x1$$=parseFloat(mxUtils.getValue(this.style,"jettyWidth",this.jettyWidth));$dy$jscomp$33_x$$=parseFloat(mxUtils.getValue(this.style,"jettyHeight",this.jettyHeight));$x0$jscomp$8_y$$=$dx$jscomp$35_x1$$/2;var $dx$jscomp$35_x1$$=$x0$jscomp$8_y$$+$dx$jscomp$35_x1$$/2,$y0$$=.3*$h$$-$dy$jscomp$33_x$$/2,$y1$$=.7*$h$$-$dy$jscomp$33_x$$/
2;$isForeground$$?($path$$.moveTo($x0$jscomp$8_y$$,$y0$$),$path$$.lineTo($dx$jscomp$35_x1$$,$y0$$),$path$$.lineTo($dx$jscomp$35_x1$$,$y0$$+$dy$jscomp$33_x$$),$path$$.lineTo($x0$jscomp$8_y$$,$y0$$+$dy$jscomp$33_x$$),$path$$.moveTo($x0$jscomp$8_y$$,$y1$$),$path$$.lineTo($dx$jscomp$35_x1$$,$y1$$),$path$$.lineTo($dx$jscomp$35_x1$$,$y1$$+$dy$jscomp$33_x$$),$path$$.lineTo($x0$jscomp$8_y$$,$y1$$+$dy$jscomp$33_x$$)):($path$$.moveTo($x0$jscomp$8_y$$,0),$path$$.lineTo($w$$,0),$path$$.lineTo($w$$,$h$$),$path$$.lineTo($x0$jscomp$8_y$$,
$h$$),$path$$.lineTo($x0$jscomp$8_y$$,$y1$$+$dy$jscomp$33_x$$),$path$$.lineTo(0,$y1$$+$dy$jscomp$33_x$$),$path$$.lineTo(0,$y1$$),$path$$.lineTo($x0$jscomp$8_y$$,$y1$$),$path$$.lineTo($x0$jscomp$8_y$$,$y0$$+$dy$jscomp$33_x$$),$path$$.lineTo(0,$y0$$+$dy$jscomp$33_x$$),$path$$.lineTo(0,$y0$$),$path$$.lineTo($x0$jscomp$8_y$$,$y0$$),$path$$.close());$path$$.end()};mxCellRenderer.registerShape("component",$ComponentShape$$);mxUtils.extend($StateShape$$,mxDoubleEllipse);$StateShape$$.prototype.outerStroke=
!0;$StateShape$$.prototype.paintVertexShape=function $$StateShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){var $inset$$=Math.min(4,Math.min($w$$/5,$h$$/5));0<$w$$&&0<$h$$&&($c$$.ellipse($x$$+$inset$$,$y$$+$inset$$,$w$$-2*$inset$$,$h$$-2*$inset$$),$c$$.fillAndStroke());$c$$.setShadow(!1);this.outerStroke&&($c$$.ellipse($x$$,$y$$,$w$$,$h$$),$c$$.stroke())};mxCellRenderer.registerShape("endState",$StateShape$$);mxUtils.extend($StartStateShape$$,$StateShape$$);$StartStateShape$$.prototype.outerStroke=
!1;mxCellRenderer.registerShape("startState",$StartStateShape$$);mxUtils.extend($LinkShape$$,mxArrowConnector);$LinkShape$$.prototype.defaultWidth=4;$LinkShape$$.prototype.isOpenEnded=function $$LinkShape$$$$isOpenEnded$(){return!0};$LinkShape$$.prototype.getEdgeWidth=function $$LinkShape$$$$getEdgeWidth$(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)};$LinkShape$$.prototype.isArrowRounded=function $$LinkShape$$$$isArrowRounded$(){return this.isRounded};
mxCellRenderer.registerShape("link",$LinkShape$$);mxUtils.extend($FlexArrowShape$$,mxArrowConnector);$FlexArrowShape$$.prototype.defaultWidth=10;$FlexArrowShape$$.prototype.defaultArrowWidth=20;$FlexArrowShape$$.prototype.getStartArrowWidth=function $$FlexArrowShape$$$$getStartArrowWidth$(){return this.getEdgeWidth()+mxUtils.getNumber(this.style,"startWidth",this.defaultArrowWidth)};$FlexArrowShape$$.prototype.getEndArrowWidth=function $$FlexArrowShape$$$$getEndArrowWidth$(){return this.getEdgeWidth()+
mxUtils.getNumber(this.style,"endWidth",this.defaultArrowWidth)};$FlexArrowShape$$.prototype.getEdgeWidth=function $$FlexArrowShape$$$$getEdgeWidth$(){return mxUtils.getNumber(this.style,"width",this.defaultWidth)+Math.max(0,this.strokewidth-1)};mxCellRenderer.registerShape("flexArrow",$FlexArrowShape$$);mxUtils.extend($ManualInputShape$$,mxActor);$ManualInputShape$$.prototype.size=30;$ManualInputShape$$.prototype.isRoundable=function $$ManualInputShape$$$$isRoundable$(){return!0};$ManualInputShape$$.prototype.redrawPath=
function $$ManualInputShape$$$$redrawPath$($c$$,$s$jscomp$26_x$$,$arcSize$jscomp$9_y$$,$w$$,$h$$){$s$jscomp$26_x$$=Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)));$arcSize$jscomp$9_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,$h$$),new mxPoint(0,$s$jscomp$26_x$$),new mxPoint($w$$,0),new mxPoint($w$$,$h$$)],this.isRounded,$arcSize$jscomp$9_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("manualInput",
$ManualInputShape$$);mxUtils.extend($InternalStorageShape$$,mxRectangleShape);$InternalStorageShape$$.prototype.dx=20;$InternalStorageShape$$.prototype.dy=20;$InternalStorageShape$$.prototype.isHtmlAllowed=function $$InternalStorageShape$$$$isHtmlAllowed$(){return!1};$InternalStorageShape$$.prototype.paintForeground=function $$InternalStorageShape$$$$paintForeground$($c$$,$x$$,$y$$,$w$$,$h$$){mxRectangleShape.prototype.paintForeground.apply(this,arguments);var $dy$jscomp$34_inset$$=0;if(this.isRounded)var $dx$jscomp$36_f$$=
mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100,$dy$jscomp$34_inset$$=Math.max($dy$jscomp$34_inset$$,Math.min($w$$*$dx$jscomp$36_f$$,$h$$*$dx$jscomp$36_f$$));$dx$jscomp$36_f$$=Math.max($dy$jscomp$34_inset$$,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx))));$dy$jscomp$34_inset$$=Math.max($dy$jscomp$34_inset$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));$c$$.begin();$c$$.moveTo($x$$,$y$$+$dy$jscomp$34_inset$$);
$c$$.lineTo($x$$+$w$$,$y$$+$dy$jscomp$34_inset$$);$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo($x$$+$dx$jscomp$36_f$$,$y$$);$c$$.lineTo($x$$+$dx$jscomp$36_f$$,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("internalStorage",$InternalStorageShape$$);mxUtils.extend($CornerShape$$,mxActor);$CornerShape$$.prototype.dx=20;$CornerShape$$.prototype.dy=20;$CornerShape$$.prototype.redrawPath=function $$CornerShape$$$$redrawPath$($c$$,$dx$jscomp$37_x$$,$dy$jscomp$35_y$$,$w$$,$h$$){$dx$jscomp$37_x$$=
Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx))));$dy$jscomp$35_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));parseFloat(mxUtils.getValue(this.style,"size",this.size));var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$dy$jscomp$35_y$$),new mxPoint($dx$jscomp$37_x$$,$dy$jscomp$35_y$$),new mxPoint($dx$jscomp$37_x$$,
$h$$),new mxPoint(0,$h$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("corner",$CornerShape$$);mxUtils.extend($CrossbarShape$$,mxActor);$CrossbarShape$$.prototype.redrawPath=function $$CrossbarShape$$$$redrawPath$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.lineTo(0,$h$$);$c$$.end();$c$$.moveTo($w$$,0);$c$$.lineTo($w$$,$h$$);$c$$.end();$c$$.moveTo(0,$h$$/2);$c$$.lineTo($w$$,$h$$/2);$c$$.end()};mxCellRenderer.registerShape("crossbar",$CrossbarShape$$);mxUtils.extend($TeeShape$$,
mxActor);$TeeShape$$.prototype.dx=20;$TeeShape$$.prototype.dy=20;$TeeShape$$.prototype.redrawPath=function $$TeeShape$$$$redrawPath$($c$$,$dx$jscomp$38_x$$,$dy$jscomp$36_y$$,$w$$,$h$$){$dx$jscomp$38_x$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx))));$dy$jscomp$36_y$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));parseFloat(mxUtils.getValue(this.style,"size",this.size));var $arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,
mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$dy$jscomp$36_y$$),new mxPoint(($w$$+$dx$jscomp$38_x$$)/2,$dy$jscomp$36_y$$),new mxPoint(($w$$+$dx$jscomp$38_x$$)/2,$h$$),new mxPoint(($w$$-$dx$jscomp$38_x$$)/2,$h$$),new mxPoint(($w$$-$dx$jscomp$38_x$$)/2,$dy$jscomp$36_y$$),new mxPoint(0,$dy$jscomp$36_y$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("tee",$TeeShape$$);mxUtils.extend($SingleArrowShape$$,mxActor);$SingleArrowShape$$.prototype.arrowWidth=
.3;$SingleArrowShape$$.prototype.arrowSize=.2;$SingleArrowShape$$.prototype.redrawPath=function $$SingleArrowShape$$$$redrawPath$($c$$,$as_x$$,$at_y$$,$w$$,$h$$){var $ab_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth))));$as_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize))));$at_y$$=($h$$-$ab_aw$$)/2;var $ab_aw$$=$at_y$$+$ab_aw$$,$arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/
2;this.addPoints($c$$,[new mxPoint(0,$at_y$$),new mxPoint($w$$-$as_x$$,$at_y$$),new mxPoint($w$$-$as_x$$,0),new mxPoint($w$$,$h$$/2),new mxPoint($w$$-$as_x$$,$h$$),new mxPoint($w$$-$as_x$$,$ab_aw$$),new mxPoint(0,$ab_aw$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("singleArrow",$SingleArrowShape$$);mxUtils.extend($DoubleArrowShape$$,mxActor);$DoubleArrowShape$$.prototype.redrawPath=function $$DoubleArrowShape$$$$redrawPath$($c$$,$as$jscomp$1_x$$,$at$jscomp$1_y$$,$w$$,
$h$$){var $ab$jscomp$1_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",$SingleArrowShape$$.prototype.arrowWidth))));$as$jscomp$1_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",$SingleArrowShape$$.prototype.arrowSize))));$at$jscomp$1_y$$=($h$$-$ab$jscomp$1_aw$$)/2;var $ab$jscomp$1_aw$$=$at$jscomp$1_y$$+$ab$jscomp$1_aw$$,$arcSize$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,
[new mxPoint(0,$h$$/2),new mxPoint($as$jscomp$1_x$$,0),new mxPoint($as$jscomp$1_x$$,$at$jscomp$1_y$$),new mxPoint($w$$-$as$jscomp$1_x$$,$at$jscomp$1_y$$),new mxPoint($w$$-$as$jscomp$1_x$$,0),new mxPoint($w$$,$h$$/2),new mxPoint($w$$-$as$jscomp$1_x$$,$h$$),new mxPoint($w$$-$as$jscomp$1_x$$,$ab$jscomp$1_aw$$),new mxPoint($as$jscomp$1_x$$,$ab$jscomp$1_aw$$),new mxPoint($as$jscomp$1_x$$,$h$$)],this.isRounded,$arcSize$$,!0);$c$$.end()};mxCellRenderer.registerShape("doubleArrow",$DoubleArrowShape$$);mxUtils.extend($DataStorageShape$$,
mxActor);$DataStorageShape$$.prototype.size=.1;$DataStorageShape$$.prototype.redrawPath=function $$DataStorageShape$$$$redrawPath$($c$$,$s$jscomp$29_x$$,$y$$,$w$$,$h$$){$s$jscomp$29_x$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$c$$.moveTo($s$jscomp$29_x$$,0);$c$$.lineTo($w$$,0);$c$$.quadTo($w$$-2*$s$jscomp$29_x$$,$h$$/2,$w$$,$h$$);$c$$.lineTo($s$jscomp$29_x$$,$h$$);$c$$.quadTo($s$jscomp$29_x$$-2*$s$jscomp$29_x$$,$h$$/2,$s$jscomp$29_x$$,0);$c$$.close();
$c$$.end()};mxCellRenderer.registerShape("dataStorage",$DataStorageShape$$);mxUtils.extend($OrShape$$,mxActor);$OrShape$$.prototype.redrawPath=function $$OrShape$$$$redrawPath$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,0,$h$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("or",$OrShape$$);mxUtils.extend($XorShape$$,mxActor);$XorShape$$.prototype.redrawPath=function $$XorShape$$$$redrawPath$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.moveTo(0,0);$c$$.quadTo($w$$,
0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,0,$h$$);$c$$.quadTo($w$$/2,$h$$/2,0,0);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("xor",$XorShape$$);mxUtils.extend($LoopLimitShape$$,mxActor);$LoopLimitShape$$.prototype.size=20;$LoopLimitShape$$.prototype.isRoundable=function $$LoopLimitShape$$$$isRoundable$(){return!0};$LoopLimitShape$$.prototype.redrawPath=function $$LoopLimitShape$$$$redrawPath$($c$$,$s$jscomp$30_x$$,$arcSize$jscomp$14_y$$,$w$$,$h$$){$s$jscomp$30_x$$=Math.min($w$$/2,Math.min($h$$,
parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$14_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints($c$$,[new mxPoint($s$jscomp$30_x$$,0),new mxPoint($w$$-$s$jscomp$30_x$$,0),new mxPoint($w$$,.8*$s$jscomp$30_x$$),new mxPoint($w$$,$h$$),new mxPoint(0,$h$$),new mxPoint(0,.8*$s$jscomp$30_x$$)],this.isRounded,$arcSize$jscomp$14_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("loopLimit",$LoopLimitShape$$);mxUtils.extend($OffPageConnectorShape$$,
mxActor);$OffPageConnectorShape$$.prototype.size=.375;$OffPageConnectorShape$$.prototype.isRoundable=function $$OffPageConnectorShape$$$$isRoundable$(){return!0};$OffPageConnectorShape$$.prototype.redrawPath=function $$OffPageConnectorShape$$$$redrawPath$($c$$,$s$jscomp$31_x$$,$arcSize$jscomp$15_y$$,$w$$,$h$$){$s$jscomp$31_x$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"size",this.size))));$arcSize$jscomp$15_y$$=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/
2;this.addPoints($c$$,[new mxPoint(0,0),new mxPoint($w$$,0),new mxPoint($w$$,$h$$-$s$jscomp$31_x$$),new mxPoint($w$$/2,$h$$),new mxPoint(0,$h$$-$s$jscomp$31_x$$)],this.isRounded,$arcSize$jscomp$15_y$$,!0);$c$$.end()};mxCellRenderer.registerShape("offPageConnector",$OffPageConnectorShape$$);mxUtils.extend($TapeDataShape$$,mxEllipse);$TapeDataShape$$.prototype.paintVertexShape=function $$TapeDataShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);
$c$$.begin();$c$$.moveTo($x$$+$w$$/2,$y$$+$h$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("tapeData",$TapeDataShape$$);mxUtils.extend($OrEllipseShape$$,mxEllipse);$OrEllipseShape$$.prototype.paintVertexShape=function $$OrEllipseShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo($x$$,$y$$+$h$$/2);$c$$.lineTo($x$$+$w$$,$y$$+$h$$/2);$c$$.end();$c$$.stroke();
$c$$.begin();$c$$.moveTo($x$$+$w$$/2,$y$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("orEllipse",$OrEllipseShape$$);mxUtils.extend($SumEllipseShape$$,mxEllipse);$SumEllipseShape$$.prototype.paintVertexShape=function $$SumEllipseShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo($x$$+.145*$w$$,$y$$+.145*$h$$);$c$$.lineTo($x$$+.855*$w$$,$y$$+.855*$h$$);
$c$$.end();$c$$.stroke();$c$$.begin();$c$$.moveTo($x$$+.855*$w$$,$y$$+.145*$h$$);$c$$.lineTo($x$$+.145*$w$$,$y$$+.855*$h$$);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("sumEllipse",$SumEllipseShape$$);mxUtils.extend($SortShape$$,mxRhombus);$SortShape$$.prototype.paintVertexShape=function $$SortShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){mxRhombus.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();$c$$.moveTo($x$$,$y$$+$h$$/2);$c$$.lineTo($x$$+$w$$,
$y$$+$h$$/2);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("sortShape",$SortShape$$);mxUtils.extend($CollateShape$$,mxEllipse);$CollateShape$$.prototype.paintVertexShape=function $$CollateShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){$c$$.begin();$c$$.moveTo($x$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$/2);$c$$.close();$c$$.fillAndStroke();$c$$.begin();$c$$.moveTo($x$$,$y$$+$h$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.lineTo($x$$+$w$$/2,$y$$+$h$$/2);$c$$.close();
$c$$.fillAndStroke()};mxCellRenderer.registerShape("collate",$CollateShape$$);mxUtils.extend($DimensionShape$$,mxEllipse);$DimensionShape$$.prototype.paintVertexShape=function $$DimensionShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){var $cy$$=$y$$+$h$$-5;$c$$.begin();$c$$.moveTo($x$$,$y$$);$c$$.lineTo($x$$,$y$$+$h$$);$c$$.moveTo($x$$,$cy$$);$c$$.lineTo($x$$+10,$cy$$-5);$c$$.moveTo($x$$,$cy$$);$c$$.lineTo($x$$+10,$cy$$+5);$c$$.moveTo($x$$,$cy$$);$c$$.lineTo($x$$+$w$$,$cy$$);$c$$.moveTo($x$$+
$w$$,$y$$);$c$$.lineTo($x$$+$w$$,$y$$+$h$$);$c$$.moveTo($x$$+$w$$,$cy$$);$c$$.lineTo($x$$+$w$$-10,$cy$$-5);$c$$.moveTo($x$$+$w$$,$cy$$);$c$$.lineTo($x$$+$w$$-10,$cy$$+5);$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("dimension",$DimensionShape$$);mxUtils.extend($PartialRectangleShape$$,mxEllipse);$PartialRectangleShape$$.prototype.paintVertexShape=function $$PartialRectangleShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){this.outline||$c$$.setStrokeColor(null);mxRectangleShape.prototype.paintBackground.apply(this,
arguments);null!=this.style&&($c$$.setStrokeColor(this.stroke),$c$$.rect($x$$,$y$$,$w$$,$h$$),$c$$.fill(),$c$$.begin(),$c$$.moveTo($x$$,$y$$),"1"==mxUtils.getValue(this.style,"top","1")?$c$$.lineTo($x$$+$w$$,$y$$):$c$$.moveTo($x$$+$w$$,$y$$),"1"==mxUtils.getValue(this.style,"right","1")?$c$$.lineTo($x$$+$w$$,$y$$+$h$$):$c$$.moveTo($x$$+$w$$,$y$$+$h$$),"1"==mxUtils.getValue(this.style,"bottom","1")?$c$$.lineTo($x$$,$y$$+$h$$):$c$$.moveTo($x$$,$y$$+$h$$),"1"==mxUtils.getValue(this.style,"left","1")&&
$c$$.lineTo($x$$,$y$$-this.strokewidth/2),$c$$.end(),$c$$.stroke())};mxCellRenderer.registerShape("partialRectangle",$PartialRectangleShape$$);mxUtils.extend($LineEllipseShape$$,mxEllipse);$LineEllipseShape$$.prototype.paintVertexShape=function $$LineEllipseShape$$$$paintVertexShape$($c$$,$x$$,$y$$,$w$$,$h$$){mxEllipse.prototype.paintVertexShape.apply(this,arguments);$c$$.setShadow(!1);$c$$.begin();"vertical"==mxUtils.getValue(this.style,"line")?($c$$.moveTo($x$$+$w$$/2,$y$$),$c$$.lineTo($x$$+$w$$/
2,$y$$+$h$$)):($c$$.moveTo($x$$,$y$$+$h$$/2),$c$$.lineTo($x$$+$w$$,$y$$+$h$$/2));$c$$.end();$c$$.stroke()};mxCellRenderer.registerShape("lineEllipse",$LineEllipseShape$$);mxUtils.extend($DelayShape$$,mxActor);$DelayShape$$.prototype.redrawPath=function $$DelayShape$$$$redrawPath$($c$$,$dx$jscomp$39_x$$,$y$$,$w$$,$h$$){$dx$jscomp$39_x$$=Math.min($w$$,$h$$/2);$c$$.moveTo(0,0);$c$$.lineTo($w$$-$dx$jscomp$39_x$$,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,$w$$-$dx$jscomp$39_x$$,$h$$);$c$$.lineTo(0,
$h$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("delay",$DelayShape$$);mxUtils.extend($CrossShape$$,mxActor);$CrossShape$$.prototype.size=.2;$CrossShape$$.prototype.redrawPath=function $$CrossShape$$$$redrawPath$($c$$,$m$jscomp$4_t$jscomp$9_x$$,$b$jscomp$9_y$$,$w$$,$h$$){$m$jscomp$4_t$jscomp$9_x$$=Math.min($h$$,$w$$);var $r$jscomp$5_size$$=Math.max(0,Math.min($m$jscomp$4_t$jscomp$9_x$$,$m$jscomp$4_t$jscomp$9_x$$*parseFloat(mxUtils.getValue(this.style,"size",this.size))));$m$jscomp$4_t$jscomp$9_x$$=
($h$$-$r$jscomp$5_size$$)/2;$b$jscomp$9_y$$=$m$jscomp$4_t$jscomp$9_x$$+$r$jscomp$5_size$$;var $l$$=($w$$-$r$jscomp$5_size$$)/2,$r$jscomp$5_size$$=$l$$+$r$jscomp$5_size$$;$c$$.moveTo(0,$m$jscomp$4_t$jscomp$9_x$$);$c$$.lineTo($l$$,$m$jscomp$4_t$jscomp$9_x$$);$c$$.lineTo($l$$,0);$c$$.lineTo($r$jscomp$5_size$$,0);$c$$.lineTo($r$jscomp$5_size$$,$m$jscomp$4_t$jscomp$9_x$$);$c$$.lineTo($w$$,$m$jscomp$4_t$jscomp$9_x$$);$c$$.lineTo($w$$,$b$jscomp$9_y$$);$c$$.lineTo($r$jscomp$5_size$$,$b$jscomp$9_y$$);$c$$.lineTo($r$jscomp$5_size$$,
$h$$);$c$$.lineTo($l$$,$h$$);$c$$.lineTo($l$$,$b$jscomp$9_y$$);$c$$.lineTo(0,$b$jscomp$9_y$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("cross",$CrossShape$$);mxUtils.extend($DisplayShape$$,mxActor);$DisplayShape$$.prototype.size=.25;$DisplayShape$$.prototype.redrawPath=function $$DisplayShape$$$$redrawPath$($c$$,$dx$jscomp$40_x$$,$s$jscomp$32_y$$,$w$$,$h$$){$dx$jscomp$40_x$$=Math.min($w$$,$h$$/2);$s$jscomp$32_y$$=Math.min($w$$-$dx$jscomp$40_x$$,Math.max(0,parseFloat(mxUtils.getValue(this.style,
"size",this.size)))*$w$$);$c$$.moveTo(0,$h$$/2);$c$$.lineTo($s$jscomp$32_y$$,0);$c$$.lineTo($w$$-$dx$jscomp$40_x$$,0);$c$$.quadTo($w$$,0,$w$$,$h$$/2);$c$$.quadTo($w$$,$h$$,$w$$-$dx$jscomp$40_x$$,$h$$);$c$$.lineTo($s$jscomp$32_y$$,$h$$);$c$$.close();$c$$.end()};mxCellRenderer.registerShape("display",$DisplayShape$$);mxUtils.extend($FilledEdge$$,mxConnector);$FilledEdge$$.prototype.origPaintEdgeShape=$FilledEdge$$.prototype.paintEdgeShape;$FilledEdge$$.prototype.paintEdgeShape=function $$FilledEdge$$$$paintEdgeShape$($c$$,
$pts$$,$rounded$$){for(var $fillClr_temp$$=[],$dashed_i$$=0;$dashed_i$$<$pts$$.length;$dashed_i$$++)$fillClr_temp$$.push(mxUtils.clone($pts$$[$dashed_i$$]));var $dashed_i$$=$c$$.state.dashed,$fixDash$$=$c$$.state.fixDash;$FilledEdge$$.prototype.origPaintEdgeShape.apply(this,[$c$$,$fillClr_temp$$,$rounded$$]);3<=$c$$.state.strokeWidth&&($fillClr_temp$$=mxUtils.getValue(this.style,"fillColor",null),null!=$fillClr_temp$$&&($c$$.setStrokeColor($fillClr_temp$$),$c$$.setStrokeWidth($c$$.state.strokeWidth-
2),$c$$.setDashed($dashed_i$$,$fixDash$$),$FilledEdge$$.prototype.origPaintEdgeShape.apply(this,[$c$$,$pts$$,$rounded$$])))};mxCellRenderer.registerShape("filledEdge",$FilledEdge$$);"undefined"!==typeof StyleFormatPanel&&function(){var $styleFormatPanelGetCustomColors$$=StyleFormatPanel.prototype.getCustomColors;StyleFormatPanel.prototype.getCustomColors=function $StyleFormatPanel$$getCustomColors$(){var $ss$$=this.format.getSelectionState(),$result$$=$styleFormatPanelGetCustomColors$$.apply(this,
arguments);"umlFrame"==$ss$$.style.shape&&$result$$.push({title:mxResources.get("laneColor"),key:"swimlaneFillColor",defaultValue:"#ffffff"});return $result$$}}();mxMarker.addMarker("dash",function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $nx$$=$unitX$$*($size$$+$sw$$+1),$ny$$=$unitY$$*($size$$+$sw$$+1);return function(){$c$$.begin();$c$$.moveTo($pe$$.x-$nx$$/2-$ny$$/2,$pe$$.y-$ny$$/2+$nx$$/2);$c$$.lineTo($pe$$.x+$ny$$/2-3*$nx$$/2,$pe$$.y-3*$ny$$/2-$nx$$/
2);$c$$.stroke()}});mxMarker.addMarker("cross",function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $nx$$=$unitX$$*($size$$+$sw$$+1),$ny$$=$unitY$$*($size$$+$sw$$+1);return function(){$c$$.begin();$c$$.moveTo($pe$$.x-$nx$$/2-$ny$$/2,$pe$$.y-$ny$$/2+$nx$$/2);$c$$.lineTo($pe$$.x+$ny$$/2-3*$nx$$/2,$pe$$.y-3*$ny$$/2-$nx$$/2);$c$$.moveTo($pe$$.x-$nx$$/2+$ny$$/2,$pe$$.y-$ny$$/2-$nx$$/2);$c$$.lineTo($pe$$.x-$ny$$/2-3*$nx$$/2,$pe$$.y-3*$ny$$/2+$nx$$/2);$c$$.stroke()}});
mxMarker.addMarker("circle",$circleMarker$$);mxMarker.addMarker("circlePlus",function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){var $pt$$=$pe$$.clone(),$fn$$=$circleMarker$$.apply(this,arguments),$nx$$=$unitX$$*($size$$+2*$sw$$),$ny$$=$unitY$$*($size$$+2*$sw$$);return function(){$fn$$.apply(this,arguments);$c$$.begin();$c$$.moveTo($pt$$.x-$unitX$$*$sw$$,$pt$$.y-$unitY$$*$sw$$);$c$$.lineTo($pt$$.x-2*$nx$$+$unitX$$*$sw$$,$pt$$.y-2*$ny$$+$unitY$$*$sw$$);$c$$.moveTo($pt$$.x-
$nx$$-$ny$$+$unitY$$*$sw$$,$pt$$.y-$ny$$+$nx$$-$unitX$$*$sw$$);$c$$.lineTo($pt$$.x+$ny$$-$nx$$-$unitY$$*$sw$$,$pt$$.y-$ny$$-$nx$$+$unitX$$*$sw$$);$c$$.stroke()}});mxMarker.addMarker("async",function($c$$,$endOffsetX$jscomp$1_shape$$,$endOffsetY$jscomp$1_type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){$endOffsetX$jscomp$1_shape$$=$unitX$$*$sw$$*1.118;$endOffsetY$jscomp$1_type$$=$unitY$$*$sw$$*1.118;$unitX$$*=$size$$+$sw$$;$unitY$$*=$size$$+$sw$$;var $pt$$=$pe$$.clone();$pt$$.x-=$endOffsetX$jscomp$1_shape$$;
$pt$$.y-=$endOffsetY$jscomp$1_type$$;$pe$$.x+=1*-$unitX$$-$endOffsetX$jscomp$1_shape$$;$pe$$.y+=1*-$unitY$$-$endOffsetY$jscomp$1_type$$;return function(){$c$$.begin();$c$$.moveTo($pt$$.x,$pt$$.y);$source$$?$c$$.lineTo($pt$$.x-$unitX$$-$unitY$$/2,$pt$$.y-$unitY$$+$unitX$$/2):$c$$.lineTo($pt$$.x+$unitY$$/2-$unitX$$,$pt$$.y-$unitY$$-$unitX$$/2);$c$$.lineTo($pt$$.x-$unitX$$,$pt$$.y-$unitY$$);$c$$.close();$filled$$?$c$$.fillAndStroke():$c$$.stroke()}});mxMarker.addMarker("openAsync",function createOpenAsyncArrow($widthFactor$$){$widthFactor$$=
null!=$widthFactor$$?$widthFactor$$:2;return function($c$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){$unitX$$*=$size$$+$sw$$;$unitY$$*=$size$$+$sw$$;var $pt$$=$pe$$.clone();return function(){$c$$.begin();$c$$.moveTo($pt$$.x,$pt$$.y);$source$$?$c$$.lineTo($pt$$.x-$unitX$$-$unitY$$/$widthFactor$$,$pt$$.y-$unitY$$+$unitX$$/$widthFactor$$):$c$$.lineTo($pt$$.x+$unitY$$/$widthFactor$$-$unitX$$,$pt$$.y-$unitY$$-$unitX$$/$widthFactor$$);$c$$.stroke()}}}(2));if("undefined"!==
typeof mxVertexHandler){var $createEdgeWidthHandle$$=function $$createEdgeWidthHandle$$$($state$$,$start$$,$spacing$$){return $createEdgeHandle$$($state$$,["width"],$start$$,function($dist$$,$nx$$,$ny$$,$p0$$,$p1$jscomp$6_w$$){$p1$jscomp$6_w$$=$state$$.shape.getEdgeWidth()*$state$$.view.scale+$spacing$$;return new mxPoint($p0$$.x+$nx$$*$dist$$/4+$ny$$*$p1$jscomp$6_w$$/2,$p0$$.y+$ny$$*$dist$$/4-$nx$$*$p1$jscomp$6_w$$/2)},function($dist$jscomp$4_w$$,$nx$$,$ny$$,$p0$$,$p1$$,$pt$$){$dist$jscomp$4_w$$=
Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$state$$.style.width=Math.round(2*$dist$jscomp$4_w$$)/$state$$.view.scale-$spacing$$})},$createEdgeHandle$$=function $$createEdgeHandle$$$($state$$,$keys$$,$start$$,$getPosition$$,$setPosition$$){return $createHandle$$($state$$,$keys$$,function($bounds$jscomp$20_tr$$){var $p1$jscomp$8_pts$$=$state$$.absolutePoints,$dx$jscomp$41_n$$=$p1$jscomp$8_pts$$.length-1;$bounds$jscomp$20_tr$$=$state$$.view.translate;var $s$$=$state$$.view.scale,
$p0$jscomp$4_pt$$=$start$$?$p1$jscomp$8_pts$$[0]:$p1$jscomp$8_pts$$[$dx$jscomp$41_n$$],$p1$jscomp$8_pts$$=$start$$?$p1$jscomp$8_pts$$[1]:$p1$jscomp$8_pts$$[$dx$jscomp$41_n$$-1],$dx$jscomp$41_n$$=$p1$jscomp$8_pts$$.x-$p0$jscomp$4_pt$$.x,$dy$$=$p1$jscomp$8_pts$$.y-$p0$jscomp$4_pt$$.y,$dist$$=Math.sqrt($dx$jscomp$41_n$$*$dx$jscomp$41_n$$+$dy$$*$dy$$),$p0$jscomp$4_pt$$=$getPosition$$.call(this,$dist$$,$dx$jscomp$41_n$$/$dist$$,$dy$$/$dist$$,$p0$jscomp$4_pt$$,$p1$jscomp$8_pts$$);return new mxPoint($p0$jscomp$4_pt$$.x/
$s$$-$bounds$jscomp$20_tr$$.x,$p0$jscomp$4_pt$$.y/$s$$-$bounds$jscomp$20_tr$$.y)},function($bounds$jscomp$21_tr$$,$pt$$,$me$$){var $p1$jscomp$9_pts$$=$state$$.absolutePoints,$dx$jscomp$42_n$$=$p1$jscomp$9_pts$$.length-1;$bounds$jscomp$21_tr$$=$state$$.view.translate;var $s$$=$state$$.view.scale,$p0$$=$start$$?$p1$jscomp$9_pts$$[0]:$p1$jscomp$9_pts$$[$dx$jscomp$42_n$$],$p1$jscomp$9_pts$$=$start$$?$p1$jscomp$9_pts$$[1]:$p1$jscomp$9_pts$$[$dx$jscomp$42_n$$-1],$dx$jscomp$42_n$$=$p1$jscomp$9_pts$$.x-$p0$$.x,
$dy$$=$p1$jscomp$9_pts$$.y-$p0$$.y,$dist$$=Math.sqrt($dx$jscomp$42_n$$*$dx$jscomp$42_n$$+$dy$$*$dy$$);$pt$$.x=($pt$$.x+$bounds$jscomp$21_tr$$.x)*$s$$;$pt$$.y=($pt$$.y+$bounds$jscomp$21_tr$$.y)*$s$$;$setPosition$$.call(this,$dist$$,$dx$jscomp$42_n$$/$dist$$,$dy$$/$dist$$,$p0$$,$p1$jscomp$9_pts$$,$pt$$,$me$$)})},$alpha1_alpha2_createArrowHandleFunction$$=function $$alpha1_alpha2_createArrowHandleFunction$$$($maxSize$$){return function($state$$){return[$createHandle$$($state$$,["arrowWidth","arrowSize"],
function($bounds$$){var $aw$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"arrowWidth",$SingleArrowShape$$.prototype.arrowWidth))),$as$$=Math.max(0,Math.min($maxSize$$,mxUtils.getValue(this.state.style,"arrowSize",$SingleArrowShape$$.prototype.arrowSize)));return new mxPoint($bounds$$.x+(1-$as$$)*$bounds$$.width,$bounds$$.y+(1-$aw$$)*$bounds$$.height/2)},function($bounds$$,$pt$$){this.state.style.arrowWidth=Math.max(0,Math.min(1,Math.abs($bounds$$.y+$bounds$$.height/2-$pt$$.y)/$bounds$$.height*
2));this.state.style.arrowSize=Math.max(0,Math.min($maxSize$$,($bounds$$.x+$bounds$$.width-$pt$$.x)/$bounds$$.width))})]}},$createCubeHandleFunction$$=function $$createCubeHandleFunction$$$($factor$$,$defaultValue$$,$allowArcHandle$$){return function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.width,Math.min($bounds$$.height,parseFloat(mxUtils.getValue(this.state.style,"size",$defaultValue$$)))))*$factor$$;return new mxPoint($bounds$$.x+
$size$$,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min(Math.min($bounds$$.width,$pt$$.x-$bounds$$.x),Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))/$factor$$)})];$allowArcHandle$$&&mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createDisplayHandleFunction$$=function $$createDisplayHandleFunction$$$($defaultValue$$,$allowArcHandle$$,$max$$,$redrawEdges$$,$fixedDefaultValue$$){$max$$=
null!=$max$$?$max$$:1;return function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $fixed$$=null!=$fixedDefaultValue$$?"0"!=mxUtils.getValue(this.state.style,"fixedSize","0"):null,$size$$=parseFloat(mxUtils.getValue(this.state.style,"size",$fixed$$?$fixedDefaultValue$$:$defaultValue$$));return new mxPoint($bounds$$.x+Math.max(0,Math.min($bounds$$.width,$size$$*($fixed$$?1:$bounds$$.width))),$bounds$$.getCenterY())},function($bounds$jscomp$27_size$$,$pt$$,$me$$){var $fixed$$=
null!=$fixedDefaultValue$$?"0"!=mxUtils.getValue(this.state.style,"fixedSize","0"):null;$bounds$jscomp$27_size$$=$fixed$$?$pt$$.x-$bounds$jscomp$27_size$$.x:Math.max(0,Math.min($max$$,($pt$$.x-$bounds$jscomp$27_size$$.x)/$bounds$jscomp$27_size$$.width));$fixed$$&&!mxEvent.isAltDown($me$$.getEvent())&&($bounds$jscomp$27_size$$=$state$$.view.graph.snap($bounds$jscomp$27_size$$));this.state.style.size=$bounds$jscomp$27_size$$},null,$redrawEdges$$)];$allowArcHandle$$&&mxUtils.getValue($state$$.style,
mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createTrapezoidHandleFunction$$=function $$createTrapezoidHandleFunction$$$($max$$){return function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($max$$,parseFloat(mxUtils.getValue(this.state.style,"size",$TrapezoidShape$$.prototype.size))));return new mxPoint($bounds$$.x+$size$$*$bounds$$.width*.75,$bounds$$.y+$bounds$$.height/4)},function($bounds$$,
$pt$$){this.state.style.size=Math.max(0,Math.min($max$$,($pt$$.x-$bounds$$.x)/(.75*$bounds$$.width)))},null,!0)];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createArcHandleFunction$$=function $$createArcHandleFunction$$$(){return function($state$$){var $handles$$=[];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$}},$createArcHandle$$=
function $$createArcHandle$$$($state$$,$yOffset$$){return $createHandle$$($state$$,[mxConstants.STYLE_ARCSIZE],function($bounds$$){var $tmp$$=null!=$yOffset$$?$yOffset$$:$bounds$$.height/8;if("1"==mxUtils.getValue($state$$.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)){var $arcSize$$=mxUtils.getValue($state$$.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;return new mxPoint($bounds$$.x+$bounds$$.width-Math.min($bounds$$.width/2,$arcSize$$),$bounds$$.y+$tmp$$)}$arcSize$$=Math.max(0,parseFloat(mxUtils.getValue($state$$.style,
mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)))/100;return new mxPoint($bounds$$.x+$bounds$$.width-Math.min(Math.max($bounds$$.width/2,$bounds$$.height/2),Math.min($bounds$$.width,$bounds$$.height)*$arcSize$$),$bounds$$.y+$tmp$$)},function($bounds$$,$pt$$,$me$$){"1"==mxUtils.getValue($state$$.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0)?this.state.style[mxConstants.STYLE_ARCSIZE]=Math.round(Math.max(0,Math.min($bounds$$.width,2*($bounds$$.x+$bounds$$.width-$pt$$.x)))):this.state.style[mxConstants.STYLE_ARCSIZE]=
Math.round(Math.min(50,Math.max(0,100*($bounds$$.width-$pt$$.x+$bounds$$.x)/Math.min($bounds$$.width,$bounds$$.height))))})},$createHandle$$=function $$createHandle$$$($state$$,$keys$$,$getPositionFn$$,$setPositionFn$$,$ignoreGrid$$,$redrawEdges$$){var $handle$$=new mxHandle($state$$,null,mxVertexHandler.prototype.secondaryHandleImage);$handle$$.execute=function $$handle$$$execute$(){for(var $i$$=0;$i$$<$keys$$.length;$i$$++)this.copyStyle($keys$$[$i$$])};$handle$$.getPosition=$getPositionFn$$;$handle$$.setPosition=
$setPositionFn$$;$handle$$.ignoreGrid=null!=$ignoreGrid$$?$ignoreGrid$$:!0;if($redrawEdges$$){var $positionChanged$$=$handle$$.positionChanged;$handle$$.positionChanged=function $$handle$$$positionChanged$(){$positionChanged$$.apply(this,arguments);$state$$.view.invalidate(this.state.cell);$state$$.view.validate()}}return $handle$$},$handleFactory$$={link:function($state$$){return[$createEdgeWidthHandle$$($state$$,!0,10),$createEdgeWidthHandle$$($state$$,!1,10)]},flexArrow:function($state$$){var $tol$$=
$state$$.view.graph.gridSize/$state$$.view.scale,$handles$$=[];mxUtils.getValue($state$$.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&($handles$$.push($createEdgeHandle$$($state$$,["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,function($dist$jscomp$7_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$2_p1$$){$dist$jscomp$7_w$$=($state$$.shape.getEdgeWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$2_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_STARTSIZE,
mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$2_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)+$ny$$*$dist$jscomp$7_w$$/2,$p0$$.y+$ny$$*($l$jscomp$2_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$nx$$*$dist$jscomp$7_w$$/2)},function($dist$jscomp$8_w$$,$l$jscomp$3_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$8_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$3_nx$$=mxUtils.ptLineDist($p0$$.x,$p0$$.y,
$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$3_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*($l$jscomp$3_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.width=Math.round(2*$dist$jscomp$8_w$$)/$state$$.view.scale;mxEvent.isControlDown($me$$.getEvent())&&($state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE]);mxEvent.isAltDown($me$$.getEvent())||Math.abs(parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE])-parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE]))<
$tol$$/6&&($state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE])})),$handles$$.push($createEdgeHandle$$($state$$,["startWidth","endWidth",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!0,function($dist$jscomp$9_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$4_p1$$){$dist$jscomp$9_w$$=($state$$.shape.getStartArrowWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$4_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5)*
$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$4_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)+$ny$$*$dist$jscomp$9_w$$/2,$p0$$.y+$ny$$*($l$jscomp$4_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$nx$$*$dist$jscomp$9_w$$/2)},function($dist$jscomp$10_w$$,$l$jscomp$5_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$10_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$5_nx$$=mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-
$l$jscomp$5_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_STARTSIZE]=Math.round(100*($l$jscomp$5_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.startWidth=Math.max(0,Math.round(2*$dist$jscomp$10_w$$)-$state$$.shape.getEdgeWidth())/$state$$.view.scale;mxEvent.isControlDown($me$$.getEvent())&&($state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE],$state$$.style.endWidth=$state$$.style.startWidth);mxEvent.isAltDown($me$$.getEvent())||
(Math.abs(parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE])-parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE]),Math.abs(parseFloat($state$$.style.startWidth)-parseFloat($state$$.style.endWidth))<$tol$$&&($state$$.style.startWidth=$state$$.style.endWidth))})));mxUtils.getValue($state$$.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&($handles$$.push($createEdgeHandle$$($state$$,
["width",mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,function($dist$jscomp$11_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$6_p1$$){$dist$jscomp$11_w$$=($state$$.shape.getEdgeWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$6_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$6_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$ny$$*$dist$jscomp$11_w$$/2,$p0$$.y+$ny$$*($l$jscomp$6_p1$$+
$state$$.shape.strokewidth*$state$$.view.scale)+$nx$$*$dist$jscomp$11_w$$/2)},function($dist$jscomp$12_w$$,$l$jscomp$7_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$12_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$7_nx$$=mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$7_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*($l$jscomp$7_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.width=
Math.round(2*$dist$jscomp$12_w$$)/$state$$.view.scale;mxEvent.isControlDown($me$$.getEvent())&&($state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE]);mxEvent.isAltDown($me$$.getEvent())||Math.abs(parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE])-parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE])})),$handles$$.push($createEdgeHandle$$($state$$,["startWidth","endWidth",
mxConstants.STYLE_STARTSIZE,mxConstants.STYLE_ENDSIZE],!1,function($dist$jscomp$13_w$$,$nx$$,$ny$$,$p0$$,$l$jscomp$8_p1$$){$dist$jscomp$13_w$$=($state$$.shape.getEndArrowWidth()-$state$$.shape.strokewidth)*$state$$.view.scale;$l$jscomp$8_p1$$=3*mxUtils.getNumber($state$$.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5)*$state$$.view.scale;return new mxPoint($p0$$.x+$nx$$*($l$jscomp$8_p1$$+$state$$.shape.strokewidth*$state$$.view.scale)-$ny$$*$dist$jscomp$13_w$$/2,$p0$$.y+$ny$$*($l$jscomp$8_p1$$+
$state$$.shape.strokewidth*$state$$.view.scale)+$nx$$*$dist$jscomp$13_w$$/2)},function($dist$jscomp$14_w$$,$l$jscomp$9_nx$$,$ny$$,$p0$$,$p1$$,$pt$$,$me$$){$dist$jscomp$14_w$$=Math.sqrt(mxUtils.ptSegDistSq($p0$$.x,$p0$$.y,$p1$$.x,$p1$$.y,$pt$$.x,$pt$$.y));$l$jscomp$9_nx$$=mxUtils.ptLineDist($p0$$.x,$p0$$.y,$p0$$.x+$ny$$,$p0$$.y-$l$jscomp$9_nx$$,$pt$$.x,$pt$$.y);$state$$.style[mxConstants.STYLE_ENDSIZE]=Math.round(100*($l$jscomp$9_nx$$-$state$$.shape.strokewidth)/3)/100/$state$$.view.scale;$state$$.style.endWidth=
Math.max(0,Math.round(2*$dist$jscomp$14_w$$)-$state$$.shape.getEdgeWidth())/$state$$.view.scale;mxEvent.isControlDown($me$$.getEvent())&&($state$$.style[mxConstants.STYLE_STARTSIZE]=$state$$.style[mxConstants.STYLE_ENDSIZE],$state$$.style.startWidth=$state$$.style.endWidth);mxEvent.isAltDown($me$$.getEvent())||(Math.abs(parseFloat($state$$.style[mxConstants.STYLE_ENDSIZE])-parseFloat($state$$.style[mxConstants.STYLE_STARTSIZE]))<$tol$$/6&&($state$$.style[mxConstants.STYLE_ENDSIZE]=$state$$.style[mxConstants.STYLE_STARTSIZE]),
Math.abs(parseFloat($state$$.style.endWidth)-parseFloat($state$$.style.startWidth))<$tol$$&&($state$$.style.endWidth=$state$$.style.startWidth))})));return $handles$$},swimlane:function($state$$){var $handles$$=[$createHandle$$($state$$,[mxConstants.STYLE_STARTSIZE],function($bounds$$){var $size$$=parseFloat(mxUtils.getValue($state$$.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));return 1==mxUtils.getValue($state$$.style,mxConstants.STYLE_HORIZONTAL,1)?new mxPoint($bounds$$.getCenterX(),
$bounds$$.y+Math.max(0,Math.min($bounds$$.height,$size$$))):new mxPoint($bounds$$.x+Math.max(0,Math.min($bounds$$.width,$size$$)),$bounds$$.getCenterY())},function($bounds$$,$pt$$){$state$$.style[mxConstants.STYLE_STARTSIZE]=1==mxUtils.getValue(this.state.style,mxConstants.STYLE_HORIZONTAL,1)?Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y))):Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)))})];if(mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED)){var $size$jscomp$0$$=
parseFloat(mxUtils.getValue($state$$.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));$handles$$.push($createArcHandle$$($state$$,$size$jscomp$0$$/2))}return $handles$$},label:$createArcHandleFunction$$(),ext:$createArcHandleFunction$$(),rectangle:$createArcHandleFunction$$(),triangle:$createArcHandleFunction$$(),rhombus:$createArcHandleFunction$$(),umlLifeline:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,
parseFloat(mxUtils.getValue(this.state.style,"size",$UmlLifeline$$.prototype.size))));return new mxPoint($bounds$$.getCenterX(),$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)]},umlFrame:function($state$$){return[$createHandle$$($state$$,["width","height"],function($bounds$$){var $w0$$=Math.max($UmlFrame$$.prototype.corner,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"width",$UmlFrame$$.prototype.width))),
$h0$$=Math.max(1.5*$UmlFrame$$.prototype.corner,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"height",$UmlFrame$$.prototype.height)));return new mxPoint($bounds$$.x+$w0$$,$bounds$$.y+$h0$$)},function($bounds$$,$pt$$){this.state.style.width=Math.round(Math.max($UmlFrame$$.prototype.corner,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.height=Math.round(Math.max(1.5*$UmlFrame$$.prototype.corner,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))},!1)]},process:function($state$$){var $handles$$=
[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(.5,parseFloat(mxUtils.getValue(this.state.style,"size",$ProcessShape$$.prototype.size))));return new mxPoint($bounds$$.x+$bounds$$.width*$size$$,$bounds$$.y+$bounds$$.height/4)},function($bounds$$,$pt$$){this.state.style.size=Math.max(0,Math.min(.5,($pt$$.x-$bounds$$.x)/$bounds$$.width))})];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},
cross:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $m$jscomp$5_size$$=Math.min($bounds$$.width,$bounds$$.height),$m$jscomp$5_size$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"size",$CrossShape$$.prototype.size)))*$m$jscomp$5_size$$/2;return new mxPoint($bounds$$.getCenterX()-$m$jscomp$5_size$$,$bounds$$.getCenterY()-$m$jscomp$5_size$$)},function($bounds$$,$pt$$){var $m$$=Math.min($bounds$$.width,$bounds$$.height);this.state.style.size=Math.max(0,
Math.min(1,Math.min(Math.max(0,$bounds$$.getCenterY()-$pt$$.y)/$m$$*2,Math.max(0,$bounds$$.getCenterX()-$pt$$.x)/$m$$*2)))})]},note:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.width,Math.min($bounds$$.height,parseFloat(mxUtils.getValue(this.state.style,"size",$NoteShape$$.prototype.size)))));return new mxPoint($bounds$$.x+$bounds$$.width-$size$$,$bounds$$.y+$size$$)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,
Math.min(Math.min($bounds$$.width,$bounds$$.x+$bounds$$.width-$pt$$.x),Math.min($bounds$$.height,$pt$$.y-$bounds$$.y))))})]},manualInput:function($state$$){var $handles$$=[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"size",$ManualInputShape$$.prototype.size)));return new mxPoint($bounds$$.x+$bounds$$.width/4,$bounds$$.y+3*$size$$/4)},function($bounds$$,$pt$$){this.state.style.size=Math.round(Math.max(0,Math.min($bounds$$.height,
4*($pt$$.y-$bounds$$.y)/3)))})];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},dataStorage:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$DataStorageShape$$.prototype.size))));return new mxPoint($bounds$$.x+(1-$size$$)*$bounds$$.width,$bounds$$.getCenterY())},function($bounds$$,$pt$$){this.state.style.size=
Math.max(0,Math.min(1,($bounds$$.x+$bounds$$.width-$pt$$.x)/$bounds$$.width))})]},callout:function($state$$){var $handles$$=[$createHandle$$($state$$,["size","position"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"size",$CalloutShape$$.prototype.size))),$position$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",$CalloutShape$$.prototype.position)));mxUtils.getValue(this.state.style,"base",$CalloutShape$$.prototype.base);
return new mxPoint($bounds$$.x+$position$$*$bounds$$.width,$bounds$$.y+$bounds$$.height-$size$$)},function($bounds$$,$pt$$){mxUtils.getValue(this.state.style,"base",$CalloutShape$$.prototype.base);this.state.style.size=Math.round(Math.max(0,Math.min($bounds$$.height,$bounds$$.y+$bounds$$.height-$pt$$.y)));this.state.style.position=Math.round(100*Math.max(0,Math.min(1,($pt$$.x-$bounds$$.x)/$bounds$$.width)))/100}),$createHandle$$($state$$,["position2"],function($bounds$$){var $position2$$=Math.max(0,
Math.min(1,mxUtils.getValue(this.state.style,"position2",$CalloutShape$$.prototype.position2)));return new mxPoint($bounds$$.x+$position2$$*$bounds$$.width,$bounds$$.y+$bounds$$.height)},function($bounds$$,$pt$$){this.state.style.position2=Math.round(100*Math.max(0,Math.min(1,($pt$$.x-$bounds$$.x)/$bounds$$.width)))/100}),$createHandle$$($state$$,["base"],function($bounds$$){var $size$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"size",$CalloutShape$$.prototype.size))),
$position$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",$CalloutShape$$.prototype.position))),$base$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"base",$CalloutShape$$.prototype.base)));return new mxPoint($bounds$$.x+Math.min($bounds$$.width,$position$$*$bounds$$.width+$base$$),$bounds$$.y+$bounds$$.height-$size$$)},function($bounds$$,$pt$$){var $position$$=Math.max(0,Math.min(1,mxUtils.getValue(this.state.style,"position",$CalloutShape$$.prototype.position)));
this.state.style.base=Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x-$position$$*$bounds$$.width)))})];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},internalStorage:function($state$$){var $handles$$=[$createHandle$$($state$$,["dx","dy"],function($bounds$$){var $dx$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"dx",$InternalStorageShape$$.prototype.dx))),$dy$$=Math.max(0,
Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"dy",$InternalStorageShape$$.prototype.dy)));return new mxPoint($bounds$$.x+$dx$$,$bounds$$.y+$dy$$)},function($bounds$$,$pt$$){this.state.style.dx=Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.dy=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))})];mxUtils.getValue($state$$.style,mxConstants.STYLE_ROUNDED,!1)&&$handles$$.push($createArcHandle$$($state$$));return $handles$$},corner:function($state$$){return[$createHandle$$($state$$,
["dx","dy"],function($bounds$$){var $dx$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"dx",$CornerShape$$.prototype.dx))),$dy$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"dy",$CornerShape$$.prototype.dy)));return new mxPoint($bounds$$.x+$dx$$,$bounds$$.y+$dy$$)},function($bounds$$,$pt$$){this.state.style.dx=Math.round(Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x)));this.state.style.dy=Math.round(Math.max(0,Math.min($bounds$$.height,
$pt$$.y-$bounds$$.y)))})]},tee:function($state$$){return[$createHandle$$($state$$,["dx","dy"],function($bounds$$){var $dx$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"dx",$TeeShape$$.prototype.dx))),$dy$$=Math.max(0,Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"dy",$TeeShape$$.prototype.dy)));return new mxPoint($bounds$$.x+($bounds$$.width+$dx$$)/2,$bounds$$.y+$dy$$)},function($bounds$$,$pt$$){this.state.style.dx=Math.round(Math.max(0,2*Math.min($bounds$$.width/
2,$pt$$.x-$bounds$$.x-$bounds$$.width/2)));this.state.style.dy=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))})]},singleArrow:$alpha1_alpha2_createArrowHandleFunction$$(1),doubleArrow:$alpha1_alpha2_createArrowHandleFunction$$(.5),folder:function($state$$){return[$createHandle$$($state$$,["tabWidth","tabHeight"],function($bounds$$){var $tw$$=Math.max(0,Math.min($bounds$$.width,mxUtils.getValue(this.state.style,"tabWidth",$FolderShape$$.prototype.tabWidth))),$th$$=Math.max(0,
Math.min($bounds$$.height,mxUtils.getValue(this.state.style,"tabHeight",$FolderShape$$.prototype.tabHeight)));mxUtils.getValue(this.state.style,"tabPosition",$FolderShape$$.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&($tw$$=$bounds$$.width-$tw$$);return new mxPoint($bounds$$.x+$tw$$,$bounds$$.y+$th$$)},function($bounds$$,$pt$$){var $tw$$=Math.max(0,Math.min($bounds$$.width,$pt$$.x-$bounds$$.x));mxUtils.getValue(this.state.style,"tabPosition",$FolderShape$$.prototype.tabPosition)==mxConstants.ALIGN_RIGHT&&
($tw$$=$bounds$$.width-$tw$$);this.state.style.tabWidth=Math.round($tw$$);this.state.style.tabHeight=Math.round(Math.max(0,Math.min($bounds$$.height,$pt$$.y-$bounds$$.y)))})]},document:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$DocumentShape$$.prototype.size))));return new mxPoint($bounds$$.x+3*$bounds$$.width/4,$bounds$$.y+(1-$size$$)*$bounds$$.height)},function($bounds$$,$pt$$){this.state.style.size=
Math.max(0,Math.min(1,($bounds$$.y+$bounds$$.height-$pt$$.y)/$bounds$$.height))})]},tape:function($state$$){return[$createHandle$$($state$$,["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$TapeShape$$.prototype.size))));return new mxPoint($bounds$$.getCenterX(),$bounds$$.y+$size$$*$bounds$$.height/2)},function($bounds$$,$pt$$){this.state.style.size=Math.max(0,Math.min(1,($pt$$.y-$bounds$$.y)/$bounds$$.height*2))})]},offPageConnector:function($state$$){return[$createHandle$$($state$$,
["size"],function($bounds$$){var $size$$=Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.state.style,"size",$OffPageConnectorShape$$.prototype.size))));return new mxPoint($bounds$$.getCenterX(),$bounds$$.y+(1-$size$$)*$bounds$$.height)},function($bounds$$,$pt$$){this.state.style.size=Math.max(0,Math.min(1,($bounds$$.y+$bounds$$.height-$pt$$.y)/$bounds$$.height))})]},step:$createDisplayHandleFunction$$($StepShape$$.prototype.size,!0,null,!0,$StepShape$$.prototype.fixedSize),hexagon:$createDisplayHandleFunction$$($HexagonShape$$.prototype.size,
!0,.5,!0),curlyBracket:$createDisplayHandleFunction$$($CurlyBracketShape$$.prototype.size,!1),display:$createDisplayHandleFunction$$($DisplayShape$$.prototype.size,!1),cube:$createCubeHandleFunction$$(1,$CubeShape$$.prototype.size,!1),card:$createCubeHandleFunction$$(.5,$CardShape$$.prototype.size,!0),loopLimit:$createCubeHandleFunction$$(.5,$LoopLimitShape$$.prototype.size,!0),trapezoid:$createTrapezoidHandleFunction$$(.5),parallelogram:$createTrapezoidHandleFunction$$(1)};Graph.createHandle=$createHandle$$;
Graph.handleFactory=$handleFactory$$;mxVertexHandler.prototype.createCustomHandles=function $mxVertexHandler$$createCustomHandles$(){if(1==this.state.view.graph.getSelectionCount()&&this.graph.isCellRotatable(this.state.cell)){var $fn$jscomp$6_name$$=this.state.style.shape;null==mxCellRenderer.defaultShapes[$fn$jscomp$6_name$$]&&null==mxStencilRegistry.getStencil($fn$jscomp$6_name$$)&&($fn$jscomp$6_name$$=mxConstants.SHAPE_RECTANGLE);$fn$jscomp$6_name$$=$handleFactory$$[$fn$jscomp$6_name$$];null==
$fn$jscomp$6_name$$&&null!=this.state.shape&&this.state.shape.isRoundable()&&($fn$jscomp$6_name$$=$handleFactory$$[mxConstants.SHAPE_RECTANGLE]);if(null!=$fn$jscomp$6_name$$)return $fn$jscomp$6_name$$(this.state)}return null};mxEdgeHandler.prototype.createCustomHandles=function $mxEdgeHandler$$createCustomHandles$(){if(1==this.state.view.graph.getSelectionCount()){var $fn$jscomp$7_name$$=this.state.style.shape;null==mxCellRenderer.defaultShapes[$fn$jscomp$7_name$$]&&null==mxStencilRegistry.getStencil($fn$jscomp$7_name$$)&&
($fn$jscomp$7_name$$=mxConstants.SHAPE_CONNECTOR);$fn$jscomp$7_name$$=$handleFactory$$[$fn$jscomp$7_name$$];if(null!=$fn$jscomp$7_name$$)return $fn$jscomp$7_name$$(this.state)}return null}}else Graph.createHandle=function $Graph$createHandle$(){},Graph.handleFactory={};var $isoHVector$$=new mxPoint(1,0),$isoVVector$$=new mxPoint(1,0),$alpha1_alpha2_createArrowHandleFunction$$=mxUtils.toRadians(-30),$isoHVector$$=mxUtils.getRotatedPoint($isoHVector$$,Math.cos($alpha1_alpha2_createArrowHandleFunction$$),
Math.sin($alpha1_alpha2_createArrowHandleFunction$$)),$alpha1_alpha2_createArrowHandleFunction$$=mxUtils.toRadians(-150),$isoVVector$$=mxUtils.getRotatedPoint($isoVVector$$,Math.cos($alpha1_alpha2_createArrowHandleFunction$$),Math.sin($alpha1_alpha2_createArrowHandleFunction$$));mxEdgeStyle.IsometricConnector=function $mxEdgeStyle$IsometricConnector$($isoLineTo_state$$,$source$$,$target$$,$points$jscomp$4_pt$$,$result$$){var $view$$=$isoLineTo_state$$.view;$points$jscomp$4_pt$$=null!=$points$jscomp$4_pt$$&&
0<$points$jscomp$4_pt$$.length?$points$jscomp$4_pt$$[0]:null;var $pe$jscomp$7_pts$$=$isoLineTo_state$$.absolutePoints,$p0$$=$pe$jscomp$7_pts$$[0],$pe$jscomp$7_pts$$=$pe$jscomp$7_pts$$[$pe$jscomp$7_pts$$.length-1];null!=$points$jscomp$4_pt$$&&($points$jscomp$4_pt$$=$view$$.transformControlPoint($isoLineTo_state$$,$points$jscomp$4_pt$$));null==$p0$$&&null!=$source$$&&($p0$$=new mxPoint($source$$.getCenterX(),$source$$.getCenterY()));null==$pe$jscomp$7_pts$$&&null!=$target$$&&($pe$jscomp$7_pts$$=new mxPoint($target$$.getCenterX(),
$target$$.getCenterY()));var $a1$$=$isoHVector$$.x,$a2$$=$isoHVector$$.y,$b1$$=$isoVVector$$.x,$b2$$=$isoVVector$$.y,$elbow$$="horizontal"==mxUtils.getValue($isoLineTo_state$$.style,"elbow","horizontal");if(null!=$pe$jscomp$7_pts$$&&null!=$p0$$){$isoLineTo_state$$=function $$isoLineTo_state$$$($c1_v_x$$,$h$jscomp$91_y$$,$ignoreFirst$$){$c1_v_x$$-=$last$$.x;var $c2$$=$h$jscomp$91_y$$-$last$$.y;$h$jscomp$91_y$$=($b2$$*$c1_v_x$$-$b1$$*$c2$$)/($a1$$*$b2$$-$a2$$*$b1$$);$c1_v_x$$=($a2$$*$c1_v_x$$-$a1$$*
$c2$$)/($a2$$*$b1$$-$a1$$*$b2$$);$elbow$$?($ignoreFirst$$&&($last$$=new mxPoint($last$$.x+$a1$$*$h$jscomp$91_y$$,$last$$.y+$a2$$*$h$jscomp$91_y$$),$result$$.push($last$$)),$last$$=new mxPoint($last$$.x+$b1$$*$c1_v_x$$,$last$$.y+$b2$$*$c1_v_x$$)):($ignoreFirst$$&&($last$$=new mxPoint($last$$.x+$b1$$*$c1_v_x$$,$last$$.y+$b2$$*$c1_v_x$$),$result$$.push($last$$)),$last$$=new mxPoint($last$$.x+$a1$$*$h$jscomp$91_y$$,$last$$.y+$a2$$*$h$jscomp$91_y$$));$result$$.push($last$$)};var $last$$=$p0$$;null==$points$jscomp$4_pt$$&&
($points$jscomp$4_pt$$=new mxPoint($p0$$.x+($pe$jscomp$7_pts$$.x-$p0$$.x)/2,$p0$$.y+($pe$jscomp$7_pts$$.y-$p0$$.y)/2));$isoLineTo_state$$($points$jscomp$4_pt$$.x,$points$jscomp$4_pt$$.y,!0);$isoLineTo_state$$($pe$jscomp$7_pts$$.x,$pe$jscomp$7_pts$$.y,!1)}};mxStyleRegistry.putValue("isometricEdgeStyle",mxEdgeStyle.IsometricConnector);var $graphCreateEdgeHandler$$=Graph.prototype.createEdgeHandler;Graph.prototype.createEdgeHandler=function $Graph$$createEdgeHandler$($state$$,$edgeStyle$$){if($edgeStyle$$==
mxEdgeStyle.IsometricConnector){var $handler$$=new mxElbowEdgeHandler($state$$);$handler$$.snapToTerminals=!1;return $handler$$}return $graphCreateEdgeHandler$$.apply(this,arguments)};$IsoRectangleShape$$.prototype.constraints=[];$IsoCubeShape$$.prototype.getConstraints=function $$IsoCubeShape$$$$getConstraints$($constr_style$$,$dx$jscomp$46_w$$,$dy$jscomp$42_h$$){$constr_style$$=[];var $m$jscomp$7_tan30$$=Math.tan(mxUtils.toRadians(30)),$tan30Dx$$=(.5-$m$jscomp$7_tan30$$)/2,$m$jscomp$7_tan30$$=Math.min($dx$jscomp$46_w$$,
$dy$jscomp$42_h$$/(.5+$m$jscomp$7_tan30$$));$dx$jscomp$46_w$$=($dx$jscomp$46_w$$-$m$jscomp$7_tan30$$)/2;$dy$jscomp$42_h$$=($dy$jscomp$42_h$$-$m$jscomp$7_tan30$$)/2;$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$46_w$$,$dy$jscomp$42_h$$+.25*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$46_w$$+.5*$m$jscomp$7_tan30$$,$dy$jscomp$42_h$$+$m$jscomp$7_tan30$$*$tan30Dx$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$dx$jscomp$46_w$$+$m$jscomp$7_tan30$$,$dy$jscomp$42_h$$+.25*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$46_w$$+$m$jscomp$7_tan30$$,$dy$jscomp$42_h$$+.75*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$46_w$$+.5*$m$jscomp$7_tan30$$,$dy$jscomp$42_h$$+(1-$tan30Dx$$)*$m$jscomp$7_tan30$$));$constr_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$jscomp$46_w$$,
$dy$jscomp$42_h$$+.75*$m$jscomp$7_tan30$$));return $constr_style$$};$CalloutShape$$.prototype.getConstraints=function $$CalloutShape$$$$getConstraints$($constr$jscomp$1_style$$,$w$$,$h$$){$constr$jscomp$1_style$$=[];mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE);var $s$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size))));parseFloat(mxUtils.getValue(this.style,"position",this.position));var $dx2$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,
"position2",this.position2))));parseFloat(mxUtils.getValue(this.style,"base",this.base));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(.25,0),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(.75,0),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$,.5*($h$$-$s$$)));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$h$$-$s$$));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx2$$,$h$$));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$-$s$$));$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*($h$$-$s$$)));$w$$>=2*$s$$&&$constr$jscomp$1_style$$.push(new mxConnectionConstraint(new mxPoint(.5,
0),!1));return $constr$jscomp$1_style$$};mxRectangleShape.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,
.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0)];mxEllipse.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!0),new mxConnectionConstraint(new mxPoint(1,0),!0),new mxConnectionConstraint(new mxPoint(0,1),!0),new mxConnectionConstraint(new mxPoint(1,1),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(0,
.5),!0),new mxConnectionConstraint(new mxPoint(1,.5))];mxLabel.prototype.constraints=mxRectangleShape.prototype.constraints;mxImageShape.prototype.constraints=mxRectangleShape.prototype.constraints;mxSwimlane.prototype.constraints=mxRectangleShape.prototype.constraints;$PlusShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$NoteShape$$.prototype.getConstraints=function $$NoteShape$$$$getConstraints$($constr$jscomp$2_style$$,$w$$,$h$$){$constr$jscomp$2_style$$=[];var $s$$=Math.max(0,
Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$s$$),0));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$s$$,0));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-.5*$s$$,.5*$s$$));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$,$s$$));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*($h$$+$s$$)));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(1,1),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,1),!1));$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$w$$>=2*$s$$&&$constr$jscomp$2_style$$.push(new mxConnectionConstraint(new mxPoint(.5,
0),!1));return $constr$jscomp$2_style$$};$CardShape$$.prototype.getConstraints=function $$CardShape$$$$getConstraints$($constr$jscomp$3_style$$,$w$$,$h$$){$constr$jscomp$3_style$$=[];var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$s$$),0));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$s$$,0));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$s$$,.5*$s$$));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$s$$));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*($h$$+$s$$)));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(0,1),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(1,
1),!1));$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$w$$>=2*$s$$&&$constr$jscomp$3_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));return $constr$jscomp$3_style$$};$CubeShape$$.prototype.getConstraints=function $$CubeShape$$$$getConstraints$($constr$jscomp$4_style$$,$w$$,$h$$){$constr$jscomp$4_style$$=[];var $s$$=Math.max(0,Math.min($w$$,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"size",this.size)))));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$s$$),0));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$s$$,0));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-.5*$s$$,.5*$s$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$s$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*($h$$+$s$$)));
$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(1,1),!1));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$s$$),$h$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$s$$,$h$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$s$$,$h$$-.5*$s$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$-$s$$));$constr$jscomp$4_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,.5*($h$$-$s$$)));return $constr$jscomp$4_style$$};$FolderShape$$.prototype.getConstraints=function $$FolderShape$$$$getConstraints$($constr$jscomp$5_style$$,$w$$,$h$$){$constr$jscomp$5_style$$=[];var $dx$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"tabWidth",this.tabWidth)))),$dy$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"tabHeight",this.tabHeight))));"left"==mxUtils.getValue(this.style,"tabPosition",this.tabPosition)?($constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$dx$$,0)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,0)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,$dy$$)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),$dy$$))):($constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$-.5*$dx$$,0)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$dx$$,0)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$dx$$,$dy$$)),$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),$dy$$)));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),
!1,null,$w$$,.25*($h$$-$dy$$)+$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*($h$$-$dy$$)+$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.75*($h$$-$dy$$)+$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$h$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,.25*($h$$-$dy$$)+$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*($h$$-$dy$$)+$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.75*($h$$-$dy$$)+$dy$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$h$$));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(.25,1),!1));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),
!1));$constr$jscomp$5_style$$.push(new mxConnectionConstraint(new mxPoint(.75,1),!1));return $constr$jscomp$5_style$$};$InternalStorageShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DataStorageShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$TapeDataShape$$.prototype.constraints=mxEllipse.prototype.constraints;$OrEllipseShape$$.prototype.constraints=mxEllipse.prototype.constraints;$SumEllipseShape$$.prototype.constraints=mxEllipse.prototype.constraints;
$LineEllipseShape$$.prototype.constraints=mxEllipse.prototype.constraints;$ManualInputShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DelayShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DisplayShape$$.prototype.getConstraints=function $$DisplayShape$$$$getConstraints$($constr$jscomp$6_style$$,$w$$,$h$$){$constr$jscomp$6_style$$=[];var $dx$$=Math.min($w$$,$h$$/2),$s$$=Math.min($w$$-$dx$$,Math.max(0,parseFloat(mxUtils.getValue(this.style,"size",this.size)))*
$w$$);$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1,null));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$s$$,0));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($s$$+$w$$-$dx$$),0));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$dx$$,0));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1,null));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$w$$-$dx$$,$h$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($s$$+$w$$-$dx$$),$h$$));$constr$jscomp$6_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$s$$,$h$$));return $constr$jscomp$6_style$$};$LoopLimitShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$OffPageConnectorShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;mxCylinder.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.15,
.05),!1),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.85,.05),!1),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.3),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.7),!0),new mxConnectionConstraint(new mxPoint(.15,.95),!1),new mxConnectionConstraint(new mxPoint(.5,1),
!0),new mxConnectionConstraint(new mxPoint(.85,.95),!1)];$UmlActorShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.1),!1),new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.75,.1),!1),new mxConnectionConstraint(new mxPoint(0,1/3),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(1,1/3),!1),new mxConnectionConstraint(new mxPoint(1,1),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1)];$ComponentShape$$.prototype.constraints=
[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.3),!0),new mxConnectionConstraint(new mxPoint(0,.7),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,
1),!0)];mxActor.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.25,.2),!1),new mxConnectionConstraint(new mxPoint(.1,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.75,.25),!1),new mxConnectionConstraint(new mxPoint(.9,.5),!1),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,
1),!0)];$SwitchShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(.5,.25),!1),new mxConnectionConstraint(new mxPoint(1,0),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.5,.75),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)];$TapeShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,
.35),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.65),!1),new mxConnectionConstraint(new mxPoint(1,.35),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,.65),!1),new mxConnectionConstraint(new mxPoint(.25,1),!1),new mxConnectionConstraint(new mxPoint(.75,0),!1)];$StepShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,
0),!0),new mxConnectionConstraint(new mxPoint(.25,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.75,1),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)];mxLine.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,
.5),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)];$LollipopShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.5,0),!1),new mxConnectionConstraint(new mxPoint(.5,1),!1)];mxDoubleEllipse.prototype.constraints=mxEllipse.prototype.constraints;mxRhombus.prototype.constraints=mxEllipse.prototype.constraints;mxTriangle.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,
.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0)];mxHexagon.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.375,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.625,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,
.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0),new mxConnectionConstraint(new mxPoint(.375,1),!0),new mxConnectionConstraint(new mxPoint(.5,1),!0),new mxConnectionConstraint(new mxPoint(.625,1),!0)];mxCloud.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,.25),!1),new mxConnectionConstraint(new mxPoint(.4,.1),!1),new mxConnectionConstraint(new mxPoint(.16,
.55),!1),new mxConnectionConstraint(new mxPoint(.07,.4),!1),new mxConnectionConstraint(new mxPoint(.31,.8),!1),new mxConnectionConstraint(new mxPoint(.13,.77),!1),new mxConnectionConstraint(new mxPoint(.8,.8),!1),new mxConnectionConstraint(new mxPoint(.55,.95),!1),new mxConnectionConstraint(new mxPoint(.875,.5),!1),new mxConnectionConstraint(new mxPoint(.96,.7),!1),new mxConnectionConstraint(new mxPoint(.625,.2),!1),new mxConnectionConstraint(new mxPoint(.88,.25),!1)];$ParallelogramShape$$.prototype.constraints=
mxRectangleShape.prototype.constraints;$TrapezoidShape$$.prototype.constraints=mxRectangleShape.prototype.constraints;$DocumentShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.25,0),!0),new mxConnectionConstraint(new mxPoint(.5,0),!0),new mxConnectionConstraint(new mxPoint(.75,0),!0),new mxConnectionConstraint(new mxPoint(0,.25),!0),new mxConnectionConstraint(new mxPoint(0,.5),!0),new mxConnectionConstraint(new mxPoint(0,.75),!0),new mxConnectionConstraint(new mxPoint(1,.25),
!0),new mxConnectionConstraint(new mxPoint(1,.5),!0),new mxConnectionConstraint(new mxPoint(1,.75),!0)];mxArrow.prototype.constraints=null;$TeeShape$$.prototype.getConstraints=function $$TeeShape$$$$getConstraints$($constr$jscomp$7_style$$,$w$$,$h$$){$constr$jscomp$7_style$$=[];var $dx$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),$dy$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(1,0),!1));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.75*$w$$+.25*$dx$$,$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$+$dx$$),$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),.5*($h$$+$dy$$)));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),$h$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),$h$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$-$dx$$),.5*($h$$+$dy$$)));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$dx$$),$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.25*$w$$-.25*$dx$$,$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$dy$$));$constr$jscomp$7_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,.5*$dy$$));return $constr$jscomp$7_style$$};$CornerShape$$.prototype.getConstraints=
function $$CornerShape$$$$getConstraints$($constr$jscomp$8_style$$,$w$$,$h$$){$constr$jscomp$8_style$$=[];var $dx$$=Math.max(0,Math.min($w$$,parseFloat(mxUtils.getValue(this.style,"dx",this.dx)))),$dy$$=Math.max(0,Math.min($h$$,parseFloat(mxUtils.getValue(this.style,"dy",this.dy))));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(1,
0),!1));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,.5*$dy$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$dy$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$dx$$),$dy$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,$dy$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,.5*($h$$+$dy$$)));
$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$dx$$,$h$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$dx$$,$h$$));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$8_style$$.push(new mxConnectionConstraint(new mxPoint(0,1),!1));return $constr$jscomp$8_style$$};$CrossbarShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,0),!1),new mxConnectionConstraint(new mxPoint(0,
.5),!1),new mxConnectionConstraint(new mxPoint(0,1),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.5,.5),!1),new mxConnectionConstraint(new mxPoint(.75,.5),!1),new mxConnectionConstraint(new mxPoint(1,0),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(1,1),!1)];$SingleArrowShape$$.prototype.getConstraints=function $$SingleArrowShape$$$$getConstraints$($constr$jscomp$9_style$$,$w$$,$h$$){$constr$jscomp$9_style$$=
[];var $at$jscomp$2_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",this.arrowWidth)))),$as$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",this.arrowSize)))),$at$jscomp$2_aw$$=($h$$-$at$jscomp$2_aw$$)/2;$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$at$jscomp$2_aw$$));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$-$as$$),$at$jscomp$2_aw$$));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,0));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,$h$$));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$-$as$$),$h$$-$at$jscomp$2_aw$$));$constr$jscomp$9_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,$h$$-$at$jscomp$2_aw$$));return $constr$jscomp$9_style$$};$DoubleArrowShape$$.prototype.getConstraints=function $$DoubleArrowShape$$$$getConstraints$($constr$jscomp$10_style$$,$w$$,$h$$){$constr$jscomp$10_style$$=[];var $at$jscomp$3_aw$$=$h$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowWidth",$SingleArrowShape$$.prototype.arrowWidth)))),$as$$=$w$$*Math.max(0,Math.min(1,parseFloat(mxUtils.getValue(this.style,"arrowSize",$SingleArrowShape$$.prototype.arrowSize)))),
$at$jscomp$3_aw$$=($h$$-$at$jscomp$3_aw$$)/2;$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$as$$,0));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$w$$,$at$jscomp$3_aw$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,0));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),
!1));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$-$as$$,$h$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$w$$,$h$$-$at$jscomp$3_aw$$));$constr$jscomp$10_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$as$$,$h$$));return $constr$jscomp$10_style$$};$CrossShape$$.prototype.getConstraints=function $$CrossShape$$$$getConstraints$($constr$jscomp$11_style$$,$w$$,$h$$){$constr$jscomp$11_style$$=[];var $m$jscomp$8_t$$=
Math.min($h$$,$w$$),$r$jscomp$6_size$$=Math.max(0,Math.min($m$jscomp$8_t$$,$m$jscomp$8_t$$*parseFloat(mxUtils.getValue(this.style,"size",this.size)))),$m$jscomp$8_t$$=($h$$-$r$jscomp$6_size$$)/2,$b$$=$m$jscomp$8_t$$+$r$jscomp$6_size$$,$l$$=($w$$-$r$jscomp$6_size$$)/2,$r$jscomp$6_size$$=$l$$+$r$jscomp$6_size$$;$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,.5*$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,
$l$$,0));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(.5,0),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$6_size$$,0));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$6_size$$,.5*$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$6_size$$,$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$l$$,$h$$-.5*$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,$h$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(.5,1),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$6_size$$,$h$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$r$jscomp$6_size$$,$h$$-.5*$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,$r$jscomp$6_size$$,$b$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*($w$$+$r$jscomp$6_size$$),$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(1,.5),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$w$$,$b$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,.5*($w$$+$r$jscomp$6_size$$),$b$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,$b$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$l$$,$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,0,$m$jscomp$8_t$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,.5),!1));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,
0),!1,null,0,$b$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,.5*$l$$,$b$$));$constr$jscomp$11_style$$.push(new mxConnectionConstraint(new mxPoint(0,0),!1,null,$l$$,$m$jscomp$8_t$$));return $constr$jscomp$11_style$$};$UmlLifeline$$.prototype.constraints=null;$OrShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.25),!1),new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(0,.75),!1),new mxConnectionConstraint(new mxPoint(1,
.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)];$XorShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(.175,.25),!1),new mxConnectionConstraint(new mxPoint(.25,.5),!1),new mxConnectionConstraint(new mxPoint(.175,.75),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1),new mxConnectionConstraint(new mxPoint(.7,.1),!1),new mxConnectionConstraint(new mxPoint(.7,.9),!1)];$RequiredInterfaceShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,
.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)];$ProvidedRequiredInterfaceShape$$.prototype.constraints=[new mxConnectionConstraint(new mxPoint(0,.5),!1),new mxConnectionConstraint(new mxPoint(1,.5),!1)]})();function Actions($editorUi$$){this.editorUi=$editorUi$$;this.actions={};this.init()}
Actions.prototype.init=function $Actions$$init$(){function $deleteCells$$($includeEdges_select$$){$graph$jscomp$0$$.escape();var $cells$jscomp$32_i$$=$graph$jscomp$0$$.getDeletableCells($graph$jscomp$0$$.getSelectionCells());if(null!=$cells$jscomp$32_i$$&&0<$cells$jscomp$32_i$$.length){var $parents$$=$graph$jscomp$0$$.model.getParents($cells$jscomp$32_i$$);$graph$jscomp$0$$.removeCells($cells$jscomp$32_i$$,$includeEdges_select$$);if(null!=$parents$$){$includeEdges_select$$=[];for($cells$jscomp$32_i$$=
0;$cells$jscomp$32_i$$<$parents$$.length;$cells$jscomp$32_i$$++)$graph$jscomp$0$$.model.contains($parents$$[$cells$jscomp$32_i$$])&&($graph$jscomp$0$$.model.isVertex($parents$$[$cells$jscomp$32_i$$])||$graph$jscomp$0$$.model.isEdge($parents$$[$cells$jscomp$32_i$$]))&&$includeEdges_select$$.push($parents$$[$cells$jscomp$32_i$$]);$graph$jscomp$0$$.setSelectionCells($includeEdges_select$$)}}}var $ui$$=this.editorUi,$editor$$=$ui$$.editor,$graph$jscomp$0$$=$editor$$.graph,$isGraphEnabled$$=function $$isGraphEnabled$$$(){return Action.prototype.isEnabled.apply(this,
arguments)&&$graph$jscomp$0$$.isEnabled()};this.addAction("new...",function(){$graph$jscomp$0$$.openLink($ui$$.getUrl())});this.addAction("open...",function(){window.openNew=!0;window.openKey="open";$ui$$.openFile()});this.addAction("import...",function(){window.openNew=!1;window.openKey="import";window.openFile=new OpenFile(mxUtils.bind(this,function(){$ui$$.hideDialog()}));window.openFile.setConsumer(mxUtils.bind(this,function($xml$$,$filename$$){try{var $doc$$=mxUtils.parseXml($xml$$);$editor$$.graph.setSelectionCells($editor$$.graph.importGraphModel($doc$$.documentElement))}catch($e$$){mxUtils.alert(mxResources.get("invalidOrMissingFile")+
": "+$e$$.message)}}));$ui$$.showDialog((new OpenDialog(this)).container,320,220,!0,!0,function(){window.openFile=null})}).isEnabled=$isGraphEnabled$$;this.addAction("save",function(){$ui$$.saveFile(!1)},null,null,Editor.ctrlKey+"+S").isEnabled=$isGraphEnabled$$;this.addAction("saveAs...",function(){$ui$$.saveFile(!0)},null,null,Editor.ctrlKey+"+Shift+S").isEnabled=$isGraphEnabled$$;this.addAction("export...",function(){$ui$$.showDialog((new ExportDialog($ui$$)).container,300,230,!0,!0)});this.addAction("editDiagram...",
function(){var $dlg$$=new EditDiagramDialog($ui$$);$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()});this.addAction("pageSetup...",function(){$ui$$.showDialog((new PageSetupDialog($ui$$)).container,320,220,!0,!0)}).isEnabled=$isGraphEnabled$$;this.addAction("print...",function(){$ui$$.showDialog((new PrintDialog($ui$$)).container,300,180,!0,!0)},null,"sprite-print",Editor.ctrlKey+"+P");this.addAction("preview",function(){mxUtils.show($graph$jscomp$0$$,null,10,10)});this.addAction("undo",
function(){$ui$$.undo()},null,"sprite-undo",Editor.ctrlKey+"+Z");this.addAction("redo",function(){$ui$$.redo()},null,"sprite-redo",mxClient.IS_WIN?Editor.ctrlKey+"+Y":Editor.ctrlKey+"+Shift+Z");this.addAction("cut",function(){mxClipboard.cut($graph$jscomp$0$$)},null,"sprite-cut",Editor.ctrlKey+"+X");this.addAction("copy",function(){mxClipboard.copy($graph$jscomp$0$$)},null,"sprite-copy",Editor.ctrlKey+"+C");this.addAction("paste",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&
mxClipboard.paste($graph$jscomp$0$$)},!1,"sprite-paste",Editor.ctrlKey+"+V");this.addAction("pasteHere",function($evt$jscomp$146_includeEdges$$){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())){$graph$jscomp$0$$.getModel().beginUpdate();try{var $cells$$=mxClipboard.paste($graph$jscomp$0$$);if(null!=$cells$$){$evt$jscomp$146_includeEdges$$=!0;for(var $i$$=0;$i$$<$cells$$.length&&$evt$jscomp$146_includeEdges$$;$i$$++)$evt$jscomp$146_includeEdges$$=
$evt$jscomp$146_includeEdges$$&&$graph$jscomp$0$$.model.isEdge($cells$$[$i$$]);var $bb$jscomp$2_t$$=$graph$jscomp$0$$.view.translate,$s$$=$graph$jscomp$0$$.view.scale,$dx$$=$bb$jscomp$2_t$$.x,$dy$$=$bb$jscomp$2_t$$.y,$bb$jscomp$2_t$$=null;if(1==$cells$$.length&&$evt$jscomp$146_includeEdges$$){var $geo$$=$graph$jscomp$0$$.getCellGeometry($cells$$[0]);null!=$geo$$&&($bb$jscomp$2_t$$=$geo$$.getTerminalPoint(!0))}$bb$jscomp$2_t$$=null!=$bb$jscomp$2_t$$?$bb$jscomp$2_t$$:$graph$jscomp$0$$.getBoundingBoxFromGeometry($cells$$,
$evt$jscomp$146_includeEdges$$);if(null!=$bb$jscomp$2_t$$){var $x$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerX/$s$$-$dx$$)),$y$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerY/$s$$-$dy$$));$graph$jscomp$0$$.cellsMoved($cells$$,$x$$-$bb$jscomp$2_t$$.x,$y$$-$bb$jscomp$2_t$$.y)}}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}});this.addAction("copySize",function($cell$jscomp$57_evt$jscomp$147_geo$$){$cell$jscomp$57_evt$jscomp$147_geo$$=
$graph$jscomp$0$$.getSelectionCell();$graph$jscomp$0$$.isEnabled()&&null!=$cell$jscomp$57_evt$jscomp$147_geo$$&&$graph$jscomp$0$$.getModel().isVertex($cell$jscomp$57_evt$jscomp$147_geo$$)&&($cell$jscomp$57_evt$jscomp$147_geo$$=$graph$jscomp$0$$.getCellGeometry($cell$jscomp$57_evt$jscomp$147_geo$$),null!=$cell$jscomp$57_evt$jscomp$147_geo$$&&($ui$$.copiedSize=new mxRectangle($cell$jscomp$57_evt$jscomp$147_geo$$.x,$cell$jscomp$57_evt$jscomp$147_geo$$.y,$cell$jscomp$57_evt$jscomp$147_geo$$.width,$cell$jscomp$57_evt$jscomp$147_geo$$.height)))},
null,null,"Alt+Shit+X");this.addAction("pasteSize",function($evt$jscomp$148_i$$){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isSelectionEmpty()&&null!=$ui$$.copiedSize){$graph$jscomp$0$$.getModel().beginUpdate();try{var $cells$$=$graph$jscomp$0$$.getSelectionCells();for($evt$jscomp$148_i$$=0;$evt$jscomp$148_i$$<$cells$$.length;$evt$jscomp$148_i$$++)if($graph$jscomp$0$$.getModel().isVertex($cells$$[$evt$jscomp$148_i$$])){var $geo$$=$graph$jscomp$0$$.getCellGeometry($cells$$[$evt$jscomp$148_i$$]);
null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.width=$ui$$.copiedSize.width,$geo$$.height=$ui$$.copiedSize.height,$graph$jscomp$0$$.getModel().setGeometry($cells$$[$evt$jscomp$148_i$$],$geo$$))}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,"Alt+Shit+V");this.addAction("delete",function($evt$$){$deleteCells$$(null!=$evt$$&&mxEvent.isShiftDown($evt$$))},null,null,"Delete");this.addAction("deleteAll",function(){$deleteCells$$(!0)},null,null,Editor.ctrlKey+"+Delete");this.addAction("duplicate",
function(){$graph$jscomp$0$$.setSelectionCells($graph$jscomp$0$$.duplicateCells())},null,null,Editor.ctrlKey+"+D");this.put("turn",new Action(mxResources.get("turn")+" / "+mxResources.get("reverse"),function(){$graph$jscomp$0$$.turnShapes($graph$jscomp$0$$.getSelectionCells())},null,null,Editor.ctrlKey+"+R"));this.addAction("selectVertices",function(){$graph$jscomp$0$$.selectVertices()},null,null,Editor.ctrlKey+"+Shift+I");this.addAction("selectEdges",function(){$graph$jscomp$0$$.selectEdges()},null,
null,Editor.ctrlKey+"+Shift+E");this.addAction("selectAll",function(){$graph$jscomp$0$$.selectAll(null,!0)},null,null,Editor.ctrlKey+"+A");this.addAction("selectNone",function(){$graph$jscomp$0$$.clearSelection()},null,null,Editor.ctrlKey+"+Shift+A");this.addAction("lockUnlock",function(){if(!$graph$jscomp$0$$.isSelectionEmpty()){$graph$jscomp$0$$.getModel().beginUpdate();try{var $defaultValue$$=$graph$jscomp$0$$.isCellMovable($graph$jscomp$0$$.getSelectionCell())?1:0;$graph$jscomp$0$$.toggleCellStyles(mxConstants.STYLE_MOVABLE,
$defaultValue$$);$graph$jscomp$0$$.toggleCellStyles(mxConstants.STYLE_RESIZABLE,$defaultValue$$);$graph$jscomp$0$$.toggleCellStyles(mxConstants.STYLE_ROTATABLE,$defaultValue$$);$graph$jscomp$0$$.toggleCellStyles(mxConstants.STYLE_DELETABLE,$defaultValue$$);$graph$jscomp$0$$.toggleCellStyles(mxConstants.STYLE_EDITABLE,$defaultValue$$);$graph$jscomp$0$$.toggleCellStyles("connectable",$defaultValue$$)}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,Editor.ctrlKey+"+L");this.addAction("home",
function(){$graph$jscomp$0$$.home()},null,null,"Home");this.addAction("exitGroup",function(){$graph$jscomp$0$$.exitGroup()},null,null,Editor.ctrlKey+"+Shift+Home");this.addAction("enterGroup",function(){$graph$jscomp$0$$.enterGroup()},null,null,Editor.ctrlKey+"+Shift+End");this.addAction("collapse",function(){$graph$jscomp$0$$.foldCells(!0)},null,null,Editor.ctrlKey+"+Home");this.addAction("expand",function(){$graph$jscomp$0$$.foldCells(!1)},null,null,Editor.ctrlKey+"+End");this.addAction("toFront",
function(){$graph$jscomp$0$$.orderCells(!1)},null,null,Editor.ctrlKey+"+Shift+F");this.addAction("toBack",function(){$graph$jscomp$0$$.orderCells(!0)},null,null,Editor.ctrlKey+"+Shift+B");this.addAction("group",function(){1==$graph$jscomp$0$$.getSelectionCount()?$graph$jscomp$0$$.setCellStyles("container","1"):$graph$jscomp$0$$.setSelectionCell($graph$jscomp$0$$.groupCells(null,0))},null,null,Editor.ctrlKey+"+G");this.addAction("ungroup",function(){1==$graph$jscomp$0$$.getSelectionCount()&&0==$graph$jscomp$0$$.getModel().getChildCount($graph$jscomp$0$$.getSelectionCell())?
$graph$jscomp$0$$.setCellStyles("container","0"):$graph$jscomp$0$$.setSelectionCells($graph$jscomp$0$$.ungroupCells())},null,null,Editor.ctrlKey+"+Shift+U");this.addAction("removeFromGroup",function(){$graph$jscomp$0$$.removeCellsFromParent()});this.addAction("edit",function(){$graph$jscomp$0$$.isEnabled()&&$graph$jscomp$0$$.startEditingAtCell()},null,null,"F2/Enter");this.addAction("editTooltip...",function(){var $graph$$=$ui$$.editor.graph;if($graph$$.isEnabled()&&!$graph$$.isSelectionEmpty()){var $cell$$=
$graph$$.getSelectionCell(),$dlg$jscomp$6_tooltip$$="";if(mxUtils.isNode($cell$$.value)){var $tmp$$=$cell$$.value.getAttribute("tooltip");null!=$tmp$$&&($dlg$jscomp$6_tooltip$$=$tmp$$)}$dlg$jscomp$6_tooltip$$=new TextareaDialog($ui$$,mxResources.get("editTooltip")+":",$dlg$jscomp$6_tooltip$$,function($newValue$$){$graph$$.setTooltipForCell($cell$$,$newValue$$)});$ui$$.showDialog($dlg$jscomp$6_tooltip$$.container,320,200,!0,!0);$dlg$jscomp$6_tooltip$$.init()}},null,null,"Alt+Shift+T");this.addAction("openLink",
function(){var $link$$=$graph$jscomp$0$$.getLinkForCell($graph$jscomp$0$$.getSelectionCell());null!=$link$$&&$graph$jscomp$0$$.openLink($link$$)});this.addAction("editLink...",function(){var $graph$$=$ui$$.editor.graph;if($graph$$.isEnabled()&&!$graph$$.isSelectionEmpty()){var $cell$$=$graph$$.getSelectionCell(),$value$$=$graph$$.getLinkForCell($cell$$)||"";$ui$$.showLinkDialog($value$$,mxResources.get("apply"),function($link$$){$link$$=mxUtils.trim($link$$);$graph$$.setLinkForCell($cell$$,0<$link$$.length?
$link$$:null)})}},null,null,"Alt+Shift+L");this.put("insertImage",new Action(mxResources.get("image")+"...",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&($graph$jscomp$0$$.clearSelection(),$ui$$.actions.get("image").funct())})).isEnabled=$isGraphEnabled$$;this.put("insertLink",new Action(mxResources.get("link")+"...",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&$ui$$.showLinkDialog("",
mxResources.get("insert"),function($link$$,$docs$$){$link$$=mxUtils.trim($link$$);if(0<$link$$.length){var $icon_linkCell$$=null,$title$$=$graph$jscomp$0$$.getLinkTitle($link$$);null!=$docs$$&&0<$docs$$.length&&($icon_linkCell$$=$docs$$[0].iconUrl,$title$$=$docs$$[0].name||$docs$$[0].type,$title$$=$title$$.charAt(0).toUpperCase()+$title$$.substring(1),30<$title$$.length&&($title$$=$title$$.substring(0,30)+"..."));var $pt$$=$graph$jscomp$0$$.getFreeInsertPoint(),$icon_linkCell$$=new mxCell($title$$,
new mxGeometry($pt$$.x,$pt$$.y,100,40),"fontColor=#0000EE;fontStyle=4;rounded=1;overflow=hidden;"+(null!=$icon_linkCell$$?"shape=label;imageWidth=16;imageHeight=16;spacingLeft=26;align=left;image="+$icon_linkCell$$:"spacing=10;"));$icon_linkCell$$.vertex=!0;$graph$jscomp$0$$.setLinkForCell($icon_linkCell$$,$link$$);$graph$jscomp$0$$.cellSizeUpdated($icon_linkCell$$,!0);$graph$jscomp$0$$.getModel().beginUpdate();try{$icon_linkCell$$=$graph$jscomp$0$$.addCell($icon_linkCell$$),$graph$jscomp$0$$.fireEvent(new mxEventObject("cellsInserted",
"cells",[$icon_linkCell$$]))}finally{$graph$jscomp$0$$.getModel().endUpdate()}$graph$jscomp$0$$.setSelectionCell($icon_linkCell$$);$graph$jscomp$0$$.scrollCellToVisible($graph$jscomp$0$$.getSelectionCell())}})})).isEnabled=$isGraphEnabled$$;this.addAction("link...",mxUtils.bind(this,function(){var $graph$$=$ui$$.editor.graph;if($graph$$.isEnabled())if($graph$$.cellEditor.isContentEditing()){var $elt$$=$graph$$.getSelectedElement(),$link$$=$graph$$.getParentByName($elt$$,"A",$graph$$.cellEditor.textarea),
$oldValue$$="";if(null==$link$$&&null!=$elt$$&&null!=$elt$$.getElementsByTagName)for(var $links$$=$elt$$.getElementsByTagName("a"),$i$$=0;$i$$<$links$$.length&&null==$link$$;$i$$++)$links$$[$i$$].textContent==$elt$$.textContent&&($link$$=$links$$[$i$$]);null!=$link$$&&"A"==$link$$.nodeName&&($oldValue$$=$link$$.getAttribute("href")||"",$graph$$.selectNode($link$$));var $selState$$=$graph$$.cellEditor.saveSelection();$ui$$.showLinkDialog($oldValue$$,mxResources.get("apply"),mxUtils.bind(this,function($value$$){$graph$$.cellEditor.restoreSelection($selState$$);
null!=$value$$&&$graph$$.insertLink($value$$)}))}else $graph$$.isSelectionEmpty()?this.get("insertLink").funct():this.get("editLink").funct()})).isEnabled=$isGraphEnabled$$;this.addAction("autosize",function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$){$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];if($graph$jscomp$0$$.getModel().getChildCount($cell$$))$graph$jscomp$0$$.updateGroupBounds([$cell$$],20);
else{var $state$$=$graph$jscomp$0$$.view.getState($cell$$),$geo$$=$graph$jscomp$0$$.getCellGeometry($cell$$);$graph$jscomp$0$$.getModel().isVertex($cell$$)&&null!=$state$$&&null!=$state$$.text&&null!=$geo$$&&$graph$jscomp$0$$.isWrapping($cell$$)?($geo$$=$geo$$.clone(),$geo$$.height=$state$$.text.boundingBox.height/$graph$jscomp$0$$.view.scale,$graph$jscomp$0$$.getModel().setGeometry($cell$$,$geo$$)):$graph$jscomp$0$$.updateCellSize($cell$$)}}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,
null,Editor.ctrlKey+"+Shift+Y");this.addAction("formattedText",function(){var $state$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell());if(null!=$state$$){var $value$$="1";$graph$jscomp$0$$.stopEditing();$graph$jscomp$0$$.getModel().beginUpdate();try{if("1"==$state$$.style.html){var $value$$=null,$label$$=$graph$jscomp$0$$.convertValueToString($state$$.cell);"0"!=mxUtils.getValue($state$$.style,"nl2Br","1")&&($label$$=$label$$.replace(/\n/g,"").replace(/<br\s*.?>/g,"\n"));
var $temp$$=document.createElement("div");$temp$$.innerHTML=$label$$;$label$$=mxUtils.extractTextWithWhitespace($temp$$.childNodes);$graph$jscomp$0$$.cellLabelChanged($state$$.cell,$label$$)}else $label$$=mxUtils.htmlEntities($graph$jscomp$0$$.convertValueToString($state$$.cell),!1),"0"!=mxUtils.getValue($state$$.style,"nl2Br","1")&&($label$$=$label$$.replace(/\n/g,"<br/>")),$graph$jscomp$0$$.cellLabelChanged($state$$.cell,$graph$jscomp$0$$.sanitizeHtml($label$$));$graph$jscomp$0$$.setCellStyles("html",
$value$$);$ui$$.fireEvent(new mxEventObject("styleChanged","keys",["html"],"values",[null!=$value$$?$value$$:"0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}}});this.addAction("wordWrap",function(){var $state$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell()),$value$$="wrap";$graph$jscomp$0$$.stopEditing();null!=$state$$&&"wrap"==$state$$.style[mxConstants.STYLE_WHITE_SPACE]&&($value$$=null);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_WHITE_SPACE,
$value$$)});this.addAction("rotation",function(){var $dlg$jscomp$7_value$$="0",$state$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell());null!=$state$$&&($dlg$jscomp$7_value$$=$state$$.style[mxConstants.STYLE_ROTATION]||$dlg$jscomp$7_value$$);$dlg$jscomp$7_value$$=new FilenameDialog($ui$$,$dlg$jscomp$7_value$$,mxResources.get("apply"),function($newValue$$){null!=$newValue$$&&0<$newValue$$.length&&$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROTATION,$newValue$$)},mxResources.get("enterValue")+
" ("+mxResources.get("rotation")+" 0-360)");$ui$$.showDialog($dlg$jscomp$7_value$$.container,375,80,!0,!0);$dlg$jscomp$7_value$$.init()});this.addAction("resetView",function(){$graph$jscomp$0$$.zoomTo(1);$ui$$.resetScrollbars()},null,null,Editor.ctrlKey+"+H");this.addAction("zoomIn",function($evt$$){$graph$jscomp$0$$.zoomIn()},null,null,Editor.ctrlKey+" + (Numpad) / Alt+Mousewheel");this.addAction("zoomOut",function($evt$$){$graph$jscomp$0$$.zoomOut()},null,null,Editor.ctrlKey+" - (Numpad) / Alt+Mousewheel");
this.addAction("fitWindow",function(){$graph$jscomp$0$$.fit()},null,null,Editor.ctrlKey+"+Shift+H");this.addAction("fitPage",mxUtils.bind(this,function(){$graph$jscomp$0$$.pageVisible||this.get("pageView").funct();var $fmt$jscomp$3_pad$$=$graph$jscomp$0$$.pageFormat,$ps$$=$graph$jscomp$0$$.pageScale;$graph$jscomp$0$$.zoomTo(Math.floor(20*Math.min(($graph$jscomp$0$$.container.clientWidth-10)/$fmt$jscomp$3_pad$$.width/$ps$$,($graph$jscomp$0$$.container.clientHeight-10)/$fmt$jscomp$3_pad$$.height/$ps$$))/
20);mxUtils.hasScrollbars($graph$jscomp$0$$.container)&&($fmt$jscomp$3_pad$$=$graph$jscomp$0$$.getPagePadding(),$graph$jscomp$0$$.container.scrollTop=$fmt$jscomp$3_pad$$.y*$graph$jscomp$0$$.view.scale-1,$graph$jscomp$0$$.container.scrollLeft=Math.min($fmt$jscomp$3_pad$$.x*$graph$jscomp$0$$.view.scale,($graph$jscomp$0$$.container.scrollWidth-$graph$jscomp$0$$.container.clientWidth)/2)-1)}),null,null,Editor.ctrlKey+"+J");this.addAction("fitTwoPages",mxUtils.bind(this,function(){$graph$jscomp$0$$.pageVisible||
this.get("pageView").funct();var $fmt$jscomp$4_pad$$=$graph$jscomp$0$$.pageFormat,$ps$$=$graph$jscomp$0$$.pageScale;$graph$jscomp$0$$.zoomTo(Math.floor(20*Math.min(($graph$jscomp$0$$.container.clientWidth-10)/(2*$fmt$jscomp$4_pad$$.width)/$ps$$,($graph$jscomp$0$$.container.clientHeight-10)/$fmt$jscomp$4_pad$$.height/$ps$$))/20);mxUtils.hasScrollbars($graph$jscomp$0$$.container)&&($fmt$jscomp$4_pad$$=$graph$jscomp$0$$.getPagePadding(),$graph$jscomp$0$$.container.scrollTop=Math.min($fmt$jscomp$4_pad$$.y,
($graph$jscomp$0$$.container.scrollHeight-$graph$jscomp$0$$.container.clientHeight)/2),$graph$jscomp$0$$.container.scrollLeft=Math.min($fmt$jscomp$4_pad$$.x,($graph$jscomp$0$$.container.scrollWidth-$graph$jscomp$0$$.container.clientWidth)/2))}),null,null,Editor.ctrlKey+"+Shift+J");this.addAction("fitPageWidth",mxUtils.bind(this,function(){$graph$jscomp$0$$.pageVisible||this.get("pageView").funct();$graph$jscomp$0$$.zoomTo(Math.floor(20*($graph$jscomp$0$$.container.clientWidth-10)/$graph$jscomp$0$$.pageFormat.width/
$graph$jscomp$0$$.pageScale)/20);if(mxUtils.hasScrollbars($graph$jscomp$0$$.container)){var $pad$$=$graph$jscomp$0$$.getPagePadding();$graph$jscomp$0$$.container.scrollLeft=Math.min($pad$$.x*$graph$jscomp$0$$.view.scale,($graph$jscomp$0$$.container.scrollWidth-$graph$jscomp$0$$.container.clientWidth)/2)}}));this.put("customZoom",new Action(mxResources.get("custom")+"...",mxUtils.bind(this,function(){var $dlg$$=new FilenameDialog(this.editorUi,parseInt(100*$graph$jscomp$0$$.getView().getScale()),mxResources.get("apply"),
mxUtils.bind(this,function($newValue$jscomp$5_val$$){$newValue$jscomp$5_val$$=parseInt($newValue$jscomp$5_val$$);!isNaN($newValue$jscomp$5_val$$)&&0<$newValue$jscomp$5_val$$&&$graph$jscomp$0$$.zoomTo($newValue$jscomp$5_val$$/100)}),mxResources.get("zoom")+" (%)");this.editorUi.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()}),null,null,Editor.ctrlKey+"+0"));this.addAction("pageScale...",mxUtils.bind(this,function(){var $dlg$$=new FilenameDialog(this.editorUi,parseInt(100*$graph$jscomp$0$$.pageScale),
mxResources.get("apply"),mxUtils.bind(this,function($newValue$jscomp$6_val$$){$newValue$jscomp$6_val$$=parseInt($newValue$jscomp$6_val$$);!isNaN($newValue$jscomp$6_val$$)&&0<$newValue$jscomp$6_val$$&&$ui$$.setPageScale($newValue$jscomp$6_val$$/100)}),mxResources.get("pageScale")+" (%)");this.editorUi.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()}));var $action$$=null,$action$$=this.addAction("grid",function(){$graph$jscomp$0$$.setGridEnabled(!$graph$jscomp$0$$.isGridEnabled());$ui$$.fireEvent(new mxEventObject("gridEnabledChanged"))},
null,null,Editor.ctrlKey+"+Shift+G");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.isGridEnabled()});$action$$.setEnabled(!1);$action$$=this.addAction("guides",function(){$graph$jscomp$0$$.graphHandler.guidesEnabled=!$graph$jscomp$0$$.graphHandler.guidesEnabled;$ui$$.fireEvent(new mxEventObject("guidesEnabledChanged"))});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.graphHandler.guidesEnabled});$action$$.setEnabled(!1);
$action$$=this.addAction("tooltips",function(){$graph$jscomp$0$$.tooltipHandler.setEnabled(!$graph$jscomp$0$$.tooltipHandler.isEnabled())});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.tooltipHandler.isEnabled()});$action$$=this.addAction("collapseExpand",function(){var $change$$=new ChangePageSetup($ui$$);$change$$.ignoreColor=!0;$change$$.ignoreImage=!0;$change$$.foldingEnabled=!$graph$jscomp$0$$.foldingEnabled;$graph$jscomp$0$$.model.execute($change$$)});
$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.foldingEnabled});$action$$.isEnabled=$isGraphEnabled$$;$action$$=this.addAction("scrollbars",function(){$ui$$.setScrollbars(!$ui$$.hasScrollbars())});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.scrollbars});$action$$=this.addAction("pageView",mxUtils.bind(this,function(){$ui$$.setPageVisible(!$graph$jscomp$0$$.pageVisible)}));$action$$.setToggleAction(!0);
$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.pageVisible});$action$$=this.addAction("connectionArrows",function(){$graph$jscomp$0$$.connectionArrowsEnabled=!$graph$jscomp$0$$.connectionArrowsEnabled;$ui$$.fireEvent(new mxEventObject("connectionArrowsChanged"))},null,null,"Alt+Shift+A");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.connectionArrowsEnabled});$action$$=this.addAction("connectionPoints",function(){$graph$jscomp$0$$.setConnectable(!$graph$jscomp$0$$.connectionHandler.isEnabled());
$ui$$.fireEvent(new mxEventObject("connectionPointsChanged"))},null,null,"Alt+Shift+P");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.connectionHandler.isEnabled()});$action$$=this.addAction("copyConnect",function(){$graph$jscomp$0$$.connectionHandler.setCreateTarget(!$graph$jscomp$0$$.connectionHandler.isCreateTarget());$ui$$.fireEvent(new mxEventObject("copyConnectChanged"))});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $graph$jscomp$0$$.connectionHandler.isCreateTarget()});
$action$$.isEnabled=$isGraphEnabled$$;$action$$=this.addAction("autosave",function(){$ui$$.editor.setAutosave(!$ui$$.editor.autosave)});$action$$.setToggleAction(!0);$action$$.setSelectedCallback(function(){return $ui$$.editor.autosave});$action$$.isEnabled=$isGraphEnabled$$;$action$$.visible=!1;this.addAction("help",function(){var $ext$$="";mxResources.isLanguageSupported(mxClient.language)&&($ext$$="_"+mxClient.language);$graph$jscomp$0$$.openLink(RESOURCES_PATH+"/help"+$ext$$+".html")});var $showingAbout$$=
!1;this.put("about",new Action(mxResources.get("about")+" Graph Editor...",function(){$showingAbout$$||($ui$$.showDialog((new AboutDialog($ui$$)).container,320,280,!0,!0,function(){$showingAbout$$=!1}),$showingAbout$$=!0)},null,null,"F1"));var $toggleFontStyle$$=mxUtils.bind(this,function($key$$,$style$$,$fn$$,$shortcut$$){return this.addAction($key$$,function(){if(null!=$fn$$&&$graph$jscomp$0$$.cellEditor.isContentEditing())$fn$$();else{$graph$jscomp$0$$.stopEditing(!1);$graph$jscomp$0$$.getModel().beginUpdate();
try{$graph$jscomp$0$$.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,$style$$),($style$$&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD?$graph$jscomp$0$$.updateLabelElements($graph$jscomp$0$$.getSelectionCells(),function($elt$$){$elt$$.style.fontWeight=null;"B"==$elt$$.nodeName&&$graph$jscomp$0$$.replaceElement($elt$$)}):($style$$&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC?$graph$jscomp$0$$.updateLabelElements($graph$jscomp$0$$.getSelectionCells(),function($elt$$){$elt$$.style.fontStyle=null;
"I"==$elt$$.nodeName&&$graph$jscomp$0$$.replaceElement($elt$$)}):($style$$&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&$graph$jscomp$0$$.updateLabelElements($graph$jscomp$0$$.getSelectionCells(),function($elt$$){$elt$$.style.textDecoration=null;"U"==$elt$$.nodeName&&$graph$jscomp$0$$.replaceElement($elt$$)})}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,$shortcut$$)});$toggleFontStyle$$("bold",mxConstants.FONT_BOLD,function(){document.execCommand("bold",!1,null)},Editor.ctrlKey+
"+B");$toggleFontStyle$$("italic",mxConstants.FONT_ITALIC,function(){document.execCommand("italic",!1,null)},Editor.ctrlKey+"+I");$toggleFontStyle$$("underline",mxConstants.FONT_UNDERLINE,function(){document.execCommand("underline",!1,null)},Editor.ctrlKey+"+U");this.addAction("fontColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_FONTCOLOR,"forecolor","000000")});this.addAction("strokeColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_STROKECOLOR)});this.addAction("fillColor...",
function(){$ui$$.menus.pickColor(mxConstants.STYLE_FILLCOLOR)});this.addAction("gradientColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_GRADIENTCOLOR)});this.addAction("backgroundColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,"backcolor")});this.addAction("borderColor...",function(){$ui$$.menus.pickColor(mxConstants.STYLE_LABEL_BORDERCOLOR)});this.addAction("vertical",function(){$ui$$.menus.toggleStyle(mxConstants.STYLE_HORIZONTAL,!0)});this.addAction("shadow",
function(){$ui$$.menus.toggleStyle(mxConstants.STYLE_SHADOW)});this.addAction("solid",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASHED,null),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASH_PATTERN,null),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",[null,null],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});
this.addAction("dashed",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASHED,"1"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASH_PATTERN,null),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",["1",null],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("dotted",function(){$graph$jscomp$0$$.getModel().beginUpdate();
try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASHED,"1"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_DASH_PATTERN,"1 4"),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_DASHED,mxConstants.STYLE_DASH_PATTERN],"values",["1","1 4"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("sharp",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,
"0"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,"0"),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["0","0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("rounded",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,"1"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,"0"),
$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["1","0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("toggleRounded",function(){if(!$graph$jscomp$0$$.isSelectionEmpty()&&$graph$jscomp$0$$.isEnabled()){$graph$jscomp$0$$.getModel().beginUpdate();try{var $cells$$=$graph$jscomp$0$$.getSelectionCells(),$state$$=$graph$jscomp$0$$.view.getState($cells$$[0]),$style$$=
null!=$state$$?$state$$.style:$graph$jscomp$0$$.getCellStyle($cells$$[0]),$value$$="1"==mxUtils.getValue($style$$,mxConstants.STYLE_ROUNDED,"0")?"0":"1";$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,$value$$);$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,null);$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",[$value$$,"0"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}}});
this.addAction("curved",function(){$graph$jscomp$0$$.getModel().beginUpdate();try{$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_ROUNDED,"0"),$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_CURVED,"1"),$ui$$.fireEvent(new mxEventObject("styleChanged","keys",[mxConstants.STYLE_ROUNDED,mxConstants.STYLE_CURVED],"values",["0","1"],"cells",$graph$jscomp$0$$.getSelectionCells()))}finally{$graph$jscomp$0$$.getModel().endUpdate()}});this.addAction("collapsible",function(){var $state$$=$graph$jscomp$0$$.view.getState($graph$jscomp$0$$.getSelectionCell()),
$value$$="1";null!=$state$$&&null!=$graph$jscomp$0$$.getFoldingImage($state$$)&&($value$$="0");$graph$jscomp$0$$.setCellStyles("collapsible",$value$$);$ui$$.fireEvent(new mxEventObject("styleChanged","keys",["collapsible"],"values",[$value$$],"cells",$graph$jscomp$0$$.getSelectionCells()))});this.addAction("editStyle...",mxUtils.bind(this,function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$&&0<$cells$$.length){var $dlg$jscomp$10_model$$=$graph$jscomp$0$$.getModel(),$dlg$jscomp$10_model$$=
new TextareaDialog(this.editorUi,mxResources.get("editStyle")+":",$dlg$jscomp$10_model$$.getStyle($cells$$[0])||"",function($newValue$$){null!=$newValue$$&&$graph$jscomp$0$$.setCellStyle(mxUtils.trim($newValue$$),$cells$$)},null,null,400,220);this.editorUi.showDialog($dlg$jscomp$10_model$$.container,420,300,!0,!0);$dlg$jscomp$10_model$$.init()}}),null,null,Editor.ctrlKey+"+E");this.addAction("setAsDefaultStyle",function(){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isSelectionEmpty()&&$ui$$.setDefaultStyle($graph$jscomp$0$$.getSelectionCell())},
null,null,Editor.ctrlKey+"+Shift+D");this.addAction("clearDefaultStyle",function(){$graph$jscomp$0$$.isEnabled()&&$ui$$.clearDefaultStyle()},null,null,Editor.ctrlKey+"+Shift+R");this.addAction("addWaypoint",function(){var $cell$jscomp$61_parent$$=$graph$jscomp$0$$.getSelectionCell();if(null!=$cell$jscomp$61_parent$$&&$graph$jscomp$0$$.getModel().isEdge($cell$jscomp$61_parent$$)){var $handler$$=$editor$$.graph.selectionCellsHandler.getHandler($cell$jscomp$61_parent$$);if($handler$$ instanceof mxEdgeHandler){for(var $dy$jscomp$47_t$$=
$graph$jscomp$0$$.view.translate,$s$jscomp$41_y$$=$graph$jscomp$0$$.view.scale,$dx$jscomp$53_x$$=$dy$jscomp$47_t$$.x,$dy$jscomp$47_t$$=$dy$jscomp$47_t$$.y,$cell$jscomp$61_parent$$=$graph$jscomp$0$$.getModel().getParent($cell$jscomp$61_parent$$),$pgeo$$=$graph$jscomp$0$$.getCellGeometry($cell$jscomp$61_parent$$);$graph$jscomp$0$$.getModel().isVertex($cell$jscomp$61_parent$$)&&null!=$pgeo$$;)$dx$jscomp$53_x$$+=$pgeo$$.x,$dy$jscomp$47_t$$+=$pgeo$$.y,$cell$jscomp$61_parent$$=$graph$jscomp$0$$.getModel().getParent($cell$jscomp$61_parent$$),
$pgeo$$=$graph$jscomp$0$$.getCellGeometry($cell$jscomp$61_parent$$);$dx$jscomp$53_x$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerX/$s$jscomp$41_y$$-$dx$jscomp$53_x$$));$s$jscomp$41_y$$=Math.round($graph$jscomp$0$$.snap($graph$jscomp$0$$.popupMenuHandler.triggerY/$s$jscomp$41_y$$-$dy$jscomp$47_t$$));$handler$$.addPointAt($handler$$.state,$dx$jscomp$53_x$$,$s$jscomp$41_y$$)}}});this.addAction("removeWaypoint",function(){var $rmWaypointAction$$=$ui$$.actions.get("removeWaypoint");
null!=$rmWaypointAction$$.handler&&$rmWaypointAction$$.handler.removePoint($rmWaypointAction$$.handler.state,$rmWaypointAction$$.index)});this.addAction("clearWaypoints",function(){var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$cells$$){$cells$$=$graph$jscomp$0$$.addAllEdges($cells$$);$graph$jscomp$0$$.getModel().beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $cell$$=$cells$$[$i$$];if($graph$jscomp$0$$.getModel().isEdge($cell$$)){var $geo$$=$graph$jscomp$0$$.getCellGeometry($cell$$);
null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.points=null,$graph$jscomp$0$$.getModel().setGeometry($cell$$,$geo$$))}}}finally{$graph$jscomp$0$$.getModel().endUpdate()}}},null,null,"Alt+Shift+C");$action$$=this.addAction("subscript",mxUtils.bind(this,function(){$graph$jscomp$0$$.cellEditor.isContentEditing()&&document.execCommand("subscript",!1,null)}),null,null,Editor.ctrlKey+"+,");$action$$=this.addAction("superscript",mxUtils.bind(this,function(){$graph$jscomp$0$$.cellEditor.isContentEditing()&&document.execCommand("superscript",
!1,null)}),null,null,Editor.ctrlKey+"+.");this.addAction("image...",function(){if($graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())){var $title$$=mxResources.get("image")+" ("+mxResources.get("url")+"):",$state$jscomp$0$$=$graph$jscomp$0$$.getView().getState($graph$jscomp$0$$.getSelectionCell()),$value$$="";null!=$state$jscomp$0$$&&($value$$=$state$jscomp$0$$.style[mxConstants.STYLE_IMAGE]||$value$$);var $selectionState$$=$graph$jscomp$0$$.cellEditor.saveSelection();
$ui$$.showImageDialog($title$$,$value$$,function($newValue$$,$w$$,$h$$){if($graph$jscomp$0$$.cellEditor.isContentEditing())$graph$jscomp$0$$.cellEditor.restoreSelection($selectionState$$),$graph$jscomp$0$$.insertImage($newValue$$,$w$$,$h$$);else{var $cells$$=$graph$jscomp$0$$.getSelectionCells();if(null!=$newValue$$&&(0<$newValue$$.length||0<$cells$$.length)){var $select$$=null;$graph$jscomp$0$$.getModel().beginUpdate();try{if(0==$cells$$.length){var $pt$$=$graph$jscomp$0$$.getFreeInsertPoint(),$select$$=
$cells$$=[$graph$jscomp$0$$.insertVertex($graph$jscomp$0$$.getDefaultParent(),null,"",$pt$$.x,$pt$$.y,$w$$,$h$$,"shape=image;imageAspect=0;aspect=fixed;verticalLabelPosition=bottom;verticalAlign=top;")];$graph$jscomp$0$$.fireEvent(new mxEventObject("cellsInserted","cells",$select$$))}$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_IMAGE,0<$newValue$$.length?$newValue$$:null,$cells$$);var $state$$=$graph$jscomp$0$$.view.getState($cells$$[0]),$style$$=null!=$state$$?$state$$.style:$graph$jscomp$0$$.getCellStyle($cells$$[0]);
"image"!=$style$$[mxConstants.STYLE_SHAPE]&&"label"!=$style$$[mxConstants.STYLE_SHAPE]?$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_SHAPE,"image",$cells$$):0==$newValue$$.length&&$graph$jscomp$0$$.setCellStyles(mxConstants.STYLE_SHAPE,null,$cells$$);if(1==$graph$jscomp$0$$.getSelectionCount()&&null!=$w$$&&null!=$h$$){var $cell$$=$cells$$[0],$geo$$=$graph$jscomp$0$$.getModel().getGeometry($cell$$);null!=$geo$$&&($geo$$=$geo$$.clone(),$geo$$.width=$w$$,$geo$$.height=$h$$,$graph$jscomp$0$$.getModel().setGeometry($cell$$,
$geo$$))}}finally{$graph$jscomp$0$$.getModel().endUpdate()}null!=$select$$&&($graph$jscomp$0$$.setSelectionCells($select$$),$graph$jscomp$0$$.scrollCellToVisible($select$$[0]))}}},$graph$jscomp$0$$.cellEditor.isContentEditing(),!$graph$jscomp$0$$.cellEditor.isContentEditing())}}).isEnabled=$isGraphEnabled$$;$action$$=this.addAction("layers",mxUtils.bind(this,function(){null==this.layersWindow?(this.layersWindow=new LayersWindow($ui$$,document.body.offsetWidth-280,120,220,180),this.layersWindow.window.addListener("show",
function(){$ui$$.fireEvent(new mxEventObject("layers"))}),this.layersWindow.window.addListener("hide",function(){$ui$$.fireEvent(new mxEventObject("layers"))}),this.layersWindow.window.setVisible(!0),$ui$$.fireEvent(new mxEventObject("layers"))):this.layersWindow.window.setVisible(!this.layersWindow.window.isVisible())}),null,null,Editor.ctrlKey+"+Shift+L");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return null!=this.layersWindow&&this.layersWindow.window.isVisible()}));
$action$$=this.addAction("formatPanel",mxUtils.bind(this,function(){$ui$$.toggleFormatPanel()}),null,null,Editor.ctrlKey+"+Shift+P");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return 0<$ui$$.formatWidth}));$action$$=this.addAction("outline",mxUtils.bind(this,function(){null==this.outlineWindow?(this.outlineWindow=new OutlineWindow($ui$$,document.body.offsetWidth-260,100,180,180),this.outlineWindow.window.addListener("show",function(){$ui$$.fireEvent(new mxEventObject("outline"))}),
this.outlineWindow.window.addListener("hide",function(){$ui$$.fireEvent(new mxEventObject("outline"))}),this.outlineWindow.window.setVisible(!0),$ui$$.fireEvent(new mxEventObject("outline"))):this.outlineWindow.window.setVisible(!this.outlineWindow.window.isVisible())}),null,null,Editor.ctrlKey+"+Shift+O");$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return null!=this.outlineWindow&&this.outlineWindow.window.isVisible()}));$action$$=this.addAction("analyze",
mxUtils.bind(this,function(){this.analyzeToggled=!this.analyzeToggled;if($action$$.onToggle)$action$$.onToggle(this.analyzeToggled)}),null,null,null);$action$$.setToggleAction(!0);$action$$.setSelectedCallback(mxUtils.bind(this,function(){return this.analyzeToggled||!1}))};
Actions.prototype.addAction=function $Actions$$addAction$($key$$,$funct$$,$enabled$$,$iconCls$$,$shortcut$$){var $title$$;"..."==$key$$.substring($key$$.length-3)?($key$$=$key$$.substring(0,$key$$.length-3),$title$$=mxResources.get($key$$)+"..."):$title$$=mxResources.get($key$$);return this.put($key$$,new Action($title$$,$funct$$,$enabled$$,$iconCls$$,$shortcut$$))};Actions.prototype.rmAction=function $Actions$$rmAction$($key$$){return this.remove($key$$)};
Actions.prototype.put=function $Actions$$put$($name$$,$action$$){return this.actions[$name$$]=$action$$};Actions.prototype.get=function $Actions$$get$($name$$){return this.actions[$name$$]};Actions.prototype.remove=function $Actions$$remove$($name$$){delete this.actions[$name$$]};
function Action($label$$,$funct$$,$enabled$$,$iconCls$$,$shortcut$$){mxEventSource.call(this);this.label=$label$$;this.funct=this.createFunction($funct$$);this.enabled=null!=$enabled$$?$enabled$$:!0;this.iconCls=$iconCls$$;this.shortcut=$shortcut$$;this.visible=!0}mxUtils.extend(Action,mxEventSource);Action.prototype.createFunction=function $Action$$createFunction$($funct$$){return $funct$$};
Action.prototype.setEnabled=function $Action$$setEnabled$($value$$){this.enabled!=$value$$&&(this.enabled=$value$$,this.fireEvent(new mxEventObject("stateChanged")))};Action.prototype.isEnabled=function $Action$$isEnabled$(){return this.enabled};Action.prototype.setToggleAction=function $Action$$setToggleAction$($value$$){this.toggleAction=$value$$};Action.prototype.setSelectedCallback=function $Action$$setSelectedCallback$($funct$$){this.selectedCallback=$funct$$};Action.prototype.isSelected=function $Action$$isSelected$(){return this.selectedCallback()};DrawioFile=function $DrawioFile$($ui$$,$data$$){mxEventSource.call(this);this.ui=$ui$$;this.shadowData=this.data=$data$$||"";this.shadowPages=null;this.stats={opened:0,merged:0,fileMerged:0,fileReloaded:0,conflicts:0,timeouts:0,saved:0,closed:0,destroyed:0,joined:0,checksumErrors:0,bytesSent:0,bytesReceived:0,msgSent:0,msgReceived:0,cacheHits:0,cacheMiss:0,cacheFail:0}};DrawioFile.SYNC=urlParams.sync||"auto";DrawioFile.LAST_WRITE_WINS=!0;mxUtils.extend(DrawioFile,mxEventSource);
DrawioFile.prototype.allChangesSavedKey="allChangesSaved";DrawioFile.prototype.autosaveDelay=1500;DrawioFile.prototype.maxAutosaveDelay=3E4;DrawioFile.prototype.autosaveThread=null;DrawioFile.prototype.lastAutosave=null;DrawioFile.prototype.lastSaved=null;DrawioFile.prototype.lastWarned=null;DrawioFile.prototype.warnInterval=6E5;DrawioFile.prototype.opened=null;DrawioFile.prototype.modified=!1;DrawioFile.prototype.data=null;DrawioFile.prototype.shadowData=null;DrawioFile.prototype.shadowPages=null;
DrawioFile.prototype.changeListenerEnabled=!0;DrawioFile.prototype.lastAutosaveRevision=null;DrawioFile.prototype.maxAutosaveRevisionDelay=3E5;DrawioFile.prototype.inConflictState=!1;DrawioFile.prototype.invalidChecksum=!1;DrawioFile.prototype.errorReportsEnabled=!1;DrawioFile.prototype.reportEnabled=!0;DrawioFile.prototype.getSize=function $DrawioFile$$getSize$(){return null!=this.data?this.data.length:0};
DrawioFile.prototype.synchronizeFile=function $DrawioFile$$synchronizeFile$($success$$,$error$$){this.savingFile?null!=$error$$&&$error$$({message:mxResources.get("busy")}):null!=this.sync?this.sync.fileChanged($success$$,$error$$):this.updateFile($success$$,$error$$)};
DrawioFile.prototype.updateFile=function $DrawioFile$$updateFile$($success$$,$error$$,$abort$$,$shadow$$){null!=$abort$$&&$abort$$()||(this.ui.getCurrentFile()!=this||this.invalidChecksum?null!=$error$$&&$error$$():this.getLatestVersion(mxUtils.bind(this,function($latestFile$$){try{null!=$abort$$&&$abort$$()||(this.ui.getCurrentFile()!=this||this.invalidChecksum?null!=$error$$&&$error$$():null!=$latestFile$$?this.mergeFile($latestFile$$,$success$$,$error$$,$shadow$$):this.reloadFile($success$$,$error$$))}catch($e$$){null!=
$error$$&&$error$$($e$$)}}),$error$$))};
DrawioFile.prototype.mergeFile=function $DrawioFile$$mergeFile$($file$$,$success$$,$error$$,$diffShadow_patchedDetails$$){var $reportError$$=!0;try{this.stats.fileMerged++;var $currentDetails_shadow$$=null!=this.shadowPages?this.shadowPages:this.ui.getPagesForNode(mxUtils.parseXml(this.shadowData).documentElement),$pages$$=this.ui.getPagesForNode(mxUtils.parseXml($file$$.data).documentElement);if(null!=$pages$$&&0<$pages$$.length){this.shadowPages=$pages$$;this.backupPatch=this.isModified()?this.ui.diffPages($currentDetails_shadow$$,
this.ui.pages):null;var $patches$$=[this.ui.diffPages(null!=$diffShadow_patchedDetails$$?$diffShadow_patchedDetails$$:$currentDetails_shadow$$,this.shadowPages)];if(!this.ignorePatches($patches$$)){var $patched$$=this.ui.patchPages($currentDetails_shadow$$,$patches$$[0]);$diffShadow_patchedDetails$$={};var $checksum$$=this.ui.getHashValueForPages($patched$$,$diffShadow_patchedDetails$$),$currentDetails_shadow$$={},$current$$=this.ui.getHashValueForPages(this.shadowPages,$currentDetails_shadow$$);
"1"==urlParams.test&&EditorUi.debug("File.mergeFile",[this],"backup",this.backupPatch,"patches",$patches$$,"checksum",$current$$==$checksum$$,$checksum$$);if(null!=$checksum$$&&$checksum$$!=$current$$){var $fileData$$=this.compressReportData(this.getAnonymizedXmlForPages($pages$$)),$data$$=this.compressReportData(this.getAnonymizedXmlForPages($patched$$)),$from$$=this.ui.hashValue($file$$.getCurrentEtag()),$to$$=this.ui.hashValue(this.getCurrentEtag());this.checksumError($error$$,$patches$$,"Shadow Details: "+
JSON.stringify($diffShadow_patchedDetails$$)+"\nChecksum: "+$checksum$$+"\nCurrent: "+$current$$+"\nCurrent Details: "+JSON.stringify($currentDetails_shadow$$)+"\nFrom: "+$from$$+"\nTo: "+$to$$+"\n\nFile Data:\n"+$fileData$$+"\nPatched Shadow:\n"+$data$$,null,"mergeFile");return}this.patch($patches$$,DrawioFile.LAST_WRITE_WINS?this.backupPatch:null)}}else throw $reportError$$=!1,Error(mxResources.get("notADiagramFile"));this.inConflictState=this.invalidChecksum=!1;this.setDescriptor($file$$.getDescriptor());
this.descriptorChanged();this.backupPatch=null;null!=$success$$&&$success$$()}catch($e$$){this.invalidChecksum=this.inConflictState=!0;this.descriptorChanged();null!=$error$$&&$error$$($e$$);try{if($reportError$$)if(this.errorReportsEnabled)this.sendErrorReport("Error in mergeFile",null,$e$$);else{var $user$$=this.getCurrentUser(),$uid$$=null!=$user$$?$user$$.id:"unknown";EditorUi.logError("Error in mergeFile",null,this.getMode()+"."+this.getId(),$uid$$,$e$$)}}catch($e2$$){}}};
DrawioFile.prototype.getAnonymizedXmlForPages=function $DrawioFile$$getAnonymizedXmlForPages$($pages$$){var $enc$$=new mxCodec(mxUtils.createXmlDocument()),$file$$=$enc$$.document.createElement("mxfile");if(null!=$pages$$)for(var $i$$=0;$i$$<$pages$$.length;$i$$++){var $temp$$=$enc$$.encode(new mxGraphModel($pages$$[$i$$].root));"1"!=urlParams.dev&&($temp$$=this.ui.anonymizeNode($temp$$,!0));$temp$$.setAttribute("id",$pages$$[$i$$].getId());$pages$$[$i$$].viewState&&this.ui.editor.graph.saveViewState($pages$$[$i$$].viewState,
$temp$$,!0);$file$$.appendChild($temp$$)}return mxUtils.getPrettyXml($file$$)};DrawioFile.prototype.compressReportData=function $DrawioFile$$compressReportData$($data$$,$limit$$,$max$$){$limit$$=null!=$limit$$?$limit$$:1E4;null!=$max$$&&null!=$data$$&&$data$$.length>$max$$?$data$$=$data$$.substring(0,$max$$)+"[...]":null!=$data$$&&$data$$.length>$limit$$&&($data$$=Graph.compress($data$$)+"\n");return $data$$};
DrawioFile.prototype.checksumError=function $DrawioFile$$checksumError$($error$jscomp$5_i$$,$patches$$,$details$$,$etag$$,$functionName$$){this.stats.checksumErrors++;this.invalidChecksum=this.inConflictState=!0;this.descriptorChanged();null!=this.sync&&this.sync.updateOnlineState();null!=$error$jscomp$5_i$$&&$error$jscomp$5_i$$();try{if(this.errorReportsEnabled){if(null!=$patches$$)for($error$jscomp$5_i$$=0;$error$jscomp$5_i$$<$patches$$.length;$error$jscomp$5_i$$++)this.ui.anonymizePatch($patches$$[$error$jscomp$5_i$$]);
var $fn$$=mxUtils.bind(this,function($file$$){var $json$$=this.compressReportData(JSON.stringify($patches$$,null,2));$file$$=null!=$file$$?this.compressReportData(this.getAnonymizedXmlForPages(this.ui.getPagesForNode(mxUtils.parseXml($file$$.data).documentElement)),25E3):"n/a";this.sendErrorReport("Checksum Error in "+$functionName$$+" "+this.getHash(),(null!=$details$$?$details$$:"")+"\n\nPatches:\n"+$json$$+(null!=$file$$?"\n\nRemote:\n"+$file$$:""),null,7E4)});null==$etag$$?$fn$$(null):this.getLatestVersion(mxUtils.bind(this,
function($file$$){null!=$file$$&&$file$$.getCurrentEtag()==$etag$$?$fn$$($file$$):$fn$$(null)}),function(){})}else{var $user$$=this.getCurrentUser(),$uid$$=null!=$user$$?$user$$.id:"unknown";EditorUi.logError("Checksum Error in "+$functionName$$+" "+this.getId(),null,this.getMode()+"."+this.getId(),$uid$$+"."+(null!=this.sync?this.sync.clientId:"nosync"));try{EditorUi.logEvent({category:"CHECKSUM-ERROR-SYNC-FILE-"+this.getHash(),action:$functionName$$,label:$uid$$+"."+(null!=this.sync?this.sync.clientId:
"nosync")})}catch($e$$){}}}catch($e$4$$){}};
DrawioFile.prototype.sendErrorReport=function $DrawioFile$$sendErrorReport$($title$$,$details$$,$error$$,$max$$){try{var $shadow$$=this.compressReportData(this.getAnonymizedXmlForPages(this.shadowPages),25E3),$data$$=this.compressReportData(this.getAnonymizedXmlForPages(this.ui.pages),25E3),$ext$jscomp$1_user$$=this.getCurrentUser(),$uid$$=null!=$ext$jscomp$1_user$$?this.ui.hashValue($ext$jscomp$1_user$$.id):"unknown",$cid$$=null!=this.sync?this.sync.clientId:"no sync",$filename$$=this.getTitle(),
$dot$$=$filename$$.lastIndexOf("."),$ext$jscomp$1_user$$="xml";0<$dot$$&&($ext$jscomp$1_user$$=$filename$$.substring($dot$$));var $stack$$=null!=$error$$?$error$$.stack:Error().stack;EditorUi.sendReport($title$$+" "+(new Date).toISOString()+":\n\nBrowser="+navigator.userAgent+"\nFile="+this.ui.hashValue(this.getId())+" ("+this.getMode()+")"+(this.isModified()?" modified":"")+"\nSize/Type="+this.getSize()+" ("+$ext$jscomp$1_user$$+")\nUser="+$uid$$+" ("+$cid$$+")\nPrefix="+this.ui.editor.graph.model.prefix+
"\nSync="+DrawioFile.SYNC+(null!=this.sync?(this.sync.enabled?" enabled":"")+(this.sync.isConnected()?" connected":""):"")+"\nPlugins="+(null!=mxSettings.settings?mxSettings.getPlugins():"null")+"\n\nStats:\n"+JSON.stringify(this.stats,null,2)+(null!=$details$$?"\n\n"+$details$$:"")+(null!=$error$$?"\n\nError: "+$error$$.message:"")+"\n\nStack:\n"+$stack$$+"\n\nShadow:\n"+$shadow$$+"\n\nData:\n"+$data$$,$max$$)}catch($e$$){}};
DrawioFile.prototype.reloadFile=function $DrawioFile$$reloadFile$($success$$,$error$$){try{this.ui.spinner.stop();var $fn$$=mxUtils.bind(this,function(){this.stats.fileReloaded++;this.reportEnabled=!1;var $viewState$$=this.ui.editor.graph.getViewState(),$selection$$=this.ui.editor.graph.getSelectionCells(),$page$$=this.ui.currentPage;this.ui.loadFile(this.getHash(),!0,null,mxUtils.bind(this,function(){if(null==this.ui.fileLoadedError){this.ui.restoreViewState($page$$,$viewState$$,$selection$$);null!=
this.backupPatch&&this.patch([this.backupPatch]);var $file$$=this.ui.getCurrentFile();null!=$file$$&&($file$$.stats=this.stats);null!=$success$$&&$success$$()}}),!0)});this.isModified()&&null==this.backupPatch?this.ui.confirm(mxResources.get("allChangesLost"),mxUtils.bind(this,function(){this.handleFileSuccess("manual"==DrawioFile.SYNC)}),$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}};
DrawioFile.prototype.copyFile=function $DrawioFile$$copyFile$($success$$,$error$$){this.ui.editor.editAsNew(this.ui.getFileData(!0),this.ui.getCopyFilename(this))};DrawioFile.prototype.ignorePatches=function $DrawioFile$$ignorePatches$($patches$$){for(var $ignore$$=!0,$i$$=0;$i$$<$patches$$.length&&$ignore$$;$i$$++)$ignore$$=$ignore$$&&0==Object.keys($patches$$[$i$$]).length;return $ignore$$};
DrawioFile.prototype.patch=function $DrawioFile$$patch$($patches$$,$resolver$$){var $undoMgr$$=this.ui.editor.undoManager,$history$$=$undoMgr$$.history.slice(),$nextAdd$$=$undoMgr$$.indexOfNextAdd,$graph$$=this.ui.editor.graph;$graph$$.container.style.visibility="hidden";var $prev$$=this.changeListenerEnabled;this.changeListenerEnabled=!1;var $fold$$=$graph$$.foldingEnabled,$math$$=$graph$$.mathEnabled,$redraw$$=$graph$$.cellRenderer.redraw;$graph$$.cellRenderer.redraw=function $$graph$$$cellRenderer$redraw$($state$$){$state$$.view.graph.isEditing($state$$.cell)&&
($state$$.view.graph.scrollCellToVisible($state$$.cell),$state$$.view.graph.cellEditor.resize());$redraw$$.apply(this,arguments)};$graph$$.model.beginUpdate();try{for(var $i$$=0;$i$$<$patches$$.length;$i$$++)this.ui.pages=this.ui.patchPages(this.ui.pages,$patches$$[$i$$],!0,$resolver$$,this.isModified());0==this.ui.pages.length&&this.ui.pages.push(this.ui.createPage());0>mxUtils.indexOf(this.ui.pages,this.ui.currentPage)&&this.ui.selectPage(this.ui.pages[0],!0)}finally{$graph$$.container.style.visibility=
"";$graph$$.model.endUpdate();$graph$$.cellRenderer.redraw=$redraw$$;this.changeListenerEnabled=$prev$$;$undoMgr$$.history=$history$$;$undoMgr$$.indexOfNextAdd=$nextAdd$$;$undoMgr$$.fireEvent(new mxEventObject(mxEvent.CLEAR));if(null==this.ui.currentPage||this.ui.currentPage.needsUpdate)$math$$!=$graph$$.mathEnabled?(this.ui.editor.updateGraphComponents(),$graph$$.refresh()):($fold$$!=$graph$$.foldingEnabled?$graph$$.view.revalidate():$graph$$.view.validate(),$graph$$.sizeDidChange());this.ui.updateTabContainer()}};
DrawioFile.prototype.save=function $DrawioFile$$save$($revision$$,$success$$,$error$$,$unloading$$,$overwrite$$,$manual$$){try{if(this.isEditable())if(!$overwrite$$&&this.invalidChecksum)if(null!=$error$$)$error$$({message:mxResources.get("checksum")});else throw Error(mxResources.get("checksum"));else this.updateFileData(),this.clearAutosave(),null!=$success$$&&$success$$();else if(null!=$error$$)$error$$({message:mxResources.get("readOnly")});else throw Error(mxResources.get("readOnly"));}catch($e$$){if(null!=
$error$$)$error$$($e$$);else throw $e$$;}};DrawioFile.prototype.updateFileData=function $DrawioFile$$updateFileData$(){this.setData(this.ui.getFileData(null,null,null,null,null,null,null,null,this))};DrawioFile.prototype.saveAs=function $DrawioFile$$saveAs$($filename$$,$success$$,$error$$){};DrawioFile.prototype.saveFile=function $DrawioFile$$saveFile$($title$$,$revision$$,$success$$,$error$$){};DrawioFile.prototype.getPublicUrl=function $DrawioFile$$getPublicUrl$($fn$$){$fn$$(null)};
DrawioFile.prototype.isRestricted=function $DrawioFile$$isRestricted$(){return!1};DrawioFile.prototype.isModified=function $DrawioFile$$isModified$(){return this.modified};DrawioFile.prototype.setModified=function $DrawioFile$$setModified$($value$$){this.modified=$value$$};DrawioFile.prototype.isAutosaveOptional=function $DrawioFile$$isAutosaveOptional$(){return!1};DrawioFile.prototype.isAutosave=function $DrawioFile$$isAutosave$(){return!this.inConflictState&&this.ui.editor.autosave};
DrawioFile.prototype.isRenamable=function $DrawioFile$$isRenamable$(){return!1};DrawioFile.prototype.rename=function $DrawioFile$$rename$($title$$,$success$$,$error$$){};DrawioFile.prototype.isMovable=function $DrawioFile$$isMovable$(){return!1};DrawioFile.prototype.move=function $DrawioFile$$move$($folderId$$,$success$$,$error$$){};DrawioFile.prototype.getHash=function $DrawioFile$$getHash$(){return""};DrawioFile.prototype.getId=function $DrawioFile$$getId$(){return""};
DrawioFile.prototype.isEditable=function $DrawioFile$$isEditable$(){return!this.ui.editor.isChromelessView()||this.ui.editor.editable};DrawioFile.prototype.getUi=function $DrawioFile$$getUi$(){return this.ui};DrawioFile.prototype.getTitle=function $DrawioFile$$getTitle$(){return""};DrawioFile.prototype.setData=function $DrawioFile$$setData$($data$$){this.data=$data$$};DrawioFile.prototype.getData=function $DrawioFile$$getData$(){return this.data};
DrawioFile.prototype.open=function $DrawioFile$$open$(){this.stats.opened++;var $data$$=this.getData();null!=$data$$&&(this.ui.setFileData($data$$),this.isModified()||(this.shadowData=mxUtils.getXml(this.ui.getXmlFileData()),this.shadowPages=null));this.installListeners();this.isSyncSupported()&&this.startSync()};DrawioFile.prototype.isSyncSupported=function $DrawioFile$$isSyncSupported$(){return!1};DrawioFile.prototype.isRevisionHistorySupported=function $DrawioFile$$isRevisionHistorySupported$(){return!1};
DrawioFile.prototype.getRevisions=function $DrawioFile$$getRevisions$($success$$,$error$$){$success$$(null)};DrawioFile.prototype.loadDescriptor=function $DrawioFile$$loadDescriptor$($success$$,$error$$){$success$$(null)};DrawioFile.prototype.loadPatchDescriptor=function $DrawioFile$$loadPatchDescriptor$($success$$,$error$$){this.loadDescriptor(mxUtils.bind(this,function($desc$$){$success$$($desc$$)}),$error$$)};
DrawioFile.prototype.patchDescriptor=function $DrawioFile$$patchDescriptor$($desc$$,$patch$$){this.setDescriptorEtag($desc$$,this.getDescriptorEtag($patch$$))};DrawioFile.prototype.startSync=function $DrawioFile$$startSync$(){"auto"!=DrawioFile.SYNC||"1"==urlParams.stealth||"1"!=urlParams.rt&&this.ui.editor.chromeless&&!this.ui.editor.editable||(null==this.sync&&(this.sync=new DrawioFileSync(this)),this.sync.start())};DrawioFile.prototype.isConflict=function $DrawioFile$$isConflict$(){return!1};
DrawioFile.prototype.getChannelId=function $DrawioFile$$getChannelId$(){return Graph.compress(this.getHash()).replace(/[\/ +]/g,"_")};DrawioFile.prototype.getChannelKey=function $DrawioFile$$getChannelKey$($desc$$){return null};DrawioFile.prototype.getCurrentUser=function $DrawioFile$$getCurrentUser$(){return null};DrawioFile.prototype.getLatestVersion=function $DrawioFile$$getLatestVersion$($success$$,$error$$){$success$$(null)};DrawioFile.prototype.getLastModifiedDate=function $DrawioFile$$getLastModifiedDate$(){return new Date};
DrawioFile.prototype.setCurrentEtag=function $DrawioFile$$setCurrentEtag$($etag$$){this.setDescriptorEtag(this.getDescriptor(),$etag$$)};DrawioFile.prototype.getCurrentEtag=function $DrawioFile$$getCurrentEtag$(){return this.getDescriptorEtag(this.getDescriptor())};DrawioFile.prototype.getDescriptor=function $DrawioFile$$getDescriptor$(){return null};DrawioFile.prototype.setDescriptor=function $DrawioFile$$setDescriptor$(){};
DrawioFile.prototype.setDescriptorEtag=function $DrawioFile$$setDescriptorEtag$($desc$$,$etag$$){};DrawioFile.prototype.getDescriptorEtag=function $DrawioFile$$getDescriptorEtag$($desc$$){return null};DrawioFile.prototype.getDescriptorSecret=function $DrawioFile$$getDescriptorSecret$($desc$$){return null};
DrawioFile.prototype.installListeners=function $DrawioFile$$installListeners$(){null==this.changeListener&&(this.changeListener=mxUtils.bind(this,function($sender$$,$eventObject$$){var $edit$$=null!=$eventObject$$?$eventObject$$.getProperty("edit"):null;!this.changeListenerEnabled||!this.isEditable()||null!=$edit$$&&$edit$$.ignoreEdit||this.fileChanged()}),this.ui.editor.graph.model.addListener(mxEvent.CHANGE,this.changeListener),this.ui.editor.graph.addListener("gridSizeChanged",this.changeListener),
this.ui.editor.graph.addListener("shadowVisibleChanged",this.changeListener),this.ui.addListener("pageFormatChanged",this.changeListener),this.ui.addListener("pageScaleChanged",this.changeListener),this.ui.addListener("backgroundColorChanged",this.changeListener),this.ui.addListener("backgroundImageChanged",this.changeListener),this.ui.addListener("foldingEnabledChanged",this.changeListener),this.ui.addListener("mathEnabledChanged",this.changeListener),this.ui.addListener("gridEnabledChanged",this.changeListener),
this.ui.addListener("guidesEnabledChanged",this.changeListener),this.ui.addListener("pageViewChanged",this.changeListener),this.ui.addListener("connectionPointsChanged",this.changeListener),this.ui.addListener("connectionArrowsChanged",this.changeListener))};
DrawioFile.prototype.addAllSavedStatus=function $DrawioFile$$addAllSavedStatus$($links$$){this.ui.statusContainer&&this.ui.getCurrentFile()===this&&($links$$=$links$$||mxUtils.htmlEntities(mxResources.get(this.allChangesSavedKey)),this.ui.editor.setStatus('<div title="'+$links$$+'">'+$links$$+"</div>"),$links$$=this.ui.statusContainer.getElementsByTagName("div"),$links$$[0]&&this.isRevisionHistorySupported()&&($links$$[0].style.cursor="pointer",$links$$[0].style.textDecoration="underline",mxEvent.addListener($links$$[0],
"click",mxUtils.bind(this,function(){this.ui.actions.get("revisionHistory").funct()}))))};DrawioFile.prototype.addUnsavedStatus=function $DrawioFile$$addUnsavedStatus$($err$$){};
DrawioFile.prototype.addConflictStatus=function $DrawioFile$$addConflictStatus$($fn$$,$message$$){this.invalidChecksum&&null==$message$$&&($message$$=mxResources.get("checksum"));this.setConflictStatus(mxUtils.htmlEntities(mxResources.get("fileChangedSync"))+(null!=$message$$&&""!=$message$$?" ("+mxUtils.htmlEntities($message$$)+")":""));this.ui.spinner.stop();this.clearAutosave();var $links$$=null!=this.ui.statusContainer?this.ui.statusContainer.getElementsByTagName("div"):null;null!=$links$$&&0<
$links$$.length?mxEvent.addListener($links$$[0],"click",mxUtils.bind(this,function($evt$$){"IMG"!=mxEvent.getSource($evt$$).nodeName&&$fn$$()})):this.ui.alert(mxUtils.htmlEntities(mxResources.get("fileChangedSync")),$fn$$)};
DrawioFile.prototype.setConflictStatus=function $DrawioFile$$setConflictStatus$($message$$){this.ui.editor.setStatus('<div title="'+$message$$+'" class="geStatusAlert geBlink" style="cursor:pointer;overflow:hidden;">'+$message$$+' <a href="https://desk.draw.io/support/solutions/articles/16000087947" target="_blank"><img border="0" style="margin-left:2px;cursor:help;opacity:0.5;width:16px;height:16px;" valign="bottom" src="'+Editor.helpImage+'" style=""/></a></div>')};
DrawioFile.prototype.showRefreshDialog=function $DrawioFile$$showRefreshDialog$($success$$,$error$$,$message$$){null==$message$$&&($message$$=mxResources.get("checksum"));this.ui.editor.isChromelessView()&&!this.ui.editor.editable?this.ui.alert(mxResources.get("fileChangedSync"),mxUtils.bind(this,function(){this.reloadFile($success$$,$error$$)})):(this.addConflictStatus(mxUtils.bind(this,function(){this.showRefreshDialog($success$$,$error$$)}),$message$$),this.ui.showError(mxResources.get("error")+
" ("+$message$$+")",mxResources.get("fileChangedSyncDialog"),mxResources.get("makeCopy"),mxUtils.bind(this,function(){this.copyFile($success$$,$error$$)}),null,mxResources.get("synchronize"),mxUtils.bind(this,function(){this.reloadFile($success$$,$error$$)}),mxResources.get("cancel"),mxUtils.bind(this,function(){this.ui.hideDialog()}),360,150))};
DrawioFile.prototype.showCopyDialog=function $DrawioFile$$showCopyDialog$($success$$,$error$$,$overwrite$$){this.invalidChecksum=this.inConflictState=!1;this.addUnsavedStatus();this.ui.showError(mxResources.get("externalChanges"),mxResources.get("fileChangedOverwriteDialog"),mxResources.get("makeCopy"),mxUtils.bind(this,function(){this.copyFile($success$$,$error$$)}),null,mxResources.get("overwrite"),$overwrite$$,mxResources.get("cancel"),mxUtils.bind(this,function(){this.ui.hideDialog()}),360,150)};
DrawioFile.prototype.showConflictDialog=function $DrawioFile$$showConflictDialog$($overwrite$$,$synchronize$$){this.ui.showError(mxResources.get("externalChanges"),mxResources.get("fileChangedSyncDialog"),mxResources.get("overwrite"),$overwrite$$,null,mxResources.get("synchronize"),$synchronize$$,mxResources.get("cancel"),mxUtils.bind(this,function(){this.ui.hideDialog();this.handleFileError(null,!1)}),340,150)};
DrawioFile.prototype.redirectToNewApp=function $DrawioFile$$redirectToNewApp$($error$$){this.ui.spinner.stop();if(!this.redirectDialogShowing){this.redirectDialogShowing=!0;var $url$$=window.location.protocol+"//"+window.location.host+"/"+this.ui.getSearch("create title mode url drive splash state".split(" "))+"#"+this.getHash(),$redirect$$=mxUtils.bind(this,function(){var $fn$$=mxUtils.bind(this,function(){this.redirectDialogShowing=!1;window.location.href==$url$$?window.location.reload():window.location.href=
$url$$});null==$error$$&&this.isModified()?this.ui.confirm(mxResources.get("allChangesLost"),mxUtils.bind(this,function(){this.redirectDialogShowing=!1}),$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$()});null!=$error$$?this.isModified()?this.ui.confirm(mxResources.get("redirectToNewApp"),mxUtils.bind(this,function(){this.redirectDialogShowing=!1;$error$$()}),$redirect$$,mxResources.get("cancel"),mxResources.get("discardChanges")):this.ui.confirm(mxResources.get("redirectToNewApp"),
$redirect$$,mxUtils.bind(this,function(){this.redirectDialogShowing=!1;$error$$()})):this.ui.alert(mxResources.get("redirectToNewApp"),$redirect$$)}};
DrawioFile.prototype.handleFileSuccess=function $DrawioFile$$handleFileSuccess$($saved$$){this.ui.spinner.stop();this.ui.getCurrentFile()==this&&(this.isModified()?this.fileChanged():$saved$$?(this.addAllSavedStatus(),null!=this.sync&&(this.sync.resetUpdateStatusThread(),this.sync.remoteFileChanged&&(this.sync.remoteFileChanged=!1,this.sync.fileChangedNotify()))):this.ui.editor.setStatus(""))};
DrawioFile.prototype.handleFileError=function $DrawioFile$$handleFileError$($err$$,$manual$$){this.ui.spinner.stop();if(this.ui.getCurrentFile()==this)if(this.inConflictState)this.handleConflictError($err$$,$manual$$);else if(this.isModified()&&this.addUnsavedStatus($err$$),$manual$$)this.ui.handleError($err$$,null!=$err$$?mxResources.get("errorSavingFile"):null);else if(!this.isModified()){var $msg$$=null!=$err$$?null!=$err$$.error?$err$$.error.message:$err$$.message:null;null!=$msg$$&&60<$msg$$.length&&
($msg$$=$msg$$.substring(0,60)+"...");this.ui.editor.setStatus('<div class="geStatusAlert" style="cursor:pointer;overflow:hidden;">'+mxUtils.htmlEntities(mxResources.get("error"))+(null!=$msg$$?" ("+mxUtils.htmlEntities($msg$$)+")":"")+"</div>")}else if(this.isModified()&&!$manual$$&&this.isAutosave())if(null==this.lastWarned)this.lastWarned=Date.now();else if(Date.now()-this.lastWarned>this.warnInterval){$msg$$="";if(null!=this.lastSaved){var $str$$=this.ui.timeSince(new Date(this.lastSaved));null!=
$str$$&&($msg$$=mxResources.get("lastSaved",[$str$$]))}this.ui.showError(mxResources.get("unsavedChanges"),$msg$$,mxResources.get("ignore"),mxUtils.bind(this,function(){this.lastWarned=Date.now();this.ui.hideDialog();EditorUi.logEvent({category:"IGNORE-WARN-SAVE-FILE-"+this.getHash()+"-size-"+this.getSize(),action:"ignore"})}),null,mxResources.get("save"),mxUtils.bind(this,function(){this.lastWarned=Date.now();this.ui.actions.get(null!=this.ui.mode&&this.isEditable()?"save":"saveAs").funct();EditorUi.logEvent({category:"SAVE-WARN-SAVE-FILE-"+
this.getHash()+"-size-"+this.getSize(),action:"save"})}),null,null,360,120)}};
DrawioFile.prototype.handleConflictError=function $DrawioFile$$handleConflictError$($err$$,$manual$$){var $success$$=mxUtils.bind(this,function(){this.handleFileSuccess(!0)}),$error$$=mxUtils.bind(this,function($err2$$){this.handleFileError($err2$$,!0)}),$overwrite$$=mxUtils.bind(this,function(){this.ui.spinner.spin(document.body,mxResources.get("saving"))&&(this.ui.editor.setStatus(""),this.save(!0,$success$$,$error$$,null,!0,this.constructor==GitHubFile&&null!=$err$$?$err$$.commitMessage:null))}),
$synchronize$$=mxUtils.bind(this,function(){this.ui.spinner.spin(document.body,mxResources.get("updatingDocument"))&&this.synchronizeFile(mxUtils.bind(this,function(){this.ui.spinner.stop();this.ui.spinner.spin(document.body,mxResources.get("saving"))&&this.save(!0,$success$$,$error$$,null,null,this.constructor==GitHubFile&&null!=$err$$?$err$$.commitMessage:null)}),$error$$)});"none"==DrawioFile.SYNC?this.showCopyDialog($success$$,$error$$,$overwrite$$):this.invalidChecksum?this.showRefreshDialog($success$$,
$error$$,this.getErrorMessage($err$$)):$manual$$?this.showConflictDialog($overwrite$$,$synchronize$$):this.addConflictStatus(mxUtils.bind(this,function(){this.ui.editor.setStatus(mxUtils.htmlEntities(mxResources.get("updatingDocument")));this.synchronizeFile($success$$,$error$$)}),this.getErrorMessage($err$$))};DrawioFile.prototype.getErrorMessage=function $DrawioFile$$getErrorMessage$($err$$){return null!=$err$$?null!=$err$$.error?$err$$.error.message:$err$$.message:null};
DrawioFile.prototype.fileChanged=function $DrawioFile$$fileChanged$(){this.setModified(!0);this.isAutosave()?(this.addAllSavedStatus(mxUtils.htmlEntities(mxResources.get("saving"))+"..."),this.autosave(this.autosaveDelay,this.maxAutosaveDelay,mxUtils.bind(this,function($resp$$){null==this.autosaveThread&&this.handleFileSuccess(!0)}),mxUtils.bind(this,function($err$$){this.handleFileError($err$$)}))):this.isAutosaveOptional()&&this.ui.editor.autosave||this.inConflictState||this.addUnsavedStatus()};
DrawioFile.prototype.fileSaved=function $DrawioFile$$fileSaved$($savedData$$,$lastDesc$$,$success$$,$error$$){this.lastSaved=new Date;try{this.stats.saved++,this.invalidChecksum=this.inConflictState=!1,null==this.sync?(this.shadowData=$savedData$$,this.shadowPages=null,null!=$success$$&&$success$$()):this.sync.fileSaved(this.ui.getPagesForNode(mxUtils.parseXml($savedData$$).documentElement),$lastDesc$$,$success$$,$error$$,$savedData$$)}catch($e$$){this.invalidChecksum=this.inConflictState=!0;this.descriptorChanged();
null!=$error$$&&$error$$($e$$);try{if(this.errorReportsEnabled)this.sendErrorReport("Error in fileSaved",null,$e$$);else{var $user$$=this.getCurrentUser(),$uid$$=null!=$user$$?$user$$.id:"unknown";EditorUi.logError("Error in fileSaved",null,this.getMode()+"."+this.getId(),$uid$$,$e$$)}}catch($e2$$){}}};
DrawioFile.prototype.autosave=function $DrawioFile$$autosave$($delay$jscomp$1_tmp$$,$maxDelay$$,$success$$,$error$$){null==this.lastAutosave&&(this.lastAutosave=(new Date).getTime());$delay$jscomp$1_tmp$$=(new Date).getTime()-this.lastAutosave<$maxDelay$$?$delay$jscomp$1_tmp$$:0;this.clearAutosave();var $thread$$=window.setTimeout(mxUtils.bind(this,function(){this.lastAutosave=null;this.autosaveThread==$thread$$&&(this.autosaveThread=null);if(this.isModified()&&this.isAutosaveNow()){var $rev$$=this.isAutosaveRevision();
$rev$$&&(this.lastAutosaveRevision=(new Date).getTime());this.save($rev$$,mxUtils.bind(this,function($resp$$){this.autosaveCompleted();null!=$success$$&&$success$$($resp$$)}),mxUtils.bind(this,function($resp$$){null!=$error$$&&$error$$($resp$$)}))}else this.isModified()||this.ui.editor.setStatus(""),null!=$success$$&&$success$$(null)}),$delay$jscomp$1_tmp$$);this.autosaveThread=$thread$$};DrawioFile.prototype.isAutosaveNow=function $DrawioFile$$isAutosaveNow$(){return!0};
DrawioFile.prototype.autosaveCompleted=function $DrawioFile$$autosaveCompleted$(){};DrawioFile.prototype.clearAutosave=function $DrawioFile$$clearAutosave$(){null!=this.autosaveThread&&(window.clearTimeout(this.autosaveThread),this.autosaveThread=null)};DrawioFile.prototype.isAutosaveRevision=function $DrawioFile$$isAutosaveRevision$(){var $now$$=(new Date).getTime();return null==this.lastAutosaveRevision||$now$$-this.lastAutosaveRevision>this.maxAutosaveRevisionDelay};
DrawioFile.prototype.descriptorChanged=function $DrawioFile$$descriptorChanged$(){this.fireEvent(new mxEventObject("descriptorChanged"))};DrawioFile.prototype.contentChanged=function $DrawioFile$$contentChanged$(){this.fireEvent(new mxEventObject("contentChanged"))};DrawioFile.prototype.close=function $DrawioFile$$close$($unloading$$){this.updateFileData();this.stats.closed++;this.isAutosave()&&this.isModified()&&this.save(this.isAutosaveRevision(),null,null,$unloading$$);this.destroy()};
DrawioFile.prototype.hasSameExtension=function $DrawioFile$$hasSameExtension$($title$$,$newTitle$$){if(null!=$title$$&&null!=$newTitle$$){var $dot$$=$title$$.lastIndexOf("."),$ext$$=0<$dot$$?$title$$.substring($dot$$):"",$dot$$=$newTitle$$.lastIndexOf(".");return $ext$$===(0<$dot$$?$newTitle$$.substring($dot$$):"")}return $title$$==$newTitle$$};
DrawioFile.prototype.removeListeners=function $DrawioFile$$removeListeners$(){null!=this.changeListener&&(this.ui.editor.graph.model.removeListener(this.changeListener),this.ui.editor.graph.removeListener(this.changeListener),this.ui.removeListener(this.changeListener),this.changeListener=null)};DrawioFile.prototype.destroy=function $DrawioFile$$destroy$(){this.stats.destroyed++;this.clearAutosave();this.removeListeners();null!=this.sync&&(this.sync.destroy(),this.sync=null)};
DrawioFile.prototype.commentsSupported=function $DrawioFile$$commentsSupported$(){return!1};DrawioFile.prototype.commentsRefreshNeeded=function $DrawioFile$$commentsRefreshNeeded$(){return!0};DrawioFile.prototype.commentsSaveNeeded=function $DrawioFile$$commentsSaveNeeded$(){return!1};DrawioFile.prototype.getComments=function $DrawioFile$$getComments$($success$$,$error$$){$success$$([])};DrawioFile.prototype.addComment=function $DrawioFile$$addComment$($comment$$,$success$$,$error$$){$success$$(Date.now())};
DrawioFile.prototype.canReplyToReplies=function $DrawioFile$$canReplyToReplies$(){return!0};DrawioFile.prototype.canComment=function $DrawioFile$$canComment$(){return!0};DrawioFile.prototype.newComment=function $DrawioFile$$newComment$($content$$,$user$$){return new DrawioComment(this,null,$content$$,Date.now(),Date.now(),!1,$user$$)};CSETFile=function $CSETFile$($ui$$,$data$$,$title$$,$temp$$){DrawioFile.call(this,$ui$$,$data$$);this.title=$title$$;this.mode=App.MODE_CSET};mxUtils.extend(CSETFile,DrawioFile);CSETFile.prototype.isAutosave=function $CSETFile$$isAutosave$(){return!1};CSETFile.prototype.getMode=function $CSETFile$$getMode$(){return this.mode};CSETFile.prototype.getTitle=function $CSETFile$$getTitle$(){return this.title};CSETFile.prototype.isRenamable=function $CSETFile$$isRenamable$(){return!0};
CSETFile.prototype.save=function $CSETFile$$save$($revision$$,$success$$,$error$$){this.saveAs(this.title,$success$$,$error$$)};CSETFile.prototype.saveAs=function $CSETFile$$saveAs$($title$$,$success$$,$error$$){this.saveFile($title$$,!1,$success$$,$error$$)};
CSETFile.prototype.saveFile=function $CSETFile$$saveFile$($data$jscomp$47_title$$,$revision$$,$success$$,$error$$){var $$jscomp$this$$=this;this.rename($data$jscomp$47_title$$);$data$jscomp$47_title$$=this.getData();var $empty$$=this.isEmpty();$data$jscomp$47_title$$&&!$empty$$?CsetUtils.PersistDataToCSET(this.ui.editor,$data$jscomp$47_title$$,$revision$$).then(function(){$$jscomp$this$$.setModified(!1);$$jscomp$this$$.contentChanged();$success$$&&$success$$()},function($reason$$){$error$$&&$error$$($reason$$)}):
$success$$&&$success$$()};CSETFile.prototype.rename=function $CSETFile$$rename$($title$$,$success$$,$error$$){this.title!==$title$$&&(this.title=$title$$,this.updateFileData(),this.descriptorChanged(),$success$$&&$success$$())};CSETFile.prototype.open=function $CSETFile$$open$(){var $data$$=this.getData();$data$$&&(this.ui.setFileData($data$$),this.isModified()||(this.shadowData=mxUtils.getXml(this.ui.getXmlFileData()),this.shadowPages=null));this.installListeners()};
CSETFile.prototype.emptyXmlRegx=/<mxGraphModel(?:\s+grid=["']\d+["'])?(?:\s+gridSize=["']\d+["'])?><root><mxCell id=["']0["']\s*(?:\/>|>(?:<mxCell id=["']1["'] parent=["']0["']\s+\/>)?<\/mxCell>)<\/root><\/mxGraphModel>/g;CSETFile.prototype.isDiagramEmpty=function $CSETFile$$isDiagramEmpty$(){return this.ui.isDiagramEmpty()};CSETFile.prototype.isXmlEmpty=function $CSETFile$$isXmlEmpty$(){var $data$$=this.getData();return!$data$$||this.emptyXmlRegx.test($data$$)};
CSETFile.prototype.isEmpty=function $CSETFile$$isEmpty$(){return this.isDiagramEmpty()||this.isXmlEmpty()};CSETFile.prototype.setFileData=function $CSETFile$$setFileData$($data$$,$success$$,$error$$){try{$data$$&&$data$$!==this.getData()&&(this.setData($data$$),this.ui.setFileData($data$$),this.shadowData=mxUtils.getXml(this.ui.getXmlFileData()),this.shadowPages=null,this.setModified(!0)),$success$$&&$success$$()}catch($err$$){$error$$&&$error$$($err$$)}};LocalFile=function $LocalFile$($ui$$,$data$$,$title$$,$temp$$){DrawioFile.call(this,$ui$$,$data$$);this.title=$title$$;this.mode=$temp$$?null:App.MODE_DEVICE};mxUtils.extend(LocalFile,DrawioFile);LocalFile.prototype.isAutosave=function $LocalFile$$isAutosave$(){return!1};LocalFile.prototype.getMode=function $LocalFile$$getMode$(){return this.mode};LocalFile.prototype.getTitle=function $LocalFile$$getTitle$(){return this.title};LocalFile.prototype.isRenamable=function $LocalFile$$isRenamable$(){return!0};
LocalFile.prototype.save=function $LocalFile$$save$($revision$$,$success$$,$error$$){this.saveAs(this.title,$success$$,$error$$)};LocalFile.prototype.saveAs=function $LocalFile$$saveAs$($title$$,$success$$,$error$$){this.saveFile($title$$,!1,$success$$,$error$$)};
LocalFile.prototype.saveFile=function $LocalFile$$saveFile$($title$$,$data$jscomp$52_revision$$,$success$$,$error$$){this.title=$title$$;this.updateFileData();$data$jscomp$52_revision$$=this.getData();var $binary$$=this.ui.useCanvasForExport&&/(\.png)$/i.test(this.getTitle()),$doSave$$=mxUtils.bind(this,function($data$$){if(this.ui.isOfflineApp()||this.ui.isLocalFileSave())this.ui.doSaveLocalFile($data$$,$title$$,$binary$$?"image/png":"text/xml",$binary$$);else if($data$$.length<MAX_REQUEST_SIZE){var $dot$jscomp$2_format$$=
$title$$.lastIndexOf("."),$dot$jscomp$2_format$$=0<$dot$jscomp$2_format$$?$title$$.substring($dot$jscomp$2_format$$+1):"xml";(new mxXmlRequest(SAVE_URL,"format="+$dot$jscomp$2_format$$+"&xml="+encodeURIComponent($data$$)+"&filename="+encodeURIComponent($title$$)+($binary$$?"&binary=1":""))).simulate(document,"_blank")}else this.ui.handleError({message:mxResources.get("drawingTooLarge")},mxResources.get("error"),mxUtils.bind(this,function(){mxUtils.popup($data$$)}));this.setModified(!1);this.contentChanged();
null!=$success$$&&$success$$()});$binary$$?this.ui.getEmbeddedPng(mxUtils.bind(this,function($imageData$$){$doSave$$($imageData$$)}),$error$$,this.ui.getCurrentFile()!=this?this.getData():null):$doSave$$($data$jscomp$52_revision$$)};LocalFile.prototype.rename=function $LocalFile$$rename$($title$$,$success$$,$error$$){this.title=$title$$;this.descriptorChanged();null!=$success$$&&$success$$()};LocalFile.prototype.open=function $LocalFile$$open$(){this.ui.setFileData(this.getData());this.installListeners()};(function(){Editor.prototype.appName="cset";Editor.prototype.fileExtensions=[{ext:"html",title:"filetypeHtml"},{ext:"png",title:"filetypePng"},{ext:"svg",title:"filetypeSvg"}];Editor.closeImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAApVBMVEUAAAD////k5OT///8AAAB1dXXMzMz9/f39/f37+/v5+fn+/v7///9iYmJaWlqFhYWnp6ejo6OHh4f////////////////7+/v5+fnx8fH///8AAAD///8bGxv7+/v5+fkoKCghISFDQ0MYGBjh4eHY2Njb29tQUFBvb29HR0c/Pz82NjYrKyu/v78SEhLu7u7s7OzV1dVVVVU7OzsVFRXAv78QEBBzqehMAAAAG3RSTlMAA/7p/vz5xZlrTiPL/v78+/v7+OXd2TYQDs8L70ZbAAABKUlEQVQoz3VS13LCMBBUXHChd8iukDslQChJ/v/TchaG4cXS+OSb1c7trU7V60OpdRz2ZtNZL4zXNlcN8BEtSG6+NxIXkeRPoBuQ1cjvZ31/VJFB10ISli6diYfH8iYO3WUNCcNlB0gTrXOtkxTo0O1aKKiBBMhhv2MNBQKoiA5wxlZo0JDzD3AYKbWacyj3fs01wxey0pyEP+R8pWKWXoqtIZ0DDg5pbki9krEKOa6LVDQsdoXEsi46Zqh69KFz7B1u7Hb2yDV8firXDKBlZ4UFiswKGRhXTS93/ECK7yxnJ3+S3y/ThpO+cfSD017nqa18aasabU0/t7d+tk0/1oMEJ1NaD67iwdF68OabFSLn+eHb0+vjy+uk8br9fdrftH0O2menfd7+AQfYM/lNjoDHAAAAAElFTkSuQmCC":
IMAGE_PATH+"/delete.png";Editor.plusImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDdCMTdENjVCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDdCMTdENjZCOEM4MTFFNDlCRjVBNDdCODU5NjNBNUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowN0IxN0Q2M0I4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowN0IxN0Q2NEI4QzgxMUU0OUJGNUE0N0I4NTk2M0E1QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtjrjmgAAAAtSURBVHjaYvz//z8DMigvLwcLdHZ2MiKLMzEQCaivkLGsrOw/dU0cAr4GCDAARQsQbTFrv10AAAAASUVORK5CYII=":
IMAGE_PATH+"/plus.png";Editor.spinImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDAAMAPUxAEVriVp7lmCAmmGBm2OCnGmHn3OPpneSqYKbr4OcsIScsI2kto6kt46lt5KnuZmtvpquvpuvv56ywaCzwqK1xKu7yay9yq+/zLHAzbfF0bjG0bzJ1LzK1MDN18jT28nT3M3X3tHa4dTc49Xd5Njf5dng5t3k6d/l6uDm6uru8e7x8/Dz9fT29/b4+Pj5+fj5+vr6+v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKADEAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAADAAMAAAGR8CYcEgsOgYAIax4CCQuQldrCBEsiK8VS2hoFGOrlJDA+cZQwkLnqyoJFZKviSS0ICrE0ec0jDAwIiUeGyBFGhMPFBkhZo1BACH5BAkKAC4ALAAAAAAMAAwAhVB0kFR3k1V4k2CAmmWEnW6Lo3KOpXeSqH2XrIOcsISdsImhtIqhtJCmuJGnuZuwv52wwJ+ywZ+ywqm6yLHBzbLCzrXEz7fF0LnH0rrI0r7L1b/M1sXR2cfT28rV3czW3s/Z4Nfe5Nvi6ODm6uLn6+Ln7OLo7OXq7efs7+zw8u/y9PDy9PX3+Pr7+////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZDQJdwSCxGDAIAoVFkFBwYSyIwGE4OkCJxIdG6WkJEx8sSKj7elfBB0a5SQg1EQ0SVVMPKhDM6iUIkRR4ZFxsgJl6JQQAh+QQJCgAxACwAAAAADAAMAIVGa4lcfZdjgpxkg51nhp5ui6N3kqh5lKqFnbGHn7KIoLOQp7iRp7mSqLmTqbqarr6br7+fssGitcOitcSuvsuuv8uwwMyzw861xNC5x9K6x9K/zNbDztjE0NnG0drJ1NzQ2eDS2+LT2+LV3ePZ4Oba4ebb4ufc4+jm6+7t8PLt8PPt8fPx8/Xx9PX09vf19/j3+Pn///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CYcEgsUhQFggFSjCQmnE1jcBhqGBXiIuAQSi7FGEIgfIzCFoCXFCZiPO0hKBMiwl7ET6eUYqlWLkUnISImKC1xbUEAIfkECQoAMgAsAAAAAAwADACFTnKPT3KPVHaTYoKcb4yjcY6leZSpf5mtgZuvh5+yiqG0i6K1jqW3kae5nrHBnrLBn7LCoLPCobTDqbrIqrvIs8LOtMPPtcPPtcTPuMbRucfSvcrUvsvVwMzWxdHaydTcytXdzNbezdff0drh2ODl2+Ln3eTp4Obq4ujs5Ont5uvu6O3w6u7w6u7x7/L09vj5+vr7+vv7////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkdAmXBILHIcicOCUqxELKKPxKAYgiYd4oMAEWo8RVmjIMScwhmBcJMKXwLCECmMGAhPI1QRwBiaSixCMDFhLSorLi8wYYxCQQAh+QQJCgAxACwAAAAADAAMAIVZepVggJphgZtnhp5vjKN2kah3kqmBmq+KobSLorWNpLaRp7mWq7ybr7+gs8KitcSktsWnuManucexwM2ywc63xtG6yNO9ytS+ytW/zNbDz9jH0tvL1d3N197S2+LU3OPU3ePV3eTX3+Xa4efb4ufd5Onl6u7r7vHs7/Lt8PLw8/Xy9Pby9fb09ff2+Pn3+Pn6+vr///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGSMCYcEgseiwSR+RS7GA4JFGF8RiWNiEiJTERgkjFGAQh/KTCGoJwpApnBkITKrwoCFWnFlEhaAxXLC9CBwAGRS4wQgELYY1CQQAh+QQJCgAzACwAAAAADAAMAIVMcI5SdZFhgZtti6JwjaR4k6mAma6Cm6+KobSLorWLo7WNo7aPpredsMCescGitMOitcSmuMaqu8ixwc2zws63xdC4xtG5x9K9ytXAzdfCztjF0NnF0drK1d3M1t7P2N/P2eDT2+LX3+Xe5Onh5+vi5+vj6Ozk6e3n7O/o7O/q7vHs7/Lt8PPu8fPx8/X3+Pn6+vv7+/v8/Pz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRcCZcEgsmkIbTOZTLIlGqZNnchm2SCgiJ6IRqljFmQUiXIVnoITQde4chC9Y+LEQxmTFRkFSNFAqDAMIRQoCAAEEDmeLQQAh+QQJCgAwACwAAAAADAAMAIVXeZRefplff5lhgZtph59yjqV2kaeAmq6FnbGFnrGLorWNpLaQp7mRqLmYrb2essGgs8Klt8apusitvcquv8u2xNC7yNO8ydS8ytTAzdfBzdfM1t7N197Q2eDU3OPX3+XZ4ObZ4ebc4+jf5erg5erg5uvp7fDu8fPv8vTz9fb09vf19/j3+Pn4+fn5+vr6+/v///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRUCYcEgspkwjEKhUVJ1QsBNp0xm2VixiSOMRvlxFGAcTJook5eEHIhQcwpWIkAFQECkNy9AQWFwyEAkPRQ4FAwQIE2llQQAh+QQJCgAvACwAAAAADAAMAIVNcY5SdZFigptph6BvjKN0kKd8lquAmq+EnbGGn7KHn7ONpLaOpbearr+csMCdscCescGhtMOnuMauvsuzws60w862xdC9ytW/y9a/zNbCztjG0drH0tvK1N3M1t7N19/U3ePb4uff5urj6Ozk6e3l6u7m6u7o7PDq7vDt8PPv8vTw8vTw8/X19vf6+vv///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGQ8CXcEgsvlytVUplJLJIpSEDUESFTELBwSgCCQEV42kjDFiMo4uQsDB2MkLHoEHUTD7DRAHC8VAiZ0QSCgYIDxhNiUEAOw==":
IMAGE_PATH+"/spin.gif";Editor.globeImage='data:images/svg+xml;utf8,<svg xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink" height="50" style="enable-background:new 0 0 500 500;" version="1.1" viewBox="0 0 500 500" width="50" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path class="fill-white" d="M384.4,166.7c0-14.3-0.1-30.7-0.6-38.9C379.4,58.8,317,6.2,246.3,6.4v0c-0.1,0-0.2,0-0.3,0\tc-0.1,0-0.1,0-0.3,0h0C175,7.5,113.6,61.2,110.4,130.2c-0.4,9.7-0.3,25.2-0.1,36.4h-0.2v27.2h62.4v-14.1c0,0-0.5-33.8,1-50.1\tc3.3-34.8,36.7-60.2,73-60.9c36.3,0,70.2,24.9,74.1,59.6c1.8,16.3,0.5,65.5,0.5,65.5h0.9h62.3V166.7L384.4,166.7z"></path><path class="fill-primary" d="M331.7,183.5c0.3-15.6,0.6-44.2-0.8-56.3c-4.3-38.5-41.3-68.8-84.4-68.8,c-43.2,0.8-79.7,31.7-83.3,70.3c-1.5,16.7-1.1,49.8-1.1,51.2v3.6h-41.7v-14.9c0.2-0.7,0.2-1.4,0.2-2.2c-0.2-11.2-0.4-26.4,0.1-35.8,c2.9-61.8,59-113,125.1-114c0.1,0,0.6,0,0.7,0c66,0,122.9,50.1,126.9,111.8c0.4,6.3,0.6,18.8,0.6,38.2v16.9H331.7z"></path><path class="fill-white" d="M404.6,207.6H90c-19.4,0-35.1,15.7-35.1,35.1v215.8c0,19.4,15.7,35.1,35.1,35.1h314.6,c19.4,0,35.1-15.7,35.1-35.1V242.7C439.7,223.3,424,207.6,404.6,207.6z"></path><path class="fill-primary" d="M90,483.2c-13.6,0-24.7-11.1-24.7-24.7V242.7c0-13.6,11.1-24.7,24.7-24.7h314.6,c13.6,0,24.7,11.1,24.7,24.7v215.8c0,13.6-11.1,24.7-24.7,24.7H90z"></path><path class="fill-white" d="M393,302.9H146.2c-4.3,0-4.6,1-4.6,6v91.2c0,3.2,0.5,4.8,3.4,5.3c0.4,0.2-0.2,0,0.2,0h243.2,v37.2H132.8c-12,0-20-5.3-25.4-15.4c-2.5-4.6-3.1-10.1-3.1-15.9V295.8c0-12.3,4.3-21.3,14.4-26.3c4.3-2.3,8.6-3.7,14.1-3.7H393,V302.9z"></path></svg>';
Editor.commentImage='data:images/svg+xml;utf8,<svg xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink" height="50" style="enable-background:new 0 0 500 500;" version="1.1" viewBox="0 0 500 500" width="50" x="0px" xmlns="http://www.w3.org/2000/svg" y="0px"><path class="fill-white" d="M384.4,166.7c0-14.3-0.1-30.7-0.6-38.9C379.4,58.8,317,6.2,246.3,6.4v0c-0.1,0-0.2,0-0.3,0\tc-0.1,0-0.1,0-0.3,0h0C175,7.5,113.6,61.2,110.4,130.2c-0.4,9.7-0.3,25.2-0.1,36.4h-0.2v27.2h62.4v-14.1c0,0-0.5-33.8,1-50.1\tc3.3-34.8,36.7-60.2,73-60.9c36.3,0,70.2,24.9,74.1,59.6c1.8,16.3,0.5,65.5,0.5,65.5h0.9h62.3V166.7L384.4,166.7z"></path><path class="fill-primary" d="M331.7,183.5c0.3-15.6,0.6-44.2-0.8-56.3c-4.3-38.5-41.3-68.8-84.4-68.8,c-43.2,0.8-79.7,31.7-83.3,70.3c-1.5,16.7-1.1,49.8-1.1,51.2v3.6h-41.7v-14.9c0.2-0.7,0.2-1.4,0.2-2.2c-0.2-11.2-0.4-26.4,0.1-35.8,c2.9-61.8,59-113,125.1-114c0.1,0,0.6,0,0.7,0c66,0,122.9,50.1,126.9,111.8c0.4,6.3,0.6,18.8,0.6,38.2v16.9H331.7z"></path><path class="fill-white" d="M404.6,207.6H90c-19.4,0-35.1,15.7-35.1,35.1v215.8c0,19.4,15.7,35.1,35.1,35.1h314.6,c19.4,0,35.1-15.7,35.1-35.1V242.7C439.7,223.3,424,207.6,404.6,207.6z"></path><path class="fill-primary" d="M90,483.2c-13.6,0-24.7-11.1-24.7-24.7V242.7c0-13.6,11.1-24.7,24.7-24.7h314.6,c13.6,0,24.7,11.1,24.7,24.7v215.8c0,13.6-11.1,24.7-24.7,24.7H90z"></path><path class="fill-white" d="M393,302.9H146.2c-4.3,0-4.6,1-4.6,6v91.2c0,3.2,0.5,4.8,3.4,5.3c0.4,0.2-0.2,0,0.2,0h243.2,v37.2H132.8c-12,0-20-5.3-25.4-15.4c-2.5-4.6-3.1-10.1-3.1-15.9V295.8c0-12.3,4.3-21.3,14.4-26.3c4.3-2.3,8.6-3.7,14.1-3.7H393,V302.9z"></path></svg>';
Editor.commentImageInverted="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABLElEQVRYR+2Wvy4FQRjFf4dINAq9XqtSaVRqXArPINEodUqlhxC5/pU6nYdQSHQeQTRHNtmVuXuXrIxv1k1sN5vMOb85c75kxMCfBvZnCsD2ErAGzAfAvUt6THUnAGwfAWfAQoB5I3kh6aBZfALYXgGeg80b31VJT9UiBRgB48CTp9Lbku7aAPvAZSGAHUm3swEgKWtUbbsj1f4JDA4AbGb24iErgUzzr7bvSrrpVcKgK5ghgKAO9E/gvwNBJRxJuu41BUEd+BFARA3+JsAWcB9x3A7NzgSqt+ALsFwAYhqgMrW9Ub8J14G5QJBugAhD2yfAaUt7T9LVxBhGmDeato/rZJtfZQHq600hygPUEIfAOTAMQALxWrQD7X7ZXpT0VqyE3xU868n9G5PzASPvpiHavBAUAAAAAElFTkSuQmCC";
Editor.userImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMTJjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0wIDJjLTIuNjcgMC04IDEuMzQtOCA0djJoMTZ2LTJjMC0yLjY2LTUuMzMtNC04LTR6Ii8+PC9zdmc+";Editor.shareImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTggMTYuMDhjLS43NiAwLTEuNDQuMy0xLjk2Ljc3TDguOTEgMTIuN2MuMDUtLjIzLjA5LS40Ni4wOS0uN3MtLjA0LS40Ny0uMDktLjdsNy4wNS00LjExYy41NC41IDEuMjUuODEgMi4wNC44MSAxLjY2IDAgMy0xLjM0IDMtM3MtMS4zNC0zLTMtMy0zIDEuMzQtMyAzYzAgLjI0LjA0LjQ3LjA5LjdMOC4wNCA5LjgxQzcuNSA5LjMxIDYuNzkgOSA2IDljLTEuNjYgMC0zIDEuMzQtMyAzczEuMzQgMyAzIDNjLjc5IDAgMS41LS4zMSAyLjA0LS44MWw3LjEyIDQuMTZjLS4wNS4yMS0uMDguNDMtLjA4LjY1IDAgMS42MSAxLjMxIDIuOTIgMi45MiAyLjkyIDEuNjEgMCAyLjkyLTEuMzEgMi45Mi0yLjkycy0xLjMxLTIuOTItMi45Mi0yLjkyeiIvPjwvc3ZnPg==";
Editor.syncImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgNFYxTDggNWw0IDRWNmMzLjMxIDAgNiAyLjY5IDYgNiAwIDEuMDEtLjI1IDEuOTctLjcgMi44bDEuNDYgMS40NkMxOS41NCAxNS4wMyAyMCAxMy41NyAyMCAxMmMwLTQuNDItMy41OC04LTgtOHptMCAxNGMtMy4zMSAwLTYtMi42OS02LTYgMC0xLjAxLjI1LTEuOTcuNy0yLjhMNS4yNCA3Ljc0QzQuNDYgOC45NyA0IDEwLjQzIDQgMTJjMCA0LjQyIDMuNTggOCA4IDh2M2w0LTQtNC00djN6Ii8+PC9zdmc+";Editor.syncDisabledImage=
"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTAgNi4zNVY0LjI2Yy0uOC4yMS0xLjU1LjU0LTIuMjMuOTZsMS40NiAxLjQ2Yy4yNS0uMTIuNS0uMjQuNzctLjMzem0tNy4xNC0uOTRsMi4zNiAyLjM2QzQuNDUgOC45OSA0IDEwLjQ0IDQgMTJjMCAyLjIxLjkxIDQuMiAyLjM2IDUuNjRMNCAyMGg2di02bC0yLjI0IDIuMjRDNi42OCAxNS4xNSA2IDEzLjY2IDYgMTJjMC0xIC4yNS0xLjk0LjY4LTIuNzdsOC4wOCA4LjA4Yy0uMjUuMTMtLjUuMjUtLjc3LjM0djIuMDljLjgtLjIxIDEuNTUtLjU0IDIuMjMtLjk2bDIuMzYgMi4zNiAxLjI3LTEuMjdMNC4xNCA0LjE0IDIuODYgNS40MXpNMjAgNGgtNnY2bDIuMjQtMi4yNEMxNy4zMiA4Ljg1IDE4IDEwLjM0IDE4IDEyYzAgMS0uMjUgMS45NC0uNjggMi43N2wxLjQ2IDEuNDZDMTkuNTUgMTUuMDEgMjAgMTMuNTYgMjAgMTJjMC0yLjIxLS45MS00LjItMi4zNi01LjY0TDIwIDR6Ii8+PC9zdmc+";
Editor.syncProblemImage="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyAxMmMwIDIuMjEuOTEgNC4yIDIuMzYgNS42NEwzIDIwaDZ2LTZsLTIuMjQgMi4yNEM1LjY4IDE1LjE1IDUgMTMuNjYgNSAxMmMwLTIuNjEgMS42Ny00LjgzIDQtNS42NVY0LjI2QzUuNTUgNS4xNSAzIDguMjcgMyAxMnptOCA1aDJ2LTJoLTJ2MnpNMjEgNGgtNnY2bDIuMjQtMi4yNEMxOC4zMiA4Ljg1IDE5IDEwLjM0IDE5IDEyYzAgMi42MS0xLjY3IDQuODMtNCA1LjY1djIuMDljMy40NS0uODkgNi00LjAxIDYtNy43NCAwLTIuMjEtLjkxLTQuMi0yLjM2LTUuNjRMMjEgNHptLTEwIDloMlY3aC0ydjZ6Ii8+PC9zdmc+";
Editor.tweetImage=IMAGE_PATH+"/tweet.png";Editor.facebookImage=IMAGE_PATH+"/facebook.png";Editor.blankImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==";Editor.hiResImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA+CAMAAACLMWy1AAAAh1BMVEUAAABMTExERERBQUFBQUFFRUVAQEBCQkJAQEA6OjpDQ0NKSkpBQUFBQUFERERERERBQUFCQkJCQkJCQkJJSUlBQUFCQkJDQ0NDQ0NCQkJDQ0NBQUFBQUFCQkJBQUFCQkJCQkJDQ0NCQkJHR0dBQUFCQkJCQkJAQEBCQkJDQ0NAQEBERERCQkIk1hS2AAAAKnRSTlMAAjj96BL7PgQFRwfu3TYazKuVjRXl1V1DPCn1uLGjnWNVIgy9hU40eGqPkM38AAACG0lEQVRYw+2X63KbMBCFzwZblgGDceN74muatpLe//m6MHV3gHGFAv2RjM94MAbxzdnVsQbBDKwH8AH8MDAyafzjqYeyOG04XE7RS8nIRDXg6BlT+rA0nmtAPh+NQRDxIASIMG44rAMrGunBgHwy3uUldxggIStGKp2f+DQc2O4h4eQsX3O2IFB/oEbsjOKbStnjAEA+zJ0ylZTbgvoDn8xNyn6Dbj5Kd4GsNpABa6duQPfSdEj88TgMAhKuCWjAkgmFXPLnsD0pWd3OFGdrMugQII/eOMPEiGOzqPMIeWrcSoMCg71W1pXBPvCP+gS/OdXqQ3uW23+93XGWLl/OaBb805bNcBPoEIcVJsnHzcxpZH86u5KZ9gDby5dQCcnKqdbke4ItI4Tzd7IW9hZQt4EO6GG9b9sYuuK9Wwn8TIr2xKbF2+3Nhr+qxChJ/AI6pIfCu4z4Zowp4ZUNihz79vewzctnHDwTvQO/hCdFBzrUGDOPn2Y/F8YKT4oOATLvlhOznzmBSdFBJWtc58y7r+UVFOCQczy3wpN6pegDqHtsCPTGvH9JuTO0Dyg8icldYPk+RB6g8Aofj4m2EKBvtTmUPD9xDd1pPcSReV2U5iD/ik2yrngtvvqBfPzOvKiDTKTsCdoHZJ7pLLffgTwlJ5vJdtJV2/jiAYaLvLGhMAEDO5QcDg2M/jOw/8Zn+K3ZwJvHT7ZffgC/NvA3zcybTeIfE4EAAAAASUVORK5CYII=":
IMAGE_PATH+"/img-hi-res.png";Editor.loResImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA+CAMAAACLMWy1AAAAS1BMVEVAQEAAAAA1NTVBQUFDQ0NDQ0NFRUVERERBQUFBQUFBQUFAQEBBQUFBQUFCQkJCQkJCQkJBQUFCQkJDQ0NDQ0NCQkJCQkJCQkJGRkb5/XqTAAAAGXRSTlP+AAWODlASCsesX+Lc2LyWe3pwa1tCPjohjSJfoAAAAI1JREFUWMPt1MkKhTAMRuG0anvneXr/J71nUypKcdqI/N8yhLMKMZE1CahnClDQzMPB44ED3EgeCubgDWnWQMHpwTtKwTe+UHD4sJ94wbUEHHFGhILlYDeSnsQeabeCgsPBgB0MOZZ9oGA5GJFiJSfUULAfjLjARrhCwX7wh2YCDwVbwZkUBKqFFJRN+wOcwSgR2sREcgAAAABJRU5ErkJggg==":
IMAGE_PATH+"/img-lo-res.png";Editor.cameraLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAA/BJREFUWAnFl0uIjWEYx885buPSuGwmSYwtwsY1ikKSNYNclmQnadgrZSPlsnBLSlaGBdNYKY0Vdi4L4zYzIqxGxmXG//d+7//0+uY7nWMiT/2/53mf+3v7vnNKpf9M5UbrDw8Pj4m+wzmeT1FBUS6Xf+YNox6reMONukijMXUTM3NmI75PyXcJPwRWg5kS7xysDLNmfEUxpx2rceNE50IlYjyRklcLf0prY+x4BTqfmx3ZUHQaO9ISGngYq38V/1EH+ECPa+QaK1u1kVBQirDMChiS3CTeIkwWvghtwhKBpZ8g1CO2B99FynVU/KowSRgQ3mlrBsVZ1awmQlS0SGbfXglfBPbdRGMm5O8RXg2P835pDCvzWjghTHETcLpZLHwS8kTCtBEK1SN83Egam8YxyVZqc+Do5qkwS+gT9grNwkUBG6cbsG/gs3BTuC/0ChCxq4QtwgzBMdwUZBPyN4Ftfi4sYPZHktbOSRlIuutRP5jYj0ueZp88xyYcS/zZoiLyQT1IA/cTj7eSlwnrhI+JnkQbCwo2Sx/2M7VJt17wdhVtgxvrpoFnAuSAbJQ97biZAlKxBfD9wgOhV+BgIR/AZtJ4kwD5PGSj7OmmekjWEy0oAQHAS3+KpBpzXqYK3UItopHpSRMno2N+cm7gDYnfRCcr3QBqriMHLJDkeyhFfiG5aVbK+8rhtP9M6QcIEJHX5Fp9NMAyQlYiu+OOJNlODCIXyka/P23bncTdiC7OydC1+v1Bsb+5r84DK8S3Rdmf5cRUFW3bXtWUSt1Rdk6G4SyJV2o1YId+vNUxr+x5yCJiapFtcxQzLjrxboGcMxvFJwEOKnLwjIbkx/sdSmeSaUY++SwTAxV+4DJT7RVwkbk46gNCsifIItuy0e9PF33Cb4homhN5YRyzL5q5V2VNkv98kqgoGTo3YF9CnMM5Y5rItFfvBSi9JulVXOgI+VwIntkt+SaZ6weQfcovJf7zpTfl86P/wAF7Fz18NeKwmvAWCaX0Z/uMHQr42ZxvR/Rxcw5xM+9J/CJq8w2gduDhmDgso/QrBH47dEXQ1IqczyHpIOfIRtnTtV7SwO1oKXKkU3fbToFGSDHtMWcaH1WBuVYnDbRFi99iqSMySdzxXckrazUh23KBVYGIcfNBkTxca0e4ATJ0KukGYVBgr/MnlhPOtQq/ksUfCbzh+EFCjtnCUoHfjhA/OsiTv2HcEvJMELp0VakZDliTmriTdPivxU4VmEhtPrGV+KJhO7ZKt0doFZh1fgZSBWIW2AGEHwg3BUWOnKtH+suqdw07tYMfglCrWPD5mw9qVYuniaXkT0OtWaSuo5LJTY1RBf+roF9X5+y/5qU+DAAAAABJRU5ErkJggg==";
Editor.defaultCustomLibraries=[];Editor.enableCustomLibraries=!0;Editor.enableCustomProperties=!0;Editor.commonEdgeProperties=[{type:"separator"},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"targetPortConstraint",dispName:"Target Port Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"east",dispName:"East"},{val:"north",dispName:"North"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"sourcePortConstraint",
dispName:"Source Port Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"east",dispName:"East"},{val:"north",dispName:"North"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"fillOpacity",dispName:"Fill Opacity",type:"int",min:0,max:100,defVal:100},{name:"strokeOpacity",dispName:"Stroke Opacity",type:"int",min:0,max:100,defVal:100},{name:"startFill",dispName:"Start Fill",type:"bool",defVal:!0},{name:"endFill",dispName:"End Fill",type:"bool",defVal:!0},
{name:"sourcePerimeterSpacing",dispName:"Source Perimeter Spacing",type:"float",defVal:0},{name:"targetPerimeterSpacing",dispName:"Target Perimeter Spacing",type:"float",defVal:0},{name:"perimeterSpacing",dispName:"Perimeter Spacing",type:"float",defVal:0},{name:"anchorPointDirection",dispName:"Anchor Point Direction",type:"bool",defVal:!0},{name:"snapToPoint",dispName:"Snap to Point",type:"bool",defVal:!1},{name:"fixDash",dispName:"Fixed Dash",type:"bool",defVal:!1},{name:"jiggle",dispName:"Jiggle",
type:"float",min:0,defVal:1.5,isVisible:function($state$$){return"1"==mxUtils.getValue($state$$.style,"comic","0")}},{name:"editable",dispName:"Editable",type:"bool",defVal:!0},{name:"backgroundOutline",dispName:"Background Outline",type:"bool",defVal:!1},{name:"bendable",dispName:"Bendable",type:"bool",defVal:!0},{name:"movable",dispName:"Movable",type:"bool",defVal:!0},{name:"cloneable",dispName:"Cloneable",type:"bool",defVal:!0},{name:"deletable",dispName:"Deletable",type:"bool",defVal:!0},{name:"orthogonalLoop",
dispName:"Loop Routing",type:"bool",defVal:!1},{name:"noJump",dispName:"No Jumps",type:"bool",defVal:!1}];Editor.commonVertexProperties=[{type:"separator"},{name:"fillOpacity",dispName:"Fill Opacity",type:"int",min:0,max:100,defVal:100},{name:"strokeOpacity",dispName:"Stroke Opacity",type:"int",min:0,max:100,defVal:100},{name:"overflow",dispName:"Text Overflow",defVal:"visible",type:"enum",enumList:[{val:"visible",dispName:"Visible"},{val:"hidden",dispName:"Hidden"},{val:"fill",dispName:"Fill"},{val:"width",
dispName:"Width"}]},{name:"noLabel",dispName:"Hide Label",type:"bool",defVal:!1},{name:"labelPadding",dispName:"Label Padding",type:"float",defVal:0},{name:"direction",dispName:"Direction",type:"enum",defVal:"east",enumList:[{val:"east",dispName:"East"},{val:"north",dispName:"North"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"portConstraint",dispName:"Port Constraint",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"None"},{val:"east",dispName:"East"},{val:"north",
dispName:"North"},{val:"south",dispName:"South"},{val:"west",dispName:"West"}]},{name:"portConstraintRotation",dispName:"Port Const. Rot.",type:"bool",defVal:!1},{name:"connectable",dispName:"Connectable",type:"bool",defVal:!0},{name:"snapToPoint",dispName:"Snap to Point",type:"bool",defVal:!1},{name:"perimeter",dispName:"Perimeter",defVal:"none",type:"enum",enumList:[{val:"none",dispName:"None"},{val:"rectanglePerimeter",dispName:"Rectangle"},{val:"ellipsePerimeter",dispName:"Ellipse"},{val:"rhombusPerimeter",
dispName:"Rhombus"},{val:"trianglePerimeter",dispName:"Triangle"},{val:"hexagonPerimeter2",dispName:"Hexagon"},{val:"lifelinePerimeter",dispName:"Lifeline"},{val:"orthogonalPerimeter",dispName:"Orthogonal"},{val:"backbonePerimeter",dispName:"Backbone"},{val:"calloutPerimeter",dispName:"Callout"},{val:"parallelogramPerimeter",dispName:"Parallelogram"},{val:"trapezoidPerimeter",dispName:"Trapezoid"},{val:"stepPerimeter",dispName:"Step"}]},{name:"fixDash",dispName:"Fixed Dash",type:"bool",defVal:!1},
{name:"jiggle",dispName:"Jiggle",type:"float",min:0,defVal:1.5,isVisible:function($state$$){return"1"==mxUtils.getValue($state$$.style,"comic","0")}},{name:"autosize",dispName:"Autosize",type:"bool",defVal:!1},{name:"collapsible",dispName:"Collapsible",type:"bool",defVal:!1},{name:"container",dispName:"Container",type:"bool",defVal:!1},{name:"recursiveResize",dispName:"Resize Children",type:"bool",defVal:!0},{name:"part",dispName:"Part",type:"bool",defVal:!1},{name:"editable",dispName:"Editable",
type:"bool",defVal:!0},{name:"backgroundOutline",dispName:"Background Outline",type:"bool",defVal:!1},{name:"movable",dispName:"Movable",type:"bool",defVal:!0},{name:"resizable",dispName:"Resizable",type:"bool",defVal:!0},{name:"resizeWidth",dispName:"Resize Width",type:"bool",defVal:!1},{name:"resizeHeight",dispName:"Resize Height",type:"bool",defVal:!1},{name:"rotatable",dispName:"Rotatable",type:"bool",defVal:!0},{name:"cloneable",dispName:"Cloneable",type:"bool",defVal:!0},{name:"deletable",dispName:"Deletable",
type:"bool",defVal:!0}];Editor.defaultCsvValue='##\n## Example CSV import. Use ## for comments and # for configuration. Paste CSV below.\n## The following names are reserved and should not be used (or ignored):\n## id, tooltip, placeholder(s), link and label (see below)\n##\n#\n## Node label with placeholders and HTML.\n## Default is \'%name_of_first_column%\'.\n#\n# label: %name%<br><i style="color:gray;">%position%</i><br><a href="mailto:%email%">Email</a>\n#\n## Node style (placeholders are replaced once).\n## Default is the current style for nodes.\n#\n# style: label;image=%image%;whiteSpace=wrap;html=1;rounded=1;fillColor=%fill%;strokeColor=%stroke%;\n#\n## Parent style for nodes with child nodes (placeholders are replaced once).\n#\n# parentstyle: swimlane;whiteSpace=wrap;html=1;childLayout=stackLayout;horizontal=1;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;\n#\n## Uses the given column name as the identity for cells (updates existing cells).\n## Default is no identity (empty value or -).\n#\n# identity: -\n#\n## Uses the given column name as the parent reference for cells. Default is no parent (empty or -).\n## The identity above is used for resolving the reference so it must be specified.\n#\n# parent: -\n#\n## Adds a prefix to the identity of cells to make sure they do not collide with existing cells (whose\n## IDs are numbers from 0..n, sometimes with a GUID prefix in the context of realtime collaboration).\n## Default is csvimport-.\n#\n# namespace: csvimport-\n#\n## Connections between rows ("from": source colum, "to": target column).\n## Label, style and invert are optional. Defaults are \'\', current style and false.\n## In addition to label, an optional fromlabel and tolabel can be used to name the column\n## that contains the text for the label in the edges source or target (invert ignored).\n## The label is concatenated in the form fromlabel + label + tolabel if all are defined.\n## The target column may contain a comma-separated list of values.\n## Multiple connect entries are allowed.\n#\n# connect: {"from": "manager", "to": "name", "invert": true, "label": "manages", \\\n#          "style": "curved=1;endArrow=blockThin;endFill=1;fontSize=11;"}\n# connect: {"from": "refs", "to": "id", "style": "curved=1;fontSize=11;"}\n#\n## Node x-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# left: \n#\n## Node y-coordinate. Possible value is a column name. Default is empty. Layouts will\n## override this value.\n#\n# top: \n#\n## Node width. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the width. Default is auto.\n#\n# width: auto\n#\n## Node height. Possible value is a number (in px), auto or an @ sign followed by a column\n## name that contains the value for the height. Default is auto.\n#\n# height: auto\n#\n## Padding for autosize. Default is 0.\n#\n# padding: -12\n#\n## Comma-separated list of ignored columns for metadata. (These can be\n## used for connections and styles but will not be added as metadata.)\n#\n# ignore: id,image,fill,stroke\n#\n## Column to be renamed to link attribute (used as link).\n#\n# link: url\n#\n## Spacing between nodes. Default is 40.\n#\n# nodespacing: 40\n#\n## Spacing between levels of hierarchical layouts. Default is 100.\n#\n# levelspacing: 100\n#\n## Spacing between parallel edges. Default is 40. Use 0 to disable.\n#\n# edgespacing: 40\n#\n## Name or JSON of layout. Possible values are auto, none, verticaltree, horizontaltree,\n## verticalflow, horizontalflow, organic, circle or a JSON string as used in Layout, Apply.\n## Default is auto.\n#\n# layout: auto\n#\n## ---- CSV below this line. First line are column names. ----\nname,position,id,location,manager,email,fill,stroke,refs,url,image\nEvan Miller,CFO,emi,Office 1,,me@example.com,#dae8fc,#6c8ebf,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-9-2-128.png\nEdward Morrison,Brand Manager,emo,Office 2,Evan Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-10-3-128.png\nRon Donovan,System Admin,rdo,Office 3,Evan Miller,me@example.com,#d5e8d4,#82b366,"emo,tva",https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-2-128.png\nTessa Valet,HR Director,tva,Office 4,Evan Miller,me@example.com,#d5e8d4,#82b366,,https://www.draw.io,https://cdn3.iconfinder.com/data/icons/user-avatars-1/512/users-3-128.png\n';
Editor.shadowOptionEnabled=!0;Editor.config=null;Editor.configVersion=null;Editor.prototype.timeout=25E3;Editor.configure=function $Editor$configure$($config$$,$untrusted$$){if(null!=$config$$){Editor.config=$config$$;Editor.configVersion=$config$$.version;Menus.prototype.defaultFonts=$config$$.defaultFonts||Menus.prototype.defaultFonts;ColorDialog.prototype.presetColors=$config$$.presetColors||ColorDialog.prototype.presetColors;ColorDialog.prototype.defaultColors=$config$$.defaultColors||ColorDialog.prototype.defaultColors;
StyleFormatPanel.prototype.defaultColorSchemes=$config$$.defaultColorSchemes||StyleFormatPanel.prototype.defaultColorSchemes;Graph.prototype.defaultEdgeLength=$config$$.defaultEdgeLength||Graph.prototype.defaultEdgeLength;DrawioFile.prototype.autosaveDelay=$config$$.autosaveDelay||DrawioFile.prototype.autosaveDelay;null!=$config$$.templateFile&&(EditorUi.templateFile=$config$$.templateFile);$config$$.customFonts&&(Menus.prototype.defaultFonts=$config$$.customFonts.concat(Menus.prototype.defaultFonts));
$config$$.customPresetColors&&(ColorDialog.prototype.presetColors=$config$$.customPresetColors.concat(ColorDialog.prototype.presetColors));null!=$config$$.customColorSchemes&&(StyleFormatPanel.prototype.defaultColorSchemes=$config$$.customColorSchemes.concat(StyleFormatPanel.prototype.defaultColorSchemes));if(null!=$config$$.css){var $i$jscomp$74_s$$=document.createElement("style");$i$jscomp$74_s$$.setAttribute("type","text/css");$i$jscomp$74_s$$.appendChild(document.createTextNode($config$$.css));
var $t$$=document.getElementsByTagName("script")[0];$t$$.parentNode.insertBefore($i$jscomp$74_s$$,$t$$)}null!=$config$$.libraries&&(Sidebar.prototype.customEntries=$config$$.libraries);null!=$config$$.enabledLibraries&&(Sidebar.prototype.enabledLibraries=$config$$.enabledLibraries);null!=$config$$.defaultLibraries&&(Sidebar.prototype.defaultEntries=$config$$.defaultLibraries);null!=$config$$.defaultCustomLibraries&&(Editor.defaultCustomLibraries=$config$$.defaultCustomLibraries);null!=$config$$.enableCustomLibraries&&
(Editor.enableCustomLibraries=$config$$.enableCustomLibraries);null!=$config$$.defaultVertexStyle&&(Graph.prototype.defaultVertexStyle=$config$$.defaultVertexStyle);null!=$config$$.defaultEdgeStyle&&(Graph.prototype.defaultEdgeStyle=$config$$.defaultEdgeStyle);$config$$.emptyDiagramXml&&(EditorUi.prototype.emptyDiagramXml=$config$$.emptyDiagramXml);$config$$.thumbWidth&&(Sidebar.prototype.thumbWidth=$config$$.thumbWidth);$config$$.thumbHeight&&(Sidebar.prototype.thumbHeight=$config$$.thumbHeight);
$config$$.emptyLibraryXml&&(EditorUi.prototype.emptyLibraryXml=$config$$.emptyLibraryXml);$config$$.sidebarWidth&&(EditorUi.prototype.hsplitPosition=$config$$.sidebarWidth);$config$$.fontCss&&($i$jscomp$74_s$$=document.createElement("style"),$i$jscomp$74_s$$.setAttribute("type","text/css"),$i$jscomp$74_s$$.appendChild(document.createTextNode($config$$.fontCss)),$t$$=document.getElementsByTagName("script")[0],$t$$.parentNode.insertBefore($i$jscomp$74_s$$,$t$$),Editor.prototype.fontCss=$config$$.fontCss);
if(null!=$config$$.plugins&&!$untrusted$$)for(App.initPluginCallback(),$i$jscomp$74_s$$=0;$i$jscomp$74_s$$<$config$$.plugins.length;$i$jscomp$74_s$$++)mxscript($config$$.plugins[$i$jscomp$74_s$$])}};Editor.GUID_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_";Editor.GUID_LENGTH=20;Editor.guid=function $Editor$guid$($len$jscomp$4_length$$){$len$jscomp$4_length$$=null!=$len$jscomp$4_length$$?$len$jscomp$4_length$$:Editor.GUID_LENGTH;for(var $rtn$$=[],$i$$=0;$i$$<$len$jscomp$4_length$$;$i$$++)$rtn$$.push(Editor.GUID_ALPHABET.charAt(Math.floor(Math.random()*
Editor.GUID_ALPHABET.length)));return $rtn$$.join("")};Editor.prototype.useForeignObjectForMath=!1;Editor.prototype.editButtonLink=null!=urlParams.edit?decodeURIComponent(urlParams.edit):null;var $editorSetGraphXml$$=Editor.prototype.setGraphXml;Editor.prototype.setGraphXml=function $Editor$$setGraphXml$($node$$){$node$$=null!=$node$$&&"mxlibrary"!=$node$$.nodeName?this.extractGraphModel($node$$):null;if(null!=$node$$){var $bgImg$jscomp$1_elt$jscomp$18_errs_style$$=$node$$.getElementsByTagName("parsererror");
if(null!=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$&&0<$bgImg$jscomp$1_elt$jscomp$18_errs_style$$.length){var $bgImg$jscomp$1_elt$jscomp$18_errs_style$$=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$[0],$divs_node2$$=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$.getElementsByTagName("div");null!=$divs_node2$$&&0<$divs_node2$$.length&&($bgImg$jscomp$1_elt$jscomp$18_errs_style$$=$divs_node2$$[0]);throw{message:mxUtils.getTextContent($bgImg$jscomp$1_elt$jscomp$18_errs_style$$)};}if("mxGraphModel"==$node$$.nodeName){$bgImg$jscomp$1_elt$jscomp$18_errs_style$$=
$node$$.getAttribute("style")||"default-style2";if("1"==urlParams.embed||null!=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$&&""!=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$)$bgImg$jscomp$1_elt$jscomp$18_errs_style$$!=this.graph.currentStyle&&($divs_node2$$=null!=this.graph.themes?this.graph.themes[$bgImg$jscomp$1_elt$jscomp$18_errs_style$$]:mxUtils.load(STYLE_PATH+"/"+$bgImg$jscomp$1_elt$jscomp$18_errs_style$$+".xml").getDocumentElement(),null!=$divs_node2$$&&($dec2$$=new mxCodec($divs_node2$$.ownerDocument),
$dec2$$.decode($divs_node2$$,this.graph.getStylesheet())));else if($divs_node2$$=null!=this.graph.themes?this.graph.themes["default-old"]:mxUtils.load(STYLE_PATH+"/default-old.xml").getDocumentElement(),null!=$divs_node2$$){var $dec2$$=new mxCodec($divs_node2$$.ownerDocument);$dec2$$.decode($divs_node2$$,this.graph.getStylesheet())}this.graph.currentStyle=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$;this.graph.mathEnabled="1"==urlParams.math||"1"==$node$$.getAttribute("math");$bgImg$jscomp$1_elt$jscomp$18_errs_style$$=
$node$$.getAttribute("backgroundImage");null!=$bgImg$jscomp$1_elt$jscomp$18_errs_style$$?($bgImg$jscomp$1_elt$jscomp$18_errs_style$$=JSON.parse($bgImg$jscomp$1_elt$jscomp$18_errs_style$$),this.graph.setBackgroundImage(new mxImage($bgImg$jscomp$1_elt$jscomp$18_errs_style$$.src,$bgImg$jscomp$1_elt$jscomp$18_errs_style$$.width,$bgImg$jscomp$1_elt$jscomp$18_errs_style$$.height))):this.graph.setBackgroundImage(null);mxClient.NO_FO=this.graph.mathEnabled&&!this.useForeignObjectForMath?!0:this.originalNoForeignObject;
this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported();this.graph.updateCssTransform();this.graph.setShadowVisible("1"==$node$$.getAttribute("shadow"),!1)}$editorSetGraphXml$$.apply(this,arguments)}else throw{message:mxResources.get("notADiagramFile")||"Invalid data",toString:function(){return this.message}};};var $editorGetGraphXml$$=Editor.prototype.getGraphXml;Editor.prototype.getGraphXml=function $Editor$$getGraphXml$($ignoreSelection$$){$ignoreSelection$$=
null!=$ignoreSelection$$?$ignoreSelection$$:!0;var $node$$=$editorGetGraphXml$$.apply(this,arguments);null!=this.graph.currentStyle&&"default-style2"!=this.graph.currentStyle&&$node$$.setAttribute("style",this.graph.currentStyle);null!=this.graph.backgroundImage&&$node$$.setAttribute("backgroundImage",JSON.stringify(this.graph.backgroundImage));$node$$.setAttribute("math",this.graph.mathEnabled?"1":"0");$node$$.setAttribute("shadow",this.graph.shadowVisible?"1":"0");return $node$$};Editor.prototype.isDataSvg=
function $Editor$$isDataSvg$($svg$$){try{var $tmp$$=mxUtils.parseXml($svg$$).documentElement.getAttribute("content");if(null!=$tmp$$&&(null!=$tmp$$&&"<"!=$tmp$$.charAt(0)&&"%"!=$tmp$$.charAt(0)&&($tmp$$=unescape(window.atob?atob($tmp$$):Base64.decode(cont,$tmp$$))),null!=$tmp$$&&"%"==$tmp$$.charAt(0)&&($tmp$$=decodeURIComponent($tmp$$)),null!=$tmp$$&&0<$tmp$$.length)){var $node$$=mxUtils.parseXml($tmp$$).documentElement;return"mxfile"==$node$$.nodeName||"mxGraphModel"==$node$$.nodeName}}catch($e$$){}return!1};
Editor.prototype.extractGraphModel=function $Editor$$extractGraphModel$($node$$,$allowMxFile$$){if(null!=$node$$&&"undefined"!==typeof pako){var $data$jscomp$54_diagrams_tmp$$=$node$$.ownerDocument.getElementsByTagName("div"),$config$jscomp$3_diagramNode_divs$$=[];if(null!=$data$jscomp$54_diagrams_tmp$$&&0<$data$jscomp$54_diagrams_tmp$$.length)for(var $i$$=0;$i$$<$data$jscomp$54_diagrams_tmp$$.length;$i$$++)if("mxgraph"==$data$jscomp$54_diagrams_tmp$$[$i$$].getAttribute("class")){$config$jscomp$3_diagramNode_divs$$.push($data$jscomp$54_diagrams_tmp$$[$i$$]);
break}0<$config$jscomp$3_diagramNode_divs$$.length&&($data$jscomp$54_diagrams_tmp$$=$config$jscomp$3_diagramNode_divs$$[0].getAttribute("data-mxgraph"),null!=$data$jscomp$54_diagrams_tmp$$?($config$jscomp$3_diagramNode_divs$$=JSON.parse($data$jscomp$54_diagrams_tmp$$),null!=$config$jscomp$3_diagramNode_divs$$&&null!=$config$jscomp$3_diagramNode_divs$$.xml&&($config$jscomp$3_diagramNode_divs$$=mxUtils.parseXml($config$jscomp$3_diagramNode_divs$$.xml),$node$$=$config$jscomp$3_diagramNode_divs$$.documentElement)):
($config$jscomp$3_diagramNode_divs$$=$config$jscomp$3_diagramNode_divs$$[0].getElementsByTagName("div"),0<$config$jscomp$3_diagramNode_divs$$.length&&($data$jscomp$54_diagrams_tmp$$=mxUtils.getTextContent($config$jscomp$3_diagramNode_divs$$[0]),$data$jscomp$54_diagrams_tmp$$=Graph.decompress($data$jscomp$54_diagrams_tmp$$),0<$data$jscomp$54_diagrams_tmp$$.length&&($config$jscomp$3_diagramNode_divs$$=mxUtils.parseXml($data$jscomp$54_diagrams_tmp$$),$node$$=$config$jscomp$3_diagramNode_divs$$.documentElement))))}if(null!=
$node$$&&"svg"==$node$$.nodeName)if($data$jscomp$54_diagrams_tmp$$=$node$$.getAttribute("content"),null!=$data$jscomp$54_diagrams_tmp$$&&"<"!=$data$jscomp$54_diagrams_tmp$$.charAt(0)&&"%"!=$data$jscomp$54_diagrams_tmp$$.charAt(0)&&($data$jscomp$54_diagrams_tmp$$=unescape(window.atob?atob($data$jscomp$54_diagrams_tmp$$):Base64.decode(cont,$data$jscomp$54_diagrams_tmp$$))),null!=$data$jscomp$54_diagrams_tmp$$&&"%"==$data$jscomp$54_diagrams_tmp$$.charAt(0)&&($data$jscomp$54_diagrams_tmp$$=decodeURIComponent($data$jscomp$54_diagrams_tmp$$)),
null!=$data$jscomp$54_diagrams_tmp$$&&0<$data$jscomp$54_diagrams_tmp$$.length)$node$$=mxUtils.parseXml($data$jscomp$54_diagrams_tmp$$).documentElement;else throw{message:mxResources.get("notADiagramFile")};null==$node$$||$allowMxFile$$||($config$jscomp$3_diagramNode_divs$$=null,"diagram"==$node$$.nodeName?$config$jscomp$3_diagramNode_divs$$=$node$$:"mxfile"==$node$$.nodeName&&($data$jscomp$54_diagrams_tmp$$=$node$$.getElementsByTagName("diagram"),0<$data$jscomp$54_diagrams_tmp$$.length&&($config$jscomp$3_diagramNode_divs$$=
$data$jscomp$54_diagrams_tmp$$[Math.max(0,Math.min($data$jscomp$54_diagrams_tmp$$.length-1,urlParams.page||0))])),null!=$config$jscomp$3_diagramNode_divs$$&&($data$jscomp$54_diagrams_tmp$$=Graph.decompress(mxUtils.getTextContent($config$jscomp$3_diagramNode_divs$$)),null!=$data$jscomp$54_diagrams_tmp$$&&0<$data$jscomp$54_diagrams_tmp$$.length&&($node$$=mxUtils.parseXml($data$jscomp$54_diagrams_tmp$$).documentElement)));null==$node$$||"mxGraphModel"==$node$$.nodeName||$allowMxFile$$&&"mxfile"==$node$$.nodeName||
($node$$=null);return $node$$};var $editorResetGraph$$=Editor.prototype.resetGraph;Editor.prototype.resetGraph=function $Editor$$resetGraph$(){this.graph.mathEnabled="1"==urlParams.math;this.graph.view.x0=null;this.graph.view.y0=null;mxClient.NO_FO=this.graph.mathEnabled&&!this.useForeignObjectForMath?!0:this.originalNoForeignObject;this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported();this.graph.updateCssTransform();$editorResetGraph$$.apply(this,
arguments)};var $editorUpdateGraphComponents$$=Editor.prototype.updateGraphComponents;Editor.prototype.updateGraphComponents=function $Editor$$updateGraphComponents$(){$editorUpdateGraphComponents$$.apply(this,arguments);mxClient.NO_FO=this.graph.mathEnabled&&!this.useForeignObjectForMath&&null!=Editor.MathJaxRender?!0:this.originalNoForeignObject;this.graph.useCssTransforms=!mxClient.NO_FO&&this.isChromelessView()&&this.graph.isCssTransformsSupported();this.graph.updateCssTransform()};Editor.initMath=
function $Editor$initMath$($src$$,$config$$){$src$$=null!=$src$$?$src$$:DRAW_MATH_URL+"/MathJax.js?config=TeX-MML-AM_HTMLorMML";Editor.mathJaxQueue=[];Editor.doMathJaxRender=function $Editor$doMathJaxRender$($container$$){window.setTimeout(function(){"hidden"!=$container$$.style.visibility&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,$container$$])},0)};window.MathJax={skipStartupTypeset:!0,showMathMenu:!1,messageStyle:"none",AuthorInit:function $window$MathJax$AuthorInit$(){MathJax.Hub.Config($config$$||
{jax:["input/TeX","input/MathML","input/AsciiMath","output/HTML-CSS"],extensions:["tex2jax.js","mml2jax.js","asciimath2jax.js"],"HTML-CSS":{imageFont:null},TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]},tex2jax:{ignoreClass:"mxCellEditor"},asciimath2jax:{ignoreClass:"mxCellEditor"}});MathJax.Hub.Register.StartupHook("Begin",function(){for(var $i$$=0;$i$$<Editor.mathJaxQueue.length;$i$$++)Editor.doMathJaxRender(Editor.mathJaxQueue[$i$$])})}};Editor.MathJaxRender=function $Editor$MathJaxRender$($container$$){"undefined"!==
typeof MathJax&&"undefined"!==typeof MathJax.Hub?Editor.doMathJaxRender($container$$):Editor.mathJaxQueue.push($container$$)};Editor.MathJaxClear=function $Editor$MathJaxClear$(){Editor.mathJaxQueue=[]};var $editorInit$$=Editor.prototype.init;Editor.prototype.init=function $Editor$$init$(){$editorInit$$.apply(this,arguments);this.graph.addListener(mxEvent.SIZE,mxUtils.bind(this,function($sender$$,$evt$$){null!=this.graph.container&&this.graph.mathEnabled&&!this.graph.blockMathRender&&Editor.MathJaxRender(this.graph.container)}))};
var $tags$$=document.getElementsByTagName("script");if(null!=$tags$$&&0<$tags$$.length){var $script$$=document.createElement("script");$script$$.type="text/javascript";$script$$.src=$src$$;$tags$$[0].parentNode.appendChild($script$$)}};Editor.prototype.csvToArray=function $Editor$$csvToArray$($text$$){if(!/^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/.test($text$$))return null;
var $a$$=[];$text$$.replace(/(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g,function($m0$$,$m1$$,$m2$$,$m3$$){void 0!==$m1$$?$a$$.push($m1$$.replace(/\\'/g,"'")):void 0!==$m2$$?$a$$.push($m2$$.replace(/\\"/g,'"')):void 0!==$m3$$&&$a$$.push($m3$$);return""});/,\s*$/.test($text$$)&&$a$$.push("");return $a$$};Editor.prototype.isCorsEnabledForUrl=function $Editor$$isCorsEnabledForUrl$($url$$){null!=urlParams.cors&&null==this.corsRegExp&&
(this.corsRegExp=new RegExp(decodeURIComponent(urlParams.cors)));return null!=this.corsRegExp&&this.corsRegExp.test($url$$)||"https://raw.githubusercontent.com/"===$url$$.substring(0,34)||"https://cdn.rawgit.com/"===$url$$.substring(0,23)||"https://rawgit.com/"===$url$$.substring(0,19)||/^https?:\/\/[^\/]*\.blob.core.windows.net\//.test($url$$)||/^https?:\/\/[^\/]*\.iconfinder.com\//.test($url$$)||/^https?:\/\/[^\/]*\.draw\.io\/proxy/.test($url$$)||/^https?:\/\/[^\/]*\.github\.io\//.test($url$$)};
Editor.prototype.createImageUrlConverter=function $Editor$$createImageUrlConverter$(){var $converter$$=new mxUrlConverter;$converter$$.updateBaseUrl();var $convert$$=$converter$$.convert,$self$$=this;$converter$$.convert=function $$converter$$$convert$($src$$){if(null!=$src$$){var $remote$$="http://"==$src$$.substring(0,7)||"https://"==$src$$.substring(0,8);$remote$$&&!navigator.onLine?$src$$=EditorUi.prototype.svgBrokenImage.src:!$remote$$||$src$$.substring(0,$converter$$.baseUrl.length)==$converter$$.baseUrl||
EditorUi.prototype.crossOriginImages&&$self$$.isCorsEnabledForUrl($src$$)?"chrome-extension://"!=$src$$.substring(0,19)&&($src$$=$convert$$.apply(this,arguments)):$src$$=PROXY_URL+"?url="+encodeURIComponent($src$$)}return $src$$};return $converter$$};Editor.prototype.createSvgDataUri=function $Editor$$createSvgDataUri$($svg$$){return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent($svg$$)))};Editor.prototype.convertImageToDataUri=function $Editor$$convertImageToDataUri$($url$$,$callback$$){if(/(\.svg)$/i.test($url$$))mxUtils.get($url$$,
mxUtils.bind(this,function($req$$){$callback$$(this.createSvgDataUri($req$$.getText()))}),function(){$callback$$(EditorUi.prototype.svgBrokenImage.src)});else{var $img$$=new Image;EditorUi.prototype.crossOriginImages&&($img$$.crossOrigin="anonymous");$img$$.onload=function $$img$$$onload$(){var $canvas$$=document.createElement("canvas"),$ctx$$=$canvas$$.getContext("2d");$canvas$$.height=$img$$.height;$canvas$$.width=$img$$.width;$ctx$$.drawImage($img$$,0,0);try{$callback$$($canvas$$.toDataURL())}catch($e$$){$callback$$(EditorUi.prototype.svgBrokenImage.src)}};
$img$$.onerror=function $$img$$$onerror$(){$callback$$(EditorUi.prototype.svgBrokenImage.src)};$img$$.src=$url$$}};Editor.prototype.convertImages=function $Editor$$convertImages$($svgRoot$$,$callback$$,$convertImages_imageCache$$,$converter$$){null==$converter$$&&($converter$$=this.createImageUrlConverter());var $counter$$=0,$cache$$=$convertImages_imageCache$$||{};$convertImages_imageCache$$=mxUtils.bind(this,function($tagName$$,$srcAttr$$){for(var $images$$=$svgRoot$$.getElementsByTagName($tagName$$),
$i$$=0;$i$$<$images$$.length;$i$$++)mxUtils.bind(this,function($img$$){var $src$$=$converter$$.convert($img$$.getAttribute($srcAttr$$));if(null!=$src$$&&"data:"!=$src$$.substring(0,5)){var $tmp$$=$cache$$[$src$$];null==$tmp$$?($counter$$++,this.convertImageToDataUri($src$$,function($uri$$){null!=$uri$$&&($cache$$[$src$$]=$uri$$,$img$$.setAttribute($srcAttr$$,$uri$$));$counter$$--;0==$counter$$&&$callback$$($svgRoot$$)})):$img$$.setAttribute($srcAttr$$,$tmp$$)}else null!=$src$$&&$img$$.setAttribute($srcAttr$$,
$src$$)})($images$$[$i$$])});$convertImages_imageCache$$("image","xlink:href");$convertImages_imageCache$$("img","src");0==$counter$$&&$callback$$($svgRoot$$)};Editor.prototype.base64Encode=function $Editor$$base64Encode$($str$$){for(var $out$$="",$i$$=0,$len$$=$str$$.length,$c1$$,$c2$$,$c3$$;$i$$<$len$$;){$c1$$=$str$$.charCodeAt($i$$++)&255;if($i$$==$len$$){$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&
3)<<4);$out$$+="==";break}$c2$$=$str$$.charCodeAt($i$$++);if($i$$==$len$$){$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&3)<<4|($c2$$&240)>>4);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c2$$&15)<<2);$out$$+="=";break}$c3$$=$str$$.charCodeAt($i$$++);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>
2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&3)<<4|($c2$$&240)>>4);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c2$$&15)<<2|($c3$$&192)>>6);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c3$$&63)}return $out$$};Editor.prototype.loadUrl=function $Editor$$loadUrl$($url$$,$success$$,$error$$,$forceBinary$$,$retry$$,$dataUriPrefix$$){try{var $binary$$=$forceBinary$$||/(\.png)($|\?)/i.test($url$$)||
/(\.jpe?g)($|\?)/i.test($url$$)||/(\.gif)($|\?)/i.test($url$$);$retry$$=null!=$retry$$?$retry$$:!0;var $fn$$=mxUtils.bind(this,function(){mxUtils.get($url$$,mxUtils.bind(this,function($bin_req$$){if(200<=$bin_req$$.getStatus()&&299>=$bin_req$$.getStatus()){if(null!=$success$$){var $data$jscomp$55_tmp$$=$bin_req$$.getText();if($binary$$){if((9==document.documentMode||10==document.documentMode)&&"undefined"!==typeof window.mxUtilsBinaryToArray){$bin_req$$=mxUtilsBinaryToArray($bin_req$$.request.responseBody).toArray();
for(var $data$jscomp$55_tmp$$=Array($bin_req$$.length),$i$$=0;$i$$<$bin_req$$.length;$i$$++)$data$jscomp$55_tmp$$[$i$$]=String.fromCharCode($bin_req$$[$i$$]);$data$jscomp$55_tmp$$=$data$jscomp$55_tmp$$.join("")}$dataUriPrefix$$=null!=$dataUriPrefix$$?$dataUriPrefix$$:"data:image/png;base64,";$data$jscomp$55_tmp$$=$dataUriPrefix$$+this.base64Encode($data$jscomp$55_tmp$$)}$success$$($data$jscomp$55_tmp$$)}}else null!=$error$$&&$error$$({code:App.ERROR_UNKNOWN},$bin_req$$)}),function(){null!=$error$$&&
$error$$({code:App.ERROR_UNKNOWN})},$binary$$,this.timeout,function(){$retry$$&&null!=$error$$&&$error$$({code:App.ERROR_TIMEOUT,retry:$fn$$})})});$fn$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}};Editor.prototype.loadFonts=function $Editor$$loadFonts$($then$$){if(null!=this.fontCss&&null==this.resolvedFontCss){var $trimString$$=function $$trimString$$$($str$$){return $str$$.replace(RegExp("^[\\s\"']+","g"),"").replace(RegExp("[\\s\"']+$","g"),"")},$parts$$=this.fontCss.split("url("),$waiting$$=
0,$fonts$$={},$finish$$=mxUtils.bind(this,function(){if(0==$waiting$$){for(var $result$$=[$parts$$[0]],$j$$=1;$j$$<$parts$$.length;$j$$++){var $idx$$=$parts$$[$j$$].indexOf(")");$result$$.push('url("');$result$$.push($fonts$$[$trimString$$($parts$$[$j$$].substring(0,$idx$$))]);$result$$.push('"'+$parts$$[$j$$].substring($idx$$))}this.resolvedFontCss=$result$$.join("");$then$$()}});if(0<$parts$$.length)for(var $i$$=1;$i$$<$parts$$.length;$i$$++){var $idx$jscomp$0$$=$parts$$[$i$$].indexOf(")"),$format$$=
null,$fmtIdx$$=$parts$$[$i$$].indexOf("format(",$idx$jscomp$0$$);0<$fmtIdx$$&&($format$$=$trimString$$($parts$$[$i$$].substring($fmtIdx$$+7,$parts$$[$i$$].indexOf(")",$fmtIdx$$))));mxUtils.bind(this,function($url$$){if(null==$fonts$$[$url$$]){$fonts$$[$url$$]=$url$$;$waiting$$++;var $mime$$="application/x-font-ttf";if("svg"==$format$$||/(\.svg)($|\?)/i.test($url$$))$mime$$="image/svg+xml";else if("otf"==$format$$||"embedded-opentype"==$format$$||/(\.otf)($|\?)/i.test($url$$))$mime$$="application/x-font-opentype";
else if("woff"==$format$$||/(\.woff)($|\?)/i.test($url$$))$mime$$="application/font-woff";else if("woff2"==$format$$||/(\.woff2)($|\?)/i.test($url$$))$mime$$="application/font-woff2";else if("eot"==$format$$||/(\.eot)($|\?)/i.test($url$$))$mime$$="application/vnd.ms-fontobject";else if("sfnt"==$format$$||/(\.sfnt)($|\?)/i.test($url$$))$mime$$="application/font-sfnt";var $realUrl$$=$url$$;/^https?:\/\//.test($realUrl$$)&&!this.isCorsEnabledForUrl($realUrl$$)&&($realUrl$$=PROXY_URL+"?url="+encodeURIComponent($url$$));
this.loadUrl($realUrl$$,mxUtils.bind(this,function($uri$$){$fonts$$[$url$$]=$uri$$;$waiting$$--;$finish$$()}),mxUtils.bind(this,function($err$$){$waiting$$--;$finish$$()}),!0,null,"data:"+$mime$$+";charset=utf-8;base64,")}})($trimString$$($parts$$[$i$$].substring(0,$idx$jscomp$0$$)),$format$$)}}else $then$$()};Editor.prototype.convertMath=function $Editor$$convertMath$($graph$$,$svgRoot$$,$fixPosition$$,$callback$$){$graph$$.mathEnabled&&"undefined"!==typeof MathJax&&"undefined"!==typeof MathJax.Hub?
(Editor.MathJaxRender($svgRoot$$),window.setTimeout(mxUtils.bind(this,function(){MathJax.Hub.Queue(mxUtils.bind(this,function(){$callback$$()}))}),0)):$callback$$()};Editor.prototype.isExportToCanvas=function $Editor$$isExportToCanvas$(){return mxClient.IS_CHROMEAPP||!this.graph.mathEnabled&&this.useCanvasForExport};Editor.prototype.exportToCanvas=function $Editor$$exportToCanvas$($callback$$,$width$$,$imageCache$$,$background$$,$error$$,$limitHeight$$,$ignoreSelection$$,$scale$$,$transparentBackground$$,
$addShadow$$,$converter$$,$graph$$,$border$$,$noCrop$$){$limitHeight$$=null!=$limitHeight$$?$limitHeight$$:!0;$graph$$=null!=$graph$$?$graph$$:this.graph;$border$$=null!=$border$$?$border$$:0;var $bg$$=$transparentBackground$$?null:$graph$$.background;$bg$$==mxConstants.NONE&&($bg$$=null);null==$bg$$&&($bg$$=$background$$);null==$bg$$&&0==$transparentBackground$$&&($bg$$=this.graph.defaultPageBackgroundColor);this.convertImages($graph$$.getSvg($bg$$,null,null,$noCrop$$,null,null!=$ignoreSelection$$?
$ignoreSelection$$:!0,null,null,null,$addShadow$$),mxUtils.bind(this,function($svgRoot$$){var $img$$=new Image;$img$$.onload=mxUtils.bind(this,function(){try{var $canvas$$=document.createElement("canvas"),$w$$=parseInt($svgRoot$$.getAttribute("width")),$h$$=parseInt($svgRoot$$.getAttribute("height"));$scale$$=null!=$scale$$?$scale$$:1;null!=$width$$&&($scale$$=$limitHeight$$?Math.min(1,Math.min(3*$width$$/(4*$h$$),$width$$/$w$$)):$width$$/$w$$);$w$$=Math.ceil($scale$$*$w$$)+2*$border$$;$h$$=Math.ceil($scale$$*
$h$$)+2*$border$$;$canvas$$.setAttribute("width",$w$$);$canvas$$.setAttribute("height",$h$$);var $ctx$$=$canvas$$.getContext("2d");null!=$bg$$&&($ctx$$.beginPath(),$ctx$$.rect(0,0,$w$$,$h$$),$ctx$$.fillStyle=$bg$$,$ctx$$.fill());$ctx$$.scale($scale$$,$scale$$);mxClient.IS_SF?window.setTimeout(function(){$ctx$$.drawImage($img$$,$border$$/$scale$$,$border$$/$scale$$);$callback$$($canvas$$)},0):($ctx$$.drawImage($img$$,$border$$/$scale$$,$border$$/$scale$$),$callback$$($canvas$$))}catch($e$$){null!=
$error$$&&$error$$($e$$)}});$img$$.onerror=function $$img$$$onerror$($e$$){null!=$error$$&&$error$$($e$$)};try{$addShadow$$&&this.graph.addSvgShadow($svgRoot$$);var $done$$=mxUtils.bind(this,function(){if(null!=this.resolvedFontCss){var $st$$=document.createElement("style");$st$$.setAttribute("type","text/css");$st$$.innerHTML=this.resolvedFontCss;$svgRoot$$.getElementsByTagName("defs")[0].appendChild($st$$)}this.convertMath($graph$$,$svgRoot$$,!0,mxUtils.bind(this,function(){$img$$.src=this.createSvgDataUri(mxUtils.getXml($svgRoot$$))}))});
this.loadFonts($done$$)}catch($e$$){null!=$error$$&&$error$$($e$$)}}),$imageCache$$,$converter$$)};Editor.prototype.writeGraphModelToPng=function $Editor$$writeGraphModelToPng$($base64_data$jscomp$56_f$$,$type$$,$chunkData_key$$,$crc_value$$,$error$jscomp$37_result$$){function $fread$$($d$$,$count$$){var $start$$=$pos$$;$pos$$+=$count$$;return $d$$.substring($start$$,$pos$$)}function $_freadint$$($bytes_d$$){$bytes_d$$=$fread$$($bytes_d$$,4);return $bytes_d$$.charCodeAt(3)+($bytes_d$$.charCodeAt(2)<<
8)+($bytes_d$$.charCodeAt(1)<<16)+($bytes_d$$.charCodeAt(0)<<24)}function $writeInt$$($num$$){return String.fromCharCode($num$$>>24&255,$num$$>>16&255,$num$$>>8&255,$num$$&255)}$base64_data$jscomp$56_f$$=$base64_data$jscomp$56_f$$.substring($base64_data$jscomp$56_f$$.indexOf(",")+1);$base64_data$jscomp$56_f$$=window.atob?atob($base64_data$jscomp$56_f$$):Base64.decode($base64_data$jscomp$56_f$$,!0);var $pos$$=0;if($fread$$($base64_data$jscomp$56_f$$,8)!=String.fromCharCode(137)+"PNG"+String.fromCharCode(13,
10,26,10))null!=$error$jscomp$37_result$$&&$error$jscomp$37_result$$();else if($fread$$($base64_data$jscomp$56_f$$,4),"IHDR"!=$fread$$($base64_data$jscomp$56_f$$,4))null!=$error$jscomp$37_result$$&&$error$jscomp$37_result$$();else{$fread$$($base64_data$jscomp$56_f$$,17);$error$jscomp$37_result$$=$base64_data$jscomp$56_f$$.substring(0,$pos$$);do{var $n$$=$_freadint$$($base64_data$jscomp$56_f$$);if("IDAT"==$fread$$($base64_data$jscomp$56_f$$,4)){$error$jscomp$37_result$$=$base64_data$jscomp$56_f$$.substring(0,
$pos$$-8);$chunkData_key$$=$chunkData_key$$+String.fromCharCode(0)+("zTXt"==$type$$?String.fromCharCode(0):"")+$crc_value$$;$crc_value$$=4294967295;$crc_value$$=EditorUi.prototype.updateCRC($crc_value$$,$type$$,0,4);$crc_value$$=EditorUi.prototype.updateCRC($crc_value$$,$chunkData_key$$,0,$chunkData_key$$.length);$error$jscomp$37_result$$+=$writeInt$$($chunkData_key$$.length)+$type$$+$chunkData_key$$+$writeInt$$($crc_value$$^4294967295);$error$jscomp$37_result$$+=$base64_data$jscomp$56_f$$.substring($pos$$-
8,$base64_data$jscomp$56_f$$.length);break}$error$jscomp$37_result$$+=$base64_data$jscomp$56_f$$.substring($pos$$-8,$pos$$-4+$n$$);$fread$$($base64_data$jscomp$56_f$$,$n$$);$fread$$($base64_data$jscomp$56_f$$,4)}while($n$$);return"data:image/png;base64,"+(window.btoa?btoa($error$jscomp$37_result$$):Base64.encode($error$jscomp$37_result$$,!0))}};if(window.ColorDialog){FilenameDialog.filenameHelpLink="../../../../Documents/htmlhelp/home__file_menu.htm?ms=AAAA&st=MA%3D%3D&sct=MTcxOS4zMzMzNzQwMjM0Mzc1&mw=NTEx";
var $colorDialogAddRecentColor$$=ColorDialog.addRecentColor;ColorDialog.addRecentColor=function $ColorDialog$addRecentColor$($color$$,$max$$){$colorDialogAddRecentColor$$.apply(this,arguments);mxSettings.setRecentColors(ColorDialog.recentColors);mxSettings.save()};var $colorDialogResetRecentColors$$=ColorDialog.resetRecentColors;ColorDialog.resetRecentColors=function $ColorDialog$resetRecentColors$(){$colorDialogResetRecentColors$$.apply(this,arguments);mxSettings.setRecentColors(ColorDialog.recentColors);
mxSettings.save()}}window.EditDataDialog&&(EditDataDialog.getDisplayIdForCell=function $EditDataDialog$getDisplayIdForCell$($ui$$,$cell$$){var $id$$=null;null!=$ui$$.editor.graph.getModel().getParent($cell$$)?$id$$=$cell$$.getId():null!=$ui$$.currentPage&&($id$$=$ui$$.currentPage.getId());return $id$$});if(null!=window.StyleFormatPanel){var $formatInit$$=Format.prototype.init;Format.prototype.init=function $Format$$init$(){$formatInit$$.apply(this,arguments);this.editorUi.editor.addListener("fileLoaded",
this.update)};var $formatRefresh$$=Format.prototype.refresh;Format.prototype.refresh=function $Format$$refresh$(){null!=this.editorUi.getCurrentFile()||"1"==urlParams.embed||this.editorUi.editor.chromeless?$formatRefresh$$.apply(this,arguments):this.clear()};DiagramFormatPanel.prototype.isShadowOptionVisible=function $DiagramFormatPanel$$isShadowOptionVisible$(){var $file$$=this.editorUi.getCurrentFile();return"1"==urlParams.embed||null!=$file$$&&$file$$.isEditable()};DiagramFormatPanel.prototype.isMathOptionVisible=
function $DiagramFormatPanel$$isMathOptionVisible$($div$$){return!1};var $diagramFormatPanelAddView$$=DiagramFormatPanel.prototype.addView;DiagramFormatPanel.prototype.addView=function $DiagramFormatPanel$$addView$($div$$){$div$$=$diagramFormatPanelAddView$$.apply(this,arguments);this.editorUi.getCurrentFile();if(mxClient.IS_SVG&&this.isShadowOptionVisible()){var $ui$$=this.editorUi,$graph$$=$ui$$.editor.graph,$option$$=this.createOption(mxResources.get("shadow"),function(){return $graph$$.shadowVisible},
function($checked$$){var $change$$=new ChangePageSetup($ui$$);$change$$.ignoreColor=!0;$change$$.ignoreImage=!0;$change$$.shadowVisible=$checked$$;$graph$$.model.execute($change$$)},{install:function($apply$$){this.listener=function $this$listener$(){$apply$$($graph$$.shadowVisible)};$ui$$.addListener("shadowVisibleChanged",this.listener)},destroy:function(){$ui$$.removeListener(this.listener)}});Editor.shadowOptionEnabled||($option$$.getElementsByTagName("input")[0].setAttribute("disabled","disabled"),
mxUtils.setOpacity($option$$,60));$div$$.appendChild($option$$)}return $div$$};var $diagramFormatPanelAddOptions$$=DiagramFormatPanel.prototype.addOptions;DiagramFormatPanel.prototype.addOptions=function $DiagramFormatPanel$$addOptions$($div$$){$div$$=$diagramFormatPanelAddOptions$$.apply(this,arguments);var $ui$$=this.editorUi,$graph$$=$ui$$.editor.graph;if($graph$$.isEnabled()){var $file$jscomp$7_opt_option$$=$ui$$.getCurrentFile();null!=$file$jscomp$7_opt_option$$&&$file$jscomp$7_opt_option$$.isAutosaveOptional()&&
($file$jscomp$7_opt_option$$=this.createOption(mxResources.get("autosave"),function(){return $ui$$.editor.autosave},function($checked$$){$ui$$.editor.setAutosave($checked$$)},{install:function($apply$$){this.listener=function $this$listener$(){$apply$$($ui$$.editor.autosave)};$ui$$.editor.addListener("autosaveChanged",this.listener)},destroy:function(){$ui$$.editor.removeListener(this.listener)}}),$div$$.appendChild($file$jscomp$7_opt_option$$))}if(this.isMathOptionVisible()&&$graph$$.isEnabled()&&
"undefined"!==typeof MathJax){$file$jscomp$7_opt_option$$=this.createOption(mxResources.get("mathematicalTypesetting"),function(){return $graph$$.mathEnabled},function($checked$$){$ui$$.actions.get("mathematicalTypesetting").funct()},{install:function($apply$$){this.listener=function $this$listener$(){$apply$$($graph$$.mathEnabled)};$ui$$.addListener("mathEnabledChanged",this.listener)},destroy:function(){$ui$$.removeListener(this.listener)}});$file$jscomp$7_opt_option$$.style.paddingTop="5px";$div$$.appendChild($file$jscomp$7_opt_option$$);
var $help$$=$ui$$.menus.createHelpLink("https://desk.draw.io/support/solutions/articles/16000032875");$help$$.style.position="relative";$help$$.style.marginLeft="6px";$help$$.style.top="2px";$file$jscomp$7_opt_option$$.appendChild($help$$)}return $div$$};mxCellRenderer.prototype.defaultVertexShape.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"absoluteArcSize",dispName:"Abs. Arc Size",type:"bool",defVal:!1}];mxCellRenderer.defaultShapes.link.prototype.customProperties=
[{name:"width",dispName:"Width",type:"float",min:0,defVal:4}];mxCellRenderer.defaultShapes.flexArrow.prototype.customProperties=[{name:"width",dispName:"Width",type:"float",min:0,defVal:10},{name:"startWidth",dispName:"Start Width",type:"float",min:0,defVal:20},{name:"endWidth",dispName:"End Width",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.process.prototype.customProperties=[{name:"size",dispName:"Indent",type:"float",min:0,max:.5,defVal:.1}];mxCellRenderer.defaultShapes.rhombus.prototype.customProperties=
[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,max:50,defVal:mxConstants.LINE_ARCSIZE},{name:"double",dispName:"Double",type:"bool",defVal:!1}];mxCellRenderer.defaultShapes.partialRectangle.prototype.customProperties=[{name:"top",dispName:"Top Line",type:"bool",defVal:!0},{name:"bottom",dispName:"Bottom Line",type:"bool",defVal:!0},{name:"left",dispName:"Left Line",type:"bool",defVal:!0},{name:"right",dispName:"Right Line",type:"bool",defVal:!0}];mxCellRenderer.defaultShapes.parallelogram.prototype.customProperties=
[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.hexagon.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.25}];mxCellRenderer.defaultShapes.triangle.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",
min:0,defVal:mxConstants.LINE_ARCSIZE}];mxCellRenderer.defaultShapes.document.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",defVal:.3,min:0,max:1}];mxCellRenderer.defaultShapes.internalStorage.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"dx",dispName:"Left Line",type:"float",min:0,defVal:20},{name:"dy",dispName:"Top Line",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.cube.prototype.customProperties=
[{name:"size",dispName:"Size",type:"float",min:0,defVal:20},{name:"darkOpacity",dispName:"Dark Opacity",type:"float",min:-1,max:1,defVal:0},{name:"darkOpacity2",dispName:"Dark Opacity 2",type:"float",min:-1,max:1,defVal:0}];mxCellRenderer.defaultShapes.step.prototype.customProperties=[{name:"size",dispName:"Notch Size",type:"float",min:0,defVal:20},{name:"fixedSize",dispName:"Fixed Size",type:"bool",defVal:!0}];mxCellRenderer.defaultShapes.trapezoid.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",
type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Slope Angle",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.tape.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.4}];mxCellRenderer.defaultShapes.note.prototype.customProperties=[{name:"size",dispName:"Fold Size",type:"float",min:0,defVal:30},{name:"darkOpacity",dispName:"Dark Opacity",type:"float",min:-1,max:1,defVal:0}];mxCellRenderer.defaultShapes.card.prototype.customProperties=
[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"size",dispName:"Cutoff Size",type:"float",min:0,defVal:30}];mxCellRenderer.defaultShapes.callout.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:mxConstants.LINE_ARCSIZE},{name:"base",dispName:"Callout Width",type:"float",min:0,defVal:20},{name:"size",dispName:"Callout Length",type:"float",min:0,defVal:30},{name:"position",dispName:"Callout Position",type:"float",
min:0,max:1,defVal:.5},{name:"position2",dispName:"Callout Tip Position",type:"float",min:0,max:1,defVal:.5}];mxCellRenderer.defaultShapes.folder.prototype.customProperties=[{name:"tabWidth",dispName:"Tab Width",type:"float"},{name:"tabHeight",dispName:"Tab Height",type:"float"},{name:"tabPosition",dispName:"Tap Position",type:"enum",enumList:[{val:"left",dispName:"Left"},{val:"right",dispName:"Right"}]}];mxCellRenderer.defaultShapes.swimlane.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",
type:"float",min:0,defVal:15},{name:"startSize",dispName:"Header Size",type:"float"},{name:"horizontal",dispName:"Horizontal",type:"bool",defVal:!0},{name:"separatorColor",dispName:"Separator Color",type:"color",defVal:null}];mxCellRenderer.defaultShapes.doubleEllipse.prototype.customProperties=[{name:"margin",dispName:"Indent",type:"float",min:0,defVal:4}];mxCellRenderer.defaultShapes.ext.prototype.customProperties=[{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:15},{name:"double",
dispName:"Double",type:"bool",defVal:!1},{name:"margin",dispName:"Indent",type:"float",min:0,defVal:0}];mxCellRenderer.defaultShapes.curlyBracket.prototype.customProperties=[{name:"rounded",dispName:"Rounded",type:"bool",defVal:!0},{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.5}];mxCellRenderer.defaultShapes.image.prototype.customProperties=[{name:"imageAspect",dispName:"Fixed Image Aspect",type:"bool",defVal:!0}];mxCellRenderer.defaultShapes.label.prototype.customProperties=[{name:"imageAspect",
dispName:"Fixed Image Aspect",type:"bool",defVal:!0},{name:"imageAlign",dispName:"Image Align",type:"enum",enumList:[{val:"left",dispName:"Left"},{val:"center",dispName:"Center"},{val:"right",dispName:"Right"}],defVal:"left"},{name:"imageVerticalAlign",dispName:"Image Vertical Align",type:"enum",enumList:[{val:"top",dispName:"Top"},{val:"middle",dispName:"Middle"},{val:"bottom",dispName:"Bottom"}],defVal:"middle"},{name:"imageWidth",dispName:"Image Width",type:"float",min:0,defVal:24},{name:"imageHeight",
dispName:"Image Height",type:"float",min:0,defVal:24},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:12},{name:"absoluteArcSize",dispName:"Abs. Arc Size",type:"bool",defVal:!1}];mxCellRenderer.defaultShapes.dataStorage.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.1}];mxCellRenderer.defaultShapes.manualInput.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:30},{name:"arcSize",dispName:"Arc Size",type:"float",
min:0,defVal:20}];mxCellRenderer.defaultShapes.loopLimit.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:20},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.offPageConnector.prototype.customProperties=[{name:"size",dispName:"Size",type:"float",min:0,defVal:38},{name:"arcSize",dispName:"Arc Size",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.display.prototype.customProperties=[{name:"size",dispName:"Size",
type:"float",min:0,max:1,defVal:.25}];mxCellRenderer.defaultShapes.singleArrow.prototype.customProperties=[{name:"arrowWidth",dispName:"Arrow Width",type:"float",min:0,max:1,defVal:.3},{name:"arrowSize",dispName:"Arrowhead Length",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.doubleArrow.prototype.customProperties=[{name:"arrowWidth",dispName:"Arrow Width",type:"float",min:0,max:1,defVal:.3},{name:"arrowSize",dispName:"Arrowhead Length",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.cross.prototype.customProperties=
[{name:"size",dispName:"Size",type:"float",min:0,max:1,defVal:.2}];mxCellRenderer.defaultShapes.corner.prototype.customProperties=[{name:"dx",dispName:"Width1",type:"float",min:0,defVal:20},{name:"dy",dispName:"Width2",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.tee.prototype.customProperties=[{name:"dx",dispName:"Width1",type:"float",min:0,defVal:20},{name:"dy",dispName:"Width2",type:"float",min:0,defVal:20}];mxCellRenderer.defaultShapes.umlLifeline.prototype.customProperties=[{name:"participant",
dispName:"Participant",type:"enum",defVal:"none",enumList:[{val:"none",dispName:"Default"},{val:"umlActor",dispName:"Actor"},{val:"umlBoundary",dispName:"Boundary"},{val:"umlEntity",dispName:"Entity"},{val:"umlControl",dispName:"Control"}]},{name:"size",dispName:"Height",type:"float",defVal:40,min:0}];mxCellRenderer.defaultShapes.umlFrame.prototype.customProperties=[{name:"width",dispName:"Title Width",type:"float",defVal:60,min:0},{name:"height",dispName:"Title Height",type:"float",defVal:30,min:0}];
StyleFormatPanel.prototype.defaultColorSchemes=[[{fill:"",stroke:""},{fill:"#f5f5f5",stroke:"#666666",font:"#333333"},{fill:"#dae8fc",stroke:"#6c8ebf"},{fill:"#d5e8d4",stroke:"#82b366"},{fill:"#ffe6cc",stroke:"#d79b00"},{fill:"#fff2cc",stroke:"#d6b656"},{fill:"#f8cecc",stroke:"#b85450"},{fill:"#e1d5e7",stroke:"#9673a6"}],[{fill:"#60a917",stroke:"#2D7600",font:"#ffffff"},{fill:"#008a00",stroke:"#005700",font:"#ffffff"},{fill:"#1ba1e2",stroke:"#006EAF",font:"#ffffff"},{fill:"#0050ef",stroke:"#001DBC",
font:"#ffffff"},{fill:"#6a00ff",stroke:"#3700CC",font:"#ffffff"},{fill:"#aa00ff",stroke:"#7700CC",font:"#ffffff"},{fill:"#d80073",stroke:"#A50040",font:"#ffffff"},{fill:"#a20025",stroke:"#6F0000",font:"#ffffff"}],[{fill:"#e51400",stroke:"#B20000",font:"#ffffff"},{fill:"#fa6800",stroke:"#C73500",font:"#ffffff"},{fill:"#f0a30a",stroke:"#BD7000",font:"#ffffff"},{fill:"#e3c800",stroke:"#B09500",font:"#ffffff"},{fill:"#6d8764",stroke:"#3A5431",font:"#ffffff"},{fill:"#647687",stroke:"#314354",font:"#ffffff"},
{fill:"#76608a",stroke:"#432D57",font:"#ffffff"},{fill:"#a0522d",stroke:"#6D1F00",font:"#ffffff"}],[{fill:"",stroke:""},{fill:mxConstants.NONE,stroke:""},{fill:"#fad7ac",stroke:"#b46504"},{fill:"#fad9d5",stroke:"#ae4132"},{fill:"#b0e3e6",stroke:"#0e8088"},{fill:"#b1ddf0",stroke:"#10739e"},{fill:"#d0cee2",stroke:"#56517e"},{fill:"#bac8d3",stroke:"#23445d"}],[{fill:"",stroke:""},{fill:"#f5f5f5",stroke:"#666666",gradient:"#b3b3b3"},{fill:"#dae8fc",stroke:"#6c8ebf",gradient:"#7ea6e0"},{fill:"#d5e8d4",
stroke:"#82b366",gradient:"#97d077"},{fill:"#ffcd28",stroke:"#d79b00",gradient:"#ffa500"},{fill:"#fff2cc",stroke:"#d6b656",gradient:"#ffd966"},{fill:"#f8cecc",stroke:"#b85450",gradient:"#ea6b66"},{fill:"#e6d0de",stroke:"#996185",gradient:"#d5739d"}],[{fill:"",stroke:""},{fill:"#eeeeee",stroke:"#36393d"},{fill:"#f9f7ed",stroke:"#36393d"},{fill:"#ffcc99",stroke:"#36393d"},{fill:"#cce5ff",stroke:"#36393d"},{fill:"#ffff88",stroke:"#36393d"},{fill:"#cdeb8b",stroke:"#36393d"},{fill:"#ffcccc",stroke:"#36393d"}]];
StyleFormatPanel.prototype.customColorSchemes=null;StyleFormatPanel.prototype.findCommonProperties=function $StyleFormatPanel$$findCommonProperties$($cell$$,$properties$$,$addAll$$){if(null!=$properties$$){var $handleCustomProp$$=function $$handleCustomProp$$$($custProperties$$){if(null!=$custProperties$$)if($addAll$$)for(var $i$$=0;$i$$<$custProperties$$.length;$i$$++)$properties$$[$custProperties$$[$i$$].name]=$custProperties$$[$i$$];else for(var $key$$ in $properties$$){for(var $found$$=!1,$i$$=
0;$i$$<$custProperties$$.length;$i$$++)if($custProperties$$[$i$$].name==$key$$&&$custProperties$$[$i$$].type==$properties$$[$key$$].type){$found$$=!0;break}$found$$||delete $properties$$[$key$$]}},$state$$=this.editorUi.editor.graph.view.getState($cell$$);null!=$state$$&&null!=$state$$.shape&&($state$$.shape.commonCustomPropAdded||($state$$.shape.commonCustomPropAdded=!0,$state$$.shape.customProperties=$state$$.shape.customProperties||[],$state$$.cell.vertex?Array.prototype.push.apply($state$$.shape.customProperties,
Editor.commonVertexProperties):Array.prototype.push.apply($state$$.shape.customProperties,Editor.commonEdgeProperties)),$handleCustomProp$$($state$$.shape.customProperties));$cell$$=$cell$$.getAttribute("customProperties");if(null!=$cell$$)try{$handleCustomProp$$(JSON.parse($cell$$))}catch($e$$){}}};var $styleFormatPanelInit$$=StyleFormatPanel.prototype.init;StyleFormatPanel.prototype.init=function $StyleFormatPanel$$init$(){var $sstate$$=this.format.createSelectionState();"image"==$sstate$$.style.shape||
$sstate$$.containsLabel||this.container.appendChild(this.addStyles(this.createPanel()));$styleFormatPanelInit$$.apply(this,arguments);if(Editor.enableCustomProperties){for(var $properties$$={},$vertices$$=$sstate$$.vertices,$edges$$=$sstate$$.edges,$i$$=0;$i$$<$vertices$$.length;$i$$++)this.findCommonProperties($vertices$$[$i$$],$properties$$,0==$i$$);for($i$$=0;$i$$<$edges$$.length;$i$$++)this.findCommonProperties($edges$$[$i$$],$properties$$,0==$vertices$$.length&&0==$i$$);null!=Object.getOwnPropertyNames&&
0<Object.getOwnPropertyNames($properties$$).length&&this.container.appendChild(this.addProperties(this.createPanel(),$properties$$,$sstate$$))}};var $styleFormatPanelAddStyleOps$$=StyleFormatPanel.prototype.addStyleOps;StyleFormatPanel.prototype.addStyleOps=function $StyleFormatPanel$$addStyleOps$($div$$){var $btn$$=mxUtils.button(mxResources.get("copyStyle"),mxUtils.bind(this,function($evt$$){this.editorUi.actions.get("copyStyle").funct()}));$btn$$.setAttribute("title",mxResources.get("copyStyle")+
" ("+this.editorUi.actions.get("copyStyle").shortcut+")");$btn$$.style.marginBottom="2px";$btn$$.style.width="100px";$btn$$.style.marginRight="2px";$div$$.appendChild($btn$$);$btn$$=mxUtils.button(mxResources.get("pasteStyle"),mxUtils.bind(this,function($evt$$){this.editorUi.actions.get("pasteStyle").funct()}));$btn$$.setAttribute("title",mxResources.get("pasteStyle")+" ("+this.editorUi.actions.get("pasteStyle").shortcut+")");$btn$$.style.marginBottom="2px";$btn$$.style.width="100px";$div$$.appendChild($btn$$);
mxUtils.br($div$$);return $styleFormatPanelAddStyleOps$$.apply(this,arguments)};EditorUi.prototype.propertiesCollapsed=!0;StyleFormatPanel.prototype.addProperties=function $StyleFormatPanel$$addProperties$($div$$,$insertElem_properties$$,$j$jscomp$7_state$$){function $applyStyleVal$$($i$$,$newVal$$,$prop$$,$delIndex$$){$graph$$.getModel().beginUpdate();try{var $changedProps$$=[],$changedVals$$=[];if(null!=$prop$$.index){for(var $allVals$$=[],$curVal$$=$prop$$.parentRow.nextSibling;$curVal$$&&$curVal$$.getAttribute("data-pName")==
$i$$;)$allVals$$.push($curVal$$.getAttribute("data-pValue")),$curVal$$=$curVal$$.nextSibling;$prop$$.index<$allVals$$.length?null!=$delIndex$$?$allVals$$.splice($delIndex$$,1):$allVals$$[$prop$$.index]=$newVal$$:$allVals$$.push($newVal$$);null!=$prop$$.size&&$allVals$$.length>$prop$$.size&&($allVals$$=$allVals$$.slice(0,$prop$$.size));$newVal$$=$allVals$$.join(",");null!=$prop$$.countProperty&&($graph$$.setCellStyles($prop$$.countProperty,$allVals$$.length,$graph$$.getSelectionCells()),$changedProps$$.push($prop$$.countProperty),
$changedVals$$.push($allVals$$.length))}$graph$$.setCellStyles($i$$,$newVal$$,$graph$$.getSelectionCells());$changedProps$$.push($i$$);$changedVals$$.push($newVal$$);if(null!=$prop$$.dependentProps)for($i$$=0;$i$$<$prop$$.dependentProps.length;$i$$++){var $defVal$$=$prop$$.dependentPropsDefVal[$i$$],$vals$$=$prop$$.dependentPropsVals[$i$$];if($vals$$.length>$newVal$$)$vals$$=$vals$$.slice(0,$newVal$$);else for(var $j$$=$vals$$.length;$j$$<$newVal$$;$j$$++)$vals$$.push($defVal$$);$vals$$=$vals$$.join(",");
$graph$$.setCellStyles($prop$$.dependentProps[$i$$],$vals$$,$graph$$.getSelectionCells());$changedProps$$.push($prop$$.dependentProps[$i$$]);$changedVals$$.push($vals$$)}if("function"==typeof $prop$$.onChange)$prop$$.onChange($graph$$,$newVal$$);$that$$.editorUi.fireEvent(new mxEventObject("styleChanged","keys",$changedProps$$,"values",$changedVals$$,"cells",$graph$$.getSelectionCells()))}finally{$graph$$.getModel().endUpdate()}}function $setElementPos$$($td$$,$elem$$,$adjustHeight$$){var $divPos$$=
mxUtils.getOffset($div$$,!0),$pos$$=mxUtils.getOffset($td$$,!0);$elem$$.style.position="absolute";$elem$$.style.left=$pos$$.x-$divPos$$.x+"px";$elem$$.style.top=$pos$$.y-$divPos$$.y+"px";$elem$$.style.width=$td$$.offsetWidth+"px";$elem$$.style.height=$td$$.offsetHeight-($adjustHeight$$?4:0)+"px";$elem$$.style.zIndex=5}function $createColorBtn$$($pName$$,$pValue$$,$prop$$){var $clrDiv$$=document.createElement("div");$clrDiv$$.style.width="32px";$clrDiv$$.style.height="4px";$clrDiv$$.style.margin="2px";
$clrDiv$$.style.border="1px solid black";$clrDiv$$.style.background=$pValue$$&&"none"!=$pValue$$?$pValue$$:"url('"+Dialog.prototype.noColorImage+"')";btn=mxUtils.button("",mxUtils.bind($that$$,function($evt$$){this.editorUi.pickColor($pValue$$,function($color$$){$clrDiv$$.style.background="none"==$color$$?"url('"+Dialog.prototype.noColorImage+"')":$color$$;$applyStyleVal$$($pName$$,$color$$,$prop$$)});mxEvent.consume($evt$$)}));btn.style.height="12px";btn.style.width="40px";btn.className="geColorBtn";
btn.appendChild($clrDiv$$);return btn}function $createDynArrList$$($pName$$,$pValue$jscomp$2_vals$$,$subType$$,$defVal$$,$countProperty$$,$myRow$$,$flipBkg$$){null!=$pValue$jscomp$2_vals$$&&($pValue$jscomp$2_vals$$=$pValue$jscomp$2_vals$$.split(","),$secondLevel$$.push({name:$pName$$,values:$pValue$jscomp$2_vals$$,type:$subType$$,defVal:$defVal$$,countProperty:$countProperty$$,parentRow:$myRow$$,isDeletable:!0,flipBkg:$flipBkg$$}));btn=mxUtils.button("+",mxUtils.bind($that$$,function($evt$$){for(var $beforeElem$$=
$myRow$$,$arrItem$jscomp$1_index$$=0;null!=$beforeElem$$.nextSibling;)if($beforeElem$$.nextSibling.getAttribute("data-pName")==$pName$$)$beforeElem$$=$beforeElem$$.nextSibling,$arrItem$jscomp$1_index$$++;else break;var $newProp$$={type:$subType$$,parentRow:$myRow$$,index:$arrItem$jscomp$1_index$$,isDeletable:!0,defVal:$defVal$$,countProperty:$countProperty$$},$arrItem$jscomp$1_index$$=$createPropertyRow$$($pName$$,"",$newProp$$,0==$arrItem$jscomp$1_index$$%2,$flipBkg$$);$applyStyleVal$$($pName$$,
$defVal$$,$newProp$$);$beforeElem$$.parentNode.insertBefore($arrItem$jscomp$1_index$$,$beforeElem$$.nextSibling);mxEvent.consume($evt$$)}));btn.style.height="16px";btn.style.width="25px";btn.className="geColorBtn";return btn}function $createStaticArrList$$($pName$$,$curVals_pValue$$,$subType$$,$defVal$$,$size$$,$myRow$$,$flipBkg$$){if(0<$size$$){var $vals$$=Array($size$$);$curVals_pValue$$=null!=$curVals_pValue$$?$curVals_pValue$$.split(","):[];for(var $i$$=0;$i$$<$size$$;$i$$++)$vals$$[$i$$]=null!=
$curVals_pValue$$[$i$$]?$curVals_pValue$$[$i$$]:null!=$defVal$$?$defVal$$:"";$secondLevel$$.push({name:$pName$$,values:$vals$$,type:$subType$$,defVal:$defVal$$,parentRow:$myRow$$,flipBkg:$flipBkg$$,size:$size$$})}return document.createElement("div")}function $createCheckbox$$($pName$$,$pValue$$,$prop$$){var $input$$=document.createElement("input");$input$$.type="checkbox";$input$$.checked="1"==$pValue$$;mxEvent.addListener($input$$,"change",function(){$applyStyleVal$$($pName$$,$input$$.checked?"1":
"0",$prop$$)});return $input$$}function $createPropertyRow$$($pName$$,$pValue$$,$prop$$,$isOdd$$,$delBtn_flipBkg$jscomp$3_i$$){var $op$jscomp$0$$=$prop$$.dispName,$pType$$=$prop$$.type,$row$$=document.createElement("tr");$row$$.className="gePropRow"+($delBtn_flipBkg$jscomp$3_i$$?"Dark":"")+($isOdd$$?"Alt":"")+" gePropNonHeaderRow";$row$$.setAttribute("data-pName",$pName$$);$row$$.setAttribute("data-pValue",$pValue$$);$isOdd$$=!1;null!=$prop$$.index&&($row$$.setAttribute("data-index",$prop$$.index),
$op$jscomp$0$$=(null!=$op$jscomp$0$$?$op$jscomp$0$$:"")+"["+$prop$$.index+"]",$isOdd$$=!0);var $td$$=document.createElement("td");$td$$.className="gePropRowCell";$td$$.innerHTML=mxUtils.htmlEntities(mxResources.get($op$jscomp$0$$,null,$op$jscomp$0$$));$isOdd$$&&($td$$.style.textAlign="right");$row$$.appendChild($td$$);$td$$=document.createElement("td");$td$$.className="gePropRowCell";if("color"==$pType$$)$td$$.appendChild($createColorBtn$$($pName$$,$pValue$$,$prop$$));else if("bool"==$pType$$||"boolean"==
$pType$$)$td$$.appendChild($createCheckbox$$($pName$$,$pValue$$,$prop$$));else if("enum"==$pType$$){var $pEnumList$$=$prop$$.enumList;for($delBtn_flipBkg$jscomp$3_i$$=0;$delBtn_flipBkg$jscomp$3_i$$<$pEnumList$$.length;$delBtn_flipBkg$jscomp$3_i$$++)if($op$jscomp$0$$=$pEnumList$$[$delBtn_flipBkg$jscomp$3_i$$],$op$jscomp$0$$.val==$pValue$$){$td$$.innerHTML=mxUtils.htmlEntities(mxResources.get($op$jscomp$0$$.dispName,null,$op$jscomp$0$$.dispName));break}mxEvent.addListener($td$$,"click",mxUtils.bind($that$$,
function(){var $select$$=document.createElement("select");$setElementPos$$($td$$,$select$$);for(var $i$$=0;$i$$<$pEnumList$$.length;$i$$++){var $op$$=$pEnumList$$[$i$$],$opElem$$=document.createElement("option");$opElem$$.value=mxUtils.htmlEntities($op$$.val);$opElem$$.innerHTML=mxUtils.htmlEntities(mxResources.get($op$$.dispName,null,$op$$.dispName));$select$$.appendChild($opElem$$)}$select$$.value=$pValue$$;$div$$.appendChild($select$$);mxEvent.addListener($select$$,"change",function(){var $newVal$$=
mxUtils.htmlEntities($select$$.value);$applyStyleVal$$($pName$$,$newVal$$,$prop$$)});$select$$.focus();mxEvent.addListener($select$$,"blur",function(){$div$$.removeChild($select$$)})}))}else"dynamicArr"==$pType$$?$td$$.appendChild($createDynArrList$$($pName$$,$pValue$$,$prop$$.subType,$prop$$.subDefVal,$prop$$.countProperty,$row$$,$delBtn_flipBkg$jscomp$3_i$$)):"staticArr"==$pType$$?$td$$.appendChild($createStaticArrList$$($pName$$,$pValue$$,$prop$$.subType,$prop$$.subDefVal,$prop$$.size,$row$$,$delBtn_flipBkg$jscomp$3_i$$)):
($td$$.innerHTML=$pValue$$,mxEvent.addListener($td$$,"click",mxUtils.bind($that$$,function(){function $setInputVal$$(){var $inputVal_newVal$$=$input$$.value,$inputVal_newVal$$=0==$inputVal_newVal$$.length&&"string"!=$pType$$?0:$inputVal_newVal$$;$prop$$.allowAuto&&("auto"==$inputVal_newVal$$.trim().toLowerCase()?($inputVal_newVal$$="auto",$pType$$="string"):($inputVal_newVal$$=parseFloat($inputVal_newVal$$),$inputVal_newVal$$=isNaN($inputVal_newVal$$)?0:$inputVal_newVal$$));null!=$prop$$.min&&$inputVal_newVal$$<
$prop$$.min?$inputVal_newVal$$=$prop$$.min:null!=$prop$$.max&&$inputVal_newVal$$>$prop$$.max&&($inputVal_newVal$$=$prop$$.max);$inputVal_newVal$$=mxUtils.htmlEntities(("int"==$pType$$?parseInt($inputVal_newVal$$):$inputVal_newVal$$)+"");$applyStyleVal$$($pName$$,$inputVal_newVal$$,$prop$$)}var $input$$=document.createElement("input");$setElementPos$$($td$$,$input$$,!0);$input$$.value=$pValue$$;$input$$.className="gePropEditor";"int"!=$pType$$&&"float"!=$pType$$||$prop$$.allowAuto||($input$$.type=
"number",$input$$.step="int"==$pType$$?"1":"any",null!=$prop$$.min&&($input$$.min=parseFloat($prop$$.min)),null!=$prop$$.max&&($input$$.max=parseFloat($prop$$.max)));$div$$.appendChild($input$$);mxEvent.addListener($input$$,"keypress",function($e$$){13==$e$$.keyCode&&$setInputVal$$()});$input$$.focus();mxEvent.addListener($input$$,"blur",function(){$setInputVal$$()})})));$prop$$.isDeletable&&($delBtn_flipBkg$jscomp$3_i$$=mxUtils.button("-",mxUtils.bind($that$$,function($evt$$){$applyStyleVal$$($pName$$,
"",$prop$$,$prop$$.index);mxEvent.consume($evt$$)})),$delBtn_flipBkg$jscomp$3_i$$.style.height="16px",$delBtn_flipBkg$jscomp$3_i$$.style.width="25px",$delBtn_flipBkg$jscomp$3_i$$.style["float"]="right",$delBtn_flipBkg$jscomp$3_i$$.className="geColorBtn",$td$$.appendChild($delBtn_flipBkg$jscomp$3_i$$));$row$$.appendChild($td$$);return $row$$}var $that$$=this,$graph$$=this.editorUi.editor.graph,$secondLevel$$=[];$div$$.style.position="relative";$div$$.style.padding="0";var $grid$$=document.createElement("table");
$grid$$.style.whiteSpace="nowrap";$grid$$.style.width="100%";var $hrow_prop$$=document.createElement("tr");$hrow_prop$$.className="gePropHeader";var $i$jscomp$85_th$$=document.createElement("th");$i$jscomp$85_th$$.className="gePropHeaderCell";var $collapseImg$$=document.createElement("img");$collapseImg$$.src=Sidebar.prototype.expandedImage;$i$jscomp$85_th$$.appendChild($collapseImg$$);mxUtils.write($i$jscomp$85_th$$,mxResources.get("property"));$hrow_prop$$.style.cursor="pointer";var $onFold$$=function $$onFold$$$(){var $rows$$=
$grid$$.querySelectorAll(".gePropNonHeaderRow"),$display$$;if($that$$.editorUi.propertiesCollapsed){$collapseImg$$.src=Sidebar.prototype.collapsedImage;$display$$="none";for(var $e$jscomp$43_r$$=$div$$.childNodes.length-1;0<=$e$jscomp$43_r$$;$e$jscomp$43_r$$--)try{var $child$$=$div$$.childNodes[$e$jscomp$43_r$$],$nodeName$$=$child$$.nodeName.toUpperCase();"INPUT"!=$nodeName$$&&"SELECT"!=$nodeName$$||$div$$.removeChild($child$$)}catch($ex$$){}}else $collapseImg$$.src=Sidebar.prototype.expandedImage,
$display$$="";for($e$jscomp$43_r$$=0;$e$jscomp$43_r$$<$rows$$.length;$e$jscomp$43_r$$++)$rows$$[$e$jscomp$43_r$$].style.display=$display$$};mxEvent.addListener($hrow_prop$$,"click",function(){$that$$.editorUi.propertiesCollapsed=!$that$$.editorUi.propertiesCollapsed;$onFold$$()});$hrow_prop$$.appendChild($i$jscomp$85_th$$);$i$jscomp$85_th$$=document.createElement("th");$i$jscomp$85_th$$.className="gePropHeaderCell";$i$jscomp$85_th$$.innerHTML=mxResources.get("value");$hrow_prop$$.appendChild($i$jscomp$85_th$$);
$grid$$.appendChild($hrow_prop$$);var $isOdd$$=!1,$flipBkg$$=!1,$arrItem_key$$;for($arrItem_key$$ in $insertElem_properties$$)if($hrow_prop$$=$insertElem_properties$$[$arrItem_key$$],"function"!=typeof $hrow_prop$$.isVisible||$hrow_prop$$.isVisible($j$jscomp$7_state$$)){var $pValue$$=null!=$j$jscomp$7_state$$.style[$arrItem_key$$]?mxUtils.htmlEntities($j$jscomp$7_state$$.style[$arrItem_key$$]+""):$hrow_prop$$.defVal;if("separator"==$hrow_prop$$.type)$flipBkg$$=!$flipBkg$$;else{if("staticArr"==$hrow_prop$$.type)$hrow_prop$$.size=
parseInt($j$jscomp$7_state$$.style[$hrow_prop$$.sizeProperty]||$insertElem_properties$$[$hrow_prop$$.sizeProperty].defVal)||0;else if(null!=$hrow_prop$$.dependentProps){for(var $dependentProps$$=$hrow_prop$$.dependentProps,$dependentPropsVals$$=[],$dependentPropsDefVal$$=[],$i$jscomp$85_th$$=0;$i$jscomp$85_th$$<$dependentProps$$.length;$i$jscomp$85_th$$++){var $propVal$$=$j$jscomp$7_state$$.style[$dependentProps$$[$i$jscomp$85_th$$]];$dependentPropsDefVal$$.push($insertElem_properties$$[$dependentProps$$[$i$jscomp$85_th$$]].subDefVal);
$dependentPropsVals$$.push(null!=$propVal$$?$propVal$$.split(","):[])}$hrow_prop$$.dependentPropsDefVal=$dependentPropsDefVal$$;$hrow_prop$$.dependentPropsVals=$dependentPropsVals$$}$grid$$.appendChild($createPropertyRow$$($arrItem_key$$,$pValue$$,$hrow_prop$$,$isOdd$$,$flipBkg$$));$isOdd$$=!$isOdd$$}}for($i$jscomp$85_th$$=0;$i$jscomp$85_th$$<$secondLevel$$.length;$i$jscomp$85_th$$++)for($hrow_prop$$=$secondLevel$$[$i$jscomp$85_th$$],$insertElem_properties$$=$hrow_prop$$.parentRow,$j$jscomp$7_state$$=
0;$j$jscomp$7_state$$<$hrow_prop$$.values.length;$j$jscomp$7_state$$++)$arrItem_key$$=$createPropertyRow$$($hrow_prop$$.name,$hrow_prop$$.values[$j$jscomp$7_state$$],{type:$hrow_prop$$.type,parentRow:$hrow_prop$$.parentRow,isDeletable:$hrow_prop$$.isDeletable,index:$j$jscomp$7_state$$,defVal:$hrow_prop$$.defVal,countProperty:$hrow_prop$$.countProperty,size:$hrow_prop$$.size},0==$j$jscomp$7_state$$%2,$hrow_prop$$.flipBkg),$insertElem_properties$$.parentNode.insertBefore($arrItem_key$$,$insertElem_properties$$.nextSibling),
$insertElem_properties$$=$arrItem_key$$;$div$$.appendChild($grid$$);$onFold$$();return $div$$};StyleFormatPanel.prototype.addStyles=function $StyleFormatPanel$$addStyles$($div$$){function $updateScheme$$($colorsets$$){function $addButton$$($colorset$$){var $btn$$=mxUtils.button("",function($evt$jscomp$159_i$$){$graph$$.getModel().beginUpdate();try{var $cells$$=$graph$$.getSelectionCells();for($evt$jscomp$159_i$$=0;$evt$jscomp$159_i$$<$cells$$.length;$evt$jscomp$159_i$$++){for(var $style$$=$graph$$.getModel().getStyle($cells$$[$evt$jscomp$159_i$$]),
$j$$=0;$j$$<$stylenames$$.length;$j$$++)$style$$=mxUtils.removeStylename($style$$,$stylenames$$[$j$$]);var $defaults$$=$graph$$.getModel().isVertex($cells$$[$evt$jscomp$159_i$$])?$graph$$.defaultVertexStyle:$graph$$.defaultEdgeStyle;null!=$colorset$$?($style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_GRADIENTCOLOR,$colorset$$.gradient||mxUtils.getValue($defaults$$,mxConstants.STYLE_GRADIENTCOLOR,null)),$style$$=""==$colorset$$.fill?mxUtils.setStyle($style$$,mxConstants.STYLE_FILLCOLOR,null):mxUtils.setStyle($style$$,
mxConstants.STYLE_FILLCOLOR,$colorset$$.fill||mxUtils.getValue($defaults$$,mxConstants.STYLE_FILLCOLOR,null)),$style$$=""==$colorset$$.stroke?mxUtils.setStyle($style$$,mxConstants.STYLE_STROKECOLOR,null):mxUtils.setStyle($style$$,mxConstants.STYLE_STROKECOLOR,$colorset$$.stroke||mxUtils.getValue($defaults$$,mxConstants.STYLE_STROKECOLOR,null)),$graph$$.getModel().isVertex($cells$$[$evt$jscomp$159_i$$])&&($style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_FONTCOLOR,$colorset$$.font||mxUtils.getValue($defaults$$,
mxConstants.STYLE_FONTCOLOR,null)))):($style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_FILLCOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_FILLCOLOR,"#ffffff")),$style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_STROKECOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_STROKECOLOR,"#000000")),$style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_GRADIENTCOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_GRADIENTCOLOR,null)),$graph$$.getModel().isVertex($cells$$[$evt$jscomp$159_i$$])&&
($style$$=mxUtils.setStyle($style$$,mxConstants.STYLE_FONTCOLOR,mxUtils.getValue($defaults$$,mxConstants.STYLE_FONTCOLOR,null))));$graph$$.getModel().setStyle($cells$$[$evt$jscomp$159_i$$],$style$$)}}finally{$graph$$.getModel().endUpdate()}});$btn$$.className="geStyleButton";$btn$$.style.width="36px";$btn$$.style.height="30px";$btn$$.style.margin="0px 6px 6px 0px";if(null!=$colorset$$)null!=$colorset$$.gradient?mxClient.IS_IE&&(mxClient.IS_QUIRKS||10>document.documentMode)?$btn$$.style.filter="progid:DXImageTransform.Microsoft.Gradient(StartColorStr='"+
$colorset$$.fill+"', EndColorStr='"+$colorset$$.gradient+"', GradientType=0)":$btn$$.style.backgroundImage="linear-gradient("+$colorset$$.fill+" 0px,"+$colorset$$.gradient+" 100%)":$colorset$$.fill==mxConstants.NONE?$btn$$.style.background="url('"+Dialog.prototype.noColorImage+"')":$btn$$.style.backgroundColor=""==$colorset$$.fill?mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_FILLCOLOR,"dark"==uiTheme?"#000000":"#ffffff"):$colorset$$.fill||mxUtils.getValue($graph$$.defaultVertexStyle,
mxConstants.STYLE_FILLCOLOR,"dark"==uiTheme?"#000000":"#ffffff"),$btn$$.style.border=$colorset$$.stroke==mxConstants.NONE?"1px solid transparent":""==$colorset$$.stroke?"1px solid "+mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,"dark"!=uiTheme?"#000000":"#ffffff"):"1px solid "+($colorset$$.stroke||mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,"dark"!=uiTheme?"#000000":"#ffffff"));else{var $bg$$=mxUtils.getValue($graph$$.defaultVertexStyle,
mxConstants.STYLE_FILLCOLOR,"#ffffff"),$bd$$=mxUtils.getValue($graph$$.defaultVertexStyle,mxConstants.STYLE_STROKECOLOR,"#000000");$btn$$.style.backgroundColor=$bg$$;$btn$$.style.border="1px solid "+$bd$$}$picker$$.appendChild($btn$$)}$picker$$.innerHTML="";for(var $i$$=0;$i$$<$colorsets$$.length;$i$$++)0<$i$$&&0==mxUtils.mod($i$$,4)&&mxUtils.br($picker$$),$addButton$$($colorsets$$[$i$$])}function $addHoverState$$($elt$$){mxEvent.addListener($elt$$,"mouseenter",function(){$elt$$.style.opacity="1"});
mxEvent.addListener($elt$$,"mouseleave",function(){$elt$$.style.opacity="0.5"})}var $graph$$=this.editorUi.editor.graph,$picker$$=document.createElement("div");$picker$$.style.whiteSpace="nowrap";$picker$$.style.paddingLeft="24px";$picker$$.style.paddingRight="20px";$div$$.style.paddingLeft="16px";$div$$.style.paddingBottom="6px";$div$$.style.position="relative";$div$$.appendChild($picker$$);var $stylenames$$="plain-gray plain-blue plain-green plain-turquoise plain-orange plain-yellow plain-red plain-pink plain-purple gray blue green turquoise orange yellow red pink purple".split(" ");
null==this.editorUi.currentScheme&&(this.editorUi.currentScheme=0);var $left$$=document.createElement("div");$left$$.style.cssText="position:absolute;left:10px;top:8px;bottom:8px;width:20px;margin:4px;opacity:0.5;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ4eHh3d3d1dXVxcXF2dnZ2dnZ2dnZxcXF2dnYmb3w1AAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADRJREFUCNdjwACMAmBKaiGYs2oJmLPKAZ3DabU8AMRTXpUKopislqFyVzCAuUZgikkBZjoAcMYLnp53P/UAAAAASUVORK5CYII=);";
mxEvent.addListener($left$$,"click",mxUtils.bind(this,function(){this.editorUi.currentScheme=mxUtils.mod(this.editorUi.currentScheme-1,this.defaultColorSchemes.length);$updateScheme$$(this.defaultColorSchemes[this.editorUi.currentScheme])}));var $right$$=document.createElement("div");$right$$.style.cssText="position:absolute;left:202px;top:8px;bottom:8px;width:20px;margin:4px;opacity:0.5;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQBAMAAADQT4M0AAAAIVBMVEUAAAB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYBuwCcAAAACnRSTlMAfCTkhhvb7cQSPH2JPgAAADZJREFUCNdjQAOMAmBKaiGY8loF5rKswsZlrVo8AUiFrTICcbIWK8A5DF1gDoMymMPApIAwHwCS0Qx/U7qCBQAAAABJRU5ErkJggg==);";
1<this.defaultColorSchemes.length&&($div$$.appendChild($left$$),$div$$.appendChild($right$$));mxEvent.addListener($right$$,"click",mxUtils.bind(this,function(){this.editorUi.currentScheme=mxUtils.mod(this.editorUi.currentScheme+1,this.defaultColorSchemes.length);$updateScheme$$(this.defaultColorSchemes[this.editorUi.currentScheme])}));$addHoverState$$($left$$);$addHoverState$$($right$$);$updateScheme$$(this.defaultColorSchemes[this.editorUi.currentScheme]);return $div$$};StyleFormatPanel.prototype.addEditOps=
function $StyleFormatPanel$$addEditOps$($div$$){var $btn2_ss$$=this.format.getSelectionState(),$btn$$=null;1==this.editorUi.editor.graph.getSelectionCount()&&($btn$$=mxUtils.button(mxResources.get("editStyle"),mxUtils.bind(this,function($evt$$){this.editorUi.actions.get("editStyle").funct()})),$btn$$.setAttribute("title",mxResources.get("editStyle")+" ("+this.editorUi.actions.get("editStyle").shortcut+")"),$btn$$.style.width="202px",$btn$$.style.marginBottom="2px",$div$$.appendChild($btn$$));var $graph$$=
this.editorUi.editor.graph,$state$$=$graph$$.view.getState($graph$$.getSelectionCell());1==$graph$$.getSelectionCount()&&null!=$state$$&&null!=$state$$.shape&&null!=$state$$.shape.stencil?($btn2_ss$$=mxUtils.button(mxResources.get("editShape"),mxUtils.bind(this,function($evt$$){this.editorUi.actions.get("editShape").funct()})),$btn2_ss$$.setAttribute("title",mxResources.get("editShape")),$btn2_ss$$.style.marginBottom="2px",null==$btn$$?$btn2_ss$$.style.width="202px":($btn$$.style.width="100px",$btn2_ss$$.style.width=
"100px",$btn2_ss$$.style.marginLeft="2px"),$div$$.appendChild($btn2_ss$$)):$btn2_ss$$.image&&($btn2_ss$$=mxUtils.button(mxResources.get("editImage"),mxUtils.bind(this,function($evt$$){this.editorUi.actions.get("image").funct()})),$btn2_ss$$.setAttribute("title",mxResources.get("editImage")),$btn2_ss$$.style.marginBottom="2px",null==$btn$$?$btn2_ss$$.style.width="202px":($btn$$.style.width="100px",$btn2_ss$$.style.width="100px",$btn2_ss$$.style.marginLeft="2px"),$div$$.appendChild($btn2_ss$$));return $div$$}}Graph.prototype.defaultThemeName=
"default-style2";Graph.prototype.lastPasteXml=null;Graph.prototype.pasteCounter=0;Graph.prototype.defaultScrollbars="0"!=urlParams.sb;Graph.prototype.defaultPageVisible="0"!=urlParams.pv;Graph.prototype.shadowId="dropShadow";Graph.prototype.svgShadowColor="#3D4574";Graph.prototype.svgShadowOpacity="0.4";Graph.prototype.svgShadowBlur="1.7";Graph.prototype.svgShadowSize="3";Graph.prototype.edgeMode="move"!=urlParams.edge;var $graphInit$$=Graph.prototype.init;Graph.prototype.init=function $Graph$$init$(){function $setMouseEvent$$($evt$$){$mouseEvent$$=
$evt$$;try{if(mxClient.IS_QUIRKS||7==document.documentMode||8==document.documentMode)$mouseEvent$$=document.createEventObject($evt$$),$mouseEvent$$.type=$evt$$.type,$mouseEvent$$.canBubble=$evt$$.canBubble,$mouseEvent$$.cancelable=$evt$$.cancelable,$mouseEvent$$.view=$evt$$.view,$mouseEvent$$.detail=$evt$$.detail,$mouseEvent$$.screenX=$evt$$.screenX,$mouseEvent$$.screenY=$evt$$.screenY,$mouseEvent$$.clientX=$evt$$.clientX,$mouseEvent$$.clientY=$evt$$.clientY,$mouseEvent$$.ctrlKey=$evt$$.ctrlKey,$mouseEvent$$.altKey=
$evt$$.altKey,$mouseEvent$$.shiftKey=$evt$$.shiftKey,$mouseEvent$$.metaKey=$evt$$.metaKey,$mouseEvent$$.button=$evt$$.button,$mouseEvent$$.relatedTarget=$evt$$.relatedTarget}catch($e$$){}}$graphInit$$.apply(this,arguments);var $mouseEvent$$=null;mxEvent.addListener(this.container,"mouseenter",$setMouseEvent$$);mxEvent.addListener(this.container,"mousemove",$setMouseEvent$$);mxEvent.addListener(this.container,"mouseleave",function($evt$$){$mouseEvent$$=null});this.isMouseInsertPoint=function $this$isMouseInsertPoint$(){return null!=
$mouseEvent$$};var $getInsertPoint$$=this.getInsertPoint;this.getInsertPoint=function $this$getInsertPoint$(){return null!=$mouseEvent$$?this.getPointForEvent($mouseEvent$$):$getInsertPoint$$.apply(this,arguments)};var $layoutManagerGetLayout$$=this.layoutManager.getLayout;this.layoutManager.getLayout=function $this$layoutManager$getLayout$($cell$$){var $style$$=this.graph.getCellStyle($cell$$);if(null!=$style$$){if("rack"==$style$$.childLayout){var $rackLayout_tableLayout$$=new mxStackLayout(this.graph,
!1);$rackLayout_tableLayout$$.fill=!0;$rackLayout_tableLayout$$.gridSize="undefined"!==typeof mxRackContainer?mxRackContainer.unitSize:20;$rackLayout_tableLayout$$.marginLeft=$style$$.marginLeft||0;$rackLayout_tableLayout$$.marginRight=$style$$.marginRight||0;$rackLayout_tableLayout$$.marginTop=$style$$.marginTop||0;$rackLayout_tableLayout$$.marginBottom=$style$$.marginBottom||0;$rackLayout_tableLayout$$.allowGaps=$style$$.allowGaps||0;$rackLayout_tableLayout$$.resizeParent=!1;return $rackLayout_tableLayout$$}if("undefined"!==
typeof mxTableLayout&&"tableLayout"==$style$$.childLayout)return $rackLayout_tableLayout$$=new mxTableLayout(this.graph),$rackLayout_tableLayout$$.rows=$style$$.tableRows||2,$rackLayout_tableLayout$$.columns=$style$$.tableColumns||2,$rackLayout_tableLayout$$.colPercentages=$style$$.colPercentages,$rackLayout_tableLayout$$.rowPercentages=$style$$.rowPercentages,$rackLayout_tableLayout$$.equalColumns="1"==mxUtils.getValue($style$$,"equalColumns",$rackLayout_tableLayout$$.colPercentages?"0":"1"),$rackLayout_tableLayout$$.equalRows=
"1"==mxUtils.getValue($style$$,"equalRows",$rackLayout_tableLayout$$.rowPercentages?"0":"1"),$rackLayout_tableLayout$$.resizeParent="1"==mxUtils.getValue($style$$,"resizeParent","1"),$rackLayout_tableLayout$$.border=$style$$.tableBorder||$rackLayout_tableLayout$$.border,$rackLayout_tableLayout$$.marginLeft=$style$$.marginLeft||0,$rackLayout_tableLayout$$.marginRight=$style$$.marginRight||0,$rackLayout_tableLayout$$.marginTop=$style$$.marginTop||0,$rackLayout_tableLayout$$.marginBottom=$style$$.marginBottom||
0,$rackLayout_tableLayout$$.autoAddCol="1"==mxUtils.getValue($style$$,"autoAddCol","0"),$rackLayout_tableLayout$$.autoAddRow="1"==mxUtils.getValue($style$$,"autoAddRow",$rackLayout_tableLayout$$.autoAddCol?"0":"1"),$rackLayout_tableLayout$$.colWidths=$style$$.colWidths||"100",$rackLayout_tableLayout$$.rowHeights=$style$$.rowHeights||"50",$rackLayout_tableLayout$$}return $layoutManagerGetLayout$$.apply(this,arguments)}};var $graphGetSvg$$=Graph.prototype.getSvg;Graph.prototype.getSvg=function $Graph$$getSvg$(){var $temp$$=
null;if(null!=this.themes&&"darkTheme"==this.defaultThemeName){$temp$$=this.stylesheet;this.stylesheet=new mxStylesheet;var $node$jscomp$27_result$$=this.themes["default-style2"];(new mxCodec($node$jscomp$27_result$$.ownerDocument)).decode($node$jscomp$27_result$$,this.getStylesheet());this.refresh()}$node$jscomp$27_result$$=$graphGetSvg$$.apply(this,arguments);null!=$temp$$&&(this.stylesheet=$temp$$,this.refresh());return $node$jscomp$27_result$$};var $graphIsCssTransformsSupported$$=Graph.prototype.isCssTransformsSupported;
Graph.prototype.isCssTransformsSupported=function $Graph$$isCssTransformsSupported$(){return $graphIsCssTransformsSupported$$.apply(this,arguments)&&!mxClient.IS_SF};var $graphGetGlobalVariable$$=Graph.prototype.getGlobalVariable;Graph.prototype.getGlobalVariable=function $Graph$$getGlobalVariable$($name$$){var $val$$=$graphGetGlobalVariable$$.apply(this,arguments);if(null==$val$$){if(null==this.globalUrlVars&&null!=urlParams.vars)try{this.globalUrlVars=JSON.parse(decodeURIComponent(urlParams.vars))}catch($e$$){null!=
window.console&&console.log("Error in vars URL parameter: "+$e$$)}null!=this.globalUrlVars&&($val$$=this.globalUrlVars[$name$$])}return $val$$};var $graphViewValidateBackgroundPage$$=mxGraphView.prototype.validateBackgroundPage;mxGraphView.prototype.validateBackgroundPage=function $mxGraphView$$validateBackgroundPage$(){$graphViewValidateBackgroundPage$$.apply(this,arguments);if(mxClient.IS_GC&&null!=this.getDrawPane()){var $g$$=this.getDrawPane().parentNode;!this.graph.mathEnabled||mxClient.NO_FO||
null!=this.webKitForceRepaintNode&&null!=this.webKitForceRepaintNode.parentNode||"svg"!=this.graph.container.firstChild.nodeName?null==this.webKitForceRepaintNode||this.graph.mathEnabled&&("svg"==this.graph.container.firstChild.nodeName||this.graph.container.firstChild==this.webKitForceRepaintNode)||(null!=this.webKitForceRepaintNode.parentNode&&this.webKitForceRepaintNode.parentNode.removeChild(this.webKitForceRepaintNode),this.webKitForceRepaintNode=null):(this.webKitForceRepaintNode=document.createElement("div"),
this.webKitForceRepaintNode.style.cssText="position:absolute;",$g$$.ownerSVGElement.parentNode.insertBefore(this.webKitForceRepaintNode,$g$$.ownerSVGElement))}};var $graphLoadStylesheet$$=Graph.prototype.loadStylesheet;Graph.prototype.loadStylesheet=function $Graph$$loadStylesheet$(){$graphLoadStylesheet$$.apply(this,arguments);this.currentStyle="default-style2"};Graph.prototype.handleCustomLink=function $Graph$$handleCustomLink$($action$jscomp$4_href$$){if("data:action/json,"==$action$jscomp$4_href$$.substring(0,
17)&&($action$jscomp$4_href$$=JSON.parse($action$jscomp$4_href$$.substring(17)),null!=$action$jscomp$4_href$$.actions)){for(var $i$$=0;$i$$<$action$jscomp$4_href$$.actions.length;$i$$++)if(null!=$action$jscomp$4_href$$.actions[$i$$].open)if(this.isCustomLink($action$jscomp$4_href$$.actions[$i$$].open)){if(!this.customLinkClicked($action$jscomp$4_href$$.actions[$i$$].open))return}else this.openLink($action$jscomp$4_href$$.actions[$i$$].open);this.model.beginUpdate();try{for($i$$=0;$i$$<$action$jscomp$4_href$$.actions.length;$i$$++)this.handleLinkAction($action$jscomp$4_href$$.actions[$i$$])}finally{this.model.endUpdate()}}};
Graph.prototype.handleLinkAction=function $Graph$$handleLinkAction$($action$$){var $cells$$=[];null!=$action$$.select&&this.isEnabled()&&($cells$$=this.getCellsForAction($action$$.select),this.setSelectionCells($cells$$));null!=$action$$.highlight&&($cells$$=this.getCellsForAction($action$$.highlight),this.highlightCells($cells$$,$action$$.highlight.color,$action$$.highlight.duration,$action$$.highlight.opacity));null!=$action$$.toggle&&this.toggleCells(this.getCellsForAction($action$$.toggle,!0));
null!=$action$$.show&&this.setCellsVisible(this.getCellsForAction($action$$.show,!0),!0);null!=$action$$.hide&&this.setCellsVisible(this.getCellsForAction($action$$.hide,!0),!1);null!=$action$$.scroll&&($cells$$=this.getCellsForAction($action$$.scroll));0<$cells$$.length&&this.scrollCellToVisible($cells$$[0])};Graph.prototype.getCellsForAction=function $Graph$$getCellsForAction$($action$$,$includeLayers$$){return this.getCellsById($action$$.cells).concat(this.getCellsForTags($action$$.tags,null,null,
$includeLayers$$))};Graph.prototype.getCellsById=function $Graph$$getCellsById$($ids$$){var $result$$=[];if(null!=$ids$$)for(var $i$$=0;$i$$<$ids$$.length;$i$$++)if("*"==$ids$$[$i$$])var $parent$$=this.getDefaultParent(),$result$$=$result$$.concat(this.model.filterDescendants(function($cell$$){return $cell$$!=$parent$$},$parent$$));else{var $cell$jscomp$0$$=this.model.getCell($ids$$[$i$$]);null!=$cell$jscomp$0$$&&$result$$.push($cell$jscomp$0$$)}return $result$$};Graph.prototype.getCellsForTags=function $Graph$$getCellsForTags$($tagList$$,
$cells$$,$propertyName$$,$includeLayers$$){var $result$$=[];if(null!=$tagList$$){$cells$$=null!=$cells$$?$cells$$:this.model.getDescendants(this.model.getRoot());$propertyName$$=null!=$propertyName$$?$propertyName$$:"tags";for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if($includeLayers$$&&this.model.getParent($cells$$[$i$$])==this.model.root||this.model.isVertex($cells$$[$i$$])||this.model.isEdge($cells$$[$i$$])){var $tags$jscomp$1_tmp$$=null!=$cells$$[$i$$].value&&"object"==typeof $cells$$[$i$$].value?
mxUtils.trim($cells$$[$i$$].value.getAttribute($propertyName$$)||""):"",$match$$=!0;if(0<$tags$jscomp$1_tmp$$.length)for(var $tags$jscomp$1_tmp$$=$tags$jscomp$1_tmp$$.toLowerCase().split(" "),$j$$=0;$j$$<$tagList$$.length&&$match$$;$j$$++)var $tag$$=mxUtils.trim($tagList$$[$j$$]).toLowerCase(),$match$$=$match$$&&(0==$tag$$.length||0<=mxUtils.indexOf($tags$jscomp$1_tmp$$,$tag$$));else $match$$=0==$tagList$$.length;$match$$&&$result$$.push($cells$$[$i$$])}}return $result$$};Graph.prototype.toggleCells=
function $Graph$$toggleCells$($cells$$){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.model.setVisible($cells$$[$i$$],!this.model.isVisible($cells$$[$i$$]))}finally{this.model.endUpdate()}};Graph.prototype.setCellsVisible=function $Graph$$setCellsVisible$($cells$$,$visible$$){this.model.beginUpdate();try{for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.model.setVisible($cells$$[$i$$],$visible$$)}finally{this.model.endUpdate()}};Graph.prototype.highlightCells=function $Graph$$highlightCells$($cells$$,
$color$$,$duration$$,$opacity$$){for(var $i$$=0;$i$$<$cells$$.length;$i$$++)this.highlightCell($cells$$[$i$$],$color$$,$duration$$,$opacity$$)};Graph.prototype.highlightCell=function $Graph$$highlightCell$($cell$jscomp$69_state$$,$color$$,$duration$$,$opacity$$){$color$$=null!=$color$$?$color$$:mxConstants.DEFAULT_VALID_COLOR;$duration$$=null!=$duration$$?$duration$$:1E3;$cell$jscomp$69_state$$=this.view.getState($cell$jscomp$69_state$$);if(null!=$cell$jscomp$69_state$$){var $sw$$=Math.max(5,mxUtils.getValue($cell$jscomp$69_state$$.style,
mxConstants.STYLE_STROKEWIDTH,1)+4),$hl$$=new mxCellHighlight(this,$color$$,$sw$$,!1);null!=$opacity$$&&($hl$$.opacity=$opacity$$);$hl$$.highlight($cell$jscomp$69_state$$);window.setTimeout(function(){null!=$hl$$.shape&&(mxUtils.setPrefixedStyle($hl$$.shape.node.style,"transition","all 1200ms ease-in-out"),$hl$$.shape.node.style.opacity=0);window.setTimeout(function(){$hl$$.destroy()},1200)},$duration$$)}};Graph.prototype.addSvgShadow=function $Graph$$addSvgShadow$($svgRoot$$,$group$jscomp$3_tokens$$,
$createOnly$$){$createOnly$$=null!=$createOnly$$?$createOnly$$:!1;var $defsElt_svgDoc$$=$svgRoot$$.ownerDocument,$filter$$=null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"filter"):$defsElt_svgDoc$$.createElement("filter");$filter$$.setAttribute("id",this.shadowId);var $blur_composite_defs$jscomp$1_feBlend_flood_offset$$=null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feGaussianBlur"):$defsElt_svgDoc$$.createElement("feGaussianBlur");
$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("in","SourceAlpha");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("stdDeviation",this.svgShadowBlur);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("result","blur");$filter$$.appendChild($blur_composite_defs$jscomp$1_feBlend_flood_offset$$);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$=null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feOffset"):
$defsElt_svgDoc$$.createElement("feOffset");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("in","blur");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("dx",this.svgShadowSize);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("dy",this.svgShadowSize);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("result","offsetBlur");$filter$$.appendChild($blur_composite_defs$jscomp$1_feBlend_flood_offset$$);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$=
null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feFlood"):$defsElt_svgDoc$$.createElement("feFlood");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("flood-color",this.svgShadowColor);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("flood-opacity",this.svgShadowOpacity);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("result","offsetColor");$filter$$.appendChild($blur_composite_defs$jscomp$1_feBlend_flood_offset$$);
$blur_composite_defs$jscomp$1_feBlend_flood_offset$$=null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feComposite"):$defsElt_svgDoc$$.createElement("feComposite");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("in","offsetColor");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("in2","offsetBlur");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("operator","in");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("result",
"offsetBlur");$filter$$.appendChild($blur_composite_defs$jscomp$1_feBlend_flood_offset$$);$blur_composite_defs$jscomp$1_feBlend_flood_offset$$=null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"feBlend"):$defsElt_svgDoc$$.createElement("feBlend");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("in","SourceGraphic");$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.setAttribute("in2","offsetBlur");$filter$$.appendChild($blur_composite_defs$jscomp$1_feBlend_flood_offset$$);
$blur_composite_defs$jscomp$1_feBlend_flood_offset$$=$svgRoot$$.getElementsByTagName("defs");0==$blur_composite_defs$jscomp$1_feBlend_flood_offset$$.length?($defsElt_svgDoc$$=null!=$defsElt_svgDoc$$.createElementNS?$defsElt_svgDoc$$.createElementNS(mxConstants.NS_SVG,"defs"):$defsElt_svgDoc$$.createElement("defs"),null!=$svgRoot$$.firstChild?$svgRoot$$.insertBefore($defsElt_svgDoc$$,$svgRoot$$.firstChild):$svgRoot$$.appendChild($defsElt_svgDoc$$)):$defsElt_svgDoc$$=$blur_composite_defs$jscomp$1_feBlend_flood_offset$$[0];
$defsElt_svgDoc$$.appendChild($filter$$);$createOnly$$||($group$jscomp$3_tokens$$=null!=$group$jscomp$3_tokens$$?$group$jscomp$3_tokens$$:$svgRoot$$.getElementsByTagName("g")[0],null!=$group$jscomp$3_tokens$$&&($group$jscomp$3_tokens$$.setAttribute("filter","url(#"+this.shadowId+")"),isNaN(parseInt($svgRoot$$.getAttribute("width")))||($svgRoot$$.setAttribute("width",parseInt($svgRoot$$.getAttribute("width"))+6),$svgRoot$$.setAttribute("height",parseInt($svgRoot$$.getAttribute("height"))+6),$group$jscomp$3_tokens$$=
$svgRoot$$.getAttribute("viewBox"),null!=$group$jscomp$3_tokens$$&&0<$group$jscomp$3_tokens$$.length&&($group$jscomp$3_tokens$$=$group$jscomp$3_tokens$$.split(" "),3<$group$jscomp$3_tokens$$.length&&(w=parseFloat($group$jscomp$3_tokens$$[2])+6,h=parseFloat($group$jscomp$3_tokens$$[3])+6,$svgRoot$$.setAttribute("viewBox",$group$jscomp$3_tokens$$[0]+" "+$group$jscomp$3_tokens$$[1]+" "+w+" "+h))))));return $filter$$};Graph.prototype.setShadowVisible=function $Graph$$setShadowVisible$($value$$,$fireEvent$$){mxClient.IS_SVG&&
($fireEvent$$=null!=$fireEvent$$?$fireEvent$$:!0,(this.shadowVisible=$value$$)?this.view.getDrawPane().setAttribute("filter","url(#"+this.shadowId+")"):this.view.getDrawPane().removeAttribute("filter"),$fireEvent$$&&this.fireEvent(new mxEventObject("shadowVisibleChanged")))};Graph.prototype.selectUnlockedLayer=function $Graph$$selectUnlockedLayer$(){if(null==this.defaultParent){var $childCount$$=this.model.getChildCount(this.model.root),$cell$$,$index$$=0;do $cell$$=this.model.getChildAt(this.model.root,
$index$$);while($index$$++<$childCount$$&&"1"==mxUtils.getValue(this.getCellStyle($cell$$),"locked","0"));null!=$cell$$&&this.setDefaultParent($cell$$)}};mxStencilRegistry.libraries.mockup=[SHAPES_PATH+"/mockup/mxMockupButtons.js"];mxStencilRegistry.libraries.arrows2=[SHAPES_PATH+"/mxArrows.js"];mxStencilRegistry.libraries.atlassian=[STENCIL_PATH+"/atlassian.xml",SHAPES_PATH+"/mxAtlassian.js"];mxStencilRegistry.libraries.bpmn=[SHAPES_PATH+"/bpmn/mxBpmnShape2.js",STENCIL_PATH+"/bpmn.xml"];mxStencilRegistry.libraries.dfd=
[SHAPES_PATH+"/mxDFD.js"];mxStencilRegistry.libraries.er=[SHAPES_PATH+"/er/mxER.js"];mxStencilRegistry.libraries.flowchart=[SHAPES_PATH+"/mxFlowchart.js",STENCIL_PATH+"/flowchart.xml"];mxStencilRegistry.libraries.ios=[SHAPES_PATH+"/mockup/mxMockupiOS.js"];mxStencilRegistry.libraries.rackGeneral=[SHAPES_PATH+"/rack/mxRack.js",STENCIL_PATH+"/rack/general.xml"];mxStencilRegistry.libraries.rackF5=[STENCIL_PATH+"/rack/f5.xml"];mxStencilRegistry.libraries.lean_mapping=[SHAPES_PATH+"/mxLeanMap.js",STENCIL_PATH+
"/lean_mapping.xml"];mxStencilRegistry.libraries.basic=[SHAPES_PATH+"/mxBasic.js",STENCIL_PATH+"/basic.xml"];mxStencilRegistry.libraries.ios7icons=[STENCIL_PATH+"/ios7/icons.xml"];mxStencilRegistry.libraries.ios7ui=[SHAPES_PATH+"/ios7/mxIOS7Ui.js",STENCIL_PATH+"/ios7/misc.xml"];mxStencilRegistry.libraries.android=[SHAPES_PATH+"/mxAndroid.js",STENCIL_PATH+"/android/android.xml"];mxStencilRegistry.libraries["electrical/miscellaneous"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/miscellaneous.xml"];
mxStencilRegistry.libraries["electrical/transmission"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/transmission.xml"];mxStencilRegistry.libraries["electrical/logic_gates"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/logic_gates.xml"];mxStencilRegistry.libraries["electrical/abstract"]=[SHAPES_PATH+"/mxElectrical.js",STENCIL_PATH+"/electrical/abstract.xml"];mxStencilRegistry.libraries.infographic=[SHAPES_PATH+"/mxInfographic.js"];mxStencilRegistry.libraries["mockup/buttons"]=
[SHAPES_PATH+"/mockup/mxMockupButtons.js"];mxStencilRegistry.libraries["mockup/containers"]=[SHAPES_PATH+"/mockup/mxMockupContainers.js"];mxStencilRegistry.libraries["mockup/forms"]=[SHAPES_PATH+"/mockup/mxMockupForms.js"];mxStencilRegistry.libraries["mockup/graphics"]=[SHAPES_PATH+"/mockup/mxMockupGraphics.js",STENCIL_PATH+"/mockup/misc.xml"];mxStencilRegistry.libraries["mockup/markup"]=[SHAPES_PATH+"/mockup/mxMockupMarkup.js"];mxStencilRegistry.libraries["mockup/misc"]=[SHAPES_PATH+"/mockup/mxMockupMisc.js",
STENCIL_PATH+"/mockup/misc.xml"];mxStencilRegistry.libraries["mockup/navigation"]=[SHAPES_PATH+"/mockup/mxMockupNavigation.js",STENCIL_PATH+"/mockup/misc.xml"];mxStencilRegistry.libraries["mockup/text"]=[SHAPES_PATH+"/mockup/mxMockupText.js"];mxStencilRegistry.libraries.floorplan=[SHAPES_PATH+"/mxFloorplan.js",STENCIL_PATH+"/floorplan.xml"];mxStencilRegistry.libraries.bootstrap=[SHAPES_PATH+"/mxBootstrap.js",STENCIL_PATH+"/bootstrap.xml"];mxStencilRegistry.libraries.gmdl=[SHAPES_PATH+"/mxGmdl.js",
STENCIL_PATH+"/gmdl.xml"];mxStencilRegistry.libraries.gcp2=[SHAPES_PATH+"/mxGCP2.js",STENCIL_PATH+"/gcp2.xml"];mxStencilRegistry.libraries.cabinets=[SHAPES_PATH+"/mxCabinets.js",STENCIL_PATH+"/cabinets.xml"];mxStencilRegistry.libraries.archimate=[SHAPES_PATH+"/mxArchiMate.js"];mxStencilRegistry.libraries.archimate3=[SHAPES_PATH+"/mxArchiMate3.js"];mxStencilRegistry.libraries.sysml=[SHAPES_PATH+"/mxSysML.js"];mxStencilRegistry.libraries.eip=[SHAPES_PATH+"/mxEip.js",STENCIL_PATH+"/eip.xml"];mxStencilRegistry.libraries.networks=
[SHAPES_PATH+"/mxNetworks.js",STENCIL_PATH+"/networks.xml"];mxStencilRegistry.libraries.aws3d=[SHAPES_PATH+"/mxAWS3D.js",STENCIL_PATH+"/aws3d.xml"];mxStencilRegistry.libraries.aws4=[SHAPES_PATH+"/mxAWS4.js",STENCIL_PATH+"/aws4.xml"];mxStencilRegistry.libraries.aws4b=[SHAPES_PATH+"/mxAWS4.js",STENCIL_PATH+"/aws4.xml"];mxStencilRegistry.libraries.veeam=[STENCIL_PATH+"/veeam/2d.xml",STENCIL_PATH+"/veeam/3d.xml",STENCIL_PATH+"/veeam/veeam.xml"];mxStencilRegistry.libraries.pid2inst=[SHAPES_PATH+"/pid2/mxPidInstruments.js"];
mxStencilRegistry.libraries.pid2misc=[SHAPES_PATH+"/pid2/mxPidMisc.js",STENCIL_PATH+"/pid/misc.xml"];mxStencilRegistry.libraries.pid2valves=[SHAPES_PATH+"/pid2/mxPidValves.js"];mxStencilRegistry.libraries.pidFlowSensors=[STENCIL_PATH+"/pid/flow_sensors.xml"];mxMarker.getPackageForType=function $mxMarker$getPackageForType$($type$$){var $name$$=null;null!=$type$$&&0<$type$$.length&&("ER"==$type$$.substring(0,2)?$name$$="mxgraph.er":"sysML"==$type$$.substring(0,5)&&($name$$="mxgraph.sysml"));return $name$$};
var $mxMarkerCreateMarker$$=mxMarker.createMarker;mxMarker.createMarker=function $mxMarker$createMarker$($canvas$$,$shape$$,$type$$,$pe$$,$unitX$$,$unitY$$,$size$$,$source$$,$sw$$,$filled$$){if(null!=$type$$&&null==mxMarker.markers[$type$$]){var $name$$=this.getPackageForType($type$$);null!=$name$$&&mxStencilRegistry.getStencil($name$$)}return $mxMarkerCreateMarker$$.apply(this,arguments)};PrintDialog.prototype.create=function $PrintDialog$$create$($editorUi$$,$titleText$$){function $validatePageRange$$(){$pagesToInput$$.value=
Math.max(1,Math.min($pageCount$$,Math.max(parseInt($pagesToInput$$.value),parseInt($pagesFromInput$$.value))));$pagesFromInput$$.value=Math.max(1,Math.min($pageCount$$,Math.min(parseInt($pagesToInput$$.value),parseInt($pagesFromInput$$.value))))}function $preview$$($print$$){function $printGraph$$($file$$,$pv$$,$forcePageBreaks$$){var $gb$jscomp$2_layout$$=$file$$.getGraphBounds(),$x0$$=0,$y0$$=0,$bg$jscomp$6_pf$$=$accessor$$.get(),$h$jscomp$106_scale$$=1/$file$$.pageScale,$autoOrigin$$=$fitRadio$$.checked;
if($autoOrigin$$)var $h$jscomp$106_scale$$=parseInt($sheetsAcrossInput$$.value),$v$$=parseInt($sheetsDownInput$$.value),$h$jscomp$106_scale$$=Math.min($bg$jscomp$6_pf$$.height*$v$$/($gb$jscomp$2_layout$$.height/$file$$.view.scale),$bg$jscomp$6_pf$$.width*$h$jscomp$106_scale$$/($gb$jscomp$2_layout$$.width/$file$$.view.scale));else $h$jscomp$106_scale$$=parseInt($zoomInput$$.value)/(100*$file$$.pageScale),isNaN($h$jscomp$106_scale$$)&&($printScale$$=1/$file$$.pageScale,$zoomInput$$.value="100 %");$bg$jscomp$6_pf$$=
mxRectangle.fromRectangle($bg$jscomp$6_pf$$);$bg$jscomp$6_pf$$.width=Math.ceil($bg$jscomp$6_pf$$.width*$printScale$$);$bg$jscomp$6_pf$$.height=Math.ceil($bg$jscomp$6_pf$$.height*$printScale$$);$h$jscomp$106_scale$$*=$printScale$$;!$autoOrigin$$&&$file$$.pageVisible?($gb$jscomp$2_layout$$=$file$$.getPageLayout(),$x0$$-=$gb$jscomp$2_layout$$.x*$bg$jscomp$6_pf$$.width,$y0$$-=$gb$jscomp$2_layout$$.y*$bg$jscomp$6_pf$$.height):$autoOrigin$$=!0;if(null==$pv$$){$pv$$=PrintDialog.createPrintPreview($file$$,
$h$jscomp$106_scale$$,$bg$jscomp$6_pf$$,0,$x0$$,$y0$$,$autoOrigin$$);$pv$$.pageSelector=!1;$pv$$.mathEnabled=!1;$file$$=$editorUi$$.getCurrentFile();null!=$file$$&&($pv$$.title=$file$$.getTitle());var $writeHead$$=$pv$$.writeHead;$pv$$.writeHead=function $$pv$$$writeHead$($doc$$){$writeHead$$.apply(this,arguments);null!=$editorUi$$.editor.fontCss&&($doc$$.writeln('<style type="text/css">'),$doc$$.writeln($editorUi$$.editor.fontCss),$doc$$.writeln("</style>"))};if("undefined"!==typeof MathJax){var $printPreviewRenderPage$$=
$pv$$.renderPage;$pv$$.renderPage=function $$pv$$$renderPage$($w$$,$h$$,$dx$$,$dy$$,$content$$,$pageNumber$$){var $prev$$=mxClient.NO_FO;mxClient.NO_FO=this.graph.mathEnabled&&!this.useForeignObjectForMath?!0:this.originalNoForeignObject;var $result$$=$printPreviewRenderPage$$.apply(this,arguments);mxClient.NO_FO=$prev$$;this.graph.mathEnabled?this.mathEnabled=this.mathEnabled||!0:$result$$.className="geDisableMathJax";return $result$$}}$pv$$.open(null,null,$forcePageBreaks$$,!0)}else{$bg$jscomp$6_pf$$=
$file$$.background;if(null==$bg$jscomp$6_pf$$||""==$bg$jscomp$6_pf$$||$bg$jscomp$6_pf$$==mxConstants.NONE)$bg$jscomp$6_pf$$="#ffffff";$pv$$.backgroundColor=$bg$jscomp$6_pf$$;$pv$$.autoOrigin=$autoOrigin$$;$pv$$.appendGraph($file$$,$h$jscomp$106_scale$$,$x0$$,$y0$$,$forcePageBreaks$$,!0)}return $pv$$}var $printScale$$=parseInt($pageScaleInput$$.value)/100;isNaN($printScale$$)&&($printScale$$=1,$pageScaleInput$$.value="100 %");var $printScale$$=.75*$printScale$$,$pagesFrom_tempGraph$$=$pagesFromInput$$.value,
$pageVisible_pagesTo$$=$pagesToInput$$.value,$doc$jscomp$0$$=!$allPagesRadio$$.checked,$pv$jscomp$0$$=null;$doc$jscomp$0$$&&($doc$jscomp$0$$=$pagesFrom_tempGraph$$==$currentPage$$&&$pageVisible_pagesTo$$==$currentPage$$);if(!$doc$jscomp$0$$&&null!=$editorUi$$.pages&&$editorUi$$.pages.length){var $i0_mathEnabled$$=0,$doc$jscomp$0$$=$editorUi$$.pages.length-1;$allPagesRadio$$.checked||($i0_mathEnabled$$=parseInt($pagesFrom_tempGraph$$)-1,$doc$jscomp$0$$=parseInt($pageVisible_pagesTo$$)-1);for(var $i$$=
$i0_mathEnabled$$;$i$$<=$doc$jscomp$0$$;$i$$++){var $page$$=$editorUi$$.pages[$i$$],$pagesFrom_tempGraph$$=$page$$==$editorUi$$.currentPage?$graph$$:null;if(null==$pagesFrom_tempGraph$$){var $pagesFrom_tempGraph$$=$editorUi$$.createTemporaryGraph($graph$$.getStylesheet()),$pageVisible_pagesTo$$=!0,$i0_mathEnabled$$=!1,$bg$$=null,$bgImage$$=null;null==$page$$.viewState&&null==$page$$.root&&$editorUi$$.updatePageRoot($page$$);null!=$page$$.viewState&&($pageVisible_pagesTo$$=$page$$.viewState.pageVisible,
$i0_mathEnabled$$=$page$$.viewState.mathEnabled,$bg$$=$page$$.viewState.background,$bgImage$$=$page$$.viewState.backgroundImage);$pagesFrom_tempGraph$$.background=$bg$$;$pagesFrom_tempGraph$$.backgroundImage=null!=$bgImage$$?new mxImage($bgImage$$.src,$bgImage$$.width,$bgImage$$.height):null;$pagesFrom_tempGraph$$.pageVisible=$pageVisible_pagesTo$$;$pagesFrom_tempGraph$$.mathEnabled=$i0_mathEnabled$$;var $graphGetGlobalVariable$$=$pagesFrom_tempGraph$$.getGlobalVariable;$pagesFrom_tempGraph$$.getGlobalVariable=
function $$pagesFrom_tempGraph$$$getGlobalVariable$($name$$){return"page"==$name$$?$page$$.getName():"pagenumber"==$name$$?$i$$+1:$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($pagesFrom_tempGraph$$.container);$editorUi$$.updatePageRoot($page$$);$pagesFrom_tempGraph$$.model.setRoot($page$$.root)}$pv$jscomp$0$$=$printGraph$$($pagesFrom_tempGraph$$,$pv$jscomp$0$$,$i$$!=$doc$jscomp$0$$);$pagesFrom_tempGraph$$!=$graph$$&&$pagesFrom_tempGraph$$.container.parentNode.removeChild($pagesFrom_tempGraph$$.container)}}else $pv$jscomp$0$$=
$printGraph$$($graph$$);null==$pv$jscomp$0$$?$editorUi$$.handleError({message:mxResources.get("errorUpdatingPreview")}):($pv$jscomp$0$$.mathEnabled&&($doc$jscomp$0$$=$pv$jscomp$0$$.wnd.document,$doc$jscomp$0$$.writeln('<script type="text/x-mathjax-config">'),$doc$jscomp$0$$.writeln("MathJax.Hub.Config({"),$doc$jscomp$0$$.writeln("showMathMenu: false,"),$doc$jscomp$0$$.writeln('messageStyle: "none",'),$doc$jscomp$0$$.writeln('jax: ["input/TeX", "input/MathML", "input/AsciiMath", "output/HTML-CSS"],'),
$doc$jscomp$0$$.writeln('extensions: ["tex2jax.js", "mml2jax.js", "asciimath2jax.js"],'),$doc$jscomp$0$$.writeln('"HTML-CSS": {'),$doc$jscomp$0$$.writeln("imageFont: null"),$doc$jscomp$0$$.writeln("},"),$doc$jscomp$0$$.writeln("TeX: {"),$doc$jscomp$0$$.writeln('extensions: ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"]'),$doc$jscomp$0$$.writeln("},"),$doc$jscomp$0$$.writeln("tex2jax: {"),$doc$jscomp$0$$.writeln('\tignoreClass: "geDisableMathJax"'),$doc$jscomp$0$$.writeln("},"),$doc$jscomp$0$$.writeln("asciimath2jax: {"),
$doc$jscomp$0$$.writeln('\tignoreClass: "geDisableMathJax"'),$doc$jscomp$0$$.writeln("}"),$doc$jscomp$0$$.writeln("});"),$print$$&&($doc$jscomp$0$$.writeln("MathJax.Hub.Queue(function () {"),$doc$jscomp$0$$.writeln("window.print();"),$doc$jscomp$0$$.writeln("});")),$doc$jscomp$0$$.writeln("\x3c/script>"),$doc$jscomp$0$$.writeln('<script type="text/javascript" src="'+DRAW_MATH_URL+'/MathJax.js">\x3c/script>')),$pv$jscomp$0$$.closeDocument(),!$pv$jscomp$0$$.mathEnabled&&$print$$&&PrintDialog.printPreview($pv$jscomp$0$$))}
var $graph$$=$editorUi$$.editor.graph,$div$$=document.createElement("div"),$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("h3");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.width="100%";$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.textAlign="center";$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.marginTop="0px";mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,$titleText$$||mxResources.get("print"));
$div$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);var $pageCount$$=1,$currentPage$$=1,$cancelBtn$$=document.createElement("div");$cancelBtn$$.style.cssText="border-bottom:1px solid lightGray;padding-bottom:12px;margin-bottom:12px;";var $allPagesRadio$$=document.createElement("input");$allPagesRadio$$.style.cssText="margin-right:8px;margin-bottom:8px;";$allPagesRadio$$.setAttribute("value","all");$allPagesRadio$$.setAttribute("type","radio");$allPagesRadio$$.setAttribute("name",
"pages-printdialog");$cancelBtn$$.appendChild($allPagesRadio$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("printAllPages"));$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);mxUtils.br($cancelBtn$$);var $pagesRadio$$=$allPagesRadio$$.cloneNode(!0);$allPagesRadio$$.setAttribute("checked","checked");$pagesRadio$$.setAttribute("value","range");
$cancelBtn$$.appendChild($pagesRadio$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("pages")+":");$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);var $pagesFromInput$$=document.createElement("input");$pagesFromInput$$.style.cssText="margin:0 8px 0 8px;";$pagesFromInput$$.setAttribute("value","1");$pagesFromInput$$.setAttribute("type","number");
$pagesFromInput$$.setAttribute("min","1");$pagesFromInput$$.style.width="50px";$cancelBtn$$.appendChild($pagesFromInput$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("to"));$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);var $pagesToInput$$=$pagesFromInput$$.cloneNode(!0);$cancelBtn$$.appendChild($pagesToInput$$);mxEvent.addListener($pagesFromInput$$,
"focus",function(){$pagesRadio$$.checked=!0});mxEvent.addListener($pagesToInput$$,"focus",function(){$pagesRadio$$.checked=!0});mxEvent.addListener($pagesFromInput$$,"change",$validatePageRange$$);mxEvent.addListener($pagesToInput$$,"change",$validatePageRange$$);if(null!=$editorUi$$.pages&&($pageCount$$=$editorUi$$.pages.length,null!=$editorUi$$.currentPage))for($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=0;$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$<$editorUi$$.pages.length;$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$++)if($editorUi$$.currentPage==
$editorUi$$.pages[$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$]){$currentPage$$=$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$+1;$pagesFromInput$$.value=$currentPage$$;$pagesToInput$$.value=$currentPage$$;break}$pagesFromInput$$.setAttribute("max",$pageCount$$);$pagesToInput$$.setAttribute("max",$pageCount$$);1<$pageCount$$&&$div$$.appendChild($cancelBtn$$);var $adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=document.createElement("div");$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.style.marginBottom=
"10px";var $adjustRadio$$=document.createElement("input");$adjustRadio$$.style.marginRight="8px";$adjustRadio$$.setAttribute("value","adjust");$adjustRadio$$.setAttribute("type","radio");$adjustRadio$$.setAttribute("name","printZoom");$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($adjustRadio$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("adjustTo"));
$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);var $zoomInput$$=document.createElement("input");$zoomInput$$.style.cssText="margin:0 8px 0 8px;";$zoomInput$$.setAttribute("value","100 %");$zoomInput$$.style.width="50px";$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($zoomInput$$);mxEvent.addListener($zoomInput$$,"focus",function(){$adjustRadio$$.checked=!0});$div$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$);
var $cancelBtn$$=$cancelBtn$$.cloneNode(!1),$fitRadio$$=$adjustRadio$$.cloneNode(!0);$fitRadio$$.setAttribute("value","fit");$adjustRadio$$.setAttribute("checked","checked");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("div");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.cssText="display:inline-block;height:100%;vertical-align:top;padding-top:2px;";$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.appendChild($fitRadio$$);$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);
$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=document.createElement("table");$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.style.display="inline-block";var $tbody$$=document.createElement("tbody"),$row1$$=document.createElement("tr"),$row2$$=$row1$$.cloneNode(!0),$td1$$=document.createElement("td"),$td2$$=$td1$$.cloneNode(!0),$td3$$=$td1$$.cloneNode(!0),$td4$$=$td1$$.cloneNode(!0),$td5$$=$td1$$.cloneNode(!0),$td6$$=$td1$$.cloneNode(!0);$td1$$.style.textAlign=
"right";$td4$$.style.textAlign="right";mxUtils.write($td1$$,mxResources.get("fitTo"));var $sheetsAcrossInput$$=document.createElement("input");$sheetsAcrossInput$$.style.cssText="margin:0 8px 0 8px;";$sheetsAcrossInput$$.setAttribute("value","1");$sheetsAcrossInput$$.setAttribute("min","1");$sheetsAcrossInput$$.setAttribute("type","number");$sheetsAcrossInput$$.style.width="40px";$td2$$.appendChild($sheetsAcrossInput$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("span");
mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("fitToSheetsAcross"));$td3$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);mxUtils.write($td4$$,mxResources.get("fitToBy"));var $sheetsDownInput$$=$sheetsAcrossInput$$.cloneNode(!0);$td5$$.appendChild($sheetsDownInput$$);mxEvent.addListener($sheetsAcrossInput$$,"focus",function(){$fitRadio$$.checked=!0});mxEvent.addListener($sheetsDownInput$$,"focus",function(){$fitRadio$$.checked=!0});$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=
document.createElement("span");mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("fitToSheetsDown"));$td6$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);$row1$$.appendChild($td1$$);$row1$$.appendChild($td2$$);$row1$$.appendChild($td3$$);$row2$$.appendChild($td4$$);$row2$$.appendChild($td5$$);$row2$$.appendChild($td6$$);$tbody$$.appendChild($row1$$);$tbody$$.appendChild($row2$$);$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.appendChild($tbody$$);
$cancelBtn$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$);$div$$.appendChild($cancelBtn$$);$cancelBtn$$=document.createElement("div");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("div");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.fontWeight="bold";$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.marginBottom="12px";mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("paperSize"));
$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("div");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.marginBottom="12px";var $accessor$$=PageSetupDialog.addPageFormatPanel($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,"printdialog",$editorUi$$.editor.graph.pageFormat||mxConstants.PAGE_FORMAT_A4_PORTRAIT);$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);
$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("span");mxUtils.write($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$,mxResources.get("pageScale"));$cancelBtn$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);var $pageScaleInput$$=document.createElement("input");$pageScaleInput$$.style.cssText="margin:0 8px 0 8px;";$pageScaleInput$$.setAttribute("value","100 %");$pageScaleInput$$.style.width="60px";$cancelBtn$$.appendChild($pageScaleInput$$);
$div$$.appendChild($cancelBtn$$);$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$=document.createElement("div");$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.style.cssText="text-align:right;margin:48px 0 0 0;";$cancelBtn$$=mxUtils.button(mxResources.get("cancel"),function(){$editorUi$$.hideDialog()});$cancelBtn$$.className="geBtn";$editorUi$$.editor.cancelFirst&&$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.appendChild($cancelBtn$$);$editorUi$$.isOffline()||($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=
mxUtils.button(mxResources.get("help"),function(){$graph$$.openLink("https://desk.draw.io/support/solutions/articles/16000048947")}),$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.className="geBtn",$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$));PrintDialog.previewEnabled&&($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=mxUtils.button(mxResources.get("preview"),function(){$editorUi$$.hideDialog();
$preview$$(!1)}),$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.className="geBtn",$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$));$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$=mxUtils.button(mxResources.get(PrintDialog.previewEnabled?"print":"ok"),function(){$editorUi$$.hideDialog();$preview$$(!0)});$adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$.className=
"geBtn gePrimaryBtn";$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.appendChild($adjustSection_helpBtn_previewBtn$jscomp$1_printBtn$jscomp$1_table$$);$editorUi$$.editor.cancelFirst||$buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$.appendChild($cancelBtn$$);$div$$.appendChild($buttons_i$jscomp$98_span$jscomp$3_spanFitRadio_title$$);this.container=$div$$};var $changePageSetupExecute$$=ChangePageSetup.prototype.execute;ChangePageSetup.prototype.execute=function $ChangePageSetup$$execute$(){null==
this.page&&(this.page=this.ui.currentPage);this.page!=this.ui.currentPage?null!=this.page.viewState&&(this.ignoreColor||(this.page.viewState.background=this.color),this.ignoreImage||(this.page.viewState.backgroundImage=this.image),null!=this.format&&(this.page.viewState.pageFormat=this.format),null!=this.mathEnabled&&(this.page.viewState.mathEnabled=this.mathEnabled),null!=this.shadowVisible&&(this.page.viewState.shadowVisible=this.shadowVisible)):($changePageSetupExecute$$.apply(this,arguments),
null!=this.mathEnabled&&this.mathEnabled!=this.ui.isMathEnabled()&&(this.ui.setMathEnabled(this.mathEnabled),this.mathEnabled=!this.mathEnabled),null!=this.shadowVisible&&this.shadowVisible!=this.ui.editor.graph.shadowVisible&&(this.ui.editor.graph.setShadowVisible(this.shadowVisible),this.shadowVisible=!this.shadowVisible))};Editor.prototype.useCanvasForExport=!1;try{var $canvas$jscomp$0$$=document.createElement("canvas"),$img$jscomp$0$$=new Image;$img$jscomp$0$$.onload=function $$img$jscomp$0$$$onload$(){try{$canvas$jscomp$0$$.getContext("2d").drawImage($img$jscomp$0$$,
0,0);var $result$$=$canvas$jscomp$0$$.toDataURL("image/png");Editor.prototype.useCanvasForExport=null!=$result$$&&6<$result$$.length}catch($e$$){}};$img$jscomp$0$$.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1px" height="1px" version="1.1"><foreignObject pointer-events="all" width="1" height="1"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></svg>')))}catch($e$$){}})();
var ErrorDialog=function $ErrorDialog$($editorUi$$,$p2$jscomp$1_retryBtn_title$$,$btns_message$$,$buttonText_mainBtn$$,$fn$$,$retry$$,$buttonText2$$,$fn2$$,$hide$$,$btn3_buttonText3$$,$fn3$$){$hide$$=null!=$hide$$?$hide$$:!0;var $div$$=document.createElement("div");$div$$.style.textAlign="center";if(null!=$p2$jscomp$1_retryBtn_title$$){var $hd$$=document.createElement("div");$hd$$.style.padding="0px";$hd$$.style.margin="0px";$hd$$.style.fontSize="18px";$hd$$.style.paddingBottom="16px";$hd$$.style.marginBottom=
"10px";$hd$$.style.borderBottom="1px solid #c0c0c0";$hd$$.style.color="gray";$hd$$.style.whiteSpace="nowrap";$hd$$.style.textOverflow="ellipsis";$hd$$.style.overflow="hidden";mxUtils.write($hd$$,$p2$jscomp$1_retryBtn_title$$);$hd$$.setAttribute("title",$p2$jscomp$1_retryBtn_title$$);$div$$.appendChild($hd$$)}$p2$jscomp$1_retryBtn_title$$=document.createElement("div");$p2$jscomp$1_retryBtn_title$$.style.lineHeight="1.2em";$p2$jscomp$1_retryBtn_title$$.style.padding="6px";$p2$jscomp$1_retryBtn_title$$.innerHTML=
$btns_message$$;$div$$.appendChild($p2$jscomp$1_retryBtn_title$$);$btns_message$$=document.createElement("div");$btns_message$$.style.marginTop="12px";$btns_message$$.style.textAlign="center";null!=$retry$$&&($p2$jscomp$1_retryBtn_title$$=mxUtils.button(mxResources.get("tryAgain"),function(){$editorUi$$.hideDialog();$retry$$()}),$p2$jscomp$1_retryBtn_title$$.className="geBtn",$btns_message$$.appendChild($p2$jscomp$1_retryBtn_title$$),$btns_message$$.style.textAlign="center");null!=$btn3_buttonText3$$&&
($btn3_buttonText3$$=mxUtils.button($btn3_buttonText3$$,function(){null!=$fn3$$&&$fn3$$()}),$btn3_buttonText3$$.className="geBtn",$btns_message$$.appendChild($btn3_buttonText3$$));var $btn$$=mxUtils.button($buttonText_mainBtn$$,function(){$hide$$&&$editorUi$$.hideDialog();null!=$fn$$&&$fn$$()});$btn$$.className="geBtn";$btns_message$$.appendChild($btn$$);null!=$buttonText2$$&&($buttonText_mainBtn$$=mxUtils.button($buttonText2$$,function(){$hide$$&&$editorUi$$.hideDialog();null!=$fn2$$&&$fn2$$()}),
$buttonText_mainBtn$$.className="geBtn gePrimaryBtn",$btns_message$$.appendChild($buttonText_mainBtn$$));this.init=function $this$init$(){$btn$$.focus()};$div$$.appendChild($btns_message$$);this.container=$div$$};
(function(){var $codec$$=new mxObjectCodec(new ChangePageSetup,["ui","previousColor","previousImage","previousFormat"]);$codec$$.beforeDecode=function $$codec$$$beforeDecode$($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};$codec$$.afterDecode=function $$codec$$$afterDecode$($dec$$,$node$$,$obj$$){$obj$$.previousColor=$obj$$.color;$obj$$.previousImage=$obj$$.image;$obj$$.previousFormat=$obj$$.format;null!=$obj$$.foldingEnabled&&($obj$$.foldingEnabled=!$obj$$.foldingEnabled);null!=$obj$$.mathEnabled&&
($obj$$.mathEnabled=!$obj$$.mathEnabled);null!=$obj$$.shadowVisible&&($obj$$.shadowVisible=!$obj$$.shadowVisible);return $obj$$};mxCodecRegistry.register($codec$$)})();(function(){EditorUi.VERSION="@DRAWIO-VERSION@";EditorUi.compactUi="atlas"!=uiTheme;EditorUi.enableLogging="1"!=urlParams.stealth&&/.*\.draw\.io$/.test(window.location.hostname)&&"support.draw.io"!=window.location.hostname;EditorUi.drawHost="https://www.draw.io";EditorUi.lastErrorMessage=null;EditorUi.ignoredAnonymizedChars="\n\t`~!@#$%^&*()_+{}|:\"<>?-=[];'./,\n\t";EditorUi.logError=function $EditorUi$logError$($message$$,$url$$,$linenumber$$,$colno$$,$err$$){if("1"==urlParams.dev)EditorUi.debug("logError",
$message$$,$url$$,$linenumber$$,$colno$$,$err$$);else if(EditorUi.enableLogging)try{if($message$$!=EditorUi.lastErrorMessage&&(null==$message$$||null==$url$$||-1==$message$$.indexOf("Script error")&&-1==$message$$.indexOf("extension"))&&null!=$message$$&&0>$message$$.indexOf("DocumentClosedError")){EditorUi.lastErrorMessage=$message$$;var $severity$$=0<=$message$$.indexOf("NetworkError")||0<=$message$$.indexOf("SecurityError")||0<=$message$$.indexOf("NS_ERROR_FAILURE")||0<=$message$$.indexOf("out of memory")?
"CONFIG":"SEVERE",$logDomain$$=null!=window.DRAWIO_LOG_URL?window.DRAWIO_LOG_URL:"";$err$$=null!=$err$$?$err$$:Error($message$$);(new Image).src=$logDomain$$+"/log?severity="+$severity$$+"&v="+encodeURIComponent(EditorUi.VERSION)+"&msg=clientError:"+encodeURIComponent($message$$)+":url:"+encodeURIComponent(window.location.href)+":lnum:"+encodeURIComponent($linenumber$$)+(null!=$colno$$?":colno:"+encodeURIComponent($colno$$):"")+(null!=$err$$&&null!=$err$$.stack?"&stack="+encodeURIComponent($err$$.stack):
"")}}catch($err$5$$){}};EditorUi.logEvent=function $EditorUi$logEvent$($data$$){if("1"==urlParams.dev)EditorUi.debug("logEvent",$data$$);else if(EditorUi.enableLogging)try{var $logDomain$$=null!=window.DRAWIO_LOG_URL?window.DRAWIO_LOG_URL:"";(new Image).src=$logDomain$$+"/images/1x1.png?v="+encodeURIComponent(EditorUi.VERSION)+(null!=$data$$?"&data="+encodeURIComponent(JSON.stringify($data$$)):"")}catch($e$$){}};EditorUi.sendReport=function $EditorUi$sendReport$($data$$,$maxLength$$){if("1"==urlParams.dev)EditorUi.debug("sendReport",
$data$$);else if(EditorUi.enableLogging)try{$maxLength$$=null!=$maxLength$$?$maxLength$$:5E4,$data$$.length>$maxLength$$&&($data$$=$data$$.substring(0,$maxLength$$)+"\n...[SHORTENED]"),mxUtils.post("/email","version="+encodeURIComponent(EditorUi.VERSION)+"&url="+encodeURIComponent(window.location.href)+"&data="+encodeURIComponent($data$$))}catch($e$$){}};EditorUi.debug=function $EditorUi$debug$(){try{if(null!=window.console&&"1"==urlParams.dev){for(var $args$$=[(new Date).toISOString()],$i$$=0;$i$$<
arguments.length;$i$$++)$args$$.push(arguments[$i$$]);console.log.apply(console,$args$$)}}catch($e$$){}};EditorUi.templateFile=TEMPLATE_PATH+"/index.xml";EditorUi.cacheUrl="1"==urlParams.dev?"/cache":"";EditorUi.enablePlantUml=EditorUi.enableLogging;EditorUi.isElectronApp=null!=window&&null!=window.process&&null!=window.process.versions&&null!=window.process.versions.electron;EditorUi.scratchpadHelpLink="../../../../Documents/htmlhelp/home__view_menu.htm?ms=AAAA&st=MA%3D%3D&sct=MTUwMA%3D%3D&mw=MjQy#ScratchPad";
EditorUi.prototype.emptyDiagramXml='<mxGraphModel><root><mxCell id="0"/><mxCell id="1" parent="0"/></root></mxGraphModel>';EditorUi.prototype.emptyGraphModelXml='<mxGraphModel><root><mxCell id="0"/></root></mxGraphModel>';EditorUi.prototype.emptyLibraryXml="<mxlibrary>[]</mxlibrary>";EditorUi.prototype.mode=null;EditorUi.prototype.timeout=25E3;EditorUi.prototype.sidebarFooterHeight=38;EditorUi.prototype.defaultCustomShapeStyle="shape=stencil(tZRtTsQgEEBPw1+DJR7AoN6DbWftpAgE0Ortd/jYRGq72R+YNE2YgTePloEJGWblgA18ZuKFDcMj5/Sm8boZq+BgjCX4pTyqk6ZlKROitwusOMXKQDODx5iy4pXxZ5qTHiFHawxB0JrQZH7lCabQ0Fr+XWC1/E8zcsT/gAi+Subo2/3Mh6d/oJb5nU1b5tW7r2knautaa3T+U32o7f7vZwpJkaNDLORJjcu7t59m2jXxqX9un+tt022acsfmoKaQZ+vhhswZtS6Ne/ThQGt0IV0N3Yyv6P3CeT9/tHO0XFI5cAE=);whiteSpace=wrap;html=1;";
EditorUi.prototype.svgBrokenImage=Graph.createSvgImage(10,10,'<rect x="0" y="0" width="10" height="10" stroke="#000" fill="transparent"/><path d="m 0 0 L 10 10 L 0 10 L 10 0" stroke="#000" fill="transparent"/>');EditorUi.prototype.crossOriginImages=!mxClient.IS_IE;EditorUi.prototype.maxBackgroundSize=1600;EditorUi.prototype.maxImageSize=520;EditorUi.prototype.resampleThreshold=1E5;EditorUi.prototype.maxImageBytes=1E6;EditorUi.prototype.maxBackgroundBytes=25E5;EditorUi.prototype.maxTextBytes=5E5;EditorUi.prototype.currentFile=
null;EditorUi.prototype.printPdfExport=!1;EditorUi.prototype.pdfPageExport=!0;EditorUi.prototype.formatEnabled="0"!=urlParams.format;EditorUi.prototype.insertTemplateEnabled=!0;EditorUi.prototype.closableScratchpad=!0;(function(){EditorUi.prototype.useCanvasForExport=!1;EditorUi.prototype.jpgSupported=!1;try{var $cnv$$=document.createElement("canvas");EditorUi.prototype.canvasSupported=!(!$cnv$$.getContext||!$cnv$$.getContext("2d"))}catch($e$$){}try{var $canvas$$=document.createElement("canvas"),
$img$$=new Image;$img$$.onload=function $$img$$$onload$(){try{$canvas$$.getContext("2d").drawImage($img$$,0,0);var $result$$=$canvas$$.toDataURL("image/png");EditorUi.prototype.useCanvasForExport=null!=$result$$&&6<$result$$.length}catch($e$6$$){}};$img$$.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1px" height="1px" version="1.1"><foreignObject pointer-events="all" width="1" height="1"><div xmlns="http://www.w3.org/1999/xhtml"></div></foreignObject></svg>')))}catch($e$7$$){}try{$canvas$$=
document.createElement("canvas");$canvas$$.width=$canvas$$.height=1;var $uri$$=$canvas$$.toDataURL("image/jpeg");EditorUi.prototype.jpgSupported=null!==$uri$$.match("image/jpeg")}catch($e$8$$){}})();EditorUi.prototype.openLink=function $EditorUi$$openLink$($url$$,$target$$,$allowOpener$$){return this.editor.graph.openLink($url$$,$target$$,$allowOpener$$)};EditorUi.prototype.showSplash=function $EditorUi$$showSplash$($force$$){console.log("EditorUi.prototype.showSplash method does not get called. Change my mind.")};
EditorUi.prototype.getLocalData=function $EditorUi$$getLocalData$($key$$,$fn$$){$fn$$(localStorage.getItem($key$$))};EditorUi.prototype.setLocalData=function $EditorUi$$setLocalData$($key$$,$data$$,$fn$$){localStorage.setItem($key$$,$data$$);null!=$fn$$&&$fn$$()};EditorUi.prototype.removeLocalData=function $EditorUi$$removeLocalData$($key$$,$fn$$){localStorage.removeItem($key$$);$fn$$()};EditorUi.prototype.setMathEnabled=function $EditorUi$$setMathEnabled$($value$$){this.editor.graph.mathEnabled=
$value$$;this.editor.updateGraphComponents();this.editor.graph.refresh();this.fireEvent(new mxEventObject("mathEnabledChanged"))};EditorUi.prototype.isMathEnabled=function $EditorUi$$isMathEnabled$($value$$){return this.editor.graph.mathEnabled};EditorUi.prototype.isAppCache=function $EditorUi$$isAppCache$(){return"1"==urlParams.appcache||this.isOfflineApp()};EditorUi.prototype.isOfflineApp=function $EditorUi$$isOfflineApp$(){return"1"==urlParams.offline};EditorUi.prototype.isOffline=function $EditorUi$$isOffline$($ignoreStealth$$){return this.isOfflineApp()||
!navigator.onLine||!$ignoreStealth$$&&"1"==urlParams.stealth};EditorUi.prototype.createSpinner=function $EditorUi$$createSpinner$($x$$,$y$$,$size$$){$size$$=null!=$size$$?$size$$:24;var $spinner$$=new Spinner({lines:12,length:$size$$,width:Math.round($size$$/3),radius:Math.round($size$$/2),rotate:0,color:"dark"==uiTheme?"#c0c0c0":"#000",speed:1.5,trail:60,shadow:!1,hwaccel:!1,zIndex:2E9}),$oldSpin$$=$spinner$$.spin;$spinner$$.spin=function $$spinner$$$spin$($container$$,$label$$){var $result$jscomp$37_status$$=
!1;this.active||($oldSpin$$.call(this,$container$$),this.active=!0,null!=$label$$&&($result$jscomp$37_status$$=document.createElement("div"),$result$jscomp$37_status$$.style.position="absolute",$result$jscomp$37_status$$.style.whiteSpace="nowrap",$result$jscomp$37_status$$.style.background="#4B4243",$result$jscomp$37_status$$.style.color="white",$result$jscomp$37_status$$.style.fontFamily="Helvetica, Arial",$result$jscomp$37_status$$.style.fontSize="9pt",$result$jscomp$37_status$$.style.padding="6px",
$result$jscomp$37_status$$.style.paddingLeft="10px",$result$jscomp$37_status$$.style.paddingRight="10px",$result$jscomp$37_status$$.style.zIndex=2E9,$result$jscomp$37_status$$.style.left=Math.max(0,$x$$)+"px",$result$jscomp$37_status$$.style.top=Math.max(0,$y$$+70)+"px",mxUtils.setPrefixedStyle($result$jscomp$37_status$$.style,"borderRadius","6px"),mxUtils.setPrefixedStyle($result$jscomp$37_status$$.style,"transform","translate(-50%,-50%)"),"dark"!=uiTheme&&mxUtils.setPrefixedStyle($result$jscomp$37_status$$.style,
"boxShadow","2px 2px 3px 0px #ddd"),"..."!=$label$$.substring($label$$.length-3,$label$$.length)&&"!"!=$label$$.charAt($label$$.length-1)&&($label$$+="..."),$result$jscomp$37_status$$.innerHTML=$label$$,$container$$.appendChild($result$jscomp$37_status$$),$spinner$$.status=$result$jscomp$37_status$$,mxClient.IS_VML&&(null==document.documentMode||8>=document.documentMode)&&($result$jscomp$37_status$$.style.left=Math.round(Math.max(0,$x$$-$result$jscomp$37_status$$.offsetWidth/2))+"px",$result$jscomp$37_status$$.style.top=
Math.round(Math.max(0,$y$$+70-$result$jscomp$37_status$$.offsetHeight/2))+"px")),this.pause=mxUtils.bind(this,function(){var $fn$$=function $$fn$$$(){};this.active&&($fn$$=mxUtils.bind(this,function(){this.spin($container$$,$label$$)}));this.stop();return $fn$$}),$result$jscomp$37_status$$=!0);return $result$jscomp$37_status$$};var $oldStop$$=$spinner$$.stop;$spinner$$.stop=function $$spinner$$$stop$(){$oldStop$$.call(this);this.active=!1;null!=$spinner$$.status&&($spinner$$.status.parentNode.removeChild($spinner$$.status),
$spinner$$.status=null)};$spinner$$.pause=function $$spinner$$$pause$(){return function(){}};return $spinner$$};EditorUi.parsePng=function $EditorUi$parsePng$($f$$,$fn$$,$error$jscomp$38_n$$){function $fread$$($d$$,$count$$){var $start$$=$pos$$;$pos$$+=$count$$;return $d$$.substring($start$$,$pos$$)}function $_freadint$$($bytes$jscomp$1_d$$){$bytes$jscomp$1_d$$=$fread$$($bytes$jscomp$1_d$$,4);return $bytes$jscomp$1_d$$.charCodeAt(3)+($bytes$jscomp$1_d$$.charCodeAt(2)<<8)+($bytes$jscomp$1_d$$.charCodeAt(1)<<
16)+($bytes$jscomp$1_d$$.charCodeAt(0)<<24)}var $pos$$=0;if($fread$$($f$$,8)!=String.fromCharCode(137)+"PNG"+String.fromCharCode(13,10,26,10))null!=$error$jscomp$38_n$$&&$error$jscomp$38_n$$();else if($fread$$($f$$,4),"IHDR"!=$fread$$($f$$,4))null!=$error$jscomp$38_n$$&&$error$jscomp$38_n$$();else{$fread$$($f$$,17);do{$error$jscomp$38_n$$=$_freadint$$($f$$);var $type$$=$fread$$($f$$,4);if(null!=$fn$$&&$fn$$($pos$$-8,$type$$,$error$jscomp$38_n$$))break;value=$fread$$($f$$,$error$jscomp$38_n$$);$fread$$($f$$,
4);if("IEND"==$type$$)break}while($error$jscomp$38_n$$)}};EditorUi.prototype.isCompatibleString=function $EditorUi$$isCompatibleString$($data$$){try{var $doc$$=mxUtils.parseXml($data$$),$node$$=this.editor.extractGraphModel($doc$$.documentElement,!0);return null!=$node$$&&0==$node$$.getElementsByTagName("parsererror").length}catch($e$$){}return!1};EditorUi.prototype.isVisioData=function $EditorUi$$isVisioData$($data$$){return 8<$data$$.length&&208==$data$$.charCodeAt(0)&&207==$data$$.charCodeAt(1)&&
17==$data$$.charCodeAt(2)&&224==$data$$.charCodeAt(3)&&161==$data$$.charCodeAt(4)&&177==$data$$.charCodeAt(5)&&26==$data$$.charCodeAt(6)&&225==$data$$.charCodeAt(7)||80==$data$$.charCodeAt(0)&&75==$data$$.charCodeAt(1)&&3==$data$$.charCodeAt(2)&&4==$data$$.charCodeAt(3)||80==$data$$.charCodeAt(0)&&75==$data$$.charCodeAt(1)&&3==$data$$.charCodeAt(2)&&6==$data$$.charCodeAt(3)};EditorUi.prototype.isPngData=function $EditorUi$$isPngData$($data$$){return 8<$data$$.length&&137==$data$$.charCodeAt(0)&&80==
$data$$.charCodeAt(1)&&78==$data$$.charCodeAt(2)&&71==$data$$.charCodeAt(3)&&13==$data$$.charCodeAt(4)&&10==$data$$.charCodeAt(5)&&26==$data$$.charCodeAt(6)&&10==$data$$.charCodeAt(7)};var $editorUiExtractGraphModelFromHtml$$=EditorUi.prototype.extractGraphModelFromHtml;EditorUi.prototype.extractGraphModelFromHtml=function $EditorUi$$extractGraphModelFromHtml$($data$$){var $result$$=$editorUiExtractGraphModelFromHtml$$.apply(this,arguments);if(null==$result$$)try{var $idx$$=$data$$.indexOf("&lt;mxfile ");
if(0<=$idx$$){var $idx2$$=$data$$.lastIndexOf("&lt;/mxfile&gt;");$idx2$$>$idx$$&&($result$$=$data$$.substring($idx$$,$idx2$$+15).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\\&quot;/g,'"').replace(/\n/g,""))}else var $doc$$=mxUtils.parseXml($data$$),$node$$=this.editor.extractGraphModel($doc$$.documentElement,null!=this.pages||"hidden"==this.diagramContainer.style.visibility),$result$$=null!=$node$$?mxUtils.getXml($node$$):""}catch($e$$){}return $result$$};EditorUi.prototype.validateFileData=
function $EditorUi$$validateFileData$($data$$){if(null!=$data$$&&0<$data$$.length){var $index$$=$data$$.indexOf('<meta charset="utf-8">');0<=$index$$&&($data$$=$data$$.slice(0,$index$$)+'<meta charset="utf-8"/>'+$data$$.slice($index$$+23-1,$data$$.length));$data$$=Graph.zapGremlins($data$$)}return $data$$};EditorUi.prototype.replaceFileData=function $EditorUi$$replaceFileData$($data$jscomp$65_node$$){$data$jscomp$65_node$$=this.validateFileData($data$jscomp$65_node$$);$data$jscomp$65_node$$=null!=
$data$jscomp$65_node$$&&0<$data$jscomp$65_node$$.length?mxUtils.parseXml($data$jscomp$65_node$$).documentElement:null;var $graph$jscomp$46_tmp$$=null!=$data$jscomp$65_node$$?this.editor.extractGraphModel($data$jscomp$65_node$$,!0):null;null!=$graph$jscomp$46_tmp$$&&($data$jscomp$65_node$$=$graph$jscomp$46_tmp$$);if(null!=$data$jscomp$65_node$$){$graph$jscomp$46_tmp$$=this.editor.graph;$graph$jscomp$46_tmp$$.model.beginUpdate();try{var $oldPages$$=null!=this.pages?this.pages.slice():null,$nodes$$=
$data$jscomp$65_node$$.getElementsByTagName("diagram");if("0"!=urlParams.pages||1<$nodes$$.length||1==$nodes$$.length&&$nodes$$[0].hasAttribute("name")){this.fileNode=$data$jscomp$65_node$$;this.pages=null!=this.pages?this.pages:[];for(var $i$$=$nodes$$.length-1;0<=$i$$;$i$$--){var $page$$=this.updatePageRoot(new DiagramPage($nodes$$[$i$$]));null==$page$$.getName()&&$page$$.setName(mxResources.get("pageWithNumber",[$i$$+1]));$graph$jscomp$46_tmp$$.model.execute(new ChangePage(this,$page$$,0==$i$$?
$page$$:null,0))}}else"0"!=urlParams.pages&&null==this.fileNode&&(this.fileNode=$data$jscomp$65_node$$.ownerDocument.createElement("mxfile"),this.currentPage=new DiagramPage($data$jscomp$65_node$$.ownerDocument.createElement("diagram")),this.currentPage.setName(mxResources.get("pageWithNumber",[1])),$graph$jscomp$46_tmp$$.model.execute(new ChangePage(this,this.currentPage,this.currentPage,0))),this.editor.setGraphXml($data$jscomp$65_node$$),null!=this.currentPage&&(this.currentPage.root=this.editor.graph.model.root);
if(null!=$oldPages$$)for($i$$=0;$i$$<$oldPages$$.length;$i$$++)$graph$jscomp$46_tmp$$.model.execute(new ChangePage(this,$oldPages$$[$i$$],null))}finally{$graph$jscomp$46_tmp$$.model.endUpdate()}}};EditorUi.prototype.createFileData=function $EditorUi$$createFileData$($md_node$jscomp$33_xml$$,$graph$$,$file$$,$url$$,$forceXml$$,$forceSvg$$,$forceHtml$$,$embeddedCallback$$,$ignoreSelection$$,$compact$$){if(!$md_node$jscomp$33_xml$$)return"";$graph$$=$graph$$||this.editor.graph;$forceXml$$=$forceXml$$||
!1;$ignoreSelection$$=$ignoreSelection$$?$ignoreSelection$$:!0;var $filemode$$=$file$$&&$file$$.getMode(),$editLink$$,$redirect$$;$file$$&&$filemode$$!==App.MODE_DEVICE&&$filemode$$!==App.MODE_BROWSER?$redirect$$=$editLink$$=$url$$:$editLink$$="_blank";var $data$$=$md_node$jscomp$33_xml$$;if("mxfile"!==$data$$.nodeName.toLowerCase()){var $diagramNode$jscomp$1_text$$=Graph.zapGremlins(mxUtils.getXml($md_node$jscomp$33_xml$$)),$data$$=Graph.compress($diagramNode$jscomp$1_text$$);if(Graph.decompress($data$$)!==
$diagramNode$jscomp$1_text$$)return $diagramNode$jscomp$1_text$$;$diagramNode$jscomp$1_text$$=$md_node$jscomp$33_xml$$.ownerDocument.createElement("diagram");$diagramNode$jscomp$1_text$$.setAttribute("id",Editor.guid());mxUtils.setTextContent($diagramNode$jscomp$1_text$$,$data$$);$data$$=$md_node$jscomp$33_xml$$.ownerDocument.createElement("mxfile");$data$$.appendChild($diagramNode$jscomp$1_text$$)}$data$$=$compact$$?$data$$.cloneNode(!0):$data$$;$data$$.removeAttribute("userAgent");$data$$.removeAttribute("version");
$data$$.removeAttribute("editor");$data$$.removeAttribute("type");$compact$$||($data$$.setAttribute("modified",(new Date).toISOString()),$data$$.setAttribute("host",window.location.hostname),$data$$.setAttribute("agent",navigator.userAgent),$data$$.setAttribute("version",EditorUi.VERSION),$data$$.setAttribute("etag",Editor.guid()),($md_node$jscomp$33_xml$$=$filemode$$||this.mode)&&$data$$.setAttribute("type",$md_node$jscomp$33_xml$$));$md_node$jscomp$33_xml$$=mxUtils.getXml($data$$);$file$$=$file$$&&
$file$$.getTitle();if(!$forceSvg$$&&!$forceXml$$&&($forceHtml$$||/(\.html)$/i.test($file$$)))$md_node$jscomp$33_xml$$=this.getHtml2(mxUtils.getXml($data$$),$graph$$,$file$$,$editLink$$,$redirect$$);else if($forceSvg$$||!$forceXml$$&&/(\.svg)$/i.test($file$$)){if($filemode$$===App.MODE_DEVICE||$filemode$$===App.MODE_BROWSER)$url$$=void 0;$md_node$jscomp$33_xml$$=this.getEmbeddedSvg($md_node$jscomp$33_xml$$,$graph$$,$url$$,null,$embeddedCallback$$,$ignoreSelection$$,$redirect$$)}return $md_node$jscomp$33_xml$$};
EditorUi.prototype.getXmlFileData=function $EditorUi$$getXmlFileData$($ignoreSelection$$,$currentPage$$){$ignoreSelection$$=null!=$ignoreSelection$$&&$ignoreSelection$$||!0;$currentPage$$=null!=$currentPage$$&&$currentPage$$||!1;var $data$jscomp$67_node$$=this.editor.getGraphXml($ignoreSelection$$);if($ignoreSelection$$&&this.fileNode&&this.currentPage)if($data$jscomp$67_node$$=Graph.compressNode($data$jscomp$67_node$$),mxUtils.setTextContent(this.currentPage.node,$data$jscomp$67_node$$),$data$jscomp$67_node$$=
this.fileNode.cloneNode(!1),$currentPage$$)$data$jscomp$67_node$$.appendChild(this.currentPage.node);else for(var $$jscomp$iter$1$$=$jscomp.makeIterator(this.pages||[]),$$jscomp$key$page_page$$=$$jscomp$iter$1$$.next();!$$jscomp$key$page_page$$.done;$$jscomp$key$page_page$$=$$jscomp$iter$1$$.next()){$$jscomp$key$page_page$$=$$jscomp$key$page_page$$.value;if(this.currentPage!==$$jscomp$key$page_page$$&&$$jscomp$key$page_page$$.needsUpdate){var $temp$$=(new mxCodec(mxUtils.createXmlDocument())).encode(new mxGraphModel($$jscomp$key$page_page$$.root));
this.editor.graph.saveViewState($$jscomp$key$page_page$$.viewState,$temp$$);mxUtils.setTextContent($$jscomp$key$page_page$$.node,Graph.compressNode($temp$$));delete $$jscomp$key$page_page$$.needsUpdate}$data$jscomp$67_node$$.appendChild($$jscomp$key$page_page$$.node)}return $data$jscomp$67_node$$};EditorUi.prototype.anonymizeString=function $EditorUi$$anonymizeString$($text$$,$zeros$$){for(var $result$$=[],$i$$=0;$i$$<$text$$.length;$i$$++){var $c$$=$text$$.charAt($i$$);0<=EditorUi.ignoredAnonymizedChars.indexOf($c$$)?
$result$$.push($c$$):isNaN(parseInt($c$$))?$c$$.toLowerCase()!=$c$$?$result$$.push(String.fromCharCode(65+Math.round(25*Math.random()))):$c$$.toUpperCase()!=$c$$?$result$$.push(String.fromCharCode(97+Math.round(25*Math.random()))):/\s/.test($c$$)?$result$$.push(" "):$result$$.push("?"):$result$$.push($zeros$$?"0":Math.round(9*Math.random()))}return $result$$.join("")};EditorUi.prototype.anonymizePatch=function $EditorUi$$anonymizePatch$($patch$$){if(null!=$patch$$[EditorUi.DIFF_INSERT])for(var $anonymizeCellDiffs_i$$=
0;$anonymizeCellDiffs_i$$<$patch$$[EditorUi.DIFF_INSERT].length;$anonymizeCellDiffs_i$$++)try{var $clone$$=mxUtils.parseXml($patch$$[EditorUi.DIFF_INSERT][$anonymizeCellDiffs_i$$].data).documentElement.cloneNode(!1);null!=$clone$$.getAttribute("name")&&$clone$$.setAttribute("name",this.anonymizeString($clone$$.getAttribute("name")));$patch$$[EditorUi.DIFF_INSERT][$anonymizeCellDiffs_i$$].data=mxUtils.getXml($clone$$)}catch($e$$){$patch$$[EditorUi.DIFF_INSERT][$anonymizeCellDiffs_i$$].data=$e$$.message}if(null!=
$patch$$[EditorUi.DIFF_UPDATE]){for(var $pageId$$ in $patch$$[EditorUi.DIFF_UPDATE]){var $diff$$=$patch$$[EditorUi.DIFF_UPDATE][$pageId$$];null!=$diff$$.name&&($diff$$.name=this.anonymizeString($diff$$.name));null!=$diff$$.cells&&($anonymizeCellDiffs_i$$=mxUtils.bind(this,function($key$$){var $cellDiffs$$=$diff$$.cells[$key$$];if(null!=$cellDiffs$$){for(var $cellId$$ in $cellDiffs$$)null!=$cellDiffs$$[$cellId$$].value&&($cellDiffs$$[$cellId$$].value="["+$cellDiffs$$[$cellId$$].value.length+"]"),null!=
$cellDiffs$$[$cellId$$].xmlValue&&($cellDiffs$$[$cellId$$].xmlValue="["+$cellDiffs$$[$cellId$$].xmlValue.length+"]"),null!=$cellDiffs$$[$cellId$$].style&&($cellDiffs$$[$cellId$$].style="["+$cellDiffs$$[$cellId$$].style.length+"]"),0==Object.keys($cellDiffs$$[$cellId$$]).length&&delete $cellDiffs$$[$cellId$$];0==Object.keys($cellDiffs$$).length&&delete $diff$$.cells[$key$$]}}),$anonymizeCellDiffs_i$$(EditorUi.DIFF_INSERT),$anonymizeCellDiffs_i$$(EditorUi.DIFF_UPDATE),0==Object.keys($diff$$.cells).length&&
delete $diff$$.cells);0==Object.keys($diff$$).length&&delete $patch$$[EditorUi.DIFF_UPDATE][$pageId$$]}0==Object.keys($patch$$[EditorUi.DIFF_UPDATE]).length&&delete $patch$$[EditorUi.DIFF_UPDATE]}return $patch$$};EditorUi.prototype.anonymizeAttributes=function $EditorUi$$anonymizeAttributes$($node$$,$zeros$$){if(null!=$node$$.attributes)for(var $i$$=0;$i$$<$node$$.attributes.length;$i$$++)"as"!=$node$$.attributes[$i$$].name&&$node$$.setAttribute($node$$.attributes[$i$$].name,this.anonymizeString($node$$.attributes[$i$$].value,
$zeros$$));if(null!=$node$$.childNodes)for($i$$=0;$i$$<$node$$.childNodes.length;$i$$++)this.anonymizeAttributes($node$$.childNodes[$i$$],$zeros$$)};EditorUi.prototype.anonymizeNode=function $EditorUi$$anonymizeNode$($node$$,$zeros$$){for(var $nodes$$=$node$$.getElementsByTagName("mxCell"),$i$$=0;$i$$<$nodes$$.length;$i$$++)null!=$nodes$$[$i$$].getAttribute("value")&&$nodes$$[$i$$].setAttribute("value","["+$nodes$$[$i$$].getAttribute("value").length+"]"),null!=$nodes$$[$i$$].getAttribute("xmlValue")&&
$nodes$$[$i$$].setAttribute("xmlValue","["+$nodes$$[$i$$].getAttribute("xmlValue").length+"]"),null!=$nodes$$[$i$$].getAttribute("style")&&$nodes$$[$i$$].setAttribute("style","["+$nodes$$[$i$$].getAttribute("style").length+"]"),null!=$nodes$$[$i$$].parentNode&&"root"!=$nodes$$[$i$$].parentNode.nodeName&&null!=$nodes$$[$i$$].parentNode.parentNode&&($nodes$$[$i$$].setAttribute("id",$nodes$$[$i$$].parentNode.getAttribute("id")),$nodes$$[$i$$].parentNode.parentNode.replaceChild($nodes$$[$i$$],$nodes$$[$i$$].parentNode));
return $node$$};EditorUi.prototype.synchronizeCurrentFile=function $EditorUi$$synchronizeCurrentFile$($forceReload$$){var $currentFile$$=this.getCurrentFile();null!=$currentFile$$&&($currentFile$$.savingFile?this.handleError({message:mxResources.get("busy")}):!$forceReload$$&&$currentFile$$.invalidChecksum?$currentFile$$.handleFileError(null,!0):this.spinner.spin(document.body,mxResources.get("updatingDocument"))&&($currentFile$$.clearAutosave(),this.editor.setStatus(""),$forceReload$$?$currentFile$$.reloadFile(mxUtils.bind(this,
function(){$currentFile$$.handleFileSuccess("manual"==DrawioFile.SYNC)}),mxUtils.bind(this,function($err$$){$currentFile$$.handleFileError($err$$,!0)})):$currentFile$$.synchronizeFile(mxUtils.bind(this,function(){$currentFile$$.handleFileSuccess("manual"==DrawioFile.SYNC)}),mxUtils.bind(this,function($err$$){$currentFile$$.handleFileError($err$$,!0)}))))};EditorUi.prototype.getFileData=function $EditorUi$$getFileData$($forceXml$$,$forceSvg$$,$forceHtml$$,$embeddedCallback$$,$ignoreSelection$$,$currentPage$$,
$node$$,$compact$$,$file$$){var $$jscomp$this$$=this,$$jscomp$arguments$$=arguments;$ignoreSelection$$=null!=$ignoreSelection$$&&$ignoreSelection$$||!0;$node$$=$node$$||this.getXmlFileData($ignoreSelection$$,null!=$currentPage$$&&$currentPage$$||!1);$file$$=$file$$||this.getCurrentFile();var $graph$$=this.editor.graph,$page$$=(this.pages||[])[0],$filetitle$jscomp$1_result$$=$file$$&&$file$$.getTitle();if($page$$&&this.currentPage!==$page$$&&($forceSvg$$||!$forceXml$$&&/(\.svg)$/i.test($filetitle$jscomp$1_result$$))){var $graph$$=
this.createTemporaryGraph($graph$$.getStylesheet()),$graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$.getGlobalVariable=function $$graph$$$getGlobalVariable$($name$$){return"page"===$name$$?$page$$.getName():"pagenumber"===$name$$?1:$graphGetGlobalVariable$$.apply($$jscomp$this$$,$$jscomp$arguments$$)};document.body.appendChild($graph$$.container);$graph$$.model.setRoot($page$$.root)}$filetitle$jscomp$1_result$$=this.createFileData($node$$,$graph$$,$file$$,window.location.href,$forceXml$$,
$forceSvg$$,$forceHtml$$,$embeddedCallback$$,$ignoreSelection$$,$compact$$);$graph$$!==this.editor.graph&&$graph$$.container.parentNode.removeChild($graph$$.container);return $filetitle$jscomp$1_result$$};EditorUi.prototype.getHtml=function $EditorUi$$getHtml$($node$jscomp$38_text$$,$graph$jscomp$49_s$$,$title$$,$data$jscomp$69_editLink$$,$redirect$$,$ignoreSelection$jscomp$7_x0$$){$ignoreSelection$jscomp$7_x0$$=null!=$ignoreSelection$jscomp$7_x0$$?$ignoreSelection$jscomp$7_x0$$:!0;var $bg$jscomp$7_bounds$$=
null,$js$$=EditorUi.drawHost+"/js/embed-static.min.js";if(null!=$graph$jscomp$49_s$$){var $bg$jscomp$7_bounds$$=$ignoreSelection$jscomp$7_x0$$?$graph$jscomp$49_s$$.getGraphBounds():$graph$jscomp$49_s$$.getBoundingBox($graph$jscomp$49_s$$.getSelectionCells()),$scale$jscomp$18_y0$$=$graph$jscomp$49_s$$.view.scale;$ignoreSelection$jscomp$7_x0$$=Math.floor($bg$jscomp$7_bounds$$.x/$scale$jscomp$18_y0$$-$graph$jscomp$49_s$$.view.translate.x);$scale$jscomp$18_y0$$=Math.floor($bg$jscomp$7_bounds$$.y/$scale$jscomp$18_y0$$-
$graph$jscomp$49_s$$.view.translate.y);$bg$jscomp$7_bounds$$=$graph$jscomp$49_s$$.background;null==$redirect$$&&($graph$jscomp$49_s$$=this.getBasenames().join(";"),0<$graph$jscomp$49_s$$.length&&($js$$=EditorUi.drawHost+"/embed.js?s="+$graph$jscomp$49_s$$));$node$jscomp$38_text$$.setAttribute("x0",$ignoreSelection$jscomp$7_x0$$);$node$jscomp$38_text$$.setAttribute("y0",$scale$jscomp$18_y0$$)}null!=$node$jscomp$38_text$$&&($node$jscomp$38_text$$.setAttribute("pan","1"),$node$jscomp$38_text$$.setAttribute("zoom",
"1"),$node$jscomp$38_text$$.setAttribute("resize","0"),$node$jscomp$38_text$$.setAttribute("fit","0"),$node$jscomp$38_text$$.setAttribute("border","20"),$node$jscomp$38_text$$.setAttribute("links","1"),null!=$data$jscomp$69_editLink$$&&$node$jscomp$38_text$$.setAttribute("edit",$data$jscomp$69_editLink$$));null!=$redirect$$&&($redirect$$=$redirect$$.replace(/&/g,"&amp;"));$node$jscomp$38_text$$=null!=$node$jscomp$38_text$$?Graph.zapGremlins(mxUtils.getXml($node$jscomp$38_text$$)):"";$data$jscomp$69_editLink$$=
Graph.compress($node$jscomp$38_text$$);Graph.decompress($data$jscomp$69_editLink$$)!=$node$jscomp$38_text$$&&($data$jscomp$69_editLink$$=encodeURIComponent($node$jscomp$38_text$$));return(null==$redirect$$?'\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]--\x3e\n':"")+"<!DOCTYPE html>\n<html"+(null!=$redirect$$?' xmlns="http://www.w3.org/1999/xhtml">':">")+"\n<head>\n"+(null==$redirect$$?null!=$title$$?"<title>"+mxUtils.htmlEntities($title$$)+"</title>\n":"":"<title>Draw.io Diagram</title>\n")+
(null!=$redirect$$?'<meta http-equiv="refresh" content="0;URL=\''+$redirect$$+"'\"/>\n":"")+"</head>\n<body"+(null==$redirect$$&&null!=$bg$jscomp$7_bounds$$&&$bg$jscomp$7_bounds$$!=mxConstants.NONE?' style="background-color:'+$bg$jscomp$7_bounds$$+';">':">")+'\n<div class="mxgraph" style="position:relative;overflow:auto;width:100%;">\n<div style="width:1px;height:1px;overflow:hidden;">'+$data$jscomp$69_editLink$$+"</div>\n</div>\n"+(null==$redirect$$?'<script type="text/javascript" src="'+$js$$+'">\x3c/script>':
'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="'+$redirect$$+'" target="_blank"><img border="0" src="'+EditorUi.drawHost+'/images/drawlogo128.png"/></a>')+"\n</body>\n</html>\n"};EditorUi.prototype.getHtml2=function $EditorUi$$getHtml2$($data$jscomp$70_xml$$,$graph$jscomp$50_js$$,$title$$,$editLink$$,$redirect$$){$graph$jscomp$50_js$$=EditorUi.drawHost+"/js/viewer.min.js";null!=$redirect$$&&($redirect$$=$redirect$$.replace(/&/g,"&amp;"));$data$jscomp$70_xml$$=
{highlight:"#0000ff",nav:this.editor.graph.foldingEnabled,resize:!0,xml:Graph.zapGremlins($data$jscomp$70_xml$$),toolbar:"pages zoom layers lightbox"};null!=this.pages&&null!=this.currentPage&&($data$jscomp$70_xml$$.page=mxUtils.indexOf(this.pages,this.currentPage));return(null==$redirect$$?'\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]--\x3e\n':"")+"<!DOCTYPE html>\n<html"+(null!=$redirect$$?' xmlns="http://www.w3.org/1999/xhtml">':">")+"\n<head>\n"+(null==$redirect$$?
null!=$title$$?"<title>"+mxUtils.htmlEntities($title$$)+"</title>\n":"":"<title>Draw.io Diagram</title>\n")+(null!=$redirect$$?'<meta http-equiv="refresh" content="0;URL=\''+$redirect$$+"'\"/>\n":"")+'<meta charset="utf-8"/>\n</head>\n<body>\n<div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="'+mxUtils.htmlEntities(JSON.stringify($data$jscomp$70_xml$$))+'"></div>\n'+(null==$redirect$$?'<script type="text/javascript" src="'+$graph$jscomp$50_js$$+'">\x3c/script>':
'<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="'+$redirect$$+'" target="_blank"><img border="0" src="'+EditorUi.drawHost+'/images/drawlogo128.png"/></a>')+"\n</body>\n</html>\n"};EditorUi.prototype.setFileData=function $EditorUi$$setFileData$($cause_data$jscomp$71_i$jscomp$106_node$$){$cause_data$jscomp$71_i$jscomp$106_node$$=this.validateFileData($cause_data$jscomp$71_i$jscomp$106_node$$);this.pages=this.fileNode=this.currentPage=null;$cause_data$jscomp$71_i$jscomp$106_node$$=
null!=$cause_data$jscomp$71_i$jscomp$106_node$$&&0<$cause_data$jscomp$71_i$jscomp$106_node$$.length?mxUtils.parseXml($cause_data$jscomp$71_i$jscomp$106_node$$).documentElement:null;var $divs$jscomp$2_errors_nodes$jscomp$3_tmp$$=null!=$cause_data$jscomp$71_i$jscomp$106_node$$?$cause_data$jscomp$71_i$jscomp$106_node$$.getElementsByTagName("parsererror"):null;if(null!=$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$&&0<$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$.length)throw $cause_data$jscomp$71_i$jscomp$106_node$$=
mxResources.get("invalidOrMissingFile"),$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$=$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$[0].getElementsByTagName("div"),0<$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$.length&&($cause_data$jscomp$71_i$jscomp$106_node$$=mxUtils.getTextContent($divs$jscomp$2_errors_nodes$jscomp$3_tmp$$[0])),Error($cause_data$jscomp$71_i$jscomp$106_node$$);$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$=null!=$cause_data$jscomp$71_i$jscomp$106_node$$?this.editor.extractGraphModel($cause_data$jscomp$71_i$jscomp$106_node$$,
!0):null;null!=$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$&&($cause_data$jscomp$71_i$jscomp$106_node$$=$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$);if(null!=$cause_data$jscomp$71_i$jscomp$106_node$$&&"mxfile"==$cause_data$jscomp$71_i$jscomp$106_node$$.nodeName&&($divs$jscomp$2_errors_nodes$jscomp$3_tmp$$=$cause_data$jscomp$71_i$jscomp$106_node$$.getElementsByTagName("diagram"),"0"!=urlParams.pages||1<$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$.length||1==$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$.length&&
$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$[0].hasAttribute("name"))){var $selectedPage$$=null;this.fileNode=$cause_data$jscomp$71_i$jscomp$106_node$$;this.pages=[];for($cause_data$jscomp$71_i$jscomp$106_node$$=0;$cause_data$jscomp$71_i$jscomp$106_node$$<$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$.length;$cause_data$jscomp$71_i$jscomp$106_node$$++){null==$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$[$cause_data$jscomp$71_i$jscomp$106_node$$].getAttribute("id")&&$divs$jscomp$2_errors_nodes$jscomp$3_tmp$$[$cause_data$jscomp$71_i$jscomp$106_node$$].setAttribute("id",
$cause_data$jscomp$71_i$jscomp$106_node$$);var $page$$=new DiagramPage($divs$jscomp$2_errors_nodes$jscomp$3_tmp$$[$cause_data$jscomp$71_i$jscomp$106_node$$]);null==$page$$.getName()&&$page$$.setName(mxResources.get("pageWithNumber",[$cause_data$jscomp$71_i$jscomp$106_node$$+1]));this.pages.push($page$$);null!=urlParams["page-id"]&&$page$$.getId()==urlParams["page-id"]&&($selectedPage$$=$page$$)}this.currentPage=null!=$selectedPage$$?$selectedPage$$:this.pages[Math.max(0,Math.min(this.pages.length-
1,urlParams.page||0))];$cause_data$jscomp$71_i$jscomp$106_node$$=this.currentPage.node}"0"!=urlParams.pages&&null==this.fileNode&&null!=$cause_data$jscomp$71_i$jscomp$106_node$$&&(this.fileNode=$cause_data$jscomp$71_i$jscomp$106_node$$.ownerDocument.createElement("mxfile"),this.currentPage=new DiagramPage($cause_data$jscomp$71_i$jscomp$106_node$$.ownerDocument.createElement("diagram")),this.currentPage.setName(mxResources.get("pageWithNumber",[1])),this.pages=[this.currentPage]);this.editor.setGraphXml($cause_data$jscomp$71_i$jscomp$106_node$$);
null!=this.currentPage&&(this.currentPage.root=this.editor.graph.model.root)};EditorUi.prototype.getBaseFilename=function $EditorUi$$getBaseFilename$($ignorePageName$$){var $basename$jscomp$1_file$$=this.getCurrentFile(),$basename$jscomp$1_file$$=null!=$basename$jscomp$1_file$$&&null!=$basename$jscomp$1_file$$.getTitle()?$basename$jscomp$1_file$$.getTitle():this.defaultFilename;if(/(\.xml)$/i.test($basename$jscomp$1_file$$)||/(\.html)$/i.test($basename$jscomp$1_file$$)||/(\.svg)$/i.test($basename$jscomp$1_file$$)||
/(\.png)$/i.test($basename$jscomp$1_file$$)||/(\.drawio)$/i.test($basename$jscomp$1_file$$))$basename$jscomp$1_file$$=$basename$jscomp$1_file$$.substring(0,$basename$jscomp$1_file$$.lastIndexOf("."));!$ignorePageName$$&&null!=this.pages&&1<this.pages.length&&null!=this.currentPage&&null!=this.currentPage.node.getAttribute("name")&&0<this.currentPage.getName().length&&($basename$jscomp$1_file$$=$basename$jscomp$1_file$$+"-"+this.currentPage.getName());return $basename$jscomp$1_file$$};EditorUi.prototype.downloadFile=
function $EditorUi$$downloadFile$($format$$,$nonCompressed$$,$addShadow$$,$ignoreSelection$$,$currentPage$$,$pageVisible$$,$transparent$$){try{$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:this.editor.graph.isSelectionEmpty();var $basename$$=this.getBaseFilename(!$currentPage$$),$filename$$=$basename$$+"."+$format$$;if("xml"==$format$$){var $data$jscomp$0$$='<?xml version="1.0" encoding="UTF-8"?>\n'+($nonCompressed$$?mxUtils.getXml(this.editor.getGraphXml($ignoreSelection$$)):this.getFileData(!0,
null,null,null,$ignoreSelection$$,$currentPage$$));this.saveData($filename$$,$format$$,$data$jscomp$0$$,"text/xml")}else if("html"==$format$$)$data$jscomp$0$$=this.getHtml2(this.getFileData(!0),this.editor.graph,$basename$$),this.saveData($filename$$,$format$$,$data$jscomp$0$$,"text/html");else if("svg"!=$format$$&&"xmlsvg"!=$format$$||!this.spinner.spin(document.body,mxResources.get("export")))"xmlpng"==$format$$?$filename$$=$basename$$+".png":"jpeg"==$format$$&&($filename$$=$basename$$+".jpg"),
this.saveRequest($filename$$,$format$$,mxUtils.bind(this,function($newTitle$$,$base64$$){try{var $prev$$=this.editor.graph.pageVisible;null!=$pageVisible$$&&(this.editor.graph.pageVisible=$pageVisible$$);var $req$$=this.createDownloadRequest($newTitle$$,$format$$,$ignoreSelection$$,$base64$$,$transparent$$,$currentPage$$);this.editor.graph.pageVisible=$prev$$;return $req$$}catch($e$$){this.handleError($e$$)}}));else{var $svg$jscomp$0$$=null,$saveSvg$$=mxUtils.bind(this,function($data$$){$data$$.length<=
MAX_REQUEST_SIZE?this.saveData($filename$$,"svg",$data$$,"image/svg+xml"):this.handleError({message:mxResources.get("drawingTooLarge")},mxResources.get("error"),mxUtils.bind(this,function(){mxUtils.popup($svg$jscomp$0$$)}))});if("svg"==$format$$){var $bg$$=this.editor.graph.background;if($transparent$$||$bg$$==mxConstants.NONE)$bg$$=null;var $svgRoot$$=this.editor.graph.getSvg($bg$$,null,null,null,null,$ignoreSelection$$);$addShadow$$&&this.editor.graph.addSvgShadow($svgRoot$$);this.convertImages($svgRoot$$,
mxUtils.bind(this,mxUtils.bind(this,function($svgRoot2$$){this.spinner.stop();$saveSvg$$('<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+mxUtils.getXml($svgRoot2$$))})))}else $filename$$=$basename$$+".svg",$svg$jscomp$0$$=this.getFileData(!1,!0,null,mxUtils.bind(this,function($svg$$){this.spinner.stop();$saveSvg$$($svg$$)}),$ignoreSelection$$)}}catch($e$$){this.handleError($e$$)}};EditorUi.prototype.createDownloadRequest=
function $EditorUi$$createDownloadRequest$($filename$$,$format$$,$data$jscomp$74_ignoreSelection$$,$base64$$,$transparent$$,$bg$jscomp$10_currentPage$jscomp$4_i$$){var $bounds$$=this.editor.graph.getGraphBounds();$data$jscomp$74_ignoreSelection$$=this.getFileData(!0,null,null,null,$data$jscomp$74_ignoreSelection$$,0==$bg$jscomp$10_currentPage$jscomp$4_i$$?!1:"xmlpng"!=$format$$);var $range$$="",$allPages$$="";if($bounds$$.width*$bounds$$.height>MAX_AREA||$data$jscomp$74_ignoreSelection$$.length>MAX_REQUEST_SIZE)throw{message:mxResources.get("drawingTooLarge")};
$bounds$$="0";"pdf"==$format$$&&0==$bg$jscomp$10_currentPage$jscomp$4_i$$&&($allPages$$="&allPages=1");if("xmlpng"==$format$$&&($bounds$$="1",$format$$="png",null!=this.pages&&null!=this.currentPage))for($bg$jscomp$10_currentPage$jscomp$4_i$$=0;$bg$jscomp$10_currentPage$jscomp$4_i$$<this.pages.length;$bg$jscomp$10_currentPage$jscomp$4_i$$++)if(this.pages[$bg$jscomp$10_currentPage$jscomp$4_i$$]==this.currentPage){$range$$="&from="+$bg$jscomp$10_currentPage$jscomp$4_i$$;break}$bg$jscomp$10_currentPage$jscomp$4_i$$=
this.editor.graph.background;"png"==$format$$&&$transparent$$?$bg$jscomp$10_currentPage$jscomp$4_i$$=mxConstants.NONE:$transparent$$||null!=$bg$jscomp$10_currentPage$jscomp$4_i$$&&$bg$jscomp$10_currentPage$jscomp$4_i$$!=mxConstants.NONE||($bg$jscomp$10_currentPage$jscomp$4_i$$="#ffffff");return new mxXmlRequest(EXPORT_URL,"format="+$format$$+$range$$+$allPages$$+"&bg="+(null!=$bg$jscomp$10_currentPage$jscomp$4_i$$?$bg$jscomp$10_currentPage$jscomp$4_i$$:mxConstants.NONE)+"&base64="+$base64$$+"&embedXml="+
$bounds$$+"&xml="+encodeURIComponent($data$jscomp$74_ignoreSelection$$)+(null!=$filename$$?"&filename="+encodeURIComponent($filename$$):""))};EditorUi.prototype.setMode=function $EditorUi$$setMode$($mode$$,$remember$$){this.mode=$mode$$};EditorUi.prototype.loadDescriptor=function $EditorUi$$loadDescriptor$($desc$$,$success$$,$error$$){var $hash$$=window.location.hash,$loadData$$=mxUtils.bind(this,function($data$$){var $realData$$=null!=$desc$$.data?$desc$$.data:"";null!=$data$$&&0<$data$$.length&&
(0<$realData$$.length&&($realData$$+="\n"),$realData$$+=$data$$);$data$$=new LocalFile(this,"csv"!=$desc$$.format&&0<$realData$$.length?$realData$$:this.emptyDiagramXml,null!=urlParams.title?decodeURIComponent(urlParams.title):this.defaultFilename,!0);$data$$.getHash=function $$data$$$getHash$(){return $hash$$};this.fileLoaded($data$$);"csv"==$desc$$.format&&this.importCsv($realData$$,mxUtils.bind(this,function($cells$$){this.editor.undoManager.clear();this.editor.setModified(!1);this.editor.setStatus("")}));
if(null!=$desc$$.update){var $interval$$=null!=$desc$$.interval?parseInt($desc$$.interval):6E4,$currentThread$$=null,$doUpdate$$=mxUtils.bind(this,function(){var $page$$=this.currentPage;mxUtils.post($desc$$.update,"xml="+encodeURIComponent(mxUtils.getXml(this.editor.getGraphXml())),mxUtils.bind(this,function($req$$){$page$$===this.currentPage&&(200<=$req$$.getStatus()&&300>=$req$$.getStatus()?(this.updateDiagram($req$$.getText()),$schedule$$()):this.handleError({message:mxResources.get("error")+
" "+$req$$.getStatus()}))}),mxUtils.bind(this,function($err$$){this.handleError($err$$)}))}),$schedule$$=mxUtils.bind(this,function(){window.clearTimeout($currentThread$$);$currentThread$$=window.setTimeout($doUpdate$$,$interval$$)});this.editor.addListener("pageSelected",mxUtils.bind(this,function(){$schedule$$();$doUpdate$$()}));$schedule$$();$doUpdate$$()}null!=$success$$&&$success$$()});if(null!=$desc$$.url&&0<$desc$$.url.length){var $realUrl$$=$desc$$.url;/^https?:\/\//.test($realUrl$$)&&!this.editor.isCorsEnabledForUrl($realUrl$$)&&
($realUrl$$=PROXY_URL+"?url="+encodeURIComponent($realUrl$$));this.loadUrl($realUrl$$,mxUtils.bind(this,function($data$$){$loadData$$($data$$)}),mxUtils.bind(this,function($err$$){null!=$error$$&&$error$$($err$$)}))}else $loadData$$("")};EditorUi.prototype.updateDiagram=function $EditorUi$$updateDiagram$($node$jscomp$40_xml$$){function $createOverlay$$($desc$$){var $overlay$$=new mxCellOverlay($desc$$.image||$graph$$.warningImage,$desc$$.tooltip,$desc$$.align,$desc$$.valign,$desc$$.offset);$overlay$$.addListener(mxEvent.CLICK,
function($sender$$,$evt$$){$ui$$.alert($desc$$.tooltip)});return $overlay$$}var $doc$$=null,$ui$$=this;if(null!=$node$jscomp$40_xml$$&&0<$node$jscomp$40_xml$$.length&&($doc$$=mxUtils.parseXml($node$jscomp$40_xml$$),$node$jscomp$40_xml$$=null!=$doc$$?$doc$$.documentElement:null,null!=$node$jscomp$40_xml$$&&"updates"==$node$jscomp$40_xml$$.nodeName)){var $graph$$=this.editor.graph,$model$$=$graph$$.getModel();$model$$.beginUpdate();var $fit$$=null;try{for($node$jscomp$40_xml$$=$node$jscomp$40_xml$$.firstChild;null!=
$node$jscomp$40_xml$$;){if("update"==$node$jscomp$40_xml$$.nodeName){var $cell$$=$model$$.getCell($node$jscomp$40_xml$$.getAttribute("id"));if(null!=$cell$$){try{var $value$$=$node$jscomp$40_xml$$.getAttribute("value");if(null!=$value$$){var $valueNode$$=mxUtils.parseXml($value$$).documentElement;if(null!=$valueNode$$)if("1"==$valueNode$$.getAttribute("replace-value"))$model$$.setValue($cell$$,$valueNode$$);else for(var $attrs$$=$valueNode$$.attributes,$j$$=0;$j$$<$attrs$$.length;$j$$++)$graph$$.setAttributeForCell($cell$$,
$attrs$$[$j$$].nodeName,0<$attrs$$[$j$$].nodeValue.length?$attrs$$[$j$$].nodeValue:null)}}catch($e$$){null!=window.console&&console.log("Error in value for "+$cell$$.id+": "+$e$$)}try{var $style$$=$node$jscomp$40_xml$$.getAttribute("style");null!=$style$$&&$graph$$.model.setStyle($cell$$,$style$$)}catch($e$9$$){null!=window.console&&console.log("Error in style for "+$cell$$.id+": "+$e$9$$)}try{var $icon$$=$node$jscomp$40_xml$$.getAttribute("icon");if(null!=$icon$$){var $desc$jscomp$0$$=0<$icon$$.length?
JSON.parse($icon$$):null;null!=$desc$jscomp$0$$&&$desc$jscomp$0$$.append||$graph$$.removeCellOverlays($cell$$);null!=$desc$jscomp$0$$&&$graph$$.addCellOverlay($cell$$,$createOverlay$$($desc$jscomp$0$$))}}catch($e$10$$){null!=window.console&&console.log("Error in icon for "+$cell$$.id+": "+$e$10$$)}try{var $geo$$=$node$jscomp$40_xml$$.getAttribute("geometry");if(null!=$geo$$){var $geo$$=JSON.parse($geo$$),$curr$$=$graph$$.getCellGeometry($cell$$);if(null!=$curr$$){$curr$$=$curr$$.clone();for(key in $geo$$){var $val$$=
parseFloat($geo$$[key]);"dx"==key?$curr$$.x+=$val$$:"dy"==key?$curr$$.y+=$val$$:"dw"==key?$curr$$.width+=$val$$:"dh"==key?$curr$$.height+=$val$$:$curr$$[key]=parseFloat($geo$$[key])}$graph$$.model.setGeometry($cell$$,$curr$$)}}}catch($e$11$$){null!=window.console&&console.log("Error in icon for "+$cell$$.id+": "+$e$11$$)}}}else if("model"==$node$jscomp$40_xml$$.nodeName){for(var $dataNode$$=$node$jscomp$40_xml$$.firstChild;null!=$dataNode$$&&$dataNode$$.nodeType!=mxConstants.NODETYPE_ELEMENT;)$dataNode$$=
$dataNode$$.nextSibling;null!=$dataNode$$&&(new mxCodec($node$jscomp$40_xml$$.firstChild)).decode($dataNode$$,$model$$)}else if("view"==$node$jscomp$40_xml$$.nodeName){if($node$jscomp$40_xml$$.hasAttribute("scale")&&($graph$$.view.scale=parseFloat($node$jscomp$40_xml$$.getAttribute("scale"))),$node$jscomp$40_xml$$.hasAttribute("dx")||$node$jscomp$40_xml$$.hasAttribute("dy"))$graph$$.view.translate=new mxPoint(parseFloat($node$jscomp$40_xml$$.getAttribute("dx")||0),parseFloat($node$jscomp$40_xml$$.getAttribute("dy")||
0))}else"fit"==$node$jscomp$40_xml$$.nodeName&&($fit$$=$node$jscomp$40_xml$$.hasAttribute("max-scale")?parseFloat($node$jscomp$40_xml$$.getAttribute("max-scale")):1);$node$jscomp$40_xml$$=$node$jscomp$40_xml$$.nextSibling}}finally{$model$$.endUpdate()}null!=$fit$$&&this.chromelessResize&&this.chromelessResize(!0,$fit$$)}return $doc$$};EditorUi.prototype.getCopyFilename=function $EditorUi$$getCopyFilename$($file$$,$timestamp$$){var $JSCompiler_temp_const$jscomp$37_title$$=null!=$file$$&&null!=$file$$.getTitle()?
$file$$.getTitle():this.defaultFilename,$extension$$="",$dot$jscomp$3_y$$=$JSCompiler_temp_const$jscomp$37_title$$.lastIndexOf(".");0<=$dot$jscomp$3_y$$&&($extension$$=$JSCompiler_temp_const$jscomp$37_title$$.substring($dot$jscomp$3_y$$),$JSCompiler_temp_const$jscomp$37_title$$=$JSCompiler_temp_const$jscomp$37_title$$.substring(0,$dot$jscomp$3_y$$));if($timestamp$$)var $s$jscomp$inline_54_today$$=new Date,$dot$jscomp$3_y$$=$s$jscomp$inline_54_today$$.getFullYear(),$m$$=$s$jscomp$inline_54_today$$.getMonth()+
1,$d$$=$s$jscomp$inline_54_today$$.getDate(),$h$$=$s$jscomp$inline_54_today$$.getHours(),$mi$$=$s$jscomp$inline_54_today$$.getMinutes(),$s$jscomp$inline_54_today$$=$s$jscomp$inline_54_today$$.getSeconds(),$JSCompiler_temp_const$jscomp$37_title$$=$JSCompiler_temp_const$jscomp$37_title$$+(" "+($dot$jscomp$3_y$$+"-"+$m$$+"-"+$d$$+"-"+$h$$+"-"+$mi$$+"-"+$s$jscomp$inline_54_today$$));return $JSCompiler_temp_const$jscomp$37_title$$=mxResources.get("copyOf",[$JSCompiler_temp_const$jscomp$37_title$$])+$extension$$};
EditorUi.prototype.fileLoaded=function $EditorUi$$fileLoaded$($file$jscomp$0$$,$noDialogs$$){var $$jscomp$this$$=this,$result$$=!1,$oldFile$$=this.getCurrentFile();this.fileLoadedError=null;this.setCurrentFile(null);this.hideDialog();$oldFile$$&&($oldFile$$.removeListener(this.descriptorChangedListener),$oldFile$$.close());this.editor.graph.model.clear();this.editor.undoManager.clear();var $noFile$$=function $$noFile$$$(){$$jscomp$this$$.setGraphEnabled(!1);$oldFile$$&&$$jscomp$this$$.updateDocumentTitle();
$$jscomp$this$$.editor.graph.model.clear();$$jscomp$this$$.editor.undoManager.clear();$$jscomp$this$$.setBackgroundImage(null);!$noDialogs$$&&null!=window.location.hash&&0<window.location.hash.length&&(window.location.hash="");!App.CSET&&$$jscomp$this$$.fname&&($$jscomp$this$$.fnameWrapper.style.display="none",$$jscomp$this$$.fname.innerHTML="",$$jscomp$this$$.fname.setAttribute("title",mxResources.get("rename")));$$jscomp$this$$.editor.setStatus("");$$jscomp$this$$.updateUi();App.CSET?CsetUtils.LoadFileFromCSET($$jscomp$this$$).then(function($file$$){if(!$noDialogs$$&&
$file$$.isEmpty()){var $compact$jscomp$2_dlg$$=$$jscomp$this$$.isOffline(),$width$$=$compact$jscomp$2_dlg$$?350:620,$height$$=$compact$jscomp$2_dlg$$?70:440,$onclose$$=mxUtils.bind($$jscomp$this$$,function($cancel$$){this.hideDialog();$cancel$$||$file$$.save()}),$compact$jscomp$2_dlg$$=new NewDialog($$jscomp$this$$,{compact:$compact$jscomp$2_dlg$$,showName:!1,hideFromTemplateUrl:!0});$$jscomp$this$$.showDialog($compact$jscomp$2_dlg$$.container,$width$$,$height$$,!0,!0,$onclose$$);$compact$jscomp$2_dlg$$.init()}}):
$noDialogs$$||$$jscomp$this$$.showSplash()};if(!$file$jscomp$0$$)return $noFile$$(),$result$$;try{mxClient.IS_SF&&"min"===uiTheme&&(this.diagramContainer.style.visibility="");this.openingFile=!0;this.setCurrentFile($file$jscomp$0$$);$file$jscomp$0$$.addListener("descriptorChanged",this.descriptorChangedListener);$file$jscomp$0$$.addListener("contentChanged",this.descriptorChangedListener);$file$jscomp$0$$.open();delete this.openingFile;var $filemode$jscomp$1_fn$$=$file$jscomp$0$$.getMode();this.setGraphEnabled(!0);
this.setMode($filemode$jscomp$1_fn$$);this.editor.graph.model.prefix=Editor.guid()+"-";this.editor.undoManager.clear();this.descriptorChanged();this.updateUi();$file$jscomp$0$$.isEditable()?$file$jscomp$0$$.isModified()?($file$jscomp$0$$.addUnsavedStatus(),null!=$file$jscomp$0$$.backupPatch&&$file$jscomp$0$$.patch([$file$jscomp$0$$.backupPatch])):this.editor.setStatus(""):this.editor.setStatus('<span class="geStatusAlert" style="margin-left:8px;">'+mxUtils.htmlEntities(mxResources.get("readOnly"))+
"</span>");!this.editor.isChromelessView()||this.editor.editable?(this.editor.graph.selectUnlockedLayer(),this.showLayersDialog(),this.restoreLibraries(),window.self!==window.top&&window.focus()):this.editor.graph.isLightboxView()&&this.lightboxFit();this.chromelessResize&&this.chromelessResize();this.editor.fireEvent(new mxEventObject("fileLoaded"));$result$$=!0;!this.isOffline()&&$filemode$jscomp$1_fn$$&&EditorUi.logEvent({category:$filemode$jscomp$1_fn$$.toUpperCase()+"-OPEN-FILE-"+$file$jscomp$0$$.getHash(),
action:"size_"+$file$jscomp$0$$.getSize(),label:"autosave_"+(this.editor.autosave?"on":"off")});if(this.editor.editable&&$filemode$jscomp$1_fn$$&&this.mode===$filemode$jscomp$1_fn$$&&$filemode$jscomp$1_fn$$!==App.MODE_DEVICE)try{this.addRecent({id:$file$jscomp$0$$.getHash(),title:$file$jscomp$0$$.getTitle(),mode:$filemode$jscomp$1_fn$$})}catch($e$$){}try{mxSettings.setOpenCounter(mxSettings.getOpenCounter()+1),mxSettings.save()}catch($e$12$$){}}catch($e$14$$){this.fileLoadedError=$e$14$$;window.console&&
console.log("error in fileLoaded:",$file$jscomp$0$$,$e$14$$);if(EditorUi.enableLogging&&!this.isOffline())try{(new Image).src=(null!=window.DRAWIO_LOG_URL?window.DRAWIO_LOG_URL:"")+"/log?v="+encodeURIComponent(EditorUi.VERSION)+"&msg=errorInFileLoaded:url:"+encodeURIComponent(window.location.href)+($e$14$$&&$e$14$$.message?":err:"+encodeURIComponent($e$14$$.message):"")+($e$14$$&&$e$14$$.stack?"&stack="+encodeURIComponent($e$14$$.stack):"")}catch($e$13$$){}$filemode$jscomp$1_fn$$=mxUtils.bind(this,
function(){urlParams.url&&this.spinner.spin(document.body,mxResources.get("reconnecting"))?window.location.search=this.getSearch(["url"]):$oldFile$$?this.fileLoaded($oldFile$$):$noFile$$()});$noDialogs$$?$filemode$jscomp$1_fn$$():this.handleError($e$14$$,mxResources.get("errorLoadingFile"),$filemode$jscomp$1_fn$$,!0)}return $result$$};EditorUi.prototype.getHashValueForPages=function $EditorUi$$getHashValueForPages$($pages$$,$details$$){var $hash$$=0,$model$$=new mxGraphModel,$codec$$=new mxCodec;
null!=$details$$&&($details$$.byteCount=0,$details$$.attrCount=0,$details$$.eltCount=0,$details$$.nodeCount=0);for(var $i$$=0;$i$$<$pages$$.length;$i$$++){this.updatePageRoot($pages$$[$i$$]);var $diagram$$=$pages$$[$i$$].node.cloneNode(!1);$diagram$$.removeAttribute("name");$model$$.root=$pages$$[$i$$].root;var $xmlNode$$=$codec$$.encode($model$$);this.editor.graph.saveViewState($pages$$[$i$$].viewState,$xmlNode$$,!0);$xmlNode$$.removeAttribute("pageWidth");$xmlNode$$.removeAttribute("pageHeight");
$diagram$$.appendChild($xmlNode$$);null!=$details$$&&($details$$.eltCount+=$diagram$$.getElementsByTagName("*").length,$details$$.nodeCount+=$diagram$$.getElementsByTagName("mxCell").length);$hash$$=($hash$$<<5)-$hash$$+this.hashValue($diagram$$,function($obj$$,$key$$,$value$$,$isXml$$){return!$isXml$$||"mxGeometry"!=$obj$$.nodeName&&"mxPoint"!=$obj$$.nodeName||"x"!=$key$$&&"y"!=$key$$&&"width"!=$key$$&&"height"!=$key$$?$isXml$$&&"mxCell"==$obj$$.nodeName&&"previous"==$key$$?null:$value$$:Math.round($value$$)},
$details$$)<<0}return $hash$$};EditorUi.prototype.hashValue=function $EditorUi$$hashValue$($obj$jscomp$29_str$$,$replacer_temp$$,$details$$){var $hash$$=0;if(null!=$obj$jscomp$29_str$$&&"object"===typeof $obj$jscomp$29_str$$&&"number"===typeof $obj$jscomp$29_str$$.nodeType&&"string"===typeof $obj$jscomp$29_str$$.nodeName&&"function"===typeof $obj$jscomp$29_str$$.getAttribute){null!=$obj$jscomp$29_str$$.nodeName&&($hash$$^=this.hashValue($obj$jscomp$29_str$$.nodeName,$replacer_temp$$,$details$$));
if(null!=$obj$jscomp$29_str$$.attributes){null!=$details$$&&($details$$.attrCount+=$obj$jscomp$29_str$$.attributes.length);for(var $i$$=0;$i$$<$obj$jscomp$29_str$$.attributes.length;$i$$++){var $key$$=$obj$jscomp$29_str$$.attributes[$i$$].name,$value$$=null!=$replacer_temp$$?$replacer_temp$$($obj$jscomp$29_str$$,$key$$,$obj$jscomp$29_str$$.attributes[$i$$].value,!0):$obj$jscomp$29_str$$.attributes[$i$$].value;null!=$value$$&&($hash$$^=this.hashValue($key$$,$replacer_temp$$,$details$$)+this.hashValue($value$$,
$replacer_temp$$,$details$$))}}if(null!=$obj$jscomp$29_str$$.childNodes)for($i$$=0;$i$$<$obj$jscomp$29_str$$.childNodes.length;$i$$++)$hash$$=($hash$$<<5)-$hash$$+this.hashValue($obj$jscomp$29_str$$.childNodes[$i$$],$replacer_temp$$,$details$$)<<0}else if(null!=$obj$jscomp$29_str$$&&"function"!==typeof $obj$jscomp$29_str$$){$obj$jscomp$29_str$$=String($obj$jscomp$29_str$$);$replacer_temp$$=0;null!=$details$$&&($details$$.byteCount+=$obj$jscomp$29_str$$.length);for($i$$=0;$i$$<$obj$jscomp$29_str$$.length;$i$$++)$replacer_temp$$=
($replacer_temp$$<<5)-$replacer_temp$$+$obj$jscomp$29_str$$.charCodeAt($i$$)<<0;$hash$$^=$replacer_temp$$}return $hash$$};EditorUi.prototype.descriptorChanged=function $EditorUi$$descriptorChanged$(){};EditorUi.prototype.restoreLibraries=function $EditorUi$$restoreLibraries$(){};EditorUi.prototype.saveLibrary=function $EditorUi$$saveLibrary$($name$$,$images$$,$file$$,$mode$$,$noSpin$$,$noReload$$,$fn$$){};EditorUi.prototype.isScratchpadEnabled=function $EditorUi$$isScratchpadEnabled$(){return isLocalStorage||
mxClient.IS_CHROMEAPP};EditorUi.prototype.toggleScratchpad=function $EditorUi$$toggleScratchpad$(){this.isScratchpadEnabled()&&(null==this.scratchpad?this.getLocalData(".scratchpad",mxUtils.bind(this,function($xml$$){null==$xml$$&&($xml$$=this.emptyLibraryXml);this.loadLibrary(new StorageLibrary(this,$xml$$,".scratchpad"))})):this.closeLibrary(this.scratchpad))};EditorUi.prototype.createLibraryDataFromImages=function $EditorUi$$createLibraryDataFromImages$($images$$){var $doc$$=mxUtils.createXmlDocument(),
$library$$=$doc$$.createElement("mxlibrary");mxUtils.setTextContent($library$$,JSON.stringify($images$$));$doc$$.appendChild($library$$);return mxUtils.getXml($doc$$)};EditorUi.prototype.closeLibrary=function $EditorUi$$closeLibrary$($file$$){null!=$file$$&&(this.removeLibrarySidebar($file$$.getHash()),$file$$.constructor!=LocalLibrary&&mxSettings.removeCustomLibrary($file$$.getHash()),".scratchpad"==$file$$.title&&(this.scratchpad=null))};EditorUi.prototype.removeLibrarySidebar=function $EditorUi$$removeLibrarySidebar$($id$$){var $elts$$=
this.sidebar.palettes[$id$$];if(null!=$elts$$){for(var $i$$=0;$i$$<$elts$$.length;$i$$++)$elts$$[$i$$].parentNode.removeChild($elts$$[$i$$]);delete this.sidebar.palettes[$id$$]}};EditorUi.prototype.repositionLibrary=function $EditorUi$$repositionLibrary$($nextChild$$){var $c$$=this.sidebar.container;if(null==$nextChild$$){var $content$jscomp$3_elts$$=this.sidebar.palettes["L.scratchpad"];null==$content$jscomp$3_elts$$&&($content$jscomp$3_elts$$=this.sidebar.palettes.search);null!=$content$jscomp$3_elts$$&&
($nextChild$$=$content$jscomp$3_elts$$[$content$jscomp$3_elts$$.length-1].nextSibling)}$nextChild$$=null!=$nextChild$$?$nextChild$$:$c$$.firstChild.nextSibling.nextSibling;var $content$jscomp$3_elts$$=$c$$.lastChild,$title$$=$content$jscomp$3_elts$$.previousSibling;$c$$.insertBefore($content$jscomp$3_elts$$,$nextChild$$);$c$$.insertBefore($title$$,$content$jscomp$3_elts$$)};EditorUi.prototype.loadLibrary=function $EditorUi$$loadLibrary$($file$$){var $doc$$=mxUtils.parseXml($file$$.getData());if("mxlibrary"==
$doc$$.documentElement.nodeName){var $images$$=JSON.parse(mxUtils.getTextContent($doc$$.documentElement));this.libraryLoaded($file$$,$images$$,$doc$$.documentElement.getAttribute("title"))}else throw{message:mxResources.get("notALibraryFile")};};EditorUi.prototype.getLibraryStorageHint=function $EditorUi$$getLibraryStorageHint$($file$$){return""};EditorUi.prototype.libraryLoaded=function $EditorUi$$libraryLoaded$($file$jscomp$0$$,$images$$,$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$){if(null!=
this.sidebar){$file$jscomp$0$$.constructor!=LocalLibrary&&mxSettings.addCustomLibrary($file$jscomp$0$$.getHash());".scratchpad"==$file$jscomp$0$$.title&&(this.scratchpad=$file$jscomp$0$$);var $elts$$=this.sidebar.palettes[$file$jscomp$0$$.getHash()],$elts$$=null!=$elts$$?$elts$$[$elts$$.length-1].nextSibling:null;this.removeLibrarySidebar($file$jscomp$0$$.getHash());var $dropTarget$$=null,$addImages$$=mxUtils.bind(this,function($imgs$$,$content$$){0==$imgs$$.length&&$file$jscomp$0$$.isEditable()?
(null==$dropTarget$$&&($dropTarget$$=document.createElement("div"),$dropTarget$$.className="geDropTarget",mxUtils.write($dropTarget$$,mxResources.get("dragElementsHere"))),$content$$.appendChild($dropTarget$$)):this.addLibraryEntries($imgs$$,$content$$)});if(null!=this.sidebar&&null!=$images$$)for(var $i$jscomp$0$$=0;$i$jscomp$0$$<$images$$.length;$i$jscomp$0$$++)mxUtils.bind(this,function($img$$){var $data$$=$img$$.data;null!=$data$$&&null!=$img$$.title?this.sidebar.addEntry($img$$.title,mxUtils.bind(this,
function(){$data$$=this.convertDataUri($data$$);var $s$$="shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;";"fixed"==$img$$.aspect&&($s$$+="aspect=fixed;");return this.sidebar.createVertexTemplate($s$$+"image="+$data$$,$img$$.w,$img$$.h,"",$img$$.title||"",!1,!1,!0)})):null!=$img$$.xml&&null!=$img$$.title&&this.sidebar.addEntry($img$$.title,mxUtils.bind(this,function(){var $cells$$=this.stringToCells(Graph.decompress($img$$.xml));return this.sidebar.createVertexTemplateFromCells($cells$$,
$img$$.w,$img$$.h,$img$$.title||"",!0,!1,!0)}))})($images$$[$i$jscomp$0$$]);$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$=null!=$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$&&0<$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$.length?$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$:$file$jscomp$0$$.getTitle();var $contentDiv$$=this.sidebar.addPalette($file$jscomp$0$$.getHash(),$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$,
!0,mxUtils.bind(this,function($content$$){$addImages$$($images$$,$content$$)}));this.repositionLibrary($elts$$);var $title$jscomp$0$$=$contentDiv$$.parentNode.previousSibling;$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$=$title$jscomp$0$$.getAttribute("title");null!=$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$&&0<$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$.length&&".scratchpad"!=$file$jscomp$0$$.title&&$title$jscomp$0$$.setAttribute("title",this.getLibraryStorageHint($file$jscomp$0$$)+
"\n"+$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$);var $buttons$$=document.createElement("div");$buttons$$.style.position="absolute";$buttons$$.style.right="0px";$buttons$$.style.top="0px";$buttons$$.style.padding="8px";mxClient.IS_QUIRKS||8==document.documentMode||($buttons$$.style.backgroundColor="inherit");$title$jscomp$0$$.style.position="relative";var $btn$$=document.createElement("img");$btn$$.setAttribute("src",Dialog.prototype.closeImage);$btn$$.setAttribute("title",mxResources.get("close"));
$btn$$.setAttribute("valign","absmiddle");$btn$$.setAttribute("border","0");$btn$$.style.margin="0 3px";var $saveBtn$$=null;if(".scratchpad"!=$file$jscomp$0$$.title||this.closableScratchpad)$buttons$$.appendChild($btn$$),mxEvent.addListener($btn$$,"click",mxUtils.bind(this,function($evt$$){if(!mxEvent.isConsumed($evt$$)){var $fn$$=mxUtils.bind(this,function(){this.closeLibrary($file$jscomp$0$$)});null!=$saveBtn$$?this.confirm(mxResources.get("allChangesLost"),null,$fn$$,mxResources.get("cancel"),
mxResources.get("discardChanges")):$fn$$();mxEvent.consume($evt$$)}}));if($file$jscomp$0$$.isEditable()){var $graph$$=this.editor.graph,$spinBtn$$=null,$editLibrary$$=mxUtils.bind(this,function($evt$$){this.showLibraryDialog($file$jscomp$0$$.getTitle(),$contentDiv$$,$images$$,$file$jscomp$0$$,$file$jscomp$0$$.getMode());mxEvent.consume($evt$$)}),$saveLibrary$$=mxUtils.bind(this,function($evt$jscomp$0$$){$file$jscomp$0$$.setModified(!0);$file$jscomp$0$$.isAutosave()?(null!=$spinBtn$$&&null!=$spinBtn$$.parentNode&&
$spinBtn$$.parentNode.removeChild($spinBtn$$),$spinBtn$$=$btn$$.cloneNode(!1),$spinBtn$$.setAttribute("src",Editor.spinImage),$spinBtn$$.setAttribute("title",mxResources.get("saving")),$spinBtn$$.style.cursor="default",$spinBtn$$.style.marginRight="2px",$spinBtn$$.style.marginTop="-2px",$buttons$$.insertBefore($spinBtn$$,$buttons$$.firstChild),$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px",this.saveLibrary($file$jscomp$0$$.getTitle(),$images$$,$file$jscomp$0$$,$file$jscomp$0$$.getMode(),
!0,!0,function(){null!=$spinBtn$$&&null!=$spinBtn$$.parentNode&&($spinBtn$$.parentNode.removeChild($spinBtn$$),$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px")})):null==$saveBtn$$&&($saveBtn$$=$btn$$.cloneNode(!1),$saveBtn$$.setAttribute("src",IMAGE_PATH+"/download.png"),$saveBtn$$.setAttribute("title",mxResources.get("save")),$buttons$$.insertBefore($saveBtn$$,$buttons$$.firstChild),mxEvent.addListener($saveBtn$$,"click",mxUtils.bind(this,function($evt$$){this.saveLibrary($file$jscomp$0$$.getTitle(),
$images$$,$file$jscomp$0$$,$file$jscomp$0$$.getMode(),$file$jscomp$0$$.constructor==LocalLibrary,!0,function(){null==$saveBtn$$||$file$jscomp$0$$.isModified()||($title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px",$saveBtn$$.parentNode.removeChild($saveBtn$$),$saveBtn$$=null)});mxEvent.consume($evt$$)})),$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px")}),$addCells$$=mxUtils.bind(this,function($cells$$,$bounds$$,$evt$$,$title$$){$cells$$=$graph$$.cloneCells(mxUtils.sortCells($graph$$.model.getTopmostCells($cells$$)));
for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $geo$$=$graph$$.getCellGeometry($cells$$[$i$$]);null!=$geo$$&&$geo$$.translate(-$bounds$$.x,-$bounds$$.y)}$contentDiv$$.appendChild(this.sidebar.createVertexTemplateFromCells($cells$$,$bounds$$.width,$bounds$$.height,$title$$||"",!0,!1,!1));$cells$$={xml:Graph.compress(mxUtils.getXml(this.editor.graph.encodeCells($cells$$))),w:$bounds$$.width,h:$bounds$$.height};null!=$title$$&&($cells$$.title=$title$$);$images$$.push($cells$$);$saveLibrary$$($evt$$);
null!=$dropTarget$$&&null!=$dropTarget$$.parentNode&&0<$images$$.length&&($dropTarget$$.parentNode.removeChild($dropTarget$$),$dropTarget$$=null)}),$addSelection$$=mxUtils.bind(this,function($evt$$){if($graph$$.isSelectionEmpty())$graph$$.getRubberband().isActive()?($graph$$.getRubberband().execute($evt$$),$graph$$.getRubberband().reset()):this.showError(mxResources.get("error"),mxResources.get("nothingIsSelected"),mxResources.get("ok"));else{var $cells$$=$graph$$.getSelectionCells(),$bounds$$=$graph$$.view.getBounds($cells$$),
$s$$=$graph$$.view.scale;$bounds$$.x/=$s$$;$bounds$$.y/=$s$$;$bounds$$.width/=$s$$;$bounds$$.height/=$s$$;$bounds$$.x-=$graph$$.view.translate.x;$bounds$$.y-=$graph$$.view.translate.y;$addCells$$($cells$$,$bounds$$)}mxEvent.consume($evt$$)});mxEvent.addGestureListeners($contentDiv$$,function(){},mxUtils.bind(this,function($evt$$){$graph$$.isMouseDown&&null!=$graph$$.panningManager&&null!=$graph$$.graphHandler.shape&&($graph$$.graphHandler.shape.node.style.visibility="hidden",$contentDiv$$.style.backgroundColor=
"#f1f3f4",$contentDiv$$.style.cursor="copy",$graph$$.panningManager.stop(),$graph$$.autoScroll=!1,null!=$graph$$.graphHandler.guide&&$graph$$.graphHandler.guide.setVisible(!1),null!=$graph$$.graphHandler.hint&&($graph$$.graphHandler.hint.style.visibility="hidden"),mxEvent.consume($evt$$))}),mxUtils.bind(this,function($evt$$){$graph$$.isMouseDown&&null!=$graph$$.panningManager&&null!=$graph$$.graphHandler&&($contentDiv$$.style.backgroundColor="",$contentDiv$$.style.cursor="default",this.sidebar.showTooltips=
!0,$graph$$.panningManager.stop(),$graph$$.graphHandler.reset(),$graph$$.isMouseDown=!1,$graph$$.autoScroll=!0,$addSelection$$($evt$$),mxEvent.consume($evt$$))}));mxEvent.addListener($contentDiv$$,"mouseleave",mxUtils.bind(this,function($evt$$){$graph$$.isMouseDown&&null!=$graph$$.graphHandler.shape&&($graph$$.graphHandler.shape.node.style.visibility="visible",$contentDiv$$.style.backgroundColor="",$contentDiv$$.style.cursor="",$graph$$.autoScroll=!0,null!=$graph$$.graphHandler.guide&&$graph$$.graphHandler.guide.setVisible(!0),
null!=$graph$$.graphHandler.hint&&($graph$$.graphHandler.hint.style.visibility="visible"))}));Graph.fileSupport&&(mxEvent.addListener($contentDiv$$,"dragover",mxUtils.bind(this,function($evt$$){$contentDiv$$.style.backgroundColor="#f1f3f4";$evt$$.dataTransfer.dropEffect="copy";$contentDiv$$.style.cursor="copy";this.sidebar.hideTooltip();$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($contentDiv$$,"drop",mxUtils.bind(this,function($evt$$){$contentDiv$$.style.cursor="";$contentDiv$$.style.backgroundColor=
"";0<$evt$$.dataTransfer.files.length&&this.importFiles($evt$$.dataTransfer.files,0,0,this.maxImageSize,mxUtils.bind(this,function($cells$jscomp$50_data$jscomp$78_style$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$,$img$$,$doneFn$$,$file$$){if(null!=$cells$jscomp$50_data$jscomp$78_style$$&&"image/"==$mimeType$$.substring(0,6))$cells$jscomp$50_data$jscomp$78_style$$="shape=image;verticalLabelPosition=bottom;verticalAlign=top;aspect=fixed;image="+this.convertDataUri($cells$jscomp$50_data$jscomp$78_style$$),$cells$jscomp$50_data$jscomp$78_style$$=
[new mxCell("",new mxGeometry(0,0,$w$$,$h$$),$cells$jscomp$50_data$jscomp$78_style$$)],$cells$jscomp$50_data$jscomp$78_style$$[0].vertex=!0,$addCells$$($cells$jscomp$50_data$jscomp$78_style$$,new mxRectangle(0,0,$w$$,$h$$),$evt$$,mxEvent.isAltDown($evt$$)?null:$img$$.substring(0,$img$$.lastIndexOf(".")).replace(/_/g," ")),null!=$dropTarget$$&&null!=$dropTarget$$.parentNode&&0<$images$$.length&&($dropTarget$$.parentNode.removeChild($dropTarget$$),$dropTarget$$=null);else{var $done$$=!1,$doImport$$=
mxUtils.bind(this,function($theData$$,$theMimeType$$){if(null!=$theData$$&&"text/xml"==$theMimeType$$){var $doc$jscomp$14_i$$=mxUtils.parseXml($theData$$);if("mxlibrary"==$doc$jscomp$14_i$$.documentElement.nodeName)try{var $temp$$=JSON.parse(mxUtils.getTextContent($doc$jscomp$14_i$$.documentElement));$addImages$$($temp$$,$contentDiv$$);$images$$=$images$$.concat($temp$$);$saveLibrary$$($evt$$);this.spinner.stop();$done$$=!0}catch($e$$){}else if("mxfile"==$doc$jscomp$14_i$$.documentElement.nodeName)try{for(var $pages$$=
$doc$jscomp$14_i$$.documentElement.getElementsByTagName("diagram"),$doc$jscomp$14_i$$=0;$doc$jscomp$14_i$$<$pages$$.length;$doc$jscomp$14_i$$++){var $temp$$=mxUtils.getTextContent($pages$$[$doc$jscomp$14_i$$]),$cells$$=this.stringToCells(Graph.decompress($temp$$)),$size$$=this.editor.graph.getBoundingBoxFromGeometry($cells$$);$addCells$$($cells$$,new mxRectangle(0,0,$size$$.width,$size$$.height),$evt$$)}$done$$=!0}catch($e$15$$){null!=window.console&&console.log("error in drop handler:",$e$15$$)}}$done$$||
(this.spinner.stop(),this.handleError({message:mxResources.get("errorLoadingFile")}));null!=$dropTarget$$&&null!=$dropTarget$$.parentNode&&0<$images$$.length&&($dropTarget$$.parentNode.removeChild($dropTarget$$),$dropTarget$$=null)});null!=$file$$&&null!=$img$$&&(/(\.v(dx|sdx?))($|\?)/i.test($img$$)||/(\.vs(x|sx?))($|\?)/i.test($img$$))?this.importVisio($file$$,function($xml$$){$doImport$$($xml$$,"text/xml")},null,$img$$):!this.isOffline()&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($cells$jscomp$50_data$jscomp$78_style$$,
$img$$)&&null!=$file$$?this.parseFile($file$$,mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&(this.spinner.stop(),200<=$xhr$$.status&&299>=$xhr$$.status?$doImport$$($xhr$$.responseText,"text/xml"):this.handleError({message:mxResources.get(413==$xhr$$.status?"drawingTooLarge":"invalidOrMissingFile")},mxResources.get("errorLoadingFile")))})):$doImport$$($cells$jscomp$50_data$jscomp$78_style$$,$mimeType$$)}}));$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($contentDiv$$,
"dragleave",function($evt$$){$contentDiv$$.style.cursor="";$contentDiv$$.style.backgroundColor="";$evt$$.stopPropagation();$evt$$.preventDefault()}));$btn$$=$btn$$.cloneNode(!1);$btn$$.setAttribute("src",Editor.editImage);$btn$$.setAttribute("title",mxResources.get("edit"));$buttons$$.insertBefore($btn$$,$buttons$$.firstChild);mxEvent.addListener($btn$$,"click",$editLibrary$$);mxEvent.addListener($contentDiv$$,"dblclick",function($evt$$){mxEvent.getSource($evt$$)==$contentDiv$$&&$editLibrary$$($evt$$)});
$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$=$btn$$.cloneNode(!1);$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$.setAttribute("src",Editor.plusImage);$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$.setAttribute("title",mxResources.get("add"));$buttons$$.insertBefore($btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$,$buttons$$.firstChild);mxEvent.addListener($btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$,"click",$addSelection$$);
this.isOffline()||".scratchpad"!=$file$jscomp$0$$.title||null==EditorUi.scratchpadHelpLink||($btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$=document.createElement("span"),$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$.setAttribute("title",mxResources.get("help")),$btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$.style.cssText="color:#a3a3a3;text-decoration:none;margin-right:2px;",mxUtils.write($btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$,
"?"),mxEvent.addGestureListeners($btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$,mxUtils.bind(this,function($evt$$){this.openLink(EditorUi.scratchpadHelpLink);mxEvent.consume($evt$$)})),$buttons$$.insertBefore($btn2$jscomp$1_link$jscomp$15_optionalTitle_tip$jscomp$2_tmp$$,$buttons$$.firstChild))}$title$jscomp$0$$.appendChild($buttons$$);$title$jscomp$0$$.style.paddingRight=18*$buttons$$.childNodes.length+"px"}};EditorUi.prototype.addLibraryEntries=function $EditorUi$$addLibraryEntries$($imgs$$,
$content$$){for(var $i$$=0;$i$$<$imgs$$.length;$i$$++){var $img$$=$imgs$$[$i$$],$cells$jscomp$52_data$$=$img$$.data;if(null!=$cells$jscomp$52_data$$){var $cells$jscomp$52_data$$=this.convertDataUri($cells$jscomp$52_data$$),$s$$="shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;";"fixed"==$img$$.aspect&&($s$$+="aspect=fixed;");$content$$.appendChild(this.sidebar.createVertexTemplate($s$$+"image="+$cells$jscomp$52_data$$,$img$$.w,$img$$.h,"",$img$$.title||"",!1,!1,!0))}else null!=
$img$$.xml&&($cells$jscomp$52_data$$=this.stringToCells(Graph.decompress($img$$.xml)),0<$cells$jscomp$52_data$$.length&&$content$$.appendChild(this.sidebar.createVertexTemplateFromCells($cells$jscomp$52_data$$,$img$$.w,$img$$.h,$img$$.title||"",!0,!1,!0)))}};EditorUi.prototype.getResource=function $EditorUi$$getResource$($obj$$){return null!=$obj$$?$obj$$[mxLanguage]||$obj$$.main:null};EditorUi.prototype.footerHeight=0;"1"==urlParams.offline||EditorUi.isElectronApp||("1"==urlParams.savesidebar&&(Sidebar.prototype.thumbWidth=
64,Sidebar.prototype.thumbHeight=64),EditorUi.prototype.createFooter=function $EditorUi$$createFooter$(){return document.getElementById("geFooter")});EditorUi.initTheme=function $EditorUi$initTheme$(){"atlas"==uiTheme?(mxClient.link("stylesheet",STYLE_PATH+"/atlas.css"),"undefined"!==typeof Toolbar&&(Toolbar.prototype.unselectedBackground=mxClient.IS_QUIRKS?"none":"linear-gradient(rgb(255, 255, 255) 0px, rgb(242, 242, 242) 100%)",Toolbar.prototype.selectedBackground="rgb(242, 242, 242)"),Editor.prototype.initialTopSpacing=
3,EditorUi.prototype.menubarHeight=41,EditorUi.prototype.toolbarHeight=38):"dark"==uiTheme&&(mxClient.link("stylesheet",STYLE_PATH+"/dark.css"),Dialog.backdropColor="#2a2a2a",Graph.prototype.defaultThemeName="darkTheme",Graph.prototype.defaultPageBackgroundColor="#2a2a2a",Graph.prototype.defaultPageBorderColor="#505759",Format.prototype.inactiveTabBackgroundColor="black",BaseFormatPanel.prototype.buttonBackgroundColor="#2a2a2a",Sidebar.prototype.dragPreviewBorder="1px dashed #cccccc",mxGraphHandler.prototype.previewColor=
"#cccccc",StyleFormatPanel.prototype.defaultStrokeColor="#cccccc",mxClient.IS_SVG&&(Editor.helpImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAP1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////9Du/pqAAAAFXRSTlMAT30qCJRBboyDZyCgRzUUdF46MJlgXETgAAAAeklEQVQY022O2w4DIQhEQUURda/9/28tUO2+7CQS5sgQ4F1RapX78YUwRqQjTU8ILqQfKerTKTvACJ4nLX3krt+8aS82oI8aQC4KavRgtvEW/mDvsICgA03PSGRr79MqX1YPNIxzjyqtw8ZnnRo4t5a5undtJYRywau+ds4Cyza3E6YAAAAASUVORK5CYII=",
Editor.checkmarkImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAARVBMVEUAAACZmZkICAgEBASNjY2Dg4MYGBiTk5N5eXl1dXVmZmZQUFBCQkI3NzceHh4MDAykpKSJiYl+fn5sbGxaWlo/Pz8SEhK96uPlAAAAAXRSTlMAQObYZgAAAE5JREFUGNPFzTcSgDAQQ1HJGUfy/Y9K7V1qeOUfzQifCQZai1XHaz11LFysbDbzgDSSWMZiETz3+b8yNUc/MMsktxuC8XQBSncdLwz+8gCCggGXzBcozAAAAABJRU5ErkJggg=="))};EditorUi.initTheme();EditorUi.prototype.hideFooter=function $EditorUi$$hideFooter$(){var $footer$$=document.getElementById("geFooter");null!=$footer$$&&
(this.footerHeight=0,$footer$$.style.display="none",this.refresh())};EditorUi.prototype.showFooter=function $EditorUi$$showFooter$($height$$){var $footer$$=document.getElementById("geFooter");null!=$footer$$&&(this.footerHeight=$height$$,$footer$$.style.display="inline",this.refresh())};EditorUi.prototype.showImageDialog=function $EditorUi$$showImageDialog$($dlg$jscomp$12_title$$,$value$$,$fn$$,$ignoreExisting$$,$convertDataUri$$){$dlg$jscomp$12_title$$=new ImageDialog(this,$dlg$jscomp$12_title$$,
$value$$,$fn$$,$ignoreExisting$$,$convertDataUri$$);this.showDialog($dlg$jscomp$12_title$$.container,Graph.fileSupport?440:360,Graph.fileSupport?200:90,!0,!0);$dlg$jscomp$12_title$$.init()};EditorUi.prototype.showBackgroundImageDialog=function $EditorUi$$showBackgroundImageDialog$($apply$$){$apply$$=null!=$apply$$?$apply$$:mxUtils.bind(this,function($change$jscomp$6_image$$){$change$jscomp$6_image$$=new ChangePageSetup(this,null,$change$jscomp$6_image$$);$change$jscomp$6_image$$.ignoreColor=!0;this.editor.graph.model.execute($change$jscomp$6_image$$)});
var $dlg$$=new BackgroundImageDialog(this,mxUtils.bind(this,function($image$$){$apply$$($image$$)}));this.showDialog($dlg$$.container,360,200,!0,!0);$dlg$$.init()};EditorUi.prototype.showLibraryDialog=function $EditorUi$$showLibraryDialog$($dlg$jscomp$14_name$$,$sidebar$$,$images$$,$file$$,$mode$$){$dlg$jscomp$14_name$$=new LibraryDialog(this,$dlg$jscomp$14_name$$,$sidebar$$,$images$$,$file$$,$mode$$);this.showDialog($dlg$jscomp$14_name$$.container,640,440,!0,!1,mxUtils.bind(this,function($cancel$$){$cancel$$&&
null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.showSplash()}));$dlg$jscomp$14_name$$.init()};var $editorUiCreateFormat$$=EditorUi.prototype.createFormat;EditorUi.prototype.createFormat=function $EditorUi$$createFormat$($container$$){var $format$$=$editorUiCreateFormat$$.apply(this,arguments);this.editor.graph.addListener("viewStateChanged",mxUtils.bind(this,function($evt$$){this.editor.graph.isSelectionEmpty()&&$format$$.refresh()}));return $format$$};EditorUi.prototype.createSidebarFooterContainer=
function $EditorUi$$createSidebarFooterContainer$(){var $div$$=this.createDiv("geSidebarContainer geSidebarFooter");$div$$.style.position="absolute";$div$$.style.overflow="hidden";var $elt2$$=document.createElement("a");$elt2$$.className="geTitle";$elt2$$.style.color="#188038";$elt2$$.style.height="100%";$elt2$$.style.paddingTop="9px";$elt2$$.innerHTML='<span style="font-size:18px;margin-right:5px;">+</span>';mxUtils.write($elt2$$,mxResources.get("moreShapes")+"...");mxEvent.addListener($elt2$$,mxClient.IS_POINTER?
"pointerdown":"mousedown",mxUtils.bind(this,function($evt$$){$evt$$.preventDefault()}));mxEvent.addListener($elt2$$,"click",mxUtils.bind(this,function($evt$$){this.actions.get("shapes").funct();mxEvent.consume($evt$$)}));$div$$.appendChild($elt2$$);$div$$.className+=" display-none ";return $div$$};EditorUi.prototype.handleError=function $EditorUi$$handleError$($resp$$,$title$$,$fn$$,$invokeFnOnClose$$,$notFoundMessage$$){var $resume$$=this.spinner&&this.spinner.pause?this.spinner.pause():function(){},
$e$$=$resp$$&&$resp$$.error?$resp$$.error:$resp$$;if($e$$||$title$$){var $msg$$=mxUtils.htmlEntities(mxResources.get("unknownError")),$btn$16$$=mxResources.get("ok"),$retry$$=null;$title$$=$title$$||mxResources.get("error");if($e$$)if(console.error("EditorUi.prototype.handleError: ",$e$$),$e$$.retry&&($btn$16$$=mxResources.get("cancel"),$retry$$=function $$retry$$$(){$resume$$();$e$$.retry()}),404===$e$$.code||404===$e$$.status||403===$e$$.code){var $msg$$=403===$e$$.code?null!=$e$$.message?mxUtils.htmlEntities($e$$.message):
mxUtils.htmlEntities(mxResources.get("accessDenied")):$notFoundMessage$$||mxUtils.htmlEntities(mxResources.get("fileNotFoundOrDenied")+(this.drive&&this.drive.user?" ("+this.drive.user.displayName+", "+this.drive.user.email+")":"")),$id$$=window.location.hash;if($id$$&&("#G"===$id$$.substring(0,2)||"#Uhttps%3A%2F%2Fdrive.google.com%2Fuc%3Fid%3D"===$id$$.substring(0,45))&&($resp$$&&$resp$$.error&&($resp$$.error.errors&&$resp$$.error.errors[0]&&"fileAccess"===$resp$$.error.errors[0].reason||$resp$$.error.data&&
$resp$$.error.data[0]&&"fileAccess"===$resp$$.error.data[0].reason)||404==$e$$.code||404==$e$$.status)){$id$$="#U"===$id$$.substring(0,2)?$id$$.substring(45,$id$$.lastIndexOf("%26ex")):$id$$.substring(2);this.showError($title$$,$msg$$,mxResources.get("openInNewWindow"),mxUtils.bind(this,function(){this.editor.graph.openLink("https://drive.google.com/open?id="+$id$$);this.handleError($resp$$,$title$$,$fn$$,$invokeFnOnClose$$,$notFoundMessage$$)}),$retry$$,mxResources.get("changeUser"),mxUtils.bind(this,
function(){this.spinner.spin(document.body,mxResources.get("loading"))&&(this.drive.clearUserId(),gapi.auth.signOut(),window.location.reload())}),mxResources.get("cancel"),mxUtils.bind(this,function(){window.location.hash=""}),480,150);return}}else $e$$.message?$msg$$=mxUtils.htmlEntities($e$$.message):$e$$.response&&$e$$.response.error?$msg$$=mxUtils.htmlEntities($e$$.response.error):window.App&&($e$$.code===App.ERROR_TIMEOUT?$msg$$=mxUtils.htmlEntities(mxResources.get("timeout")):$e$$.code==App.ERROR_BUSY&&
($msg$$=mxUtils.htmlEntities(mxResources.get("busy"))));this.showError($title$$,$msg$$,$btn$16$$,$fn$$,$retry$$,null,null,null,null,null,null,null,$invokeFnOnClose$$?$fn$$:null)}else $fn$$&&$fn$$()};EditorUi.prototype.showError=function $EditorUi$$showError$($dlg$jscomp$15_title$$,$msg$$,$btn$$,$fn$$,$retry$$,$btn2$$,$fn2$$,$btn3$$,$fn3$$,$w$$,$h$$,$hide$$,$onClose$$){var $height$$=$msg$$&&120<$msg$$.length?180:150;$dlg$jscomp$15_title$$=new ErrorDialog(this,$dlg$jscomp$15_title$$,$msg$$,$btn$$||
mxResources.get("ok"),$fn$$,$retry$$,$btn2$$,$fn2$$,$hide$$,$btn3$$,$fn3$$);this.showDialog($dlg$jscomp$15_title$$.container,$w$$||340,$h$$||$height$$,!0,!1,$onClose$$);$dlg$jscomp$15_title$$.init()};EditorUi.prototype.alert=function $EditorUi$$alert$($msg$$,$fn$$){var $dlg$$=new ErrorDialog(this,null,$msg$$,mxResources.get("ok"),$fn$$);this.showDialog($dlg$$.container,340,100,!0,!1);$dlg$$.init()};EditorUi.prototype.confirm=function $EditorUi$$confirm$($dlg$jscomp$17_msg$$,$okFn$$,$cancelFn$$,$okLabel$$,
$cancelLabel$$,$closable$$){var $resume$$=null!=this.spinner&&null!=this.spinner.pause?this.spinner.pause():function(){};$dlg$jscomp$17_msg$$=new ConfirmDialog(this,$dlg$jscomp$17_msg$$,function(){$resume$$();null!=$okFn$$&&$okFn$$()},function(){$resume$$();null!=$cancelFn$$&&$cancelFn$$()},$okLabel$$,$cancelLabel$$);this.showDialog($dlg$jscomp$17_msg$$.container,340,90,!0,$closable$$);$dlg$jscomp$17_msg$$.init()};EditorUi.prototype.setCurrentFile=function $EditorUi$$setCurrentFile$($file$$){$file$$&&
($file$$.opened=(new Date).getTime());this.currentFile=$file$$};EditorUi.prototype.getCurrentFile=function $EditorUi$$getCurrentFile$(){return this.currentFile};EditorUi.prototype.isExportToCanvas=function $EditorUi$$isExportToCanvas$(){return mxClient.IS_CHROMEAPP||!this.editor.graph.mathEnabled&&this.useCanvasForExport};EditorUi.prototype.createSvgDataUri=function $EditorUi$$createSvgDataUri$($svg$$){return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent($svg$$)))};EditorUi.prototype.createImageDataUri=
function $EditorUi$$createImageDataUri$($canvas$$,$xml$$,$format$$){var $data$$=$canvas$$.toDataURL("image/"+$format$$);if(6>=$data$$.length||$data$$==$canvas$$.cloneNode(!1).toDataURL("image/"+$format$$))throw{message:"Invalid image"};null!=$xml$$&&($data$$=this.writeGraphModelToPng($data$$,"zTXt","mxGraphModel",atob(Graph.compress($xml$$))));return $data$$};EditorUi.prototype.saveCanvas=function $EditorUi$$saveCanvas$($canvas$jscomp$12_data$$,$xml$$,$format$$){var $ext$$="jpeg"==$format$$?"jpg":
$format$$,$filename$$=this.getBaseFilename()+"."+$ext$$;$canvas$jscomp$12_data$$=this.createImageDataUri($canvas$jscomp$12_data$$,$xml$$,$format$$);this.saveData($filename$$,$ext$$,$canvas$jscomp$12_data$$.substring($canvas$jscomp$12_data$$.lastIndexOf(",")+1),"image/"+$format$$,!0)};EditorUi.prototype.isLocalFileSave=function $EditorUi$$isLocalFileSave$(){return"remote"!=urlParams.save&&(mxClient.IS_IE||"undefined"!==typeof window.Blob&&"undefined"!==typeof window.URL)&&9!=document.documentMode&&
8!=document.documentMode&&7!=document.documentMode&&!mxClient.IS_QUIRKS||this.isOfflineApp()||mxClient.IS_IOS};EditorUi.prototype.showTextDialog=function $EditorUi$$showTextDialog$($title$$,$text$$){var $dlg$$=new TextareaDialog(this,$title$$,$text$$,null,null,mxResources.get("close"));$dlg$$.textarea.style.width="600px";$dlg$$.textarea.style.height="380px";this.showDialog($dlg$$.container,620,460,!0,!0);$dlg$$.init();document.execCommand("selectall",!1,null)};EditorUi.prototype.doSaveLocalFile=function $EditorUi$$doSaveLocalFile$($blob$jscomp$7_data$$,
$filename$$,$mimeType$$,$base64Encoded$$,$format$$){if(window.Blob&&navigator.msSaveOrOpenBlob)$blob$jscomp$7_data$$=$base64Encoded$$?this.base64ToBlob($blob$jscomp$7_data$$,$mimeType$$):new Blob([$blob$jscomp$7_data$$],{type:$mimeType$$}),navigator.msSaveOrOpenBlob($blob$jscomp$7_data$$,$filename$$);else if(mxClient.IS_IE)$mimeType$$=window.open("about:blank","_blank"),null==$mimeType$$?mxUtils.popup($blob$jscomp$7_data$$,!0):($mimeType$$.document.write($blob$jscomp$7_data$$),$mimeType$$.document.close(),
$mimeType$$.document.execCommand("SaveAs",!0,$filename$$),$mimeType$$.close());else{var $a$$=document.createElement("a"),$useDownload$$=!mxClient.IS_SF&&0>navigator.userAgent.indexOf("PaleMoon/")&&"undefined"!==typeof $a$$.download;if(mxClient.IS_GC)var $raw$$=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),$useDownload$$=65==($raw$$?parseInt($raw$$[2],10):!1)?!1:$useDownload$$;if($useDownload$$||this.isOffline()){$a$$.href=URL.createObjectURL($base64Encoded$$?this.base64ToBlob($blob$jscomp$7_data$$,
$mimeType$$):new Blob([$blob$jscomp$7_data$$],{type:$mimeType$$}));$useDownload$$?$a$$.download=$filename$$:$a$$.setAttribute("target","_blank");document.body.appendChild($a$$);try{window.setTimeout(function(){URL.revokeObjectURL($a$$.href)},0),$a$$.click(),$a$$.parentNode.removeChild($a$$)}catch($e$$){}}else this.createEchoRequest($blob$jscomp$7_data$$,$filename$$,$mimeType$$,$base64Encoded$$,$format$$).simulate(document,"_blank")}};EditorUi.prototype.createEchoRequest=function $EditorUi$$createEchoRequest$($data$jscomp$83_param$$,
$filename$$,$mimeType$$,$base64Encoded$$,$format$$,$base64Response$$){$data$jscomp$83_param$$="xml="+encodeURIComponent($data$jscomp$83_param$$);return new mxXmlRequest(SAVE_URL,$data$jscomp$83_param$$+(null!=$mimeType$$?"&mime="+$mimeType$$:"")+(null!=$format$$?"&format="+$format$$:"")+(null!=$base64Response$$?"&base64="+$base64Response$$:"")+(null!=$filename$$?"&filename="+encodeURIComponent($filename$$):"")+($base64Encoded$$?"&binary=1":""))};EditorUi.prototype.base64ToBlob=function $EditorUi$$base64ToBlob$($base64Data$$,
$contentType$$){$contentType$$=$contentType$$||"";for(var $byteCharacters$$=atob($base64Data$$),$bytesLength$$=$byteCharacters$$.length,$slicesCount$$=Math.ceil($bytesLength$$/1024),$byteArrays$$=Array($slicesCount$$),$sliceIndex$$=0;$sliceIndex$$<$slicesCount$$;++$sliceIndex$$){for(var $begin$jscomp$3_offset$$=1024*$sliceIndex$$,$end$$=Math.min($begin$jscomp$3_offset$$+1024,$bytesLength$$),$bytes$$=Array($end$$-$begin$jscomp$3_offset$$),$i$$=0;$begin$jscomp$3_offset$$<$end$$;++$i$$,++$begin$jscomp$3_offset$$)$bytes$$[$i$$]=
$byteCharacters$$[$begin$jscomp$3_offset$$].charCodeAt(0);$byteArrays$$[$sliceIndex$$]=new Uint8Array($bytes$$)}return new Blob($byteArrays$$,{type:$contentType$$})};EditorUi.prototype.saveLocalFile=function $EditorUi$$saveLocalFile$($data$$,$dlg$jscomp$19_filename$$,$mimeType$$,$base64Encoded$$,$count$jscomp$12_format$$,$allowBrowser$$,$allowTab$$){$allowBrowser$$=null!=$allowBrowser$$?$allowBrowser$$:!1;$allowTab$$=null!=$allowTab$$?$allowTab$$:"vsdx"!=$count$jscomp$12_format$$&&(!mxClient.IS_IOS||
!navigator.standalone);$count$jscomp$12_format$$=this.getServiceCount($allowBrowser$$);$dlg$jscomp$19_filename$$=new CreateDialog(this,$dlg$jscomp$19_filename$$,mxUtils.bind(this,function($newTitle$$,$mode$$){try{if("_blank"==$mode$$)if(null==$mimeType$$||"image/"!=$mimeType$$.substring(0,6)||"image/svg"==$mimeType$$.substring(0,9)&&!mxClient.IS_SVG){var $win$$=window.open("about:blank");null==$win$$?mxUtils.popup($data$$,!0):($win$$.document.write(mxUtils.htmlEntities($data$$,!1)),$win$$.document.close())}else this.openInNewWindow($data$$,
$mimeType$$,$base64Encoded$$);else $mode$$==App.MODE_DEVICE||"download"==$mode$$?this.doSaveLocalFile($data$$,$newTitle$$,$mimeType$$,$base64Encoded$$):null!=$newTitle$$&&0<$newTitle$$.length&&this.pickFolder($mode$$,mxUtils.bind(this,function($folderId$$){try{this.exportFile($data$$,$newTitle$$,$mimeType$$,$base64Encoded$$,$mode$$,$folderId$$)}catch($e$$){this.handleError($e$$)}}))}catch($e$$){this.handleError($e$$)}}),mxUtils.bind(this,function(){this.hideDialog()}),mxResources.get("saveAs"),mxResources.get("download"),
!1,$allowBrowser$$,$allowTab$$,null,1<$count$jscomp$12_format$$,4<$count$jscomp$12_format$$&&(!$allowBrowser$$||6>$count$jscomp$12_format$$)?3:4,$data$$,$mimeType$$,$base64Encoded$$);this.showDialog($dlg$jscomp$19_filename$$.container,420,1==$count$jscomp$12_format$$?160:4<$count$jscomp$12_format$$?390:270,!0,!0);$dlg$jscomp$19_filename$$.init()};EditorUi.prototype.openInNewWindow=function $EditorUi$$openInNewWindow$($data$$,$mimeType$$,$base64Encoded$$){if(mxClient.IS_GC||mxClient.IS_EDGE||11==document.documentMode||
10==document.documentMode){var $win$$=window.open("about:blank");null==$win$$||null==$win$$.document?mxUtils.popup($data$$,!0):("image/svg+xml"==$mimeType$$?$win$$.document.write("<html>"+$data$$+"</html>"):$win$$.document.write('<html><img src="data:'+$mimeType$$+($base64Encoded$$?";base64,"+$data$$:";charset=utf8,"+encodeURIComponent($data$$))+'"/></html>'),$win$$.document.close())}else $win$$=window.open("data:"+$mimeType$$+($base64Encoded$$?";base64,"+$data$$:";charset=utf8,"+encodeURIComponent($data$$))),
null!=$win$$&&null!=$win$$.document||mxUtils.popup($data$$,!0)};var $editoUiAddChromelessToolbarItems$$=EditorUi.prototype.addChromelessToolbarItems;EditorUi.prototype.addChromelessToolbarItems=function $EditorUi$$addChromelessToolbarItems$($addButton$$){if(this.isExportToCanvas()){this.exportDialog=null;var $exportButton$$=$addButton$$(mxUtils.bind(this,function($evt$$){var $clickHandler$$=mxUtils.bind(this,function(){mxEvent.removeListener(this.editor.graph.container,"click",$clickHandler$$);null!=
this.exportDialog&&(this.exportDialog.parentNode.removeChild(this.exportDialog),this.exportDialog=null)});if(null!=this.exportDialog)$clickHandler$$.apply(this);else{this.exportDialog=document.createElement("div");var $r$jscomp$8_style$$=$exportButton$$.getBoundingClientRect();mxUtils.setPrefixedStyle(this.exportDialog.style,"borderRadius","5px");this.exportDialog.style.position="fixed";this.exportDialog.style.textAlign="center";this.exportDialog.style.fontFamily="Helvetica,Arial";this.exportDialog.style.backgroundColor=
"#000000";this.exportDialog.style.width="50px";this.exportDialog.style.height="50px";this.exportDialog.style.padding="4px 2px 4px 2px";this.exportDialog.style.color="#ffffff";mxUtils.setOpacity(this.exportDialog,70);this.exportDialog.style.left=$r$jscomp$8_style$$.left+"px";this.exportDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";$r$jscomp$8_style$$=mxUtils.getCurrentStyle(this.editor.graph.container);this.exportDialog.style.zIndex=$r$jscomp$8_style$$.zIndex;
var $spinner$$=new Spinner({lines:8,length:6,width:5,radius:6,rotate:0,color:"#fff",speed:1.5,trail:60,shadow:!1,hwaccel:!1,top:"28px",zIndex:2E9});$spinner$$.spin(this.exportDialog);this.exportToCanvas(mxUtils.bind(this,function($canvas$jscomp$13_img$$){$spinner$$.stop();this.exportDialog.style.width="auto";this.exportDialog.style.height="auto";this.exportDialog.style.padding="10px";var $data$$=this.createImageDataUri($canvas$jscomp$13_img$$,null,"png");$canvas$jscomp$13_img$$=document.createElement("img");
$canvas$jscomp$13_img$$.style.maxWidth="140px";$canvas$jscomp$13_img$$.style.maxHeight="140px";$canvas$jscomp$13_img$$.style.cursor="pointer";$canvas$jscomp$13_img$$.style.backgroundColor="white";$canvas$jscomp$13_img$$.setAttribute("title",mxResources.get("openInNewWindow"));$canvas$jscomp$13_img$$.setAttribute("border","0");$canvas$jscomp$13_img$$.setAttribute("src",$data$$);this.exportDialog.appendChild($canvas$jscomp$13_img$$);mxEvent.addListener($canvas$jscomp$13_img$$,"click",mxUtils.bind(this,
function(){this.openInNewWindow($data$$.substring($data$$.indexOf(",")+1),"image/png",!0);$clickHandler$$.apply(this,arguments)}))}),null,this.thumbImageCache,null,mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$)}));mxEvent.addListener(this.editor.graph.container,"click",$clickHandler$$);document.body.appendChild(this.exportDialog)}mxEvent.consume($evt$$)}),Editor.cameraLargeImage,mxResources.get("export"))}$editoUiAddChromelessToolbarItems$$.apply(this,arguments)};EditorUi.prototype.saveData=
function $EditorUi$$saveData$($filename$$,$format$$,$data$$,$mime$$,$base64Encoded$$){this.isLocalFileSave()?this.saveLocalFile($data$$,$filename$$,$mime$$,$base64Encoded$$,$format$$):this.saveRequest($filename$$,$format$$,mxUtils.bind(this,function($newTitle$$,$base64$$){return this.createEchoRequest($data$$,$newTitle$$,$mime$$,$base64Encoded$$,$format$$,$base64$$)}),$data$$,$base64Encoded$$,$mime$$)};EditorUi.prototype.saveRequest=function $EditorUi$$saveRequest$($dlg$jscomp$20_filename$$,$format$$,
$fn$$,$data$$,$base64Encoded$$,$mimeType$$,$allowTab$$){$allowTab$$=null!=$allowTab$$?$allowTab$$:!mxClient.IS_IOS||!navigator.standalone;var $count$$=this.getServiceCount(!1);$dlg$jscomp$20_filename$$=new CreateDialog(this,$dlg$jscomp$20_filename$$,mxUtils.bind(this,function($newTitle$$,$mode$$){if("_blank"==$mode$$||null!=$newTitle$$&&0<$newTitle$$.length){var $xhr$$=$fn$$("_blank"==$mode$$?null:$newTitle$$,$mode$$==App.MODE_DEVICE||"download"==$mode$$||null==$mode$$||"_blank"==$mode$$?"0":"1");
null!=$xhr$$&&($mode$$==App.MODE_DEVICE||"download"==$mode$$||"_blank"==$mode$$?$xhr$$.simulate(document,"_blank"):this.pickFolder($mode$$,mxUtils.bind(this,function($folderId$$){$mimeType$$=null!=$mimeType$$?$mimeType$$:"pdf"==$format$$?"application/pdf":"image/"+$format$$;if(null!=$data$$)try{this.exportFile($data$$,$newTitle$$,$mimeType$$,!0,$mode$$,$folderId$$)}catch($e$$){this.handleError($e$$)}else this.spinner.spin(document.body,mxResources.get("saving"))&&$xhr$$.send(mxUtils.bind(this,function(){this.spinner.stop();
if(200<=$xhr$$.getStatus()&&299>=$xhr$$.getStatus())try{this.exportFile($xhr$$.getText(),$newTitle$$,$mimeType$$,!0,$mode$$,$folderId$$)}catch($e$17$$){this.handleError($e$17$$)}else this.handleError({message:mxResources.get("errorSavingFile")})}),function($resp$$){this.spinner.stop();this.handleError($resp$$)})})))}}),mxUtils.bind(this,function(){this.hideDialog()}),mxResources.get("saveAs"),mxResources.get("download"),!1,!1,$allowTab$$,null,1<$count$$,4<$count$$?3:4,$data$$,$mimeType$$,$base64Encoded$$);
this.showDialog($dlg$jscomp$20_filename$$.container,380,1==$count$$?160:4<$count$$?390:270,!0,!0);$dlg$jscomp$20_filename$$.init()};EditorUi.prototype.getEditBlankXml=function $EditorUi$$getEditBlankXml$(){return this.getFileData(!0)};EditorUi.prototype.exportFile=function $EditorUi$$exportFile$($data$$,$filename$$,$mimeType$$,$base64Encoded$$,$mode$$,$folderId$$){};EditorUi.prototype.pickFolder=function $EditorUi$$pickFolder$($mode$$,$fn$$,$enabled$$){$fn$$(null)};EditorUi.prototype.exportSvg=function $EditorUi$$exportSvg$($scale$$,
$transparentBackground$$,$ignoreSelection$$,$addShadow$$,$editable$$,$embedImages$$,$border$$,$noCrop$$,$currentPage$$,$linkTarget$$){if(this.spinner.spin(document.body,mxResources.get("export"))){var $bg$jscomp$11_selectionEmpty$$=this.editor.graph.isSelectionEmpty();$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:$bg$jscomp$11_selectionEmpty$$;$bg$jscomp$11_selectionEmpty$$=$transparentBackground$$?null:this.editor.graph.background;$bg$jscomp$11_selectionEmpty$$==mxConstants.NONE&&
($bg$jscomp$11_selectionEmpty$$=null);null==$bg$jscomp$11_selectionEmpty$$&&0==$transparentBackground$$&&($bg$jscomp$11_selectionEmpty$$="#ffffff");var $svgRoot$jscomp$0$$=this.editor.graph.getSvg($bg$jscomp$11_selectionEmpty$$,$scale$$,$border$$,$noCrop$$,null,$ignoreSelection$$,null,null,"blank"==$linkTarget$$?"_blank":"self"==$linkTarget$$?"_top":null);$addShadow$$&&this.editor.graph.addSvgShadow($svgRoot$jscomp$0$$);var $filename$$=this.getBaseFilename()+".svg",$doSave$$=mxUtils.bind(this,function($svgRoot$$){this.spinner.stop();
$editable$$&&$svgRoot$$.setAttribute("content",this.getFileData(!0,null,null,null,$ignoreSelection$$,$currentPage$$));if(null!=this.editor.fontCss){var $style$jscomp$41_svgDoc$$=$svgRoot$$.ownerDocument,$style$jscomp$41_svgDoc$$=null!=$style$jscomp$41_svgDoc$$.createElementNS?$style$jscomp$41_svgDoc$$.createElementNS(mxConstants.NS_SVG,"style"):$style$jscomp$41_svgDoc$$.createElement("style");$style$jscomp$41_svgDoc$$.setAttribute("type","text/css");mxUtils.setTextContent($style$jscomp$41_svgDoc$$,
this.editor.fontCss);$svgRoot$$.getElementsByTagName("defs")[0].appendChild($style$jscomp$41_svgDoc$$)}var $svg$$='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+mxUtils.getXml($svgRoot$$);this.isLocalFileSave()||$svg$$.length<=MAX_REQUEST_SIZE?this.saveData($filename$$,"svg",$svg$$,"image/svg+xml"):this.handleError({message:mxResources.get("drawingTooLarge")},mxResources.get("error"),mxUtils.bind(this,function(){mxUtils.popup($svg$$)}))});this.convertMath(this.editor.graph,
$svgRoot$jscomp$0$$,!1,mxUtils.bind(this,function(){$embedImages$$?(null==this.thumbImageCache&&(this.thumbImageCache={}),this.convertImages($svgRoot$jscomp$0$$,$doSave$$,this.thumbImageCache)):$doSave$$($svgRoot$jscomp$0$$)}))}};EditorUi.prototype.addRadiobox=function $EditorUi$$addRadiobox$($div$$,$radioGroupName$$,$label$$,$checked$$,$disabled$$,$disableNewline$$,$visible$$){return this.addCheckbox($div$$,$label$$,$checked$$,$disabled$$,$disableNewline$$,$visible$$,!0,$radioGroupName$$)};EditorUi.prototype.addCheckbox=
function $EditorUi$$addCheckbox$($div$$,$label$$,$checked$$,$disabled$$,$disableNewline$$,$visible$$,$asRadio_id$$,$radioGroupName$$){$visible$$=null!=$visible$$?$visible$$:!0;var $cb$$=document.createElement("input");$cb$$.style.marginRight="8px";$cb$$.style.marginTop="16px";$cb$$.setAttribute("type",$asRadio_id$$?"radio":"checkbox");$asRadio_id$$="geCheckbox-"+Editor.guid();$cb$$.id=$asRadio_id$$;null!=$radioGroupName$$&&$cb$$.setAttribute("name",$radioGroupName$$);$checked$$&&($cb$$.setAttribute("checked",
"checked"),$cb$$.defaultChecked=!0);$disabled$$&&$cb$$.setAttribute("disabled","disabled");$visible$$&&($div$$.appendChild($cb$$),$checked$$=document.createElement("label"),mxUtils.write($checked$$,$label$$),$checked$$.setAttribute("for",$asRadio_id$$),$div$$.appendChild($checked$$),$disableNewline$$||mxUtils.br($div$$));return $cb$$};EditorUi.prototype.addEditButton=function $EditorUi$$addEditButton$($div$$,$lightbox$$){var $edit$$=this.addCheckbox($div$$,mxResources.get("edit")+":",!0,null,!0);
$edit$$.style.marginLeft="24px";var $blankOption_customOption_file$$=this.getCurrentFile(),$editUrl$$="";null!=$blankOption_customOption_file$$&&$blankOption_customOption_file$$.getMode()!=App.MODE_DEVICE&&$blankOption_customOption_file$$.getMode()!=App.MODE_BROWSER&&($editUrl$$=window.location.href);var $editSelect$$=document.createElement("select");$editSelect$$.style.width="120px";$editSelect$$.style.marginLeft="8px";$editSelect$$.style.marginRight="10px";$editSelect$$.className="geBtn";$blankOption_customOption_file$$=
document.createElement("option");$blankOption_customOption_file$$.setAttribute("value","blank");mxUtils.write($blankOption_customOption_file$$,mxResources.get("makeCopy"));$editSelect$$.appendChild($blankOption_customOption_file$$);$blankOption_customOption_file$$=document.createElement("option");$blankOption_customOption_file$$.setAttribute("value","custom");mxUtils.write($blankOption_customOption_file$$,mxResources.get("custom")+"...");$editSelect$$.appendChild($blankOption_customOption_file$$);
$div$$.appendChild($editSelect$$);mxEvent.addListener($editSelect$$,"change",mxUtils.bind(this,function(){if("custom"==$editSelect$$.value){var $dlg2$$=new FilenameDialog(this,$editUrl$$,mxResources.get("ok"),function($value$$){null!=$value$$?$editUrl$$=$value$$:$editSelect$$.value="blank"},mxResources.get("url"),null,null,null,null,function(){$editSelect$$.value="blank"});this.showDialog($dlg2$$.container,300,80,!0,!1);$dlg2$$.init()}}));mxEvent.addListener($edit$$,"change",mxUtils.bind(this,function(){$edit$$.checked&&
(null==$lightbox$$||$lightbox$$.checked)?$editSelect$$.removeAttribute("disabled"):$editSelect$$.setAttribute("disabled","disabled")}));mxUtils.br($div$$);return{getLink:function(){return $edit$$.checked?"blank"===$editSelect$$.value?"_blank":$editUrl$$:null},getEditInput:function(){return $edit$$},getEditSelect:function(){return $editSelect$$}}};EditorUi.prototype.addLinkSection=function $EditorUi$$addLinkSection$($div$$,$showFrameOption$$){function $updateLinkColor$$(){$linkButton$$.innerHTML='<div style="width:100%;height:100%;box-sizing:border-box;'+
(null!=$linkColor$$&&$linkColor$$!=mxConstants.NONE?"border:1px solid black;background-color:"+$linkColor$$:"background-position:center center;background-repeat:no-repeat;background-image:url('"+Dialog.prototype.closeImage+"')")+';"></div>'}mxUtils.write($div$$,mxResources.get("links")+":");var $linkSelect$$=document.createElement("select");$linkSelect$$.style.width="100px";$linkSelect$$.style.marginLeft="8px";$linkSelect$$.style.marginRight="10px";$linkSelect$$.className="geBtn";var $autoOption_blankOption$$=
document.createElement("option");$autoOption_blankOption$$.setAttribute("value","auto");mxUtils.write($autoOption_blankOption$$,mxResources.get("automatic"));$linkSelect$$.appendChild($autoOption_blankOption$$);$autoOption_blankOption$$=document.createElement("option");$autoOption_blankOption$$.setAttribute("value","blank");mxUtils.write($autoOption_blankOption$$,mxResources.get("openInNewWindow"));$linkSelect$$.appendChild($autoOption_blankOption$$);$autoOption_blankOption$$=document.createElement("option");
$autoOption_blankOption$$.setAttribute("value","self");mxUtils.write($autoOption_blankOption$$,mxResources.get("openInThisWindow"));$linkSelect$$.appendChild($autoOption_blankOption$$);$showFrameOption$$&&($autoOption_blankOption$$=document.createElement("option"),$autoOption_blankOption$$.setAttribute("value","frame"),mxUtils.write($autoOption_blankOption$$,mxResources.get("openInThisWindow")+" ("+mxResources.get("iframe")+")"),$linkSelect$$.appendChild($autoOption_blankOption$$));$div$$.appendChild($linkSelect$$);
mxUtils.write($div$$,mxResources.get("borderColor")+":");var $linkColor$$="#0000ff",$linkButton$$=null,$linkButton$$=mxUtils.button("",mxUtils.bind(this,function($evt$$){this.pickColor($linkColor$$||"none",function($color$$){$linkColor$$=$color$$;$updateLinkColor$$()});mxEvent.consume($evt$$)}));$updateLinkColor$$();$linkButton$$.style.padding=mxClient.IS_FF?"4px 2px 4px 2px":"4px";$linkButton$$.style.marginLeft="4px";$linkButton$$.style.height="22px";$linkButton$$.style.width="22px";$linkButton$$.style.position=
"relative";$linkButton$$.style.top=mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE?"6px":"1px";$linkButton$$.className="geColorBtn";$div$$.appendChild($linkButton$$);mxUtils.br($div$$);return{getColor:function(){return $linkColor$$},getTarget:function(){return $linkSelect$$.value},focus:function(){$linkSelect$$.focus()}}};EditorUi.prototype.createLink=function $EditorUi$$createLink$($addTitle_linkTarget$$,$linkColor$$,$allPages$jscomp$1_data$$,$lightbox$$,$editLink$$,$layers$$,$url$$,$ignoreFile$$){var $file$$=
this.getCurrentFile(),$params$$=[];$lightbox$$&&($params$$.push("lightbox=1"),"auto"!=$addTitle_linkTarget$$&&$params$$.push("target="+$addTitle_linkTarget$$),null!=$linkColor$$&&$linkColor$$!=mxConstants.NONE&&$params$$.push("highlight="+("#"==$linkColor$$.charAt(0)?$linkColor$$.substring(1):$linkColor$$)),null!=$editLink$$&&0<$editLink$$.length&&$params$$.push("edit="+encodeURIComponent($editLink$$)),$layers$$&&$params$$.push("layers=1"),this.editor.graph.foldingEnabled&&$params$$.push("nav=1"));
$allPages$jscomp$1_data$$&&null!=this.currentPage&&null!=this.pages&&this.currentPage!=this.pages[0]&&$params$$.push("page-id="+this.currentPage.getId());$addTitle_linkTarget$$=!0;null!=$url$$?$allPages$jscomp$1_data$$="#U"+encodeURIComponent($url$$):($file$$=this.getCurrentFile(),$ignoreFile$$||null==$file$$||$file$$.constructor!=window.DriveFile?$allPages$jscomp$1_data$$="#R"+encodeURIComponent($allPages$jscomp$1_data$$?this.getFileData(!0,null,null,null,null,null,null,!0):Graph.compress(mxUtils.getXml(this.editor.getGraphXml()))):
($allPages$jscomp$1_data$$="#"+$file$$.getHash(),$addTitle_linkTarget$$=!1));$addTitle_linkTarget$$&&null!=$file$$&&null!=$file$$.getTitle()&&$file$$.getTitle()!=this.defaultFilename&&$params$$.push("title="+encodeURIComponent($file$$.getTitle()));return(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||!/.*\.draw\.io$/.test(window.location.hostname)?EditorUi.drawHost:"https://"+window.location.host+"/")+(0<$params$$.length?"?"+$params$$.join("&"):"")+$allPages$jscomp$1_data$$};EditorUi.prototype.createHtml=
function $EditorUi$$createHtml$($fetchParam_publicUrl$$,$value$$,$initialZoom_tb$$,$linkTarget$$,$linkColor$$,$fit$$,$allPages$$,$layers$$,$lightbox$$,$editLink$$,$fn$$){this.getBasenames();var $data$$={};""!=$linkColor$$&&$linkColor$$!=mxConstants.NONE&&($data$$.highlight=$linkColor$$);"auto"!==$linkTarget$$&&($data$$.target=$linkTarget$$);$lightbox$$||($data$$.lightbox=!1);$data$$.nav=this.editor.graph.foldingEnabled;$initialZoom_tb$$=parseInt($initialZoom_tb$$);isNaN($initialZoom_tb$$)||100==$initialZoom_tb$$||
($data$$.zoom=$initialZoom_tb$$/100);$initialZoom_tb$$=[];$allPages$$&&($initialZoom_tb$$.push("pages"),$data$$.resize=!0,null!=this.pages&&null!=this.currentPage&&($data$$.page=mxUtils.indexOf(this.pages,this.currentPage)));$value$$&&($initialZoom_tb$$.push("zoom"),$data$$.resize=!0);$layers$$&&$initialZoom_tb$$.push("layers");0<$initialZoom_tb$$.length&&($lightbox$$&&$initialZoom_tb$$.push("lightbox"),$data$$.toolbar=$initialZoom_tb$$.join(" "));null!=$editLink$$&&0<$editLink$$.length&&($data$$.edit=
$editLink$$);null!=$fetchParam_publicUrl$$?$data$$.url=$fetchParam_publicUrl$$:$data$$.xml=this.getFileData(!0,null,null,null,null,!$allPages$$);$value$$='<div class="mxgraph" style="'+($fit$$?"max-width:100%;":"")+(""!=$initialZoom_tb$$?"border:1px solid transparent;":"")+'" data-mxgraph="'+mxUtils.htmlEntities(JSON.stringify($data$$))+'"></div>';$fetchParam_publicUrl$$=null!=$fetchParam_publicUrl$$?"&fetch="+encodeURIComponent($fetchParam_publicUrl$$):"";$fn$$($value$$,'<script type="text/javascript" src="'+
(0<$fetchParam_publicUrl$$.length?("1"==urlParams.dev?"https://test.draw.io/embed2.js?dev=1":EditorUi.drawHost+"/embed2.js?")+$fetchParam_publicUrl$$:"1"==urlParams.dev?"https://test.draw.io/js/viewer.min.js":window.VIEWER_URL?window.VIEWER_URL:EditorUi.drawHost+"/js/viewer.min.js")+'">\x3c/script>')};EditorUi.prototype.showHtmlDialog=function $EditorUi$$showHtmlDialog$($btnLabel$jscomp$1_dlg$$,$helpLink$$,$publicUrl$$,$fn$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";
var $copyRadio_hd$$=document.createElement("h3");mxUtils.write($copyRadio_hd$$,mxResources.get("html"));$copyRadio_hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";$div$$.appendChild($copyRadio_hd$$);var $hasPages_radioSection$$=document.createElement("div");$hasPages_radioSection$$.style.cssText="border-bottom:1px solid lightGray;padding-bottom:8px;margin-bottom:12px;";var $publicUrlRadio$$=document.createElement("input");$publicUrlRadio$$.style.cssText="margin-right:8px;margin-top:8px;margin-bottom:8px;";
$publicUrlRadio$$.setAttribute("value","url");$publicUrlRadio$$.setAttribute("type","radio");$publicUrlRadio$$.setAttribute("name","type-embedhtmldialog");$copyRadio_hd$$=$publicUrlRadio$$.cloneNode(!0);$copyRadio_hd$$.setAttribute("value","copy");$hasPages_radioSection$$.appendChild($copyRadio_hd$$);var $span$$=document.createElement("span");mxUtils.write($span$$,mxResources.get("includeCopyOfMyDiagram"));$hasPages_radioSection$$.appendChild($span$$);mxUtils.br($hasPages_radioSection$$);$hasPages_radioSection$$.appendChild($publicUrlRadio$$);
$span$$=document.createElement("span");mxUtils.write($span$$,mxResources.get("publicDiagramUrl"));$hasPages_radioSection$$.appendChild($span$$);var $file$$=this.getCurrentFile();null==$publicUrl$$&&null!=$file$$&&$file$$.constructor==window.DriveFile&&($span$$=document.createElement("a"),$span$$.style.paddingLeft="12px",$span$$.style.color="gray",$span$$.setAttribute("href","javascript:void(0);"),mxUtils.write($span$$,mxResources.get("share")),$hasPages_radioSection$$.appendChild($span$$),mxEvent.addListener($span$$,
"click",mxUtils.bind(this,function(){this.hideDialog();this.drive.showPermissions($file$$.getId())})));$copyRadio_hd$$.setAttribute("checked","checked");null==$publicUrl$$&&$publicUrlRadio$$.setAttribute("disabled","disabled");$div$$.appendChild($hasPages_radioSection$$);var $linkSection$$=this.addLinkSection($div$$),$zoom$$=this.addCheckbox($div$$,mxResources.get("zoom"),!0,null,!0);mxUtils.write($div$$,":");var $zoomInput$$=document.createElement("input");$zoomInput$$.setAttribute("type","text");
$zoomInput$$.style.marginRight="16px";$zoomInput$$.style.width="60px";$zoomInput$$.style.marginLeft="4px";$zoomInput$$.style.marginRight="12px";$zoomInput$$.value="100%";$div$$.appendChild($zoomInput$$);var $fit$$=this.addCheckbox($div$$,mxResources.get("fit"),!0),$hasPages_radioSection$$=null!=this.pages&&1<this.pages.length,$allPages$$=$allPages$$=this.addCheckbox($div$$,mxResources.get("allPages"),$hasPages_radioSection$$,!$hasPages_radioSection$$),$layers$$=this.addCheckbox($div$$,mxResources.get("layers"),
!0),$lightbox$$=this.addCheckbox($div$$,mxResources.get("lightbox"),!0),$editSection$$=this.addEditButton($div$$,$lightbox$$),$edit$$=$editSection$$.getEditInput();$edit$$.style.marginBottom="16px";mxEvent.addListener($lightbox$$,"change",function(){$lightbox$$.checked?$edit$$.removeAttribute("disabled"):$edit$$.setAttribute("disabled","disabled");$edit$$.checked&&$lightbox$$.checked?$editSection$$.getEditSelect().removeAttribute("disabled"):$editSection$$.getEditSelect().setAttribute("disabled",
"disabled")});$btnLabel$jscomp$1_dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$fn$$($publicUrlRadio$$.checked?$publicUrl$$:null,$zoom$$.checked,$zoomInput$$.value,$linkSection$$.getTarget(),$linkSection$$.getColor(),$fit$$.checked,$allPages$$.checked,$layers$$.checked,$lightbox$$.checked,$editSection$$.getLink())}),null,$btnLabel$jscomp$1_dlg$$,$helpLink$$);this.showDialog($btnLabel$jscomp$1_dlg$$.container,340,384,!0,!0);$copyRadio_hd$$.focus()};EditorUi.prototype.showPublishLinkDialog=
function $EditorUi$$showPublishLinkDialog$($dy$jscomp$49_title$$,$dlg$$,$hasPages$jscomp$1_width$$,$height$$,$fn$$,$showFrameOption$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";var $hd$jscomp$3_helpLink$$=document.createElement("h3");mxUtils.write($hd$jscomp$3_helpLink$$,$dy$jscomp$49_title$$||mxResources.get("link"));$hd$jscomp$3_helpLink$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";$div$$.appendChild($hd$jscomp$3_helpLink$$);var $file$$=
this.getCurrentFile(),$hd$jscomp$3_helpLink$$="https://desk.draw.io/support/solutions/articles/16000051941";$dy$jscomp$49_title$$=0;if(null!=$file$$&&$file$$.constructor==window.DriveFile&&!$dlg$$){$dy$jscomp$49_title$$=80;var $hd$jscomp$3_helpLink$$="https://desk.draw.io/support/solutions/articles/16000039384",$hintSection$$=document.createElement("div");$hintSection$$.style.cssText="border-bottom:1px solid lightGray;padding-bottom:14px;padding-top:6px;margin-bottom:14px;text-align:center;";var $shareBtn_testLink$jscomp$1_text$$=
document.createElement("div");$shareBtn_testLink$jscomp$1_text$$.style.whiteSpace="normal";mxUtils.write($shareBtn_testLink$jscomp$1_text$$,mxResources.get("linkAccountRequired"));$hintSection$$.appendChild($shareBtn_testLink$jscomp$1_text$$);$shareBtn_testLink$jscomp$1_text$$=mxUtils.button(mxResources.get("share"),mxUtils.bind(this,function(){this.drive.showPermissions($file$$.getId())}));$shareBtn_testLink$jscomp$1_text$$.style.marginTop="12px";$shareBtn_testLink$jscomp$1_text$$.className="geBtn";
$hintSection$$.appendChild($shareBtn_testLink$jscomp$1_text$$);$div$$.appendChild($hintSection$$);$shareBtn_testLink$jscomp$1_text$$=document.createElement("a");$shareBtn_testLink$jscomp$1_text$$.style.paddingLeft="12px";$shareBtn_testLink$jscomp$1_text$$.style.color="gray";$shareBtn_testLink$jscomp$1_text$$.style.fontSize="11px";$shareBtn_testLink$jscomp$1_text$$.setAttribute("href","javascript:void(0);");mxUtils.write($shareBtn_testLink$jscomp$1_text$$,mxResources.get("check"));$hintSection$$.appendChild($shareBtn_testLink$jscomp$1_text$$);
mxEvent.addListener($shareBtn_testLink$jscomp$1_text$$,"click",mxUtils.bind(this,function(){this.spinner.spin(document.body,mxResources.get("loading"))&&this.getPublicUrl(this.getCurrentFile(),mxUtils.bind(this,function($dlg$jscomp$23_url$$){this.spinner.stop();$dlg$jscomp$23_url$$=new ErrorDialog(this,null,mxResources.get(null!=$dlg$jscomp$23_url$$?"diagramIsPublic":"diagramIsNotPublic"),mxResources.get("ok"));this.showDialog($dlg$jscomp$23_url$$.container,300,80,!0,!1);$dlg$jscomp$23_url$$.init()}))}))}var $widthInput$$=
null,$heightInput$$=null;if(null!=$hasPages$jscomp$1_width$$||null!=$height$$)$dy$jscomp$49_title$$+=30,mxUtils.write($div$$,mxResources.get("width")+":"),$widthInput$$=document.createElement("input"),$widthInput$$.setAttribute("type","text"),$widthInput$$.style.marginRight="16px",$widthInput$$.style.width="50px",$widthInput$$.style.marginLeft="6px",$widthInput$$.style.marginRight="16px",$widthInput$$.style.marginBottom="10px",$widthInput$$.value="100%",$div$$.appendChild($widthInput$$),mxUtils.write($div$$,
mxResources.get("height")+":"),$heightInput$$=document.createElement("input"),$heightInput$$.setAttribute("type","text"),$heightInput$$.style.width="50px",$heightInput$$.style.marginLeft="6px",$heightInput$$.style.marginBottom="10px",$heightInput$$.value=$height$$+"px",$div$$.appendChild($heightInput$$),mxUtils.br($div$$);var $linkSection$$=this.addLinkSection($div$$,$showFrameOption$$);$hasPages$jscomp$1_width$$=null!=this.pages&&1<this.pages.length;var $allPages$$=null;if(null==$file$$||$file$$.constructor!=
window.DriveFile||$dlg$$)$allPages$$=this.addCheckbox($div$$,mxResources.get("allPages"),$hasPages$jscomp$1_width$$,!$hasPages$jscomp$1_width$$);var $lightbox$$=this.addCheckbox($div$$,mxResources.get("lightbox"),!0),$editSection$$=this.addEditButton($div$$,$lightbox$$),$edit$$=$editSection$$.getEditInput(),$layers$$=this.addCheckbox($div$$,mxResources.get("layers"),!0);$layers$$.style.marginLeft=$edit$$.style.marginLeft;$layers$$.style.marginBottom="16px";$layers$$.style.marginTop="8px";mxEvent.addListener($lightbox$$,
"change",function(){$lightbox$$.checked?($layers$$.removeAttribute("disabled"),$edit$$.removeAttribute("disabled")):($layers$$.setAttribute("disabled","disabled"),$edit$$.setAttribute("disabled","disabled"));$edit$$.checked&&$lightbox$$.checked?$editSection$$.getEditSelect().removeAttribute("disabled"):$editSection$$.getEditSelect().setAttribute("disabled","disabled")});$dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$fn$$($linkSection$$.getTarget(),$linkSection$$.getColor(),null==
$allPages$$?!0:$allPages$$.checked,$lightbox$$.checked,$editSection$$.getLink(),$layers$$.checked,null!=$widthInput$$?$widthInput$$.value:null,null!=$heightInput$$?$heightInput$$.value:null)}),null,mxResources.get("create"),$hd$jscomp$3_helpLink$$);this.showDialog($dlg$$.container,340,254+$dy$jscomp$49_title$$,!0,!0);null!=$widthInput$$?($widthInput$$.focus(),mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode||mxClient.IS_QUIRKS?$widthInput$$.select():document.execCommand("selectAll",!1,null)):
$linkSection$$.focus()};EditorUi.prototype.showRemoteExportDialog=function $EditorUi$$showRemoteExportDialog$($btnLabel$jscomp$2_dlg$$,$helpLink$$,$callback$$,$hideInclude$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";var $graph$jscomp$55_hd$$=document.createElement("h3");mxUtils.write($graph$jscomp$55_hd$$,mxResources.get("image"));$graph$jscomp$55_hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:4px";$div$$.appendChild($graph$jscomp$55_hd$$);
var $selection$$=this.addCheckbox($div$$,mxResources.get("selectionOnly"),!1,this.editor.graph.isSelectionEmpty()),$include$$=$hideInclude$$?null:this.addCheckbox($div$$,mxResources.get("includeCopyOfMyDiagram"),!0),$graph$jscomp$55_hd$$=this.editor.graph,$transparent$$=$hideInclude$$?null:this.addCheckbox($div$$,mxResources.get("transparentBackground"),$graph$jscomp$55_hd$$.background==mxConstants.NONE||null==$graph$jscomp$55_hd$$.background);null!=$transparent$$&&($transparent$$.style.marginBottom=
"16px");$btnLabel$jscomp$2_dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$callback$$(!$selection$$.checked,null!=$include$$?$include$$.checked:!1,null!=$transparent$$?$transparent$$.checked:!1)}),null,$btnLabel$jscomp$2_dlg$$,$helpLink$$);this.showDialog($btnLabel$jscomp$2_dlg$$.container,300,$hideInclude$$?100:186,!0,!0)};EditorUi.prototype.showExportDialog=function $EditorUi$$showExportDialog$($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$,$embedOption$$,
$btnLabel$jscomp$3_dlg$$,$helpLink$$,$callback$$,$cropOption$$,$defaultInclude$$,$format$$){$defaultInclude$$=null!=$defaultInclude$$?$defaultInclude$$:!0;var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";var $graph$$=this.editor.graph,$height$$="jpeg"==$format$$?196:300,$hd$$=document.createElement("h3");mxUtils.write($hd$$,$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$);$hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:10px";
$div$$.appendChild($hd$$);mxUtils.write($div$$,mxResources.get("zoom")+":");var $zoomInput$$=document.createElement("input");$zoomInput$$.setAttribute("type","text");$zoomInput$$.style.marginRight="16px";$zoomInput$$.style.width="60px";$zoomInput$$.style.marginLeft="4px";$zoomInput$$.style.marginRight="12px";$zoomInput$$.value=this.lastExportZoom||"100%";$div$$.appendChild($zoomInput$$);mxUtils.write($div$$,mxResources.get("borderWidth")+":");var $borderInput$$=document.createElement("input");$borderInput$$.setAttribute("type",
"text");$borderInput$$.style.marginRight="16px";$borderInput$$.style.width="60px";$borderInput$$.style.marginLeft="4px";$borderInput$$.value=this.lastExportBorder||"0";$div$$.appendChild($borderInput$$);mxUtils.br($div$$);var $transparent$$=this.addCheckbox($div$$,mxResources.get("transparentBackground"),!1,null,null,"jpeg"!=$format$$),$selection$$=this.addCheckbox($div$$,mxResources.get("selectionOnly"),!1,$graph$$.isSelectionEmpty()),$cb6$$=document.createElement("input");$cb6$$.style.marginTop=
"16px";$cb6$$.style.marginRight="8px";$cb6$$.style.marginLeft="24px";$cb6$$.setAttribute("disabled","disabled");$cb6$$.setAttribute("type","checkbox");$cropOption$$&&($div$$.appendChild($cb6$$),mxUtils.write($div$$,mxResources.get("crop")),mxUtils.br($div$$),$height$$+=26,mxEvent.addListener($selection$$,"change",function(){$selection$$.checked?$cb6$$.removeAttribute("disabled"):$cb6$$.setAttribute("disabled","disabled")}));$graph$$.isSelectionEmpty()||($cb6$$.setAttribute("checked","checked"),$cb6$$.defaultChecked=
!0);var $shadow$$=this.addCheckbox($div$$,mxResources.get("shadow"),$graph$$.shadowVisible),$cb5$$=document.createElement("input");$cb5$$.style.marginTop="16px";$cb5$$.style.marginRight="8px";$cb5$$.setAttribute("type","checkbox");!this.isOffline()&&this.canvasSupported||$cb5$$.setAttribute("disabled","disabled");$embedOption$$&&($div$$.appendChild($cb5$$),mxUtils.write($div$$,mxResources.get("embedImages")),mxUtils.br($div$$),$height$$+=26);var $include$$=this.addCheckbox($div$$,mxResources.get("includeCopyOfMyDiagram"),
$defaultInclude$$,null,null,"jpeg"!=$format$$),$hasPages$$=null!=this.pages&&1<this.pages.length,$allPages$$=this.addCheckbox($div$$,$hasPages$$?mxResources.get("allPages"):"",$hasPages$$,!$hasPages$$,null,"jpeg"!=$format$$);$allPages$$.style.marginLeft="24px";$allPages$$.style.marginBottom="16px";$hasPages$$||($allPages$$.style.display="none");mxEvent.addListener($include$$,"change",function(){$include$$.checked&&$hasPages$$?$allPages$$.removeAttribute("disabled"):$allPages$$.setAttribute("disabled",
"disabled")});$defaultInclude$$&&$hasPages$$||$allPages$$.setAttribute("disabled","disabled");var $linkSelect$$=document.createElement("select");$linkSelect$$.style.maxWidth="260px";$linkSelect$$.style.marginLeft="8px";$linkSelect$$.style.marginRight="10px";$linkSelect$$.className="geBtn";$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$=document.createElement("option");$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$.setAttribute("value","auto");mxUtils.write($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$,
mxResources.get("automatic"));$linkSelect$$.appendChild($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$);$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$=document.createElement("option");$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$.setAttribute("value","blank");mxUtils.write($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$,mxResources.get("openInNewWindow"));$linkSelect$$.appendChild($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$);
$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$=document.createElement("option");$autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$.setAttribute("value","self");mxUtils.write($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$,mxResources.get("openInThisWindow"));$linkSelect$$.appendChild($autoOption$jscomp$1_blankOption$jscomp$2_selfOption$jscomp$1_title$$);"svg"==$format$$&&(mxUtils.write($div$$,mxResources.get("links")+":"),$div$$.appendChild($linkSelect$$),
mxUtils.br($div$$),mxUtils.br($div$$),$height$$+=26);$btnLabel$jscomp$3_dlg$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){this.lastExportBorder=$borderInput$$.value;this.lastExportZoom=$zoomInput$$.value;$callback$$($zoomInput$$.value,$transparent$$.checked,!$selection$$.checked,$shadow$$.checked,$include$$.checked,$cb5$$.checked,$borderInput$$.value,$cb6$$.checked,!$allPages$$.checked,$linkSelect$$.value)}),null,$btnLabel$jscomp$3_dlg$$,$helpLink$$);this.showDialog($btnLabel$jscomp$3_dlg$$.container,
340,$height$$,!0,!0);$zoomInput$$.focus();mxClient.IS_GC||mxClient.IS_FF||5<=document.documentMode||mxClient.IS_QUIRKS?$zoomInput$$.select():document.execCommand("selectAll",!1,null)};EditorUi.prototype.showEmbedImageDialog=function $EditorUi$$showEmbedImageDialog$($fn$$,$dlg$jscomp$26_title$$,$imageLabel$$,$shadowEnabled$$,$helpLink$$){var $div$$=document.createElement("div");$div$$.style.whiteSpace="nowrap";var $graph$$=this.editor.graph;if(null!=$dlg$jscomp$26_title$$){var $hd$$=document.createElement("h3");
mxUtils.write($hd$$,$dlg$jscomp$26_title$$);$hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:4px";$div$$.appendChild($hd$$)}var $fit$$=this.addCheckbox($div$$,mxResources.get("fit"),!0),$shadow$$=this.addCheckbox($div$$,mxResources.get("shadow"),$graph$$.shadowVisible&&$shadowEnabled$$,!$shadowEnabled$$),$image$$=this.addCheckbox($div$$,$imageLabel$$),$lightbox$$=this.addCheckbox($div$$,mxResources.get("lightbox"),!0),$editSection$$=this.addEditButton($div$$,$lightbox$$),
$edit$$=$editSection$$.getEditInput(),$hasLayers$$=1<$graph$$.model.getChildCount($graph$$.model.getRoot()),$layers$$=this.addCheckbox($div$$,mxResources.get("layers"),$hasLayers$$,!$hasLayers$$);$layers$$.style.marginLeft=$edit$$.style.marginLeft;$layers$$.style.marginBottom="12px";$layers$$.style.marginTop="8px";mxEvent.addListener($lightbox$$,"change",function(){$lightbox$$.checked?($hasLayers$$&&$layers$$.removeAttribute("disabled"),$edit$$.removeAttribute("disabled")):($layers$$.setAttribute("disabled",
"disabled"),$edit$$.setAttribute("disabled","disabled"));$edit$$.checked&&$lightbox$$.checked?$editSection$$.getEditSelect().removeAttribute("disabled"):$editSection$$.getEditSelect().setAttribute("disabled","disabled")});$dlg$jscomp$26_title$$=new CustomDialog(this,$div$$,mxUtils.bind(this,function(){$fn$$($fit$$.checked,$shadow$$.checked,$image$$.checked,$lightbox$$.checked,$editSection$$.getLink(),$layers$$.checked)}),null,mxResources.get("embed"),$helpLink$$);this.showDialog($dlg$jscomp$26_title$$.container,
280,280,!0,!0)};EditorUi.prototype.createEmbedImage=function $EditorUi$$createEmbedImage$($fit$$,$data$jscomp$92_shadow$$,$retina$$,$lightbox$$,$edit$$,$layers$$,$fn$$,$err$$){function $doUpdate$$($dataUri$$){var $onclick$$=" ",$css$$="";$lightbox$$&&($onclick$$=" onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('"+
EditorUi.drawHost+"/?client=1&lightbox=1"+($edit$$?"&edit=_blank":"")+($layers$$?"&layers=1":"")+"');}})(this);\"",$css$$+="cursor:pointer;");$fit$$&&($css$$+="max-width:100%;");var $atts$$="";$retina$$&&($atts$$=' width="'+Math.round($bounds$$.width)+'" height="'+Math.round($bounds$$.height)+'"');$fn$$('<img src="'+$dataUri$$+'"'+$atts$$+(""!=$css$$?' style="'+$css$$+'"':"")+$onclick$$+"/>")}var $bounds$$=this.editor.graph.getGraphBounds();if(this.isExportToCanvas())this.exportToCanvas(mxUtils.bind(this,
function($canvas$jscomp$14_data$$){var $xml$$=$lightbox$$?this.getFileData(!0):null;$canvas$jscomp$14_data$$=this.createImageDataUri($canvas$jscomp$14_data$$,$xml$$,"png");$doUpdate$$($canvas$jscomp$14_data$$)}),null,null,null,mxUtils.bind(this,function($e$$){$err$$({message:mxResources.get("unknownError")})}),null,!0,$retina$$?2:1,null,$data$jscomp$92_shadow$$);else if($data$jscomp$92_shadow$$=this.getFileData(!0),$bounds$$.width*$bounds$$.height<=MAX_AREA&&$data$jscomp$92_shadow$$.length<=MAX_REQUEST_SIZE){var $size$$=
"";$retina$$&&($size$$="&w="+Math.round(2*$bounds$$.width)+"&h="+Math.round(2*$bounds$$.height));var $req$$=new mxXmlRequest(EXPORT_URL,"format=png&base64=1&embedXml="+($lightbox$$?"1":"0")+$size$$+"&xml="+encodeURIComponent($data$jscomp$92_shadow$$));$req$$.send(mxUtils.bind(this,function(){200<=$req$$.getStatus()&&299>=$req$$.getStatus()?$doUpdate$$("data:image/png;base64,"+$req$$.getText()):$err$$({message:mxResources.get("unknownError")})}))}else $err$$({message:mxResources.get("drawingTooLarge")})};
EditorUi.prototype.createEmbedSvg=function $EditorUi$$createEmbedSvg$($fit$jscomp$5_w$$,$h$jscomp$111_shadow$$,$image$$,$lightbox$$,$edit$$,$layers$$,$fn$$){var $svgRoot$jscomp$0$$=this.editor.graph.getSvg(),$links$$=$svgRoot$jscomp$0$$.getElementsByTagName("a");if(null!=$links$$)for(var $i$$=0;$i$$<$links$$.length;$i$$++){var $href$$=$links$$[$i$$].getAttribute("href");null!=$href$$&&"#"==$href$$.charAt(0)&&"_blank"==$links$$[$i$$].getAttribute("target")&&$links$$[$i$$].removeAttribute("target")}$lightbox$$&&
$svgRoot$jscomp$0$$.setAttribute("content",this.getFileData(!0));$h$jscomp$111_shadow$$&&this.editor.graph.addSvgShadow($svgRoot$jscomp$0$$);if($image$$){var $onclick$$=" ",$css$$="";$lightbox$$&&($onclick$$="onclick=\"(function(img){if(img.wnd!=null&&!img.wnd.closed){img.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==img.wnd){img.wnd.postMessage(decodeURIComponent(img.getAttribute('src')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);img.wnd=window.open('"+
EditorUi.drawHost+"/?client=1&lightbox=1"+($edit$$?"&edit=_blank":"")+($layers$$?"&layers=1":"")+"');}})(this);\"",$css$$+="cursor:pointer;");$fit$jscomp$5_w$$&&($css$$+="max-width:100%;");this.convertImages($svgRoot$jscomp$0$$,mxUtils.bind(this,function($svgRoot$$){$fn$$('<img src="'+this.createSvgDataUri(mxUtils.getXml($svgRoot$$))+'"'+(""!=$css$$?' style="'+$css$$+'"':"")+$onclick$$+"/>")}))}else $css$$="",$lightbox$$&&($svgRoot$jscomp$0$$.setAttribute("onclick","(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&&src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&&!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&&evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('"+
EditorUi.drawHost+"/?client=1&lightbox=1"+($edit$$?"&edit=_blank":"")+($layers$$?"&layers=1":"")+"');}}})(this);"),$css$$+="cursor:pointer;"),$fit$jscomp$5_w$$&&($fit$jscomp$5_w$$=parseInt($svgRoot$jscomp$0$$.getAttribute("width")),$h$jscomp$111_shadow$$=parseInt($svgRoot$jscomp$0$$.getAttribute("height")),$svgRoot$jscomp$0$$.setAttribute("viewBox","-0.5 -0.5 "+$fit$jscomp$5_w$$+" "+$h$jscomp$111_shadow$$),$css$$+="max-width:100%;max-height:"+$h$jscomp$111_shadow$$+"px;",$svgRoot$jscomp$0$$.removeAttribute("height")),
""!=$css$$&&$svgRoot$jscomp$0$$.setAttribute("style",$css$$),$fn$$(mxUtils.getXml($svgRoot$jscomp$0$$))};EditorUi.prototype.timeSince=function $EditorUi$$timeSince$($date$$){$date$$=Math.floor((new Date-$date$$)/1E3);var $interval$$=Math.floor($date$$/31536E3);if(1<$interval$$)return $interval$$+" "+mxResources.get("years");$interval$$=Math.floor($date$$/2592E3);if(1<$interval$$)return $interval$$+" "+mxResources.get("months");$interval$$=Math.floor($date$$/86400);if(1<$interval$$)return $interval$$+
" "+mxResources.get("days");$interval$$=Math.floor($date$$/3600);if(1<$interval$$)return $interval$$+" "+mxResources.get("hours");$interval$$=Math.floor($date$$/60);return 1<$interval$$?$interval$$+" "+mxResources.get("minutes"):1==$interval$$?$interval$$+" "+mxResources.get("minute"):null};EditorUi.prototype.convertMath=function $EditorUi$$convertMath$($graph$$,$svgRoot$$,$fixPosition$$,$callback$$){$graph$$.mathEnabled&&"undefined"!==typeof MathJax&&"undefined"!==typeof MathJax.Hub?(Editor.MathJaxRender($svgRoot$$),
window.setTimeout(mxUtils.bind(this,function(){MathJax.Hub.Queue(mxUtils.bind(this,function(){$callback$$()}))}),0)):$callback$$()};EditorUi.prototype.decodeNodeIntoGraph=function $EditorUi$$decodeNodeIntoGraph$($node$$,$graph$$){if(null!=$node$$){var $diagramNode$$=null;if("diagram"==$node$$.nodeName)$diagramNode$$=$node$$;else if("mxfile"==$node$$.nodeName){var $diagrams$jscomp$1_prev$jscomp$7_tmp$$=$node$$.getElementsByTagName("diagram");if(0<$diagrams$jscomp$1_prev$jscomp$7_tmp$$.length){var $diagramNode$$=
$diagrams$jscomp$1_prev$jscomp$7_tmp$$[0],$graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$.getGlobalVariable=function $$graph$$$getGlobalVariable$($name$$){return"page"==$name$$?$diagramNode$$.getAttribute("name")||mxResources.get("pageWithNumber",[1]):"pagenumber"==$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)}}}null!=$diagramNode$$&&($diagrams$jscomp$1_prev$jscomp$7_tmp$$=Graph.decompress(mxUtils.getTextContent($diagramNode$$)),null!=$diagrams$jscomp$1_prev$jscomp$7_tmp$$&&
0<$diagrams$jscomp$1_prev$jscomp$7_tmp$$.length&&($node$$=mxUtils.parseXml($diagrams$jscomp$1_prev$jscomp$7_tmp$$).documentElement))}$diagrams$jscomp$1_prev$jscomp$7_tmp$$=this.editor.graph;try{this.editor.graph=$graph$$,this.editor.setGraphXml($node$$)}catch($e$$){}finally{this.editor.graph=$diagrams$jscomp$1_prev$jscomp$7_tmp$$}return $node$$};EditorUi.prototype.getEmbeddedPng=function $EditorUi$$getEmbeddedPng$($success$$,$error$$,$optionalData$$){try{var $graph$$=this.editor.graph,$diagramData$$=
null;if(null!=$optionalData$$&&0<$optionalData$$.length)$graph$$=this.createTemporaryGraph(this.editor.graph.getStylesheet()),document.body.appendChild($graph$$.container),this.decodeNodeIntoGraph(this.editor.extractGraphModel(mxUtils.parseXml($optionalData$$).documentElement,!0),$graph$$),$diagramData$$=$optionalData$$;else if(null!=this.pages&&this.currentPage!=this.pages[0]){var $graph$$=this.createTemporaryGraph($graph$$.getStylesheet()),$graphGetGlobalVariable$$=$graph$$.getGlobalVariable,$page$$=
this.pages[0];$graph$$.getGlobalVariable=function $$graph$$$getGlobalVariable$($name$$){return"page"==$name$$?$page$$.getName():"pagenumber"==$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($graph$$.container);$graph$$.model.setRoot($page$$.root)}this.exportToCanvas(mxUtils.bind(this,function($canvas$$){try{null==$diagramData$$&&($diagramData$$=this.getFileData(!0));var $data$$=$canvas$$.toDataURL("image/png"),$data$$=this.writeGraphModelToPng($data$$,"zTXt","mxGraphModel",
atob(Graph.compress($diagramData$$)));$success$$($data$$.substring($data$$.lastIndexOf(",")+1));$graph$$!=this.editor.graph&&$graph$$.container.parentNode.removeChild($graph$$.container)}catch($e$$){null!=$error$$&&$error$$($e$$)}}),null,null,null,mxUtils.bind(this,function($e$$){null!=$error$$&&$error$$($e$$)}),null,null,null,null,$graph$$.shadowVisible,null,$graph$$)}catch($e$$){null!=$error$$&&$error$$($e$$)}};EditorUi.prototype.getEmbeddedSvg=function $EditorUi$$getEmbeddedSvg$($xml$$,$graph$$,
$url$$,$noHeader$$,$callback$$,$ignoreSelection$jscomp$12_svgRoot$$,$bg$jscomp$12_redirect$$){$bg$jscomp$12_redirect$$=$graph$$.background;$bg$jscomp$12_redirect$$==mxConstants.NONE&&($bg$jscomp$12_redirect$$=null);$ignoreSelection$jscomp$12_svgRoot$$=$graph$$.getSvg($bg$jscomp$12_redirect$$,null,null,null,null,$ignoreSelection$jscomp$12_svgRoot$$);$graph$$.shadowVisible&&$graph$$.addSvgShadow($ignoreSelection$jscomp$12_svgRoot$$);null!=$xml$$&&$ignoreSelection$jscomp$12_svgRoot$$.setAttribute("content",
$xml$$);null!=$url$$&&$ignoreSelection$jscomp$12_svgRoot$$.setAttribute("resource",$url$$);if(null!=$callback$$)this.convertImages($ignoreSelection$jscomp$12_svgRoot$$,mxUtils.bind(this,function($svgRoot$$){$callback$$(($noHeader$$?"":'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')+mxUtils.getXml($svgRoot$$))}));else return($noHeader$$?"":'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')+
mxUtils.getXml($ignoreSelection$jscomp$12_svgRoot$$)};EditorUi.prototype.exportImage=function $EditorUi$$exportImage$($scale$$,$transparentBackground$$,$ignoreSelection$$,$addShadow$$,$editable$$,$border$$,$noCrop$$,$currentPage$$,$format$$){$format$$=null!=$format$$?$format$$:"png";if(this.spinner.spin(document.body,mxResources.get("exporting"))){var $selectionEmpty$$=this.editor.graph.isSelectionEmpty();$ignoreSelection$$=null!=$ignoreSelection$$?$ignoreSelection$$:$selectionEmpty$$;null==this.thumbImageCache&&
(this.thumbImageCache={});try{this.exportToCanvas(mxUtils.bind(this,function($canvas$$){this.spinner.stop();try{this.saveCanvas($canvas$$,$editable$$?this.getFileData(!0,null,null,null,$ignoreSelection$$,$currentPage$$):null,$format$$)}catch($e$$){"Invalid image"==$e$$.message?this.downloadFile($format$$):this.handleError($e$$)}}),null,this.thumbImageCache,null,mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$)}),null,$ignoreSelection$$,$scale$$||1,$transparentBackground$$,
$addShadow$$,null,null,$border$$,$noCrop$$)}catch($e$$){this.spinner.stop(),this.handleError($e$$)}}};EditorUi.prototype.loadFonts=function $EditorUi$$loadFonts$($then$$){if(null!=this.editor.fontCss&&null==this.editor.resolvedFontCss){var $trimString$$=function $$trimString$$$($str$$){return $str$$.replace(RegExp("^[\\s\"']+","g"),"").replace(RegExp("[\\s\"']+$","g"),"")},$parts$$=this.editor.fontCss.split("url("),$waiting$$=0,$fonts$$={},$finish$$=mxUtils.bind(this,function(){if(0==$waiting$$){for(var $result$$=
[$parts$$[0]],$j$$=1;$j$$<$parts$$.length;$j$$++){var $idx$$=$parts$$[$j$$].indexOf(")");$result$$.push('url("');$result$$.push($fonts$$[$trimString$$($parts$$[$j$$].substring(0,$idx$$))]);$result$$.push('"'+$parts$$[$j$$].substring($idx$$))}this.editor.resolvedFontCss=$result$$.join("");$then$$()}});if(0<$parts$$.length)for(var $i$$=1;$i$$<$parts$$.length;$i$$++){var $idx$jscomp$0$$=$parts$$[$i$$].indexOf(")"),$format$$=null,$fmtIdx$$=$parts$$[$i$$].indexOf("format(",$idx$jscomp$0$$);0<$fmtIdx$$&&
($format$$=$trimString$$($parts$$[$i$$].substring($fmtIdx$$+7,$parts$$[$i$$].indexOf(")",$fmtIdx$$))));mxUtils.bind(this,function($url$$){if(null==$fonts$$[$url$$]){$fonts$$[$url$$]=$url$$;$waiting$$++;var $mime$$="application/x-font-ttf";if("svg"==$format$$||/(\.svg)($|\?)/i.test($url$$))$mime$$="image/svg+xml";else if("otf"==$format$$||"embedded-opentype"==$format$$||/(\.otf)($|\?)/i.test($url$$))$mime$$="application/x-font-opentype";else if("woff"==$format$$||/(\.woff)($|\?)/i.test($url$$))$mime$$=
"application/font-woff";else if("woff2"==$format$$||/(\.woff2)($|\?)/i.test($url$$))$mime$$="application/font-woff2";else if("eot"==$format$$||/(\.eot)($|\?)/i.test($url$$))$mime$$="application/vnd.ms-fontobject";else if("sfnt"==$format$$||/(\.sfnt)($|\?)/i.test($url$$))$mime$$="application/font-sfnt";var $realUrl$$=$url$$;/^https?:\/\//.test($realUrl$$)&&!this.editor.isCorsEnabledForUrl($realUrl$$)&&($realUrl$$=PROXY_URL+"?url="+encodeURIComponent($url$$));this.loadUrl($realUrl$$,mxUtils.bind(this,
function($uri$$){$fonts$$[$url$$]=$uri$$;$waiting$$--;$finish$$()}),mxUtils.bind(this,function($err$$){$waiting$$--;$finish$$()}),!0,null,"data:"+$mime$$+";charset=utf-8;base64,")}})($trimString$$($parts$$[$i$$].substring(0,$idx$jscomp$0$$)),$format$$)}}else $then$$()};EditorUi.prototype.exportToCanvas=function $EditorUi$$exportToCanvas$($callback$$,$width$$,$imageCache$$,$background$$,$error$$,$limitHeight$$,$ignoreSelection$$,$scale$$,$transparentBackground$$,$addShadow$$,$converter$$,$graph$$,
$border$$,$noCrop$$){$limitHeight$$=null!=$limitHeight$$?$limitHeight$$:!0;$graph$$=null!=$graph$$?$graph$$:this.editor.graph;$border$$=null!=$border$$?$border$$:0;var $bg$$=$transparentBackground$$?null:$graph$$.background;$bg$$==mxConstants.NONE&&($bg$$=null);null==$bg$$&&($bg$$=$background$$);null==$bg$$&&0==$transparentBackground$$&&($bg$$="#ffffff");this.convertImages($graph$$.getSvg($bg$$,null,null,$noCrop$$,null,null!=$ignoreSelection$$?$ignoreSelection$$:!0,null,null,null,$addShadow$$),mxUtils.bind(this,
function($svgRoot$$){var $img$$=new Image;$img$$.onload=mxUtils.bind(this,function(){try{var $canvas$$=document.createElement("canvas"),$w$$=parseInt($svgRoot$$.getAttribute("width")),$h$$=parseInt($svgRoot$$.getAttribute("height"));$scale$$=null!=$scale$$?$scale$$:1;null!=$width$$&&($scale$$=$limitHeight$$?Math.min(1,Math.min(3*$width$$/(4*$h$$),$width$$/$w$$)):$width$$/$w$$);$w$$=Math.ceil($scale$$*$w$$)+2*$border$$;$h$$=Math.ceil($scale$$*$h$$)+2*$border$$;$canvas$$.setAttribute("width",$w$$);
$canvas$$.setAttribute("height",$h$$);var $ctx$$=$canvas$$.getContext("2d");null!=$bg$$&&($ctx$$.beginPath(),$ctx$$.rect(0,0,$w$$,$h$$),$ctx$$.fillStyle=$bg$$,$ctx$$.fill());$ctx$$.scale($scale$$,$scale$$);mxClient.IS_SF?window.setTimeout(function(){$ctx$$.drawImage($img$$,$border$$/$scale$$,$border$$/$scale$$);$callback$$($canvas$$)},0):($ctx$$.drawImage($img$$,$border$$/$scale$$,$border$$/$scale$$),$callback$$($canvas$$))}catch($e$$){null!=$error$$&&$error$$($e$$)}});$img$$.onerror=function $$img$$$onerror$($e$$){null!=
$error$$&&$error$$($e$$)};try{$addShadow$$&&this.editor.graph.addSvgShadow($svgRoot$$);var $done$$=mxUtils.bind(this,function(){if(null!=this.editor.resolvedFontCss){var $st$$=document.createElement("style");$st$$.setAttribute("type","text/css");$st$$.innerHTML=this.editor.resolvedFontCss;$svgRoot$$.getElementsByTagName("defs")[0].appendChild($st$$)}this.convertMath($graph$$,$svgRoot$$,!0,mxUtils.bind(this,function(){$img$$.src=this.createSvgDataUri(mxUtils.getXml($svgRoot$$))}))});this.loadFonts($done$$)}catch($e$$){null!=
$error$$&&$error$$($e$$)}}),$imageCache$$,$converter$$)};EditorUi.prototype.createImageUrlConverter=function $EditorUi$$createImageUrlConverter$(){var $converter$$=new mxUrlConverter;$converter$$.updateBaseUrl();var $convert$$=$converter$$.convert,$self$$=this;$converter$$.convert=function $$converter$$$convert$($src$$){if(null!=$src$$){var $remote$$="http://"==$src$$.substring(0,7)||"https://"==$src$$.substring(0,8);$remote$$&&!navigator.onLine?$src$$=$self$$.svgBrokenImage.src:!$remote$$||$src$$.substring(0,
$converter$$.baseUrl.length)==$converter$$.baseUrl||$self$$.crossOriginImages&&$self$$.editor.isCorsEnabledForUrl($src$$)?"chrome-extension://"!=$src$$.substring(0,19)&&($src$$=$convert$$.apply(this,arguments)):$src$$=PROXY_URL+"?url="+encodeURIComponent($src$$)}return $src$$};return $converter$$};EditorUi.prototype.convertImages=function $EditorUi$$convertImages$($svgRoot$$,$callback$$,$convertImages$jscomp$1_imageCache$$,$converter$$){null==$converter$$&&($converter$$=this.createImageUrlConverter());
var $counter$$=0,$cache$$=$convertImages$jscomp$1_imageCache$$||{};$convertImages$jscomp$1_imageCache$$=mxUtils.bind(this,function($tagName$$,$srcAttr$$){for(var $images$$=$svgRoot$$.getElementsByTagName($tagName$$),$i$$=0;$i$$<$images$$.length;$i$$++)mxUtils.bind(this,function($img$$){var $src$$=$converter$$.convert($img$$.getAttribute($srcAttr$$));if(null!=$src$$&&"data:"!=$src$$.substring(0,5)){var $tmp$$=$cache$$[$src$$];null==$tmp$$?($counter$$++,this.convertImageToDataUri($src$$,function($uri$$){null!=
$uri$$&&($cache$$[$src$$]=$uri$$,$img$$.setAttribute($srcAttr$$,$uri$$));$counter$$--;0==$counter$$&&$callback$$($svgRoot$$)})):$img$$.setAttribute($srcAttr$$,$tmp$$)}else null!=$src$$&&$img$$.setAttribute($srcAttr$$,$src$$)})($images$$[$i$$])});$convertImages$jscomp$1_imageCache$$("image","xlink:href");$convertImages$jscomp$1_imageCache$$("img","src");0==$counter$$&&$callback$$($svgRoot$$)};EditorUi.prototype.loadUrl=function $EditorUi$$loadUrl$($url$$,$success$$,$error$$,$forceBinary$$,$retry$$,
$dataUriPrefix$$,$noBinary$$){try{var $binary$$=!$noBinary$$&&($forceBinary$$||/(\.png)($|\?)/i.test($url$$)||/(\.jpe?g)($|\?)/i.test($url$$)||/(\.gif)($|\?)/i.test($url$$));$retry$$=null!=$retry$$?$retry$$:!0;var $fn$$=mxUtils.bind(this,function(){mxUtils.get($url$$,mxUtils.bind(this,function($bin$jscomp$1_req$$){if(200<=$bin$jscomp$1_req$$.getStatus()&&299>=$bin$jscomp$1_req$$.getStatus()){if(null!=$success$$){var $data$jscomp$95_tmp$$=$bin$jscomp$1_req$$.getText();if($binary$$){if((9==document.documentMode||
10==document.documentMode)&&"undefined"!==typeof window.mxUtilsBinaryToArray){$bin$jscomp$1_req$$=mxUtilsBinaryToArray($bin$jscomp$1_req$$.request.responseBody).toArray();for(var $data$jscomp$95_tmp$$=Array($bin$jscomp$1_req$$.length),$i$$=0;$i$$<$bin$jscomp$1_req$$.length;$i$$++)$data$jscomp$95_tmp$$[$i$$]=String.fromCharCode($bin$jscomp$1_req$$[$i$$]);$data$jscomp$95_tmp$$=$data$jscomp$95_tmp$$.join("")}$dataUriPrefix$$=null!=$dataUriPrefix$$?$dataUriPrefix$$:"data:image/png;base64,";$data$jscomp$95_tmp$$=
$dataUriPrefix$$+this.base64Encode($data$jscomp$95_tmp$$)}$success$$($data$jscomp$95_tmp$$)}}else null!=$error$$&&$error$$({message:mxResources.get("error")+" "+$bin$jscomp$1_req$$.getStatus()},$bin$jscomp$1_req$$)}),function($req$$){null!=$error$$&&$error$$({message:mxResources.get("error")+" "+$req$$.getStatus()})},$binary$$,this.timeout,function(){$retry$$&&null!=$error$$&&$error$$({code:App.ERROR_TIMEOUT,retry:$fn$$})})});$fn$$()}catch($e$$){null!=$error$$&&$error$$($e$$)}};EditorUi.prototype.isCorsEnabledForUrl=
function $EditorUi$$isCorsEnabledForUrl$($url$$){return this.editor.isCorsEnabledForUrl($url$$)};EditorUi.prototype.convertImageToDataUri=function $EditorUi$$convertImageToDataUri$($url$$,$callback$$){if(/(\.svg)$/i.test($url$$))mxUtils.get($url$$,mxUtils.bind(this,function($req$$){$callback$$(this.createSvgDataUri($req$$.getText()))}),function(){$callback$$(this.svgBrokenImage.src)});else{var $img$$=new Image,$self$$=this;this.crossOriginImages&&($img$$.crossOrigin="anonymous");$img$$.onload=function $$img$$$onload$(){var $canvas$$=
document.createElement("canvas"),$ctx$$=$canvas$$.getContext("2d");$canvas$$.height=$img$$.height;$canvas$$.width=$img$$.width;$ctx$$.drawImage($img$$,0,0);try{$callback$$($canvas$$.toDataURL())}catch($e$$){$callback$$($self$$.svgBrokenImage.src)}};$img$$.onerror=function $$img$$$onerror$(){$callback$$($self$$.svgBrokenImage.src)};$img$$.src=$url$$}};EditorUi.prototype.importXml=function $EditorUi$$importXml$($i$jscomp$120_i0$jscomp$1_xml$$,$dx$$,$dy$$,$crop$$,$noErrorHandling$$){$dx$$=$dx$$||0;$dy$$=
$dy$$||0;var $cells$$=[];try{var $graph$$=this.editor.graph;if($i$jscomp$120_i0$jscomp$1_xml$$){$graph$$.model.beginUpdate();try{var $pages$$=this.pages||[],$doc$$=mxUtils.parseXml($i$jscomp$120_i0$jscomp$1_xml$$),$node$$=this.editor.extractGraphModel($doc$$.documentElement,$pages$$.length);if($node$$&&"mxfile"===$node$$.nodeName&&$pages$$.length){var $diagrams$$=$node$$.getElementsByTagName("diagram");if(1===$diagrams$$.length)$node$$=mxUtils.parseXml(Graph.decompress(mxUtils.getTextContent($diagrams$$[0]))).documentElement;
else if(1<$diagrams$$.length)for($i$jscomp$120_i0$jscomp$1_xml$$=0,1===$pages$$.length&&this.isDiagramEmpty()&&($node$$=mxUtils.parseXml(Graph.decompress(mxUtils.getTextContent($diagrams$$[0]))).documentElement,$crop$$=!1,$i$jscomp$120_i0$jscomp$1_xml$$=1);$i$jscomp$120_i0$jscomp$1_xml$$<$diagrams$$.length;$i$jscomp$120_i0$jscomp$1_xml$$++){$diagrams$$[$i$jscomp$120_i0$jscomp$1_xml$$].removeAttribute("id");var $page$$=this.updatePageRoot(new DiagramPage($diagrams$$[$i$jscomp$120_i0$jscomp$1_xml$$])),
$index$18$$=$pages$$.length;$page$$.getName()||$page$$.setName(mxResources.get("pageWithNumber",[$index$18$$+1]));$graph$$.model.execute(new ChangePage(this,$page$$,$page$$,$index$18$$,!0))}}$node$$&&"mxGraphModel"===$node$$.nodeName&&($cells$$=$graph$$.importGraphModel($node$$,$dx$$,$dy$$,$crop$$))}finally{$graph$$.model.endUpdate()}}}catch($e$$){if($noErrorHandling$$)throw $e$$;this.handleError($e$$)}return $cells$$};EditorUi.prototype.isRemoteVisioFormat=function $EditorUi$$isRemoteVisioFormat$($filename$$){return/(\.v(sd|dx))($|\?)/i.test($filename$$)||
/(\.vs(s|x))($|\?)/i.test($filename$$)};EditorUi.prototype.importVisio=function $EditorUi$$importVisio$($file$$,$done$$,$onerror$$,$filename$$){$filename$$=null!=$filename$$?$filename$$:$file$$.name;$onerror$$=null!=$onerror$$?$onerror$$:mxUtils.bind(this,function($e$$){this.handleError($e$$)});var $delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;if(this.doImportVisio)if(this.isRemoteVisioFormat($filename$$)&&null!=VSD_CONVERT_URL){var $formData$$=new FormData;$formData$$.append("file1",
$file$$,$filename$$);var $xhr$$=new XMLHttpRequest;$xhr$$.open("POST",VSD_CONVERT_URL);$xhr$$.responseType="blob";$xhr$$.onreadystatechange=mxUtils.bind(this,function(){if(4==$xhr$$.readyState)if(200<=$xhr$$.status&&299>=$xhr$$.status)try{$xhr$$.response.name=$filename$$,this.doImportVisio($xhr$$.response,$done$$,$onerror$$)}catch($e$$){$onerror$$($e$$)}else $onerror$$({})});$xhr$$.send($formData$$)}else try{this.doImportVisio($file$$,$done$$,$onerror$$)}catch($e$$){$onerror$$($e$$)}else this.spinner.stop(),
this.handleError({message:mxResources.get("serviceUnavailableOrBlocked")})});this.doImportVisio||this.loadingExtensions||this.isOffline(!0)?$delayed$$():(this.loadingExtensions=!0,mxscript("js/extensions.min.js",$delayed$$))};EditorUi.prototype.importGraphML=function $EditorUi$$importGraphML$($xmlData$$,$done$$,$onerror$$){$onerror$$=null!=$onerror$$?$onerror$$:mxUtils.bind(this,function($e$$){this.handleError($e$$)});var $delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;if(this.doImportGraphML)try{this.doImportGraphML($xmlData$$,
$done$$,$onerror$$)}catch($e$$){$onerror$$($e$$)}else this.spinner.stop(),this.handleError({message:mxResources.get("serviceUnavailableOrBlocked")})});this.doImportGraphML||this.loadingExtensions||this.isOffline(!0)?$delayed$$():(this.loadingExtensions=!0,mxscript("js/extensions.min.js",$delayed$$))};EditorUi.prototype.exportVisio=function $EditorUi$$exportVisio$(){var $delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=!1;if("undefined"!==typeof VsdxExport)try{(new VsdxExport(this)).exportCurrentDiagrams()||
this.handleError({message:mxResources.get("unknownError")})}catch($e$$){this.handleError($e$$)}else this.spinner.stop(),this.handleError({message:mxResources.get("serviceUnavailableOrBlocked")})});"undefined"!==typeof VsdxExport||this.loadingExtensions||this.isOffline(!0)?$delayed$$():(this.loadingExtensions=!0,mxscript("js/extensions.min.js",$delayed$$))};EditorUi.prototype.convertLucidChart=function $EditorUi$$convertLucidChart$($data$$,$success$$,$error$$){var $delayed$$=mxUtils.bind(this,function(){this.loadingExtensions=
!1;if("undefined"!==typeof window.LucidImporter)try{$success$$(LucidImporter.importState(JSON.parse($data$$)))}catch($e$$){$error$$($e$$)}else $error$$({message:mxResources.get("serviceUnavailableOrBlocked")})});"undefined"!==typeof window.LucidImporter||this.loadingExtensions||this.isOffline(!0)?window.setTimeout($delayed$$,0):(this.loadingExtensions=!0,"1"==urlParams.dev?mxscript("js/diagramly/Extensions.js",$delayed$$):mxscript("js/extensions.min.js",$delayed$$))};EditorUi.prototype.insertAsPreText=
function $EditorUi$$insertAsPreText$($text$$,$x$$,$y$$){var $graph$$=this.editor.graph,$cell$$=null;$graph$$.getModel().beginUpdate();try{$cell$$=$graph$$.insertVertex(null,null,"<pre>"+$text$$+"</pre>",$x$$,$y$$,1,1,"text;html=1;align=center;verticalAlign=middle;"),$graph$$.updateCellSize($cell$$,!0)}finally{$graph$$.getModel().endUpdate()}return $cell$$};EditorUi.prototype.insertTextAt=function $EditorUi$$insertTextAt$($text$$,$dx$$,$dy$$,$html$$,$asImage_cell$$,$crop$$,$resizeImages$$){$crop$$=
null!=$crop$$?$crop$$:!0;$resizeImages$$=null!=$resizeImages$$?$resizeImages$$:!0;if(null!=$text$$)if(Graph.fileSupport&&!this.isOffline()&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($text$$))this.parseFile(new Blob([$text$$.replace(/\s+/g," ")],{type:"application/octet-stream"}),mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&200<=$xhr$$.status&&299>=$xhr$$.status&&this.editor.graph.setSelectionCells(this.insertTextAt($xhr$$.responseText,$dx$$,$dy$$,!0))}));else if("data:"==$text$$.substring(0,
5)||!this.isOffline()&&($asImage_cell$$||/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($text$$))){var $graph$$=this.editor.graph;if("data:image/png;base64,"==$text$$.substring(0,22)){var $xml$jscomp$0$$=this.extractGraphModelFromPng($text$$),$result$$=this.importXml($xml$jscomp$0$$,$dx$$,$dy$$,$crop$$,!0);if(0<$result$$.length)return $result$$}if("data:image/svg+xml;"==$text$$.substring(0,19))try{if($xml$jscomp$0$$=null,"data:image/svg+xml;base64,"==$text$$.substring(0,26)?($xml$jscomp$0$$=$text$$.substring($text$$.indexOf(",")+
1),$xml$jscomp$0$$=window.atob&&!mxClient.IS_SF?atob($xml$jscomp$0$$):Base64.decode($xml$jscomp$0$$,!0)):$xml$jscomp$0$$=decodeURIComponent($text$$.substring($text$$.indexOf(",")+1)),$result$$=this.importXml($xml$jscomp$0$$,$dx$$,$dy$$,$crop$$,!0),0<$result$$.length)return $result$$}catch($e$$){}this.loadImage($text$$,mxUtils.bind(this,function($h$jscomp$113_img$$){if("data:"==$text$$.substring(0,5))this.resizeImage($h$jscomp$113_img$$,$text$$,mxUtils.bind(this,function($data2$$,$w2$$,$h2$$){$graph$$.setSelectionCell($graph$$.insertVertex(null,
null,"",$graph$$.snap($dx$$),$graph$$.snap($dy$$),$w2$$,$h2$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image="+this.convertDataUri($data2$$)+";"))}),$resizeImages$$,this.maxImageSize);else{var $s$$=Math.min(1,Math.min(this.maxImageSize/$h$jscomp$113_img$$.width,this.maxImageSize/$h$jscomp$113_img$$.height)),$w$$=Math.round($h$jscomp$113_img$$.width*$s$$);$h$jscomp$113_img$$=Math.round($h$jscomp$113_img$$.height*$s$$);$graph$$.setSelectionCell($graph$$.insertVertex(null,
null,"",$graph$$.snap($dx$$),$graph$$.snap($dy$$),$w$$,$h$jscomp$113_img$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image="+$text$$+";"))}}),mxUtils.bind(this,function(){var $cell$$=null;$graph$$.getModel().beginUpdate();try{$cell$$=$graph$$.insertVertex($graph$$.getDefaultParent(),null,$text$$,$graph$$.snap($dx$$),$graph$$.snap($dy$$),1,1,"text;"+($html$$?"html=1;":"")),$graph$$.updateCellSize($cell$$),$graph$$.fireEvent(new mxEventObject("textInserted",
"cells",[$cell$$]))}finally{$graph$$.getModel().endUpdate()}$graph$$.setSelectionCell($cell$$)}))}else{$text$$=Graph.zapGremlins(mxUtils.trim($text$$));if(this.isCompatibleString($text$$))return this.importXml($text$$,$dx$$,$dy$$,$crop$$);if(0<$text$$.length)if(this.isLucidChartData($text$$))this.convertLucidChart($text$$,mxUtils.bind(this,function($xml$$){this.editor.graph.setSelectionCells(this.importXml($xml$$,$dx$$,$dy$$,$crop$$))}),mxUtils.bind(this,function($e$$){this.handleError($e$$)}));else{$graph$$=
this.editor.graph;$asImage_cell$$=null;$graph$$.getModel().beginUpdate();try{$asImage_cell$$=$graph$$.insertVertex($graph$$.getDefaultParent(),null,"",$graph$$.snap($dx$$),$graph$$.snap($dy$$),1,1,"text;"+($html$$?"html=1;":"")),$graph$$.fireEvent(new mxEventObject("textInserted","cells",[$asImage_cell$$])),"<"==$text$$.charAt(0)&&$text$$.indexOf(">")==$text$$.length-1&&($text$$=mxUtils.htmlEntities($text$$)),$text$$.length>this.maxTextBytes&&($text$$=$text$$.substring(0,this.maxTextBytes)+"..."),
$asImage_cell$$.value=$text$$,$graph$$.updateCellSize($asImage_cell$$),/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>??]))/i.test($asImage_cell$$.value)&&$graph$$.setLinkForCell($asImage_cell$$,$asImage_cell$$.value),$asImage_cell$$.geometry.width+=$graph$$.gridSize,$asImage_cell$$.geometry.height+=$graph$$.gridSize}finally{$graph$$.getModel().endUpdate()}return[$asImage_cell$$]}}return[]};
EditorUi.prototype.formatFileSize=function $EditorUi$$formatFileSize$($size$$){var $i$$=-1;do $size$$/=1024,$i$$++;while(1024<$size$$);return Math.max($size$$,.1).toFixed(1)+" kB; MB; GB; TB;PB;EB;ZB;YB".split(";")[$i$$]};EditorUi.prototype.convertDataUri=function $EditorUi$$convertDataUri$($uri$$){if("data:"==$uri$$.substring(0,5)){var $semi$$=$uri$$.indexOf(";");0<$semi$$&&($uri$$=$uri$$.substring(0,$semi$$)+$uri$$.substring($uri$$.indexOf(",",$semi$$+1)))}return $uri$$};EditorUi.prototype.isRemoteFileFormat=
function $EditorUi$$isRemoteFileFormat$($data$$,$filename$$){return/(\"contentType\":\s*\"application\/gliffy\+json\")/.test($data$$)};EditorUi.prototype.isLucidChartData=function $EditorUi$$isLucidChartData$($data$$){return null!=$data$$&&'{"state":"{\\"Properties\\":'==$data$$.substring(0,26)};EditorUi.prototype.importLocalFile=function $EditorUi$$importLocalFile$($device$$,$noSplash$$){if($device$$&&Graph.fileSupport&&(!mxClient.IS_IE&&!mxClient.IS_IE11||0>navigator.appVersion.indexOf("Windows NT 6.1"))){if(null==
this.importFileInputElt){var $input$$=document.createElement("input");$input$$.setAttribute("type","file");$input$$.setAttribute("accept",".csetd");mxEvent.addListener($input$$,"change",mxUtils.bind(this,function(){null!=$input$$.files&&CsetUtils.importFilesCSETD($input$$.files,this.editor);$input$$.value=""}));$input$$.style.display="none";document.body.appendChild($input$$);this.importFileInputElt=$input$$}this.importFileInputElt.click()}else{window.openNew=!1;window.openKey="import";if(!$noSplash$$){var $prevValue$$=
Editor.useLocalStorage;Editor.useLocalStorage=!$device$$}window.openFile=new OpenFile(mxUtils.bind(this,function($cancel$$){this.hideDialog($cancel$$)}));window.openFile.setConsumer(mxUtils.bind(this,function($xml$jscomp$0$$,$filename$$){if(null!=$filename$$&&Graph.fileSupport&&/(\.v(dx|sdx?))($|\?)/i.test($filename$$)){var $file$$=new Blob([$xml$jscomp$0$$],{type:"application/octet-stream"});this.importVisio($file$$,mxUtils.bind(this,function($xml$$){this.importXml($xml$$,0,0,!0)}),null,$filename$$)}else this.editor.graph.setSelectionCells(this.importXml($xml$jscomp$0$$,
0,0,!0))}));this.showDialog((new OpenDialog(this)).container,360,220,!0,!0,function(){window.openFile=null});if(!$noSplash$$){var $dlg$$=this.dialog,$dlgClose$$=$dlg$$.close;this.dialog.close=mxUtils.bind(this,function($cancel$$){Editor.useLocalStorage=$prevValue$$;$dlgClose$$.apply($dlg$$,arguments);$cancel$$&&null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.showSplash()})}}};EditorUi.prototype.importFile=function $EditorUi$$importFile$($data$$,$mimeType$jscomp$12_semi$jscomp$1_xml$$,$dx$$,
$dy$$,$w$$,$h$$,$filename$$,$done$$,$containsModel_file$$,$crop$$,$ignoreEmbeddedXml$$){$crop$$=null!=$crop$$?$crop$$:!0;var $async$$=!1,$cells$jscomp$54_graph$$=null,$handleResult$$=mxUtils.bind(this,function($xml$$){var $importedCells$$=null;null!=$xml$$&&"<mxlibrary"==$xml$$.substring(0,10)?this.loadLibrary(new LocalLibrary(this,$xml$$,$filename$$)):$importedCells$$=this.importXml($xml$$,$dx$$,$dy$$,$crop$$);null!=$done$$&&$done$$($importedCells$$)});"image"==$mimeType$jscomp$12_semi$jscomp$1_xml$$.substring(0,
5)?($containsModel_file$$=!1,"image/png"==$mimeType$jscomp$12_semi$jscomp$1_xml$$.substring(0,9)&&($mimeType$jscomp$12_semi$jscomp$1_xml$$=$ignoreEmbeddedXml$$?null:this.extractGraphModelFromPng($data$$),null!=$mimeType$jscomp$12_semi$jscomp$1_xml$$&&0<$mimeType$jscomp$12_semi$jscomp$1_xml$$.length&&($cells$jscomp$54_graph$$=this.importXml($mimeType$jscomp$12_semi$jscomp$1_xml$$,$dx$$,$dy$$,$crop$$),$containsModel_file$$=!0)),$containsModel_file$$||($cells$jscomp$54_graph$$=this.editor.graph,$mimeType$jscomp$12_semi$jscomp$1_xml$$=
$data$$.indexOf(";"),0<$mimeType$jscomp$12_semi$jscomp$1_xml$$&&($data$$=$data$$.substring(0,$mimeType$jscomp$12_semi$jscomp$1_xml$$)+$data$$.substring($data$$.indexOf(",",$mimeType$jscomp$12_semi$jscomp$1_xml$$+1))),$crop$$&&$cells$jscomp$54_graph$$.isGridEnabled()&&($dx$$=$cells$jscomp$54_graph$$.snap($dx$$),$dy$$=$cells$jscomp$54_graph$$.snap($dy$$)),$cells$jscomp$54_graph$$=[$cells$jscomp$54_graph$$.insertVertex(null,null,"",$dx$$,$dy$$,$w$$,$h$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image="+
$data$$+";")])):/(\.*<graphml )/.test($data$$)?($async$$=!0,this.importGraphML($data$$,$handleResult$$)):null!=$containsModel_file$$&&null!=$filename$$&&(/(\.v(dx|sdx?))($|\?)/i.test($filename$$)||/(\.vs(x|sx?))($|\?)/i.test($filename$$))?($async$$=!0,this.importVisio($containsModel_file$$,$handleResult$$)):!this.isOffline()&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($data$$,$filename$$)?($async$$=!0,this.parseFile(null!=$containsModel_file$$?$containsModel_file$$:new Blob([$data$$],{type:"application/octet-stream"}),
mxUtils.bind(this,function($xhr$$){4==$xhr$$.readyState&&(200<=$xhr$$.status&&299>=$xhr$$.status?$handleResult$$($xhr$$.responseText):null!=$done$$&&$done$$(null))}),$filename$$)):/(\.v(sd|dx))($|\?)/i.test($filename$$)||/(\.vs(s|x))($|\?)/i.test($filename$$)||($cells$jscomp$54_graph$$=this.insertTextAt(this.validateFileData($data$$),$dx$$,$dy$$,!0,null,$crop$$));$async$$||null==$done$$||$done$$($cells$jscomp$54_graph$$);return $cells$jscomp$54_graph$$};EditorUi.prototype.base64Encode=function $EditorUi$$base64Encode$($str$$){for(var $out$$=
"",$i$$=0,$len$$=$str$$.length,$c1$$,$c2$$,$c3$$;$i$$<$len$$;){$c1$$=$str$$.charCodeAt($i$$++)&255;if($i$$==$len$$){$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&3)<<4);$out$$+="==";break}$c2$$=$str$$.charCodeAt($i$$++);if($i$$==$len$$){$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&
3)<<4|($c2$$&240)>>4);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c2$$&15)<<2);$out$$+="=";break}$c3$$=$str$$.charCodeAt($i$$++);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c1$$>>2);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c1$$&3)<<4|($c2$$&240)>>4);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(($c2$$&15)<<2|($c3$$&192)>>6);$out$$+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt($c3$$&
63)}return $out$$};EditorUi.prototype.importFiles=function $EditorUi$$importFiles$($files$$,$x$jscomp$0$$,$y$jscomp$0$$,$maxSize$$,$fn$$,$resultFn$$,$filterFn$$,$barrierFn$$,$resizeDialog$$,$maxBytes$$,$resampleThreshold$$,$ignoreEmbeddedXml$$){$x$jscomp$0$$=null!=$x$jscomp$0$$?$x$jscomp$0$$:0;$y$jscomp$0$$=null!=$y$jscomp$0$$?$y$jscomp$0$$:0;$maxSize$$=null!=$maxSize$$?$maxSize$$:this.maxImageSize;$maxBytes$$=null!=$maxBytes$$?$maxBytes$$:this.maxImageBytes;var $crop$$=null!=$x$jscomp$0$$&&null!=
$y$jscomp$0$$,$resizeImages$$=!0,$largeImages_tmp$$=!1;if(!mxClient.IS_CHROMEAPP&&null!=$files$$)for(var $thresh$$=$resampleThreshold$$||this.resampleThreshold,$i$jscomp$0$$=0;$i$jscomp$0$$<$files$$.length;$i$jscomp$0$$++)if("image/"==$files$$[$i$jscomp$0$$].type.substring(0,6)&&$files$$[$i$jscomp$0$$].size>$thresh$$){$largeImages_tmp$$=!0;break}var $doImportFiles$$=mxUtils.bind(this,function(){var $graph$$=this.editor.graph,$gs$$=$graph$$.gridSize;$fn$$=null!=$fn$$?$fn$$:mxUtils.bind(this,function($data$$,
$mimeType$$,$x$$,$y$$,$w$$,$h$$,$filename$$,$done$$,$file$$){return null!=$data$$&&"<mxlibrary"==$data$$.substring(0,10)?(this.spinner.stop(),this.loadLibrary(new LocalLibrary(this,$data$$,$filename$$)),null):this.importFile($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$,$filename$$,$done$$,$file$$,$crop$$,$ignoreEmbeddedXml$$)});$resultFn$$=null!=$resultFn$$?$resultFn$$:mxUtils.bind(this,function($cells$$){$graph$$.setSelectionCells($cells$$)});if(this.spinner.spin(document.body,mxResources.get("loading")))for(var $count$$=
$files$$.length,$remain$$=$count$$,$queue$$=[],$barrier$$=mxUtils.bind(this,function($index$$,$fnc$$){$queue$$[$index$$]=$fnc$$;if(0==--$remain$$){this.spinner.stop();if(null!=$barrierFn$$)$barrierFn$$($queue$$);else{var $cells$$=[];$graph$$.getModel().beginUpdate();try{for(var $j$$=0;$j$$<$queue$$.length;$j$$++){var $tmp$$=$queue$$[$j$$]();null!=$tmp$$&&($cells$$=$cells$$.concat($tmp$$))}}finally{$graph$$.getModel().endUpdate()}}$resultFn$$($cells$$)}}),$i$$=0;$i$$<$count$$;$i$$++)mxUtils.bind(this,
function($index$$){var $file$$=$files$$[$index$$];if(null!=$file$$){var $reader$$=new FileReader;$reader$$.onload=mxUtils.bind(this,function($e$$){if(null==$filterFn$$||$filterFn$$($file$$))if("image/"==$file$$.type.substring(0,6))if("image/svg"==$file$$.type.substring(0,9)){var $data$$=$e$$.target.result,$comma$$=$data$$.indexOf(","),$containsModel$jscomp$1_svgRoot$$=decodeURIComponent(escape(atob($data$$.substring($comma$$+1)))),$root$$=mxUtils.parseXml($containsModel$jscomp$1_svgRoot$$),$containsModel$jscomp$1_svgRoot$$=
$root$$.getElementsByTagName("svg");if(0<$containsModel$jscomp$1_svgRoot$$.length){var $containsModel$jscomp$1_svgRoot$$=$containsModel$jscomp$1_svgRoot$$[0],$cont$$=$ignoreEmbeddedXml$$?null:$containsModel$jscomp$1_svgRoot$$.getAttribute("content");null!=$cont$$&&"<"!=$cont$$.charAt(0)&&"%"!=$cont$$.charAt(0)&&($cont$$=unescape(window.atob?atob($cont$$):Base64.decode($cont$$,!0)));null!=$cont$$&&"%"==$cont$$.charAt(0)&&($cont$$=decodeURIComponent($cont$$));null==$cont$$||"<mxfile "!==$cont$$.substring(0,
8)&&"<mxGraphModel "!==$cont$$.substring(0,14)?$barrier$$($index$$,mxUtils.bind(this,function(){try{if($data$$.substring(0,$comma$$+1),null!=$root$$){var $svgs$$=$root$$.getElementsByTagName("svg");if(0<$svgs$$.length){var $svgRoot$$=$svgs$$[0],$w$$=parseFloat($svgRoot$$.getAttribute("width")),$h$$=parseFloat($svgRoot$$.getAttribute("height")),$vb$$=$svgRoot$$.getAttribute("viewBox");if(null==$vb$$||0==$vb$$.length)$svgRoot$$.setAttribute("viewBox","0 0 "+$w$$+" "+$h$$);else if(isNaN($w$$)||isNaN($h$$)){var $tokens$$=
$vb$$.split(" ");3<$tokens$$.length&&($w$$=parseFloat($tokens$$[2]),$h$$=parseFloat($tokens$$[3]))}$data$$=this.createSvgDataUri(mxUtils.getXml($svgRoot$$));var $s$$=Math.min(1,Math.min($maxSize$$/Math.max(1,$w$$)),$maxSize$$/Math.max(1,$h$$)),$cells$$=$fn$$($data$$,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,Math.max(1,Math.round($w$$*$s$$)),Math.max(1,Math.round($h$$*$s$$)),$file$$.name);if(isNaN($w$$)||isNaN($h$$)){var $img$$=new Image;$img$$.onload=mxUtils.bind(this,
function(){$w$$=Math.max(1,$img$$.width);$h$$=Math.max(1,$img$$.height);$cells$$[0].geometry.width=$w$$;$cells$$[0].geometry.height=$h$$;$svgRoot$$.setAttribute("viewBox","0 0 "+$w$$+" "+$h$$);$data$$=this.createSvgDataUri(mxUtils.getXml($svgRoot$$));var $semi$$=$data$$.indexOf(";");0<$semi$$&&($data$$=$data$$.substring(0,$semi$$)+$data$$.substring($data$$.indexOf(",",$semi$$+1)));$graph$$.setCellStyles("image",$data$$,[$cells$$[0]])});$img$$.src=this.createSvgDataUri(mxUtils.getXml($svgRoot$$))}return $cells$$}}}catch($e$19$$){}return null})):
$barrier$$($index$$,mxUtils.bind(this,function(){return $fn$$($cont$$,"text/xml",$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,0,0,$file$$.name)}))}else $barrier$$($index$$,mxUtils.bind(this,function(){return null}))}else{$containsModel$jscomp$1_svgRoot$$=!1;if("image/png"==$file$$.type){var $xml$$=$ignoreEmbeddedXml$$?null:this.extractGraphModelFromPng($e$$.target.result);if(null!=$xml$$&&0<$xml$$.length){var $img$jscomp$0$$=new Image;$img$jscomp$0$$.src=$e$$.target.result;$barrier$$($index$$,
mxUtils.bind(this,function(){return $fn$$($xml$$,"text/xml",$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,$img$jscomp$0$$.width,$img$jscomp$0$$.height,$file$$.name)}));$containsModel$jscomp$1_svgRoot$$=!0}}$containsModel$jscomp$1_svgRoot$$||(mxClient.IS_CHROMEAPP?(this.spinner.stop(),this.showError(mxResources.get("error"),mxResources.get("dragAndDropNotSupported"),mxResources.get("cancel"),mxUtils.bind(this,function(){}),null,mxResources.get("ok"),mxUtils.bind(this,function(){this.actions.get("import").funct()}))):
this.loadImage($e$$.target.result,mxUtils.bind(this,function($img$$){this.resizeImage($img$$,$e$$.target.result,mxUtils.bind(this,function($data2$$,$w2$$,$h2$$){$barrier$$($index$$,mxUtils.bind(this,function(){if(null!=$data2$$&&$data2$$.length<$maxBytes$$){var $s$$=$resizeImages$$&&this.isResampleImage($e$$.target.result,$resampleThreshold$$)?Math.min(1,Math.min($maxSize$$/$w2$$,$maxSize$$/$h2$$)):1;return $fn$$($data2$$,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,Math.round($w2$$*
$s$$),Math.round($h2$$*$s$$),$file$$.name)}this.handleError({message:mxResources.get("imageTooBig")});return null}))}),$resizeImages$$,$maxSize$$,$resampleThreshold$$)}),mxUtils.bind(this,function(){this.handleError({message:mxResources.get("invalidOrMissingFile")})})))}else $fn$$($e$$.target.result,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,240,160,$file$$.name,function($cells$$){$barrier$$($index$$,function(){return $cells$$})})});/(\.v(dx|sdx?))($|\?)/i.test($file$$.name)||
/(\.vs(x|sx?))($|\?)/i.test($file$$.name)?$fn$$(null,$file$$.type,$x$jscomp$0$$+$index$$*$gs$$,$y$jscomp$0$$+$index$$*$gs$$,240,160,$file$$.name,function($cells$$){$barrier$$($index$$,function(){return $cells$$})},$file$$):"image"==$file$$.type.substring(0,5)?$reader$$.readAsDataURL($file$$):$reader$$.readAsText($file$$)}})($i$$)});if($largeImages_tmp$$){$largeImages_tmp$$=[];for($i$jscomp$0$$=0;$i$jscomp$0$$<$files$$.length;$i$jscomp$0$$++)$largeImages_tmp$$.push($files$$[$i$jscomp$0$$]);$files$$=
$largeImages_tmp$$;this.confirmImageResize(function($doResize$$){$resizeImages$$=$doResize$$;$doImportFiles$$()},$resizeDialog$$)}else $doImportFiles$$()};EditorUi.prototype.confirmImageResize=function $EditorUi$$confirmImageResize$($fn$$,$force$$){$force$$=null!=$force$$?$force$$:!1;var $resume$$=null!=this.spinner&&null!=this.spinner.pause?this.spinner.pause():function(){},$resizeImages$$=isLocalStorage||mxClient.IS_CHROMEAPP?mxSettings.getResizeImages():null,$wrapper$$=function $$wrapper$$$($remember$$,
$resize$$){if($remember$$||$force$$)mxSettings.setResizeImages($remember$$?$resize$$:null),mxSettings.save();$resume$$();$fn$$($resize$$)};null==$resizeImages$$||$force$$?this.showDialog((new ConfirmDialog(this,mxResources.get("resizeLargeImages"),function($remember$$){$wrapper$$($remember$$,!0)},function($remember$$){$wrapper$$($remember$$,!1)},mxResources.get("resize"),mxResources.get("actualSize"),'<img style="margin-top:8px;" src="'+Editor.loResImage+'"/>','<img style="margin-top:8px;" src="'+
Editor.hiResImage+'"/>',isLocalStorage||mxClient.IS_CHROMEAPP)).container,340,isLocalStorage||mxClient.IS_CHROMEAPP?220:200,!0,!0):$wrapper$$(!1,$resizeImages$$)};EditorUi.prototype.parseFile=function $EditorUi$$parseFile$($file$$,$fn$$,$filename$$){$filename$$=null!=$filename$$?$filename$$:$file$$.name;var $formData$$=new FormData;$formData$$.append("format","xml");$formData$$.append("upfile",$file$$,$filename$$);var $xhr$$=new XMLHttpRequest;$xhr$$.open("POST",OPEN_URL);$xhr$$.onreadystatechange=
function $$xhr$$$onreadystatechange$(){$fn$$($xhr$$)};$xhr$$.send($formData$$)};EditorUi.prototype.isResampleImage=function $EditorUi$$isResampleImage$($data$$,$thresh$$){$thresh$$=null!=$thresh$$?$thresh$$:this.resampleThreshold;return $data$$.length>$thresh$$};EditorUi.prototype.resizeImage=function $EditorUi$$resizeImage$($img$$,$data$$,$fn$$,$enabled$$,$maxSize$$,$thresh$$){$maxSize$$=null!=$maxSize$$?$maxSize$$:this.maxImageSize;var $w$$=Math.max(1,$img$$.width),$h$$=Math.max(1,$img$$.height);
if($enabled$$&&this.isResampleImage($data$$,$thresh$$))try{var $factor$$=Math.max($w$$/$maxSize$$,$h$$/$maxSize$$);if(1<$factor$$){var $w2$$=Math.round($w$$/$factor$$),$h2$$=Math.round($h$$/$factor$$),$canvas$$=document.createElement("canvas");$canvas$$.width=$w2$$;$canvas$$.height=$h2$$;$canvas$$.getContext("2d").drawImage($img$$,0,0,$w2$$,$h2$$);var $tmp$$=$canvas$$.toDataURL();if($tmp$$.length<$data$$.length){var $canvas2$$=document.createElement("canvas");$canvas2$$.width=$w2$$;$canvas2$$.height=
$h2$$;var $tmp2$$=$canvas2$$.toDataURL();$tmp$$!==$tmp2$$&&($data$$=$tmp$$,$w$$=$w2$$,$h$$=$h2$$)}}}catch($e$$){}$fn$$($data$$,$w$$,$h$$)};EditorUi.prototype.crcTable=[];for(var $n$jscomp$0$$=0;256>$n$jscomp$0$$;$n$jscomp$0$$++)for(var $c$jscomp$0$$=$n$jscomp$0$$,$k$$=0;8>$k$$;$k$$++)$c$jscomp$0$$=1==($c$jscomp$0$$&1)?3988292384^$c$jscomp$0$$>>>1:$c$jscomp$0$$>>>1,EditorUi.prototype.crcTable[$n$jscomp$0$$]=$c$jscomp$0$$;EditorUi.prototype.updateCRC=function $EditorUi$$updateCRC$($c$jscomp$75_crc$$,
$data$$,$off$$,$len$$){for(var $n$$=0;$n$$<$len$$;$n$$++)$c$jscomp$75_crc$$=EditorUi.prototype.crcTable[($c$jscomp$75_crc$$^$data$$.charCodeAt($off$$+$n$$))&255]^$c$jscomp$75_crc$$>>>8;return $c$jscomp$75_crc$$};EditorUi.prototype.crc32=function $EditorUi$$crc32$($str$$){this.crcTable=this.crcTable||this.createCrcTable();for(var $crc$$=-1,$i$$=0;$i$$<$str$$.length;$i$$++)$crc$$=$crc$$>>>8^this.crcTable[($crc$$^$str$$.charCodeAt($i$$))&255];return($crc$$^-1)>>>0};EditorUi.prototype.writeGraphModelToPng=
function $EditorUi$$writeGraphModelToPng$($base64$jscomp$5_data$jscomp$105_f$$,$type$$,$chunkData$jscomp$1_key$$,$crc$jscomp$3_value$$,$error$jscomp$44_result$$){function $fread$$($d$$,$count$$){var $start$$=$pos$$;$pos$$+=$count$$;return $d$$.substring($start$$,$pos$$)}function $_freadint$$($bytes$jscomp$3_d$$){$bytes$jscomp$3_d$$=$fread$$($bytes$jscomp$3_d$$,4);return $bytes$jscomp$3_d$$.charCodeAt(3)+($bytes$jscomp$3_d$$.charCodeAt(2)<<8)+($bytes$jscomp$3_d$$.charCodeAt(1)<<16)+($bytes$jscomp$3_d$$.charCodeAt(0)<<
24)}function $writeInt$$($num$$){return String.fromCharCode($num$$>>24&255,$num$$>>16&255,$num$$>>8&255,$num$$&255)}$base64$jscomp$5_data$jscomp$105_f$$=$base64$jscomp$5_data$jscomp$105_f$$.substring($base64$jscomp$5_data$jscomp$105_f$$.indexOf(",")+1);$base64$jscomp$5_data$jscomp$105_f$$=window.atob?atob($base64$jscomp$5_data$jscomp$105_f$$):Base64.decode($base64$jscomp$5_data$jscomp$105_f$$,!0);var $pos$$=0;if($fread$$($base64$jscomp$5_data$jscomp$105_f$$,8)!=String.fromCharCode(137)+"PNG"+String.fromCharCode(13,
10,26,10))null!=$error$jscomp$44_result$$&&$error$jscomp$44_result$$();else if($fread$$($base64$jscomp$5_data$jscomp$105_f$$,4),"IHDR"!=$fread$$($base64$jscomp$5_data$jscomp$105_f$$,4))null!=$error$jscomp$44_result$$&&$error$jscomp$44_result$$();else{$fread$$($base64$jscomp$5_data$jscomp$105_f$$,17);$error$jscomp$44_result$$=$base64$jscomp$5_data$jscomp$105_f$$.substring(0,$pos$$);do{var $n$$=$_freadint$$($base64$jscomp$5_data$jscomp$105_f$$);if("IDAT"==$fread$$($base64$jscomp$5_data$jscomp$105_f$$,
4)){$error$jscomp$44_result$$=$base64$jscomp$5_data$jscomp$105_f$$.substring(0,$pos$$-8);$chunkData$jscomp$1_key$$=$chunkData$jscomp$1_key$$+String.fromCharCode(0)+("zTXt"==$type$$?String.fromCharCode(0):"")+$crc$jscomp$3_value$$;$crc$jscomp$3_value$$=4294967295;$crc$jscomp$3_value$$=this.updateCRC($crc$jscomp$3_value$$,$type$$,0,4);$crc$jscomp$3_value$$=this.updateCRC($crc$jscomp$3_value$$,$chunkData$jscomp$1_key$$,0,$chunkData$jscomp$1_key$$.length);$error$jscomp$44_result$$+=$writeInt$$($chunkData$jscomp$1_key$$.length)+
$type$$+$chunkData$jscomp$1_key$$+$writeInt$$($crc$jscomp$3_value$$^4294967295);$error$jscomp$44_result$$+=$base64$jscomp$5_data$jscomp$105_f$$.substring($pos$$-8,$base64$jscomp$5_data$jscomp$105_f$$.length);break}$error$jscomp$44_result$$+=$base64$jscomp$5_data$jscomp$105_f$$.substring($pos$$-8,$pos$$-4+$n$$);$fread$$($base64$jscomp$5_data$jscomp$105_f$$,$n$$);$fread$$($base64$jscomp$5_data$jscomp$105_f$$,4)}while($n$$);return"data:image/png;base64,"+(window.btoa?btoa($error$jscomp$44_result$$):
Base64.encode($error$jscomp$44_result$$,!0))}};EditorUi.prototype.extractGraphModelFromPng=function $EditorUi$$extractGraphModelFromPng$($data$$){var $result$$=null;try{var $base64$$=$data$$.substring($data$$.indexOf(",")+1),$binary$$=window.atob&&!mxClient.IS_SF?atob($base64$$):Base64.decode($base64$$,!0);EditorUi.parsePng($binary$$,mxUtils.bind(this,function($pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$,$type$$,$idx$jscomp$7_length$$){$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$=
$binary$$.substring($pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$+8,$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$+8+$idx$jscomp$7_length$$);"zTXt"==$type$$?($idx$jscomp$7_length$$=$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$.indexOf(String.fromCharCode(0)),"mxGraphModel"==$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$.substring(0,$idx$jscomp$7_length$$)&&($pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$=Graph.bytesToString(pako.inflateRaw($pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$.substring($idx$jscomp$7_length$$+
2))).replace(/\+/g," "),null!=$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$&&0<$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$.length&&($result$$=$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$))):"tEXt"==$type$$&&($pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$=$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$.split(String.fromCharCode(0)),1<$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$.length&&"mxGraphModel"==$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$[0]&&
($result$$=$pos$jscomp$8_vals$jscomp$3_value$jscomp$119_xmlData$$[1]));if(null!=$result$$||"IDAT"==$type$$)return!0}))}catch($e$$){}null!=$result$$&&"%"==$result$$.charAt(0)&&($result$$=decodeURIComponent($result$$));null!=$result$$&&"%"==$result$$.charAt(0)&&($result$$=decodeURIComponent($result$$));return $result$$};EditorUi.prototype.loadImage=function $EditorUi$$loadImage$($uri$$,$onload$$,$onerror$$){try{var $img$$=new Image;$img$$.onload=function $$img$$$onload$(){$onload$$($img$$)};null!=$onerror$$&&
($img$$.onerror=$onerror$$);$img$$.src=$uri$$}catch($e$$){if(null!=$onerror$$)$onerror$$($e$$);else throw $e$$;}};var $editorUiInit$$=EditorUi.prototype.init;EditorUi.prototype.init=function $EditorUi$$init$(){mxStencilRegistry.allowEval=mxStencilRegistry.allowEval&&!this.isOfflineApp();"undefined"!==typeof window.mxSettings&&(this.formatWidth=mxSettings.getFormatWidth());var $ui$$=this,$graph$jscomp$0$$=this.editor.graph;$graph$jscomp$0$$.getLinkTitle=function $$graph$jscomp$0$$$getLinkTitle$($href$$){return $ui$$.getLinkTitle($href$$)};
$graph$jscomp$0$$.customLinkClicked=function $$graph$jscomp$0$$$customLinkClicked$($link$$){var $done$$=!1;try{$ui$$.handleCustomLink($link$$),$done$$=!0}catch($e$$){$ui$$.handleError($e$$)}return $done$$};var $clearDefaultStyle$$=this.clearDefaultStyle;this.clearDefaultStyle=function $this$clearDefaultStyle$(){$clearDefaultStyle$$.apply(this,arguments)};this.isOffline()||"undefined"===typeof window.EditDataDialog||(EditDataDialog.placeholderHelpLink="https://desk.draw.io/support/solutions/articles/16000051979");
var $editorGetEditBlankUrl$$=$ui$$.editor.getEditBlankUrl;this.editor.getEditBlankUrl=function $this$editor$getEditBlankUrl$($params$$){$params$$=null!=$params$$?$params$$:"";if(null!=$ui$$.pages&&null!=$ui$$.currentPage)for(var $i$$=0;$i$$<$ui$$.pages.length;$i$$++)if($ui$$.pages[$i$$]==$ui$$.currentPage){0<$i$$&&($params$$+=(0<$params$$.length?"&":"?")+"page="+$i$$);break}"1"==urlParams.dev&&($params$$+=(0<$params$$.length?"&":"?")+"dev=1&drawdev=1");return $editorGetEditBlankUrl$$.apply(this,arguments)};
var $graphAddClickHandler$$=$graph$jscomp$0$$.addClickHandler;$graph$jscomp$0$$.addClickHandler=function $$graph$jscomp$0$$$addClickHandler$($highlight$$,$beforeClick$$,$onClick$$){var $tmp$$=$beforeClick$$;$beforeClick$$=function $$beforeClick$$$($evt$$,$href$$){if(null==$href$$){var $source$$=mxEvent.getSource($evt$$);"a"==$source$$.nodeName.toLowerCase()&&($href$$=$source$$.getAttribute("href"))}null!=$href$$&&$graph$jscomp$0$$.isCustomLink($href$$)&&(mxEvent.isTouchEvent($evt$$)||!mxEvent.isPopupTrigger($evt$$))&&
$graph$jscomp$0$$.customLinkClicked($href$$)&&mxEvent.consume($evt$$);null!=$tmp$$&&$tmp$$($evt$$,$href$$)};$graphAddClickHandler$$.call(this,$highlight$$,$beforeClick$$,$onClick$$)};$editorUiInit$$.apply(this,arguments);mxClient.IS_SVG&&this.editor.graph.addSvgShadow($graph$jscomp$0$$.view.canvas.ownerSVGElement,null,!0);$ui$$.actions.get("print").funct=function $$ui$$$actions$get$funct$(){$ui$$.showDialog((new PrintDialog($ui$$)).container,360,null!=$ui$$.pages&&1<$ui$$.pages.length?420:360,!0,
!0)};this.defaultFilename=mxResources.get("untitledDiagram");var $graphGetGlobalVariable$$=$graph$jscomp$0$$.getGlobalVariable;$graph$jscomp$0$$.getGlobalVariable=function $$graph$jscomp$0$$$getGlobalVariable$($name$$){return"page"==$name$$&&null!=$ui$$.currentPage?$ui$$.currentPage.getName():"pagenumber"==$name$$?null!=$ui$$.currentPage&&null!=$ui$$.pages?mxUtils.indexOf($ui$$.pages,$ui$$.currentPage)+1:1:$graphGetGlobalVariable$$.apply(this,arguments)};var $graphLabelLinkClicked$$=$graph$jscomp$0$$.labelLinkClicked;
$graph$jscomp$0$$.labelLinkClicked=function $$graph$jscomp$0$$$labelLinkClicked$($state$$,$elt$$,$evt$$){var $href$$=$elt$$.getAttribute("href");if(null==$href$$||!$graph$jscomp$0$$.isCustomLink($href$$)||!mxEvent.isTouchEvent($evt$$)&&mxEvent.isPopupTrigger($evt$$))$graphLabelLinkClicked$$.apply(this,arguments);else{if(!$graph$jscomp$0$$.isEnabled()||null!=$state$$&&$graph$jscomp$0$$.isCellLocked($state$$.cell))$graph$jscomp$0$$.customLinkClicked($href$$),$graph$jscomp$0$$.getRubberband().reset();
mxEvent.consume($evt$$)}};this.editor.getOrCreateFilename=function $this$editor$getOrCreateFilename$(){var $filename$$=$ui$$.defaultFilename,$file$$=$ui$$.getCurrentFile();null!=$file$$&&($filename$$=null!=$file$$.getTitle()?$file$$.getTitle():$filename$$);return $filename$$};var $footer$$=this.actions.get("print");$footer$$.setEnabled(!mxClient.IS_IOS||!navigator.standalone);$footer$$.visible=$footer$$.isEnabled();if(!this.editor.chromeless||this.editor.editable){var $clearInput$$=function $$clearInput$$$(){window.setTimeout(function(){$textInput$$.innerHTML=
"&nbsp;";$textInput$$.focus();document.execCommand("selectAll",!1,null)},0)};this.keyHandler.bindAction(70,!0,"find");this.keyHandler.bindAction(67,!0,"copyStyle",!0);this.keyHandler.bindAction(86,!0,"pasteStyle",!0);this.keyHandler.bindAction(77,!0,"editGeometry",!0);this.keyHandler.bindAction(88,!0,"insertText",!0);this.keyHandler.bindAction(75,!0,"insertRectangle");this.keyHandler.bindAction(75,!0,"insertEllipse",!0);mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||(this.altShiftActions[83]="synchronize");
mxClient.IS_IE||$graph$jscomp$0$$.container.addEventListener("paste",mxUtils.bind(this,function($evt$$){var $graph$$=this.editor.graph;if(!mxEvent.isConsumed($evt$$))try{for(var $data$jscomp$0$$=$evt$$.clipboardData||$evt$$.originalEvent.clipboardData,$containsText$$=!1,$i$jscomp$0$$=0;$i$jscomp$0$$<$data$jscomp$0$$.types.length;$i$jscomp$0$$++)if("text/"===$data$jscomp$0$$.types[$i$jscomp$0$$].substring(0,5)){$containsText$$=!0;break}if(!$containsText$$){var $items$$=$data$jscomp$0$$.items;for(index in $items$$){var $item$$=
$items$$[index];if("file"===$item$$.kind){if($graph$$.isEditing())this.importFiles([$item$$.getAsFile()],0,0,this.maxImageSize,function($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$){$graph$$.insertImage($data$$,$w$$,$h$$)},function(){},function($file$$){return"image/"==$file$$.type.substring(0,6)},function($queue$$){for(var $i$$=0;$i$$<$queue$$.length;$i$$++)$queue$$[$i$$]()});else{var $pt$$=this.editor.graph.getInsertPoint();this.importFiles([$item$$.getAsFile()],$pt$$.x,$pt$$.y,this.maxImageSize);mxEvent.consume($evt$$)}break}}}}catch($e$$){}}),
!1);var $textInput$$=document.createElement("div");$textInput$$.style.position="absolute";$textInput$$.style.whiteSpace="nowrap";$textInput$$.style.overflow="hidden";$textInput$$.style.display="block";$textInput$$.contentEditable=!0;mxUtils.setOpacity($textInput$$,0);$textInput$$.style.width="1px";$textInput$$.style.height="1px";$textInput$$.innerHTML="&nbsp;";var $restoreFocus$$=!1;this.keyHandler.bindControlKey(88,null);this.keyHandler.bindControlKey(67,null);this.keyHandler.bindControlKey(86,null);
mxEvent.addListener(document,"keydown",mxUtils.bind(this,function($evt$$){var $source$$=mxEvent.getSource($evt$$);null==$graph$jscomp$0$$.container||!$graph$jscomp$0$$.isEnabled()||$graph$jscomp$0$$.isMouseDown||$graph$jscomp$0$$.isEditing()||null!=this.dialog||"INPUT"==$source$$.nodeName||"TEXTAREA"==$source$$.nodeName||!(224==$evt$$.keyCode||!mxClient.IS_MAC&&17==$evt$$.keyCode||mxClient.IS_MAC&&91==$evt$$.keyCode)||$restoreFocus$$||($textInput$$.style.left=$graph$jscomp$0$$.container.scrollLeft+
10+"px",$textInput$$.style.top=$graph$jscomp$0$$.container.scrollTop+10+"px",$graph$jscomp$0$$.container.appendChild($textInput$$),$restoreFocus$$=!0,mxClient.IS_QUIRKS?window.setTimeout(function(){$textInput$$.focus();document.execCommand("selectAll",!1,null)},0):($textInput$$.focus(),document.execCommand("selectAll",!1,null)))}));mxEvent.addListener(document,"keyup",mxUtils.bind(this,function($evt$$){var $keyCode$$=$evt$$.keyCode;window.setTimeout(mxUtils.bind(this,function(){!$restoreFocus$$||
224!=$keyCode$$&&17!=$keyCode$$&&91!=$keyCode$$||($restoreFocus$$=!1,$graph$jscomp$0$$.isEditing()||null!=this.dialog||null==$graph$jscomp$0$$.container||$graph$jscomp$0$$.container.focus(),$textInput$$.parentNode.removeChild($textInput$$),null==this.dialog&&mxUtils.clearSelection())}),0)}));mxEvent.addListener($textInput$$,"copy",mxUtils.bind(this,function($evt$$){if($graph$jscomp$0$$.isEnabled())try{mxClipboard.copy($graph$jscomp$0$$),this.copyCells($textInput$$),$clearInput$$()}catch($e$$){this.handleError($e$$)}}));
mxEvent.addListener($textInput$$,"cut",mxUtils.bind(this,function($evt$$){if($graph$jscomp$0$$.isEnabled())try{mxClipboard.copy($graph$jscomp$0$$),this.copyCells($textInput$$,!0),$clearInput$$()}catch($e$$){this.handleError($e$$)}}));mxEvent.addListener($textInput$$,"paste",mxUtils.bind(this,function($evt$$){$graph$jscomp$0$$.isEnabled()&&!$graph$jscomp$0$$.isCellLocked($graph$jscomp$0$$.getDefaultParent())&&($textInput$$.innerHTML="&nbsp;",$textInput$$.focus(),window.setTimeout(mxUtils.bind(this,
function(){this.pasteCells($evt$$,$textInput$$);$textInput$$.innerHTML="&nbsp;"}),0))}),!0);var $isSelectionAllowed2$$=this.isSelectionAllowed;this.isSelectionAllowed=function $this$isSelectionAllowed$($evt$$){return mxEvent.getSource($evt$$)==$textInput$$?!0:$isSelectionAllowed2$$.apply(this,arguments)}}this.spinner=this.createSpinner(document.body.clientWidth/2-2,Math.max(document.body.clientHeight||0,document.documentElement.clientHeight||0)/2,24);Graph.fileSupport&&this.editor.graph.addListener(mxEvent.EDITING_STARTED,
mxUtils.bind(this,function($evt$jscomp$0$$){var $graph$$=this.editor.graph,$textElt$$=$graph$$.cellEditor.text2,$dropElt$$=null;null!=$textElt$$&&(mxEvent.addListener($textElt$$,"dragleave",function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);$evt$$.stopPropagation();$evt$$.preventDefault()}),mxEvent.addListener($textElt$$,"dragover",mxUtils.bind(this,function($evt$$){null==$dropElt$$&&(!mxClient.IS_IE||10<document.documentMode)&&($dropElt$$=this.highlightElement($textElt$$));
$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($textElt$$,"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);if(0<$evt$$.dataTransfer.files.length)this.importFiles($evt$$.dataTransfer.files,0,0,this.maxImageSize,function($data$$,$mimeType$$,$x$$,$y$$,$w$$,$h$$){$graph$$.insertImage($data$$,$w$$,$h$$)},function(){},function($file$$){return"image/"==$file$$.type.substring(0,6)},function($queue$$){for(var $i$$=
0;$i$$<$queue$$.length;$i$$++)$queue$$[$i$$]()},mxEvent.isControlDown($evt$$));else if(0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/uri-list")){var $uri$$=$evt$$.dataTransfer.getData("text/uri-list");/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($uri$$)?this.loadImage(decodeURIComponent($uri$$),mxUtils.bind(this,function($h$jscomp$120_img$$){var $w$$=Math.max(1,$h$jscomp$120_img$$.width);$h$jscomp$120_img$$=Math.max(1,$h$jscomp$120_img$$.height);var $maxSize$jscomp$4_s$$=this.maxImageSize,$maxSize$jscomp$4_s$$=
Math.min(1,Math.min($maxSize$jscomp$4_s$$/Math.max(1,$w$$)),$maxSize$jscomp$4_s$$/Math.max(1,$h$jscomp$120_img$$));$graph$$.insertImage(decodeURIComponent($uri$$),$w$$*$maxSize$jscomp$4_s$$,$h$jscomp$120_img$$*$maxSize$jscomp$4_s$$)})):document.execCommand("insertHTML",!1,$evt$$.dataTransfer.getData("text/plain"))}else 0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/html")?document.execCommand("insertHTML",!1,$evt$$.dataTransfer.getData("text/html")):0<=mxUtils.indexOf($evt$$.dataTransfer.types,
"text/plain")&&document.execCommand("insertHTML",!1,$evt$$.dataTransfer.getData("text/plain"));$evt$$.stopPropagation();$evt$$.preventDefault()})))}));if("1"==urlParams.ruler&&"undefined"!==typeof mxRuler){$footer$$=document.createElement("div");$footer$$.style.position="absolute";$footer$$.style.top="95px";$footer$$.style.left="250px";$footer$$.style.width="2000px";$footer$$.style.height="30px";$footer$$.style.background="whiteSmoke";document.body.appendChild($footer$$);var $vRulerDiv$$=document.createElement("div");
$vRulerDiv$$.style.position="absolute";$vRulerDiv$$.style.top="125px";$vRulerDiv$$.style.left="220px";$vRulerDiv$$.style.width="30px";$vRulerDiv$$.style.height="1000px";$vRulerDiv$$.style.background="whiteSmoke";document.body.appendChild($vRulerDiv$$);var $square$$=document.createElement("div");$square$$.style.position="absolute";$square$$.style.top="95px";$square$$.style.left="220px";$square$$.style.width="30px";$square$$.style.height="30px";$square$$.style.background="whiteSmoke";document.body.appendChild($square$$);
this.vRuler=new mxRuler(this.editor.graph,$vRulerDiv$$,!0);this.hRuler=new mxRuler(this.editor.graph,$footer$$,!1)}if("1"==urlParams.styledev){$footer$$=document.getElementById("geFooter");null!=$footer$$&&(this.styleInput=document.createElement("input"),this.styleInput.setAttribute("type","text"),this.styleInput.style.position="absolute",this.styleInput.style.top="14px",this.styleInput.style.left="2px",this.styleInput.style.width="98%",this.styleInput.style.visibility="hidden",this.styleInput.style.opacity=
"0.9",mxEvent.addListener(this.styleInput,"change",mxUtils.bind(this,function(){this.editor.graph.getModel().setStyle(this.editor.graph.getSelectionCell(),this.styleInput.value)})),$footer$$.appendChild(this.styleInput),this.editor.graph.getSelectionModel().addListener(mxEvent.CHANGE,mxUtils.bind(this,function($sender$$,$evt$$){if(0<this.editor.graph.getSelectionCount()){var $cell$jscomp$75_style$$=this.editor.graph.getSelectionCell(),$cell$jscomp$75_style$$=this.editor.graph.getModel().getStyle($cell$jscomp$75_style$$);
this.styleInput.value=$cell$jscomp$75_style$$||"";this.styleInput.style.visibility="visible"}else this.styleInput.style.visibility="hidden"})));var $isSelectionAllowed$$=this.isSelectionAllowed;this.isSelectionAllowed=function $this$isSelectionAllowed$($evt$$){return mxEvent.getSource($evt$$)==this.styleInput?!0:$isSelectionAllowed$$.apply(this,arguments)}}$footer$$=document.getElementById("geInfo");null!=$footer$$&&$footer$$.parentNode.removeChild($footer$$);if(Graph.fileSupport&&(!this.editor.chromeless||
this.editor.editable)){var $dropElt$$=null;mxEvent.addListener($graph$jscomp$0$$.container,"dragleave",function($evt$$){$graph$jscomp$0$$.isEnabled()&&(null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null),$evt$$.stopPropagation(),$evt$$.preventDefault())});mxEvent.addListener($graph$jscomp$0$$.container,"dragover",mxUtils.bind(this,function($evt$$){null==$dropElt$$&&(!mxClient.IS_IE||10<document.documentMode)&&($dropElt$$=this.highlightElement($graph$jscomp$0$$.container));
null!=this.sidebar&&this.sidebar.hideTooltip();$evt$$.stopPropagation();$evt$$.preventDefault()}));mxEvent.addListener($graph$jscomp$0$$.container,"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);if($graph$jscomp$0$$.isEnabled()){var $a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$=mxUtils.convertPoint($graph$jscomp$0$$.container,mxEvent.getClientX($evt$$),mxEvent.getClientY($evt$$)),$imgs$jscomp$2_tr$$=$graph$jscomp$0$$.view.translate,
$scale$$=$graph$jscomp$0$$.view.scale,$x$$=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$.x/$scale$$-$imgs$jscomp$2_tr$$.x,$y$$=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$.y/$scale$$-$imgs$jscomp$2_tr$$.y;mxEvent.isAltDown($evt$$)&&($y$$=$x$$=0);if(0<$evt$$.dataTransfer.files.length)this.importFiles($evt$$.dataTransfer.files,$x$$,$y$$,this.maxImageSize,null,null,null,null,mxEvent.isControlDown($evt$$),null,null,mxEvent.isShiftDown($evt$$));else{var $uri$$=0<=mxUtils.indexOf($evt$$.dataTransfer.types,
"text/uri-list")?$evt$$.dataTransfer.getData("text/uri-list"):null,$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$=this.extractGraphModelFromEvent($evt$$,null!=this.pages);if(null!=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$)$graph$jscomp$0$$.setSelectionCells(this.importXml($a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$,$x$$,$y$$,!0));else if(0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/html")){var $html$$=$evt$$.dataTransfer.getData("text/html"),$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$=
document.createElement("div");$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$.innerHTML=$html$$;var $asImage$$=null,$imgs$jscomp$2_tr$$=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$.getElementsByTagName("img");null!=$imgs$jscomp$2_tr$$&&1==$imgs$jscomp$2_tr$$.length?($html$$=$imgs$jscomp$2_tr$$[0].getAttribute("src"),/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($html$$)||($asImage$$=!0)):($a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$.getElementsByTagName("a"),
null!=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$&&1==$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$.length&&($html$$=$a$jscomp$7_data$jscomp$110_div$jscomp$24_pt$$[0].getAttribute("href")));var $resizeImages$$=!0,$doInsert$$=mxUtils.bind(this,function(){$graph$jscomp$0$$.setSelectionCells(this.insertTextAt($html$$,$x$$,$y$$,!0,$asImage$$,null,$resizeImages$$))});$asImage$$&&$html$$.length>this.resampleThreshold?this.confirmImageResize(function($doResize$$){$resizeImages$$=$doResize$$;$doInsert$$()},
mxEvent.isControlDown($evt$$)):$doInsert$$()}else null!=$uri$$&&/\.(gif|jpg|jpeg|tiff|png|svg)$/i.test($uri$$)?this.loadImage(decodeURIComponent($uri$$),mxUtils.bind(this,function($h$jscomp$121_img$$){var $w$$=Math.max(1,$h$jscomp$121_img$$.width);$h$jscomp$121_img$$=Math.max(1,$h$jscomp$121_img$$.height);var $maxSize$jscomp$5_s$$=this.maxImageSize,$maxSize$jscomp$5_s$$=Math.min(1,Math.min($maxSize$jscomp$5_s$$/Math.max(1,$w$$)),$maxSize$jscomp$5_s$$/Math.max(1,$h$jscomp$121_img$$));$graph$jscomp$0$$.setSelectionCell($graph$jscomp$0$$.insertVertex(null,
null,"",$x$$,$y$$,$w$$*$maxSize$jscomp$5_s$$,$h$jscomp$121_img$$*$maxSize$jscomp$5_s$$,"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image="+$uri$$+";"))}),mxUtils.bind(this,function($img$$){$graph$jscomp$0$$.setSelectionCells(this.insertTextAt($uri$$,$x$$,$y$$,!0))})):0<=mxUtils.indexOf($evt$$.dataTransfer.types,"text/plain")&&$graph$jscomp$0$$.setSelectionCells(this.insertTextAt($evt$$.dataTransfer.getData("text/plain"),$x$$,
$y$$,!0))}}$evt$$.stopPropagation();$evt$$.preventDefault()}),!1)}this.initPages();this.editUpdateListener=mxUtils.bind(this,function($sender$$,$evt$$){var $edit$$=$evt$$.getProperty("edit");null!=$edit$$&&this.updateEditReferences($edit$$)});this.editor.undoManager.addListener(mxEvent.BEFORE_UNDO,this.editUpdateListener);this.editor.undoManager.addListener(mxEvent.BEFORE_REDO,this.editUpdateListener);"1"==urlParams.embed&&this.initializeEmbedMode();this.installSettings()};EditorUi.prototype.getLinkTitle=
function $EditorUi$$getLinkTitle$($href$$){var $page$jscomp$11_title$$=Graph.prototype.getLinkTitle.apply(this,arguments);if("data:page/id,"==$href$$.substring(0,13)){var $comma$$=$href$$.indexOf(",");0<$comma$$&&($page$jscomp$11_title$$=this.getPageById($href$$.substring($comma$$+1)),$page$jscomp$11_title$$=null!=$page$jscomp$11_title$$?$page$jscomp$11_title$$.getName():mxResources.get("pageNotFound"))}else"data:"==$href$$.substring(0,5)&&($page$jscomp$11_title$$=mxResources.get("action"));return $page$jscomp$11_title$$};
EditorUi.prototype.handleCustomLink=function $EditorUi$$handleCustomLink$($href$jscomp$16_page$$){if("data:page/id,"==$href$jscomp$16_page$$.substring(0,13)){var $comma$$=$href$jscomp$16_page$$.indexOf(",");if($href$jscomp$16_page$$=this.getPageById($href$jscomp$16_page$$.substring($comma$$+1)))this.selectPage($href$jscomp$16_page$$);else throw Error(mxResources.get("pageNotFound")||"Page not found");}else this.editor.graph.handleCustomLink($href$jscomp$16_page$$)};EditorUi.prototype.isSettingsEnabled=
function $EditorUi$$isSettingsEnabled$(){return"undefined"!==typeof window.mxSettings&&(isLocalStorage||mxClient.IS_CHROMEAPP)};EditorUi.prototype.installSettings=function $EditorUi$$installSettings$(){if(this.isSettingsEnabled()){ColorDialog.recentColors=mxSettings.getRecentColors();this.fireEvent(new mxEventObject("styleChanged","keys",[],"values",[],"cells",[]));this.editor.graph.connectionHandler.setCreateTarget(mxSettings.isCreateTarget());this.fireEvent(new mxEventObject("copyConnectChanged"));
this.addListener("copyConnectChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setCreateTarget(this.editor.graph.connectionHandler.isCreateTarget());mxSettings.save()}));this.editor.graph.pageFormat=mxSettings.getPageFormat();this.addListener("pageFormatChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setPageFormat(this.editor.graph.pageFormat);mxSettings.save()}));this.editor.graph.view.gridColor=mxSettings.getGridColor();this.addListener("gridColorChanged",mxUtils.bind(this,
function($sender$$,$evt$$){mxSettings.setGridColor(this.editor.graph.view.gridColor);mxSettings.save()}));if(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp)this.editor.addListener("autosaveChanged",mxUtils.bind(this,function($sender$$,$evt$$){mxSettings.setAutosave(this.editor.autosave);mxSettings.save()})),this.editor.autosave=mxSettings.getAutosave();null!=this.sidebar&&this.sidebar.showPalette("search",mxSettings.settings.search);this.editor.chromeless&&!this.editor.editable||null==this.sidebar||
!(mxSettings.settings.isNew||8>=parseInt(mxSettings.settings.version||0))||(this.toggleScratchpad(),mxSettings.save());this.addListener("formatWidthChanged",function(){mxSettings.setFormatWidth(this.formatWidth);mxSettings.save()})}};EditorUi.prototype.copyCells=function $EditorUi$$copyCells$($elt$$,$removeCells$$){var $graph$$=this.editor.graph;if($graph$$.isSelectionEmpty())$elt$$.innerHTML="";else{var $cells$$=mxUtils.sortCells($graph$$.model.getTopmostCells($graph$$.getSelectionCells())),$xml$$=
mxUtils.getXml(this.editor.graph.encodeCells($cells$$));mxUtils.setTextContent($elt$$,encodeURIComponent($xml$$));$removeCells$$?($graph$$.removeCells($cells$$,!1),$graph$$.lastPasteXml=null):($graph$$.lastPasteXml=$xml$$,$graph$$.pasteCounter=0);$elt$$.focus();document.execCommand("selectAll",!1,null)}};EditorUi.prototype.pasteCells=function $EditorUi$$pasteCells$($evt$$,$elt$$){if(!mxEvent.isConsumed($evt$$)){var $dx$$=$elt$$.getElementsByTagName("span");if(null!=$dx$$&&0<$dx$$.length&&"application/vnd.lucid.chart.objects"===
$dx$$[0].getAttribute("data-lucid-type")){var $content$jscomp$7_graph$$=$dx$$[0].getAttribute("data-lucid-content");null!=$content$jscomp$7_graph$$&&0<$content$jscomp$7_graph$$.length&&(this.convertLucidChart($content$jscomp$7_graph$$,mxUtils.bind(this,function($xml$$){var $graph$$=this.editor.graph;$graph$$.setSelectionCells(this.importXml($xml$$,0,0));$graph$$.scrollCellToVisible($graph$$.getSelectionCell())}),mxUtils.bind(this,function($e$$){this.handleError($e$$)})),mxEvent.consume($evt$$))}else{var $content$jscomp$7_graph$$=
this.editor.graph,$xml$jscomp$0$$=mxUtils.trim(mxClient.IS_QUIRKS||8==document.documentMode?mxUtils.getTextContent($elt$$):$elt$$.textContent),$compat_pt$$=!1;try{var $idx$$=$xml$jscomp$0$$.lastIndexOf("%3E");0<=$idx$$&&$idx$$<$xml$jscomp$0$$.length-3&&($xml$jscomp$0$$=$xml$jscomp$0$$.substring(0,$idx$$+3))}catch($e$$){}try{var $dx$$=$elt$$.getElementsByTagName("span"),$tmp$$=null!=$dx$$&&0<$dx$$.length?mxUtils.trim(decodeURIComponent($dx$$[0].textContent)):decodeURIComponent($xml$jscomp$0$$);this.isCompatibleString($tmp$$)&&
($compat_pt$$=!0,$xml$jscomp$0$$=$tmp$$)}catch($e$20$$){}$content$jscomp$7_graph$$.lastPasteXml==$xml$jscomp$0$$?$content$jscomp$7_graph$$.pasteCounter++:($content$jscomp$7_graph$$.lastPasteXml=$xml$jscomp$0$$,$content$jscomp$7_graph$$.pasteCounter=0);$dx$$=$content$jscomp$7_graph$$.pasteCounter*$content$jscomp$7_graph$$.gridSize;if(null!=$xml$jscomp$0$$&&0<$xml$jscomp$0$$.length&&($compat_pt$$||this.isCompatibleString($xml$jscomp$0$$)?$content$jscomp$7_graph$$.setSelectionCells(this.importXml($xml$jscomp$0$$,
$dx$$,$dx$$)):($compat_pt$$=$content$jscomp$7_graph$$.getInsertPoint(),$content$jscomp$7_graph$$.isMouseInsertPoint()&&($dx$$=0,$content$jscomp$7_graph$$.lastPasteXml==$xml$jscomp$0$$&&0<$content$jscomp$7_graph$$.pasteCounter&&$content$jscomp$7_graph$$.pasteCounter--),$content$jscomp$7_graph$$.setSelectionCells(this.insertTextAt($xml$jscomp$0$$,$compat_pt$$.x+$dx$$,$compat_pt$$.y+$dx$$,!0))),!$content$jscomp$7_graph$$.isSelectionEmpty())){$content$jscomp$7_graph$$.scrollCellToVisible($content$jscomp$7_graph$$.getSelectionCell());
null!=this.hoverIcons&&this.hoverIcons.update($content$jscomp$7_graph$$.view.getState($content$jscomp$7_graph$$.getSelectionCell()));try{mxEvent.consume($evt$$)}catch($e$21$$){}}}}};EditorUi.prototype.addFileDropHandler=function $EditorUi$$addFileDropHandler$($elts$$){if(Graph.fileSupport)for(var $dropElt$$=null,$i$$=0;$i$$<$elts$$.length;$i$$++)mxEvent.addListener($elts$$[$i$$],"dragleave",function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);$evt$$.stopPropagation();
$evt$$.preventDefault()}),mxEvent.addListener($elts$$[$i$$],"dragover",mxUtils.bind(this,function($evt$$){(this.editor.graph.isEnabled()||"1"!=urlParams.embed)&&null==$dropElt$$&&(!mxClient.IS_IE||10<document.documentMode&&12>document.documentMode)&&($dropElt$$=this.highlightElement());$evt$$.stopPropagation();$evt$$.preventDefault()})),mxEvent.addListener($elts$$[$i$$],"drop",mxUtils.bind(this,function($evt$$){null!=$dropElt$$&&($dropElt$$.parentNode.removeChild($dropElt$$),$dropElt$$=null);if(this.editor.graph.isEnabled()||
"1"!=urlParams.embed)if(0<$evt$$.dataTransfer.files.length)this.hideDialog(),"1"==urlParams.embed?this.importFiles($evt$$.dataTransfer.files,0,0,this.maxImageSize,null,null,null,null,!mxEvent.isControlDown($evt$$)&&!mxEvent.isShiftDown($evt$$)):this.openFiles($evt$$.dataTransfer.files,!0);else{var $data$jscomp$111_xml$$=this.extractGraphModelFromEvent($evt$$);if(null==$data$jscomp$111_xml$$){var $div$jscomp$25_imgs$jscomp$3_provider$$=null!=$evt$$.dataTransfer?$evt$$.dataTransfer:$evt$$.clipboardData;
null!=$div$jscomp$25_imgs$jscomp$3_provider$$&&(10==document.documentMode||11==document.documentMode?$data$jscomp$111_xml$$=$div$jscomp$25_imgs$jscomp$3_provider$$.getData("Text"):($data$jscomp$111_xml$$=null,$data$jscomp$111_xml$$=0<=mxUtils.indexOf($div$jscomp$25_imgs$jscomp$3_provider$$.types,"text/uri-list")?$evt$$.dataTransfer.getData("text/uri-list"):0<=mxUtils.indexOf($div$jscomp$25_imgs$jscomp$3_provider$$.types,"text/html")?$div$jscomp$25_imgs$jscomp$3_provider$$.getData("text/html"):null,
null!=$data$jscomp$111_xml$$&&0<$data$jscomp$111_xml$$.length?($div$jscomp$25_imgs$jscomp$3_provider$$=document.createElement("div"),$div$jscomp$25_imgs$jscomp$3_provider$$.innerHTML=$data$jscomp$111_xml$$,$div$jscomp$25_imgs$jscomp$3_provider$$=$div$jscomp$25_imgs$jscomp$3_provider$$.getElementsByTagName("img"),0<$div$jscomp$25_imgs$jscomp$3_provider$$.length&&($data$jscomp$111_xml$$=$div$jscomp$25_imgs$jscomp$3_provider$$[0].getAttribute("src"))):0<=mxUtils.indexOf($div$jscomp$25_imgs$jscomp$3_provider$$.types,
"text/plain")&&($data$jscomp$111_xml$$=$div$jscomp$25_imgs$jscomp$3_provider$$.getData("text/plain"))),null!=$data$jscomp$111_xml$$&&("data:image/png;base64,"==$data$jscomp$111_xml$$.substring(0,22)?($data$jscomp$111_xml$$=this.extractGraphModelFromPng($data$jscomp$111_xml$$),null!=$data$jscomp$111_xml$$&&0<$data$jscomp$111_xml$$.length&&this.openLocalFile($data$jscomp$111_xml$$,null,!0)):!this.isOffline()&&this.isRemoteFileFormat($data$jscomp$111_xml$$)?(new mxXmlRequest(OPEN_URL,"format=xml&data="+
encodeURIComponent($data$jscomp$111_xml$$))).send(mxUtils.bind(this,function($req$$){200<=$req$$.getStatus()&&299>=$req$$.getStatus()&&this.openLocalFile($req$$.getText(),null,!0)})):/^https?:\/\//.test($data$jscomp$111_xml$$)&&(null==this.getCurrentFile()?window.location.hash="#U"+encodeURIComponent($data$jscomp$111_xml$$):window.openWindow((mxClient.IS_CHROMEAPP?EditorUi.drawHost+"/":"https://"+location.host+"/")+window.location.search+"#U"+encodeURIComponent($data$jscomp$111_xml$$)))))}else this.openLocalFile($data$jscomp$111_xml$$,
null,!0)}$evt$$.stopPropagation();$evt$$.preventDefault()}))};EditorUi.prototype.highlightElement=function $EditorUi$$highlightElement$($elt$$){var $x$$=0,$y$$=0,$w$$,$b$jscomp$11_h$$;if(null==$elt$$){$b$jscomp$11_h$$=document.body;var $d$jscomp$10_hl$$=document.documentElement;$w$$=($b$jscomp$11_h$$.clientWidth||$d$jscomp$10_hl$$.clientWidth)-3;$b$jscomp$11_h$$=Math.max($b$jscomp$11_h$$.clientHeight||0,$d$jscomp$10_hl$$.clientHeight)-3}else $x$$=$elt$$.offsetTop,$y$$=$elt$$.offsetLeft,$w$$=$elt$$.clientWidth,
$b$jscomp$11_h$$=$elt$$.clientHeight;$d$jscomp$10_hl$$=document.createElement("div");$d$jscomp$10_hl$$.style.zIndex=mxPopupMenu.prototype.zIndex+2;$d$jscomp$10_hl$$.style.border="3px dotted rgb(254, 137, 12)";$d$jscomp$10_hl$$.style.pointerEvents="none";$d$jscomp$10_hl$$.style.position="absolute";$d$jscomp$10_hl$$.style.top=$x$$+"px";$d$jscomp$10_hl$$.style.left=$y$$+"px";$d$jscomp$10_hl$$.style.width=Math.max(0,$w$$-3)+"px";$d$jscomp$10_hl$$.style.height=Math.max(0,$b$jscomp$11_h$$-3)+"px";null!=
$elt$$&&$elt$$.parentNode==this.editor.graph.container?this.editor.graph.container.appendChild($d$jscomp$10_hl$$):document.body.appendChild($d$jscomp$10_hl$$);return $d$jscomp$10_hl$$};EditorUi.prototype.stringToCells=function $EditorUi$$stringToCells$($cells$jscomp$61_doc$jscomp$16_xml$$){$cells$jscomp$61_doc$jscomp$16_xml$$=mxUtils.parseXml($cells$jscomp$61_doc$jscomp$16_xml$$);var $node$jscomp$43_parent$$=this.editor.extractGraphModel($cells$jscomp$61_doc$jscomp$16_xml$$.documentElement);$cells$jscomp$61_doc$jscomp$16_xml$$=
[];if(null!=$node$jscomp$43_parent$$){var $codec$jscomp$5_j$$=new mxCodec($node$jscomp$43_parent$$.ownerDocument),$model$$=new mxGraphModel;$codec$jscomp$5_j$$.decode($node$jscomp$43_parent$$,$model$$);$node$jscomp$43_parent$$=$model$$.getChildAt($model$$.getRoot(),0);for($codec$jscomp$5_j$$=0;$codec$jscomp$5_j$$<$model$$.getChildCount($node$jscomp$43_parent$$);$codec$jscomp$5_j$$++)$cells$jscomp$61_doc$jscomp$16_xml$$.push($model$$.getChildAt($node$jscomp$43_parent$$,$codec$jscomp$5_j$$))}return $cells$jscomp$61_doc$jscomp$16_xml$$};
EditorUi.prototype.openFiles=function $EditorUi$$openFiles$($files$$,$temp$$){if(this.spinner.spin(document.body,mxResources.get("loading")))for(var $i$$=0;$i$$<$files$$.length;$i$$++)mxUtils.bind(this,function($file$$){var $reader$$=new FileReader;$reader$$.onload=mxUtils.bind(this,function($e$jscomp$0$$){try{var $data$$=$e$jscomp$0$$.target.result,$name$$=$file$$.name;if(null!=$name$$&&0<$name$$.length){!this.useCanvasForExport&&/(\.png)$/i.test($name$$)&&($name$$=$name$$.substring(0,$name$$.length-
4)+".drawio");var $handleResult$$=mxUtils.bind(this,function($xml$$){$name$$=0<=$name$$.lastIndexOf(".")?$name$$.substring(0,$name$$.lastIndexOf("."))+".drawio":$name$$+".drawio";if("<mxlibrary"==$xml$$.substring(0,10)){null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.openLocalFile(this.emptyDiagramXml,this.defaultFilename,$temp$$);try{this.loadLibrary(new LocalLibrary(this,$xml$$,$name$$))}catch($e$22$$){this.handleError($e$22$$,mxResources.get("errorLoadingFile"))}}else this.openLocalFile($xml$$,
$name$$,$temp$$)});if(/(\.v(dx|sdx?))($|\?)/i.test($name$$)||/(\.vs(x|sx?))($|\?)/i.test($name$$))this.importVisio($file$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();$handleResult$$($xml$$)}));else if(/(\.*<graphml )/.test($data$$))this.importGraphML($data$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();$handleResult$$($xml$$)}));else if(Graph.fileSupport&&!this.isOffline()&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($data$$,$name$$))this.parseFile($file$$,mxUtils.bind(this,
function($xhr$$){4==$xhr$$.readyState&&(this.spinner.stop(),200<=$xhr$$.status&&299>=$xhr$$.status?$handleResult$$($xhr$$.responseText):this.handleError({message:mxResources.get(413==$xhr$$.status?"drawingTooLarge":"invalidOrMissingFile")},mxResources.get("errorLoadingFile")))}));else if(this.isLucidChartData($data$$))/(\.json)$/i.test($name$$)&&($name$$=$name$$.substring(0,$name$$.length-5)+".drawio"),this.convertLucidChart($data$$,mxUtils.bind(this,function($xml$$){this.spinner.stop();this.openLocalFile($xml$$,
$name$$,$temp$$)}),mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$)}));else if("<mxlibrary"==$e$jscomp$0$$.target.result.substring(0,10)){this.spinner.stop();null==this.getCurrentFile()&&"1"!=urlParams.embed&&this.openLocalFile(this.emptyDiagramXml,this.defaultFilename,$temp$$);try{this.loadLibrary(new LocalLibrary(this,$e$jscomp$0$$.target.result,$file$$.name))}catch($e$23$$){this.handleError($e$23$$,mxResources.get("errorLoadingFile"))}}else"image/png"==$file$$.type.substring(0,
9)&&($data$$=this.extractGraphModelFromPng($data$$)),this.spinner.stop(),this.openLocalFile($data$$,$name$$,$temp$$)}}catch($e$24$$){this.handleError($e$24$$)}});$reader$$.onerror=mxUtils.bind(this,function($e$$){this.spinner.stop();this.handleError($e$$);window.openFile=null});"image"===$file$$.type.substring(0,5)&&"image/svg"!==$file$$.type.substring(0,9)?$reader$$.readAsDataURL($file$$):$reader$$.readAsText($file$$)})($files$$[$i$$])};EditorUi.prototype.openLocalFile=function $EditorUi$$openLocalFile$($data$$,
$name$$,$temp$$){var $currentFile$$=this.getCurrentFile(),$fn$$=mxUtils.bind(this,function(){window.openFile=null;if(null==$name$$&&null!=this.getCurrentFile()&&this.isDiagramEmpty()){var $doc$$=mxUtils.parseXml($data$$);null!=$doc$$&&(this.editor.setGraphXml($doc$$.documentElement),this.editor.graph.selectAll())}else this.fileLoaded(new LocalFile(this,$data$$,$name$$||this.defaultFilename,$temp$$))});if(null!=$data$$&&0<$data$$.length)null==$currentFile$$||!$currentFile$$.isModified()&&(mxClient.IS_CHROMEAPP||
EditorUi.isElectronApp)?$fn$$():(mxClient.IS_CHROMEAPP||EditorUi.isElectronApp)&&null!=$currentFile$$&&$currentFile$$.isModified()?this.confirm(mxResources.get("allChangesLost"),null,$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):(window.openFile=new OpenFile(function(){window.openFile=null}),window.openFile.setData($data$$,$name$$),window.openWindow(this.getUrl(),null,mxUtils.bind(this,function(){null!=$currentFile$$&&$currentFile$$.isModified()?this.confirm(mxResources.get("allChangesLost"),
null,$fn$$,mxResources.get("cancel"),mxResources.get("discardChanges")):$fn$$()})));else throw Error(mxResources.get("notADiagramFile"));};EditorUi.prototype.getBasenames=function $EditorUi$$getBasenames$(){var $basenames$$={};if(null!=this.pages)for(var $i$jscomp$132_result$$=0;$i$jscomp$132_result$$<this.pages.length;$i$jscomp$132_result$$++)this.updatePageRoot(this.pages[$i$jscomp$132_result$$]),this.addBasenamesForCell(this.pages[$i$jscomp$132_result$$].root,$basenames$$);else this.addBasenamesForCell(this.editor.graph.model.getRoot(),
$basenames$$);var $i$jscomp$132_result$$=[],$key$$;for($key$$ in $basenames$$)$i$jscomp$132_result$$.push($key$$);return $i$jscomp$132_result$$};EditorUi.prototype.addBasenamesForCell=function $EditorUi$$addBasenamesForCell$($cell$$,$basenames$$){function $addName$$($name$$){if(null!=$name$$){var $dot$$=$name$$.lastIndexOf(".");0<$dot$$&&($name$$=$name$$.substring($dot$$+1,$name$$.length));null==$basenames$$[$name$$]&&($basenames$$[$name$$]=!0)}}var $graph$$=this.editor.graph,$childCount$jscomp$5_style$$=
$graph$$.getCellStyle($cell$$);$addName$$(mxStencilRegistry.getBasenameForStencil($childCount$jscomp$5_style$$[mxConstants.STYLE_SHAPE]));$graph$$.model.isEdge($cell$$)&&($addName$$(mxMarker.getPackageForType($childCount$jscomp$5_style$$[mxConstants.STYLE_STARTARROW])),$addName$$(mxMarker.getPackageForType($childCount$jscomp$5_style$$[mxConstants.STYLE_ENDARROW])));for(var $childCount$jscomp$5_style$$=$graph$$.model.getChildCount($cell$$),$i$$=0;$i$$<$childCount$jscomp$5_style$$;$i$$++)this.addBasenamesForCell($graph$$.model.getChildAt($cell$$,
$i$$),$basenames$$)};EditorUi.prototype.setGraphEnabled=function $EditorUi$$setGraphEnabled$($enabled$$){this.diagramContainer.style.visibility=$enabled$$?"":"hidden";this.formatContainer.style.visibility=$enabled$$?"":"hidden";this.sidebarFooterContainer.style.display=$enabled$$?"":"none";this.sidebarContainer.style.display=$enabled$$?"":"none";this.hsplit.style.display=$enabled$$?"":"none";this.editor.graph.setEnabled($enabled$$);null!=this.tabContainer&&(this.tabContainer.style.visibility=$enabled$$?
"":"hidden");$enabled$$||(null!=this.actions.outlineWindow&&this.actions.outlineWindow.window.setVisible(!1),null!=this.actions.layersWindow&&this.actions.layersWindow.window.setVisible(!1),null!=this.menus.tagsWindow&&this.menus.tagsWindow.window.setVisible(!1),null!=this.menus.findWindow&&this.menus.findWindow.window.setVisible(!1))};EditorUi.prototype.initializeEmbedMode=function $EditorUi$$initializeEmbedMode$(){this.setGraphEnabled(!1);(window.opener||window.parent)!=window&&("1"!=urlParams.spin||
this.spinner.spin(document.body,mxResources.get("loading")))&&this.installMessageHandler(mxUtils.bind(this,function($xml$$,$evt$$,$modified$$){this.spinner.stop();this.addEmbedButtons();this.setGraphEnabled(!0);null!=$xml$$&&0<$xml$$.length?(this.setFileData($xml$$),this.editor.isChromelessView()?this.editor.graph.isLightboxView()&&this.lightboxFit():this.showLayersDialog(),this.chromelessResize&&this.chromelessResize()):(this.editor.graph.model.clear(),this.editor.fireEvent(new mxEventObject("resetGraphView")));
this.editor.undoManager.clear();this.editor.modified=null!=$modified$$?$modified$$:!1;this.updateUi();window.self!==window.top&&window.focus();null!=this.format&&this.format.refresh()}))};EditorUi.prototype.showLayersDialog=function $EditorUi$$showLayersDialog$(){1<this.editor.graph.getModel().getChildCount(this.editor.graph.getModel().getRoot())&&(null==this.actions.layersWindow?this.actions.get("layers").funct():this.actions.layersWindow.window.setVisible(!0))};EditorUi.prototype.getPublicUrl=function $EditorUi$$getPublicUrl$($file$$,
$fn$$){null!=$file$$?$file$$.getPublicUrl($fn$$):$fn$$(null)};EditorUi.prototype.createLoadMessage=function $EditorUi$$createLoadMessage$($eventName$$){var $graph$$=this.editor.graph;return{event:$eventName$$,pageVisible:$graph$$.pageVisible,translate:$graph$$.view.translate,bounds:$graph$$.getGraphBounds(),currentPage:this.getSelectedPageIndex(),scale:$graph$$.view.scale,page:$graph$$.view.getBackgroundPageBounds()}};EditorUi.prototype.installMessageHandler=function $EditorUi$$installMessageHandler$($fn$$){var $lastData$$=
null,$autosave$$=!1,$ignoreChange$$=!1,$changeListener$$=null,$msg$jscomp$0$$=mxUtils.bind(this,function($sender$$,$eventObject$$){this.editor.modified&&"0"!==urlParams.modified?urlParams.modified&&this.editor.setStatus(mxUtils.htmlEntities(mxResources.get(urlParams.modified))):this.editor.setStatus("")});this.editor.graph.model.addListener(mxEvent.CHANGE,$msg$jscomp$0$$);mxEvent.addListener(window,"message",mxUtils.bind(this,function($evt$jscomp$0$$){if($evt$jscomp$0$$.source===(window.opener||window.parent)){var $data$jscomp$1$$=
$evt$jscomp$0$$.data,$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=mxUtils.bind(this,function($data$$){if($data$$&&"function"===typeof $data$$.charAt&&"<"!==$data$$.charAt(0))try{"data:image/png;base64,"===$data$$.substring(0,22)?$data$$=this.extractGraphModelFromPng($data$$):"data:image/svg+xml;base64,"===$data$$.substring(0,26)?$data$$=atob($data$$.substring(26)):"data:image/svg+xml;utf8,"===$data$$.substring(0,
24)&&($data$$=$data$$.substring(24)),$data$$&&("%"===$data$$.charAt(0)?$data$$=decodeURIComponent($data$$):"<"!==$data$$.charAt(0)&&($data$$=Graph.decompress($data$$)))}catch($e$$){}return $data$$});if("json"===urlParams.proto){try{$data$jscomp$1$$=JSON.parse($data$jscomp$1$$)}catch($e$$){$data$jscomp$1$$=null}if(!$data$jscomp$1$$)return;switch($data$jscomp$1$$.action){case "dialog":this.showError($data$jscomp$1$$.titleKey?mxResources.get($data$jscomp$1$$.titleKey):$data$jscomp$1$$.title,$data$jscomp$1$$.messageKey?
mxResources.get($data$jscomp$1$$.messageKey):$data$jscomp$1$$.message,$data$jscomp$1$$.buttonKey?mxResources.get($data$jscomp$1$$.buttonKey):$data$jscomp$1$$.button);null!=$data$jscomp$1$$.modified&&(this.editor.modified=$data$jscomp$1$$.modified);return;case "prompt":this.spinner.stop();$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=new FilenameDialog(this,$data$jscomp$1$$.defaultValue||"",$data$jscomp$1$$.okKey?
mxResources.get($data$jscomp$1$$.okKey):null,function($value$$){$value$$&&$parent$$.postMessage(JSON.stringify({event:"prompt",value:$value$$,message:$data$jscomp$1$$}),"*")},$data$jscomp$1$$.titleKey?mxResources.get($data$jscomp$1$$.titleKey):$data$jscomp$1$$.title);this.showDialog($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$.container,300,80,!0,!1);$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$.init();
return;case "draft":$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$($data$jscomp$1$$.xml);this.spinner.stop();$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=
new DraftDialog(this,mxResources.get("draftFound",[$data$jscomp$1$$.name||this.defaultFilename]),$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$,mxUtils.bind(this,function(){this.hideDialog();$parent$$.postMessage(JSON.stringify({event:"draft",result:"edit",message:$data$jscomp$1$$}),"*")}),mxUtils.bind(this,function(){this.hideDialog();$parent$$.postMessage(JSON.stringify({event:"draft",result:"discard",
message:$data$jscomp$1$$}),"*")}),$data$jscomp$1$$.editKey?mxResources.get($data$jscomp$1$$.editKey):null,$data$jscomp$1$$.discardKey?mxResources.get($data$jscomp$1$$.discardKey):null,$data$jscomp$1$$.ignore?mxUtils.bind(this,function(){this.hideDialog();$parent$$.postMessage(JSON.stringify({event:"draft",result:"ignore",message:$data$jscomp$1$$}),"*")}):null);this.showDialog($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$.container,
640,480,!0,!1,mxUtils.bind(this,function($cancel$$){$cancel$$&&this.actions.get("exit").funct()}));try{$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$.init()}catch($e$26$$){$parent$$.postMessage(JSON.stringify({event:"draft",error:$e$26$$.toString(),message:$data$jscomp$1$$}),"*")}return;case "template":this.spinner.stop();var $allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=
1===$data$jscomp$1$$.enableRecent,$enableSearchDocs_tmp$31$$=1===$data$jscomp$1$$.enableSearch,$enableCustomTemp$$=1===$data$jscomp$1$$.enableCustomTemp,$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=new NewDialog(this,{compact:!1,showName:!App.CSET&&!!$data$jscomp$1$$.callback,hideFromTemplateUrl:App.CSET,callback:mxUtils.bind(this,function($xml$$,$name$$){$xml$$=$xml$$||this.emptyDiagramXml;$data$jscomp$1$$.callback?
$parent$$.postMessage(JSON.stringify({event:"template",xml:$xml$$,blank:$xml$$===this.emptyDiagramXml,name:$name$$}),"*"):($fn$$($xml$$,$evt$jscomp$0$$,$xml$$!=this.emptyDiagramXml),this.editor.modified||this.editor.setStatus(""))}),recentDocsCallback:$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$?mxUtils.bind(this,function($recentReadyCallback$$){this.remoteInvoke("getRecentDiagrams",null,null,$recentReadyCallback$$,
function(){$recentReadyCallback$$(null,"Network Error!")})}):null,searchDocsCallback:$enableSearchDocs_tmp$31$$?mxUtils.bind(this,function($searchStr$$,$searchReadyCallback$$){this.remoteInvoke("searchDiagrams",[$searchStr$$],null,$searchReadyCallback$$,function(){$searchReadyCallback$$(null,"Network Error!")})}):null,openExtDocCallback:mxUtils.bind(this,function($url$$,$info$$,$name$$){$parent$$.postMessage(JSON.stringify({event:"template",docUrl:$url$$,info:$info$$,name:$name$$}),"*")}),customTempCallback:$enableCustomTemp$$?
mxUtils.bind(this,function($customTempCallback$$){this.remoteInvoke("getCustomTemplates",null,null,$customTempCallback$$,function(){$customTempCallback$$({},0)})}):null});this.showDialog($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$.container,620,440,!0,!1,mxUtils.bind(this,function($cancel$jscomp$10_file$$){$cancel$jscomp$10_file$$&&this.actions.get("exit").funct();App.CSET&&($cancel$jscomp$10_file$$=
this.getCurrentFile())&&$cancel$jscomp$10_file$$.save()}));$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$.init();return;case "textContent":$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=this.getDiagramTextContent();$parent$$.postMessage(JSON.stringify({event:"textContent",data:$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$,
message:$data$jscomp$1$$}),"*");return;case "status":$data$jscomp$1$$.messageKey?this.editor.setStatus(mxUtils.htmlEntities(mxResources.get($data$jscomp$1$$.messageKey))):$data$jscomp$1$$.message&&this.editor.setStatus(mxUtils.htmlEntities($data$jscomp$1$$.message));$data$jscomp$1$$.modified&&(this.editor.modified=$data$jscomp$1$$.modified);return;case "spinner":$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=
$data$jscomp$1$$.messageKey?mxResources.get($data$jscomp$1$$.messageKey):$data$jscomp$1$$.message;this.spinner.spin(document.body,$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$);return;case "export":if("png"===$data$jscomp$1$$.format||"xmlpng"===$data$jscomp$1$$.format){if(!$data$jscomp$1$$.spin&&!$data$jscomp$1$$.spinKey||this.spinner.spin(document.body,$data$jscomp$1$$.spinKey?mxResources.get($data$jscomp$1$$.spinKey):
$data$jscomp$1$$.spin)){var $xml$jscomp$0$$=$data$jscomp$1$$.xml?$data$jscomp$1$$.xml:this.getFileData(!0);this.editor.graph.setEnabled(!1);var $graph$$=this.editor.graph,$postDataBack$$=mxUtils.bind(this,function($uri$$){this.editor.graph.setEnabled(!0);this.spinner.stop();var $msg$$=this.createLoadMessage("export");$msg$$.format=$data$jscomp$1$$.format;$msg$$.message=$data$jscomp$1$$;$msg$$.data=$uri$$;$msg$$.xml=encodeURIComponent($xml$jscomp$0$$);$parent$$.postMessage(JSON.stringify($msg$$),"*")}),
$processUri$$=mxUtils.bind(this,function($uri$$){$uri$$=$uri$$||Editor.blankImage;"xmlpng"===$data$jscomp$1$$.format&&($uri$$=this.writeGraphModelToPng($uri$$,"zTXt","mxGraphModel",atob(Graph.compress($xml$jscomp$0$$))));$graph$$!==this.editor.graph&&$graph$$.container.parentNode.removeChild($graph$$.container);$postDataBack$$($uri$$)});if(this.isExportToCanvas()){if(this.pages&&this.currentPage!==this.pages[0]){var $graph$$=this.createTemporaryGraph($graph$$.getStylesheet()),$page$$=this.pages[0],
$graphGetGlobalVariable$$=$graph$$.getGlobalVariable;$graph$$.getGlobalVariable=function $$graph$$$getGlobalVariable$($name$$){return"page"===$name$$?$page$$.getName():"pagenumber"===$name$$?1:$graphGetGlobalVariable$$.apply(this,arguments)};document.body.appendChild($graph$$.container);$graph$$.model.setRoot($page$$.root)}this.exportToCanvas(mxUtils.bind(this,function($canvas$$){$processUri$$($canvas$$.toDataURL("image/png"))}),null,null,null,mxUtils.bind(this,function(){$processUri$$(null)}),null,
null,null,null,null,null,$graph$$)}else(new mxXmlRequest(EXPORT_URL,"format=png&embedXml="+("xmlpng"===$data$jscomp$1$$.format?"1":"0")+"&base64=1&xml="+encodeURIComponent(encodeURIComponent($xml$jscomp$0$$)))).send(mxUtils.bind(this,function($req$$){200<=$req$$.getStatus()&&299>=$req$$.getStatus()?$postDataBack$$("data:image/png;base64,"+$req$$.getText()):$processUri$$(null)}),mxUtils.bind(this,function(){$processUri$$(null)}))}}else{$data$jscomp$1$$.xml&&this.setFileData($data$jscomp$1$$.xml);var $msg$29$$=
this.createLoadMessage("export");if("html2"===$data$jscomp$1$$.format||"html"===$data$jscomp$1$$.format&&("0"!==urlParams.pages||this.pages&&this.pages.length))$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=this.getXmlFileData(),$msg$29$$.xml=mxUtils.getXml($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$),
$msg$29$$.data=this.getFileData(null,null,!0,null,null,null,$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$),$msg$29$$.format=$data$jscomp$1$$.format;else if("html"===$data$jscomp$1$$.format)$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=this.editor.getGraphXml(),$msg$29$$.data=this.getHtml($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$,
this.editor.graph),$msg$29$$.xml=mxUtils.getXml($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$),$msg$29$$.format=$data$jscomp$1$$.format;else{mxSvgCanvas2D.prototype.foAltText=null;$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=this.editor.graph.background;$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$===
mxConstants.NONE&&($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$=null);$msg$29$$.xml=this.getFileData(!0);$msg$29$$.format="svg";if($data$jscomp$1$$.embedImages||!$data$jscomp$1$$.embedImages){if(!$data$jscomp$1$$.spin&&!$data$jscomp$1$$.spinKey||this.spinner.spin(document.body,$data$jscomp$1$$.spinKey?mxResources.get($data$jscomp$1$$.spinKey):$data$jscomp$1$$.spin))this.editor.graph.setEnabled(!1),
"xmlsvg"===$data$jscomp$1$$.format?this.getEmbeddedSvg($msg$29$$.xml,this.editor.graph,null,!0,mxUtils.bind(this,function($svg$$){this.editor.graph.setEnabled(!0);this.spinner.stop();$msg$29$$.data=this.createSvgDataUri($svg$$);$parent$$.postMessage(JSON.stringify($msg$29$$),"*")})):this.convertImages(this.editor.graph.getSvg($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$),mxUtils.bind(this,function($svgRoot$$){this.editor.graph.setEnabled(!0);
this.spinner.stop();$msg$29$$.data=this.createSvgDataUri(mxUtils.getXml($svgRoot$$));$parent$$.postMessage(JSON.stringify($msg$29$$),"*")}));return}$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$="xmlsvg"===$data$jscomp$1$$.format?this.getEmbeddedSvg(this.getFileData(!0),this.editor.graph,null,!0):mxUtils.getXml(this.editor.graph.getSvg($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$));
$msg$29$$.data=this.createSvgDataUri($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$)}$parent$$.postMessage(JSON.stringify($msg$29$$),"*")}return;case "load":$autosave$$=1===$data$jscomp$1$$.autosave;this.hideDialog();$data$jscomp$1$$.modified&&!urlParams.modified&&(urlParams.modified=$data$jscomp$1$$.modified);$data$jscomp$1$$.saveAndExit&&!urlParams.saveAndExit&&(urlParams.saveAndExit=$data$jscomp$1$$.saveAndExit);
$data$jscomp$1$$.title&&this.buttonContainer&&($enableSearchDocs_tmp$31$$=document.createElement("span"),mxUtils.write($enableSearchDocs_tmp$31$$,$data$jscomp$1$$.title),"atlas"===uiTheme?(this.buttonContainer.style.paddingRight="12px",this.buttonContainer.style.paddingTop="6px",this.buttonContainer.style.right="25px"):"min"!==uiTheme&&(this.buttonContainer.style.paddingRight="38px",this.buttonContainer.style.paddingTop="6px"),this.embedFilenameSpan&&this.embedFilenameSpan.parentNode.removeChild(this.embedFilenameSpan),
this.buttonContainer.appendChild($enableSearchDocs_tmp$31$$),this.embedFilenameSpan=$enableSearchDocs_tmp$31$$);$data$jscomp$1$$=$data$jscomp$1$$.xmlpng?this.extractGraphModelFromPng($data$jscomp$1$$.xmlpng):$data$jscomp$1$$.xml;break;case "remoteInvokeReady":this.handleRemoteInvokeReady($parent$$);return;case "remoteInvoke":this.handleRemoteInvoke($data$jscomp$1$$);return;case "remoteInvokeResponse":this.handleRemoteInvokeResponse($data$jscomp$1$$);return;default:$parent$$.postMessage(JSON.stringify({error:"unknownMessage",
data:JSON.stringify($data$jscomp$1$$)}),"*");return}}var $doLoad$$=mxUtils.bind(this,function($data$jscomp$0$$,$evt$$){$ignoreChange$$=!0;try{$fn$$($data$jscomp$0$$,$evt$$)}catch($e$32$$){this.handleError($e$32$$)}$ignoreChange$$=!1;urlParams.modified&&this.editor.setStatus("");var $getData$$=mxUtils.bind(this,function(){return"0"!==urlParams.pages||this.pages&&this.pages.length?this.getFileData(!0):mxUtils.getXml(this.editor.getGraphXml())});$lastData$$=$getData$$();$autosave$$&&!$changeListener$$&&
($changeListener$$=mxUtils.bind(this,function(){var $data$$=$getData$$();if($data$$!==$lastData$$&&!$ignoreChange$$){var $msg$33$$=this.createLoadMessage("autosave");$msg$33$$.xml=$data$$;$data$$=JSON.stringify($msg$33$$);(window.opener||window.parent).postMessage($data$$,"*")}$lastData$$=$data$$}),this.editor.graph.model.addListener(mxEvent.CHANGE,$changeListener$$),this.editor.graph.addListener("gridSizeChanged",$changeListener$$),this.editor.graph.addListener("shadowVisibleChanged",$changeListener$$),
this.addListener("pageFormatChanged",$changeListener$$),this.addListener("pageScaleChanged",$changeListener$$),this.addListener("backgroundColorChanged",$changeListener$$),this.addListener("backgroundImageChanged",$changeListener$$),this.addListener("foldingEnabledChanged",$changeListener$$),this.addListener("mathEnabledChanged",$changeListener$$),this.addListener("gridEnabledChanged",$changeListener$$),this.addListener("guidesEnabledChanged",$changeListener$$),this.addListener("pageViewChanged",
$changeListener$$));"1"!==urlParams.returnbounds&&"json"!==urlParams.proto||$parent$$.postMessage(JSON.stringify(this.createLoadMessage("load")),"*")});$data$jscomp$1$$&&"function"===typeof $data$jscomp$1$$.substring?"data:application/vnd.visio;base64,"===$data$jscomp$1$$.substring(0,34)?($allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$="0M8R4KGxGuE"===$data$jscomp$1$$.substring(34,45)?"raw.vsd":"raw.vsdx",
this.importVisio(this.base64ToBlob($data$jscomp$1$$.substring($data$jscomp$1$$.indexOf(",")+1)),function($xml$$){$doLoad$$($xml$$,$evt$jscomp$0$$)},mxUtils.bind(this,function($e$$){this.handleError($e$$)}),$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$)):!this.isOffline()&&(new XMLHttpRequest).upload&&this.isRemoteFileFormat($data$jscomp$1$$,"")?this.parseFile(new Blob([$data$jscomp$1$$],{type:"application/octet-stream"}),
mxUtils.bind(this,function($xhr$$){4===$xhr$$.readyState&&200<=$xhr$$.status&&299>=$xhr$$.status&&"<mxGraphModel"===$xhr$$.responseText.substring(0,13)&&$doLoad$$($xhr$$.responseText,$evt$jscomp$0$$)}),""):this.isLucidChartData($data$jscomp$1$$)?this.convertLucidChart($data$jscomp$1$$,mxUtils.bind(this,function($xml$$){$doLoad$$($xml$$)}),mxUtils.bind(this,function($e$$){this.handleError($e$$)})):($data$jscomp$1$$=$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$($data$jscomp$1$$),
$doLoad$$($data$jscomp$1$$,$evt$jscomp$0$$)):($data$jscomp$1$$=$allPagesTxt_bg$jscomp$14_dlg$25_dlg$27_dlg$jscomp$28_enableRecentDocs_extractDiagramXml_filename$jscomp$23_msg$28_node$jscomp$44_svg$jscomp$9_tmp$$($data$jscomp$1$$),$doLoad$$($data$jscomp$1$$,$evt$jscomp$0$$))}}));var $parent$$=window.opener||window.parent,$msg$jscomp$0$$="json"===urlParams.proto?JSON.stringify({event:"init"}):urlParams.ready||"ready";$parent$$.postMessage($msg$jscomp$0$$,"*")};EditorUi.prototype.addEmbedButtons=function $EditorUi$$addEmbedButtons$(){if(null!=
this.menubar){var $div$$=document.createElement("div");$div$$.style.display="inline-block";$div$$.style.position="absolute";$div$$.style.paddingTop="atlas"==uiTheme?"2px":"3px";$div$$.style.paddingLeft="8px";$div$$.style.paddingBottom="2px";var $button$$=document.createElement("button");$button$$.className="geBigButton";$button$$.style.fontSize="12px";$button$$.style.padding="4px 6px 4px 6px";$button$$.style.borderRadius="3px";"1"==urlParams.noSaveBtn?(mxUtils.write($button$$,mxResources.get("saveAndExit")),
$button$$.setAttribute("title",mxResources.get("saveAndExit")),mxEvent.addListener($button$$,"click",mxUtils.bind(this,function(){this.actions.get("saveAndExit").funct()})),$div$$.appendChild($button$$)):(mxUtils.write($button$$,mxResources.get("save")),$button$$.setAttribute("title",mxResources.get("save")+" ("+Editor.ctrlKey+"+S)"),mxEvent.addListener($button$$,"click",mxUtils.bind(this,function(){this.actions.get("save").funct()})),$div$$.appendChild($button$$),"1"==urlParams.saveAndExit&&($button$$=
document.createElement("a"),mxUtils.write($button$$,mxResources.get("saveAndExit")),$button$$.setAttribute("title",mxResources.get("saveAndExit")),$button$$.style.fontSize="12px",$button$$.style.marginLeft="6px",$button$$.style.padding="4px",$button$$.style.cursor="pointer",mxEvent.addListener($button$$,"click",mxUtils.bind(this,function(){this.actions.get("saveAndExit").funct()})),$div$$.appendChild($button$$)));$button$$=document.createElement("a");mxUtils.write($button$$,mxResources.get("exit"));
$button$$.setAttribute("title",mxResources.get("exit"));$button$$.style.fontSize="12px";$button$$.style.marginLeft="6px";$button$$.style.marginRight="20px";$button$$.style.padding="4px";$button$$.style.cursor="pointer";mxEvent.addListener($button$$,"click",mxUtils.bind(this,function(){this.actions.get("exit").funct()}));$div$$.appendChild($button$$);this.toolbar.container.appendChild($div$$);this.toolbar.staticElements.push($div$$);$div$$.style.right="atlas"!=uiTheme?"52px":"42px"}};EditorUi.prototype.showImportCsvDialog=
function $EditorUi$$showImportCsvDialog$(){null==this.importCsvDialog&&(this.importCsvDialog=new TextareaDialog(this,mxResources.get("csv")+":",Editor.defaultCsvValue,mxUtils.bind(this,function($newValue$$){this.importCsv($newValue$$)}),null,null,620,430,null,!0,!0,mxResources.get("import")));this.showDialog(this.importCsvDialog.container,640,520,!0,!0);this.importCsvDialog.init()};EditorUi.prototype.executeLayoutList=function $EditorUi$$executeLayoutList$($layoutList$$,$done$$){for(var $graph$$=
this.editor.graph,$cells$$=$graph$$.getSelectionCells(),$i$$=0;$i$$<$layoutList$$.length;$i$$++){var $layout$$=new window[$layoutList$$[$i$$].layout]($graph$$);if(null!=$layoutList$$[$i$$].config)for(var $key$$ in $layoutList$$[$i$$].config)$layout$$[$key$$]=$layoutList$$[$i$$].config[$key$$];this.executeLayout(function(){$layout$$.execute($graph$$.getDefaultParent(),0==$cells$$.length?null:$cells$$)},$i$$==$layoutList$$.length-1,$done$$)}};EditorUi.prototype.importCsv=function $EditorUi$$importCsv$($text$$,
$done$$){try{var $lines$$=$text$$.split("\n"),$cells$$=[],$dups$$={};if(0<$lines$$.length){var $lookups$$={},$style$$=null,$parentstyle$$=null,$exists_identity$$=null,$parent$$=null,$namespace$$="",$width$$="auto",$height$$="auto",$left$$=null,$top$$=null,$edgespacing$$=40,$nodespacing$$=40,$levelspacing$$=100,$padding$$=0,$graph$$=this.editor.graph;$graph$$.getGraphBounds();for(var $afterInsert$$=function $$afterInsert$$$(){null!=$done$$?$done$$($select$$):($graph$$.setSelectionCells($select$$),
$graph$$.scrollCellToVisible($graph$$.getSelectionCell()))},$pt$jscomp$53_y$$=$graph$$.getFreeInsertPoint(),$x0$$=$pt$jscomp$53_y$$.x,$y0$$=$pt$jscomp$53_y$$.y,$pt$jscomp$53_y$$=$y0$$,$label$jscomp$0$$=null,$layout$$="auto",$parent$$=null,$edges$$=[],$link$$=null,$ignore$$=null,$index$$=0;$index$$<$lines$$.length&&"#"==$lines$$[$index$$].charAt(0);){$text$$=$lines$$[$index$$];for($index$$++;$index$$<$lines$$.length&&"\\"==$text$$.charAt($text$$.length-1)&&"#"==$lines$$[$index$$].charAt(0);)$text$$=
$text$$.substring(0,$text$$.length-1)+mxUtils.trim($lines$$[$index$$].substring(1)),$index$$++;if("#"!=$text$$.charAt(1)){var $identityIndex_idx$$=$text$$.indexOf(":");if(0<$identityIndex_idx$$){var $key$$=mxUtils.trim($text$$.substring(1,$identityIndex_idx$$)),$value$$=mxUtils.trim($text$$.substring($identityIndex_idx$$+1));"label"==$key$$?$label$jscomp$0$$=$graph$$.sanitizeHtml($value$$):"style"==$key$$?$style$$=$value$$:"parentstyle"==$key$$?$parentstyle$$=$value$$:"identity"==$key$$&&0<$value$$.length&&
"-"!=$value$$?$exists_identity$$=$value$$:"parent"==$key$$&&0<$value$$.length&&"-"!=$value$$?$parent$$=$value$$:"namespace"==$key$$&&0<$value$$.length&&"-"!=$value$$?$namespace$$=$value$$:"width"==$key$$?$width$$=$value$$:"height"==$key$$?$height$$=$value$$:"left"==$key$$&&0<$value$$.length?$left$$=$value$$:"top"==$key$$&&0<$value$$.length?$top$$=$value$$:"ignore"==$key$$?$ignore$$=$value$$.split(","):"connect"==$key$$?$edges$$.push(JSON.parse($value$$)):"link"==$key$$?$link$$=$value$$:"padding"==
$key$$?$padding$$=parseFloat($value$$):"edgespacing"==$key$$?$edgespacing$$=parseFloat($value$$):"nodespacing"==$key$$?$nodespacing$$=parseFloat($value$$):"levelspacing"==$key$$?$levelspacing$$=parseFloat($value$$):"layout"==$key$$&&($layout$$=$value$$)}}}if(null==$lines$$[$index$$])throw Error(mxResources.get("invalidOrMissingFile"));var $keys$$=this.editor.csvToArray($lines$$[$index$$]),$key$$=$identityIndex_idx$$=null;if(null!=$exists_identity$$||null!=$parent$$)for(var $i$jscomp$0$$=0;$i$jscomp$0$$<
$keys$$.length;$i$jscomp$0$$++)$exists_identity$$==$keys$$[$i$jscomp$0$$]&&($identityIndex_idx$$=$i$jscomp$0$$),$parent$$==$keys$$[$i$jscomp$0$$]&&($key$$=$i$jscomp$0$$);null==$label$jscomp$0$$&&($label$jscomp$0$$="%"+$keys$$[0]+"%");if(null!=$edges$$)for(var $e$$=0;$e$$<$edges$$.length;$e$$++)null==$lookups$$[$edges$$[$e$$].to]&&($lookups$$[$edges$$[$e$$].to]={});$graph$$.model.beginUpdate();try{for($i$jscomp$0$$=$index$$+1;$i$jscomp$0$$<$lines$$.length;$i$jscomp$0$$++){var $values$$=this.editor.csvToArray($lines$$[$i$jscomp$0$$]);
if(null==$values$$){var $short$$=40<$lines$$[$i$jscomp$0$$].length?$lines$$[$i$jscomp$0$$].substring(0,40)+"...":$lines$$[$i$jscomp$0$$];throw Error($i$jscomp$0$$+" ("+$short$$+") "+mxResources.get("containsValidationErrors"));}if($values$$.length==$keys$$.length){var $cell$$=null,$id$$=null!=$identityIndex_idx$$?$namespace$$+$values$$[$identityIndex_idx$$]:null;null!=$id$$&&($cell$$=$graph$$.model.getCell($id$$));var $exists_identity$$=null!=$cell$$,$newCell$$=new mxCell($label$jscomp$0$$,new mxGeometry($x0$$,
$pt$jscomp$53_y$$,0,0),$style$$||"whiteSpace=wrap;html=1;");$newCell$$.vertex=!0;$newCell$$.id=$id$$;for(var $j$jscomp$0$$=0;$j$jscomp$0$$<$values$$.length;$j$jscomp$0$$++)$graph$$.setAttributeForCell($newCell$$,$keys$$[$j$jscomp$0$$],$values$$[$j$jscomp$0$$]);$graph$$.setAttributeForCell($newCell$$,"placeholders","1");$newCell$$.style=$graph$$.replacePlaceholders($newCell$$,$newCell$$.style);$exists_identity$$&&($graph$$.model.setGeometry($cell$$,$newCell$$.geometry),$graph$$.model.setStyle($cell$$,
$newCell$$.style),0>mxUtils.indexOf($cells$$,$cell$$)&&$cells$$.push($cell$$));$cell$$=$newCell$$;if(!$exists_identity$$)for($e$$=0;$e$$<$edges$$.length;$e$$++)$lookups$$[$edges$$[$e$$].to][$cell$$.getAttribute($edges$$[$e$$].to)]=$cell$$;null!=$link$$&&"link"!=$link$$&&($graph$$.setLinkForCell($cell$$,$cell$$.getAttribute($link$$)),$graph$$.setAttributeForCell($cell$$,$link$$,null));$graph$$.fireEvent(new mxEventObject("cellsInserted","cells",[$cell$$]));var $size$$=this.editor.graph.getPreferredSizeForCell($cell$$);
$cell$$.vertex&&(null!=$left$$&&null!=$cell$$.getAttribute($left$$)&&($cell$$.geometry.x=$x0$$+parseFloat($cell$$.getAttribute($left$$))),null!=$top$$&&null!=$cell$$.getAttribute($top$$)&&($cell$$.geometry.y=$y0$$+parseFloat($cell$$.getAttribute($top$$))),"@"==$width$$.charAt(0)&&null!=$cell$$.getAttribute($width$$.substring(1))?$cell$$.geometry.width=parseFloat($cell$$.getAttribute($width$$.substring(1))):$cell$$.geometry.width="auto"==$width$$?$size$$.width+$padding$$:parseFloat($width$$),"@"==
$height$$.charAt(0)&&null!=$cell$$.getAttribute($height$$.substring(1))?$cell$$.geometry.height=parseFloat($cell$$.getAttribute($height$$.substring(1))):$cell$$.geometry.height="auto"==$height$$?$size$$.height+$padding$$:parseFloat($height$$),$pt$jscomp$53_y$$+=$cell$$.geometry.height+$nodespacing$$);$exists_identity$$?(null==$dups$$[$id$$]&&($dups$$[$id$$]=[]),$dups$$[$id$$].push($cell$$)):($parent$$=null!=$key$$?$graph$$.model.getCell($namespace$$+$values$$[$key$$]):null,null!=$parent$$?($parent$$.style=
$graph$$.replacePlaceholders($parent$$,$parentstyle$$),$graph$$.addCell($cell$$,$parent$$)):$cells$$.push($graph$$.addCell($cell$$)))}}for(var $roots$$=$cells$$.slice(),$select$$=$cells$$.slice(),$e$$=0;$e$$<$edges$$.length;$e$$++)for(var $edge$jscomp$0$$=$edges$$[$e$$],$i$jscomp$0$$=0;$i$jscomp$0$$<$cells$$.length;$i$jscomp$0$$++){var $cell$$=$cells$$[$i$jscomp$0$$],$insertEdge$$=mxUtils.bind(this,function($realCell$$,$dataCell$$,$edge$$){var $refs_tmp$$=$dataCell$$.getAttribute($edge$$.from);if(null!=
$refs_tmp$$){$graph$$.setAttributeForCell($dataCell$$,$edge$$.from,null);for(var $refs_tmp$$=$refs_tmp$$.split(","),$j$$=0;$j$$<$refs_tmp$$.length;$j$$++){var $ref$$=$lookups$$[$edge$$.to][$refs_tmp$$[$j$$]];if(null!=$ref$$){var $label$$=$edge$$.label;null!=$edge$$.fromlabel&&($label$$=($dataCell$$.getAttribute($edge$$.fromlabel)||"")+($label$$||""));null!=$edge$$.tolabel&&($label$$=($label$$||"")+($ref$$.getAttribute($edge$$.tolabel)||""));$select$$.push($graph$$.insertEdge(null,null,$label$$||"",
$edge$$.invert?$ref$$:$realCell$$,$edge$$.invert?$realCell$$:$ref$$,$edge$$.style||$graph$$.createCurrentEdgeStyle()));mxUtils.remove($edge$$.invert?$realCell$$:$ref$$,$roots$$)}}}});$insertEdge$$($cell$$,$cell$$,$edge$jscomp$0$$);if(null!=$dups$$[$cell$$.id])for($j$jscomp$0$$=0;$j$jscomp$0$$<$dups$$[$cell$$.id].length;$j$jscomp$0$$++)$insertEdge$$($cell$$,$dups$$[$cell$$.id][$j$jscomp$0$$],$edge$jscomp$0$$)}if(null!=$ignore$$)for($i$jscomp$0$$=0;$i$jscomp$0$$<$cells$$.length;$i$jscomp$0$$++)for($cell$$=
$cells$$[$i$jscomp$0$$],$j$jscomp$0$$=0;$j$jscomp$0$$<$ignore$$.length;$j$jscomp$0$$++)$graph$$.setAttributeForCell($cell$$,mxUtils.trim($ignore$$[$j$jscomp$0$$]),null);if(0<$cells$$.length){var $edgeLayout$$=new mxParallelEdgeLayout($graph$$);$edgeLayout$$.spacing=$edgespacing$$;var $postProcess$$=function $$postProcess$$$(){0<$edgeLayout$$.spacing&&$edgeLayout$$.execute($graph$$.getDefaultParent());for(var $i$$=0;$i$$<$cells$$.length;$i$$++){var $geo$$=$graph$$.getCellGeometry($cells$$[$i$$]);$geo$$.x=
Math.round($graph$$.snap($geo$$.x));$geo$$.y=Math.round($graph$$.snap($geo$$.y));"auto"==$width$$&&($geo$$.width=Math.round($graph$$.snap($geo$$.width)));"auto"==$height$$&&($geo$$.height=Math.round($graph$$.snap($geo$$.height)))}};if("["==$layout$$.charAt(0)){var $temp$$=$afterInsert$$;$graph$$.view.validate();this.executeLayoutList(JSON.parse($layout$$),function(){$postProcess$$();$temp$$()});$afterInsert$$=null}else if("circle"==$layout$$){var $circleLayout$$=new mxCircleLayout($graph$$);$circleLayout$$.resetEdges=
!1;var $circleLayoutIsVertexIgnored$$=$circleLayout$$.isVertexIgnored;$circleLayout$$.isVertexIgnored=function $$circleLayout$$$isVertexIgnored$($vertex$$){return $circleLayoutIsVertexIgnored$$.apply(this,arguments)||0>mxUtils.indexOf($cells$$,$vertex$$)};this.executeLayout(function(){$circleLayout$$.execute($graph$$.getDefaultParent());$postProcess$$()},!0,$afterInsert$$);$afterInsert$$=null}else if("horizontaltree"==$layout$$||"verticaltree"==$layout$$||"auto"==$layout$$&&$select$$.length==2*$cells$$.length-
1&&1==$roots$$.length){$graph$$.view.validate();var $treeLayout$$=new mxCompactTreeLayout($graph$$,"horizontaltree"==$layout$$);$treeLayout$$.levelDistance=$nodespacing$$;$treeLayout$$.edgeRouting=!1;$treeLayout$$.resetEdges=!1;this.executeLayout(function(){$treeLayout$$.execute($graph$$.getDefaultParent(),0<$roots$$.length?$roots$$[0]:null)},!0,$afterInsert$$);$afterInsert$$=null}else if("horizontalflow"==$layout$$||"verticalflow"==$layout$$||"auto"==$layout$$&&1==$roots$$.length){$graph$$.view.validate();
var $flowLayout$$=new mxHierarchicalLayout($graph$$,"horizontalflow"==$layout$$?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH);$flowLayout$$.intraCellSpacing=$nodespacing$$;$flowLayout$$.parallelEdgeSpacing=$edgespacing$$;$flowLayout$$.interRankCellSpacing=$levelspacing$$;$flowLayout$$.disableEdgeStyle=!1;this.executeLayout(function(){$flowLayout$$.execute($graph$$.getDefaultParent(),$select$$);$graph$$.moveCells($select$$,$x0$$,$y0$$)},!0,$afterInsert$$);$afterInsert$$=null}else if("organic"==
$layout$$||"auto"==$layout$$&&$select$$.length>$cells$$.length){$graph$$.view.validate();var $organicLayout$$=new mxFastOrganicLayout($graph$$);$organicLayout$$.forceConstant=3*$nodespacing$$;$organicLayout$$.resetEdges=!1;var $organicLayoutIsVertexIgnored$$=$organicLayout$$.isVertexIgnored;$organicLayout$$.isVertexIgnored=function $$organicLayout$$$isVertexIgnored$($vertex$$){return $organicLayoutIsVertexIgnored$$.apply(this,arguments)||0>mxUtils.indexOf($cells$$,$vertex$$)};$edgeLayout$$=new mxParallelEdgeLayout($graph$$);
$edgeLayout$$.spacing=$edgespacing$$;this.executeLayout(function(){$organicLayout$$.execute($graph$$.getDefaultParent());$postProcess$$()},!0,$afterInsert$$);$afterInsert$$=null}}this.hideDialog()}finally{$graph$$.model.endUpdate()}null!=$afterInsert$$&&$afterInsert$$()}}catch($e$35$$){this.handleError($e$35$$)}};EditorUi.prototype.getSearch=function $EditorUi$$getSearch$($exclude$$){var $result$$="";if("1"!=urlParams.offline&&"1"!=urlParams.demo&&null!=$exclude$$&&0<window.location.search.length){var $amp$$=
"?",$key$$;for($key$$ in urlParams)0>mxUtils.indexOf($exclude$$,$key$$)&&null!=urlParams[$key$$]&&($result$$+=$amp$$+$key$$+"="+urlParams[$key$$],$amp$$="&")}else $result$$=window.location.search;return $result$$};EditorUi.prototype.getUrl=function $EditorUi$$getUrl$($href$jscomp$17_pathname$$){$href$jscomp$17_pathname$$=null!=$href$jscomp$17_pathname$$?$href$jscomp$17_pathname$$:window.location.pathname;var $parms$$=0<$href$jscomp$17_pathname$$.indexOf("?")?1:0;if("1"==urlParams.offline)$href$jscomp$17_pathname$$+=
window.location.search;else{var $ignored$$="tmp libs clibs state fileId code share notitle data url embed client create title splash".split(" "),$key$$;for($key$$ in urlParams)0>mxUtils.indexOf($ignored$$,$key$$)&&($href$jscomp$17_pathname$$=0==$parms$$?$href$jscomp$17_pathname$$+"?":$href$jscomp$17_pathname$$+"&",null!=urlParams[$key$$]&&($href$jscomp$17_pathname$$+=$key$$+"="+urlParams[$key$$],$parms$$++))}return $href$jscomp$17_pathname$$};EditorUi.prototype.showLinkDialog=function $EditorUi$$showLinkDialog$($dlg$jscomp$29_value$$,
$btnLabel$$,$fn$$){$dlg$jscomp$29_value$$=new LinkDialog(this,$dlg$jscomp$29_value$$,$btnLabel$$,$fn$$,!0);this.showDialog($dlg$jscomp$29_value$$.container,480,130,!0,!0);$dlg$jscomp$29_value$$.init()};var $editorUiCreateOutline$$=EditorUi.prototype.createOutline;EditorUi.prototype.createOutline=function $EditorUi$$createOutline$($wnd$$){var $outline$$=$editorUiCreateOutline$$.apply(this,arguments),$graph$jscomp$0$$=this.editor.graph,$outlineGetSourceGraphBounds$$=$outline$$.getSourceGraphBounds;
$outline$$.getSourceGraphBounds=function $$outline$$$getSourceGraphBounds$(){if(mxUtils.hasScrollbars($graph$jscomp$0$$.container)&&$graph$jscomp$0$$.pageVisible&&null!=this.source.minimumGraphSize){var $pb$$=this.source.getPagePadding(),$s$$=this.source.view.scale;return new mxRectangle(0,0,Math.ceil(this.source.minimumGraphSize.width-2*$pb$$.x/$s$$),Math.ceil(this.source.minimumGraphSize.height-2*$pb$$.y/$s$$))}return $outlineGetSourceGraphBounds$$.apply(this,arguments)};var $outlineGetSourceContainerSize$$=
$outline$$.getSourceContainerSize;$outline$$.getSourceContainerSize=function $$outline$$$getSourceContainerSize$(){if(mxUtils.hasScrollbars($graph$jscomp$0$$.container)&&null!=this.source.minimumGraphSize){var $pad$$=this.source.getPagePadding(),$s$$=this.source.view.scale;return new mxRectangle(0,0,Math.ceil(this.source.minimumGraphSize.width*$s$$-2*$pad$$.x),Math.ceil(this.source.minimumGraphSize.height*$s$$-2*$pad$$.y))}return $outlineGetSourceContainerSize$$.apply(this,arguments)};$outline$$.getOutlineOffset=
function $$outline$$$getOutlineOffset$($scale$$){if(mxUtils.hasScrollbars($graph$jscomp$0$$.container)&&null!=this.source.minimumGraphSize){var $pb$$=this.source.getPagePadding();return new mxPoint(Math.round(Math.max(0,($outline$$.outline.container.clientWidth/$scale$$-(this.source.minimumGraphSize.width-2*$pb$$.x))/2)-$pb$$.x),Math.round(Math.max(0,($outline$$.outline.container.clientHeight/$scale$$-(this.source.minimumGraphSize.height-2*$pb$$.y))/2)-$pb$$.y-5/$scale$$))}return new mxPoint(8/$scale$$,
8/$scale$$)};var $outlineInit$$=$outline$$.init;$outline$$.init=function $$outline$$$init$(){$outlineInit$$.apply(this,arguments);$outline$$.outline.view.getBackgroundPageBounds=function $$outline$$$outline$view$getBackgroundPageBounds$(){var $layout$$=$graph$jscomp$0$$.getPageLayout(),$page$$=$graph$jscomp$0$$.getPageSize();return new mxRectangle(this.scale*(this.translate.x+$layout$$.x*$page$$.width),this.scale*(this.translate.y+$layout$$.y*$page$$.height),this.scale*$layout$$.width*$page$$.width,
this.scale*$layout$$.height*$page$$.height)};$outline$$.outline.view.validateBackgroundPage()};this.editor.addListener("pageSelected",function($sender$$,$evt$$){var $change$$=$evt$$.getProperty("change"),$graph$$=$outline$$.source,$g$$=$outline$$.outline;$g$$.pageScale=$graph$$.pageScale;$g$$.pageFormat=$graph$$.pageFormat;$g$$.background=$graph$$.background;$g$$.pageVisible=$graph$$.pageVisible;$g$$.background=$graph$$.background;var $current$$=mxUtils.getCurrentStyle($graph$$.container);$g$$.container.style.backgroundColor=
$current$$.backgroundColor;null!=$graph$$.view.backgroundPageShape&&null!=$g$$.view.backgroundPageShape&&($g$$.view.backgroundPageShape.fill=$graph$$.view.backgroundPageShape.fill);$outline$$.outline.view.clear($change$$.previousPage.root,!0);$outline$$.outline.view.validate()});return $outline$$};EditorUi.prototype.getServiceCount=function $EditorUi$$getServiceCount$($allowBrowser$$,$splash$$){var $serviceCount$$=0;null==this.drive&&"function"!==typeof window.DriveClient||$serviceCount$$++;$splash$$||
null==this.dropbox&&"function"!==typeof window.DropboxClient||$serviceCount$$++;null==this.oneDrive&&"function"!==typeof window.OneDriveClient||$serviceCount$$++;$splash$$||null==this.gitHub||$serviceCount$$++;$splash$$||null==this.trello&&"function"!==typeof window.TrelloClient||$serviceCount$$++;$serviceCount$$++;return $serviceCount$$};EditorUi.prototype.updateUi=function $EditorUi$$updateUi$(){this.updateButtonContainer();this.updateActionStates();var $editable$jscomp$3_file$$=this.getCurrentFile(),
$active_updateStatus$$=null!=$editable$jscomp$3_file$$||"1"==urlParams.embed&&this.editor.graph.isEnabled();this.menus.get("viewPanels").setEnabled($active_updateStatus$$);this.menus.get("viewZoom").setEnabled($active_updateStatus$$);var $libsEnabled_restricted$$=("1"!=urlParams.embed||!this.editor.graph.isEnabled())&&(null==$editable$jscomp$3_file$$||$editable$jscomp$3_file$$.isRestricted());this.actions.get("makeCopy").setEnabled(!$libsEnabled_restricted$$);this.actions.get("print").setEnabled(!$libsEnabled_restricted$$);
App.CSET&&this.menus.get("exportAs").setEnabled(!$libsEnabled_restricted$$);this.actions.get("makeCopy").visible=!1;this.actions.get("rename").visible=!1;this.actions.get("save").visible=!1;this.menus.get("embed").setEnabled(!$libsEnabled_restricted$$);$libsEnabled_restricted$$="1"!=urlParams.embed||this.editor.graph.isEnabled();this.menus.get("extras").setEnabled($libsEnabled_restricted$$);App.CSET&&Editor.enableCustomLibraries&&(this.menus.get("openLibraryFrom").setEnabled($libsEnabled_restricted$$),
this.menus.get("newLibrary").setEnabled($libsEnabled_restricted$$));$editable$jscomp$3_file$$="1"==urlParams.embed&&this.editor.graph.isEnabled()||null!=$editable$jscomp$3_file$$&&$editable$jscomp$3_file$$.isEditable();this.actions.get("image").setEnabled($active_updateStatus$$);this.actions.get("zoomIn").setEnabled($active_updateStatus$$);this.actions.get("zoomOut").setEnabled($active_updateStatus$$);this.actions.get("resetView").setEnabled($active_updateStatus$$);this.actions.get("undo").setEnabled(this.canUndo()&&
$editable$jscomp$3_file$$);this.actions.get("redo").setEnabled(this.canRedo()&&$editable$jscomp$3_file$$);this.menus.get("edit").setEnabled($active_updateStatus$$);this.menus.get("view").setEnabled($active_updateStatus$$);App.CSET&&this.menus.get("importFrom").setEnabled($editable$jscomp$3_file$$);this.menus.get("arrange").setEnabled($editable$jscomp$3_file$$);null!=this.toolbar&&(null!=this.toolbar.edgeShapeMenu&&this.toolbar.edgeShapeMenu.setEnabled($editable$jscomp$3_file$$),null!=this.toolbar.edgeStyleMenu&&
this.toolbar.edgeStyleMenu.setEnabled($editable$jscomp$3_file$$));if(this.isAppCache()){var $appCache$$=applicationCache;if(null!=$appCache$$&&null==this.offlineStatus){this.offlineStatus=document.createElement("div");this.offlineStatus.className="geItem";this.offlineStatus.style.position="absolute";this.offlineStatus.style.fontSize="8pt";this.offlineStatus.style.top="2px";this.offlineStatus.style.right="12px";this.offlineStatus.style.color="#666";this.offlineStatus.style.margin="4px";this.offlineStatus.style.padding=
"2px";this.offlineStatus.style.verticalAlign="middle";this.offlineStatus.innerHTML="";this.menubarContainer.appendChild(this.offlineStatus);mxEvent.addListener(this.offlineStatus,"click",mxUtils.bind(this,function(){var $img$$=this.offlineStatus.getElementsByTagName("img");null!=$img$$&&0<$img$$.length&&this.alert($img$$[0].getAttribute("title"))}));var $appCache$$=window.applicationCache,$lastStatus$$=null,$active_updateStatus$$=mxUtils.bind(this,function(){var $newStatus$$=$appCache$$.status,$html$$;
$newStatus$$==$appCache$$.CHECKING&&($newStatus$$=$appCache$$.DOWNLOADING);switch($newStatus$$){case $appCache$$.UNCACHED:$html$$="";break;case $appCache$$.IDLE:$html$$="min"==uiTheme?"":'<img title="draw.io is up to date." border="0" src="'+IMAGE_PATH+'/checkmark.gif"/>';break;case $appCache$$.DOWNLOADING:$html$$='<img title="Downloading new version..." border="0" src="'+IMAGE_PATH+'/spin.gif"/>';break;case $appCache$$.UPDATEREADY:$html$$='<img title="'+mxUtils.htmlEntities(mxResources.get("restartForChangeRequired"))+
'" border="0" src="'+IMAGE_PATH+'/download.png"/>';break;case $appCache$$.OBSOLETE:$html$$='<img title="Obsolete" border="0" src="'+IMAGE_PATH+'/clear.gif"/>';break;default:$html$$='<img title="Unknown" border="0" src="'+IMAGE_PATH+'/clear.gif"/>'}$newStatus$$!=$lastStatus$$&&(this.offlineStatus.innerHTML=$html$$,$lastStatus$$=$newStatus$$)});mxEvent.addListener($appCache$$,"checking",$active_updateStatus$$);mxEvent.addListener($appCache$$,"noupdate",$active_updateStatus$$);mxEvent.addListener($appCache$$,
"downloading",$active_updateStatus$$);mxEvent.addListener($appCache$$,"progress",$active_updateStatus$$);mxEvent.addListener($appCache$$,"cached",$active_updateStatus$$);mxEvent.addListener($appCache$$,"updateready",$active_updateStatus$$);mxEvent.addListener($appCache$$,"obsolete",$active_updateStatus$$);mxEvent.addListener($appCache$$,"error",$active_updateStatus$$);$active_updateStatus$$()}}else this.updateUserElement()};EditorUi.prototype.updateButtonContainer=function $EditorUi$$updateButtonContainer$(){};
EditorUi.prototype.updateUserElement=function $EditorUi$$updateUserElement$(){};EditorUi.prototype.isDiagramActive=function $EditorUi$$isDiagramActive$(){var $file$$=this.getCurrentFile();return null!=$file$$&&$file$$.isEditable()||"1"==urlParams.embed&&this.editor.graph.isEnabled()};var $editorUiUpdateActionStates$$=EditorUi.prototype.updateActionStates;EditorUi.prototype.updateActionStates=function $EditorUi$$updateActionStates$(){$editorUiUpdateActionStates$$.apply(this,arguments);var $graph$jscomp$81_state$$=
this.editor.graph,$active$$=this.isDiagramActive(),$file$$=this.getCurrentFile();this.actions.get("pageSetup").setEnabled($active$$);this.actions.get("autosave").setEnabled($file$$&&$file$$.isEditable()&&$file$$.isAutosaveOptional());this.actions.get("guides").setEnabled($active$$);this.actions.get("shadowVisible").setEnabled($active$$);this.actions.get("connectionArrows").setEnabled($active$$);this.actions.get("connectionPoints").setEnabled($active$$);this.actions.get("copyStyle").setEnabled($active$$&&
!$graph$jscomp$81_state$$.isSelectionEmpty());this.actions.get("pasteStyle").setEnabled($active$$&&!$graph$jscomp$81_state$$.isSelectionEmpty());this.actions.get("editGeometry").setEnabled($graph$jscomp$81_state$$.getModel().isVertex($graph$jscomp$81_state$$.getSelectionCell()));this.actions.get("createShape").setEnabled($active$$);this.actions.get("createRevision").setEnabled($active$$);this.actions.get("moveToFolder").setEnabled(!!$file$$);this.actions.get("makeCopy").setEnabled($file$$&&!$file$$.isRestricted());
this.actions.get("editDiagram").setEnabled($active$$&&$file$$&&!$file$$.isRestricted());this.actions.get("publishLink").setEnabled($file$$&&!$file$$.isRestricted());App.CSET||this.actions.get("tags").setEnabled("hidden"!=this.diagramContainer.style.visibility);this.actions.get("find").setEnabled("hidden"!=this.diagramContainer.style.visibility);this.actions.get("layers").setEnabled("hidden"!=this.diagramContainer.style.visibility);this.actions.get("outline").setEnabled("hidden"!=this.diagramContainer.style.visibility);
this.actions.get("rename").setEnabled($file$$&&$file$$.isRenamable()||"1"==urlParams.embed);this.actions.get("close").setEnabled(!!$file$$);this.menus.get("publish").setEnabled($file$$&&!$file$$.isRestricted());$graph$jscomp$81_state$$=$graph$jscomp$81_state$$.view.getState($graph$jscomp$81_state$$.getSelectionCell());this.actions.get("editShape").setEnabled($active$$&&$graph$jscomp$81_state$$&&$graph$jscomp$81_state$$.shape&&$graph$jscomp$81_state$$.shape.stencil);App.CSET||(this.actions.get("rename").visible=
!1,this.actions.get("makeCopy").visible=!1)};var $editoUiDestroy$$=EditorUi.prototype.destroy;EditorUi.prototype.destroy=function $EditorUi$$destroy$(){this.editUpdateListener&&(this.editor.undoManager.removeListener(this.editUpdateListener),this.editUpdateListener=null);null!=this.exportDialog&&(this.exportDialog.parentNode.removeChild(this.exportDialog),this.exportDialog=null);$editoUiDestroy$$.apply(this,arguments)};null!=window.ExportDialog&&(ExportDialog.showXmlOption=!1,ExportDialog.showGifOption=
!1,ExportDialog.exportFile=function $ExportDialog$exportFile$($editorUi$$,$name$$,$format$$,$bg$$,$s$$,$b$$){var $graph$$=$editorUi$$.editor.graph;if("xml"==$format$$)$editorUi$$.hideDialog(),$editorUi$$.saveData($name$$,"xml",mxUtils.getXml($editorUi$$.editor.getGraphXml()),"text/xml");else if("svg"==$format$$)$editorUi$$.hideDialog(),$editorUi$$.saveData($name$$,"svg",mxUtils.getXml($graph$$.getSvg($bg$$,$s$$,$b$$)),"image/svg+xml");else{var $data$$=$editorUi$$.getFileData(!0,null,null,null,null,
!0),$bounds$$=$graph$$.getGraphBounds(),$w$$=Math.floor($bounds$$.width*$s$$/$graph$$.view.scale),$h$$=Math.floor($bounds$$.height*$s$$/$graph$$.view.scale);$data$$.length<=MAX_REQUEST_SIZE&&$w$$*$h$$<MAX_AREA?($editorUi$$.hideDialog(),"png"!=$format$$&&"jpg"!=$format$$&&"jpeg"!=$format$$||!$editorUi$$.isExportToCanvas()?$editorUi$$.saveRequest($name$$,$format$$,function($newTitle$$,$base64$$){return new mxXmlRequest(EXPORT_URL,"format="+$format$$+"&base64="+($base64$$||"0")+(null!=$newTitle$$?"&filename="+
encodeURIComponent($newTitle$$):"")+"&bg="+(null!=$bg$$?$bg$$:"none")+"&w="+$w$$+"&h="+$h$$+"&border="+$b$$+"&xml="+encodeURIComponent($data$$))}):"png"==$format$$?$editorUi$$.exportImage($s$$,null==$bg$$||"none"==$bg$$,!0,!1,!1,$b$$,!0,!1):$editorUi$$.exportImage($s$$,!1,!0,!1,!1,$b$$,!0,!1,"jpeg")):mxUtils.alert(mxResources.get("drawingTooLarge"))}});EditorUi.prototype.updateEditReferences=function $EditorUi$$updateEditReferences$($edit$$){for(var $i$$=0;$i$$<$edit$$.changes.length;$i$$++){var $change$$=
$edit$$.changes[$i$$];if(null!=$change$$&&$change$$.constructor==mxChildChange&&null!=$change$$.child){var $child$$=$change$$.child;if(null!=$child$$.source&&null!=$child$$.source.id){var $modelSource$$=this.getFutureCellForEdit($change$$.model,$edit$$,$child$$.source.id);$modelSource$$!=$child$$.source&&($child$$.source=$modelSource$$)}null!=$child$$.target&&null!=$child$$.target.id&&($change$$=this.getFutureCellForEdit($change$$.model,$edit$$,$child$$.target.id),$change$$!=$child$$.target&&($child$$.target=
$change$$))}}};EditorUi.prototype.getFutureCellForEdit=function $EditorUi$$getFutureCellForEdit$($model$$,$edit$$,$id$$){var $result$$=$model$$.getCell($id$$);if(null==$result$$)for(var $i$$=$edit$$.changes.length-1;0<=$i$$;$i$$--){var $change$$=$edit$$.changes[$i$$];if($change$$.constructor==mxChildChange&&null!=$change$$.child&&$change$$.child.id==$id$$){$model$$.contains($change$$.previous)&&($result$$=$change$$.child);break}}return $result$$};EditorUi.prototype.getDiagramTextContent=function $EditorUi$$getDiagramTextContent$(){this.editor.graph.setEnabled(!1);
var $graph$$=this.editor.graph,$allPagesTxt$$="";if(null!=this.pages)for(var $i$$=0;$i$$<this.pages.length;$i$$++){var $pageGraph$$=$graph$$;this.currentPage!=this.pages[$i$$]&&($pageGraph$$=this.createTemporaryGraph($graph$$.getStylesheet()),$pageGraph$$.model.setRoot(this.pages[$i$$].root));$allPagesTxt$$+=this.pages[$i$$].getName()+" "+$pageGraph$$.getIndexableText()+" "}else $allPagesTxt$$=$graph$$.getIndexableText();this.editor.graph.setEnabled(!0);return $allPagesTxt$$};EditorUi.prototype.showRemotelyStoredLibrary=
function $EditorUi$$showRemotelyStoredLibrary$($j$jscomp$17_title$$){var $selectedLibs$$={},$div$jscomp$27_dlg$$=document.createElement("div");$div$jscomp$27_dlg$$.style.whiteSpace="nowrap";var $hd$$=document.createElement("h3");mxUtils.write($hd$$,mxUtils.htmlEntities($j$jscomp$17_title$$));$hd$$.style.cssText="width:100%;text-align:center;margin-top:0px;margin-bottom:12px";$div$jscomp$27_dlg$$.appendChild($hd$$);var $libsSection$$=document.createElement("div");$libsSection$$.style.cssText="border:1px solid lightGray;overflow: auto;height:300px";
$libsSection$$.innerHTML='<img src="/images/spin.gif">';var $loadedLibs$$={};try{var $custLibs$$=mxSettings.getCustomLibraries();for($j$jscomp$17_title$$=0;$j$jscomp$17_title$$<$custLibs$$.length;$j$jscomp$17_title$$++){var $l$$=$custLibs$$[$j$jscomp$17_title$$];if("R"==$l$$.substring(0,1)){var $libDesc$$=JSON.parse(decodeURIComponent($l$$.substring(1)));$loadedLibs$$[$libDesc$$[0]]={id:$libDesc$$[0],title:$libDesc$$[1],downloadUrl:$libDesc$$[2]}}}}catch($e$$){}this.remoteInvoke("getCustomLibraries",
null,null,function($libsList$$){$libsSection$$.innerHTML="";if(0==$libsList$$.length)$libsSection$$.innerHTML='<div style="text-align:center;padding-top:20px;color:gray;">'+mxUtils.htmlEntities(mxResources.get("noLibraries"))+"</div>";else for(var $i$$=0;$i$$<$libsList$$.length;$i$$++){var $lib$$=$libsList$$[$i$$];$loadedLibs$$[$lib$$.id]&&($selectedLibs$$[$lib$$.id]=$lib$$);var $libCheck$$=this.addCheckbox($libsSection$$,$lib$$.title,$loadedLibs$$[$lib$$.id]);(function($lib2$$,$check$$){mxEvent.addListener($check$$,
"change",function(){this.checked?$selectedLibs$$[$lib2$$.id]=$lib2$$:delete $selectedLibs$$[$lib2$$.id]})})($lib$$,$libCheck$$)}},function(){this.handleError(null,mxResources.get("errorLoadingFile"))});$div$jscomp$27_dlg$$.appendChild($libsSection$$);$div$jscomp$27_dlg$$=new CustomDialog(this,$div$jscomp$27_dlg$$,mxUtils.bind(this,function(){this.spinner.spin(document.body,mxResources.get("loading"));var $pendingLibs$$=0,$id$$;for($id$$ in $selectedLibs$$)null==$loadedLibs$$[$id$$]&&($pendingLibs$$++,
mxUtils.bind(this,function($lib$$){this.remoteInvoke("getFileContent",[$lib$$.downloadUrl],null,mxUtils.bind(this,function($libContent$$){$pendingLibs$$--;0==$pendingLibs$$&&this.spinner.stop();try{this.loadLibrary(new RemoteLibrary(this,$libContent$$,$lib$$))}catch($e$36$$){this.handleError($e$36$$,mxResources.get("errorLoadingFile"))}}),mxUtils.bind(this,function(){$pendingLibs$$--;0==$pendingLibs$$&&this.spinner.stop();this.handleError(null,mxResources.get("errorLoadingFile"))}))})($selectedLibs$$[$id$$]));
for($id$$ in $loadedLibs$$)$selectedLibs$$[$id$$]||this.closeLibrary(new RemoteLibrary(this,null,$loadedLibs$$[$id$$]));0==$pendingLibs$$&&this.spinner.stop()}),null,null,"https://desk.draw.io/support/solutions/articles/16000092763");this.showDialog($div$jscomp$27_dlg$$.container,340,375,!0,!0)};EditorUi.prototype.remoteInvokableFns={getDiagramTextContent:{isAsync:!1}};EditorUi.prototype.remoteInvokeCallbacks=[];EditorUi.prototype.remoteInvokeQueue=[];EditorUi.prototype.handleRemoteInvokeReady=function $EditorUi$$handleRemoteInvokeReady$($remoteWin$$){this.remoteWin=
$remoteWin$$;for(var $i$$=0;$i$$<this.remoteInvokeQueue.length;$i$$++)$remoteWin$$.postMessage(this.remoteInvokeQueue[$i$$],"*");this.remoteInvokeQueue=[]};EditorUi.prototype.handleRemoteInvokeResponse=function $EditorUi$$handleRemoteInvokeResponse$($msg$$){var $msgMarkers$$=$msg$$.msgMarkers,$callback$$=this.remoteInvokeCallbacks[$msgMarkers$$.callbackId];$msg$$.error?$callback$$.error&&$callback$$.error($msg$$.error.errResp):$callback$$.callback&&$callback$$.callback.apply(this,$msg$$.resp);this.remoteInvokeCallbacks[$msgMarkers$$.callbackId]=
null};EditorUi.prototype.remoteInvoke=function $EditorUi$$remoteInvoke$($msg$$,$remoteFnArgs$$,$msgMarkers$$,$callback$$,$error$$){$msgMarkers$$=$msgMarkers$$||{};$msgMarkers$$.callbackId=this.remoteInvokeCallbacks.length;this.remoteInvokeCallbacks.push({callback:$callback$$,error:$error$$});$msg$$=JSON.stringify({event:"remoteInvoke",FunctionName:$msg$$,functionArgs:$remoteFnArgs$$,msgMarkers:$msgMarkers$$});null!=this.remoteWin?this.remoteWin.postMessage($msg$$,"*"):this.remoteInvokeQueue.push($msg$$)};
EditorUi.prototype.handleRemoteInvoke=function $EditorUi$$handleRemoteInvoke$($msg$$){var $sendResponse$$=mxUtils.bind(this,function($resp$$,$error$$){var $respMsg$$={event:"remoteInvokeResponse",msgMarkers:$msg$$.msgMarkers};null!=$error$$?$respMsg$$.error={errResp:$error$$}:null!=$resp$$&&($respMsg$$.resp=$resp$$);this.remoteWin.postMessage(JSON.stringify($respMsg$$),"*")});try{var $FunctionName$$=$msg$$.FunctionName,$functionInfo$$=this.remoteInvokableFns[$FunctionName$$];if(null!=$functionInfo$$&&
"function"===typeof this[$FunctionName$$]){var $functionArgs$$=$msg$$.functionArgs;Array.isArray($functionArgs$$)||($functionArgs$$=[]);if($functionInfo$$.isAsync)$functionArgs$$.push(function(){$sendResponse$$(Array.prototype.slice.apply(arguments))}),$functionArgs$$.push(function($err$$){$sendResponse$$(null,$err$$||"Unkown Error")}),this[$FunctionName$$].apply(this,$functionArgs$$);else{var $resp$jscomp$0$$=this[$FunctionName$$].apply(this,$functionArgs$$);$sendResponse$$([$resp$jscomp$0$$])}}else $sendResponse$$(null,
"Invalid Call: "+$FunctionName$$+" is not found.")}catch($e$$){$sendResponse$$(null,"Invalid Call: An error occured, "+$e$$.message)}};EditorUi.prototype.commentsSupported=function $EditorUi$$commentsSupported$(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.commentsSupported():!1};EditorUi.prototype.commentsRefreshNeeded=function $EditorUi$$commentsRefreshNeeded$(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.commentsRefreshNeeded():!0};EditorUi.prototype.commentsSaveNeeded=
function $EditorUi$$commentsSaveNeeded$(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.commentsSaveNeeded():!1};EditorUi.prototype.getComments=function $EditorUi$$getComments$($success$$,$error$$){var $file$$=this.getCurrentFile();null!=$file$$?$file$$.getComments($success$$,$error$$):$success$$([])};EditorUi.prototype.addComment=function $EditorUi$$addComment$($comment$$,$success$$,$error$$){var $file$$=this.getCurrentFile();null!=$file$$?$file$$.addComment($comment$$,$success$$,
$error$$):$success$$(Date.now())};EditorUi.prototype.canReplyToReplies=function $EditorUi$$canReplyToReplies$(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.canReplyToReplies():!0};EditorUi.prototype.canComment=function $EditorUi$$canComment$(){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.canComment():!0};EditorUi.prototype.newComment=function $EditorUi$$newComment$($content$$,$user$$){var $file$$=this.getCurrentFile();return null!=$file$$?$file$$.newComment($content$$,
$user$$):new DrawioComment(this,null,$content$$,Date.now(),Date.now(),!1,$user$$)};EditorUi.prototype.isRevisionHistorySupported=function $EditorUi$$isRevisionHistorySupported$(){var $file$$=this.getCurrentFile();return null!=$file$$&&$file$$.isRevisionHistorySupported()};EditorUi.prototype.getRevisions=function $EditorUi$$getRevisions$($success$$,$error$$){var $file$$=this.getCurrentFile();null!=$file$$&&$file$$.getRevisions?$file$$.getRevisions($success$$,$error$$):$error$$({message:mxResources.get("unknownError")})};
EditorUi.prototype.isRevisionHistoryEnabled=function $EditorUi$$isRevisionHistoryEnabled$(){var $file$$=this.getCurrentFile();return null!=$file$$&&($file$$.constructor==DriveFile&&$file$$.isEditable()||$file$$.constructor==DropboxFile)}})();
var CommentsWindow=function $CommentsWindow$($editorUi$$,$x$jscomp$0$$,$y$jscomp$0$$,$w$$,$h$$,$saveCallback$$){function $updateNoComments$$(){for(var $divs$$=$listDiv$$.getElementsByTagName("div"),$visibleCount$$=0,$i$$=0;$i$$<$divs$$.length;$i$$++)"none"!=$divs$$[$i$$].style.display&&$divs$$[$i$$].parentNode==$listDiv$$&&$visibleCount$$++;$noComments$$.style.display=0==$visibleCount$$?"block":"none"}function $editComment$$($comment$$,$cdiv$$,$saveCallback$$,$deleteOnCancel$$){function $reset$$(){$cdiv$$.removeChild($textArea$$);
$cdiv$$.removeChild($btnDiv$$);$actionsDiv$$.style.display="block";$commentTxt$$.style.display="block"}$curEdited$$={div:$cdiv$$,comment:$comment$$,saveCallback:$saveCallback$$,deleteOnCancel:$deleteOnCancel$$};var $commentTxt$$=$cdiv$$.querySelector(".geCommentTxt"),$actionsDiv$$=$cdiv$$.querySelector(".geCommentActionsList"),$textArea$$=document.createElement("textarea");$textArea$$.className="geCommentEditTxtArea";$textArea$$.style.minHeight=$commentTxt$$.offsetHeight+"px";$textArea$$.value=$comment$$.content;
$cdiv$$.insertBefore($textArea$$,$commentTxt$$);var $btnDiv$$=document.createElement("div");$btnDiv$$.className="geCommentEditBtns";var $cancelBtn$$=mxUtils.button(mxResources.get("cancel"),function(){$deleteOnCancel$$?($cdiv$$.parentNode.removeChild($cdiv$$),$updateNoComments$$()):$reset$$();$curEdited$$=null});$cancelBtn$$.className="geCommentEditBtn";$btnDiv$$.appendChild($cancelBtn$$);var $saveBtn$$=mxUtils.button(mxResources.get("save"),function(){$commentTxt$$.innerHTML="";$comment$$.content=
$textArea$$.value;mxUtils.write($commentTxt$$,$comment$$.content);$reset$$();$saveCallback$$($comment$$);$curEdited$$=null});mxEvent.addListener($textArea$$,"keydown",mxUtils.bind(this,function($evt$$){mxEvent.isConsumed($evt$$)||((mxEvent.isControlDown($evt$$)||mxClient.IS_MAC&&mxEvent.isMetaDown($evt$$))&&13==$evt$$.keyCode?($saveBtn$$.click(),mxEvent.consume($evt$$)):27==$evt$$.keyCode&&($cancelBtn$$.click(),mxEvent.consume($evt$$)))}));$saveBtn$$.focus();$saveBtn$$.className="geCommentEditBtn gePrimaryBtn";
$btnDiv$$.appendChild($saveBtn$$);$cdiv$$.insertBefore($btnDiv$$,$commentTxt$$);$actionsDiv$$.style.display="none";$commentTxt$$.style.display="none";$textArea$$.focus()}function $writeCommentDate$$($comment$$,$dateDiv$$){$dateDiv$$.innerHTML="";var $str$$=$editorUi$$.timeSince(new Date($comment$$.modifiedDate));null==$str$$&&($str$$=mxResources.get("lessThanAMinute"));mxUtils.write($dateDiv$$,mxResources.get("timeAgo",[$str$$],"{1} ago"))}function $showBusy$$($commentDiv$$){var $busyImg$$=document.createElement("img");
$busyImg$$.className="geCommentBusyImg";$busyImg$$.src="/images/spin.gif";$commentDiv$$.appendChild($busyImg$$);$commentDiv$$.busyImg=$busyImg$$}function $showError$$($commentDiv$$){$commentDiv$$.style.border="1px solid red";$commentDiv$$.removeChild($commentDiv$$.busyImg)}function $showDone$$($commentDiv$$){$commentDiv$$.style.border="";$commentDiv$$.removeChild($commentDiv$$.busyImg)}function $addComment$$($comment$jscomp$0$$,$parentArr$$,$i$jscomp$143_parent$$,$level$$,$origContent_showResolved$$){function $addAction$$($name$$,
$evtHandler$$,$hide$$){var $action$$=document.createElement("li");$action$$.className="geCommentAction";var $actionLnk$$=document.createElement("a");$actionLnk$$.className="geCommentActionLnk";mxUtils.write($actionLnk$$,$name$$);$action$$.appendChild($actionLnk$$);mxEvent.addListener($actionLnk$$,"click",function($evt$$){$evtHandler$$($evt$$,$comment$jscomp$0$$);$evt$$.preventDefault();mxEvent.consume($evt$$)});$actionsList$$.appendChild($action$$);$hide$$&&($action$$.style.display="none")}function $collectReplies$$(){function $collectReplies$$($comment$$){$replies$$.push($pdiv$$);
if(null!=$comment$$.replies)for(var $i$$=0;$i$$<$comment$$.replies.length;$i$$++)$pdiv$$=$pdiv$$.nextSibling,$collectReplies$$($comment$$.replies[$i$$])}var $replies$$=[],$pdiv$$=$cdiv$$;$collectReplies$$($comment$jscomp$0$$);return{pdiv:$pdiv$$,replies:$replies$$}}function $addReply$$($initContent$$,$editIt$$,$saveCallback$$,$doResolve$$,$doReopen$$){function $doAddReply$$(){$showBusy$$($replyComment$$);$comment$jscomp$0$$.addReply($newReply$$,function($id$$){$newReply$$.id=$id$$;$comment$jscomp$0$$.replies.push($newReply$$);
$showDone$$($replyComment$$);$saveCallback$$&&$saveCallback$$()},function($err$$){$doEdit$$();$showError$$($replyComment$$);$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))},$doResolve$$,$doReopen$$)}function $doEdit$$(){$editComment$$($newReply$$,$replyComment$$,function($newReply$$){$doAddReply$$()},!0)}var $pdiv$$=$collectReplies$$().pdiv,$newReply$$=$editorUi$$.newComment($initContent$$,$editorUi$$.getCurrentUser());$newReply$$.pCommentId=
$comment$jscomp$0$$.id;null==$comment$jscomp$0$$.replies&&($comment$jscomp$0$$.replies=[]);var $replyComment$$=$addComment$$($newReply$$,$comment$jscomp$0$$.replies,$pdiv$$,$level$$+1);$editIt$$?$doEdit$$():$doAddReply$$()}if($origContent_showResolved$$||!$comment$jscomp$0$$.isResolved){$noComments$$.style.display="none";var $cdiv$$=document.createElement("div");$cdiv$$.className="geCommentContainer";$cdiv$$.setAttribute("data-commentId",$comment$jscomp$0$$.id);$cdiv$$.style.marginLeft=20*$level$$+
5+"px";$comment$jscomp$0$$.isResolved&&"dark"!=uiTheme&&($cdiv$$.style.backgroundColor="ghostWhite");var $actionsDiv$$=document.createElement("div");$actionsDiv$$.className="geCommentHeader";var $headerTxt_user$$=document.createElement("img");$headerTxt_user$$.className="geCommentUserImg";$headerTxt_user$$.src=$comment$jscomp$0$$.user.pictureUrl||Editor.userImage;$actionsDiv$$.appendChild($headerTxt_user$$);$headerTxt_user$$=document.createElement("div");$headerTxt_user$$.className="geCommentHeaderTxt";
$actionsDiv$$.appendChild($headerTxt_user$$);var $dateDiv$$=document.createElement("div");$dateDiv$$.className="geCommentUsername";mxUtils.write($dateDiv$$,$comment$jscomp$0$$.user.displayName||"");$headerTxt_user$$.appendChild($dateDiv$$);$dateDiv$$=document.createElement("div");$dateDiv$$.className="geCommentDate";$dateDiv$$.setAttribute("data-commentId",$comment$jscomp$0$$.id);$writeCommentDate$$($comment$jscomp$0$$,$dateDiv$$);$headerTxt_user$$.appendChild($dateDiv$$);$cdiv$$.appendChild($actionsDiv$$);
$actionsDiv$$=document.createElement("div");$actionsDiv$$.className="geCommentTxt";mxUtils.write($actionsDiv$$,$comment$jscomp$0$$.content||"");$cdiv$$.appendChild($actionsDiv$$);$actionsDiv$$=document.createElement("div");$actionsDiv$$.className="geCommentActions";var $actionsList$$=document.createElement("ul");$actionsList$$.className="geCommentActionsList";$actionsDiv$$.appendChild($actionsList$$);$readOnly$$||0!=$level$$&&!$canReplyToReplies$$||$addAction$$(mxResources.get("reply"),function(){$addReply$$("",
!0)},$comment$jscomp$0$$.isResolved);$headerTxt_user$$=$editorUi$$.getCurrentUser();null==$headerTxt_user$$||$headerTxt_user$$.id!=$comment$jscomp$0$$.user.id||$readOnly$$||($addAction$$(mxResources.get("edit"),function(){function $doEditComment$$(){$editComment$$($comment$jscomp$0$$,$cdiv$$,function(){$showBusy$$($cdiv$$);$comment$jscomp$0$$.editComment($comment$jscomp$0$$.content,function(){$showDone$$($cdiv$$)},function($err$$){$showError$$($cdiv$$);$doEditComment$$();$editorUi$$.handleError($err$$,
null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))})})}$doEditComment$$()},$comment$jscomp$0$$.isResolved),$addAction$$(mxResources.get("delete"),function(){$editorUi$$.confirm(mxResources.get("areYouSure"),function(){$showBusy$$($cdiv$$);$comment$jscomp$0$$.deleteComment(function(){for(var $replies$$=$collectReplies$$($comment$jscomp$0$$).replies,$i$$=0;$i$$<$replies$$.length;$i$$++)$listDiv$$.removeChild($replies$$[$i$$]);for($i$$=0;$i$$<$parentArr$$.length;$i$$++)if($parentArr$$[$i$$]==
$comment$jscomp$0$$){$parentArr$$.splice($i$$,1);break}$noComments$$.style.display=0==$listDiv$$.getElementsByTagName("div").length?"block":"none"},function($err$$){$showError$$($cdiv$$);$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))})})},$comment$jscomp$0$$.isResolved));$readOnly$$||0!=$level$$||$addAction$$($comment$jscomp$0$$.isResolved?mxResources.get("reopen"):mxResources.get("resolve"),function($evt$$){function $doToggle$$(){var $resolveActionLnk$$=
$evt$$.target;$resolveActionLnk$$.innerHTML="";$comment$jscomp$0$$.isResolved=!$comment$jscomp$0$$.isResolved;mxUtils.write($resolveActionLnk$$,$comment$jscomp$0$$.isResolved?mxResources.get("reopen"):mxResources.get("resolve"));for(var $actionsDisplay$$=$comment$jscomp$0$$.isResolved?"none":"",$replies$$=$collectReplies$$($comment$jscomp$0$$).replies,$color$$="dark"==uiTheme?"transparent":$comment$jscomp$0$$.isResolved?"ghostWhite":"white",$i$$=0;$i$$<$replies$$.length;$i$$++){$replies$$[$i$$].style.backgroundColor=
$color$$;for(var $forOpenActions$$=$replies$$[$i$$].querySelectorAll(".geCommentAction"),$j$$=0;$j$$<$forOpenActions$$.length;$j$$++)$forOpenActions$$[$j$$]!=$resolveActionLnk$$.parentNode&&($forOpenActions$$[$j$$].style.display=$actionsDisplay$$);$resolvedChecked$$||($replies$$[$i$$].style.display="none")}$updateNoComments$$()}$comment$jscomp$0$$.isResolved?$addReply$$(mxResources.get("reOpened")+": ",!0,$doToggle$$,!1,!0):$addReply$$(mxResources.get("markedAsResolved"),!1,$doToggle$$,!0)});$cdiv$$.appendChild($actionsDiv$$);
null!=$i$jscomp$143_parent$$?$listDiv$$.insertBefore($cdiv$$,$i$jscomp$143_parent$$.nextSibling):$listDiv$$.appendChild($cdiv$$);for($i$jscomp$143_parent$$=0;null!=$comment$jscomp$0$$.replies&&$i$jscomp$143_parent$$<$comment$jscomp$0$$.replies.length;$i$jscomp$143_parent$$++)$actionsDiv$$=$comment$jscomp$0$$.replies[$i$jscomp$143_parent$$],$actionsDiv$$.isResolved=$comment$jscomp$0$$.isResolved,$addComment$$($actionsDiv$$,$comment$jscomp$0$$.replies,null,$level$$+1,$origContent_showResolved$$);null!=
$curEdited$$&&($curEdited$$.comment.id==$comment$jscomp$0$$.id?($origContent_showResolved$$=$comment$jscomp$0$$.content,$comment$jscomp$0$$.content=$curEdited$$.comment.content,$editComment$$($comment$jscomp$0$$,$cdiv$$,$curEdited$$.saveCallback,$curEdited$$.deleteOnCancel),$comment$jscomp$0$$.content=$origContent_showResolved$$):null==$curEdited$$.comment.id&&$curEdited$$.comment.pCommentId==$comment$jscomp$0$$.id&&($listDiv$$.appendChild($curEdited$$.div),$editComment$$($curEdited$$.comment,$curEdited$$.div,
$curEdited$$.saveCallback,$curEdited$$.deleteOnCancel)));return $cdiv$$}}var $readOnly$$=!$editorUi$$.canComment(),$canReplyToReplies$$=$editorUi$$.canReplyToReplies(),$curEdited$$=null,$div$jscomp$0$$=document.createElement("div");$div$jscomp$0$$.className="geCommentsWin";$div$jscomp$0$$.style.background="white"==Dialog.backdropColor?"whiteSmoke":Dialog.backdropColor;var $link$$=EditorUi.compactUi?"26px":"30px",$listDiv$$=document.createElement("div");$listDiv$$.className="geCommentsList";$listDiv$$.style.backgroundColor=
"white"==Dialog.backdropColor?"whiteSmoke":Dialog.backdropColor;$listDiv$$.style.bottom=parseInt($link$$)+7+"px";$div$jscomp$0$$.appendChild($listDiv$$);var $noComments$$=document.createElement("span");$noComments$$.style.cssText="display:none;padding-top:10px;text-align:center;";mxUtils.write($noComments$$,mxResources.get("noCommentsFound"));var $ldiv_refreshCommentsTime$$=document.createElement("div");$ldiv_refreshCommentsTime$$.className="geToolbarContainer geCommentsToolbar";$ldiv_refreshCommentsTime$$.style.height=
$link$$;$ldiv_refreshCommentsTime$$.style.padding=EditorUi.compactUi?"4px 0px 3px 0px":"1px";$ldiv_refreshCommentsTime$$.style.backgroundColor="white"==Dialog.backdropColor?"whiteSmoke":Dialog.backdropColor;mxClient.IS_QUIRKS&&($ldiv_refreshCommentsTime$$.style.filter="none");$link$$=document.createElement("a");$link$$.className="geButton";mxClient.IS_QUIRKS&&($link$$.style.filter="none");if(!$readOnly$$){var $addLink_refreshLink_resolvedLink$$=$link$$.cloneNode();$addLink_refreshLink_resolvedLink$$.innerHTML=
'<div class="geSprite geSprite-plus" style="display:inline-block;"></div>';$addLink_refreshLink_resolvedLink$$.setAttribute("title",mxResources.get("create")+"...");mxEvent.addListener($addLink_refreshLink_resolvedLink$$,"click",function($evt$$){function $doAddComment$$(){$editComment$$($newComment$$,$newCommentDiv$$,function($newComment$$){$showBusy$$($newCommentDiv$$);$editorUi$$.addComment($newComment$$,function($id$$){$newComment$$.id=$id$$;$comments$$.push($newComment$$);$showDone$$($newCommentDiv$$)},
function($err$$){$showError$$($newCommentDiv$$);$doAddComment$$();$editorUi$$.handleError($err$$,null,null,null,mxUtils.htmlEntities(mxResources.get("objectNotFound")))})},!0)}var $newComment$$=$editorUi$$.newComment("",$editorUi$$.getCurrentUser()),$newCommentDiv$$=$addComment$$($newComment$$,$comments$$,null,0);$doAddComment$$();$evt$$.preventDefault();mxEvent.consume($evt$$)});$ldiv_refreshCommentsTime$$.appendChild($addLink_refreshLink_resolvedLink$$)}$addLink_refreshLink_resolvedLink$$=$link$$.cloneNode();
$addLink_refreshLink_resolvedLink$$.innerHTML='<img src="/images/check.png" style="width: 16px; padding: 2px;">';$addLink_refreshLink_resolvedLink$$.setAttribute("title",mxResources.get("showResolved"));var $resolvedChecked$$=!1;"dark"==uiTheme&&($addLink_refreshLink_resolvedLink$$.style.filter="invert(100%)");mxEvent.addListener($addLink_refreshLink_resolvedLink$$,"click",function($evt$$){this.className=($resolvedChecked$$=!$resolvedChecked$$)?"geButton geCheckedBtn":"geButton";$refresh$$();$evt$$.preventDefault();
mxEvent.consume($evt$$)});$ldiv_refreshCommentsTime$$.appendChild($addLink_refreshLink_resolvedLink$$);$editorUi$$.commentsRefreshNeeded()&&($addLink_refreshLink_resolvedLink$$=$link$$.cloneNode(),$addLink_refreshLink_resolvedLink$$.innerHTML='<img src="/images/update16.png" style="width: 16px; padding: 2px;">',$addLink_refreshLink_resolvedLink$$.setAttribute("title",mxResources.get("refresh")),"dark"==uiTheme&&($addLink_refreshLink_resolvedLink$$.style.filter="invert(100%)"),mxEvent.addListener($addLink_refreshLink_resolvedLink$$,
"click",function($evt$$){$refresh$$();$evt$$.preventDefault();mxEvent.consume($evt$$)}),$ldiv_refreshCommentsTime$$.appendChild($addLink_refreshLink_resolvedLink$$));$editorUi$$.commentsSaveNeeded()&&($link$$=$link$$.cloneNode(),$link$$.innerHTML='<img src="/images/save.png" style="width: 20px; padding: 2px;">',$link$$.setAttribute("title",mxResources.get("save")),"dark"==uiTheme&&($link$$.style.filter="invert(100%)"),mxEvent.addListener($link$$,"click",function($evt$$){$saveCallback$$();$evt$$.preventDefault();
mxEvent.consume($evt$$)}),$ldiv_refreshCommentsTime$$.appendChild($link$$));$div$jscomp$0$$.appendChild($ldiv_refreshCommentsTime$$);var $comments$$=[],$refresh$$=mxUtils.bind(this,function(){if(null!=$curEdited$$){$curEdited$$.div=$curEdited$$.div.cloneNode(!0);var $commentEditTxt$$=$curEdited$$.div.querySelector(".geCommentEditTxtArea"),$commentEditBtns$$=$curEdited$$.div.querySelector(".geCommentEditBtns");$curEdited$$.comment.content=$commentEditTxt$$.value;$commentEditTxt$$.parentNode.removeChild($commentEditTxt$$);
$commentEditBtns$$.parentNode.removeChild($commentEditBtns$$)}$listDiv$$.innerHTML='<div style="padding-top:10px;text-align:center;"><img src="/images/spin.gif" valign="middle"> '+mxUtils.htmlEntities(mxResources.get("loading"))+"...</div>";$canReplyToReplies$$=$editorUi$$.canReplyToReplies();$editorUi$$.commentsSupported()?$editorUi$$.getComments(function($i$jscomp$147_list$$){function $sortReplies$$($replies$$){if(null!=$replies$$){$replies$$.sort(function($r1$$,$r2$$){return new Date($r1$$.modifiedDate)-
new Date($r2$$.modifiedDate)});for(var $i$$=0;$i$$<$replies$$.length;$i$$++)$sortReplies$$($replies$$[$i$$].replies)}}$i$jscomp$147_list$$.sort(function($c1$$,$c2$$){return new Date($c1$$.modifiedDate)-new Date($c2$$.modifiedDate)});$listDiv$$.innerHTML="";$listDiv$$.appendChild($noComments$$);$noComments$$.style.display="block";$comments$$=$i$jscomp$147_list$$;for($i$jscomp$147_list$$=0;$i$jscomp$147_list$$<$comments$$.length;$i$jscomp$147_list$$++)$sortReplies$$($comments$$[$i$jscomp$147_list$$].replies),
$addComment$$($comments$$[$i$jscomp$147_list$$],$comments$$,null,0,$resolvedChecked$$);null!=$curEdited$$&&null==$curEdited$$.comment.id&&null==$curEdited$$.comment.pCommentId&&($listDiv$$.appendChild($curEdited$$.div),$editComment$$($curEdited$$.comment,$curEdited$$.div,$curEdited$$.saveCallback,$curEdited$$.deleteOnCancel))},function(){$listDiv$$.innerHTML=mxUtils.htmlEntities(mxResources.get("error"))}):$listDiv$$.innerHTML=mxUtils.htmlEntities(mxResources.get("error"))});$refresh$$();this.refreshComments=
$refresh$$;$ldiv_refreshCommentsTime$$=mxUtils.bind(this,function(){function $processComment$$($comment$$){var $div$jscomp$30_i$$=$modDateDivsMap$$[$comment$$.id];if(null!=$div$jscomp$30_i$$)for($writeCommentDate$$($comment$$,$div$jscomp$30_i$$),$div$jscomp$30_i$$=0;null!=$comment$$.replies&&$div$jscomp$30_i$$<$comment$$.replies.length;$div$jscomp$30_i$$++)$processComment$$($comment$$.replies[$div$jscomp$30_i$$])}if(this.window.isVisible()){for(var $modDateDivs$$=$listDiv$$.querySelectorAll(".geCommentDate"),
$modDateDivsMap$$={},$i$$=0;$i$$<$modDateDivs$$.length;$i$$++){var $div$$=$modDateDivs$$[$i$$];$modDateDivsMap$$[$div$$.getAttribute("data-commentId")]=$div$$}for($i$$=0;$i$$<$comments$$.length;$i$$++)$processComment$$($comments$$[$i$$])}});setInterval($ldiv_refreshCommentsTime$$,6E4);this.refreshCommentsTime=$ldiv_refreshCommentsTime$$;this.window=new mxWindow(mxResources.get("comments"),$div$jscomp$0$$,$x$jscomp$0$$,$y$jscomp$0$$,$w$$,$h$$,!0,!0);this.window.minimumSize=new mxRectangle(0,0,300,
200);this.window.destroyOnClose=!1;this.window.setMaximizable(!1);this.window.setResizable(!0);this.window.setClosable(!0);this.window.setVisible(!0);this.window.addListener(mxEvent.SHOW,mxUtils.bind(this,function(){this.window.fit()}));this.window.setLocation=function $this$window$setLocation$($x$$,$y$$){var $ih$$=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight;$x$$=Math.max(0,Math.min($x$$,(window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth)-
this.table.clientWidth));$y$$=Math.max(0,Math.min($y$$,$ih$$-this.table.clientHeight-48));this.getX()==$x$$&&this.getY()==$y$$||mxWindow.prototype.setLocation.apply(this,arguments)};var $resizeListener$$=mxUtils.bind(this,function(){var $x$$=this.window.getX(),$y$$=this.window.getY();this.window.setLocation($x$$,$y$$)});mxEvent.addListener(window,"resize",$resizeListener$$);this.destroy=function $this$destroy$(){mxEvent.removeListener(window,"resize",$resizeListener$$);this.window.destroy()}},ConfirmDialog=
function $ConfirmDialog$($editorUi$$,$img$jscomp$33_message$$,$okFn$$,$cancelFn$$,$okLabel$jscomp$1_span$$,$cancelBtn$jscomp$5_cancelLabel$$,$okImg$$,$cancelImg$$,$showRememberOption$$,$btns$jscomp$1_imgSrc$$){var $div$$=document.createElement("div");$div$$.style.textAlign="center";var $p2$jscomp$2_p3$$=document.createElement("div");$p2$jscomp$2_p3$$.style.padding="6px";$p2$jscomp$2_p3$$.style.overflow="auto";$p2$jscomp$2_p3$$.style.maxHeight="44px";$p2$jscomp$2_p3$$.style.lineHeight="1.2em";mxClient.IS_QUIRKS&&
($p2$jscomp$2_p3$$.style.height="60px");mxUtils.write($p2$jscomp$2_p3$$,$img$jscomp$33_message$$);$div$$.appendChild($p2$jscomp$2_p3$$);null!=$btns$jscomp$1_imgSrc$$&&($p2$jscomp$2_p3$$=document.createElement("div"),$p2$jscomp$2_p3$$.style.padding="6px 0 6px 0",$img$jscomp$33_message$$=document.createElement("img"),$img$jscomp$33_message$$.setAttribute("src",$btns$jscomp$1_imgSrc$$),$p2$jscomp$2_p3$$.appendChild($img$jscomp$33_message$$),$div$$.appendChild($p2$jscomp$2_p3$$));$btns$jscomp$1_imgSrc$$=
document.createElement("div");$btns$jscomp$1_imgSrc$$.style.textAlign="center";$btns$jscomp$1_imgSrc$$.style.whiteSpace="nowrap";var $cb$$=document.createElement("input");$cb$$.setAttribute("type","checkbox");$cancelBtn$jscomp$5_cancelLabel$$=mxUtils.button($cancelBtn$jscomp$5_cancelLabel$$||mxResources.get("cancel"),function(){$editorUi$$.hideDialog();null!=$cancelFn$$&&$cancelFn$$($cb$$.checked)});$cancelBtn$jscomp$5_cancelLabel$$.className="geBtn";null!=$cancelImg$$&&($cancelBtn$jscomp$5_cancelLabel$$.innerHTML=
$cancelImg$$+"<br>"+$cancelBtn$jscomp$5_cancelLabel$$.innerHTML,$cancelBtn$jscomp$5_cancelLabel$$.style.paddingBottom="8px",$cancelBtn$jscomp$5_cancelLabel$$.style.paddingTop="8px",$cancelBtn$jscomp$5_cancelLabel$$.style.height="auto",$cancelBtn$jscomp$5_cancelLabel$$.style.width="40%");$editorUi$$.editor.cancelFirst&&$btns$jscomp$1_imgSrc$$.appendChild($cancelBtn$jscomp$5_cancelLabel$$);var $okBtn$$=mxUtils.button($okLabel$jscomp$1_span$$||mxResources.get("ok"),function(){$editorUi$$.hideDialog();
null!=$okFn$$&&$okFn$$($cb$$.checked)});$btns$jscomp$1_imgSrc$$.appendChild($okBtn$$);null!=$okImg$$?($okBtn$$.innerHTML=$okImg$$+"<br>"+$okBtn$$.innerHTML+"<br>",$okBtn$$.style.paddingBottom="8px",$okBtn$$.style.paddingTop="8px",$okBtn$$.style.height="auto",$okBtn$$.className="geBtn",$okBtn$$.style.width="40%"):$okBtn$$.className="geBtn gePrimaryBtn";$editorUi$$.editor.cancelFirst||$btns$jscomp$1_imgSrc$$.appendChild($cancelBtn$jscomp$5_cancelLabel$$);$div$$.appendChild($btns$jscomp$1_imgSrc$$);
$showRememberOption$$?($btns$jscomp$1_imgSrc$$.style.marginTop="10px",$p2$jscomp$2_p3$$=document.createElement("p"),$p2$jscomp$2_p3$$.style.marginTop="20px",$p2$jscomp$2_p3$$.appendChild($cb$$),$okLabel$jscomp$1_span$$=document.createElement("span"),mxUtils.write($okLabel$jscomp$1_span$$," "+mxResources.get("rememberThisSetting")),$p2$jscomp$2_p3$$.appendChild($okLabel$jscomp$1_span$$),$div$$.appendChild($p2$jscomp$2_p3$$),mxEvent.addListener($okLabel$jscomp$1_span$$,"click",function($evt$$){$cb$$.checked=
!$cb$$.checked;mxEvent.consume($evt$$)})):$btns$jscomp$1_imgSrc$$.style.marginTop="12px";this.init=function $this$init$(){$okBtn$$.focus()};this.container=$div$$};function DiagramPage($node$$){this.node=$node$$;null==this.getId()&&this.node.setAttribute("id",Editor.guid())}DiagramPage.prototype.node=null;DiagramPage.prototype.root=null;DiagramPage.prototype.viewState=null;DiagramPage.prototype.getId=function $DiagramPage$$getId$(){return this.node.getAttribute("id")};DiagramPage.prototype.getName=function $DiagramPage$$getName$(){return this.node.getAttribute("name")};
DiagramPage.prototype.setName=function $DiagramPage$$setName$($value$$){null==$value$$?this.node.removeAttribute("name"):this.node.setAttribute("name",$value$$)};function RenamePage($ui$$,$page$$,$name$$){this.ui=$ui$$;this.page=$page$$;this.previous=this.name=$name$$}RenamePage.prototype.execute=function $RenamePage$$execute$(){var $tmp$$=this.page.getName();this.page.setName(this.previous);this.name=this.previous;this.previous=$tmp$$;this.ui.editor.graph.updatePlaceholders();this.ui.editor.fireEvent(new mxEventObject("pageRenamed"))};
function MovePage($ui$$,$oldIndex$$,$newIndex$$){this.ui=$ui$$;this.oldIndex=$oldIndex$$;this.newIndex=$newIndex$$}MovePage.prototype.execute=function $MovePage$$execute$(){this.ui.pages.splice(this.newIndex,0,this.ui.pages.splice(this.oldIndex,1)[0]);var $tmp$$=this.oldIndex;this.oldIndex=this.newIndex;this.newIndex=$tmp$$;this.ui.editor.graph.updatePlaceholders();this.ui.editor.fireEvent(new mxEventObject("pageMoved"))};
function SelectPage($ui$$,$page$$,$viewState$$){this.ui=$ui$$;this.previousPage=this.page=$page$$;this.neverShown=!0;null!=$page$$&&(this.neverShown=null==$page$$.viewState,this.ui.updatePageRoot($page$$),null!=$viewState$$&&($page$$.viewState=$viewState$$,this.neverShown=!1))}
SelectPage.prototype.execute=function $SelectPage$$execute$(){var $page$$=mxUtils.indexOf(this.ui.pages,this.previousPage);if(null!=this.page&&0<=$page$$){var $page$$=this.ui.currentPage,$editor$$=this.ui.editor,$graph$$=$editor$$.graph,$data$$=Graph.compressNode($editor$$.getGraphXml(!0));mxUtils.setTextContent($page$$.node,$data$$);$page$$.viewState=$graph$$.getViewState();$page$$.root=$graph$$.model.root;null!=$page$$.model&&$page$$.model.rootChanged($page$$.root);$graph$$.view.clear($page$$.root,
!0);$graph$$.clearSelection();this.ui.currentPage=this.previousPage;this.previousPage=$page$$;$page$$=this.ui.currentPage;$graph$$.model.prefix=Editor.guid()+"-";$graph$$.model.rootChanged($page$$.root);$graph$$.setViewState($page$$.viewState);$graph$$.gridEnabled=$graph$$.gridEnabled&&(!this.ui.editor.isChromelessView()||"1"==urlParams.grid);$editor$$.updateGraphComponents();$graph$$.view.validate();$graph$$.blockMathRender=!0;$graph$$.sizeDidChange();$graph$$.blockMathRender=!1;this.neverShown&&
(this.neverShown=!1,$graph$$.selectUnlockedLayer());$editor$$.graph.fireEvent(new mxEventObject(mxEvent.ROOT));$editor$$.fireEvent(new mxEventObject("pageSelected","change",this))}};function ChangePage($ui$$,$page$$,$select$$,$index$$,$noSelect$$){SelectPage.call(this,$ui$$,$select$$);this.relatedPage=$page$$;this.index=$index$$;this.previousIndex=null;this.noSelect=$noSelect$$}mxUtils.extend(ChangePage,SelectPage);
ChangePage.prototype.execute=function $ChangePage$$execute$(){this.ui.editor.fireEvent(new mxEventObject("beforePageChange","change",this));this.previousIndex=this.index;if(null==this.index){var $tmp$$=mxUtils.indexOf(this.ui.pages,this.relatedPage);this.ui.pages.splice($tmp$$,1);this.index=$tmp$$}else this.ui.pages.splice(this.index,0,this.relatedPage),this.index=null;this.noSelect||SelectPage.prototype.execute.apply(this,arguments)};EditorUi.prototype.tabContainerHeight=38;
EditorUi.prototype.getSelectedPageIndex=function $EditorUi$$getSelectedPageIndex$(){var $result$$=null;if(null!=this.pages&&null!=this.currentPage)for(var $i$$=0;$i$$<this.pages.length;$i$$++)if(this.pages[$i$$]==this.currentPage){$result$$=$i$$;break}return $result$$};EditorUi.prototype.getPageById=function $EditorUi$$getPageById$($id$$){if(null!=this.pages)for(var $i$$=0;$i$$<this.pages.length;$i$$++)if(this.pages[$i$$].getId()==$id$$)return this.pages[$i$$];return null};
EditorUi.prototype.initPages=function $EditorUi$$initPages$(){this.actions.addAction("previousPage",mxUtils.bind(this,function(){this.selectNextPage(!1)}));this.actions.addAction("nextPage",mxUtils.bind(this,function(){this.selectNextPage(!0)}));this.keyHandler.bindAction(33,!0,"previousPage",!0);this.keyHandler.bindAction(34,!0,"nextPage",!0);var $graph$$=this.editor.graph,$graphViewValidateBackground$$=$graph$$.view.validateBackground;$graph$$.view.validateBackground=mxUtils.bind(this,function(){if(null!=
this.tabContainer){var $prevHeight$$=this.tabContainer.style.height;this.tabContainer.style.height=null==this.fileNode||null==this.pages||1==this.pages.length&&"0"==urlParams.pages?"0px":this.tabContainerHeight+"px";$prevHeight$$!=this.tabContainer.style.height&&this.refresh(!1)}$graphViewValidateBackground$$.apply($graph$$.view,arguments)});var $lastPage$$=null,$updateTabs$$=mxUtils.bind(this,function(){this.updateTabContainer();var $p$$=this.currentPage;null!=$p$$&&$p$$!=$lastPage$$&&(null==$p$$.viewState||
null==$p$$.viewState.scrollLeft?(this.resetScrollbars(),$graph$$.isLightboxView()&&this.lightboxFit(),null!=this.chromelessResize&&($graph$$.container.scrollLeft=0,$graph$$.container.scrollTop=0,this.chromelessResize())):($graph$$.container.scrollLeft=$graph$$.view.translate.x*$graph$$.view.scale+$p$$.viewState.scrollLeft,$graph$$.container.scrollTop=$graph$$.view.translate.y*$graph$$.view.scale+$p$$.viewState.scrollTop),$lastPage$$=$p$$);null!=this.actions.layersWindow&&this.actions.layersWindow.refreshLayers();
"undefined"!==typeof MathJax&&"undefined"!==typeof MathJax.Hub?1!=MathJax.Hub.queue.pending||null==this.editor||this.editor.graph.mathEnabled||MathJax.Hub.Queue(mxUtils.bind(this,function(){null!=this.editor&&this.editor.graph.refresh()})):"undefined"===typeof Editor.MathJaxClear||null!=this.editor&&this.editor.graph.mathEnabled||Editor.MathJaxClear()});this.editor.graph.model.addListener(mxEvent.CHANGE,mxUtils.bind(this,function($sender$$,$evt$$){for(var $$jscomp$iter$2_edit$$=$evt$$&&$evt$$.getProperty("edit"),
$$jscomp$iter$2_edit$$=$jscomp.makeIterator($$jscomp$iter$2_edit$$&&$$jscomp$iter$2_edit$$.changes||[]),$$jscomp$key$change$jscomp$1_change$$=$$jscomp$iter$2_edit$$.next();!$$jscomp$key$change$jscomp$1_change$$.done;$$jscomp$key$change$jscomp$1_change$$=$$jscomp$iter$2_edit$$.next())if($$jscomp$key$change$jscomp$1_change$$=$$jscomp$key$change$jscomp$1_change$$.value,$$jscomp$key$change$jscomp$1_change$$ instanceof SelectPage||$$jscomp$key$change$jscomp$1_change$$ instanceof RenamePage||$$jscomp$key$change$jscomp$1_change$$ instanceof
MovePage||$$jscomp$key$change$jscomp$1_change$$ instanceof mxRootChange){$updateTabs$$();break}}));null!=this.toolbar&&this.editor.addListener("pageSelected",this.toolbar.updateZoom)};
EditorUi.prototype.restoreViewState=function $EditorUi$$restoreViewState$($newPage_page$$,$viewState$$,$selection$$){$newPage_page$$=null!=$newPage_page$$?this.getPageById($newPage_page$$.getId()):null;var $graph$$=this.editor.graph;null!=$newPage_page$$&&null!=this.currentPage&&null!=this.pages&&($newPage_page$$!=this.currentPage?this.selectPage($newPage_page$$,!0,$viewState$$):($graph$$.setViewState($viewState$$),this.editor.updateGraphComponents(),$graph$$.view.revalidate(),$graph$$.sizeDidChange()),
$graph$$.container.scrollLeft=$graph$$.view.translate.x*$graph$$.view.scale+$viewState$$.scrollLeft,$graph$$.container.scrollTop=$graph$$.view.translate.y*$graph$$.view.scale+$viewState$$.scrollTop,$graph$$.restoreSelection($selection$$))};
Graph.prototype.createViewState=function $Graph$$createViewState$($node$$){var $pv$$=$node$$.getAttribute("page"),$ps$$=parseFloat($node$$.getAttribute("pageScale")),$pw$$=parseFloat($node$$.getAttribute("pageWidth")),$ph$$=parseFloat($node$$.getAttribute("pageHeight")),$bg$$=$node$$.getAttribute("background"),$bgImg$jscomp$2_temp$$=$node$$.getAttribute("backgroundImage"),$bgImg$jscomp$2_temp$$=null!=$bgImg$jscomp$2_temp$$&&0<$bgImg$jscomp$2_temp$$.length?JSON.parse($bgImg$jscomp$2_temp$$):null;return{gridEnabled:"0"!=
$node$$.getAttribute("grid"),gridSize:parseFloat($node$$.getAttribute("gridSize"))||mxGraph.prototype.gridSize,guidesEnabled:"0"!=$node$$.getAttribute("guides"),foldingEnabled:"0"!=$node$$.getAttribute("fold"),shadowVisible:"1"==$node$$.getAttribute("shadow"),pageVisible:this.isLightboxView()?!1:null!=$pv$$?"0"!=$pv$$:this.defaultPageVisible,background:null!=$bg$$&&0<$bg$$.length?$bg$$:null,backgroundImage:null!=$bgImg$jscomp$2_temp$$?new mxImage($bgImg$jscomp$2_temp$$.src,$bgImg$jscomp$2_temp$$.width,
$bgImg$jscomp$2_temp$$.height):null,pageScale:isNaN($ps$$)?mxGraph.prototype.pageScale:$ps$$,pageFormat:isNaN($pw$$)||isNaN($ph$$)?mxSettings.getPageFormat():new mxRectangle(0,0,$pw$$,$ph$$),tooltips:"0"!=$node$$.getAttribute("tooltips"),connect:"0"!=$node$$.getAttribute("connect"),arrows:"0"!=$node$$.getAttribute("arrows"),mathEnabled:"1"==$node$$.getAttribute("math"),selectionCells:null,defaultParent:null,scrollbars:this.defaultScrollbars,scale:1}};
Graph.prototype.saveViewState=function $Graph$$saveViewState$($vs$$,$node$$,$ignoreTransient_pf$$){$ignoreTransient_pf$$||($node$$.setAttribute("grid",null==$vs$$||$vs$$.gridEnabled?"1":"0"),$node$$.setAttribute("gridSize",null!=$vs$$?$vs$$.gridSize:mxGraph.prototype.gridSize),$node$$.setAttribute("guides",null==$vs$$||$vs$$.guidesEnabled?"1":"0"),$node$$.setAttribute("tooltips",null==$vs$$||$vs$$.tooltips?"1":"0"),$node$$.setAttribute("connect",null==$vs$$||$vs$$.connect?"1":"0"),$node$$.setAttribute("arrows",
null==$vs$$||$vs$$.arrows?"1":"0"),$node$$.setAttribute("page",null==$vs$$&&this.defaultPageVisible||null!=$vs$$&&$vs$$.pageVisible?"1":"0"),$node$$.setAttribute("fold",null==$vs$$||$vs$$.foldingEnabled?"1":"0"));$node$$.setAttribute("pageScale",null!=$vs$$&&null!=$vs$$.pageScale?$vs$$.pageScale:mxGraph.prototype.pageScale);$ignoreTransient_pf$$=null!=$vs$$?$vs$$.pageFormat:mxSettings.getPageFormat();null!=$ignoreTransient_pf$$&&($node$$.setAttribute("pageWidth",$ignoreTransient_pf$$.width),$node$$.setAttribute("pageHeight",
$ignoreTransient_pf$$.height));null!=$vs$$&&null!=$vs$$.background&&$node$$.setAttribute("background",$vs$$.background);null!=$vs$$&&null!=$vs$$.backgroundImage&&$node$$.setAttribute("backgroundImage",JSON.stringify($vs$$.backgroundImage));$node$$.setAttribute("math",null!=$vs$$&&$vs$$.mathEnabled?"1":"0");$node$$.setAttribute("shadow",null!=$vs$$&&$vs$$.shadowVisible?"1":"0")};
Graph.prototype.getViewState=function $Graph$$getViewState$(){return{defaultParent:this.defaultParent,currentRoot:this.view.currentRoot,gridEnabled:this.gridEnabled,gridSize:this.gridSize,guidesEnabled:this.graphHandler.guidesEnabled,foldingEnabled:this.foldingEnabled,shadowVisible:this.shadowVisible,scrollbars:this.scrollbars,pageVisible:this.pageVisible,background:this.background,backgroundImage:this.backgroundImage,pageScale:this.pageScale,pageFormat:this.pageFormat,tooltips:this.tooltipHandler.isEnabled(),
connect:this.connectionHandler.isEnabled(),arrows:this.connectionArrowsEnabled,scale:this.view.scale,scrollLeft:this.container.scrollLeft-this.view.translate.x*this.view.scale,scrollTop:this.container.scrollTop-this.view.translate.y*this.view.scale,translate:this.view.translate.clone(),lastPasteXml:this.lastPasteXml,pasteCounter:this.pasteCounter,mathEnabled:this.mathEnabled}};
Graph.prototype.setViewState=function $Graph$$setViewState$($state$$){null!=$state$$?(this.lastPasteXml=$state$$.lastPasteXml,this.pasteCounter=$state$$.pasteCounter||0,this.mathEnabled=$state$$.mathEnabled,this.gridEnabled=$state$$.gridEnabled,this.gridSize=$state$$.gridSize,this.graphHandler.guidesEnabled=$state$$.guidesEnabled,this.foldingEnabled=$state$$.foldingEnabled,this.setShadowVisible($state$$.shadowVisible,!1),this.scrollbars=$state$$.scrollbars,this.pageVisible=$state$$.pageVisible,this.background=
$state$$.background,this.backgroundImage=$state$$.backgroundImage,this.pageScale=$state$$.pageScale,this.pageFormat=$state$$.pageFormat,this.view.currentRoot=$state$$.currentRoot,this.defaultParent=$state$$.defaultParent,this.connectionArrowsEnabled=$state$$.arrows,this.setTooltips($state$$.tooltips),this.setConnectable($state$$.connect),this.view.scale=null!=$state$$.scale?$state$$.scale:1,null==this.view.currentRoot||this.model.contains(this.view.currentRoot)||(this.view.currentRoot=null),null==
this.defaultParent||this.model.contains(this.defaultParent)||(this.setDefaultParent(null),this.selectUnlockedLayer()),null!=$state$$.translate&&(this.view.translate=$state$$.translate)):(this.view.currentRoot=null,this.view.scale=1,this.gridEnabled=!0,this.gridSize=mxGraph.prototype.gridSize,this.pageScale=mxGraph.prototype.pageScale,this.pageFormat=mxSettings.getPageFormat(),this.pageVisible=this.defaultPageVisible,this.backgroundImage=this.background=null,this.scrollbars=this.defaultScrollbars,
this.foldingEnabled=this.graphHandler.guidesEnabled=!0,this.setShadowVisible(!1,!1),this.defaultParent=null,this.setTooltips(!0),this.setConnectable(!0),this.lastPasteXml=null,this.pasteCounter=0,this.mathEnabled=!1,this.connectionArrowsEnabled=!0);this.preferPageSize=this.pageBreaksVisible=this.pageVisible;this.fireEvent(new mxEventObject("viewStateChanged","state",$state$$))};
EditorUi.prototype.updatePageRoot=function $EditorUi$$updatePageRoot$($page$$){if(null==$page$$.root){var $node$$=this.editor.extractGraphModel($page$$.node);if(null!=$node$$){$page$$.graphModelNode=$node$$;$page$$.viewState=this.editor.graph.createViewState($node$$);var $codec$$=new mxCodec($node$$.ownerDocument);$page$$.root=$codec$$.decode($node$$).root}else $page$$.root=this.editor.graph.model.createRoot()}else null==$page$$.viewState&&(null==$page$$.graphModelNode&&($node$$=this.editor.extractGraphModel($page$$.node),
null!=$node$$&&($page$$.graphModelNode=$node$$)),null!=$page$$.graphModelNode&&($page$$.viewState=this.editor.graph.createViewState($page$$.graphModelNode)));return $page$$};
EditorUi.prototype.selectPage=function $EditorUi$$selectPage$($page$$,$quiet$$,$viewState$$){try{this.editor.graph.isEditing()&&this.editor.graph.stopEditing(!1);$quiet$$=null!=$quiet$$?$quiet$$:!1;this.editor.graph.isMouseDown=!1;this.editor.graph.reset();var $edit$$=this.editor.graph.model.createUndoableEdit();$edit$$.ignoreEdit=!0;var $change$$=new SelectPage(this,$page$$,$viewState$$);$change$$.execute();$edit$$.add($change$$);$edit$$.notify();this.editor.graph.tooltipHandler.hide();$quiet$$||
this.editor.graph.model.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",$edit$$))}catch($e$$){this.handleError($e$$)}};
EditorUi.prototype.selectNextPage=function $EditorUi$$selectNextPage$($forward$$){var $next$jscomp$13_tmp$$=this.currentPage;null!=$next$jscomp$13_tmp$$&&null!=this.pages&&($next$jscomp$13_tmp$$=mxUtils.indexOf(this.pages,$next$jscomp$13_tmp$$),$forward$$?this.selectPage(this.pages[mxUtils.mod($next$jscomp$13_tmp$$+1,this.pages.length)]):$forward$$||this.selectPage(this.pages[mxUtils.mod($next$jscomp$13_tmp$$-1,this.pages.length)]))};
EditorUi.prototype.insertPage=function $EditorUi$$insertPage$($page$$,$index$$){if(this.editor.graph.isEnabled()){this.editor.graph.isEditing()&&this.editor.graph.stopEditing(!1);$page$$=null!=$page$$?$page$$:this.createPage();$index$$=null!=$index$$?$index$$:this.pages.length;var $change$$=new ChangePage(this,$page$$,$page$$,$index$$);this.editor.graph.model.execute($change$$)}return $page$$};
EditorUi.prototype.createPage=function $EditorUi$$createPage$($name$$){var $page$$=new DiagramPage(this.fileNode.ownerDocument.createElement("diagram"));$page$$.setName(null!=$name$$?$name$$:this.createPageName());return $page$$};
EditorUi.prototype.createPageName=function $EditorUi$$createPageName$(){for(var $existing$$={},$i$$=0;$i$$<this.pages.length;$i$$++){var $name$jscomp$96_tmp$$=this.pages[$i$$].getName();null!=$name$jscomp$96_tmp$$&&0<$name$jscomp$96_tmp$$.length&&($existing$$[$name$jscomp$96_tmp$$]=$name$jscomp$96_tmp$$)}$i$$=this.pages.length;do $name$jscomp$96_tmp$$=mxResources.get("pageWithNumber",[++$i$$]);while(null!=$existing$$[$name$jscomp$96_tmp$$]);return $name$jscomp$96_tmp$$};
EditorUi.prototype.removePage=function $EditorUi$$removePage$($page$$){try{var $graph$$=this.editor.graph,$tmp$$=mxUtils.indexOf(this.pages,$page$$);if($graph$$.isEnabled()&&0<=$tmp$$){this.editor.graph.isEditing()&&this.editor.graph.stopEditing(!1);$graph$$.model.beginUpdate();try{var $next$$=this.currentPage;$next$$==$page$$&&1<this.pages.length?($tmp$$==this.pages.length-1?$tmp$$--:$tmp$$++,$next$$=this.pages[$tmp$$]):1>=this.pages.length&&($next$$=this.insertPage(),$graph$$.model.execute(new RenamePage(this,
$next$$,mxResources.get("pageWithNumber",[1]))));$graph$$.model.execute(new ChangePage(this,$page$$,$next$$))}finally{$graph$$.model.endUpdate()}}}catch($e$$){this.handleError($e$$)}return $page$$};
EditorUi.prototype.duplicatePage=function $EditorUi$$duplicatePage$($page$$,$name$$){var $newPage$$=null;try{var $graph$$=this.editor.graph;if($graph$$.isEnabled()){$graph$$.isEditing()&&$graph$$.stopEditing();var $node$$=$page$$.node.cloneNode(!1);$node$$.removeAttribute("id");$newPage$$=new DiagramPage($node$$);$newPage$$.root=$graph$$.cloneCell($graph$$.model.root);$newPage$$.viewState=$graph$$.getViewState();$newPage$$.viewState.scale=1;$newPage$$.viewState.scrollLeft=null;$newPage$$.viewState.scrollTop=
null;$newPage$$.viewState.currentRoot=null;$newPage$$.viewState.defaultParent=null;$newPage$$.setName($name$$);$newPage$$=this.insertPage($newPage$$,mxUtils.indexOf(this.pages,$page$$)+1)}}catch($e$$){this.handleError($e$$)}return $newPage$$};
EditorUi.prototype.renamePage=function $EditorUi$$renamePage$($page$$){if(this.editor.graph.isEnabled()){var $dlg$$=new FilenameDialog(this,$page$$.getName(),mxResources.get("rename"),mxUtils.bind(this,function($name$$){null!=$name$$&&0<$name$$.length&&this.editor.graph.model.execute(new RenamePage(this,$page$$,$name$$))}),mxResources.get("rename"));this.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()}return $page$$};
EditorUi.prototype.movePage=function $EditorUi$$movePage$($oldIndex$$,$newIndex$$){this.editor.graph.model.execute(new MovePage(this,$oldIndex$$,$newIndex$$))};EditorUi.prototype.createTabContainer=function $EditorUi$$createTabContainer$(){var $div$$=document.createElement("div");$div$$.className="geTabContainer";$div$$.style.position="absolute";$div$$.style.whiteSpace="nowrap";$div$$.style.overflow="hidden";$div$$.style.height="0px";$div$$.style.display="none";return $div$$};
EditorUi.prototype.updateTabContainer=function $EditorUi$$updateTabContainer$(){if(null!=this.tabContainer&&null!=this.pages){var $graph$$=this.editor.graph,$wrapper$$=document.createElement("div");$wrapper$$.style.position="relative";$wrapper$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block";$wrapper$$.style.verticalAlign="top";$wrapper$$.style.height=this.tabContainer.style.height;$wrapper$$.style.whiteSpace="nowrap";$wrapper$$.style.overflow="hidden";$wrapper$$.style.fontSize="13px";$wrapper$$.style.marginLeft=
"30px";for(var $btnWidth$$=this.editor.isChromelessView()?29:59,$insertTab_menutab_tabWidth$$=Math.min(140,Math.max(20,(this.tabContainer.clientWidth-$btnWidth$$)/this.pages.length)+1),$startIndex$$=null,$i$$=0;$i$$<this.pages.length;$i$$++)mxUtils.bind(this,function($index$$,$tab$$){this.pages[$index$$]==this.currentPage?($tab$$.className="geActivePage",$tab$$.style.backgroundColor="dark"==uiTheme?"#2a2a2a":"#fff"):$tab$$.className="geInactivePage";$tab$$.setAttribute("draggable","true");mxEvent.addListener($tab$$,
"dragstart",mxUtils.bind(this,function($evt$$){$graph$$.isEnabled()?(mxClient.IS_FF&&$evt$$.dataTransfer.setData("Text","<diagram/>"),$startIndex$$=$index$$):mxEvent.consume($evt$$)}));mxEvent.addListener($tab$$,"dragend",mxUtils.bind(this,function($evt$$){$startIndex$$=null;$evt$$.stopPropagation();$evt$$.preventDefault()}));mxEvent.addListener($tab$$,"dragover",mxUtils.bind(this,function($evt$$){null!=$startIndex$$&&($evt$$.dataTransfer.dropEffect="move");$evt$$.stopPropagation();$evt$$.preventDefault()}));
mxEvent.addListener($tab$$,"drop",mxUtils.bind(this,function($evt$$){null!=$startIndex$$&&$index$$!=$startIndex$$&&this.movePage($startIndex$$,$index$$);$evt$$.stopPropagation();$evt$$.preventDefault()}));$wrapper$$.appendChild($tab$$)})($i$$,this.createTabForPage(this.pages[$i$$],$insertTab_menutab_tabWidth$$,this.pages[$i$$]!=this.currentPage,$i$$+1));this.tabContainer.innerHTML="";this.tabContainer.appendChild($wrapper$$);$insertTab_menutab_tabWidth$$=this.createPageMenuTab();this.tabContainer.appendChild($insertTab_menutab_tabWidth$$);
$insertTab_menutab_tabWidth$$=null;this.isPageInsertTabVisible()&&($insertTab_menutab_tabWidth$$=this.createPageInsertTab(),this.tabContainer.appendChild($insertTab_menutab_tabWidth$$));if($wrapper$$.clientWidth>this.tabContainer.clientWidth-$btnWidth$$){null!=$insertTab_menutab_tabWidth$$&&($insertTab_menutab_tabWidth$$.style.position="absolute",$insertTab_menutab_tabWidth$$.style.right="0px",$wrapper$$.style.marginRight="30px");var $temp$$=this.createControlTab(4,"&nbsp;&#10094;&nbsp;");$temp$$.style.position=
"absolute";$temp$$.style.right=this.editor.chromeless?"29px":"55px";$temp$$.style.fontSize="13pt";this.tabContainer.appendChild($temp$$);var $temp2$$=this.createControlTab(4,"&nbsp;&#10095;");$temp2$$.style.position="absolute";$temp2$$.style.right=this.editor.chromeless?"0px":"29px";$temp2$$.style.fontSize="13pt";this.tabContainer.appendChild($temp2$$);var $dx$$=Math.max(0,this.tabContainer.clientWidth-(this.editor.chromeless?86:116));$wrapper$$.style.width=$dx$$+"px";mxEvent.addListener($temp$$,
"click",mxUtils.bind(this,function($evt$$){$wrapper$$.scrollLeft-=Math.max(20,$dx$$-20);mxUtils.setOpacity($temp$$,0<$wrapper$$.scrollLeft?100:50);mxUtils.setOpacity($temp2$$,$wrapper$$.scrollLeft<$wrapper$$.scrollWidth-$wrapper$$.clientWidth?100:50);mxEvent.consume($evt$$)}));mxUtils.setOpacity($temp$$,0<$wrapper$$.scrollLeft?100:50);mxUtils.setOpacity($temp2$$,$wrapper$$.scrollLeft<$wrapper$$.scrollWidth-$wrapper$$.clientWidth?100:50);mxEvent.addListener($temp2$$,"click",mxUtils.bind(this,function($evt$$){$wrapper$$.scrollLeft+=
Math.max(20,$dx$$-20);mxUtils.setOpacity($temp$$,0<$wrapper$$.scrollLeft?100:50);mxUtils.setOpacity($temp2$$,$wrapper$$.scrollLeft<$wrapper$$.scrollWidth-$wrapper$$.clientWidth?100:50);mxEvent.consume($evt$$)}))}}};EditorUi.prototype.isPageInsertTabVisible=function $EditorUi$$isPageInsertTabVisible$(){return 1==urlParams.embed||null!=this.getCurrentFile()&&this.getCurrentFile().isEditable()};
EditorUi.prototype.createTab=function $EditorUi$$createTab$($hoverEnabled$$){var $tab$$=document.createElement("div");$tab$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block";$tab$$.style.whiteSpace="nowrap";$tab$$.style.boxSizing="border-box";$tab$$.style.position="relative";$tab$$.style.overflow="hidden";$tab$$.style.textAlign="center";$tab$$.style.marginLeft="-1px";$tab$$.style.height=this.tabContainer.clientHeight+"px";$tab$$.style.padding="12px 4px 8px 4px";$tab$$.style.border="dark"==
uiTheme?"1px solid #505759":"1px solid #e8eaed";$tab$$.style.borderTopStyle="none";$tab$$.style.borderBottomStyle="none";$tab$$.style.backgroundColor=this.tabContainer.style.backgroundColor;$tab$$.style.cursor="move";$tab$$.style.color="gray";$hoverEnabled$$&&(mxEvent.addListener($tab$$,"mouseenter",mxUtils.bind(this,function($evt$$){this.editor.graph.isMouseDown||($tab$$.style.backgroundColor="dark"==uiTheme?"black":"#e8eaed",mxEvent.consume($evt$$))})),mxEvent.addListener($tab$$,"mouseleave",mxUtils.bind(this,
function($evt$$){$tab$$.style.backgroundColor=this.tabContainer.style.backgroundColor;mxEvent.consume($evt$$)})));return $tab$$};
EditorUi.prototype.createControlTab=function $EditorUi$$createControlTab$($paddingTop$$,$html$$){var $tab$$=this.createTab(!0);$tab$$.style.lineHeight=this.tabContainerHeight+"px";$tab$$.style.paddingTop=$paddingTop$$+"px";$tab$$.style.cursor="pointer";$tab$$.style.width="30px";$tab$$.innerHTML=$html$$;null!=$tab$$.firstChild&&null!=$tab$$.firstChild.style&&mxUtils.setOpacity($tab$$.firstChild,40);return $tab$$};
EditorUi.prototype.createPageMenuTab=function $EditorUi$$createPageMenuTab$(){var $tab$$=this.createControlTab(3,'<div class="geSprite geSprite-dots" style="display:inline-block;margin-top:5px;width:21px;height:21px;"></div>');$tab$$.setAttribute("title",mxResources.get("pages"));$tab$$.style.position="absolute";$tab$$.style.marginLeft="0px";$tab$$.style.top="0px";$tab$$.style.left="1px";mxEvent.addListener($tab$$,"click",mxUtils.bind(this,function($evt$$){this.editor.graph.popupMenuHandler.hideMenu();
var $menu$jscomp$0$$=new mxPopupMenu(mxUtils.bind(this,function($menu$$,$parent$$){for(var $i$$=0;$i$$<this.pages.length;$i$$++)mxUtils.bind(this,function($index$$){var $item$$=$menu$$.addItem(this.pages[$index$$].getName(),null,mxUtils.bind(this,function(){this.selectPage(this.pages[$index$$])}),$parent$$);this.pages[$index$$]==this.currentPage&&$menu$$.addCheckmark($item$$,Editor.checkmarkImage)})($i$$);if(this.editor.graph.isEnabled()){$menu$$.addSeparator($parent$$);$menu$$.addItem(mxResources.get("insertPage"),
null,mxUtils.bind(this,function(){this.insertPage()}),$parent$$);var $page$$=this.currentPage;null!=$page$$&&($menu$$.addSeparator($parent$$),$menu$$.addItem(mxResources.get("delete"),null,mxUtils.bind(this,function(){this.removePage($page$$)}),$parent$$),$menu$$.addItem(mxResources.get("rename"),null,mxUtils.bind(this,function(){this.renamePage($page$$,$page$$.getName())}),$parent$$),$menu$$.addSeparator($parent$$),$menu$$.addItem(mxResources.get("duplicate"),null,mxUtils.bind(this,function(){this.duplicatePage($page$$,
mxResources.get("copyOf",[$page$$.getName()]))}),$parent$$))}}));$menu$jscomp$0$$.div.className+=" geMenubarMenu";$menu$jscomp$0$$.smartSeparators=!0;$menu$jscomp$0$$.showDisabled=!0;$menu$jscomp$0$$.autoExpand=!0;$menu$jscomp$0$$.hideMenu=mxUtils.bind(this,function(){mxPopupMenu.prototype.hideMenu.apply($menu$jscomp$0$$,arguments);$menu$jscomp$0$$.destroy()});var $x$$=mxEvent.getClientX($evt$$),$y$$=mxEvent.getClientY($evt$$);$menu$jscomp$0$$.popup($x$$,$y$$,null,$evt$$);this.setCurrentMenu($menu$jscomp$0$$);
mxEvent.consume($evt$$)}));return $tab$$};EditorUi.prototype.createPageInsertTab=function $EditorUi$$createPageInsertTab$(){var $tab$$=this.createControlTab(4,'<div class="geSprite geSprite-plus" style="display:inline-block;width:21px;height:21px;"></div>');$tab$$.setAttribute("title",mxResources.get("insertPage"));mxEvent.addListener($tab$$,"click",mxUtils.bind(this,function($evt$$){this.insertPage();mxEvent.consume($evt$$)}));return $tab$$};
EditorUi.prototype.createTabForPage=function $EditorUi$$createTabForPage$($page$$,$tabWidth$$,$hoverEnabled$jscomp$1_tab$$,$pageNumber$$){$hoverEnabled$jscomp$1_tab$$=this.createTab($hoverEnabled$jscomp$1_tab$$);var $name$$=$page$$.getName()||mxResources.get("untitled"),$id$$=$page$$.getId();$hoverEnabled$jscomp$1_tab$$.setAttribute("title",$name$$+(null!=$id$$?" ("+$id$$+")":"")+" ["+$pageNumber$$+"]");mxUtils.write($hoverEnabled$jscomp$1_tab$$,$name$$);$hoverEnabled$jscomp$1_tab$$.style.maxWidth=
$tabWidth$$+"px";$hoverEnabled$jscomp$1_tab$$.style.width=$tabWidth$$+"px";this.addTabListeners($page$$,$hoverEnabled$jscomp$1_tab$$);42<$tabWidth$$&&($hoverEnabled$jscomp$1_tab$$.style.textOverflow="ellipsis");return $hoverEnabled$jscomp$1_tab$$};
EditorUi.prototype.addTabListeners=function $EditorUi$$addTabListeners$($page$$,$tab$$){mxEvent.disableContextMenu($tab$$);var $graph$$=this.editor.graph;mxEvent.addListener($tab$$,"dblclick",mxUtils.bind(this,function($evt$$){this.renamePage($page$$);mxEvent.consume($evt$$)}));var $menuWasVisible$$=!1,$pageWasActive$$=!1;mxEvent.addGestureListeners($tab$$,mxUtils.bind(this,function($evt$$){$menuWasVisible$$=null!=this.currentMenu;$pageWasActive$$=$page$$==this.currentPage;$graph$$.isMouseDown||$pageWasActive$$||
this.selectPage($page$$)}),null,mxUtils.bind(this,function($evt$$){if($graph$$.isEnabled()&&!$graph$$.isMouseDown&&(mxEvent.isTouchEvent($evt$$)&&$pageWasActive$$||mxEvent.isPopupTrigger($evt$$))){$graph$$.popupMenuHandler.hideMenu();this.hideCurrentMenu();if(!mxEvent.isTouchEvent($evt$$)||!$menuWasVisible$$){var $menu$$=new mxPopupMenu(this.createPageMenu($page$$));$menu$$.div.className+=" geMenubarMenu";$menu$$.smartSeparators=!0;$menu$$.showDisabled=!0;$menu$$.autoExpand=!0;$menu$$.hideMenu=mxUtils.bind(this,
function(){mxPopupMenu.prototype.hideMenu.apply($menu$$,arguments);this.resetCurrentMenu();$menu$$.destroy()});var $x$$=mxEvent.getClientX($evt$$),$y$$=mxEvent.getClientY($evt$$);$menu$$.popup($x$$,$y$$,null,$evt$$);this.setCurrentMenu($menu$$,$tab$$)}mxEvent.consume($evt$$)}}))};
EditorUi.prototype.createPageMenu=function $EditorUi$$createPageMenu$($page$$,$label$$){return mxUtils.bind(this,function($menu$$,$parent$$){$menu$$.addItem(mxResources.get("insert"),null,mxUtils.bind(this,function(){this.insertPage(null,mxUtils.indexOf(this.pages,$page$$)+1)}),$parent$$);$menu$$.addItem(mxResources.get("delete"),null,mxUtils.bind(this,function(){this.removePage($page$$)}),$parent$$);$menu$$.addItem(mxResources.get("rename"),null,mxUtils.bind(this,function(){this.renamePage($page$$,
$label$$)}),$parent$$);$menu$$.addSeparator($parent$$);$menu$$.addItem(mxResources.get("duplicate"),null,mxUtils.bind(this,function(){this.duplicatePage($page$$,mxResources.get("copyOf",[$page$$.getName()]))}),$parent$$)})};(function(){var $editorUiRefresh$$=EditorUi.prototype.refresh;EditorUi.prototype.refresh=function $EditorUi$$refresh$($sizeDidChange$$){$editorUiRefresh$$.apply(this,arguments);this.updateTabContainer()}})();(function(){mxCodecRegistry.getCodec(ChangePageSetup).exclude.push("page")})();
(function(){var $codec$$=new mxObjectCodec(new MovePage,["ui"]);$codec$$.beforeDecode=function $$codec$$$beforeDecode$($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};$codec$$.afterDecode=function $$codec$$$afterDecode$($dec$jscomp$10_tmp$$,$node$$,$obj$$){$dec$jscomp$10_tmp$$=$obj$$.oldIndex;$obj$$.oldIndex=$obj$$.newIndex;$obj$$.newIndex=$dec$jscomp$10_tmp$$;return $obj$$};mxCodecRegistry.register($codec$$)})();
(function(){var $codec$$=new mxObjectCodec(new RenamePage,["ui","page"]);$codec$$.beforeDecode=function $$codec$$$beforeDecode$($dec$$,$node$$,$obj$$){$obj$$.ui=$dec$$.ui;return $node$$};$codec$$.afterDecode=function $$codec$$$afterDecode$($dec$jscomp$12_tmp$$,$node$$,$obj$$){$dec$jscomp$12_tmp$$=$obj$$.previous;$obj$$.previous=$obj$$.name;$obj$$.name=$dec$jscomp$12_tmp$$;return $obj$$};mxCodecRegistry.register($codec$$)})();
(function(){var $codec$$=new mxObjectCodec(new ChangePage,"ui relatedPage index neverShown page previousPage".split(" ")),$viewStateIgnored$$="defaultParent currentRoot scrollLeft scrollTop scale translate lastPasteXml pasteCounter".split(" ");$codec$$.afterEncode=function $$codec$$$afterEncode$($enc$$,$obj$$,$node$$){$node$$.setAttribute("relatedPage",$obj$$.relatedPage.getId());null==$obj$$.index&&($node$$.setAttribute("name",$obj$$.relatedPage.getName()),null!=$obj$$.relatedPage.viewState&&$node$$.setAttribute("viewState",
JSON.stringify($obj$$.relatedPage.viewState,function($key$$,$value$$){return 0>mxUtils.indexOf($viewStateIgnored$$,$key$$)?$value$$:void 0})),null!=$obj$$.relatedPage.root&&$enc$$.encodeCell($obj$$.relatedPage.root,$node$$));return $node$$};$codec$$.beforeDecode=function $$codec$$$beforeDecode$($dec$$,$node$$,$obj$jscomp$36_tmp2$$){$obj$jscomp$36_tmp2$$.ui=$dec$$.ui;$obj$jscomp$36_tmp2$$.relatedPage=$obj$jscomp$36_tmp2$$.ui.getPageById($node$$.getAttribute("relatedPage"));if(null==$obj$jscomp$36_tmp2$$.relatedPage){var $temp$jscomp$19_tmp$jscomp$60_vs$$=
$node$$.ownerDocument.createElement("diagram");$temp$jscomp$19_tmp$jscomp$60_vs$$.setAttribute("id",$node$$.getAttribute("relatedPage"));$temp$jscomp$19_tmp$jscomp$60_vs$$.setAttribute("name",$node$$.getAttribute("name"));$obj$jscomp$36_tmp2$$.relatedPage=new DiagramPage($temp$jscomp$19_tmp$jscomp$60_vs$$);$temp$jscomp$19_tmp$jscomp$60_vs$$=$node$$.getAttribute("viewState");null!=$temp$jscomp$19_tmp$jscomp$60_vs$$&&($obj$jscomp$36_tmp2$$.relatedPage.viewState=JSON.parse($temp$jscomp$19_tmp$jscomp$60_vs$$),
$node$$.removeAttribute("viewState"));$node$$=$node$$.cloneNode(!0);$temp$jscomp$19_tmp$jscomp$60_vs$$=$node$$.firstChild;if(null!=$temp$jscomp$19_tmp$jscomp$60_vs$$)for($obj$jscomp$36_tmp2$$.relatedPage.root=$dec$$.decodeCell($temp$jscomp$19_tmp$jscomp$60_vs$$,!1),$obj$jscomp$36_tmp2$$=$temp$jscomp$19_tmp$jscomp$60_vs$$.nextSibling,$temp$jscomp$19_tmp$jscomp$60_vs$$.parentNode.removeChild($temp$jscomp$19_tmp$jscomp$60_vs$$),$temp$jscomp$19_tmp$jscomp$60_vs$$=$obj$jscomp$36_tmp2$$;null!=$temp$jscomp$19_tmp$jscomp$60_vs$$;){$obj$jscomp$36_tmp2$$=
$temp$jscomp$19_tmp$jscomp$60_vs$$.nextSibling;if($temp$jscomp$19_tmp$jscomp$60_vs$$.nodeType==mxConstants.NODETYPE_ELEMENT){var $id$$=$temp$jscomp$19_tmp$jscomp$60_vs$$.getAttribute("id");null==$dec$$.lookup($id$$)&&$dec$$.decodeCell($temp$jscomp$19_tmp$jscomp$60_vs$$)}$temp$jscomp$19_tmp$jscomp$60_vs$$.parentNode.removeChild($temp$jscomp$19_tmp$jscomp$60_vs$$);$temp$jscomp$19_tmp$jscomp$60_vs$$=$obj$jscomp$36_tmp2$$}}return $node$$};$codec$$.afterDecode=function $$codec$$$afterDecode$($dec$$,$node$$,
$obj$$){$obj$$.index=$obj$$.previousIndex;return $obj$$};mxCodecRegistry.register($codec$$)})();(function(){var $moveImage$$=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAASFBMVEUAAAAAAAB/f3/9/f319fUfHx/7+/s+Pj69vb0AAAAAAAAAAAAAAAAAAAAAAAAAAAB2dnZ1dXUAAAAAAAAVFRX///8ZGRkGBgbOcI1hAAAAE3RSTlMA+vr9/f38+fb1893Bo00u+/tFvPJUBQAAAIRJREFUGNM0jEcSxCAQAxlydGqD///TNWxZBx1aXVIrWysplbapL3sFxgDq/idXBnHgBPK1nIxwc55vCXl6dRFtrV6svs/A/UjsPcpzA5tqyByD92HqQlMFh45BG6ND1DiKSoPDdm96N77bg5F+wyaEqRGb8ZiOwHQqdg9hehszcLAEIQB2lQ4p/sEpnAAAAABJRU5ErkJggg==":IMAGE_PATH+"/move.png";
EditorUi.prototype.altShiftActions[68]="selectDescendants";var $graphFoldCells$$=Graph.prototype.foldCells;Graph.prototype.foldCells=function $Graph$$foldCells$($collapse$$,$recurse$$,$cells$$,$checkFoldable$$,$evt$$){$recurse$$=null!=$recurse$$?$recurse$$:!1;null==$cells$$&&($cells$$=this.getFoldableCells(this.getSelectionCells(),$collapse$$));this.stopEditing();this.model.beginUpdate();try{for(var $newCells$$=$cells$$.slice(),$tmp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $state$$=this.view.getState($cells$$[$i$$]),
$style$$=null!=$state$$?$state$$.style:this.getCellStyle($cells$$[$i$$]);"1"==mxUtils.getValue($style$$,"treeFolding","0")&&(this.traverse($cells$$[$i$$],!0,mxUtils.bind(this,function($vertex$$,$edge$$){null!=$edge$$&&$tmp$$.push($edge$$);$vertex$$!=$cells$$[$i$$]&&$tmp$$.push($vertex$$);return $vertex$$==$cells$$[$i$$]||!this.model.isCollapsed($vertex$$)})),this.model.setCollapsed($cells$$[$i$$],$collapse$$))}for($i$$=0;$i$$<$tmp$$.length;$i$$++)this.model.setVisible($tmp$$[$i$$],!$collapse$$);$cells$$=
$newCells$$;$cells$$=$graphFoldCells$$.apply(this,arguments)}finally{this.model.endUpdate()}return $cells$$};var $editorUiInit$$=EditorUi.prototype.init;EditorUi.prototype.init=function $EditorUi$$init$(){$editorUiInit$$.apply(this,arguments);this.editor.isChromelessView()&&!this.editor.editable||this.addTrees()};EditorUi.prototype.addTrees=function $EditorUi$$addTrees$(){function $isTreeVertex$$($cell$$){return $model$jscomp$0$$.isVertex($cell$$)&&$hasTreeParent$$($cell$$)}function $hasTreeParent$$($cell$jscomp$79_parent$$){var $pstate$jscomp$2_result$$=
!1;null!=$cell$jscomp$79_parent$$&&($cell$jscomp$79_parent$$=$model$jscomp$0$$.getParent($cell$jscomp$79_parent$$),$pstate$jscomp$2_result$$=$graph$$.view.getState($cell$jscomp$79_parent$$),$graph$$.view.getState($cell$jscomp$79_parent$$),$pstate$jscomp$2_result$$="tree"==(null!=$pstate$jscomp$2_result$$?$pstate$jscomp$2_result$$.style:$graph$$.getCellStyle($cell$jscomp$79_parent$$)).containerType);return $pstate$jscomp$2_result$$}function $hasLayoutParent$$($cell$jscomp$80_parent$$){var $pstate$jscomp$3_result$$=
!1;null!=$cell$jscomp$80_parent$$&&($cell$jscomp$80_parent$$=$model$jscomp$0$$.getParent($cell$jscomp$80_parent$$),$pstate$jscomp$3_result$$=$graph$$.view.getState($cell$jscomp$80_parent$$),$graph$$.view.getState($cell$jscomp$80_parent$$),$pstate$jscomp$3_result$$=null!=(null!=$pstate$jscomp$3_result$$?$pstate$jscomp$3_result$$.style:$graph$$.getCellStyle($cell$jscomp$80_parent$$)).childLayout);return $pstate$jscomp$3_result$$}function $getTreeDirection$$($cell$jscomp$81_state$$){$cell$jscomp$81_state$$=
$graph$$.view.getState($cell$jscomp$81_state$$);if(null!=$cell$jscomp$81_state$$){var $abs_edgeState$jscomp$1_edges$jscomp$5_pt$$=$graph$$.getIncomingEdges($cell$jscomp$81_state$$.cell);if(0<$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.length&&($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$=$graph$$.view.getState($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$[0]),null!=$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$&&($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$=$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.absolutePoints,
null!=$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$&&0<$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.length&&($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$=$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$[$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.length-1],null!=$abs_edgeState$jscomp$1_edges$jscomp$5_pt$$)))){if($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.y==$cell$jscomp$81_state$$.y&&Math.abs($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.x-$cell$jscomp$81_state$$.getCenterX())<$cell$jscomp$81_state$$.width/
2)return mxConstants.DIRECTION_SOUTH;if($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.y==$cell$jscomp$81_state$$.y+$cell$jscomp$81_state$$.height&&Math.abs($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.x-$cell$jscomp$81_state$$.getCenterX())<$cell$jscomp$81_state$$.width/2)return mxConstants.DIRECTION_NORTH;if($abs_edgeState$jscomp$1_edges$jscomp$5_pt$$.x>$cell$jscomp$81_state$$.getCenterX())return mxConstants.DIRECTION_WEST}}return mxConstants.DIRECTION_EAST}function $addSibling$$($cell$$,$after$$){$after$$=
null!=$after$$?$after$$:!0;$graph$$.model.beginUpdate();try{var $parent$$=$graph$$.model.getParent($cell$$),$dx$jscomp$61_edges$$=$graph$$.getIncomingEdges($cell$$),$clones$$=$graph$$.cloneCells([$dx$jscomp$61_edges$$[0],$cell$$]);$graph$$.model.setTerminal($clones$$[0],$graph$$.model.getTerminal($dx$jscomp$61_edges$$[0],!0),!0);var $dir$$=$getTreeDirection$$($cell$$),$dy$jscomp$54_pgeo$$=$parent$$.geometry;$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NORTH?$clones$$[1].geometry.x+=
$after$$?$cell$$.geometry.width+10:-$clones$$[1].geometry.width-10:$clones$$[1].geometry.y+=$after$$?$cell$$.geometry.height+10:-$clones$$[1].geometry.height-10;$graph$$.view.currentRoot!=$parent$$&&($clones$$[1].geometry.x-=$dy$jscomp$54_pgeo$$.x,$clones$$[1].geometry.y-=$dy$jscomp$54_pgeo$$.y);var $state$$=$graph$$.view.getState($cell$$),$s$$=$graph$$.view.scale;if(null!=$state$$){var $bbox$$=mxRectangle.fromRectangle($state$$);$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NORTH?
$bbox$$.x+=($after$$?$cell$$.geometry.width+10:-$clones$$[1].geometry.width-10)*$s$$:$bbox$$.y+=($after$$?$cell$$.geometry.height+10:-$clones$$[1].geometry.height-10)*$s$$;var $sib$$=$graph$$.getOutgoingEdges($graph$$.model.getTerminal($dx$jscomp$61_edges$$[0],!0));if(null!=$sib$$){for(var $hor$$=$dir$$==mxConstants.DIRECTION_SOUTH||$dir$$==mxConstants.DIRECTION_NORTH,$i$$=$dy$jscomp$54_pgeo$$=$dx$jscomp$61_edges$$=0;$i$$<$sib$$.length;$i$$++){var $temp$$=$graph$$.model.getTerminal($sib$$[$i$$],!1);
if($dir$$==$getTreeDirection$$($temp$$)){var $sibling$$=$graph$$.view.getState($temp$$);$temp$$!=$cell$$&&null!=$sibling$$&&($hor$$&&$after$$!=$sibling$$.getCenterX()<$state$$.getCenterX()||!$hor$$&&$after$$!=$sibling$$.getCenterY()<$state$$.getCenterY())&&mxUtils.intersects($bbox$$,$sibling$$)&&($dx$jscomp$61_edges$$=10+Math.max($dx$jscomp$61_edges$$,(Math.min($bbox$$.x+$bbox$$.width,$sibling$$.x+$sibling$$.width)-Math.max($bbox$$.x,$sibling$$.x))/$s$$),$dy$jscomp$54_pgeo$$=10+Math.max($dy$jscomp$54_pgeo$$,
(Math.min($bbox$$.y+$bbox$$.height,$sibling$$.y+$sibling$$.height)-Math.max($bbox$$.y,$sibling$$.y))/$s$$))}}$hor$$?$dy$jscomp$54_pgeo$$=0:$dx$jscomp$61_edges$$=0;for($i$$=0;$i$$<$sib$$.length;$i$$++)if($temp$$=$graph$$.model.getTerminal($sib$$[$i$$],!1),$dir$$==$getTreeDirection$$($temp$$)&&($sibling$$=$graph$$.view.getState($temp$$),$temp$$!=$cell$$&&null!=$sibling$$&&($hor$$&&$after$$!=$sibling$$.getCenterX()<$state$$.getCenterX()||!$hor$$&&$after$$!=$sibling$$.getCenterY()<$state$$.getCenterY()))){var $subtree$$=
[];$graph$$.traverse($sibling$$.cell,!0,function($vertex$$,$edge$$){null!=$edge$$&&$subtree$$.push($edge$$);$subtree$$.push($vertex$$);return!0});$graph$$.moveCells($subtree$$,($after$$?1:-1)*$dx$jscomp$61_edges$$,($after$$?1:-1)*$dy$jscomp$54_pgeo$$)}}}return $graph$$.addCells($clones$$,$parent$$)}finally{$graph$$.model.endUpdate()}}function $addParent$$($cell$$){$graph$$.model.beginUpdate();try{var $dir$$=$getTreeDirection$$($cell$$),$edges$$=$graph$$.getIncomingEdges($cell$$),$clones$$=$graph$$.cloneCells([$edges$$[0],
$cell$$]);$graph$$.model.setTerminal($edges$$[0],$clones$$[1],!1);$graph$$.model.setTerminal($clones$$[0],$clones$$[1],!0);$graph$$.model.setTerminal($clones$$[0],$cell$$,!1);var $parent$$=$graph$$.model.getParent($cell$$),$pgeo$$=$parent$$.geometry,$subtree$$=[];$graph$$.view.currentRoot!=$parent$$&&($clones$$[1].geometry.x-=$pgeo$$.x,$clones$$[1].geometry.y-=$pgeo$$.y);$graph$$.traverse($cell$$,!0,function($vertex$$,$edge$$){null!=$edge$$&&$subtree$$.push($edge$$);$subtree$$.push($vertex$$);return!0});
var $dx$$=$cell$$.geometry.width+40,$dy$$=$cell$$.geometry.height+40;$dir$$==mxConstants.DIRECTION_SOUTH?$dx$$=0:$dir$$==mxConstants.DIRECTION_NORTH?($dx$$=0,$dy$$=-$dy$$):$dir$$==mxConstants.DIRECTION_WEST?($dx$$=-$dx$$,$dy$$=0):$dir$$==mxConstants.DIRECTION_EAST&&($dy$$=0);$graph$$.moveCells($subtree$$,$dx$$,$dy$$);return $graph$$.addCells($clones$$,$parent$$)}finally{$graph$$.model.endUpdate()}}function $addChild$$($cell$$){$graph$$.model.beginUpdate();try{var $parent$$=$graph$$.model.getParent($cell$$),
$edges$$=$graph$$.getIncomingEdges($cell$$),$clones$$=$graph$$.cloneCells([$edges$$[0],$cell$$]);$graph$$.model.setTerminal($clones$$[0],$cell$$,!0);var $edges$$=$graph$$.getOutgoingEdges($cell$$),$pgeo$$=$parent$$.geometry,$targets$$=[];$graph$$.view.currentRoot==$parent$$&&($pgeo$$=new mxRectangle);for(var $i$$=0;$i$$<$edges$$.length;$i$$++){var $target$$=$graph$$.model.getTerminal($edges$$[$i$$],!1);null!=$target$$&&$targets$$.push($target$$)}var $bbox$$=$graph$$.view.getBounds($targets$$),$dir$$=
$getTreeDirection$$($cell$$),$tr$$=$graph$$.view.translate,$s$$=$graph$$.view.scale;$dir$$==mxConstants.DIRECTION_SOUTH?($clones$$[1].geometry.x=null==$bbox$$?$cell$$.geometry.x+($cell$$.geometry.width-$clones$$[1].geometry.width)/2:($bbox$$.x+$bbox$$.width)/$s$$-$tr$$.x-$pgeo$$.x+10,$clones$$[1].geometry.y+=$clones$$[1].geometry.height-$pgeo$$.y+40):$dir$$==mxConstants.DIRECTION_NORTH?($clones$$[1].geometry.x=null==$bbox$$?$cell$$.geometry.x+($cell$$.geometry.width-$clones$$[1].geometry.width)/2:
($bbox$$.x+$bbox$$.width)/$s$$-$tr$$.x+-$pgeo$$.x+10,$clones$$[1].geometry.y-=$clones$$[1].geometry.height+$pgeo$$.y+40):($clones$$[1].geometry.x=$dir$$==mxConstants.DIRECTION_WEST?$clones$$[1].geometry.x-($clones$$[1].geometry.width+$pgeo$$.x+40):$clones$$[1].geometry.x+($clones$$[1].geometry.width-$pgeo$$.x+40),$clones$$[1].geometry.y=null==$bbox$$?$cell$$.geometry.y+($cell$$.geometry.height-$clones$$[1].geometry.height)/2:($bbox$$.y+$bbox$$.height)/$s$$-$tr$$.y+-$pgeo$$.y+10);return $graph$$.addCells($clones$$,
$parent$$)}finally{$graph$$.model.endUpdate()}}function $getOrderedTargets$$($cell$jscomp$85_sib$$,$horizontal$$,$ref$jscomp$3_state$$){$cell$jscomp$85_sib$$=$graph$$.getOutgoingEdges($cell$jscomp$85_sib$$);$ref$jscomp$3_state$$=$graph$$.view.getState($ref$jscomp$3_state$$);var $targets$$=[];if(null!=$ref$jscomp$3_state$$&&null!=$cell$jscomp$85_sib$$){for(var $i$$=0;$i$$<$cell$jscomp$85_sib$$.length;$i$$++){var $temp$$=$graph$$.view.getState($graph$$.model.getTerminal($cell$jscomp$85_sib$$[$i$$],
!1));null!=$temp$$&&(!$horizontal$$&&Math.min($temp$$.x+$temp$$.width,$ref$jscomp$3_state$$.x+$ref$jscomp$3_state$$.width)>=Math.max($temp$$.x,$ref$jscomp$3_state$$.x)||$horizontal$$&&Math.min($temp$$.y+$temp$$.height,$ref$jscomp$3_state$$.y+$ref$jscomp$3_state$$.height)>=Math.max($temp$$.y,$ref$jscomp$3_state$$.y))&&$targets$$.push($temp$$)}$targets$$.sort(function($a$$,$b$$){return $horizontal$$?$a$$.x+$a$$.width-$b$$.x-$b$$.width:$a$$.y+$a$$.height-$b$$.y-$b$$.height})}return $targets$$}function $selectCell$$($cell$$,
$direction$$){var $dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$=$getTreeDirection$$($cell$$),$h2$jscomp$3_sib$jscomp$2_targets$$=$direction$$==mxConstants.DIRECTION_EAST||$direction$$==mxConstants.DIRECTION_WEST;($dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$==mxConstants.DIRECTION_EAST||$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$==mxConstants.DIRECTION_WEST)==$h2$jscomp$3_sib$jscomp$2_targets$$&&$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$!=$direction$$?$ui$$.actions.get("selectParent").funct():
$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$==$direction$$?($h2$jscomp$3_sib$jscomp$2_targets$$=$graph$$.getOutgoingEdges($cell$$),null!=$h2$jscomp$3_sib$jscomp$2_targets$$&&0<$h2$jscomp$3_sib$jscomp$2_targets$$.length&&$graph$$.setSelectionCell($graph$$.model.getTerminal($h2$jscomp$3_sib$jscomp$2_targets$$[0],!1))):($dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$=$graph$$.getIncomingEdges($cell$$),null!=$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$&&0<$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$.length&&
($h2$jscomp$3_sib$jscomp$2_targets$$=$getOrderedTargets$$($graph$$.model.getTerminal($dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$[0],!0),$h2$jscomp$3_sib$jscomp$2_targets$$,$cell$$),$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$=$graph$$.view.getState($cell$$),null!=$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$&&($dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$=mxUtils.indexOf($h2$jscomp$3_sib$jscomp$2_targets$$,$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$),0<=$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$&&
($dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$+=$direction$$==mxConstants.DIRECTION_NORTH||$direction$$==mxConstants.DIRECTION_WEST?-1:1,0<=$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$&&$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$<=$h2$jscomp$3_sib$jscomp$2_targets$$.length-1&&$graph$$.setSelectionCell($h2$jscomp$3_sib$jscomp$2_targets$$[$dir$jscomp$8_edges$jscomp$9_idx$jscomp$10_state$$].cell)))))}var $ui$$=this,$graph$$=$ui$$.editor.graph,$model$jscomp$0$$=$graph$$.getModel(),$uiCreatePopupMenu$$=
$ui$$.menus.createPopupMenu;$ui$$.menus.createPopupMenu=function $$ui$$$menus$createPopupMenu$($menu$$,$cell$$,$evt$$){$uiCreatePopupMenu$$.apply(this,arguments);if(1==$graph$$.getSelectionCount()){$cell$$=$graph$$.getSelectionCell();var $sib$$=$graph$$.getOutgoingEdges($cell$$);$menu$$.addSeparator();null!=$sib$$&&0<$sib$$.length&&($isTreeVertex$$($graph$$.getSelectionCell())&&this.addMenuItems($menu$$,["selectChildren"],null,$evt$$),this.addMenuItems($menu$$,["selectDescendants"],null,$evt$$));
$isTreeVertex$$($graph$$.getSelectionCell())&&($menu$$.addSeparator(),0<$graph$$.getIncomingEdges($cell$$).length&&this.addMenuItems($menu$$,["selectSiblings","selectParent"],null,$evt$$))}};$ui$$.actions.addAction("selectChildren",function(){if($graph$$.isEnabled()&&1==$graph$$.getSelectionCount()){var $cell$jscomp$88_sib$$=$graph$$.getSelectionCell(),$cell$jscomp$88_sib$$=$graph$$.getOutgoingEdges($cell$jscomp$88_sib$$);if(null!=$cell$jscomp$88_sib$$){for(var $tmp$$=[],$i$$=0;$i$$<$cell$jscomp$88_sib$$.length;$i$$++)$tmp$$.push($graph$$.model.getTerminal($cell$jscomp$88_sib$$[$i$$],
!1));$graph$$.setSelectionCells($tmp$$)}}},null,null,"Alt+Shift+X");$ui$$.actions.addAction("selectSiblings",function(){if($graph$$.isEnabled()&&1==$graph$$.getSelectionCount()){var $cell$jscomp$89_edges$jscomp$10_sib$$=$graph$$.getSelectionCell(),$cell$jscomp$89_edges$jscomp$10_sib$$=$graph$$.getIncomingEdges($cell$jscomp$89_edges$jscomp$10_sib$$);if(null!=$cell$jscomp$89_edges$jscomp$10_sib$$&&0<$cell$jscomp$89_edges$jscomp$10_sib$$.length&&($cell$jscomp$89_edges$jscomp$10_sib$$=$graph$$.getOutgoingEdges($graph$$.model.getTerminal($cell$jscomp$89_edges$jscomp$10_sib$$[0],
!0)),null!=$cell$jscomp$89_edges$jscomp$10_sib$$)){for(var $tmp$$=[],$i$$=0;$i$$<$cell$jscomp$89_edges$jscomp$10_sib$$.length;$i$$++)$tmp$$.push($graph$$.model.getTerminal($cell$jscomp$89_edges$jscomp$10_sib$$[$i$$],!1));$graph$$.setSelectionCells($tmp$$)}}},null,null,"Alt+Shift+S");$ui$$.actions.addAction("selectParent",function(){if($graph$$.isEnabled()&&1==$graph$$.getSelectionCount()){var $cell$jscomp$90_edges$$=$graph$$.getSelectionCell(),$cell$jscomp$90_edges$$=$graph$$.getIncomingEdges($cell$jscomp$90_edges$$);
null!=$cell$jscomp$90_edges$$&&0<$cell$jscomp$90_edges$$.length&&$graph$$.setSelectionCell($graph$$.model.getTerminal($cell$jscomp$90_edges$$[0],!0))}},null,null,"Alt+Shift+P");$ui$$.actions.addAction("selectDescendants",function(){if($graph$$.isEnabled()&&1==$graph$$.getSelectionCount()){var $cell$$=$graph$$.getSelectionCell(),$subtree$$=[];$graph$$.traverse($cell$$,!0,function($vertex$$,$edge$$){null!=$edge$$&&$subtree$$.push($edge$$);$subtree$$.push($vertex$$);return!0});$graph$$.setSelectionCells($subtree$$)}},
null,null,"Alt+Shift+D");var $graphRemoveCells$$=$graph$$.removeCells;$graph$$.removeCells=function $$graph$$$removeCells$($cells$$,$includeEdges$$){$includeEdges$$=null!=$includeEdges$$?$includeEdges$$:!0;null==$cells$$&&($cells$$=this.getDeletableCells(this.getSelectionCells()));$includeEdges$$&&($cells$$=this.getDeletableCells(this.addAllEdges($cells$$)));for(var $tmp$$=[],$i$$=0;$i$$<$cells$$.length;$i$$++){var $edges$jscomp$12_target$$=$cells$$[$i$$];$model$jscomp$0$$.isEdge($edges$jscomp$12_target$$)&&
$hasTreeParent$$($edges$jscomp$12_target$$)&&($tmp$$.push($edges$jscomp$12_target$$),$edges$jscomp$12_target$$=$model$jscomp$0$$.getTerminal($edges$jscomp$12_target$$,!1));$isTreeVertex$$($edges$jscomp$12_target$$)?($graph$$.traverse($edges$jscomp$12_target$$,!0,function($vertex$$,$edge$$){null!=$edge$$&&$tmp$$.push($edge$$);$tmp$$.push($vertex$$);return!0}),$edges$jscomp$12_target$$=$graph$$.getIncomingEdges($cells$$[$i$$]),$cells$$=$cells$$.concat($edges$jscomp$12_target$$)):$tmp$$.push($cells$$[$i$$])}$cells$$=
$tmp$$;return $graphRemoveCells$$.apply(this,arguments)};$ui$$.hoverIcons.getStateAt=function $$ui$$$hoverIcons$getStateAt$($state$$,$x$$,$y$$){return $isTreeVertex$$($state$$.cell)?null:this.graph.view.getState(this.graph.getCellAt($x$$,$y$$))};var $graphDuplicateCells$$=$graph$$.duplicateCells;$graph$$.duplicateCells=function $$graph$$$duplicateCells$($cells$$,$append$$){$cells$$=null!=$cells$$?$cells$$:this.getSelectionCells();for(var $temp$$=$cells$$.slice(0),$i$$=0;$i$$<$temp$$.length;$i$$++){var $j$jscomp$19_state$$=
$graph$$.view.getState($temp$$[$i$$]);if(null!=$j$jscomp$19_state$$&&$isTreeVertex$$($j$jscomp$19_state$$.cell))for(var $edges$$=$graph$$.getIncomingEdges($j$jscomp$19_state$$.cell),$j$jscomp$19_state$$=0;$j$jscomp$19_state$$<$edges$$.length;$j$jscomp$19_state$$++)mxUtils.remove($edges$$[$j$jscomp$19_state$$],$cells$$)}this.model.beginUpdate();try{var $result$$=$graphDuplicateCells$$.call(this,$cells$$,$append$$);if($result$$.length==$cells$$.length)for($i$$=0;$i$$<$cells$$.length;$i$$++)if($isTreeVertex$$($cells$$[$i$$])){var $newEdges$$=
$graph$$.getIncomingEdges($result$$[$i$$]),$edges$$=$graph$$.getIncomingEdges($cells$$[$i$$]);if(0==$newEdges$$.length&&0<$edges$$.length){var $clone$$=this.cloneCell($edges$$[0]);this.addEdge($clone$$,$graph$$.getDefaultParent(),this.model.getTerminal($edges$$[0],!0),$result$$[$i$$])}}}finally{this.model.endUpdate()}return $result$$};var $graphMoveCells$$=$graph$$.moveCells;$graph$$.moveCells=function $$graph$$$moveCells$($cells$$,$dx$$,$dy$$,$clone$$,$target$$,$evt$$,$mapping$$){var $result$$=null;
this.model.beginUpdate();try{var $newSource$$=$target$$,$state$jscomp$124_temp$$=this.view.getState($target$$),$style$$=null!=$state$jscomp$124_temp$$?$state$jscomp$124_temp$$.style:this.getCellStyle($target$$);if(null!=$cells$$&&$isTreeVertex$$($target$$)&&"1"==mxUtils.getValue($style$$,"treeFolding","0")){for(var $i$$=0;$i$$<$cells$$.length;$i$$++)if($isTreeVertex$$($cells$$[$i$$])||$graph$$.model.isEdge($cells$$[$i$$])&&null==$graph$$.model.getTerminal($cells$$[$i$$],!0)){$target$$=$graph$$.model.getParent($cells$$[$i$$]);
break}if(null!=$newSource$$&&$target$$!=$newSource$$&&null!=this.view.getState($cells$$[0])){var $edges$$=$graph$$.getIncomingEdges($cells$$[0]);if(0<$edges$$.length){var $state1$$=$graph$$.view.getState($graph$$.model.getTerminal($edges$$[0],!0));if(null!=$state1$$){var $state2$$=$graph$$.view.getState($newSource$$);null!=$state2$$&&($dx$$=($state2$$.getCenterX()-$state1$$.getCenterX())/$graph$$.view.scale,$dy$$=($state2$$.getCenterY()-$state1$$.getCenterY())/$graph$$.view.scale)}}}}$result$$=$graphMoveCells$$.apply(this,
arguments);if(null!=$result$$&&null!=$cells$$&&$result$$.length==$cells$$.length)for($i$$=0;$i$$<$result$$.length;$i$$++)if(this.model.isEdge($result$$[$i$$]))$isTreeVertex$$($newSource$$)&&0>mxUtils.indexOf($result$$,this.model.getTerminal($result$$[$i$$],!0))&&this.model.setTerminal($result$$[$i$$],$newSource$$,!0);else if($isTreeVertex$$($cells$$[$i$$])&&($edges$$=$graph$$.getIncomingEdges($cells$$[$i$$]),0<$edges$$.length))if(!$clone$$)$isTreeVertex$$($newSource$$)&&0>mxUtils.indexOf($cells$$,
this.model.getTerminal($edges$$[0],!0))&&this.model.setTerminal($edges$$[0],$newSource$$,!0);else if(0==$graph$$.getIncomingEdges($result$$[$i$$]).length){$state$jscomp$124_temp$$=$newSource$$;if(null==$state$jscomp$124_temp$$||$state$jscomp$124_temp$$==$graph$$.model.getParent($cells$$[$i$$]))$state$jscomp$124_temp$$=$graph$$.model.getTerminal($edges$$[0],!0);$clone$$=this.cloneCell($edges$$[0]);this.addEdge($clone$$,$graph$$.getDefaultParent(),$state$jscomp$124_temp$$,$result$$[$i$$])}}finally{this.model.endUpdate()}return $result$$};
if(null!=$ui$$.sidebar){var $sidebarDropAndConnect$$=$ui$$.sidebar.dropAndConnect;$ui$$.sidebar.dropAndConnect=function $$ui$$$sidebar$dropAndConnect$($source$$,$targets$$,$direction$$,$dropCellIndex$$){var $model$$=$graph$$.model,$result$$=null;$model$$.beginUpdate();try{if($result$$=$sidebarDropAndConnect$$.apply(this,arguments),$isTreeVertex$$($source$$))for(var $i$$=0;$i$$<$result$$.length;$i$$++)if($model$$.isEdge($result$$[$i$$])&&null==$model$$.getTerminal($result$$[$i$$],!0)){$model$$.setTerminal($result$$[$i$$],
$source$$,!0);var $geo$$=$graph$$.getCellGeometry($result$$[$i$$]);$geo$$.points=null;null!=$geo$$.getTerminalPoint(!0)&&$geo$$.setTerminalPoint(null,!0)}}finally{$model$$.endUpdate()}return $result$$}}var $altShiftActions$$={88:$ui$$.actions.get("selectChildren"),84:$ui$$.actions.get("selectSubtree"),80:$ui$$.actions.get("selectParent"),83:$ui$$.actions.get("selectSiblings")},$editorUiOnKeyDown$$=$ui$$.onKeyDown;$ui$$.onKeyDown=function $$ui$$$onKeyDown$($evt$$){try{if($graph$$.isEnabled()&&!$graph$$.isEditing()&&
$isTreeVertex$$($graph$$.getSelectionCell())&&1==$graph$$.getSelectionCount()){var $cells$$=null;0<$graph$$.getIncomingEdges($graph$$.getSelectionCell()).length&&(9==$evt$$.which?$cells$$=mxEvent.isShiftDown($evt$$)?$addParent$$($graph$$.getSelectionCell()):$addChild$$($graph$$.getSelectionCell()):13==$evt$$.which&&($cells$$=$addSibling$$($graph$$.getSelectionCell(),!mxEvent.isShiftDown($evt$$))));if(null!=$cells$$&&0<$cells$$.length)1==$cells$$.length&&$graph$$.model.isEdge($cells$$[0])?$graph$$.setSelectionCell($graph$$.model.getTerminal($cells$$[0],
!1)):$graph$$.setSelectionCell($cells$$[$cells$$.length-1]),null!=$ui$$.hoverIcons&&$ui$$.hoverIcons.update($graph$$.view.getState($graph$$.getSelectionCell())),$graph$$.startEditingAtCell($graph$$.getSelectionCell()),mxEvent.consume($evt$$);else if(mxEvent.isAltDown($evt$$)&&mxEvent.isShiftDown($evt$$)){var $action$$=$altShiftActions$$[$evt$$.keyCode];null!=$action$$&&($action$$.funct($evt$$),mxEvent.consume($evt$$))}else 37==$evt$$.keyCode?($selectCell$$($graph$$.getSelectionCell(),mxConstants.DIRECTION_WEST),
mxEvent.consume($evt$$)):38==$evt$$.keyCode?($selectCell$$($graph$$.getSelectionCell(),mxConstants.DIRECTION_NORTH),mxEvent.consume($evt$$)):39==$evt$$.keyCode?($selectCell$$($graph$$.getSelectionCell(),mxConstants.DIRECTION_EAST),mxEvent.consume($evt$$)):40==$evt$$.keyCode&&($selectCell$$($graph$$.getSelectionCell(),mxConstants.DIRECTION_SOUTH),mxEvent.consume($evt$$))}}catch($e$$){console.log("error",$e$$)}mxEvent.isConsumed($evt$$)||$editorUiOnKeyDown$$.apply(this,arguments)};var $graphConnectVertex$$=
$graph$$.connectVertex;$graph$$.connectVertex=function $$graph$$$connectVertex$($source$$,$direction$$,$dir$jscomp$9_length$$,$evt$jscomp$242_h1$$,$forceClone$jscomp$1_h2$$,$ignoreCellAt$$){var $edges$$=$graph$$.getIncomingEdges($source$$);return $isTreeVertex$$($source$$)&&0<$edges$$.length?($dir$jscomp$9_length$$=$getTreeDirection$$($source$$),$evt$jscomp$242_h1$$=$dir$jscomp$9_length$$==mxConstants.DIRECTION_EAST||$dir$jscomp$9_length$$==mxConstants.DIRECTION_WEST,$forceClone$jscomp$1_h2$$=$direction$$==
mxConstants.DIRECTION_EAST||$direction$$==mxConstants.DIRECTION_WEST,$dir$jscomp$9_length$$==$direction$$?$addChild$$($source$$):$evt$jscomp$242_h1$$==$forceClone$jscomp$1_h2$$?$addParent$$($source$$):$addSibling$$($source$$,$direction$$!=mxConstants.DIRECTION_NORTH&&$direction$$!=mxConstants.DIRECTION_WEST)):$graphConnectVertex$$.call(this,$source$$,$direction$$,$dir$jscomp$9_length$$,$evt$jscomp$242_h1$$,$forceClone$jscomp$1_h2$$,$ignoreCellAt$$)};$graph$$.getSubtree=function $$graph$$$getSubtree$($initialCell$$){var $cells$$=
[$initialCell$$];$isTreeVertex$$($initialCell$$)&&!$hasLayoutParent$$($initialCell$$)&&$graph$$.traverse($initialCell$$,!0,function($vertex$$,$edge$$){null!=$edge$$&&0>mxUtils.indexOf($cells$$,$edge$$)&&$cells$$.push($edge$$);0>mxUtils.indexOf($cells$$,$vertex$$)&&$cells$$.push($vertex$$);return!0});return $cells$$};var $vertexHandlerInit$$=mxVertexHandler.prototype.init;mxVertexHandler.prototype.init=function $mxVertexHandler$$init$(){$vertexHandlerInit$$.apply(this,arguments);$isTreeVertex$$(this.state.cell)&&
0<this.graph.getOutgoingEdges(this.state.cell).length&&(this.moveHandle=mxUtils.createImage($moveImage$$),this.moveHandle.setAttribute("title","Move Subtree"),this.moveHandle.style.position="absolute",this.moveHandle.style.cursor="pointer",this.moveHandle.style.width="18px",this.moveHandle.style.height="18px",this.graph.container.appendChild(this.moveHandle),mxEvent.addGestureListeners(this.moveHandle,mxUtils.bind(this,function($evt$$){this.graph.graphHandler.start(this.state.cell,mxEvent.getClientX($evt$$),
mxEvent.getClientY($evt$$));this.graph.graphHandler.cells=this.graph.getSubtree(this.state.cell);this.graph.graphHandler.bounds=this.state.view.getBounds(this.graph.graphHandler.cells);this.graph.graphHandler.pBounds=this.graph.graphHandler.getPreviewBounds(this.graph.graphHandler.cells);this.graph.graphHandler.cellWasClicked=!0;this.graph.isMouseTrigger=mxEvent.isMouseEvent($evt$$);this.graph.isMouseDown=!0;mxEvent.consume($evt$$)})))};var $vertexHandlerRedrawHandles$$=mxVertexHandler.prototype.redrawHandles;
mxVertexHandler.prototype.redrawHandles=function $mxVertexHandler$$redrawHandles$(){$vertexHandlerRedrawHandles$$.apply(this,arguments);null!=this.moveHandle&&(this.moveHandle.style.left=this.state.x+this.state.width+(40>this.state.width?10:0)+2+"px",this.moveHandle.style.top=this.state.y+this.state.height+(40>this.state.height?10:0)+2+"px")};var $vertexHandlerDestroy$$=mxVertexHandler.prototype.destroy;mxVertexHandler.prototype.destroy=function $mxVertexHandler$$destroy$($sender$$,$me$$){$vertexHandlerDestroy$$.apply(this,
arguments);null!=this.moveHandle&&(this.moveHandle.parentNode.removeChild(this.moveHandle),this.moveHandle=null)}};if("undefined"!==typeof Sidebar){var $sidebarCreateAdvancedShapes$$=Sidebar.prototype.createAdvancedShapes;Sidebar.prototype.createAdvancedShapes=function $Sidebar$$createAdvancedShapes$(){var $result$$=$sidebarCreateAdvancedShapes$$.apply(this,arguments),$graph$$=this.graph;return $result$$.concat([this.addEntry("tree container",function(){var $cell$$=new mxCell("Tree Container",new mxGeometry(0,
0,220,160),"swimlane;html=1;startSize=20;horizontal=1;containerType=tree;");$cell$$.vertex=!0;return sb.createVertexTemplateFromCells([$cell$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree mindmap central idea branch topic",function(){var $mindmap$$=new mxCell("Mindmap",new mxGeometry(0,0,420,126),"swimlane;html=1;startSize=20;horizontal=1;containerType=tree;");$mindmap$$.vertex=!0;var $cell$$=new mxCell("Central Idea",new mxGeometry(160,60,100,40),"ellipse;whiteSpace=wrap;html=1;align=center;container=1;recursiveResize=0;treeFolding=1;");
$cell$$.vertex=!0;var $cell2$$=new mxCell("Topic",new mxGeometry(320,40,80,20),"whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;container=1;recursiveResize=0;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;");$cell2$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;");$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!0);$cell2$$.insertEdge($edge$$,
!1);var $cell3$$=new mxCell("Branch",new mxGeometry(320,80,72,26),"whiteSpace=wrap;html=1;shape=partialRectangle;top=0;left=0;bottom=1;right=0;points=[[0,1],[1,1]];strokeColor=#000000;fillColor=none;align=center;verticalAlign=bottom;routingCenterY=0.5;snapToPoint=1;container=1;recursiveResize=0;autosize=1;treeFolding=1;");$cell3$$.vertex=!0;var $edge2$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;");$edge2$$.geometry.relative=
!0;$edge2$$.edge=!0;$cell$$.insertEdge($edge2$$,!0);$cell3$$.insertEdge($edge2$$,!1);var $cell4$$=new mxCell("Topic",new mxGeometry(20,40,80,20),"whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;container=1;recursiveResize=0;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;");$cell4$$.vertex=!0;var $edge3$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;");$edge3$$.geometry.relative=!0;$edge3$$.edge=
!0;$cell$$.insertEdge($edge3$$,!0);$cell4$$.insertEdge($edge3$$,!1);var $cell5$$=new mxCell("Branch",new mxGeometry(20,80,72,26),"whiteSpace=wrap;html=1;shape=partialRectangle;top=0;left=0;bottom=1;right=0;points=[[0,1],[1,1]];strokeColor=#000000;fillColor=none;align=center;verticalAlign=bottom;routingCenterY=0.5;snapToPoint=1;container=1;recursiveResize=0;autosize=1;treeFolding=1;");$cell5$$.vertex=!0;var $edge4$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;");
$edge4$$.geometry.relative=!0;$edge4$$.edge=!0;$cell$$.insertEdge($edge4$$,!0);$cell5$$.insertEdge($edge4$$,!1);$mindmap$$.insert($edge$$);$mindmap$$.insert($edge2$$);$mindmap$$.insert($edge3$$);$mindmap$$.insert($edge4$$);$mindmap$$.insert($cell$$);$mindmap$$.insert($cell2$$);$mindmap$$.insert($cell3$$);$mindmap$$.insert($cell4$$);$mindmap$$.insert($cell5$$);return sb.createVertexTemplateFromCells([$mindmap$$],$mindmap$$.geometry.width,$mindmap$$.geometry.height,$mindmap$$.value)}),this.addEntry("tree mindmap central idea",
function(){var $cell$$=new mxCell("Central Idea",new mxGeometry(0,0,100,40),"ellipse;whiteSpace=wrap;html=1;align=center;container=1;recursiveResize=0;treeFolding=1;");$cell$$.vertex=!0;return sb.createVertexTemplateFromCells([$cell$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree mindmap branch",function(){var $cell$$=new mxCell("Branch",new mxGeometry(0,0,80,20),"whiteSpace=wrap;html=1;shape=partialRectangle;top=0;left=0;bottom=1;right=0;points=[[0,1],[1,1]];strokeColor=#000000;fillColor=none;align=center;verticalAlign=bottom;routingCenterY=0.5;snapToPoint=1;container=1;recursiveResize=0;autosize=1;treeFolding=1;");
$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;");$edge$$.geometry.setTerminalPoint(new mxPoint(-40,40),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);return sb.createVertexTemplateFromCells([$cell$$,$edge$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree mindmap sub topic",function(){var $cell$$=new mxCell("Sub Topic",new mxGeometry(0,
0,72,26),"whiteSpace=wrap;html=1;rounded=1;arcSize=50;align=center;verticalAlign=middle;container=1;recursiveResize=0;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;");$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;");$edge$$.geometry.setTerminalPoint(new mxPoint(-40,40),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);return sb.createVertexTemplateFromCells([$cell$$,
$edge$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree orgchart organization division",function(){var $orgchart$$=new mxCell("Orgchart",new mxGeometry(0,0,280,220),"swimlane;html=1;startSize=20;horizontal=1;containerType=tree;");$orgchart$$.vertex=!0;var $cell$$=new mxCell("Organization",new mxGeometry(80,40,120,60),"whiteSpace=wrap;html=1;align=center;treeFolding=1;container=1;recursiveResize=0;");$graph$$.setAttributeForCell($cell$$,"treeRoot","1");$cell$$.vertex=
!0;var $cell2$$=new mxCell("Division",new mxGeometry(20,140,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;container=1;recursiveResize=0;treeFolding=1;");$cell2$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;startArrow=none;endArrow=none;rounded=0;");$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!0);$cell2$$.insertEdge($edge$$,!1);var $cell3$$=new mxCell("Division",new mxGeometry(160,140,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;container=1;recursiveResize=0;treeFolding=1;");
$cell3$$.vertex=!0;var $edge2$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;startArrow=none;endArrow=none;rounded=0;");$edge2$$.geometry.relative=!0;$edge2$$.edge=!0;$cell$$.insertEdge($edge2$$,!0);$cell3$$.insertEdge($edge2$$,!1);$orgchart$$.insert($edge$$);$orgchart$$.insert($edge2$$);$orgchart$$.insert($cell$$);$orgchart$$.insert($cell2$$);$orgchart$$.insert($cell3$$);return sb.createVertexTemplateFromCells([$orgchart$$],$orgchart$$.geometry.width,$orgchart$$.geometry.height,
$orgchart$$.value)}),this.addEntry("tree root",function(){var $cell$$=new mxCell("Organization",new mxGeometry(0,0,120,60),"whiteSpace=wrap;html=1;align=center;treeFolding=1;container=1;recursiveResize=0;");$graph$$.setAttributeForCell($cell$$,"treeRoot","1");$cell$$.vertex=!0;return sb.createVertexTemplateFromCells([$cell$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree division",function(){var $cell$$=new mxCell("Division",new mxGeometry(20,40,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;container=1;recursiveResize=0;treeFolding=1;");
$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=elbowEdgeStyle;elbow=vertical;startArrow=none;endArrow=none;rounded=0;");$edge$$.geometry.setTerminalPoint(new mxPoint(0,0),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);return sb.createVertexTemplateFromCells([$cell$$,$edge$$],$cell$$.geometry.width,$cell$$.geometry.height,$cell$$.value)}),this.addEntry("tree sub sections",function(){var $cell$$=new mxCell("Sub Section",new mxGeometry(0,
0,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;container=1;recursiveResize=0;treeFolding=1;");$cell$$.vertex=!0;var $edge$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;startArrow=none;endArrow=none;rounded=0;targetPortConstraint=eastwest;sourcePortConstraint=northsouth;");$edge$$.geometry.setTerminalPoint(new mxPoint(110,-40),!0);$edge$$.geometry.relative=!0;$edge$$.edge=!0;$cell$$.insertEdge($edge$$,!1);var $cell2$$=new mxCell("Sub Section",new mxGeometry(120,
0,100,60),"whiteSpace=wrap;html=1;align=center;verticalAlign=middle;container=1;recursiveResize=0;treeFolding=1;");$cell2$$.vertex=!0;var $edge2$$=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;startArrow=none;endArrow=none;rounded=0;targetPortConstraint=eastwest;sourcePortConstraint=northsouth;");$edge2$$.geometry.setTerminalPoint(new mxPoint(110,-40),!0);$edge2$$.geometry.relative=!0;$edge2$$.edge=!0;$cell2$$.insertEdge($edge2$$,!1);return sb.createVertexTemplateFromCells([$edge$$,
$edge2$$,$cell$$,$cell2$$],220,60,"Sub Sections")})])}}})();EditorUi.initMinimalTheme=function $EditorUi$initMinimalTheme$(){function $toggleFormat$$($ui$$){var $graph$$=$ui$$.editor.graph;$graph$$.popupMenuHandler.hideMenu();null==$ui$$.formatWindow?($ui$$.formatWindow=new $WrapperWindow$$($ui$$,mxResources.get("format"),Math.max(20,$ui$$.diagramContainer.clientWidth-240-12),56,240,Math.min(566,$graph$$.container.clientHeight-10),function($container$jscomp$12_format$$){$container$jscomp$12_format$$=$ui$$.createFormat($container$jscomp$12_format$$);$container$jscomp$12_format$$.init();
return $container$jscomp$12_format$$}),$ui$$.formatWindow.window.minimumSize=new mxRectangle(0,0,240,80),$ui$$.formatWindow.window.setVisible(!0)):$ui$$.formatWindow.window.setVisible(!$ui$$.formatWindow.window.isVisible());$ui$$.formatWindow.window.isVisible()&&$ui$$.formatWindow.window.fit()}function $toggleShapes$$($ui$$){var $graph$$=$ui$$.editor.graph;$graph$$.popupMenuHandler.hideMenu();new mxRectangle;if(null==$ui$$.sidebarWindow){var $w$$=Math.min($graph$$.container.clientWidth-10,266);$ui$$.sidebarWindow=
new $WrapperWindow$$($ui$$,mxResources.get("shapes"),10,56,$w$$-6,Math.min(650,$graph$$.container.clientHeight-30),function($container$$){function $addMenu$$($id$$,$label$$){var $menu$$=$ui$$.menus.get($id$$),$elt$$=$menuObj$$.addMenu($label$$,mxUtils.bind(this,function(){$menu$$.funct.apply(this,arguments)}));$elt$$.style.cssText="position:absolute;border-top:1px solid lightgray;width:50%;height:24px;bottom:0px;text-align:center;cursor:pointer;padding:6px 0 0 0;cusor:pointer;";$elt$$.className="geTitle";
$container$$.appendChild($elt$$);return $elt$$}var $div$jscomp$33_elt$$=document.createElement("div");$div$jscomp$33_elt$$.style.cssText="position:absolute;left:0;right:0;border-top:1px solid lightgray;height:24px;bottom:31px;text-align:center;cursor:pointer;padding:6px 0 0 0;";$div$jscomp$33_elt$$.className="geTitle";$div$jscomp$33_elt$$.innerHTML='<span style="font-size:18px;margin-right:5px;">+</span>';mxUtils.write($div$jscomp$33_elt$$,mxResources.get("moreShapes"));$container$$.appendChild($div$jscomp$33_elt$$);
mxEvent.addListener($div$jscomp$33_elt$$,"click",function(){$ui$$.actions.get("shapes").funct()});var $menuObj$$=new Menubar($ui$$,$container$$);if(!Editor.enableCustomLibraries||"1"==urlParams.embed&&"1"!=urlParams.libraries)$div$jscomp$33_elt$$.style.bottom="0";else if(null!=$ui$$.actions.get("newLibrary")){$div$jscomp$33_elt$$=document.createElement("div");$div$jscomp$33_elt$$.style.cssText="position:absolute;left:0px;width:50%;border-top:1px solid lightgray;height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;";
$div$jscomp$33_elt$$.className="geTitle";var $span$$=document.createElement("span");$span$$.style.cssText="position:relative;top:6px;";mxUtils.write($span$$,mxResources.get("newLibrary"));$div$jscomp$33_elt$$.appendChild($span$$);$container$$.appendChild($div$jscomp$33_elt$$);mxEvent.addListener($div$jscomp$33_elt$$,"click",$ui$$.actions.get("newLibrary").funct);$div$jscomp$33_elt$$=document.createElement("div");$div$jscomp$33_elt$$.style.cssText="position:absolute;left:50%;width:50%;border-top:1px solid lightgray;height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;border-left: 1px solid lightgray;";
$div$jscomp$33_elt$$.className="geTitle";$span$$=document.createElement("span");$span$$.style.cssText="position:relative;top:6px;";mxUtils.write($span$$,mxResources.get("openLibrary"));$div$jscomp$33_elt$$.appendChild($span$$);$container$$.appendChild($div$jscomp$33_elt$$);mxEvent.addListener($div$jscomp$33_elt$$,"click",$ui$$.actions.get("openLibrary").funct)}else $div$jscomp$33_elt$$=$addMenu$$("newLibrary",mxResources.get("newLibrary")),$div$jscomp$33_elt$$.style.left="0",$div$jscomp$33_elt$$=
$addMenu$$("openLibraryFrom",mxResources.get("openLibraryFrom")),$div$jscomp$33_elt$$.style.borderLeft="1px solid lightgray",$div$jscomp$33_elt$$.style.left="50%";$container$$.appendChild($ui$$.sidebar.container);$container$$.style.overflow="hidden";return $container$$});$ui$$.sidebarWindow.window.minimumSize=new mxRectangle(0,0,90,90);$ui$$.sidebarWindow.window.setVisible(!0);$ui$$.getLocalData("sidebar",function($value$$){$ui$$.sidebar.showEntries($value$$,null,!0)});$ui$$.restoreLibraries()}else $ui$$.sidebarWindow.window.setVisible(!$ui$$.sidebarWindow.window.isVisible());
$ui$$.sidebarWindow.window.isVisible()&&$ui$$.sidebarWindow.window.fit()}if("1"==urlParams.lightbox||"0"==urlParams.chrome||"undefined"===typeof window.Format||"undefined"===typeof window.Menus)window.uiTheme=null;else{var $iw$$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;try{var $style$$=document.createElement("style");$style$$.type="text/css";$style$$.innerHTML="* { -webkit-font-smoothing: antialiased; }html body .mxWindow button.geBtn { font-size:12px !important; margin-left: 0; }html body table.mxWindow td.mxWindowPane div.mxWindowPane *:not(svg *) { font-size:9pt; }html body div.diagramContainer button, html body button.geBtn { font-size:14px; font-weight:700;border-radius: 5px; }html body button.geBtn:active { opacity: 0.6; }html body a.geMenuItem { opacity: 0.75; }html body a.geMenuItem[disabled] { opacity: 0.2; }html body a.geMenuItem[disabled]:active { opacity: 0.2; }html body div.geActivePage { opacity: 0.7; }html body a.geMenuItem:active { opacity: 0.2; }html body .geToolbarButton { opacity: 0.3; }html body .geToolbarButton:active { opacity: 0.15; }html body .geStatus:active { opacity: 0.5; }html table.mxPopupMenu tr.mxPopupMenuItemHover:active { opacity:0.7; }html body .geDialog input, html body .geToolbarContainer input, html body .mxWindow input {padding:2px;display:inline-block; }div.geDialog { border-radius: 5px; }html body div.geDialog button.geBigButton { color: #fff !important; }.mxWindow button, .geDialog select, .mxWindow select { display:inline-block; }html body .mxWindow .geColorBtn, html body .geDialog .geColorBtn { background: none; }html body div.diagramContainer button, html body .mxWindow button, html body .geDialog button { min-width: 0px; border-radius: 5px; color: #353535 !important; border-style: solid; border-width: 1px; border-color: rgb(216, 216, 216); }html body div.diagramContainer button:hover, html body .mxWindow button:hover, html body .geDialog button:hover { border-color: rgb(177, 177, 177); }html body div.diagramContainer button:active, html body .mxWindow button:active, html body .geDialog button:active { opacity: 0.6; }div.diagramContainer button.geBtn, .mxWindow button.geBtn, .geDialog button.geBtn { min-width:72px; font-weight: 600; background: none; }div.diagramContainer button.gePrimaryBtn, .mxWindow button.gePrimaryBtn, .geDialog button.gePrimaryBtn, html body .gePrimaryBtn { background: #29b6f2; color: #fff !important; border: none; box-shadow: none; }html body .gePrimaryBtn:hover { background: #29b6f2; border: none; box-shadow: inherit; }html body button.gePrimaryBtn:hover { background: #29b6f2; border: none; }.geBtn button { min-width:72px !important; }div.geToolbarContainer a.geButton { margin:2px; padding: 0 2px 4px 2px; } .geDialog, .mxWindow td.mxWindowPane *, div.geSprite, td.mxWindowTitle, .geDiagramContainer { box-sizing:content-box; }.mxWindow div button.geStyleButton { box-sizing: border-box; }table.mxWindow td.mxWindowPane button.geColorBtn { padding:0px; box-sizing: border-box; }td.mxWindowPane .geSidebarContainer button { padding:2px 0 2px 0; box-sizing: border-box; }html body .geMenuItem { font-size:14px; text-decoration: none; font-weight: normal; padding: 6px 10px 6px 10px; border: none; border-radius: 5px; color: #353535; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }.geToolbarContainer { background:#fff !important; }div.mxWindow .geSidebarContainer .geTitle { background-color:#fdfdfd; }div.mxWindow .geSidebarContainer .geTitle:hover { background-color:#fafafa; }div.geSidebar { background-color: #fff !important;}div.mxWindow td.mxWindowPane button { background-image: none; float: none; }td.mxWindowTitle { height: 22px !important; background: none !important; font-size: 13px !important; text-align:center !important; border-bottom:1px solid lightgray; }div.mxWindow, div.mxWindowTitle { background-image: none !important; background-color:#fff !important; }div.mxWindow { border-radius:5px; box-shadow: 0px 0px 2px #C0C0C0 !important;}div.mxWindow * { font-family: inherit !important; }html div.geVerticalHandle { position:absolute;bottom:0px;left:50%;cursor:row-resize;width:11px;height:11px;background:white;margin-bottom:-6px; margin-left:-6px; border: none; border-radius: 6px; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }html div.geInactivePage { background: rgb(249, 249, 249) !important; color:lightgray !important; } html div.geActivePage { background: white !important;color: #353535 !important; } html div.mxRubberband { border:1px solid; border-color: #29b6f2 !important; background:rgba(41,182,242,0.5) !important; } html body div.mxPopupMenu { border-radius:5px; border:1px solid #c0c0c0; padding:5px 0 5px 0; box-shadow: 0px 4px 17px -4px rgba(96,96,96,1); } html table.mxPopupMenu td.mxPopupMenuItem { color: #353535; font-size: 14px; padding-top: 4px; padding-bottom: 4px; }html table.mxPopupMenu tr.mxPopupMenuItemHover { background-color: #29b6f2; }html tr.mxPopupMenuItemHover td.mxPopupMenuItem, html tr.mxPopupMenuItemHover td.mxPopupMenuItem span { color: #fff !important; }html tr.mxPopupMenuItem, html td.mxPopupMenuItem { transition-property: none !important; }html table.mxPopupMenu hr { height: 2px; background-color: rgba(0,0,0,.07); margin: 5px 0; }"+
(mxClient.IS_IOS?"html input[type=checkbox], html input[type=radio] { height:12px; }":"");document.getElementsByTagName("head")[0].appendChild($style$$)}catch($e$$){}var $WrapperWindow$$=function $$WrapperWindow$$$($editorUi$$,$title$$,$x$jscomp$0$$,$y$jscomp$0$$,$w$$,$h$$,$fn$$){var $div$$=document.createElement("div");$div$$.className="geSidebarContainer";$div$$.style.position="absolute";$div$$.style.width="100%";$div$$.style.height="100%";$div$$.style.border="1px solid whiteSmoke";$div$$.style.overflowX=
"hidden";$div$$.style.overflowY="auto";$fn$$($div$$);this.window=new mxWindow($title$$,$div$$,$x$jscomp$0$$,$y$jscomp$0$$,$w$$,$h$$,!0,!0);this.window.destroyOnClose=!1;this.window.setMaximizable(!1);this.window.setResizable(!0);this.window.setClosable(!0);this.window.setVisible(!0);this.window.setLocation=function $this$window$setLocation$($x$$,$y$$){var $ih$$=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$x$$=Math.max(0,Math.min($x$$,(window.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth)-this.table.clientWidth));$y$$=Math.max(0,Math.min($y$$,$ih$$-this.table.clientHeight-48));this.getX()==$x$$&&this.getY()==$y$$||mxWindow.prototype.setLocation.apply(this,arguments)};mxClient.IS_SF&&(this.window.div.onselectstart=mxUtils.bind(this,function($evt$$){null==$evt$$&&($evt$$=window.event);return null!=$evt$$&&$editorUi$$.isSelectionAllowed($evt$$)}))};Editor.checkmarkImage=Graph.createSvgImage(22,18,'<path transform="translate(4 0)" d="M7.181,15.007a1,1,0,0,1-.793-0.391L3.222,10.5A1,1,0,1,1,4.808,9.274L7.132,12.3l6.044-8.86A1,1,0,1,1,14.83,4.569l-6.823,10a1,1,0,0,1-.8.437H7.181Z" fill="#29b6f2"/>').src;
mxWindow.prototype.closeImage=Graph.createSvgImage(18,10,'<path d="M 5 1 L 13 9 M 13 1 L 5 9" stroke="#C0C0C0" stroke-width="2"/>').src;mxWindow.prototype.minimizeImage=Graph.createSvgImage(14,10,'<path d="M 3 7 L 7 3 L 11 7" stroke="#C0C0C0" stroke-width="2" fill="#ffffff"/>').src;mxWindow.prototype.normalizeImage=Graph.createSvgImage(14,10,'<path d="M 3 3 L 7 7 L 11 3" stroke="#C0C0C0" stroke-width="2" fill="#ffffff"/>').src;mxConstraintHandler.prototype.pointImage=Graph.createSvgImage(5,5,'<path d="m 0 0 L 5 5 M 0 5 L 5 0" stroke="#29b6f2"/>');
mxOutline.prototype.sizerImage=null;mxConstants.VERTEX_SELECTION_COLOR="#C0C0C0";mxConstants.EDGE_SELECTION_COLOR="#C0C0C0";mxConstants.CONNECT_HANDLE_FILLCOLOR="#cee7ff";mxConstants.DEFAULT_VALID_COLOR="#29b6f2";mxConstants.GUIDE_COLOR="#C0C0C0";mxConstants.HIGHLIGHT_STROKEWIDTH=5;mxConstants.HIGHLIGHT_OPACITY=35;mxConstants.OUTLINE_COLOR="#29b6f2";mxConstants.OUTLINE_HANDLE_FILLCOLOR="#29b6f2";mxConstants.OUTLINE_HANDLE_STROKECOLOR="#fff";Graph.prototype.svgShadowColor="#3D4574";Graph.prototype.svgShadowOpacity=
"0.4";Graph.prototype.svgShadowSize="0.6";Graph.prototype.svgShadowBlur="1.2";Format.prototype.inactiveTabBackgroundColor="#f0f0f0";mxGraphHandler.prototype.previewColor="#C0C0C0";mxRubberband.prototype.defaultOpacity=50;HoverIcons.prototype.inactiveOpacity=25;Format.prototype.showCloseButton=!1;EditorUi.prototype.closableScratchpad=!1;EditorUi.prototype.toolbarHeight=46;EditorUi.prototype.footerHeight=0;Graph.prototype.editAfterInsert=!0;Editor.prototype.isChromelessView=function $Editor$$isChromelessView$(){return!1};
Graph.prototype.isLightboxView=function $Graph$$isLightboxView$(){return!1};var $editorUiUpdateTabContainer$$=EditorUi.prototype.updateTabContainer;EditorUi.prototype.updateTabContainer=function $EditorUi$$updateTabContainer$(){null!=this.tabContainer&&(this.tabContainer.style.right="70px",this.diagramContainer.style.bottom=this.tabContainerHeight+"px");$editorUiUpdateTabContainer$$.apply(this,arguments)};var $editorUiUpdateActionStates$$=EditorUi.prototype.updateActionStates;EditorUi.prototype.updateActionStates=
function $EditorUi$$updateActionStates$(){$editorUiUpdateActionStates$$.apply(this,arguments);this.menus.get("save").setEnabled(null!=this.getCurrentFile()||"1"==urlParams.embed)};var $menusAddShortcut$$=Menus.prototype.addShortcut;Menus.prototype.addShortcut=function $Menus$$addShortcut$($item$$,$action$$){null!=$action$$.shortcut&&900>$iw$$&&!mxClient.IS_IOS?$item$$.firstChild.nextSibling.setAttribute("title",$action$$.shortcut):$menusAddShortcut$$.apply(this,arguments)};var $appUpdateUserElement$$=
App.prototype.updateUserElement;App.prototype.updateUserElement=function $App$$updateUserElement$(){$appUpdateUserElement$$.apply(this,arguments);if(null!=this.userElement){var $elt$$=this.userElement;$elt$$.style.cssText="display:inline-block;position:relative;margin-right:4px;cursor:pointer;";$elt$$.className="geToolbarButton";$elt$$.innerHTML="";$elt$$.style.backgroundImage="url("+Editor.userImage+")";$elt$$.style.backgroundPosition="center center";$elt$$.style.backgroundRepeat="no-repeat";$elt$$.style.backgroundSize=
"24px 24px";$elt$$.style.height="24px";$elt$$.style.width="24px";$elt$$.style.cssFloat="right";$elt$$.setAttribute("title",mxResources.get("changeUser"))}};var $appUpdateButtonContainer$$=App.prototype.updateButtonContainer;App.prototype.updateButtonContainer=function $App$$updateButtonContainer$(){$appUpdateButtonContainer$$.apply(this,arguments);if(null!=this.shareButton){var $elt$$=this.shareButton;$elt$$.style.cssText="display:inline-block;position:relative;box-sizing:border-box;margin-right:4px;cursor:pointer;";
$elt$$.className="geToolbarButton";$elt$$.innerHTML="";$elt$$.style.backgroundImage="url("+Editor.shareImage+")";$elt$$.style.backgroundPosition="center center";$elt$$.style.backgroundRepeat="no-repeat";$elt$$.style.backgroundSize="24px 24px";$elt$$.style.height="24px";$elt$$.style.width="24px"}};EditorUi.prototype.addEmbedButtons=function $EditorUi$$addEmbedButtons$(){if(null!=this.buttonContainer){var $div$$=document.createElement("div");$div$$.style.display="inline-block";$div$$.style.position=
"relative";$div$$.style.marginTop="2px";var $button$$=document.createElement("button");mxUtils.write($button$$,mxResources.get("save"));$button$$.setAttribute("title",mxResources.get("save")+" ("+Editor.ctrlKey+"+S)");$button$$.className="1"==urlParams.saveAndExit?"geMenuItem":"geMenuItem gePrimaryBtn";$button$$.style.fontSize="14px";$button$$.style.padding="6px";$button$$.style.borderRadius="3px";$button$$.style.marginLeft="8px";$button$$.style.cursor="pointer";mxEvent.addListener($button$$,"click",
mxUtils.bind(this,function(){this.actions.get("save").funct()}));$div$$.appendChild($button$$);"1"==urlParams.saveAndExit&&($button$$=document.createElement("a"),mxUtils.write($button$$,mxResources.get("saveAndExit")),$button$$.setAttribute("title",mxResources.get("saveAndExit")),$button$$.className="geMenuItem gePrimaryBtn",$button$$.style.fontSize="14px",$button$$.style.marginLeft="6px",$button$$.style.padding="6px",$button$$.style.cursor="pointer",mxEvent.addListener($button$$,"click",mxUtils.bind(this,
function(){this.actions.get("saveAndExit").funct()})),$div$$.appendChild($button$$));$button$$=document.createElement("a");mxUtils.write($button$$,mxResources.get("exit"));$button$$.setAttribute("title",mxResources.get("exit"));$button$$.className="geMenuItem";$button$$.style.fontSize="14px";$button$$.style.marginLeft="6px";$button$$.style.padding="6px";$button$$.style.cursor="pointer";mxEvent.addListener($button$$,"click",mxUtils.bind(this,function(){this.actions.get("exit").funct()}));$div$$.appendChild($button$$);
this.buttonContainer.appendChild($div$$);this.buttonContainer.style.top="6px"}};Sidebar.prototype.getTooltipOffset=function $Sidebar$$getTooltipOffset$(){var $off$$=mxUtils.getOffset(this.editorUi.sidebarWindow.window.div);$off$$.y+=40;return $off$$};var $menuCreatePopupMenu$$=Menus.prototype.createPopupMenu;Menus.prototype.createPopupMenu=function $Menus$$createPopupMenu$($menu$$,$cell$$,$evt$$){var $graph$$=this.editorUi.editor.graph;$menu$$.smartSeparators=!0;$menuCreatePopupMenu$$.apply(this,
arguments);mxUtils.bind(this,function($defaultValue$$,$fn$$){var $dlg$$=new FilenameDialog(this.editorUi,$defaultValue$$,mxResources.get("apply"),function($newValue$$){$fn$$(parseFloat($newValue$$))},mxResources.get("spacing"));this.editorUi.showDialog($dlg$$.container,300,80,!0,!0);$dlg$$.init()});1==$graph$$.getSelectionCount()?(this.addMenuItems($menu$$,["editTooltip","-","editStyle","editGeometry","-"],null,$evt$$),$graph$$.isCellFoldable($graph$$.getSelectionCell())&&this.addMenuItems($menu$$,
$graph$$.isCellCollapsed($cell$$)?["expand"]:["collapse"],null,$evt$$),this.addMenuItems($menu$$,["collapsible","-","lockUnlock","enterGroup"],null,$evt$$),$menu$$.addSeparator(),this.addSubmenu("layout",$menu$$)):$graph$$.isSelectionEmpty()&&$graph$$.isEnabled()?($menu$$.addSeparator(),this.addMenuItems($menu$$,["editData"],null,$evt$$),$menu$$.addSeparator(),this.addSubmenu("layout",$menu$$),this.addSubmenu("view",$menu$$,null,mxResources.get("options")),this.addMenuItems($menu$$,["-","exitGroup"],
null,$evt$$)):$graph$$.isEnabled()&&this.addMenuItems($menu$$,["-","lockUnlock"],null,$evt$$)};EditorUi.prototype.toggleFormatPanel=function $EditorUi$$toggleFormatPanel$($forceHide$$){null!=this.formatWindow?this.formatWindow.window.setVisible($forceHide$$?!1:!this.formatWindow.window.isVisible()):$toggleFormat$$(this)};DiagramFormatPanel.prototype.isMathOptionVisible=function $DiagramFormatPanel$$isMathOptionVisible$(){return!0};var $editorUiDestroy$$=EditorUi.prototype.destroy;EditorUi.prototype.destroy=
function $EditorUi$$destroy$(){null!=this.sidebarWindow&&(this.sidebarWindow.window.setVisible(!1),this.sidebarWindow.window.destroy(),this.sidebarWindow=null);null!=this.formatWindow&&(this.formatWindow.window.setVisible(!1),this.formatWindow.window.destroy(),this.formatWindow=null);null!=this.actions.outlineWindow&&(this.actions.outlineWindow.window.setVisible(!1),this.actions.outlineWindow.window.destroy(),this.actions.outlineWindow=null);null!=this.actions.layersWindow&&(this.actions.layersWindow.window.setVisible(!1),
this.actions.layersWindow.window.destroy(),this.actions.layersWindow=null);null!=this.menus.tagsWindow&&(this.menus.tagsWindow.window.setVisible(!1),this.menus.tagsWindow.window.destroy(),this.menus.tagsWindow=null);null!=this.menus.findWindow&&(this.menus.findWindow.window.setVisible(!1),this.menus.findWindow.window.destroy(),this.menus.findWindow=null);$editorUiDestroy$$.apply(this,arguments)};var $editorUiSetGraphEnabled$$=EditorUi.prototype.setGraphEnabled;EditorUi.prototype.setGraphEnabled=function $EditorUi$$setGraphEnabled$($enabled$$){$editorUiSetGraphEnabled$$.apply(this,
arguments);$enabled$$||(null!=this.sidebarWindow&&this.sidebarWindow.window.setVisible(!1),null!=this.formatWindow&&this.formatWindow.window.setVisible(!1))};EditorUi.prototype.chromelessWindowResize=function $EditorUi$$chromelessWindowResize$(){};var $menusInit$$=Menus.prototype.init;Menus.prototype.init=function $Menus$$init$(){$menusInit$$.apply(this,arguments);var $ui$$=this.editorUi,$graph$$=$ui$$.editor.graph;$ui$$.actions.get("editDiagram").label=mxResources.get("formatXml")+"...";$ui$$.actions.get("createShape").label=
mxResources.get("shape")+"...";$ui$$.actions.get("outline").label=mxResources.get("outline")+"...";$ui$$.actions.get("layers").label=mxResources.get("layers")+"...";$ui$$.actions.put("importFile",new Action("File...",function(){$graph$$.popupMenuHandler.hideMenu();if(null==$ui$$.minImpFileInputElt){var $input$$=document.createElement("input");$input$$.setAttribute("type","file");mxEvent.addListener($input$$,"change",function(){null!=$input$$.files&&$ui$$.importFiles($input$$.files,null,null,$ui$$.maxImageSize);
$input$$.value=""});$input$$.style.display="none";document.body.appendChild($input$$);$ui$$.minImpFileInputElt=$input$$}$ui$$.minImpFileInputElt.click()}));$ui$$.actions.put("importCsv",new Action(mxResources.get("csv")+"...",function(){$graph$$.popupMenuHandler.hideMenu();$ui$$.showImportCsvDialog()}));$ui$$.actions.put("importText",new Action(mxResources.get("text")+"...",function(){var $dlg$$=new ParseDialog($ui$$,"Insert from Text");$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}));
$ui$$.actions.put("formatSql",new Action(mxResources.get("formatSql")+"...",function(){var $dlg$$=new ParseDialog($ui$$,"Insert from Text","formatSql");$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}));$ui$$.actions.put("toggleShapes",new Action(mxResources.get("shapes")+"...",function(){$toggleShapes$$($ui$$)}));$ui$$.actions.put("toggleFormat",new Action(mxResources.get("format")+"...",function(){$toggleFormat$$($ui$$)}));EditorUi.enablePlantUml&&!$ui$$.isOffline()&&$ui$$.actions.put("plantUml",
new Action(mxResources.get("plantUml")+"...",function(){var $dlg$$=new ParseDialog($ui$$,"Insert from Text","plantUml");$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}));this.put("diagram",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){var $file$$=$ui$$.getCurrentFile();$ui$$.menus.addSubmenu("extras",$menu$$,$parent$$,mxResources.get("preferences"));$menu$$.addSeparator($parent$$);mxClient.IS_CHROMEAPP||EditorUi.isElectronApp?($ui$$.menus.addMenuItems($menu$$,["new","open",
"-"],$parent$$),EditorUi.isElectronApp&&$ui$$.menus.addMenuItems($menu$$,["synchronize","-"],$parent$$),$ui$$.menus.addMenuItems($menu$$,["save","saveAs","-"],$parent$$)):"1"==urlParams.embed?($ui$$.menus.addMenuItems($menu$$,["-","save"],$parent$$),"1"==urlParams.saveAndExit&&$ui$$.menus.addMenuItems($menu$$,["saveAndExit"],$parent$$),$menu$$.addSeparator($parent$$)):($ui$$.menus.addMenuItems($menu$$,["new"],$parent$$),$ui$$.menus.addSubmenu("openFrom",$menu$$,$parent$$),isLocalStorage&&this.addSubmenu("openRecent",
$menu$$,$parent$$),$menu$$.addSeparator($parent$$),null!=$file$$&&$file$$.constructor==DriveFile&&$ui$$.menus.addMenuItems($menu$$,["share"],$parent$$),mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||null==$file$$||$file$$.constructor==LocalFile||$ui$$.menus.addMenuItems($menu$$,["synchronize"],$parent$$),$menu$$.addSeparator($parent$$),$ui$$.menus.addSubmenu("save",$menu$$,$parent$$));$ui$$.menus.addSubmenu("exportAs",$menu$$,$parent$$);$ui$$.menus.addMenuItems($menu$$,["-","outline","layers"],$parent$$);
$ui$$.commentsSupported()&&$ui$$.menus.addMenuItems($menu$$,["comments"],$parent$$);$ui$$.menus.addMenuItems($menu$$,["-","find","tags"],$parent$$);mxClient.IS_IOS&&navigator.standalone||$ui$$.menus.addMenuItems($menu$$,["-","print","-"],$parent$$);$ui$$.menus.addSubmenu("help",$menu$$,$parent$$);"1"==urlParams.embed?$ui$$.menus.addMenuItems($menu$$,["-","exit"],$parent$$):$ui$$.menus.addMenuItems($menu$$,["-","close"])})));this.put("save",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){var $file$$=
$ui$$.getCurrentFile();null!=$file$$&&$file$$.constructor==DriveFile?$ui$$.menus.addMenuItems($menu$$,["save","makeCopy","-","rename","moveToFolder"],$parent$$):($ui$$.menus.addMenuItems($menu$$,["save","saveAs","-","rename"],$parent$$),$ui$$.isOfflineApp()?navigator.onLine&&"1"!=urlParams.stealth&&this.addMenuItems($menu$$,["upload"],$parent$$):$ui$$.menus.addMenuItems($menu$$,["makeCopy"],$parent$$));$ui$$.menus.addMenuItems($menu$$,["-","autosave"],$parent$$);null!=$file$$&&$file$$.isRevisionHistorySupported()&&
$ui$$.menus.addMenuItems($menu$$,["-","revisionHistory"],$parent$$)})));var $exportAsMenu$$=this.get("exportAs");this.put("exportAs",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){$exportAsMenu$$.funct($menu$$,$parent$$);mxClient.IS_CHROMEAPP||EditorUi.isElectronApp||$ui$$.menus.addMenuItems($menu$$,["publishLink"],$parent$$);$menu$$.addSeparator($parent$$);$ui$$.menus.addSubmenu("embed",$menu$$,$parent$$)})));var $langMenu$$=this.get("language");this.put("extras",new Menu(mxUtils.bind(this,
function($menu$$,$parent$$){"1"!=urlParams.embed&&$ui$$.menus.addSubmenu("theme",$menu$$,$parent$$);null!=$langMenu$$&&$ui$$.menus.addSubmenu("language",$menu$$,$parent$$);$menu$$.addSeparator($parent$$);$ui$$.menus.addMenuItems($menu$$,["scrollbars","tooltips"],$parent$$);"1"!=urlParams.embed&&(isLocalStorage||mxClient.IS_CHROMEAPP)&&$ui$$.menus.addMenuItems($menu$$,["-","search","scratchpad","-","showStartScreen"],$parent$$);!$ui$$.isOfflineApp()&&isLocalStorage&&($menu$$.addSeparator($parent$$),
$ui$$.menus.addMenuItem($menu$$,"plugins",$parent$$));$menu$$.addSeparator($parent$$)})));this.put("insertAdvanced",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){$ui$$.menus.addMenuItems($menu$$,"importText plantUml - formatSql importCsv - createShape editDiagram".split(" "),$parent$$)})));mxResources.parse("insertLayout="+mxResources.get("layout"));mxResources.parse("insertAdvanced="+mxResources.get("advanced"));this.put("insert",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){$ui$$.menus.addMenuItems($menu$$,
"insertRectangle insertEllipse insertRhombus - insertText insertLink - insertImage".split(" "),$parent$$);$ui$$.insertTemplateEnabled&&!$ui$$.isOffline()&&$ui$$.menus.addMenuItems($menu$$,["insertTemplate"],$parent$$);$menu$$.addSeparator($parent$$);$ui$$.menus.addSubmenu("insertLayout",$menu$$,$parent$$);$ui$$.menus.addSubmenu("insertAdvanced",$menu$$,$parent$$);$menu$$.addSeparator($parent$$);mxClient.IS_CHROMEAPP||EditorUi.isElectronApp?$ui$$.menus.addMenuItems($menu$$,["import"],$parent$$):$ui$$.menus.addSubmenu("importFrom",
$menu$$,$parent$$)})));var $methods$$="horizontalFlow verticalFlow - horizontalTree verticalTree radialTree - organic circle".split(" "),$addInsertItem$$=function $$addInsertItem$$$($menu$$,$parent$$,$title$$,$method$$){$menu$$.addItem($title$$,null,mxUtils.bind(this,function(){var $dlg$$=new CreateGraphDialog($ui$$,$title$$,$method$$);$ui$$.showDialog($dlg$$.container,620,420,!0,!1);$dlg$$.init()}),$parent$$)};this.put("insertLayout",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){for(var $i$$=
0;$i$$<$methods$$.length;$i$$++)"-"==$methods$$[$i$$]?$menu$$.addSeparator($parent$$):$addInsertItem$$($menu$$,$parent$$,mxResources.get($methods$$[$i$$])+"...",$methods$$[$i$$])})));this.put("view",new Menu(mxUtils.bind(this,function($menu$$,$parent$$){$ui$$.menus.addMenuItems($menu$$,"grid guides - connectionArrows connectionPoints -".split(" "),$parent$$);if("undefined"!==typeof MathJax){var $item$$=$ui$$.menus.addMenuItem($menu$$,"mathematicalTypesetting",$parent$$);$ui$$.menus.addLinkToItem($item$$,
"https://desk.draw.io/support/solutions/articles/16000032875")}$ui$$.menus.addMenuItems($menu$$,["copyConnect","collapseExpand","-","pageScale"],$parent$$)})))};var $editorUiInit$$=EditorUi.prototype.init;EditorUi.prototype.init=function $EditorUi$$init$(){function $addMenu$$($id$$,$small$$,$img$$){var $menu$$=$ui$$.menus.get($id$$),$elt$$=$menuObj$$.addMenu(mxResources.get($id$$),mxUtils.bind(this,function(){$menu$$.funct.apply(this,arguments)}),$before$$);$elt$$.className="geMenuItem";$elt$$.style.display=
"inline-block";$elt$$.style.boxSizing="border-box";$elt$$.style.top="6px";$elt$$.style.marginRight="6px";$elt$$.style.height="30px";$elt$$.style.paddingTop="6px";$elt$$.style.paddingBottom="6px";$elt$$.style.cursor="pointer";$elt$$.setAttribute("title",mxResources.get($id$$));$ui$$.menus.menuCreated($menu$$,$elt$$,"geMenuItem");null!=$img$$?($elt$$.style.backgroundImage="url("+$img$$+")",$elt$$.style.backgroundPosition="center center",$elt$$.style.backgroundRepeat="no-repeat",$elt$$.style.backgroundSize=
"24px 24px",$elt$$.style.width="34px",$elt$$.innerHTML=""):$small$$||($elt$$.style.backgroundImage="url("+mxWindow.prototype.normalizeImage+")",$elt$$.style.backgroundPosition="right 6px center",$elt$$.style.backgroundRepeat="no-repeat",$elt$$.style.paddingRight="22px");return $elt$$}function $addMenuItem$$($label$$,$fn$$,$small$$,$tooltip$$,$action$$,$img$$){var $btn$$=document.createElement("a");$btn$$.className="geMenuItem";$btn$$.style.display="inline-block";$btn$$.style.boxSizing="border-box";
$btn$$.style.height="30px";$btn$$.style.padding="6px";$btn$$.style.position="relative";$btn$$.style.verticalAlign="top";$btn$$.style.top="0px";null!=$ui$$.statusContainer?$menubar$$.insertBefore($btn$$,$ui$$.statusContainer):$menubar$$.appendChild($btn$$);null!=$img$$?($btn$$.style.backgroundImage="url("+$img$$+")",$btn$$.style.backgroundPosition="center center",$btn$$.style.backgroundRepeat="no-repeat",$btn$$.style.backgroundSize="24px 24px",$btn$$.style.width="34px"):mxUtils.write($btn$$,$label$$);
mxEvent.addListener($btn$$,mxClient.IS_POINTER?"pointerdown":"mousedown",mxUtils.bind(this,function($evt$$){$evt$$.preventDefault()}));mxEvent.addListener($btn$$,"click",function($evt$$){"disabled"!=$btn$$.getAttribute("disabled")&&$fn$$($evt$$);mxEvent.consume($evt$$)});null==$small$$&&($btn$$.style.marginRight="4px");null!=$tooltip$$&&$btn$$.setAttribute("title",$tooltip$$);null!=$action$$&&($label$$=function $$label$$$(){$action$$.isEnabled()?($btn$$.removeAttribute("disabled"),$btn$$.style.cursor=
"pointer"):($btn$$.setAttribute("disabled","disabled"),$btn$$.style.cursor="default")},$action$$.addListener("stateChanged",$label$$),$label$$());return $btn$$}function $createGroup$$($btns$$,$op$$){var $btnGroup$$=document.createElement("div");$btnGroup$$.className="geMenuItem";$btnGroup$$.style.display="inline-block";$btnGroup$$.style.verticalAlign="top";$btnGroup$$.style.marginRight="6px";$btnGroup$$.style.padding="0 4px 0 4px";$btnGroup$$.style.height="30px";$btnGroup$$.style.position="relative";
$btnGroup$$.style.top="0px";for(var $i$$=0;$i$$<$btns$$.length;$i$$++)null!=$btns$$[$i$$]&&($btns$$[$i$$].style.margin="0px",$btns$$[$i$$].style.boxShadow="none",$btnGroup$$.appendChild($btns$$[$i$$]));null!=$op$$&&mxUtils.setOpacity($btnGroup$$,$op$$);null!=$ui$$.statusContainer?$menubar$$.insertBefore($btnGroup$$,$ui$$.statusContainer):$menubar$$.appendChild($btnGroup$$);return $btnGroup$$}function $refreshMenu$$(){for(var $langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=$menubar$$.firstChild;null!=
$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$;){var $elt$jscomp$30_temp$$=$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.nextSibling;"geMenuItem"!=$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.className&&"geItem"!=$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.className||$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.parentNode.removeChild($langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$);$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=
$elt$jscomp$30_temp$$}$before$$=$menubar$$.firstChild;$iw$$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;($langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=1E3>$iw$$)||$addMenu$$("diagram");$createGroup$$([$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?$addMenu$$("diagram",null,IMAGE_PATH+"/drawlogo.svg"):null,$addMenuItem$$(mxResources.get("shapes"),$ui$$.actions.get("toggleShapes").funct,null,mxResources.get("shapes"),$ui$$.actions.get("image"),
$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTMgMTN2OGg4di04aC04ek0zIDIxaDh2LThIM3Y4ek0zIDN2OGg4VjNIM3ptMTMuNjYtMS4zMUwxMSA3LjM0IDE2LjY2IDEzbDUuNjYtNS42Ni01LjY2LTUuNjV6Ii8+PC9zdmc+":null),$addMenuItem$$(mxResources.get("format"),$ui$$.actions.get("toggleFormat").funct,null,mxResources.get("format")+" ("+$ui$$.actions.get("formatPanel").shortcut+
")",$ui$$.actions.get("image"),$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgM2MtNC45NyAwLTkgNC4wMy05IDlzNC4wMyA5IDkgOWMuODMgMCAxLjUtLjY3IDEuNS0xLjUgMC0uMzktLjE1LS43NC0uMzktMS4wMS0uMjMtLjI2LS4zOC0uNjEtLjM4LS45OSAwLS44My42Ny0xLjUgMS41LTEuNUgxNmMyLjc2IDAgNS0yLjI0IDUtNSAwLTQuNDItNC4wMy04LTktOHptLTUuNSA5Yy0uODMgMC0xLjUtLjY3LTEuNS0xLjVTNS42NyA5IDYuNSA5IDggOS42NyA4IDEwLjUgNy4zMyAxMiA2LjUgMTJ6bTMtNEM4LjY3IDggOCA3LjMzIDggNi41UzguNjcgNSA5LjUgNXMxLjUuNjcgMS41IDEuNVMxMC4zMyA4IDkuNSA4em01IDBjLS44MyAwLTEuNS0uNjctMS41LTEuNVMxMy42NyA1IDE0LjUgNXMxLjUuNjcgMS41IDEuNVMxNS4zMyA4IDE0LjUgOHptMyA0Yy0uODMgMC0xLjUtLjY3LTEuNS0xLjVTMTYuNjcgOSAxNy41IDlzMS41LjY3IDEuNSAxLjUtLjY3IDEuNS0xLjUgMS41eiIvPjwvc3ZnPg==":
null)],$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?60:null);$elt$jscomp$30_temp$$=$addMenu$$("insert",!0,$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyeiIvPjwvc3ZnPg==":null);$createGroup$$([$elt$jscomp$30_temp$$,$addMenuItem$$(mxResources.get("delete"),$ui$$.actions.get("delete").funct,
null,mxResources.get("delete"),$ui$$.actions.get("delete"),$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0eiIvPjwvc3ZnPg==":null)],$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$?60:null);if(411<=$iw$$&&($elt$jscomp$30_temp$$=
$ui$$.actions.get("undo"),$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=$ui$$.actions.get("redo"),$elt$jscomp$30_temp$$=$addMenuItem$$("",$elt$jscomp$30_temp$$.funct,null,mxResources.get("undo")+" ("+$elt$jscomp$30_temp$$.shortcut+")",$elt$jscomp$30_temp$$,"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIuNSA4Yy0yLjY1IDAtNS4wNS45OS02LjkgMi42TDIgN3Y5aDlsLTMuNjItMy42MmMxLjM5LTEuMTYgMy4xNi0xLjg4IDUuMTItMS44OCAzLjU0IDAgNi41NSAyLjMxIDcuNiA1LjVsMi4zNy0uNzhDMjEuMDggMTEuMDMgMTcuMTUgOCAxMi41IDh6Ii8+PC9zdmc+"),
$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=$addMenuItem$$("",$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.funct,null,mxResources.get("redo")+" ("+$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.shortcut+")",$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$,"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguNCAxMC42QzE2LjU1IDguOTkgMTQuMTUgOCAxMS41IDhjLTQuNjUgMC04LjU4IDMuMDMtOS45NiA3LjIyTDMuOSAxNmMxLjA1LTMuMTkgNC4wNS01LjUgNy42LTUuNSAxLjk1IDAgMy43My43MiA1LjEyIDEuODhMMTMgMTZoOVY3bC0zLjYgMy42eiIvPjwvc3ZnPg=="),
$createGroup$$([$elt$jscomp$30_temp$$,$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$],60),480<=$iw$$)){var $langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=$ui$$.actions.get("zoomIn"),$elt$jscomp$30_temp$$=$ui$$.actions.get("zoomOut"),$resetViewAction$$=$ui$$.actions.get("resetView");$createGroup$$([$addMenuItem$$("",function(){$graph$$.popupMenuHandler.hideMenu();var $scale$$=$graph$$.view.scale,$tx$$=$graph$$.view.translate.x,$ty$$=$graph$$.view.translate.y;$ui$$.actions.get("resetView").funct();
1E-5>Math.abs($scale$$-$graph$$.view.scale)&&$tx$$==$graph$$.view.translate.x&&$ty$$==$graph$$.view.translate.y&&$ui$$.actions.get($graph$$.pageVisible?"fitPage":"fitWindow").funct()},!0,mxResources.get("fit")+" ("+Editor.ctrlKey+"+H)",$resetViewAction$$,"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyA1djRoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLTR2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg=="),
640<=$iw$$?$addMenuItem$$("",$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.funct,!0,mxResources.get("zoomIn")+" ("+Editor.ctrlKey+" +)",$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$,"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHptMi41LTRoLTJ2Mkg5di0ySDdWOWgyVjdoMXYyaDJ2MXoiLz48L3N2Zz4="):
null,640<=$iw$$?$addMenuItem$$("",$elt$jscomp$30_temp$$.funct,!0,mxResources.get("zoomOut")+" ("+Editor.ctrlKey+" -)",$elt$jscomp$30_temp$$,"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpNNyA5aDV2MUg3eiIvPjwvc3ZnPg=="):
null],60)}$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$=$ui$$.menus.get("language");null!=$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$&&!mxClient.IS_CHROMEAPP&&!EditorUi.isElectronApp&&600<=$iw$$?(null==$langMenuElt$$&&($elt$jscomp$30_temp$$=$menuObj$$.addMenu("",$langMenu$jscomp$1_node$jscomp$57_redoAction_redoElt_small$$.funct),$elt$jscomp$30_temp$$.setAttribute("title",mxResources.get("language")),$elt$jscomp$30_temp$$.className="geToolbarButton",$elt$jscomp$30_temp$$.style.backgroundImage=
"url("+Editor.globeImage+")",$elt$jscomp$30_temp$$.style.backgroundPosition="center center",$elt$jscomp$30_temp$$.style.backgroundRepeat="no-repeat",$elt$jscomp$30_temp$$.style.backgroundSize="24px 24px",$elt$jscomp$30_temp$$.style.position="absolute",$elt$jscomp$30_temp$$.style.height="24px",$elt$jscomp$30_temp$$.style.width="24px",$elt$jscomp$30_temp$$.style.zIndex="1",$elt$jscomp$30_temp$$.style.right="8px",$elt$jscomp$30_temp$$.style.cursor="pointer",$elt$jscomp$30_temp$$.style.top="1"==urlParams.embed?
"13px":"11px",$menubar$$.appendChild($elt$jscomp$30_temp$$),$langMenuElt$$=$elt$jscomp$30_temp$$),$ui$$.buttonContainer.style.paddingRight="34px"):($ui$$.buttonContainer.style.paddingRight="4px",null!=$langMenuElt$$&&($langMenuElt$$.parentNode.removeChild($langMenuElt$$),$langMenuElt$$=null))}$editorUiInit$$.apply(this,arguments);var $div$$=document.createElement("div");$div$$.style.cssText="position:absolute;left:0px;right:0px;top:0px;overflow-y:auto;overflow-x:hidden;";$div$$.style.bottom="1"!=
urlParams.embed||"1"==urlParams.libraries?"63px":"32px";this.sidebar=this.createSidebar($div$$);null==urlParams.clibs&&null==urlParams.libs||$toggleShapes$$(this);var $ui$$=this,$graph$$=$ui$$.editor.graph;$ui$$.toolbar=this.createToolbar($ui$$.createDiv("geToolbar"));$ui$$.defaultLibraryName=mxResources.get("untitledLibrary");var $menubar$$=document.createElement("div");$menubar$$.style.cssText="position:absolute;left:0px;right:0px;top:0px;height:30px;padding:8px;border-bottom:1px solid lightgray;background-color:#ffffff;text-align:left;white-space:nowrap;";
var $before$$=null,$menuObj$$=new Menubar($ui$$,$menubar$$);$ui$$.statusContainer=$ui$$.createStatusContainer();$ui$$.statusContainer.style.position="relative";$ui$$.statusContainer.style.maxWidth="";$ui$$.statusContainer.style.marginTop="7px";$ui$$.statusContainer.style.marginLeft="6px";$ui$$.statusContainer.style.color="gray";$ui$$.statusContainer.style.cursor="default";$ui$$.editor.addListener("statusChanged",mxUtils.bind(this,function(){$ui$$.setStatusText($ui$$.editor.getStatus())}));var $uiDescriptorChanged$$=
$ui$$.descriptorChanged;$ui$$.descriptorChanged=function $$ui$$$descriptorChanged$(){$uiDescriptorChanged$$.apply(this,arguments);var $file$$=$ui$$.getCurrentFile();if(null!=$file$$&&null!=$file$$.getTitle()){var $mode$$=$file$$.getMode();"google"==$mode$$?$mode$$="googleDrive":"github"==$mode$$?$mode$$="gitHub":"onedrive"==$mode$$&&($mode$$="oneDrive");$mode$$=mxResources.get($mode$$);$menubar$$.setAttribute("title",$file$$.getTitle()+(null!=$mode$$?" ("+$mode$$+")":""))}else $menubar$$.removeAttribute("title")};
$ui$$.setStatusText($ui$$.editor.getStatus());$menubar$$.appendChild($ui$$.statusContainer);$ui$$.buttonContainer=document.createElement("div");$ui$$.buttonContainer.style.cssText="position:absolute;right:0px;padding-right:34px;top:10px;white-space:nowrap;padding-top:2px;background-color:inherit;";$menubar$$.appendChild($ui$$.buttonContainer);$ui$$.menubarContainer=$ui$$.buttonContainer;$ui$$.tabContainer=document.createElement("div");$ui$$.tabContainer.style.cssText="position:absolute;left:0px;right:0px;bottom:0px;height:30px;white-space:nowrap;border-bottom:1px solid lightgray;background-color:#ffffff;border-top:1px solid lightgray;margin-bottom:-2px;visibility:hidden;";
var $div$$=$ui$$.diagramContainer.parentNode,$wrapper$$=document.createElement("div");$wrapper$$.style.cssText="position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow:hidden;";$ui$$.diagramContainer.style.top="47px";var $updateZoom_viewZoomMenu$$=$ui$$.menus.get("viewZoom");if(null!=$updateZoom_viewZoomMenu$$){this.tabContainer.style.right="70px";var $elt$jscomp$0$$=$menuObj$$.addMenu("100%",$updateZoom_viewZoomMenu$$.funct);$elt$jscomp$0$$.setAttribute("title",mxResources.get("zoom")+" (Alt+Mousewheel)");
$elt$jscomp$0$$.style.whiteSpace="nowrap";$elt$jscomp$0$$.style.backgroundImage="url("+mxWindow.prototype.minimizeImage+")";$elt$jscomp$0$$.style.backgroundPosition="right 6px center";$elt$jscomp$0$$.style.backgroundRepeat="no-repeat";$elt$jscomp$0$$.style.backgroundColor="#ffffff";$elt$jscomp$0$$.style.paddingRight="10px";$elt$jscomp$0$$.style.display="block";$elt$jscomp$0$$.style.position="absolute";$elt$jscomp$0$$.style.textDecoration="none";$elt$jscomp$0$$.style.textDecoration="none";$elt$jscomp$0$$.style.right=
"0px";$elt$jscomp$0$$.style.bottom="0px";$elt$jscomp$0$$.style.overflow="hidden";$elt$jscomp$0$$.style.visibility="hidden";$elt$jscomp$0$$.style.textAlign="center";$elt$jscomp$0$$.style.color="#000";$elt$jscomp$0$$.style.fontSize="12px";$elt$jscomp$0$$.style.color="#707070";$elt$jscomp$0$$.style.width="59px";$elt$jscomp$0$$.style.cursor="pointer";$elt$jscomp$0$$.style.borderTop="1px solid lightgray";$elt$jscomp$0$$.style.borderLeft="1px solid lightgray";$elt$jscomp$0$$.style.height=parseInt($ui$$.tabContainerHeight)-
1+"px";$elt$jscomp$0$$.style.lineHeight=parseInt($ui$$.tabContainerHeight)+1+"px";$wrapper$$.appendChild($elt$jscomp$0$$);$updateZoom_viewZoomMenu$$=mxUtils.bind(this,function(){$elt$jscomp$0$$.innerHTML=Math.round(100*$ui$$.editor.graph.view.scale)+"%"});$ui$$.editor.graph.view.addListener(mxEvent.EVENT_SCALE,$updateZoom_viewZoomMenu$$);$ui$$.editor.addListener("resetGraphView",$updateZoom_viewZoomMenu$$);$ui$$.editor.addListener("pageSelected",$updateZoom_viewZoomMenu$$);var $uiSetGraphEnabled$$=
$ui$$.setGraphEnabled;$ui$$.setGraphEnabled=function $$ui$$$setGraphEnabled$(){$uiSetGraphEnabled$$.apply(this,arguments);null!=this.tabContainer&&($elt$jscomp$0$$.style.visibility=this.tabContainer.style.visibility,this.diagramContainer.style.bottom="hidden"!=this.tabContainer.style.visibility?this.tabContainerHeight+"px":"0px")}}$wrapper$$.appendChild($ui$$.tabContainer);$wrapper$$.appendChild($menubar$$);$wrapper$$.appendChild($ui$$.diagramContainer);$div$$.appendChild($wrapper$$);$ui$$.updateTabContainer();
var $langMenuElt$$=null;$refreshMenu$$();mxEvent.addListener(window,"resize",function(){$refreshMenu$$();null!=$ui$$.sidebarWindow&&$ui$$.sidebarWindow.window.fit();null!=$ui$$.formatWindow&&$ui$$.formatWindow.window.fit();null!=$ui$$.actions.outlineWindow&&$ui$$.actions.outlineWindow.window.fit();null!=$ui$$.actions.layersWindow&&$ui$$.actions.layersWindow.window.fit();null!=$ui$$.menus.tagsWindow&&$ui$$.menus.tagsWindow.window.fit();null!=$ui$$.menus.findWindow&&$ui$$.menus.findWindow.window.fit()})}}};
(function(){var $initialized$$=!1;"min"!=uiTheme||$initialized$$||mxClient.IS_CHROMEAPP||(EditorUi.initMinimalTheme(),$initialized$$=!0);var $uiInitTheme$$=EditorUi.initTheme;EditorUi.initTheme=function $EditorUi$initTheme$(){$uiInitTheme$$.apply(this,arguments);"min"!=uiTheme||$initialized$$||(this.initMinimalTheme(),$initialized$$=!0)}})();DrawioComment=function $DrawioComment$($file$$,$id$$,$content$$,$modifiedDate$$,$createdDate$$,$isResolved$$,$user$$){this.file=$file$$;this.id=$id$$;this.content=$content$$;this.modifiedDate=$modifiedDate$$;this.createdDate=$createdDate$$;this.isResolved=$isResolved$$;this.user=$user$$;this.replies=[]};DrawioComment.prototype.addReplyDirect=function $DrawioComment$$addReplyDirect$($reply$$){null!=$reply$$&&this.replies.push($reply$$)};
DrawioComment.prototype.addReply=function $DrawioComment$$addReply$($reply$$,$success$$,$error$$,$doResolve$$,$doReopen$$){$success$$()};DrawioComment.prototype.editComment=function $DrawioComment$$editComment$($newContent$$,$success$$,$error$$){$success$$()};DrawioComment.prototype.deleteComment=function $DrawioComment$$deleteComment$($success$$,$error$$){$success$$()};DrawioUser=function $DrawioUser$($id$$,$email$$,$displayName$$,$pictureUrl$$,$locale$$){this.id=$id$$;this.email=$email$$;this.displayName=$displayName$$;this.pictureUrl=$pictureUrl$$;this.locale=$locale$$};mxResources.parse('# *DO NOT DIRECTLY EDIT THIS FILE, IT IS AUTOMATICALLY GENERATED AND IT IS BASED ON:*\n# https://docs.google.com/spreadsheet/ccc?key=0AmQEO36liL4FdDJLWVNMaVV2UmRKSnpXU09MYkdGbEE\naboutDrawio=About draw.io\naccessDenied=Access Denied\naction=Action\nactualSize=Actual Size\nadd=Add\naddedFile=Added {1}\naddImages=Add Images\naddImageUrl=Add Image URL\naddLayer=Add Layer\naddProperty=Add Property\naddress=Address\naddToExistingDrawing=Add to Existing Drawing\naddWaypoint=Add Waypoint\nadjustTo=Adjust to\nadvanced=Advanced\nalign=Align\nalignment=Alignment\nallChangesLost=All changes will be lost!\nallPages=All Pages\nallProjects=All Projects\nallSpaces=All Spaces\nallTags=All Tags\nanchor=Anchor\nandroid=Android\nangle=Angle\narc=Arc\nareYouSure=Are you sure?\nassetType=Asset Type\nensureDataSaved=Please ensure your data is saved before closing.\nallChangesSaved=All changes saved\nallChangesSavedInDrive=All changes saved in Drive\nallowPopups=Allow pop-ups to avoid this dialog.\nallowRelativeUrl=Allow relative URL\nalreadyConnected=Nodes already connected\napply=Apply\narchiMate21=ArchiMate 2.1\narrange=Arrange\narrow=Arrow\narrows=Arrows\nasNew=As New\natlas=Atlas\nauthor=Author\nauthorizationRequired=Authorization required\nauthorizeThisAppIn=Authorize this app in {1}:\nauthorize=Authorize\nauthorizing=Authorizing\nautomatic=Automatic\nautosave=Autosave\nautosize=Autosize\nattachments=Attachments\naws=AWS\naws3d=AWS 3D\nazure=Azure\nback=Back\nbackground=Background\nbackgroundColor=Background Color\nbackgroundImage=Background Image\nbasic=Basic\nblankDrawing=Blank Drawing\nblankDiagram=Blank Diagram\nblock=Block\nblockquote=Blockquote\nblog=Blog\nbold=Bold\nbootstrap=Bootstrap\nborder=Border\nborderColor=Border Color\nborderWidth=Borderwidth\nbottom=Bottom\nbottomAlign=Bottom Align\nbottomLeft=Bottom Left\nbottomRight=Bottom Right\nbpmn=BPMN\nbrowser=Browser\nbulletedList=Bulleted List\nbusiness=Business\nbusy=Operation in progress\ncabinets=Cabinets\ncancel=Cancel\ncenter=Center\ncannotLoad=Load attempts failed. Please try again later.\ncannotLogin=Log in attempts failed. Please try again later.\ncannotOpenFile=Cannot open file\nchange=Change\nchangeOrientation=Change Orientation\nchangeUser=Change user\nchangeStorage=Change storage\nchangesNotSaved=Changes have not been saved\nuserJoined={1} has joined\nuserLeft={1} has left\nchatWindowTitle=Chat\nchooseAnOption=Choose an option\nchromeApp=Chrome App\ncollaborativeEditingNotice=Important Notice for Collaborative Editing\ncompressed=Compressed\ncommitMessage=Commit Message\ncsv=CSV\ndark=Dark\ndraftFound=A draft for \'{1}\' has been found. Load it into the editor or discard it to continue.\ndragAndDropNotSupported=Drag and drop not supported for images. Would you like to import instead?\ndropboxCharsNotAllowed=The following characters are not allowed:  / : ? * " |\ncheck=Check\nchecksum=Checksum\ncircle=Circle\ncisco=Cisco\nclassic=Classic\nclearDefaultStyle=Clear Default Style\nclearWaypoints=Clear Waypoints\nclipart=Clipart\nclose=Close\ncollaborator=Collaborator\ncollaborators=Collaborators\ncollapse=Collapse\ncollapseExpand=Collapse/Expand\ncollapse-expand=Click to collapse/expand\nShift-click to move neighbors \nAlt-click to protect group size\ncollapsible=Collapsible\ncomic=Comic\ncomment=Comment\ncommentsNotes=Comments/Notes\ncompress=Compress\nconnect=Connect\nconnecting=Connecting\nconnectWithDrive=Connect with Google Drive\nconnection=Connection\nconnectionArrows=Connection Arrows\nconnectionPoints=Connection Points\nconstrainProportions=Constrain Proportions\ncontainsValidationErrors=Contains validation errors\ncopiedToClipboard=Copied to clipboard\ncopy=Copy\ncopyConnect=Copy on connect\ncopyOf=Copy of {1}\ncopyOfDrawing=Copy of Drawing\ncopySize=Copy Size\ncopyStyle=Copy Style\ncreate=Create\ncreateNewDiagram=Create New Diagram\ncreateRevision=Create Revision\ncreateShape=Create Shape\ncriticality=Criticality\ncrop=Crop\ncurved=Curved\ncustom=Custom\ncurrent=Current\ncut=Cut\ndashed=Dashed\ndecideLater=Decide later\ndefault=Default\ndelete=Delete\ndeleteColumn=Delete Column\ndeleteLibrary401=Insufficient permissions to delete this library\ndeleteLibrary404=Selected library could not be found\ndeleteLibrary500=Error deleting library\ndeleteLibraryConfirm=You are about to permanently delete this library. Are you sure you want to do this?\ndeleteRow=Delete Row\ndescription=Description\ndevice=Device\ndiagram=Diagram\ndiagramContent=Diagram Content\ndiagramLocked=Diagram has been locked to prevent further data loss.\ndiagramLockedBySince=The diagram is locked by {1} since {2} ago\ndiagramName=Diagram Name\ndiagramIsPublic=Diagram is public\ndiagramIsNotPublic=Diagram is not public\ndiamond=Diamond\ndiamondThin=Diamond (thin)\ndidYouKnow=Did you know...\ndirection=Direction\ndiscard=Discard\ndiscardChangesAndReconnect=Discard Changes and Reconnect\ngoogleDriveMissingClickHere=Google Drive missing? Click here!\ndiscardChanges=Discard Changes\ndisconnected=Disconnected\ndistribute=Distribute\ndone=Done\ndotted=Dotted\ndoubleClickOrientation=Doubleclick to change orientation\ndoubleClickTooltip=Doubleclick to insert text\ndoubleClickChangeProperty=Doubleclick to change property name\ndownload=Download\ndownloadDesktop=Download draw.io Desktop\ndownloadAs=Download as\nclickHereToSave=Click here to save.\ndraftDiscarded=Draft discarded\ndraftSaved=Draft saved\ndragElementsHere=Drag elements here\ndragImagesHere=Drag images or URLs here\ndragUrlsHere=Drag URLs here\ndraw.io=draw.io\ndrawing=Drawing{1}\ndrawingEmpty=Drawing is empty\ndrawingTooLarge=Drawing is too large\ndrawioForWork=Draw.io for GSuite\ndropbox=Dropbox\nduplicate=Duplicate\nduplicateIt=Duplicate {1}\ndivider=Divider\ndx=Dx\ndy=Dy\neast=East\nedit=Edit\neditData=Edit Data\neditDiagram=Edit Diagram\neditGeometry=Edit Geometry\neditImage=Edit Image\neditImageUrl=Edit Image URL\neditLink=Edit Link\neditShape=Edit Shape\neditStyle=Edit Style\neditText=Edit Text\neditTooltip=Edit Tooltip\nglass=Glass\ngoogleImages=Google Images\nimageSearch=Image Search\neip=EIP\nembed=Embed\nembedImages=Embed Images\nmainEmbedNotice=Paste this into the page\nelectrical=Electrical\nellipse=Ellipse\nembedNotice=Paste this once at the end of the page\nenterGroup=Enter Group\nenterName=Enter Name\nenterPropertyName=Enter Property Name\nenterValue=Enter Value\nentityRelation=Entity Relation\nerror=Error\nerrorDeletingFile=Error deleting file\nerrorLoadingFile=Error loading file\nerrorRenamingFile=Error renaming file\nerrorRenamingFileNotFound=Error renaming file. File was not found.\nerrorRenamingFileForbidden=Error renaming file. Insufficient access rights.\nerrorSavingDraft=Error saving draft\nerrorSavingFile=Error saving file\nerrorSavingFileUnknown=Error authorizing with Google\'s servers. Please refresh the page to re-attempt.\nerrorSavingFileForbidden=Error saving file. Insufficient access rights.\nerrorSavingFileNameConflict=Could not save diagram. Current page already contains file named \'{1}\'.\nerrorSavingFileNotFound=Error saving file. File was not found.\nerrorSavingFileReadOnlyMode=Could not save diagram while read-only mode is active.\nerrorSavingFileSessionTimeout=Your session has ended. Please <a target=\'_blank\' href=\'{1}\'>{2}</a> and return to this tab to try to save again.\nerrorSendingFeedback=Error sending feedback.\nerrorUpdatingPreview=Error updating preview.\nexit=Exit\nexitGroup=Exit Group\nexpand=Expand\nexport=Export\nexporting=Exporting\nexportAs=Export as\nexportOptionsDisabled=Export options disabled\nexportOptionsDisabledDetails=The owner has disabled options to download, print or copy for commenters and viewers on this file.\nexternalChanges=External Changes\nextras=Extras\nfacebook=Facebook\nfailedToSaveTryReconnect=Failed to save, trying to reconnect\nfeatureRequest=Feature Request\nfeedback=Feedback\nfeedbackSent=Feedback successfully sent.\nfloorplans=Floorplans\nfile=File\nfileChangedOverwriteDialog=The file has been modified. Do you want to save the file and overwrite those changes?\nfileChangedSyncDialog=The file has been modified. Do you want to synchronize those changes?\nfileChangedSync=The file has been modified. Click here to synchronize.\noverwrite=Overwrite\nsynchronize=Synchronize\nfilename=Filename\nfileExists=File already exists\nfileNearlyFullSeeFaq=File nearly full, please see FAQ\nfileNotFound=File not found\nrepositoryNotFound=Repository not found\nfileNotFoundOrDenied=The file was not found. It does not exist or you do not have read access.\nfileNotLoaded=File not loaded\nfileNotSaved=File not saved\nfileOpenLocation=How would you like to open these file(s)?\nfiletypeHtml=.html causes file to save as HTML with redirect to cloud URL\nfiletypePng=.png causes file to save as PNG with embedded data\nfiletypeSvg=.svg causes file to save as SVG with embedded data\nfileWillBeSavedInAppFolder={1} will be saved in the app folder.\nfill=Fill\nfillColor=Fill Color\nfilterCards=Filter Cards\nfind=Find\nfit=Fit\nfitContainer=Resize Container\nfitIntoContainer=Fit into Container\nfitPage=Fit Page\nfitPageWidth=Fit Page Width\nfitTo=Fit to\nfitToSheetsAcross=sheet(s) across\nfitToBy=by\nfitToSheetsDown=sheet(s) down\nfitTwoPages=Two Pages\nfitWindow=Fit Window\nflip=Flip\nflipH=Flip Horizontal\nflipV=Flip Vertical\nflowchart=Flowchart\nfolder=Folder\nfont=Font\nfontColor=Font Color\nfontFamily=Font Family\nfontSize=Font Size\nforbidden=You are not authorized to access this file\nformat=Format\nformatPanel=Format Panel\nformatted=Formatted\nformattedText=Formatted Text\nformatPng=PNG\nformatGif=GIF\nformatJpg=JPEG\nformatPdf=PDF\nformatSql=SQL\nformatSvg=SVG\nformatHtmlEmbedded=HTML\nformatSvgEmbedded=SVG (with XML)\nformatVsdx=VSDX\nformatVssx=VSSX\nformatXmlPlain=XML (Plain)\nformatXml=XML\nforum=Discussion/Help Forums\nfromTemplate=From Template\nfromTemplateUrl=From Template URL\nfromText=From Text\nfromUrl=From URL\nfromThisPage=From this page\nfullscreen=Fullscreen\ngap=Gap\ngcp=GCP\ngeneral=General\ngithub=GitHub\ngliffy=Gliffy\nglobal=Global\ngoogleDocs=Google Docs\ngoogleDrive=Google Drive\ngoogleGadget=Google Gadget\ngooglePlus=Google+\ngoogleSharingNotAvailable=Sharing is only available via Google Drive. Please click Open below and share from the more actions menu:\ngoogleSlides=Google Slides\ngoogleSites=Google Sites\ngradient=Gradient\ngradientColor=Color\ngrid=Grid\ngridColor=Grid Color\ngridSize=Grid Size\ngroup=Group\nguides=Guides\nhasUniqueQuestions=Has Unique Questions\nhateApp=I hate draw.io\nheading=Heading\nheight=Height\nhelp=Help\nhelpTranslate=Help us translate this application\nhide=Hide\nhideIt=Hide {1}\nhidden=Hidden\nhome=Home\nhorizontal=Horizontal\nhorizontalFlow=Horizontal Flow\nhorizontalTree=Horizontal Tree\nhostName=Host Name\nhowTranslate=How good is the translation in your language?\nhtml=HTML\nhtmlText=HTML Text\nid=ID\niframe=IFrame\nignore=Ignore\nimage=Image\nimageUrl=Image URL\nimages=Images\nimagePreviewError=This image couldn\'t be loaded for preview. Please check the URL.\nimageTooBig=Image too big\nimgur=Imgur\nimport=Import\nimportFrom=Import from\nincludeCopyOfMyDiagram=Include a copy of my diagram\nincreaseIndent=Increase Indent\ndecreaseIndent=Decrease Indent\ninsert=Insert\ninsertColumnBefore=Insert Column Left\ninsertColumnAfter=Insert Column Right\ninsertEllipse=Insert Ellipse\ninsertImage=Insert Image\ninsertHorizontalRule=Insert Horizontal Rule\ninsertLink=Insert Link\ninsertPage=Insert Page\ninsertRectangle=Insert Rectangle\ninsertRhombus=Insert Rhombus\ninsertRowBefore=Insert Row Above\ninsertRowAfter=Insert Row After\ninsertText=Insert Text\ninserting=Inserting\ninvalidFilename=Diagram names must not contain the following characters:  / | : ; { } < > & + ? = "\ninvalidLicenseSeeThisPage=Your license is invalid, please see this <a target="_blank" href="https://support.draw.io/display/DFCS/Licensing+your+draw.io+plugin">page</a>.\ninvalidName=Invalid name\ninvalidOrMissingFile=Invalid or missing file\ninvalidPublicUrl=Invalid public URL\nisometric=Isometric\nios=iOS\nipAddress=IP Address\nitalic=Italic\nkennedy=Kennedy\nkeyboardShortcuts=Keyboard Shortcuts\nlayer=Layer\nlayers=Layers\nlandscape=Landscape\nlanguage=Language\nleanMapping=Lean Mapping\nlastChange=Last change {1} ago\nlessThanAMinute=less than a minute\nlicensingError=Licensing Error\nlicenseHasExpired=The license for {1} has expired on {2}. Click here.\nlicenseWillExpire=The license for {1} will expire on {2}. Click here.\nlineJumps=Line jumps\nlinkAccountRequired=If the diagram is not public a Google account is required to view the link.\nlinkText=Link Text\nlist=List\nminute=minute\nminutes=minutes\nhours=hours\ndays=days\nmonths=months\nyears=years\nrestartForChangeRequired=Changes will take effect after page refresh.\nlaneColor=Lanecolor\nlastModified=Last modified\nlayout=Layout\nleft=Left\nleftAlign=Left Align\nleftToRight=Left to right\nlibraryTooltip=Drag and drop shapes here or click + to insert. Double click to edit.\nlightbox=Lightbox\nline=Line\nlineend=Line end\nlineheight=Line Height\nlinestart=Line start\nlinewidth=Linewidth\nlink=Link\nlinks=Links\nloading=Loading\nlockUnlock=Lock/Unlock\nloggedOut=Logged Out\nlogIn=log in\nloveIt=I love {1}\nlucidchart=Lucidchart\nmaps=Maps\nmathematicalTypesetting=Mathematical Typesetting\nmakeCopy=Make a Copy\nmanual=Manual\nmicrosoftExcel=Microsoft Excel\nmicrosoftPowerPoint=Microsoft PowerPoint\nmicrosoftWord=Microsoft Word\nmiddle=Middle\nminimal=Minimal\nmisc=Misc\nmockups=Mockups\nmodificationDate=Modification date\nmodifiedBy=Modified by\nmore=More\nmoreResults=More Results\nmoreShapes=More Shapes\nmove=Move\nmoveToFolder=Move to Folder\nmoving=Moving\nmoveSelectionTo=Move selection to {1}\nname=Name\nnavigation=Navigation\nnetwork=Network\nnetworking=Networking\nnew=New\nnewLibrary=New Library\nnextPage=Next Page\nno=No\nnoPickFolder=No, pick folder\nnoAttachments=No attachments found\nnoColor=No Color\nnoFiles=No Files\nnoFileSelected=No file selected\nnoLibraries=No libraries found\nnoMoreResults=No more results\nnone=None\nnoOtherViewers=No other viewers\nnoPlugins=No plugins\nnoPreview=No preview\nnoResponse=No response from server\nnoResultsFor=No results for \'{1}\'\nnoRevisions=No revisions\nnoSearchResults=No search results found\nnoPageContentOrNotSaved=No anchors found on this page or it hasn\'t been saved yet\nnormal=Normal\nnorth=North\nnotADiagramFile=Not a diagram file\nnotALibraryFile=Not a library file\nnotAvailable=Not available\nnotAUtf8File=Not a UTF-8 file\nnotConnected=Not connected\nnote=Note\nnotUsingService=Not using {1}?\nnumberedList=Numbered list\noffline=Offline\nok=OK\noneDrive=OneDrive\nonline=Online\nopacity=Opacity\nopen=Open\nopenArrow=Open Arrow\nopenExistingDiagram=Open Existing Diagram\nopenFile=Open File\nopenFrom=Open from\nopenLibrary=Open Library\nopenLibraryFrom=Open Library from\nopenLink=Open Link\nopenInNewWindow=Open in New Window\nopenInThisWindow=Open in This Window\nopenIt=Open {1}\nopenRecent=Open Recent\nopenSupported=Supported formats are files saved from this software (.xml), .vsdx and .gliffy\noptions=Options\norganic=Organic\northogonal=Orthogonal\notherViewer=other viewer\notherViewers=other viewers\noutline=Outline\noval=Oval\npage=Page\npageContent=Page Content\npageNotFound=Page not found\npageWithNumber=Page-{1}\npages=Pages\npageView=Page View\npageSetup=Page Setup\npageScale=Page Scale\npan=Pan\npanTooltip=Space+Drag to pan\npaperSize=Paper Size\npattern=Pattern\npaste=Paste\npasteHere=Paste here\npasteSize=Paste Size\npasteStyle=Paste Style\nperimeter=Perimeter\npermissionAnyone=Anyone can edit\npermissionAuthor=Owner and admins can edit\npickFolder=Pick a folder\npickLibraryDialogTitle=Select Library\npublicDiagramUrl=Public URL of the diagram\nplaceholders=Placeholders\nplantUml=PlantUML\nplugins=Plugins\npluginUrl=Plugin URL\npluginWarning=The page has requested to load the following plugin(s):\n \n {1}\n \n Would you like to load these plugin(s) now?\n \n NOTE : Only allow plugins to run if you fully understand the security implications of doing so.\n\nplusTooltip=Click to connect and clone (ctrl+click to clone, shift+click to connect). Drag to connect (ctrl+drag to clone).\nportrait=Portrait\nposition=Position\nposterPrint=Poster Print\npreferences=Preferences\npreview=Preview\npreviousPage=Previous Page\nprint=Print\nprintAllPages=Print All Pages\nprocEng=Proc. Eng.\nproject=Project\nprop=Prop\npriority=Priority\nproperties=Properties\npublish=Publish\nquickStart=Quick Start Video\nrack=Rack\nradialTree=Radial Tree\nreadOnly=Read-only\nreconnecting=Reconnecting\nrecentlyUpdated=Recently Updated\nrecentlyViewed=Recently Viewed\nrectangle=Rectangle\nredirectToNewApp=This file was created or modified in a newer version of this app. You will be redirected now.\nrealtimeTimeout=It looks like you\'ve made a few changes while offline. We\'re sorry, these changes cannot be saved.\nredo=Redo\nrefresh=Refresh\nregularExpression=Regular Expression\nrelative=Relative\nrelativeUrlNotAllowed=Relative URL not allowed\nrememberMe=Remember me\nrememberThisSetting=Remember this setting\nremoveFormat=Clear Formatting\nremoveFromGroup=Remove from Group\nremoveIt=Remove {1}\nremoveWaypoint=Remove Waypoint\nrename=Rename\nrenamed=Renamed\nrenameIt=Rename {1}\nrenaming=Renaming\nreplace=Replace\nreplaceIt={1} already exists. Do you want to replace it?\nreplaceExistingDrawing=Replace existing drawing\nrequired=required\nreset=Reset\nresetView=Reset View\nresize=Resize\nresizeLargeImages=Do you want to resize large images to make the application run faster?\nretina=Retina\nresponsive=Responsive\nrestore=Restore\nrestoring=Restoring\nretryingIn=Retrying in {1} second(s)\nretryingLoad=Load failed. Retrying...\nretryingLogin=Login time out. Retrying...\nreverse=Reverse\nrevision=Revision\nrevisionHistory=Revision History\nrhombus=Rhombus\nright=Right\nrightAlign=Right Align\nrightToLeft=Right to left\nrotate=Rotate\nrotateTooltip=Click and drag to rotate, click to turn shape only by 90 degrees\nrotation=Rotation\nrounded=Rounded\nsal=SAL\nsave=Save\nsaveAndExit=Save & Exit\nsaveAs=Save as\nsaveAsXmlFile=Save as XML file?\nsaved=Saved\nsaveDiagramsTo=Save diagrams to\nsaveLibrary403=Insufficient permissions to edit this library\nsaveLibrary500=There was an error while saving the library\nsaving=Saving\nscratchpad=Scratchpad\nscrollbars=Scrollbars\nsearch=Search\nsearchShapes=Search Shapes\nselectAll=Select All\nselectionOnly=Selection Only\nselectCard=Select Card\nselectEdges=Select Edges\nselectFile=Select File\nselectFolder=Select Folder\nselectFont=Select Font\nselectNone=Select None\nselectTemplate=Select Template\nselectVertices=Select Vertices\nsendMessage=Send\nsendYourFeedbackToDrawIo=Send your feedback to draw.io\nserviceUnavailableOrBlocked=Service unavailable or blocked\nsessionExpired=Your session has expired. Please refresh the browser window.\nsessionTimeoutOnSave=Your session has timed out and you have been disconnected from the Google Drive. Press OK to login and save. \nsetAsDefaultStyle=Set as Default Style\nshadow=Shadow\nshape=Shape\nshapes=Shapes\nshare=Share\nshareLink=Link for shared editing\nsharp=Sharp\nshow=Show\nshowStartScreen=Show Start Screen\nsidebarTooltip=Click to expand. Drag and drop shapes into the diagram. Shift+click to change selection. Alt+click to insert and connect.\nsigns=Signs\nsignOut=Sign out\nsimple=Simple\nsimpleArrow=Simple Arrow\nsimpleViewer=Simple Viewer\nsize=Size\nsolid=Solid\nsourceSpacing=Source Spacing\nsouth=South\nsoftware=Software\nspace=Space\nspacing=Spacing\nspecialLink=Special Link\nstandard=Standard\nstarting=Starting\nstraight=Straight\nstrikethrough=Strikethrough\nstrokeColor=Line Color\nstyle=Style\nsubnetNames=Subnet Name(s)\nsubscript=Subscript\nsummary=Summary\nsuperscript=Superscript\nsupport=Support\nsysml=SysML\ntag=Tag\ntags=Tags\ntable=Table\ntables=Tables\ntakeOver=Take Over\ntargetSpacing=Target Spacing\ntemplate=Template\ntemplates=Templates\ntext=Text\ntextAlignment=Text Alignment\ntextOpacity=Text Opacity\ntheme=Theme\ntimeout=Timeout\ntitle=Title\nto=to\ntoBack=To Back\ntoFront=To Front\ntoolbar=Toolbar\ntooltips=Tooltips\ntop=Top\ntopAlign=Top Align\ntopLeft=Top Left\ntopRight=Top Right\ntransparent=Transparent\ntransparentBackground=Transparent Background\ntrello=Trello\ntryAgain=Try again\ntryOpeningViaThisPage=Try opening via this page\nturn=Rotate shape only by 90\ntype=Type\ntwitter=Twitter\numl=UML\nunderline=Underline\nundo=Undo\nungroup=Ungroup\nunsavedChanges=Unsaved changes\nunsavedChangesClickHereToSave=Unsaved changes. Click here to save.\nuntitled=Untitled\nuntitledDiagram=Untitled Diagram\nuntitledLayer=Untitled Layer\nuntitledLibrary=Untitled Library\nunknownError=Unknown error\nupdateFile=Update {1}\nupdatingDocument=Updating Document. Please wait...\nupdatingPreview=Updating Preview. Please wait...\nupdatingSelection=Updating Selection. Please wait...\nupload=Upload\nurl=URL\nuseOffline=Use Offline\nuseRootFolder=Use root folder?\nuserManual=User Manual\nvertical=Vertical\nverticalFlow=Vertical Flow\nverticalTree=Vertical Tree\nview=View\nviewerSettings=Viewer Settings\nviewUrl=Link to view: {1}\nvoiceAssistant=Voice Assistant (beta)\nwarning=Warning\nwaypoints=Waypoints\nwest=West\nwidth=Width\nwiki=Wiki\nwordWrap=Word Wrap\nwritingDirection=Writing Direction\nyes=Yes\nyourEmailAddress=Your email address\nzone=Zone\nzoom=Zoom\nzoomIn=Zoom In\nzoomOut=Zoom Out\nbasic=Basic\nbusinessprocess=Business Processes\ncharts=Charts\nengineering=Engineering\nflowcharts=Flowcharts\ngmdl=Material Design\nmindmaps=Mindmaps\nmockups=Mockups\nnetworkdiagrams=Network Diagrams\nnothingIsSelected=Nothing is selected\nother=Other\nsoftwaredesign=Software Design\nvenndiagrams=Venn Diagrams\nwebEmailOrOther=Web, email or any other internet address\nwebLink=Web Link\nwireframes=Wireframes\nproperty=Property\nvalue=Value\nshowMore=Show More\nshowLess=Show Less\nmyDiagrams=My Diagrams\nallDiagrams=All Diagrams\nrecentlyUsed=Recently used\nlistView=List view\ngridView=Grid view\nresultsFor=Results for \'{1}\'\noneDriveCharsNotAllowed=The following characters are not allowed: ~ " # %  * : < > ? /  { | }\noneDriveInvalidDeviceName=The specified device name is invalid\nofficeNotLoggedOD=You are not logged in to OneDrive. Please open draw.io task pane and login first.\nofficeSelectSingleDiag=Please select a single draw.io diagram only without other contents.\nofficeSelectDiag=Please select a draw.io diagram.\nofficeCannotFindDiagram=Cannot find a draw.io diagram in the selection\nnoDiagrams=No diagrams found\nauthFailed=Authentication failed\nofficeFailedAuthMsg=Unable to successfully authenticate user or authorize application.\nconvertingDiagramFailed=Converting diagram failed\nofficeCopyImgErrMsg=Due to some limitations in the host application, the image could not be inserted. Please manually copy the image then paste it to the document.\ninsertingImageFailed=Inserting image failed\nofficeCopyImgInst=Instructions: Right-click the image below. Select "Copy image" from the context menu. Then, in the document, right-click and select "Paste" from the context menu.\nfolderEmpty=Folder is empty\nrecent=Recent\nsharedWithMe=Shared With Me\nsharepointSites=Sharepoint Sites\nerrorFetchingFolder=Error fetching folder items\nerrorAuthOD=Error authenticating to OneDrive\nofficeCannotFindDiagram=Cannot find a draw.io diagram in the selection\nofficeMainHeader=draw.io adds diagrams from OneDrive to your document.\nofficeStepsHeader=This add-in performs the following steps:\nofficeStep1=Connects to OneDrive.\nofficeStep2=Select a draw.io diagram from OneDrive.\nofficeStep3=Insert the diagram into the document.\nofficeAuthPopupInfo=Please complete the authentication in the pop-up window.\nofficeSelDiag=Select draw.io Diagram:\nfiles=Files\nshared=Shared\nsharepoint=Sharepoint\nofficeManualUpdateInst=Instructions: Copy draw.io diagram from the document. Then, in the box below, right-click and select "Paste" from the context menu.\nofficeClickToEdit=Click icon to start editing:\npasteDiagram=Paste draw.io diagram here\nconnectOD=Connect to OneDrive\nselectChildren=Select Children\nselectSiblings=Select Siblings\nselectParent=Select Parent\nselectDescendants=Select Descendants\nlastSaved=Last saved {1} ago\nresolve=Resolve\nreopen=Re-open\nshowResolved=Show Resolved\nreply=Reply\nobjectNotFound=Object not found\nreOpened=Re-opened\nmarkedAsResolved=Marked as resolved\nnoCommentsFound=No comments found\ncomments=Comments\ntimeAgo={1} ago\nconfluenceCloud=Confluence Cloud\nlibraries=Libraries\nconfAnchor=Confluence Page Anchor\nconfTimeout=The connection has timed out\nconfSrvTakeTooLong=The server at {1} is taking too long to respond.\nconfCannotInsertNew=Cannot insert draw.io diagram to a new Confluence page\nconfSaveTry=Please save the page and try again.\nconfCannotGetID=Unable to determine page ID\nconfContactAdmin=Please contact your Confluence administrator.\nreadErr=Read Error\neditingErr=Editing Error\nconfExtEditNotPossible=This diagram cannot be edited externally. Please try editing it while editing the page\nconfEditedExt=Diagram/Page edited externally\ndiagNotFound=Diagram Not Found\nconfEditedExtRefresh=Diagram/Page is edited externally. Please, refresh the page.\nconfCannotEditDraftDelOrExt=Cannot edit diagrams in a draft page, diagram is deleted from the page, or diagram is edited externally. Please, check the page.\nretBack=Return back\nconfDiagNotPublished=The diagram does not belong to a published page\ncreatedByDraw=Created by Draw.io\nfilenameShort=Filename too short\ninvalidChars=Invalid characters\nalreadyExst={1} already exists\ndraftReadErr=Draft Read Error\ndiagCantLoad=Diagram cannot be loaded\ndraftWriteErr=Draft Write Error\ndraftCantCreate=Draft could not be created\nconfDuplName=Duplicate diagram name detected. Please pick another name.\nconfSessionExpired=Looks like your session expired. Log in again to keep working.\nlogin=Login\ndrawPrev=draw.io preview\ndrwaDiag=draw.io diagram\nunknownErr=Unkown Error\ninvalidCallFnNotFound=Invalid Call: {1} is not found.\ninvalidCallErrOccured=Invalid Call: An error occured, {1}\nanonymous=Anonymous\nconfGotoPage=Go to containing page\nshowComments=Show Comments\nconfError=Error: {1}\ngliffyImport=Gliffy Import\ngliffyImportInst1=Click the "Start Import" button to import all Gliffy diagrams to draw.io.\ngliffyImportInst2=Please note that the import procedure will take some time and the browser window must remain open until the import is completed.\nstartImport=Start Import\ndrawConfig=draw.io Configuration\ncustomLib=Custom Libraries\ncustomTemp=Custom Templates\npageIdsExp=Page IDs Export\ndrawReindex=draw.io re-indexing (Beta)\nworking=Working\ndrawConfigNotFoundInst=draw.io Configuration Space (DRAWIOCONFIG) does not exist. This space is needed to store draw.io configuration files and custom libraries/templates.\ncreateConfSp=Create Config Space\nunexpErrRefresh=Unexpected error, please refresh the page and try again.\nconfigJSONInst=Write draw.io JSON configuration in the editor below then click save. If you need help, please refer to\nthisPage=this page\ncurCustLib=Current Custom Libraries\nlibName=Library Name\naction=Action\ndrawConfID=draw.io Config ID\naddLibInst=Click the "Add Library" button to upload a new library.\naddLib=Add Library\ncustomTempInst1=Custom Templates are draw.io diagrams saved in children pages of\ncustomTempInst2=For more details, please refer to\ntempsPage=Templates page\npageIdsExpInst1=Click the "Start Export" button to export all pages IDs.\npageIdsExpInst2=Please note that the export procedure will take some time and the browser window must remain open until the export is completed.\nstartExp=Start Export\nrefreshDrawIndex=Refresh draw.io Diagrams Index\nreindexInst1=Click the "Start Indexing" button to refresh draw.io diagrams index.\nreindexInst2=Please note that the indexing procedure will take some time and the browser window must remain open until the indexing is completed.\nstartIndexing=Start Indexing\nconfAPageFoundFetch=Page "{1}" found. Fetching\nconfAAllDiagDone=All {1} diagrams processed. Process finished!\nconfAStartedProcessing=Started processing page "{1}"\nconfAAllDiagInPageDone=All {1} diagrams in page "{2}" processed successfully.\nconfAPartialDiagDone={1} out of {2} {3} diagrams in page "{4}" processed successfully.\nconfAUpdatePageFailed=Updating page "{1}" failed.\nconfANoDiagFoundInPage=No {1} diagrams found in page "{2}".\nconfAFetchPageFailed=Fetching the page failed.\nconfANoDiagFound=No {1} diagrams found. Process finished.\nconfASearchFailed=Searching for {1} diagrams failed. Please try again later.\nconfAGliffyDiagFound=Gliffy diagram "{1}" found. Importing\nconfAGliffyDiagImported=Gliffy diagram "{1}" imported successfully.\nconfASavingImpGliffyFailed=Saving imported Gliffy diagram "{1}" failed.\nconfAImportedFromByDraw=Imported from "{1}" by draw.io\nconfAImportGliffyFailed=Importing Gliffy diagram "{1}" failed.\nconfAFetchGliffyFailed=Fetching Gliffy diagram "{1}" failed.\nconfACheckBrokenDiagLnk=Checking for broken diagrams links.\nconfADelDiagLinkOf=Deleting diagram link of "{1}"\nconfADupLnk=(duplicate link)\nconfADelDiagLnkFailed=Deleting  diagram link of "{1}" failed.\nconfAUnexpErrProcessPage=Unexpected error during processing the page with id: {1}\nconfADiagFoundIndex=Diagram "{1}" found. Indexing\nconfADiagIndexSucc=Diagram "{1}" indexed successfully.\nconfAIndexDiagFailed=Indexing diagram "{1}" failed.\nconfASkipDiagOtherPage=Skipped "{1}" as it belongs to another page!\nconfADiagUptoDate=Diagram "{1}" is up to date.\nconfACheckPagesWDraw=Checking pages having draw.io diagrams.\nconfAErrOccured=An error occured!\nsavedSucc=Saved successfully\nconfASaveFailedErr=Saving Failed (Unexpected Error)\ncharacter=Character\nconfAConfPageDesc=This page contains draw.io configuration file (configuration.json) as attachment\nconfALibPageDesc=This page contains draw.io custom libraries as attachments\nconfATempPageDesc=This page contains draw.io custom templates as attachments\nworking=Working\nconfAConfSpaceDesc=This space is used to store draw.io configuration files and custom libraries/templates\nconfANoCustLib=No Custom Libraries\ndelFailed=Delete failed!\nshowID=Show ID\nconfAIncorrectLibFileType=Incorrect file type. Libraries should be XML files.\nuploading=Uploading\nconfALibExist=This library already exists\nconfAUploadSucc=Uploaded successfully\nconfAUploadFailErr=Upload Failed (Unexpected Error)\nanalyze=Analyze Network Diagram\nfromTemplate=New From Template\n');Graph.prototype.defaultThemes["default-style2"]=mxUtils.parseXml('<mxStylesheet><add as="defaultVertex"><add as="shape" value="label"/><add as="perimeter" value="rectanglePerimeter"/><add as="fontSize" value="12"/><add as="fontFamily" value="Helvetica"/><add as="align" value="center"/><add as="verticalAlign" value="middle"/><add as="fillColor" value="#ffffff"/><add as="strokeColor" value="#000000"/><add as="fontColor" value="#000000"/></add><add as="defaultEdge"><add as="shape" value="connector"/><add as="labelBackgroundColor" value="#ffffff"/><add as="endArrow" value="classic"/><add as="fontSize" value="11"/><add as="fontFamily" value="Helvetica"/><add as="align" value="center"/><add as="verticalAlign" value="middle"/><add as="rounded" value="1"/><add as="strokeColor" value="#000000"/><add as="fontColor" value="#000000"/></add><add as="fancy"><add as="shadow" value="1"/><add as="glass" value="1"/></add><add as="gray" extend="fancy"><add as="gradientColor" value="#B3B3B3"/><add as="fillColor" value="#F5F5F5"/><add as="strokeColor" value="#666666"/></add><add as="blue" extend="fancy"><add as="gradientColor" value="#7EA6E0"/><add as="fillColor" value="#DAE8FC"/><add as="strokeColor" value="#6C8EBF"/></add><add as="green" extend="fancy"><add as="gradientColor" value="#97D077"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#82B366"/></add><add as="turquoise" extend="fancy"><add as="gradientColor" value="#67AB9F"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#6A9153"/></add><add as="yellow" extend="fancy"><add as="gradientColor" value="#FFD966"/><add as="fillColor" value="#FFF2CC"/><add as="strokeColor" value="#D6B656"/></add><add as="orange" extend="fancy"><add as="gradientColor" value="#FFA500"/><add as="fillColor" value="#FFCD28"/><add as="strokeColor" value="#D79B00"/></add><add as="red" extend="fancy"><add as="gradientColor" value="#EA6B66"/><add as="fillColor" value="#F8CECC"/><add as="strokeColor" value="#B85450"/></add><add as="pink" extend="fancy"><add as="gradientColor" value="#B5739D"/><add as="fillColor" value="#E6D0DE"/><add as="strokeColor" value="#996185"/></add><add as="purple" extend="fancy"><add as="gradientColor" value="#8C6C9C"/><add as="fillColor" value="#E1D5E7"/><add as="strokeColor" value="#9673A6"/></add><add as="plain-gray"><add as="gradientColor" value="#B3B3B3"/><add as="fillColor" value="#F5F5F5"/><add as="strokeColor" value="#666666"/></add><add as="plain-blue"><add as="gradientColor" value="#7EA6E0"/><add as="fillColor" value="#DAE8FC"/><add as="strokeColor" value="#6C8EBF"/></add><add as="plain-green"><add as="gradientColor" value="#97D077"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#82B366"/></add><add as="plain-turquoise"><add as="gradientColor" value="#67AB9F"/><add as="fillColor" value="#D5E8D4"/><add as="strokeColor" value="#6A9153"/></add><add as="plain-yellow"><add as="gradientColor" value="#FFD966"/><add as="fillColor" value="#FFF2CC"/><add as="strokeColor" value="#D6B656"/></add><add as="plain-orange"><add as="gradientColor" value="#FFA500"/><add as="fillColor" value="#FFCD28"/><add as="strokeColor" value="#D79B00"/></add><add as="plain-red"><add as="gradientColor" value="#EA6B66"/><add as="fillColor" value="#F8CECC"/><add as="strokeColor" value="#B85450"/></add><add as="plain-pink"><add as="gradientColor" value="#B5739D"/><add as="fillColor" value="#E6D0DE"/><add as="strokeColor" value="#996185"/></add><add as="plain-purple"><add as="gradientColor" value="#8C6C9C"/><add as="fillColor" value="#E1D5E7"/><add as="strokeColor" value="#9673A6"/></add><add as="text"><add as="fillColor" value="none"/><add as="gradientColor" value="none"/><add as="strokeColor" value="none"/><add as="align" value="left"/><add as="verticalAlign" value="top"/></add><add as="label"><add as="fontStyle" value="1"/><add as="align" value="left"/><add as="verticalAlign" value="middle"/><add as="spacing" value="2"/><add as="spacingLeft" value="52"/><add as="imageWidth" value="42"/><add as="imageHeight" value="42"/><add as="rounded" value="1"/></add><add as="icon" extend="label"><add as="align" value="center"/><add as="imageAlign" value="center"/><add as="verticalLabelPosition" value="bottom"/><add as="verticalAlign" value="top"/><add as="spacingTop" value="4"/><add as="labelBackgroundColor" value="#ffffff"/><add as="spacing" value="0"/><add as="spacingLeft" value="0"/><add as="spacingTop" value="6"/><add as="fontStyle" value="0"/><add as="imageWidth" value="48"/><add as="imageHeight" value="48"/></add><add as="swimlane"><add as="shape" value="swimlane"/><add as="fontSize" value="12"/><add as="fontStyle" value="1"/><add as="startSize" value="23"/></add><add as="group"><add as="verticalAlign" value="top"/><add as="fillColor" value="none"/><add as="strokeColor" value="none"/><add as="gradientColor" value="none"/><add as="pointerEvents" value="0"/></add><add as="ellipse"><add as="shape" value="ellipse"/><add as="perimeter" value="ellipsePerimeter"/></add><add as="rhombus"><add as="shape" value="rhombus"/><add as="perimeter" value="rhombusPerimeter"/></add><add as="triangle"><add as="shape" value="triangle"/><add as="perimeter" value="trianglePerimeter"/></add><add as="line"><add as="shape" value="line"/><add as="strokeWidth" value="4"/><add as="labelBackgroundColor" value="#ffffff"/><add as="verticalAlign" value="top"/><add as="spacingTop" value="8"/></add><add as="image"><add as="shape" value="image"/><add as="labelBackgroundColor" value="white"/><add as="verticalAlign" value="top"/><add as="verticalLabelPosition" value="bottom"/></add><add as="roundImage" extend="image"><add as="perimeter" value="ellipsePerimeter"/></add><add as="rhombusImage" extend="image"><add as="perimeter" value="rhombusPerimeter"/></add><add as="arrow"><add as="shape" value="arrow"/><add as="edgeStyle" value="none"/><add as="fillColor" value="#ffffff"/></add></mxStylesheet>').documentElement;
Graph.prototype.defaultThemes.darkTheme=mxUtils.parseXml('<mxStylesheet><add as="defaultVertex"><add as="shape" value="label"/><add as="perimeter" value="rectanglePerimeter"/><add as="fontSize" value="12"/><add as="fontFamily" value="Helvetica"/><add as="align" value="center"/><add as="verticalAlign" value="middle"/><add as="fillColor" value="#2a2a2a"/><add as="strokeColor" value="#f0f0f0"/><add as="fontColor" value="#f0f0f0"/></add><add as="defaultEdge"><add as="shape" value="connector"/><add as="labelBackgroundColor" value="#2a2a2a"/><add as="endArrow" value="classic"/><add as="fontSize" value="11"/><add as="fontFamily" value="Helvetica"/><add as="align" value="center"/><add as="verticalAlign" value="middle"/><add as="rounded" value="1"/><add as="strokeColor" value="#f0f0f0"/><add as="fontColor" value="#f0f0f0"/></add><add as="text"><add as="fillColor" value="none"/><add as="gradientColor" value="none"/><add as="strokeColor" value="none"/><add as="align" value="left"/><add as="verticalAlign" value="top"/></add><add as="label"><add as="fontStyle" value="1"/><add as="align" value="left"/><add as="verticalAlign" value="middle"/><add as="spacing" value="2"/><add as="spacingLeft" value="52"/><add as="imageWidth" value="42"/><add as="imageHeight" value="42"/><add as="rounded" value="1"/></add><add as="icon" extend="label"><add as="align" value="center"/><add as="imageAlign" value="center"/><add as="verticalLabelPosition" value="bottom"/><add as="verticalAlign" value="top"/><add as="spacingTop" value="4"/><add as="labelBackgroundColor" value="#2a2a2a"/><add as="spacing" value="0"/><add as="spacingLeft" value="0"/><add as="spacingTop" value="6"/><add as="fontStyle" value="0"/><add as="imageWidth" value="48"/><add as="imageHeight" value="48"/></add><add as="swimlane"><add as="shape" value="swimlane"/><add as="fontSize" value="12"/><add as="fontStyle" value="1"/><add as="startSize" value="23"/></add><add as="group"><add as="verticalAlign" value="top"/><add as="fillColor" value="none"/><add as="strokeColor" value="none"/><add as="gradientColor" value="none"/><add as="pointerEvents" value="0"/></add><add as="ellipse"><add as="shape" value="ellipse"/><add as="perimeter" value="ellipsePerimeter"/></add><add as="rhombus"><add as="shape" value="rhombus"/><add as="perimeter" value="rhombusPerimeter"/></add><add as="triangle"><add as="shape" value="triangle"/><add as="perimeter" value="trianglePerimeter"/></add><add as="line"><add as="shape" value="line"/><add as="strokeWidth" value="4"/><add as="labelBackgroundColor" value="#2a2a2a"/><add as="verticalAlign" value="top"/><add as="spacingTop" value="8"/></add><add as="image"><add as="shape" value="image"/><add as="labelBackgroundColor" value="#2a2a2a"/><add as="verticalAlign" value="top"/><add as="verticalLabelPosition" value="bottom"/></add><add as="roundImage" extend="image"><add as="perimeter" value="ellipsePerimeter"/></add><add as="rhombusImage" extend="image"><add as="perimeter" value="rhombusPerimeter"/></add><add as="arrow"><add as="shape" value="arrow"/><add as="edgeStyle" value="none"/><add as="fillColor" value="#2a2a2a"/></add></mxStylesheet>').documentElement;GraphViewer=function $GraphViewer$($container$$,$xmlNode$$,$graphConfig$$){this.init($container$$,$xmlNode$$,$graphConfig$$)};mxUtils.extend(GraphViewer,mxEventSource);GraphViewer.prototype.editBlankUrl="https://www.draw.io/";GraphViewer.prototype.imageBaseUrl="https://www.draw.io/";GraphViewer.prototype.toolbarHeight="BackCompat"==document.compatMode?28:30;GraphViewer.prototype.lightboxChrome=!0;GraphViewer.prototype.lightboxZIndex=999;GraphViewer.prototype.toolbarZIndex=999;
GraphViewer.prototype.autoFit=!0;GraphViewer.prototype.allowZoomIn=!1;GraphViewer.prototype.showTitleAsTooltip=!1;GraphViewer.prototype.checkVisibleState=!0;GraphViewer.prototype.minHeight=28;GraphViewer.prototype.minWidth=100;
GraphViewer.prototype.init=function $GraphViewer$$init$($container$$,$xmlNode$$,$MutObs_graphConfig$$){this.graphConfig=null!=$MutObs_graphConfig$$?$MutObs_graphConfig$$:{};this.autoFit=null!=this.graphConfig["auto-fit"]?this.graphConfig["auto-fit"]:this.autoFit;this.allowZoomIn=null!=this.graphConfig["allow-zoom-in"]?this.graphConfig["allow-zoom-in"]:this.allowZoomIn;this.checkVisibleState=null!=this.graphConfig["check-visible-state"]?this.graphConfig["check-visible-state"]:this.checkVisibleState;
this.toolbarItems=null!=this.graphConfig.toolbar?this.graphConfig.toolbar.split(" "):[];this.zoomEnabled=0<=mxUtils.indexOf(this.toolbarItems,"zoom");this.layersEnabled=0<=mxUtils.indexOf(this.toolbarItems,"layers");this.lightboxEnabled=0<=mxUtils.indexOf(this.toolbarItems,"lightbox");this.lightboxClickEnabled=0!=this.graphConfig.lightbox;this.initialWidth=null!=$container$$?$container$$.style.width:null;this.widthIsEmpty=null!=this.initialWidth?""==this.initialWidth:!0;this.currentPage=parseInt(this.graphConfig.page)||
0;this.pageId=this.graphConfig.pageId;this.editor=null;"inline"==this.graphConfig["toolbar-position"]&&(this.minHeight+=this.toolbarHeight);if(null!=$xmlNode$$&&(this.xmlDocument=$xmlNode$$.ownerDocument,this.xmlNode=$xmlNode$$,this.xml=mxUtils.getXml($xmlNode$$),null!=$container$$)){var $render$$=mxUtils.bind(this,function(){this.graph=new Graph($container$$);this.graph.transparentBackground=!1;this.graphConfig.move&&(this.graph.isMoveCellsEvent=function $this$graph$isMoveCellsEvent$($evt$$){return!0});
this.lightboxClickEnabled&&($container$$.style.cursor="pointer");this.editor=new Editor(!0,null,null,this.graph);this.editor.editBlankUrl=this.editBlankUrl;this.graph.lightbox=!0;this.graph.centerZoom=!1;this.graph.autoExtend=!1;this.graph.autoScroll=!1;this.graph.setEnabled(!1);1==this.graphConfig["toolbar-nohide"]&&(this.editor.defaultGraphOverflow="visible");this.xmlNode=this.editor.extractGraphModel(this.xmlNode,!0);var $self$$=this;this.graph.getImageFromBundles=function $this$graph$getImageFromBundles$($key$$){return $self$$.getImageUrl($key$$)};
mxClient.IS_SVG&&this.editor.graph.addSvgShadow(this.graph.view.canvas.ownerSVGElement,null,!0);if("mxfile"==$xmlNode$$.nodeName){var $diagrams$$=$xmlNode$$.getElementsByTagName("diagram");if(0<$diagrams$$.length){if(null!=this.pageId)for(var $i$jscomp$168_update$$=0;$i$jscomp$168_update$$<$diagrams$$.length;$i$jscomp$168_update$$++)if(this.pageId==$diagrams$$[$i$jscomp$168_update$$].getAttribute("id")){this.currentPage=$i$jscomp$168_update$$;break}var $graphGetGlobalVariable$$=this.graph.getGlobalVariable,
$self$$=this;this.graph.getGlobalVariable=function $this$graph$getGlobalVariable$($name$$){var $diagram$$=$diagrams$$[$self$$.currentPage];return"page"==$name$$?$diagram$$.getAttribute("name")||"Page-"+($self$$.currentPage+1):"pagenumber"==$name$$?$self$$.currentPage+1:$graphGetGlobalVariable$$.apply(this,arguments)}}}this.diagrams=[];var $lastXmlNode$$=null;this.selectPage=function $this$selectPage$($number$$){this.handlingResize||(this.currentPage=mxUtils.mod($number$$,this.diagrams.length),this.updateGraphXml(mxUtils.parseXml(Graph.decompress(mxUtils.getTextContent(this.diagrams[this.currentPage]))).documentElement))};
this.selectPageById=function $this$selectPageById$($id$$){for(var $found$$=!1,$i$$=0;$i$$<this.diagrams.length;$i$$++)if(this.diagrams[$i$$].getAttribute("id")==$id$$){this.selectPage($i$$);$found$$=!0;break}return $found$$};$i$jscomp$168_update$$=mxUtils.bind(this,function(){if(null==this.xmlNode||"mxfile"!=this.xmlNode.nodeName)this.diagrams=[];this.xmlNode!=$lastXmlNode$$&&(this.diagrams=this.xmlNode.getElementsByTagName("diagram"),$lastXmlNode$$=this.xmlNode)});this.addListener("xmlNodeChanged",
$i$jscomp$168_update$$);$i$jscomp$168_update$$();urlParams.page=$self$$.currentPage;this.graph.getModel().beginUpdate();try{urlParams.nav=0!=this.graphConfig.nav?"1":"0",this.editor.setGraphXml(this.xmlNode),this.graph.border=null!=this.graphConfig.border?this.graphConfig.border:8,this.graph.view.scale=this.graphConfig.zoom||1}finally{this.graph.getModel().endUpdate()}this.graph.panningHandler.useLeftButtonForPanning=!0;this.graph.panningHandler.isForcePanningEvent=function $this$graph$panningHandler$isForcePanningEvent$($me$$){return!mxEvent.isPopupTrigger($me$$.getEvent())&&
"auto"==this.graph.container.style.overflow};this.graph.panningHandler.usePopupTrigger=!1;this.graph.panningHandler.pinchEnabled=!1;this.graph.panningHandler.ignoreCell=!0;this.graph.setPanning(!1);this.addSizeHandler();this.showLayers(this.graph);this.addClickHandler(this.graph);this.graph.setTooltips(0!=this.graphConfig.tooltips);this.graph.initialViewState={translate:this.graph.view.translate.clone(),scale:this.graph.view.scale};$self$$=this;this.graph.customLinkClicked=function $this$graph$customLinkClicked$($href$$){var $done$$=
!0;if("data:page/id,"==$href$$.substring(0,13)){var $comma$$=$href$$.indexOf(",");$self$$.selectPageById($href$$.substring($comma$$+1))||($done$$=!1,alert(mxResources.get("pageNotFound")||"Page not found"))}else this.handleCustomLink($href$$);return $done$$};null!=this.graphConfig.toolbar?this.addToolbar():null!=this.graphConfig.title&&this.showTitleAsTooltip&&$container$$.setAttribute("title",this.graphConfig.title);this.fireEvent(new mxEventObject("render"))});$MutObs_graphConfig$$=window.MutationObserver||
window.WebKitMutationObserver||window.MozMutationObserver;if(this.checkVisibleState&&0==$container$$.offsetWidth&&"undefined"!==typeof $MutObs_graphConfig$$){var $par$$=this.getObservableParent($container$$),$observer$$=new $MutObs_graphConfig$$(mxUtils.bind(this,function($mutation$$){0<$container$$.offsetWidth&&($observer$$.disconnect(),$render$$())}));$observer$$.observe($par$$,{attributes:!0})}else $render$$()}};
GraphViewer.prototype.getObservableParent=function $GraphViewer$$getObservableParent$($container$jscomp$16_node$$){for($container$jscomp$16_node$$=$container$jscomp$16_node$$.parentNode;$container$jscomp$16_node$$!=document.body&&null!=$container$jscomp$16_node$$.parentNode&&"none"!==mxUtils.getCurrentStyle($container$jscomp$16_node$$).display;)$container$jscomp$16_node$$=$container$jscomp$16_node$$.parentNode;return $container$jscomp$16_node$$};
GraphViewer.prototype.getImageUrl=function $GraphViewer$$getImageUrl$($url$$){null!=$url$$&&"http://"!=$url$$.substring(0,7)&&"https://"!=$url$$.substring(0,8)&&"data:image"!=$url$$.substring(0,10)&&("/"==$url$$.charAt(0)&&($url$$=$url$$.substring(1,$url$$.length)),$url$$=this.imageBaseUrl+$url$$);return $url$$};
GraphViewer.prototype.setXmlNode=function $GraphViewer$$setXmlNode$($xmlNode$$){this.xmlDocument=$xmlNode$$.ownerDocument;this.xml=mxUtils.getXml($xmlNode$$);this.xmlNode=$xmlNode$$;this.updateGraphXml($xmlNode$$);this.fireEvent(new mxEventObject("xmlNodeChanged"))};GraphViewer.prototype.setFileNode=function $GraphViewer$$setFileNode$($xmlNode$$){null==this.xmlNode&&(this.xmlDocument=$xmlNode$$.ownerDocument,this.xml=mxUtils.getXml($xmlNode$$),this.xmlNode=$xmlNode$$);this.setGraphXml($xmlNode$$)};
GraphViewer.prototype.updateGraphXml=function $GraphViewer$$updateGraphXml$($xmlNode$$){this.setGraphXml($xmlNode$$);this.fireEvent(new mxEventObject("graphChanged"))};
GraphViewer.prototype.setGraphXml=function $GraphViewer$$setGraphXml$($xmlNode$$){null!=this.graph&&(this.graph.view.translate=new mxPoint,this.graph.view.scale=1,this.graph.getModel().clear(),this.editor.setGraphXml($xmlNode$$),this.widthIsEmpty?(this.graph.container.style.width="",this.graph.container.style.height=""):this.graph.container.style.width=this.initialWidth,this.positionGraph(),this.graph.initialViewState={translate:this.graph.view.translate.clone(),scale:this.graph.view.scale})};
GraphViewer.prototype.addSizeHandler=function $GraphViewer$$addSizeHandler$(){var $container$$=this.graph.container,$bounds$$=this.graph.getGraphBounds(),$updatingOverflow$$=!1;$container$$.style.overflow=1!=this.graphConfig["toolbar-nohide"]?"hidden":"visible";var $doResize$$=mxUtils.bind(this,function(){if(!$updatingOverflow$$){$updatingOverflow$$=!0;var $r$jscomp$9_tmp$$=this.graph.getGraphBounds();$container$$.style.overflow=1!=this.graphConfig["toolbar-nohide"]?$container$$.offsetWidth<=$r$jscomp$9_tmp$$.width+
2*this.graph.border*this.graph.view.scale?"auto":"hidden":"visible";if(null!=this.toolbar&&1!=this.graphConfig["toolbar-nohide"]){var $r$jscomp$9_tmp$$=$container$$.getBoundingClientRect(),$b$jscomp$14_origin$$=mxUtils.getScrollOrigin(document.body),$b$jscomp$14_origin$$="relative"===document.body.style.position?document.body.getBoundingClientRect():{left:-$b$jscomp$14_origin$$.x,top:-$b$jscomp$14_origin$$.y},$r$jscomp$9_tmp$$={left:$r$jscomp$9_tmp$$.left-$b$jscomp$14_origin$$.left,top:$r$jscomp$9_tmp$$.top-
$b$jscomp$14_origin$$.top,bottom:$r$jscomp$9_tmp$$.bottom-$b$jscomp$14_origin$$.top,right:$r$jscomp$9_tmp$$.right-$b$jscomp$14_origin$$.left};this.toolbar.style.left=$r$jscomp$9_tmp$$.left+"px";"bottom"==this.graphConfig["toolbar-position"]?this.toolbar.style.top=$r$jscomp$9_tmp$$.bottom-1+"px":"inline"!=this.graphConfig["toolbar-position"]?(this.toolbar.style.width=Math.max(this.minToolbarWidth,$container$$.offsetWidth)+"px",this.toolbar.style.top=$r$jscomp$9_tmp$$.top+1+"px"):this.toolbar.style.top=
$r$jscomp$9_tmp$$.top+"px"}$updatingOverflow$$=!1}}),$lastOffsetWidth$$=null;this.handlingResize=!1;this.fitGraph=mxUtils.bind(this,function($maxScale$jscomp$1_tmp$$){var $cachedOffsetWidth$$=$container$$.offsetWidth;$cachedOffsetWidth$$==$lastOffsetWidth$$||this.handlingResize||(this.handlingResize=!0,this.graph.maxFitScale=null!=$maxScale$jscomp$1_tmp$$?$maxScale$jscomp$1_tmp$$:this.graphConfig.zoom||(this.allowZoomIn?null:1),this.graph.fit(null,null,null,null,!1,!0),this.graph.maxFitScale=null,
$maxScale$jscomp$1_tmp$$=this.graph.getGraphBounds(),this.updateContainerHeight($container$$,Math.max(this.minHeight,$maxScale$jscomp$1_tmp$$.height+2*this.graph.border+1)),this.graph.initialViewState={translate:this.graph.view.translate.clone(),scale:this.graph.view.scale},$lastOffsetWidth$$=$cachedOffsetWidth$$,window.setTimeout(mxUtils.bind(this,function(){this.handlingResize=!1}),0))});GraphViewer.useResizeSensor&&(mxClient.IS_QUIRKS||9>=document.documentMode?(mxEvent.addListener(window,"resize",
$doResize$$),this.graph.addListener("size",$doResize$$)):new ResizeSensor(this.graph.container,$doResize$$));if(this.graphConfig.resize||(this.zoomEnabled||!this.autoFit)&&0!=this.graphConfig.resize)this.graph.minimumContainerSize=new mxRectangle(0,0,this.minWidth,this.minHeight),this.graph.resizeContainer=!0;else if(this.widthIsEmpty&&this.updateContainerWidth($container$$,$bounds$$.width+2*this.graph.border),this.updateContainerHeight($container$$,Math.max(this.minHeight,$bounds$$.height+2*this.graph.border+
1)),!this.zoomEnabled&&this.autoFit){var $scheduledResize$$=$lastOffsetWidth$$=null,$doResize$$=mxUtils.bind(this,function(){window.clearTimeout($scheduledResize$$);this.handlingResize||($scheduledResize$$=window.setTimeout(mxUtils.bind(this,this.fitGraph),100))});GraphViewer.useResizeSensor&&(mxClient.IS_QUIRKS||9>=document.documentMode?mxEvent.addListener(window,"resize",$doResize$$):new ResizeSensor(this.graph.container,$doResize$$))}else mxClient.IS_QUIRKS||9>=document.documentMode||this.graph.addListener("size",
$doResize$$);var $positionGraph$$=mxUtils.bind(this,function(){var $prev$$=$container$$.style.minWidth;this.widthIsEmpty&&($container$$.style.minWidth="100%");if(0<$container$$.offsetWidth&&(this.allowZoomIn||$bounds$$.width+2*this.graph.border>$container$$.offsetWidth||$bounds$$.height+2*this.graph.border>this.graphConfig["max-height"])){var $maxScale$$=null;null!=this.graphConfig["max-height"]&&($maxScale$$=this.graphConfig["max-height"]/($bounds$$.height+2*this.graph.border));this.fitGraph($maxScale$$)}else this.graph.view.setTranslate(Math.floor((this.graph.border-
$bounds$$.x)/this.graph.view.scale),Math.floor((this.graph.border-$bounds$$.y)/this.graph.view.scale)),$lastOffsetWidth$$=$container$$.offsetWidth;$container$$.style.minWidth=$prev$$});mxClient.IS_QUIRKS||8==document.documentMode?window.setTimeout($positionGraph$$,0):$positionGraph$$();this.positionGraph=function $this$positionGraph$(){$bounds$$=this.graph.getGraphBounds();$lastOffsetWidth$$=null;$positionGraph$$()}};
GraphViewer.prototype.updateContainerWidth=function $GraphViewer$$updateContainerWidth$($container$$,$width$$){$container$$.style.width=$width$$+"px"};GraphViewer.prototype.updateContainerHeight=function $GraphViewer$$updateContainerHeight$($container$$,$height$$){if(this.zoomEnabled||!this.autoFit||"BackCompat"==document.compatMode||mxClient.IS_QUIRKS||8==document.documentMode)$container$$.style.height=$height$$+"px"};
GraphViewer.prototype.showLayers=function $GraphViewer$$showLayers$($graph$$,$sourceGraph$$){var $idx$jscomp$11_layers$$=this.graphConfig.layers;if(null!=$idx$jscomp$11_layers$$||null!=$sourceGraph$$)if($idx$jscomp$11_layers$$=null!=$idx$jscomp$11_layers$$?$idx$jscomp$11_layers$$.split(" "):null,null!=$sourceGraph$$||0<$idx$jscomp$11_layers$$.length){var $source$$=null!=$sourceGraph$$?$sourceGraph$$.getModel():null,$model$$=$graph$$.getModel();$model$$.beginUpdate();try{for(var $childCount$$=$model$$.getChildCount($model$$.root),
$i$$=0;$i$$<$childCount$$;$i$$++)$model$$.setVisible($model$$.getChildAt($model$$.root,$i$$),null!=$sourceGraph$$?$source$$.isVisible($source$$.getChildAt($source$$.root,$i$$)):!1);if(null==$source$$)for($i$$=0;$i$$<$idx$jscomp$11_layers$$.length;$i$$++)$model$$.setVisible($model$$.getChildAt($model$$.root,parseInt($idx$jscomp$11_layers$$[$i$$])),!0)}finally{$model$$.endUpdate()}}};
GraphViewer.prototype.addToolbar=function $GraphViewer$$addToolbar$(){function $addButton$$($fn$jscomp$48_img$$,$imgSrc$$,$tip$$,$enabled$$){var $a$$=document.createElement("div");$a$$.style.borderRight="1px solid #d0d0d0";$a$$.style.padding="3px 6px 3px 6px";mxEvent.addListener($a$$,"click",$fn$jscomp$48_img$$);null!=$tip$$&&$a$$.setAttribute("title",$tip$$);$a$$.style.display=mxClient.IS_QUIRKS?"inline":"inline-block";$fn$jscomp$48_img$$=document.createElement("img");$fn$jscomp$48_img$$.setAttribute("border",
"0");$fn$jscomp$48_img$$.setAttribute("src",$imgSrc$$);null==$enabled$$||$enabled$$?(mxEvent.addListener($a$$,"mouseenter",function(){$a$$.style.backgroundColor="#ddd"}),mxEvent.addListener($a$$,"mouseleave",function(){$a$$.style.backgroundColor="#eee"}),mxUtils.setOpacity($fn$jscomp$48_img$$,60),$a$$.style.cursor="pointer"):mxUtils.setOpacity($a$$,30);$a$$.appendChild($fn$jscomp$48_img$$);$toolbar$$.appendChild($a$$);$buttonCount$$++;return $a$$}var $container$$=this.graph.container;"bottom"==this.graphConfig["toolbar-position"]?
$container$$.style.marginBottom=this.toolbarHeight+"px":"inline"!=this.graphConfig["toolbar-position"]&&($container$$.style.marginTop=this.toolbarHeight+"px");var $toolbar$$=$container$$.ownerDocument.createElement("div");$toolbar$$.style.position="absolute";$toolbar$$.style.overflow="hidden";$toolbar$$.style.boxSizing="border-box";$toolbar$$.style.whiteSpace="nowrap";$toolbar$$.style.textAlign="left";$toolbar$$.style.zIndex=this.toolbarZIndex;$toolbar$$.style.backgroundColor="#eee";$toolbar$$.style.height=
this.toolbarHeight+"px";this.toolbar=$toolbar$$;if("inline"==this.graphConfig["toolbar-position"]){mxUtils.setPrefixedStyle($toolbar$$.style,"transition","opacity 100ms ease-in-out");mxUtils.setOpacity($toolbar$$,30);var $fadeThread$$=null,$fadeThread2$$=null,$fadeOut$$=mxUtils.bind(this,function($delay$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),fadeThead=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),fadeThead2=null);$fadeThread$$=window.setTimeout(mxUtils.bind(this,
function(){mxUtils.setOpacity($toolbar$$,0);$fadeThread$$=null;$fadeThread2$$=window.setTimeout(mxUtils.bind(this,function(){$toolbar$$.style.display="none";$fadeThread2$$=null}),100)}),$delay$$||200)}),$fadeIn$$=mxUtils.bind(this,function($opacity$$){null!=$fadeThread$$&&(window.clearTimeout($fadeThread$$),fadeThead=null);null!=$fadeThread2$$&&(window.clearTimeout($fadeThread2$$),fadeThead2=null);$toolbar$$.style.display="";mxUtils.setOpacity($toolbar$$,$opacity$$||30)});mxEvent.addListener(this.graph.container,
mxClient.IS_POINTER?"pointermove":"mousemove",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||($fadeIn$$(30),$fadeOut$$())}));mxEvent.addListener($toolbar$$,mxClient.IS_POINTER?"pointermove":"mousemove",function($evt$$){mxEvent.consume($evt$$)});mxEvent.addListener($toolbar$$,"mouseenter",mxUtils.bind(this,function($evt$$){$fadeIn$$(100)}));mxEvent.addListener($toolbar$$,"mousemove",mxUtils.bind(this,function($evt$$){$fadeIn$$(100);mxEvent.consume($evt$$)}));mxEvent.addListener($toolbar$$,
"mouseleave",mxUtils.bind(this,function($evt$$){mxEvent.isTouchEvent($evt$$)||$fadeIn$$(30)}));var $graph$$=this.graph,$tol$$=$graph$$.getTolerance();$graph$$.addMouseListener({startX:0,startY:0,scrollLeft:0,scrollTop:0,mouseDown:function($sender$$,$me$$){this.startX=$me$$.getGraphX();this.startY=$me$$.getGraphY();this.scrollLeft=$graph$$.container.scrollLeft;this.scrollTop=$graph$$.container.scrollTop},mouseMove:function($sender$$,$me$$){},mouseUp:function($sender$$,$me$$){mxEvent.isTouchEvent($me$$.getEvent())&&
Math.abs(this.scrollLeft-$graph$$.container.scrollLeft)<$tol$$&&Math.abs(this.scrollTop-$graph$$.container.scrollTop)<$tol$$&&Math.abs(this.startX-$me$$.getGraphX())<$tol$$&&Math.abs(this.startY-$me$$.getGraphY())<$tol$$&&(0<parseFloat($toolbar$$.style.opacity||0)?$fadeOut$$():$fadeIn$$(30))}})}for(var $enter_filename$jscomp$24_tokens$$=this.toolbarItems,$buttonCount$$=0,$layersDialog$$=null,$pageInfo$$=null,$i$$=0;$i$$<$enter_filename$jscomp$24_tokens$$.length;$i$$++){var $def_token$jscomp$3_update$$=
$enter_filename$jscomp$24_tokens$$[$i$$];if("pages"==$def_token$jscomp$3_update$$){$pageInfo$$=$container$$.ownerDocument.createElement("div");$pageInfo$$.style.cssText="display:inline-block;position:relative;padding:3px 4px 0 4px;vertical-align:top;font-family:Helvetica,Arial;font-size:12px;top:4px;cursor:default;";mxUtils.setOpacity($pageInfo$$,70);var $prevButton$$=$addButton$$(mxUtils.bind(this,function(){this.selectPage(this.currentPage-1)}),Editor.previousImage,mxResources.get("previousPage")||
"Previous Page");$prevButton$$.style.borderRightStyle="none";$prevButton$$.style.paddingLeft="0px";$prevButton$$.style.paddingRight="0px";$toolbar$$.appendChild($pageInfo$$);var $nextButton$$=$addButton$$(mxUtils.bind(this,function(){this.selectPage(this.currentPage+1)}),Editor.nextImage,mxResources.get("nextPage")||"Next Page");$nextButton$$.style.paddingLeft="0px";$nextButton$$.style.paddingRight="0px";$def_token$jscomp$3_update$$=mxUtils.bind(this,function(){$pageInfo$$.innerHTML="";mxUtils.write($pageInfo$$,
this.currentPage+1+" / "+this.diagrams.length);$pageInfo$$.style.display=1<this.diagrams.length?"inline-block":"none";$prevButton$$.style.display=$pageInfo$$.style.display;$nextButton$$.style.display=$pageInfo$$.style.display});this.addListener("graphChanged",$def_token$jscomp$3_update$$);$def_token$jscomp$3_update$$()}else if("zoom"==$def_token$jscomp$3_update$$)this.zoomEnabled&&($addButton$$(mxUtils.bind(this,function(){this.graph.zoomOut()}),Editor.zoomOutImage,mxResources.get("zoomOut")||"Zoom Out"),
$addButton$$(mxUtils.bind(this,function(){this.graph.zoomIn()}),Editor.zoomInImage,mxResources.get("zoomIn")||"Zoom In"),$addButton$$(mxUtils.bind(this,function(){this.graph.view.scaleAndTranslate(this.graph.initialViewState.scale,this.graph.initialViewState.translate.x,this.graph.initialViewState.translate.y)}),Editor.zoomFitImage,mxResources.get("fit")||"Fit"));else if("layers"==$def_token$jscomp$3_update$$){if(this.layersEnabled){var $model$$=this.graph.getModel(),$layersButton$$=$addButton$$(mxUtils.bind(this,
function($evt$jscomp$254_r$$){if(null!=$layersDialog$$)$layersDialog$$.parentNode.removeChild($layersDialog$$),$layersDialog$$=null;else{$layersDialog$$=this.graph.createLayersDialog();mxEvent.addListener($layersDialog$$,"mouseleave",function(){$layersDialog$$.parentNode.removeChild($layersDialog$$);$layersDialog$$=null});$evt$jscomp$254_r$$=$layersButton$$.getBoundingClientRect();$layersDialog$$.style.width="140px";$layersDialog$$.style.padding="2px 0px 2px 0px";$layersDialog$$.style.border="1px solid #d0d0d0";
$layersDialog$$.style.backgroundColor="#eee";$layersDialog$$.style.fontFamily="Helvetica Neue,Helvetica,Arial Unicode MS,Arial";$layersDialog$$.style.fontSize="11px";$layersDialog$$.style.zIndex=this.toolbarZIndex+1;mxUtils.setOpacity($layersDialog$$,80);var $origin$$=mxUtils.getDocumentScrollOrigin(document);$layersDialog$$.style.left=$origin$$.x+$evt$jscomp$254_r$$.left+"px";$layersDialog$$.style.top=$origin$$.y+$evt$jscomp$254_r$$.bottom+"px";document.body.appendChild($layersDialog$$)}}),Editor.layersImage,
mxResources.get("layers")||"Layers");$model$$.addListener(mxEvent.CHANGE,function(){$layersButton$$.style.display=1<$model$$.getChildCount($model$$.root)?"inline-block":"none"});$layersButton$$.style.display=1<$model$$.getChildCount($model$$.root)?"inline-block":"none"}}else"lightbox"==$def_token$jscomp$3_update$$?this.lightboxEnabled&&$addButton$$(mxUtils.bind(this,function(){this.showLightbox()}),Editor.maximizeImage,mxResources.get("show")||"Show"):null!=this.graphConfig["toolbar-buttons"]&&($def_token$jscomp$3_update$$=
this.graphConfig["toolbar-buttons"][$def_token$jscomp$3_update$$],null!=$def_token$jscomp$3_update$$&&$addButton$$(null==$def_token$jscomp$3_update$$.enabled||$def_token$jscomp$3_update$$.enabled?$def_token$jscomp$3_update$$.handler:function(){},$def_token$jscomp$3_update$$.image,$def_token$jscomp$3_update$$.title,$def_token$jscomp$3_update$$.enabled))}null!=this.graph.minimumContainerSize&&(this.graph.minimumContainerSize.width=34*$buttonCount$$);null!=this.graphConfig.title&&($enter_filename$jscomp$24_tokens$$=
$container$$.ownerDocument.createElement("div"),$enter_filename$jscomp$24_tokens$$.style.cssText="display:inline-block;position:relative;padding:3px 6px 0 6px;vertical-align:top;font-family:Helvetica,Arial;font-size:12px;top:4px;cursor:default;",$enter_filename$jscomp$24_tokens$$.setAttribute("title",this.graphConfig.title),mxUtils.write($enter_filename$jscomp$24_tokens$$,this.graphConfig.title),mxUtils.setOpacity($enter_filename$jscomp$24_tokens$$,70),$toolbar$$.appendChild($enter_filename$jscomp$24_tokens$$));
this.minToolbarWidth=34*$buttonCount$$;var $prevBorder$$=$container$$.style.border,$enter_filename$jscomp$24_tokens$$=mxUtils.bind(this,function(){$toolbar$$.style.width="inline"==this.graphConfig["toolbar-position"]?"auto":Math.max(this.minToolbarWidth,$container$$.offsetWidth)+"px";$toolbar$$.style.border="1px solid #d0d0d0";if(1!=this.graphConfig["toolbar-nohide"]){var $r$$=$container$$.getBoundingClientRect(),$b$jscomp$15_origin$$=mxUtils.getScrollOrigin(document.body),$b$jscomp$15_origin$$="relative"===
document.body.style.position?document.body.getBoundingClientRect():{left:-$b$jscomp$15_origin$$.x,top:-$b$jscomp$15_origin$$.y},$r$$={left:$r$$.left-$b$jscomp$15_origin$$.left,top:$r$$.top-$b$jscomp$15_origin$$.top,bottom:$r$$.bottom-$b$jscomp$15_origin$$.top,right:$r$$.right-$b$jscomp$15_origin$$.left};$toolbar$$.style.left=$r$$.left+"px";"bottom"==this.graphConfig["toolbar-position"]?$toolbar$$.style.top=$r$$.bottom-1+"px":"inline"!=this.graphConfig["toolbar-position"]?($toolbar$$.style.marginTop=
-this.toolbarHeight+"px",$toolbar$$.style.top=$r$$.top+1+"px"):$toolbar$$.style.top=$r$$.top+"px";"1px solid transparent"==$prevBorder$$&&($container$$.style.border="1px solid #d0d0d0");document.body.appendChild($toolbar$$);var $hideToolbar$$=mxUtils.bind(this,function(){null!=$toolbar$$.parentNode&&$toolbar$$.parentNode.removeChild($toolbar$$);null!=$layersDialog$$&&($layersDialog$$.parentNode.removeChild($layersDialog$$),$layersDialog$$=null);$container$$.style.border=$prevBorder$$});mxEvent.addListener(document,
"mousemove",function($evt$jscomp$255_source$$){for($evt$jscomp$255_source$$=mxEvent.getSource($evt$jscomp$255_source$$);null!=$evt$jscomp$255_source$$;){if($evt$jscomp$255_source$$==$container$$||$evt$jscomp$255_source$$==$toolbar$$||$evt$jscomp$255_source$$==$layersDialog$$)return;$evt$jscomp$255_source$$=$evt$jscomp$255_source$$.parentNode}$hideToolbar$$()});mxEvent.addListener(document,"mouseleave",function($evt$$){$hideToolbar$$()})}else $toolbar$$.style.top=-this.toolbarHeight+"px",$container$$.appendChild($toolbar$$)});
1!=this.graphConfig["toolbar-nohide"]?mxEvent.addListener($container$$,"mouseenter",$enter_filename$jscomp$24_tokens$$):$enter_filename$jscomp$24_tokens$$()};
GraphViewer.prototype.addClickHandler=function $GraphViewer$$addClickHandler$($graph$$,$ui$$){$graph$$.linkPolicy=this.graphConfig.target||$graph$$.linkPolicy;$graph$$.addClickHandler(this.graphConfig.highlight,mxUtils.bind(this,function($evt$$,$href$$){if(null==$href$$){var $source$$=mxEvent.getSource($evt$$);"a"==$source$$.nodeName.toLowerCase()&&($href$$=$source$$.getAttribute("href"))}null!=$ui$$?null==$href$$||$graph$$.isExternalProtocol($href$$)||$graph$$.isBlankLink($href$$)||window.setTimeout(function(){$ui$$.destroy()},
0):null!=$href$$&&null==$ui$$&&$graph$$.isCustomLink($href$$)&&(mxEvent.isTouchEvent($evt$$)||!mxEvent.isPopupTrigger($evt$$))&&$graph$$.customLinkClicked($href$$)&&mxEvent.consume($evt$$)}),mxUtils.bind(this,function($evt$$){null!=$ui$$||!this.lightboxClickEnabled||mxEvent.isTouchEvent($evt$$)&&0!=this.toolbarItems.length||this.showLightbox()}))};
GraphViewer.prototype.showLightbox=function $GraphViewer$$showLightbox$($domain$jscomp$2_editable$$,$closable$$,$param$jscomp$4_target$$){if("open"==this.graphConfig.lightbox||window.self!==window.top)if(null==this.lightboxWindow||this.lightboxWindow.closed){$domain$jscomp$2_editable$$=null!=$domain$jscomp$2_editable$$?$domain$jscomp$2_editable$$:null!=this.graphConfig.editable?this.graphConfig.editable:!0;$param$jscomp$4_target$$={client:1,lightbox:1,target:null!=$param$jscomp$4_target$$?$param$jscomp$4_target$$:
"blank"};$domain$jscomp$2_editable$$&&($param$jscomp$4_target$$.edit=this.graphConfig.edit||"_blank");if(null!=$closable$$?$closable$$:1)$param$jscomp$4_target$$.close=1;this.layersEnabled&&($param$jscomp$4_target$$.layers=1);null!=this.graphConfig&&0!=this.graphConfig.nav&&($param$jscomp$4_target$$.nav=1);null!=this.graphConfig&&null!=this.graphConfig.highlight&&($param$jscomp$4_target$$.highlight=this.graphConfig.highlight.substring(1));null!=this.currentPage&&0<this.currentPage&&($param$jscomp$4_target$$.page=
this.currentPage);"undefined"!==typeof window.postMessage&&(null==document.documentMode||10<=document.documentMode)?null==this.lightboxWindow&&mxEvent.addListener(window,"message",mxUtils.bind(this,function($evt$$){"ready"==$evt$$.data&&$evt$$.source==this.lightboxWindow&&this.lightboxWindow.postMessage(this.xml,"*")})):$param$jscomp$4_target$$.data=encodeURIComponent(this.xml);$domain$jscomp$2_editable$$="www.draw.io";"1"==urlParams.dev&&($param$jscomp$4_target$$.dev="1",$param$jscomp$4_target$$.drawdev=
"1",$domain$jscomp$2_editable$$="test.draw.io");this.lightboxWindow=window.open("https://"+$domain$jscomp$2_editable$$+"/#P"+encodeURIComponent(JSON.stringify($param$jscomp$4_target$$)))}else this.lightboxWindow.focus();else this.showLocalLightbox()};
GraphViewer.prototype.showLocalLightbox=function $GraphViewer$$showLocalLightbox$(){var $origin$$=mxUtils.getDocumentScrollOrigin(document),$backdrop$$=document.createElement("div");mxClient.IS_QUIRKS?($backdrop$$.style.position="absolute",$backdrop$$.style.left=$origin$$.x+"px",$backdrop$$.style.top=$origin$$.y+"px",$backdrop$$.style.width=document.body.offsetWidth+"px",$backdrop$$.style.height=document.body.offsetHeight+"px"):$backdrop$$.style.cssText="position:fixed;top:0;left:0;bottom:0;right:0;";
$backdrop$$.style.zIndex=this.lightboxZIndex;$backdrop$$.style.backgroundColor="#000000";mxUtils.setOpacity($backdrop$$,70);document.body.appendChild($backdrop$$);var $closeImg$$=document.createElement("img");$closeImg$$.setAttribute("border","0");$closeImg$$.setAttribute("src",Editor.closeImage);mxClient.IS_QUIRKS?($closeImg$$.style.position="absolute",$closeImg$$.style.right="32px",$closeImg$$.style.top=$origin$$.y+32+"px"):$closeImg$$.style.cssText="position:fixed;top:32px;right:32px;";$closeImg$$.style.cursor=
"pointer";mxEvent.addListener($closeImg$$,"click",function(){$ui$$.destroy()});urlParams.pages="1";urlParams.page=this.currentPage;urlParams.nav=0!=this.graphConfig.nav?"1":"0";urlParams.layers=this.layersEnabled?"1":"0";if(null==document.documentMode||10<=document.documentMode)Editor.prototype.editButtonLink=this.graphConfig.edit,Editor.prototype.editButtonFunc=this.graphConfig.editFunc;EditorUi.prototype.updateActionStates=function $EditorUi$$updateActionStates$(){};EditorUi.prototype.addBeforeUnloadListener=
function $EditorUi$$addBeforeUnloadListener$(){};EditorUi.prototype.addChromelessClickHandler=function $EditorUi$$addChromelessClickHandler$(){};Graph.prototype.shadowId="lightboxDropShadow";var $ui$$=new EditorUi(new Editor(!0),document.createElement("div"),!0);$ui$$.editor.editBlankUrl=this.editBlankUrl;Graph.prototype.shadowId="dropShadow";$ui$$.refresh=function $$ui$$$refresh$(){};var $keydownHandler$$=mxUtils.bind(this,function($evt$$){27==$evt$$.keyCode&&$ui$$.destroy()}),$destroy$$=$ui$$.destroy;
$ui$$.destroy=function $$ui$$$destroy$(){mxEvent.removeListener(document.documentElement,"keydown",$keydownHandler$$);document.body.removeChild($backdrop$$);document.body.removeChild($closeImg$$);document.body.style.overflow="auto";GraphViewer.resizeSensorEnabled=!0;$destroy$$.apply(this,arguments)};var $graph$jscomp$0$$=$ui$$.editor.graph,$lightbox$$=$graph$jscomp$0$$.container;$lightbox$$.style.overflow="hidden";this.lightboxChrome?($lightbox$$.style.border="1px solid #c0c0c0",$lightbox$$.style.margin=
"40px",mxEvent.addListener(document.documentElement,"keydown",$keydownHandler$$)):($backdrop$$.style.display="none",$closeImg$$.style.display="none");var $self$$=this;$graph$jscomp$0$$.getImageFromBundles=function $$graph$jscomp$0$$$getImageFromBundles$($key$$){return $self$$.getImageUrl($key$$)};var $uiCreateTemporaryGraph$$=$ui$$.createTemporaryGraph;$ui$$.createTemporaryGraph=function $$ui$$$createTemporaryGraph$(){var $graph$$=$uiCreateTemporaryGraph$$.apply(this,arguments);$graph$$.getImageFromBundles=
function $$graph$$$getImageFromBundles$($key$$){return $self$$.getImageUrl($key$$)};return $graph$$};this.graphConfig.move&&($graph$jscomp$0$$.isMoveCellsEvent=function $$graph$jscomp$0$$$isMoveCellsEvent$($evt$$){return!0});mxClient.IS_QUIRKS||(mxUtils.setPrefixedStyle($lightbox$$.style,"border-radius","4px"),$lightbox$$.style.position="fixed");GraphViewer.resizeSensorEnabled=!1;document.body.style.overflow="hidden";mxClient.IS_SF||mxClient.IS_EDGE||(mxUtils.setPrefixedStyle($lightbox$$.style,"transform",
"rotateY(90deg)"),mxUtils.setPrefixedStyle($lightbox$$.style,"transition","all .25s ease-in-out"));this.addClickHandler($graph$jscomp$0$$,$ui$$);window.setTimeout(mxUtils.bind(this,function(){$lightbox$$.style.outline="none";$lightbox$$.style.zIndex=this.lightboxZIndex;$closeImg$$.style.zIndex=this.lightboxZIndex;document.body.appendChild($lightbox$$);document.body.appendChild($closeImg$$);$ui$$.setFileData(this.xml);mxUtils.setPrefixedStyle($lightbox$$.style,"transform","rotateY(0deg)");$ui$$.chromelessToolbar.style.bottom=
"60px";$ui$$.chromelessToolbar.style.zIndex=this.lightboxZIndex;document.body.appendChild($ui$$.chromelessToolbar);$ui$$.getEditBlankXml=mxUtils.bind(this,function(){return this.xml});mxClient.IS_QUIRKS&&($lightbox$$.style.position="absolute",$lightbox$$.style.display="block",$lightbox$$.style.left=$origin$$.x+"px",$lightbox$$.style.top=$origin$$.y+"px",$lightbox$$.style.width=document.body.clientWidth-80+"px",$lightbox$$.style.height=document.body.clientHeight-80+"px",$lightbox$$.style.backgroundColor=
"white",$ui$$.chromelessToolbar.style.display="block",$ui$$.chromelessToolbar.style.position="absolute",$ui$$.chromelessToolbar.style.bottom="",$ui$$.chromelessToolbar.style.top=$origin$$.y+document.body.clientHeight-100+"px");$ui$$.lightboxFit();$ui$$.chromelessResize();this.showLayers($graph$jscomp$0$$,this.graph);mxEvent.addListener($backdrop$$,"click",function(){$ui$$.destroy()})}),0);return $ui$$};
GraphViewer.processElements=function $GraphViewer$processElements$($classname$$){mxUtils.forEach(GraphViewer.getElementsByClassName($classname$$||"mxgraph"),function($div$$){try{$div$$.innerHTML="",GraphViewer.createViewerForElement($div$$)}catch($e$$){throw $div$$.innerHTML=$e$$.message,$e$$;}})};
GraphViewer.getElementsByClassName=function $GraphViewer$getElementsByClassName$($classname$jscomp$2_result$$){if(document.getElementsByClassName){var $divs$$=document.getElementsByClassName($classname$jscomp$2_result$$);$classname$jscomp$2_result$$=[];for(var $i$$=0;$i$$<$divs$$.length;$i$$++)$classname$jscomp$2_result$$.push($divs$$[$i$$]);return $classname$jscomp$2_result$$}for(var $tmp$$=document.getElementsByTagName("*"),$divs$$=[],$i$$=0;$i$$<$tmp$$.length;$i$$++){var $cls_tokens$$=$tmp$$[$i$$].className;
null!=$cls_tokens$$&&0<$cls_tokens$$.length&&($cls_tokens$$=$cls_tokens$$.split(" "),0<=mxUtils.indexOf($cls_tokens$$,$classname$jscomp$2_result$$)&&$divs$$.push($tmp$$[$i$$]))}return $divs$$};
GraphViewer.createViewerForElement=function $GraphViewer$createViewerForElement$($element$$,$callback$$){var $data$$=$element$$.getAttribute("data-mxgraph");if(null!=$data$$){var $config$$=JSON.parse($data$$),$createViewer$$=function $$createViewer$$$($viewer_xml$jscomp$38_xmlDoc$$){$viewer_xml$jscomp$38_xmlDoc$$=mxUtils.parseXml($viewer_xml$jscomp$38_xmlDoc$$);$viewer_xml$jscomp$38_xmlDoc$$=new GraphViewer($element$$,$viewer_xml$jscomp$38_xmlDoc$$.documentElement,$config$$);null!=$callback$$&&$callback$$($viewer_xml$jscomp$38_xmlDoc$$)};
null!=$config$$.url?GraphViewer.getUrl($config$$.url,function($xml$$){$createViewer$$($xml$$)}):$createViewer$$($config$$.xml)}};
GraphViewer.initCss=function $GraphViewer$initCss$(){try{var $style$$=document.createElement("style");$style$$.type="text/css";$style$$.innerHTML="div.mxTooltip {\n-webkit-box-shadow: 3px 3px 12px #C0C0C0;\n-moz-box-shadow: 3px 3px 12px #C0C0C0;\nbox-shadow: 3px 3px 12px #C0C0C0;\nbackground: #FFFFCC;\nborder-style: solid;\nborder-width: 1px;\nborder-color: black;\nfont-family: Arial;\nfont-size: 8pt;\nposition: absolute;\ncursor: default;\npadding: 4px;\ncolor: black;}\ntd.mxPopupMenuIcon div {\nwidth:16px;\nheight:16px;}\nhtml div.mxPopupMenu {\n-webkit-box-shadow:2px 2px 3px #d5d5d5;\n-moz-box-shadow:2px 2px 3px #d5d5d5;\nbox-shadow:2px 2px 3px #d5d5d5;\n_filter:progid:DXImageTransform.Microsoft.DropShadow(OffX=2, OffY=2, Color='#d0d0d0',Positive='true');\nbackground:white;\nposition:absolute;\nborder:3px solid #e7e7e7;\npadding:3px;}\nhtml table.mxPopupMenu {\nborder-collapse:collapse;\nmargin:0px;}\nhtml td.mxPopupMenuItem {\npadding:7px 30px 7px 30px;\nfont-family:Helvetica Neue,Helvetica,Arial Unicode MS,Arial;\nfont-size:10pt;}\nhtml td.mxPopupMenuIcon {\nbackground-color:white;\npadding:0px;}\ntd.mxPopupMenuIcon .geIcon {\npadding:2px;\npadding-bottom:4px;\nmargin:2px;\nborder:1px solid transparent;\nopacity:0.5;\n_width:26px;\n_height:26px;}\ntd.mxPopupMenuIcon .geIcon:hover {\nborder:1px solid gray;\nborder-radius:2px;\nopacity:1;}\nhtml tr.mxPopupMenuItemHover {\nbackground-color: #eeeeee;\ncolor: black;}\ntable.mxPopupMenu hr {\ncolor:#cccccc;\nbackground-color:#cccccc;\nborder:none;\nheight:1px;}\ntable.mxPopupMenu tr {\tfont-size:4pt;}\n.geDialog { font-family:Helvetica Neue,Helvetica,Arial Unicode MS,Arial;\nfont-size:10pt;\nborder:none;\nmargin:0px;}\n.geDialog {\tposition:absolute;\tbackground:white;\toverflow:hidden;\tpadding:30px;\tborder:1px solid #acacac;\t-webkit-box-shadow:0px 0px 2px 2px #d5d5d5;\t-moz-box-shadow:0px 0px 2px 2px #d5d5d5;\tbox-shadow:0px 0px 2px 2px #d5d5d5;\t_filter:progid:DXImageTransform.Microsoft.DropShadow(OffX=2, OffY=2, Color='#d5d5d5', Positive='true');\tz-index: 2;}.geDialogClose {\tposition:absolute;\twidth:9px;\theight:9px;\topacity:0.5;\tcursor:pointer;\t_filter:alpha(opacity=50);}.geDialogClose:hover {\topacity:1;}.geDialogTitle {\tbox-sizing:border-box;\twhite-space:nowrap;\tbackground:rgb(229, 229, 229);\tborder-bottom:1px solid rgb(192, 192, 192);\tfont-size:15px;\tfont-weight:bold;\ttext-align:center;\tcolor:rgb(35, 86, 149);}.geDialogFooter {\tbackground:whiteSmoke;\twhite-space:nowrap;\ttext-align:right;\tbox-sizing:border-box;\tborder-top:1px solid #e5e5e5;\tcolor:darkGray;}\n.geBtn {\tbackground-color: #f5f5f5;\tborder-radius: 2px;\tborder: 1px solid #d8d8d8;\tcolor: #333;\tcursor: default;\tfont-size: 11px;\tfont-weight: bold;\theight: 29px;\tline-height: 27px;\tmargin: 0 0 0 8px;\tmin-width: 72px;\toutline: 0;\tpadding: 0 8px;\tcursor: pointer;}.geBtn:hover, .geBtn:focus {\t-webkit-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);\t-moz-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);\tbox-shadow: 0px 1px 1px rgba(0,0,0,0.1);\tborder: 1px solid #c6c6c6;\tbackground-color: #f8f8f8;\tbackground-image: linear-gradient(#f8f8f8 0px,#f1f1f1 100%);\tcolor: #111;}.geBtn:disabled {\topacity: .5;}.gePrimaryBtn {\tbackground-color: #4d90fe;\tbackground-image: linear-gradient(#4d90fe 0px,#4787ed 100%);\tborder: 1px solid #3079ed;\tcolor: #fff;}.gePrimaryBtn:hover, .gePrimaryBtn:focus {\tbackground-color: #357ae8;\tbackground-image: linear-gradient(#4d90fe 0px,#357ae8 100%);\tborder: 1px solid #2f5bb7;\tcolor: #fff;}.gePrimaryBtn:disabled {\topacity: .5;}";document.getElementsByTagName("head")[0].appendChild($style$$)}catch($e$$){}};
GraphViewer.cachedUrls={};GraphViewer.getUrl=function $GraphViewer$getUrl$($url$$,$onload$$,$onerror$$){if(null!=GraphViewer.cachedUrls[$url$$])$onload$$(GraphViewer.cachedUrls[$url$$]);else{var $xhr$$=0<navigator.userAgent.indexOf("MSIE 9")?new XDomainRequest:new XMLHttpRequest;$xhr$$.open("GET",$url$$);$xhr$$.onload=function $$xhr$$$onload$(){$onload$$(null!=$xhr$$.getText?$xhr$$.getText():$xhr$$.responseText)};$xhr$$.onerror=$onerror$$;$xhr$$.send()}};GraphViewer.resizeSensorEnabled=!0;
GraphViewer.useResizeSensor=!0;
(function(){var $requestAnimationFrame$$=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function($fn$$){return window.setTimeout($fn$$,20)},$ResizeSensor$$=function $$ResizeSensor$$$($element$jscomp$0$$,$fn$$){function $EventQueue$$(){this.q=[];this.add=function $this$add$($ev$$){this.q.push($ev$$)};var $i$$,$j$$;this.call=function $this$call$(){$i$$=0;for($j$$=this.q.length;$i$$<$j$$;$i$$++)this.q[$i$$].call()}}function $getComputedStyle$$($element$$,$prop$$){return $element$$.currentStyle?
$element$$.currentStyle[$prop$$]:window.getComputedStyle?window.getComputedStyle($element$$,null).getPropertyValue($prop$$):$element$$.style[$prop$$]}function $attachResizeEvent$$($element$$,$resized$$){if(!$element$$.resizedAttached)$element$$.resizedAttached=new $EventQueue$$,$element$$.resizedAttached.add($resized$$);else if($element$$.resizedAttached){$element$$.resizedAttached.add($resized$$);return}$element$$.resizeSensor=document.createElement("div");$element$$.resizeSensor.className="resize-sensor";
$element$$.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";$element$$.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
$element$$.appendChild($element$$.resizeSensor);"static"==$getComputedStyle$$($element$$,"position")&&($element$$.style.position="relative");var $expand$$=$element$$.resizeSensor.childNodes[0],$expandChild$$=$expand$$.childNodes[0],$shrink$$=$element$$.resizeSensor.childNodes[1],$reset$$=function $$reset$$$(){$expandChild$$.style.width="100000px";$expandChild$$.style.height="100000px";$expand$$.scrollLeft=1E5;$expand$$.scrollTop=1E5;$shrink$$.scrollLeft=1E5;$shrink$$.scrollTop=1E5};$reset$$();var $dirty$$=
!1,$dirtyChecking$$=function $$dirtyChecking$$$(){$element$$.resizedAttached&&($dirty$$&&($element$$.resizedAttached.call(),$dirty$$=!1),$requestAnimationFrame$$($dirtyChecking$$))};$requestAnimationFrame$$($dirtyChecking$$);var $lastWidth$$,$lastHeight$$,$cachedWidth$$,$cachedHeight$$,$onScroll$$=function $$onScroll$$$(){if(($cachedWidth$$=$element$$.offsetWidth)!=$lastWidth$$||($cachedHeight$$=$element$$.offsetHeight)!=$lastHeight$$)$dirty$$=!0,$lastWidth$$=$cachedWidth$$,$lastHeight$$=$cachedHeight$$;
$reset$$()},$addEvent$$=function $$addEvent$$$($el$$,$name$$,$cb$$){$el$$.attachEvent?$el$$.attachEvent("on"+$name$$,$cb$$):$el$$.addEventListener($name$$,$cb$$)};$addEvent$$($expand$$,"scroll",$onScroll$$);$addEvent$$($shrink$$,"scroll",$onScroll$$)}var $callback$$=function $$callback$$$(){GraphViewer.resizeSensorEnabled&&$fn$$()},$elementType_i$$=Object.prototype.toString.call($element$jscomp$0$$),$isCollectionTyped$$="[object Array]"===$elementType_i$$||"[object NodeList]"===$elementType_i$$||
"[object HTMLCollection]"===$elementType_i$$||"undefined"!==typeof jQuery&&$element$jscomp$0$$ instanceof jQuery||"undefined"!==typeof Elements&&$element$jscomp$0$$ instanceof Elements;if($isCollectionTyped$$)for(var $elementType_i$$=0,$j$jscomp$0$$=$element$jscomp$0$$.length;$elementType_i$$<$j$jscomp$0$$;$elementType_i$$++)$attachResizeEvent$$($element$jscomp$0$$[$elementType_i$$],$callback$$);else $attachResizeEvent$$($element$jscomp$0$$,$callback$$);this.detach=function $this$detach$(){if($isCollectionTyped$$)for(var $i$$=
0,$j$$=$element$jscomp$0$$.length;$i$$<$j$$;$i$$++)$ResizeSensor$$.detach($element$jscomp$0$$[$i$$]);else $ResizeSensor$$.detach($element$jscomp$0$$)}};$ResizeSensor$$.detach=function $$ResizeSensor$$$detach$($element$$){$element$$.resizeSensor&&($element$$.removeChild($element$$.resizeSensor),delete $element$$.resizeSensor,delete $element$$.resizedAttached)};window.ResizeSensor=$ResizeSensor$$})();
