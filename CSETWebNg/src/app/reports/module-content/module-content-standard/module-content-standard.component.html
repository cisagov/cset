<h3><em>{{set?.setFullName}}</em></h3>

<div *ngIf="!set">
    <div class="spinner-container" style="margin: 2em auto">
        <div style="max-width: 50px; max-height: 50px;"></div>
      </div>
</div>

<div *ngFor="let cat of set?.categories">
    <div *ngFor="let subcat of cat.subcategories">
        <div *ngFor="let req of subcat.requirements" class="ml-4 mb-5">
            <h4>{{cat.categoryName}}</h4>

            <h5>{{subcat.subcategoryName}}</h5>

            <div>CSET ID: {{req.requirementID}}</div>

            <div class="color1 font-weight-bold mt-2">{{req.title}}</div>

            <div [innerHTML]="req.requirementText" class="mb-4"></div>

            <div class="mb-3 p-3" style="border-radius: .3rem; border: 1px solid #ddd">
                <div class="color1 mb-2">
                    <strong><em>Guidance</em></strong>
                    <svg x="0px" y="0px" style="height: 20px; width: 20px; margin-left: .5rem;" viewBox="0 0 120 120">
                        <circle fill="#044" cx="60" cy="60" r="53" />
                        <g>
                            <path fill="#FFFFFF" d="M81.174,83.004c-2.611,1.258-5.479,2.238-8.598,2.938c-3.121,0.701-6.713,1.053-10.777,1.053
                                c-4.161,0-7.958-0.666-11.393-1.996c-3.436-1.33-6.386-3.193-8.853-5.588c-2.468-2.395-4.391-5.248-5.77-8.562
                                c-1.379-3.313-2.068-6.978-2.068-10.994c0-4.111,0.714-7.825,2.141-11.139c1.427-3.313,3.386-6.132,5.878-8.454
                                c2.491-2.322,5.431-4.112,8.817-5.37c3.386-1.257,7.062-1.887,11.031-1.887c4.111,0,7.873,0.593,11.283,1.778
                                c3.412,1.186,6.156,2.746,8.236,4.681l-6.312,6.821c-1.307-1.452-3.133-2.685-5.479-3.701c-2.348-1.016-4.898-1.524-7.656-1.524
                                c-2.709,0-5.166,0.484-7.366,1.452c-2.202,0.968-4.076,2.298-5.624,3.991c-1.549,1.694-2.746,3.677-3.592,5.95
                                c-0.848,2.274-1.271,4.742-1.271,7.402c0,2.758,0.423,5.286,1.271,7.583c0.846,2.299,2.056,4.294,3.628,5.987
                                c1.571,1.693,3.483,3.012,5.732,3.955c2.25,0.943,4.801,1.415,7.657,1.415c3.918,0,7.328-0.604,10.232-1.814V63.918H61.51v-7.546
                                h19.664V83.004z" />
                        </g>
                    </svg>
                </div>
                <div *ngIf="!!req.supplementalInfo && req.supplementalInfo.length > 0"
                    [innerHTML]="req.supplementalInfo" class="mb-4"></div>

                <div *ngIf="!req.supplementalInfo || req.supplementalInfo.length === 0" class="mb-4"
                    style="font-style: italic">
                    (No guidance defined)
                </div>
            </div>

            <div class="mb-3 p-3" style="border-radius: .3rem; border: 1px solid #ddd">
                <div class="color1 mb-2">
                    <strong><em>References</em></strong>
                    <svg viewBox="0 0 30 30" style="height: 20px; width: 20px; margin-left: .5rem;">
                        <path fill="#044" stroke="transparent" stroke-width="0" transform="scale(.4)"
                            d="M27,20.681L20,20.681 20,4.681 27,4.681z M17,60.681L30,60.681 30,0.681 17,0.681z M45.974,20.131L39.182,21.827 35.307,6.303 42.098,4.607z M31.427,3.149L45.96,61.362 58.573,58.213 44.039,0z M10,20.681L3,20.681 3,4.681 10,4.681z M0,60.681L13,60.681 13,0.681 0,0.681z" />
                    </svg>
                </div>

                <div *ngIf="req.sourceDocs.length > 0">
                    <strong>Source Documents</strong>
                    <table class="resource-table">
                        <tr *ngFor="let d of req.sourceDocs">
                            <td>
                                {{d.title}}
                            </td>
                            <td class="section-ref">
                                {{d.sectionRef}}
                            </td>
                        </tr>
                    </table>
                </div>

                <div *ngIf="req.resourceDocs.length > 0">
                    <strong>Resource Documents</strong>
                    <table class="resource-table">
                        <tr *ngFor="let d of req.resourceDocs">
                            <td>
                                {{d.title}}
                            </td>
                            <td class="section-ref">
                                {{d.sectionRef}}
                            </td>
                        </tr>
                    </table>
                </div>

                <div style="font-style: italic" *ngIf="req.sourceDocs.length === 0 && req.resourceDocs.length === 0">
                    (No references defined)
                </div>
            </div>
        </div>
    </div>
</div>